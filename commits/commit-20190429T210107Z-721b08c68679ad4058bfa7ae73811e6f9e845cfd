{
  "sha": "721b08c68679ad4058bfa7ae73811e6f9e845cfd",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NzIxYjA4YzY4Njc5YWQ0MDU4YmZhN2FlNzM4MTFlNmY5ZTg0NWNmZA==",
  "commit": {
    "author": {
      "name": "Andrew Burgess",
      "email": "andrew.burgess@embecosm.com",
      "date": "2019-03-26T19:34:06Z"
    },
    "committer": {
      "name": "Andrew Burgess",
      "email": "andrew.burgess@embecosm.com",
      "date": "2019-04-29T21:01:07Z"
    },
    "message": "gdb: Introduce new language field la_struct_too_deep_ellipsis\n\nThis commit is preparation work for a later commit, and by itself\nmakes no user visible change to GDB.  I've split this work into a\nseparate commit in order to make code review easier.\n\nThis commit adds a new field 'la_struct_too_deep_ellipsis' to the\nlanguage struct, this string will be used in the next commit to print\na language specific string from within the generic value printing\ncode.\n\nIn this commit I add the new field and initialise it for each\nlanguage, however at this stage the new field is never used.\n\ngdb/ChangeLog:\n\n\t* language.h (struct language_defn) <la_struct_too_deep_ellipsis>:\n\tNew field.\n\t* ada-lang.c (ada_language_defn): Initialise new field.\n\t* c-lang.c (c_language_defn): Likewise.\n\t(cplus_language_defn): Likewise.\n\t(asm_language_defn): Likewise.\n\t(minimal_language_defn): Likewise.\n\t* d-lang.c (d_language_defn): Likewise.\n\t* f-lang.c (f_language_defn): Likewise.\n\t* go-lang.c (go_language_defn): Likewise.\n\t* language.c (unknown_language_defn): Likewise.\n\t(auto_language_defn): Likewise.\n\t* m2-lang.c (m2_language_defn): Likewise.\n\t* objc-lang.c (objc_language_defn): Likewise.\n\t* opencl-lang.c (opencl_language_defn): Likewise.\n\t* p-lang.c (pascal_language_defn): Likewise.\n\t* rust-lang.c (rust_language_defn): Likewise.",
    "tree": {
      "sha": "bf70fdf2b5660bca12c0b4574df9f928fa50616f",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/bf70fdf2b5660bca12c0b4574df9f928fa50616f"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/721b08c68679ad4058bfa7ae73811e6f9e845cfd",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/721b08c68679ad4058bfa7ae73811e6f9e845cfd",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/721b08c68679ad4058bfa7ae73811e6f9e845cfd",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/721b08c68679ad4058bfa7ae73811e6f9e845cfd/comments",
  "author": {
    "login": "T-J-Teru",
    "id": 475372,
    "node_id": "MDQ6VXNlcjQ3NTM3Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/475372?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/T-J-Teru",
    "html_url": "https://github.com/T-J-Teru",
    "followers_url": "https://api.github.com/users/T-J-Teru/followers",
    "following_url": "https://api.github.com/users/T-J-Teru/following{/other_user}",
    "gists_url": "https://api.github.com/users/T-J-Teru/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/T-J-Teru/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/T-J-Teru/subscriptions",
    "organizations_url": "https://api.github.com/users/T-J-Teru/orgs",
    "repos_url": "https://api.github.com/users/T-J-Teru/repos",
    "events_url": "https://api.github.com/users/T-J-Teru/events{/privacy}",
    "received_events_url": "https://api.github.com/users/T-J-Teru/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "T-J-Teru",
    "id": 475372,
    "node_id": "MDQ6VXNlcjQ3NTM3Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/475372?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/T-J-Teru",
    "html_url": "https://github.com/T-J-Teru",
    "followers_url": "https://api.github.com/users/T-J-Teru/followers",
    "following_url": "https://api.github.com/users/T-J-Teru/following{/other_user}",
    "gists_url": "https://api.github.com/users/T-J-Teru/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/T-J-Teru/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/T-J-Teru/subscriptions",
    "organizations_url": "https://api.github.com/users/T-J-Teru/orgs",
    "repos_url": "https://api.github.com/users/T-J-Teru/repos",
    "events_url": "https://api.github.com/users/T-J-Teru/events{/privacy}",
    "received_events_url": "https://api.github.com/users/T-J-Teru/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "fc913e53c353218ba1a9efa423c08767691a682a",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/fc913e53c353218ba1a9efa423c08767691a682a",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/fc913e53c353218ba1a9efa423c08767691a682a"
    }
  ],
  "stats": {
    "total": 71,
    "additions": 56,
    "deletions": 15
  },
  "files": [
    {
      "sha": "0bbe400aae322a0c2cae2521bcae3bb4c0be3fa1",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 20,
      "deletions": 0,
      "changes": 20,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/721b08c68679ad4058bfa7ae73811e6f9e845cfd/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/721b08c68679ad4058bfa7ae73811e6f9e845cfd/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=721b08c68679ad4058bfa7ae73811e6f9e845cfd",
      "patch": "@@ -1,3 +1,23 @@\n+2019-04-29  Andrew Burgess  <andrew.burgess@embecosm.com>\n+\n+\t* language.h (struct language_defn) <la_struct_too_deep_ellipsis>:\n+\tNew field.\n+\t* ada-lang.c (ada_language_defn): Initialise new field.\n+\t* c-lang.c (c_language_defn): Likewise.\n+\t(cplus_language_defn): Likewise.\n+\t(asm_language_defn): Likewise.\n+\t(minimal_language_defn): Likewise.\n+\t* d-lang.c (d_language_defn): Likewise.\n+\t* f-lang.c (f_language_defn): Likewise.\n+\t* go-lang.c (go_language_defn): Likewise.\n+\t* language.c (unknown_language_defn): Likewise.\n+\t(auto_language_defn): Likewise.\n+\t* m2-lang.c (m2_language_defn): Likewise.\n+\t* objc-lang.c (objc_language_defn): Likewise.\n+\t* opencl-lang.c (opencl_language_defn): Likewise.\n+\t* p-lang.c (pascal_language_defn): Likewise.\n+\t* rust-lang.c (rust_language_defn): Likewise.\n+\n 2019-04-29  Andrew Burgess  <andrew.burgess@embecosm.com>\n \n \t* ada-lang.c (ada_is_character_type): Change return type to bool."
    },
    {
      "sha": "4fcbce7c273581e8125f854100dcf872eb09d980",
      "filename": "gdb/ada-lang.c",
      "status": "modified",
      "additions": 2,
      "deletions": 1,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/721b08c68679ad4058bfa7ae73811e6f9e845cfd/gdb/ada-lang.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/721b08c68679ad4058bfa7ae73811e6f9e845cfd/gdb/ada-lang.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ada-lang.c?ref=721b08c68679ad4058bfa7ae73811e6f9e845cfd",
      "patch": "@@ -14389,7 +14389,8 @@ extern const struct language_defn ada_language_defn = {\n   default_search_name_hash,\n   &ada_varobj_ops,\n   NULL,\n-  NULL\n+  NULL,\n+  \"(...)\"\t\t\t/* la_struct_too_deep_ellipsis */\n };\n \n /* Command-list for the \"set/show ada\" prefix command.  */"
    },
    {
      "sha": "3be5ef57252dac0fa1bf64de6ea4e67fbd49242c",
      "filename": "gdb/c-lang.c",
      "status": "modified",
      "additions": 8,
      "deletions": 4,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/721b08c68679ad4058bfa7ae73811e6f9e845cfd/gdb/c-lang.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/721b08c68679ad4058bfa7ae73811e6f9e845cfd/gdb/c-lang.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/c-lang.c?ref=721b08c68679ad4058bfa7ae73811e6f9e845cfd",
      "patch": "@@ -873,7 +873,8 @@ extern const struct language_defn c_language_defn =\n   default_search_name_hash,\n   &c_varobj_ops,\n   c_get_compile_context,\n-  c_compute_program\n+  c_compute_program,\n+  \"{...}\"\t\t\t/* la_struct_too_deep_ellipsis */\n };\n \n enum cplus_primitive_types {\n@@ -1017,7 +1018,8 @@ extern const struct language_defn cplus_language_defn =\n   cp_search_name_hash,\n   &cplus_varobj_ops,\n   cplus_get_compile_context,\n-  cplus_compute_program\n+  cplus_compute_program,\n+  \"{...}\"\t\t\t/* la_struct_too_deep_ellipsis */\n };\n \n static const char *asm_extensions[] =\n@@ -1070,7 +1072,8 @@ extern const struct language_defn asm_language_defn =\n   default_search_name_hash,\n   &default_varobj_ops,\n   NULL,\n-  NULL\n+  NULL,\n+  \"{...}\"\t\t\t/* la_struct_too_deep_ellipsis */\n };\n \n /* The following language_defn does not represent a real language.\n@@ -1123,5 +1126,6 @@ extern const struct language_defn minimal_language_defn =\n   default_search_name_hash,\n   &default_varobj_ops,\n   NULL,\n-  NULL\n+  NULL,\n+  \"{...}\"\t\t\t/* la_struct_too_deep_ellipsis */\n };"
    },
    {
      "sha": "751c521a75d27491559be28d29572786c777e4ca",
      "filename": "gdb/d-lang.c",
      "status": "modified",
      "additions": 2,
      "deletions": 1,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/721b08c68679ad4058bfa7ae73811e6f9e845cfd/gdb/d-lang.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/721b08c68679ad4058bfa7ae73811e6f9e845cfd/gdb/d-lang.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/d-lang.c?ref=721b08c68679ad4058bfa7ae73811e6f9e845cfd",
      "patch": "@@ -250,7 +250,8 @@ extern const struct language_defn d_language_defn =\n   default_search_name_hash,\n   &default_varobj_ops,\n   NULL,\n-  NULL\n+  NULL,\n+  \"{...}\"\t\t\t/* la_struct_too_deep_ellipsis */\n };\n \n /* Build all D language types for the specified architecture.  */"
    },
    {
      "sha": "77eb50a0761f1463f907861dd90b2928ebe4bcbe",
      "filename": "gdb/f-lang.c",
      "status": "modified",
      "additions": 2,
      "deletions": 1,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/721b08c68679ad4058bfa7ae73811e6f9e845cfd/gdb/f-lang.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/721b08c68679ad4058bfa7ae73811e6f9e845cfd/gdb/f-lang.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/f-lang.c?ref=721b08c68679ad4058bfa7ae73811e6f9e845cfd",
      "patch": "@@ -377,7 +377,8 @@ extern const struct language_defn f_language_defn =\n   default_search_name_hash,\n   &default_varobj_ops,\n   NULL,\n-  NULL\n+  NULL,\n+  \"(...)\"\t\t\t/* la_struct_too_deep_ellipsis */\n };\n \n static void *"
    },
    {
      "sha": "b8617cb162daa8b32bd441f61c3528fd0fc0cfb2",
      "filename": "gdb/go-lang.c",
      "status": "modified",
      "additions": 2,
      "deletions": 1,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/721b08c68679ad4058bfa7ae73811e6f9e845cfd/gdb/go-lang.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/721b08c68679ad4058bfa7ae73811e6f9e845cfd/gdb/go-lang.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/go-lang.c?ref=721b08c68679ad4058bfa7ae73811e6f9e845cfd",
      "patch": "@@ -611,7 +611,8 @@ extern const struct language_defn go_language_defn =\n   default_search_name_hash,\n   &default_varobj_ops,\n   NULL,\n-  NULL\n+  NULL,\n+  \"{...}\"\t\t\t/* la_struct_too_deep_ellipsis */\n };\n \n static void *"
    },
    {
      "sha": "da8dd1bf7ae4b2fc31c9a078a4a2ac6d39a90812",
      "filename": "gdb/language.c",
      "status": "modified",
      "additions": 4,
      "deletions": 2,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/721b08c68679ad4058bfa7ae73811e6f9e845cfd/gdb/language.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/721b08c68679ad4058bfa7ae73811e6f9e845cfd/gdb/language.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/language.c?ref=721b08c68679ad4058bfa7ae73811e6f9e845cfd",
      "patch": "@@ -876,7 +876,8 @@ const struct language_defn unknown_language_defn =\n   default_search_name_hash,\n   &default_varobj_ops,\n   NULL,\n-  NULL\n+  NULL,\n+  \"{...}\"\t\t\t/* la_struct_too_deep_ellipsis */\n };\n \n /* These two structs define fake entries for the \"local\" and \"auto\"\n@@ -926,7 +927,8 @@ const struct language_defn auto_language_defn =\n   default_search_name_hash,\n   &default_varobj_ops,\n   NULL,\n-  NULL\n+  NULL,\n+  \"{...}\"\t\t\t/* la_struct_too_deep_ellipsis */\n };\n \n \f"
    },
    {
      "sha": "261f5a33cc75a53b076a9429a37814584a1abd22",
      "filename": "gdb/language.h",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/721b08c68679ad4058bfa7ae73811e6f9e845cfd/gdb/language.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/721b08c68679ad4058bfa7ae73811e6f9e845cfd/gdb/language.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/language.h?ref=721b08c68679ad4058bfa7ae73811e6f9e845cfd",
      "patch": "@@ -449,6 +449,12 @@ struct language_defn\n \t\t\t\t       struct gdbarch *gdbarch,\n \t\t\t\t       const struct block *expr_block,\n \t\t\t\t       CORE_ADDR expr_pc);\n+\n+    /* This string is used by the 'set print max-depth' setting.  When GDB\n+       replaces a struct or union (during value printing) that is \"too\n+       deep\" this string is displayed instead.  */\n+    const char *la_struct_too_deep_ellipsis;\n+\n   };\n \n /* Pointer to the language_defn for our current language.  This pointer"
    },
    {
      "sha": "9f2a97d54fd04e97c05f6e5aa516f90ceef38823",
      "filename": "gdb/m2-lang.c",
      "status": "modified",
      "additions": 2,
      "deletions": 1,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/721b08c68679ad4058bfa7ae73811e6f9e845cfd/gdb/m2-lang.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/721b08c68679ad4058bfa7ae73811e6f9e845cfd/gdb/m2-lang.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/m2-lang.c?ref=721b08c68679ad4058bfa7ae73811e6f9e845cfd",
      "patch": "@@ -398,7 +398,8 @@ extern const struct language_defn m2_language_defn =\n   default_search_name_hash,\n   &default_varobj_ops,\n   NULL,\n-  NULL\n+  NULL,\n+  \"{...}\"\t\t\t/* la_struct_too_deep_ellipsis */\n };\n \n static void *"
    },
    {
      "sha": "af92e55a43765b3522bcb4b40b0fb5b7ca8bbbaf",
      "filename": "gdb/objc-lang.c",
      "status": "modified",
      "additions": 2,
      "deletions": 1,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/721b08c68679ad4058bfa7ae73811e6f9e845cfd/gdb/objc-lang.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/721b08c68679ad4058bfa7ae73811e6f9e845cfd/gdb/objc-lang.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/objc-lang.c?ref=721b08c68679ad4058bfa7ae73811e6f9e845cfd",
      "patch": "@@ -408,7 +408,8 @@ extern const struct language_defn objc_language_defn = {\n   default_search_name_hash,\n   &default_varobj_ops,\n   NULL,\n-  NULL\n+  NULL,\n+  \"{...}\"\t\t\t/* la_struct_too_deep_ellipsis */\n };\n \n /*"
    },
    {
      "sha": "c95bf05a98b6e9e6c030fe5f517970f846bb1ee7",
      "filename": "gdb/opencl-lang.c",
      "status": "modified",
      "additions": 2,
      "deletions": 1,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/721b08c68679ad4058bfa7ae73811e6f9e845cfd/gdb/opencl-lang.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/721b08c68679ad4058bfa7ae73811e6f9e845cfd/gdb/opencl-lang.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/opencl-lang.c?ref=721b08c68679ad4058bfa7ae73811e6f9e845cfd",
      "patch": "@@ -1086,7 +1086,8 @@ extern const struct language_defn opencl_language_defn =\n   default_search_name_hash,\n   &default_varobj_ops,\n   NULL,\n-  NULL\n+  NULL,\n+  \"{...}\"\t\t\t/* la_struct_too_deep_ellipsis */\n };\n \n static void *"
    },
    {
      "sha": "0b85f70dfd212146524ad9af1267670552da9b80",
      "filename": "gdb/p-lang.c",
      "status": "modified",
      "additions": 2,
      "deletions": 1,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/721b08c68679ad4058bfa7ae73811e6f9e845cfd/gdb/p-lang.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/721b08c68679ad4058bfa7ae73811e6f9e845cfd/gdb/p-lang.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/p-lang.c?ref=721b08c68679ad4058bfa7ae73811e6f9e845cfd",
      "patch": "@@ -459,5 +459,6 @@ extern const struct language_defn pascal_language_defn =\n   default_search_name_hash,\n   &default_varobj_ops,\n   NULL,\n-  NULL\n+  NULL,\n+  \"{...}\"\t\t\t/* la_struct_too_deep_ellipsis */\n };"
    },
    {
      "sha": "8faafd49cddc283854fe9d6be5175f2f0329b563",
      "filename": "gdb/rust-lang.c",
      "status": "modified",
      "additions": 2,
      "deletions": 1,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/721b08c68679ad4058bfa7ae73811e6f9e845cfd/gdb/rust-lang.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/721b08c68679ad4058bfa7ae73811e6f9e845cfd/gdb/rust-lang.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/rust-lang.c?ref=721b08c68679ad4058bfa7ae73811e6f9e845cfd",
      "patch": "@@ -2141,5 +2141,6 @@ extern const struct language_defn rust_language_defn =\n   default_search_name_hash,\n   &default_varobj_ops,\n   NULL,\n-  NULL\n+  NULL,\n+  \"{...}\"\t\t\t/* la_struct_too_deep_ellipsis */\n };"
    }
  ]
}