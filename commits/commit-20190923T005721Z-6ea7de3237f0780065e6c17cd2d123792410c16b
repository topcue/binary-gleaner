{
  "sha": "6ea7de3237f0780065e6c17cd2d123792410c16b",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NmVhN2RlMzIzN2YwNzgwMDY1ZTZjMTdjZDJkMTIzNzkyNDEwYzE2Yg==",
  "commit": {
    "author": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2019-09-23T00:38:33Z"
    },
    "committer": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2019-09-23T00:57:21Z"
    },
    "message": "xcoff bfd.h tidy\n\nbfd/\n\t* bfd-in.h: Move xcoff function declarations..\n\t* xcofflink.h: ..to here, new file.\n\t* xcofflink.c: Include xcofflink.h.\n\t* coff-rs6000.c (bfd_xcoff_ar_archive_set_magic): Delete unused func.\n\t* bfd-in2.h: Regenerate.\nld/\n\t* emultempl/aix.em: Include xcofflink.h.",
    "tree": {
      "sha": "8da7d99233218e9e42c9ff5c1a438751fa553adb",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/8da7d99233218e9e42c9ff5c1a438751fa553adb"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/6ea7de3237f0780065e6c17cd2d123792410c16b",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/6ea7de3237f0780065e6c17cd2d123792410c16b",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/6ea7de3237f0780065e6c17cd2d123792410c16b",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/6ea7de3237f0780065e6c17cd2d123792410c16b/comments",
  "author": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "aa739c59d3db95d1709b0417cdf7d082bfdea911",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/aa739c59d3db95d1709b0417cdf7d082bfdea911",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/aa739c59d3db95d1709b0417cdf7d082bfdea911"
    }
  ],
  "stats": {
    "total": 125,
    "additions": 55,
    "deletions": 70
  },
  "files": [
    {
      "sha": "3d30d759a1a9e4bf69b8430945691233198df8f8",
      "filename": "bfd/ChangeLog",
      "status": "modified",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6ea7de3237f0780065e6c17cd2d123792410c16b/bfd/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6ea7de3237f0780065e6c17cd2d123792410c16b/bfd/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/ChangeLog?ref=6ea7de3237f0780065e6c17cd2d123792410c16b",
      "patch": "@@ -1,3 +1,11 @@\n+2019-09-23  Alan Modra  <amodra@gmail.com>\n+\n+\t* bfd-in.h: Move xcoff function declarations..\n+\t* xcofflink.h: ..to here, new file.\n+\t* xcofflink.c: Include xcofflink.h.\n+\t* coff-rs6000.c (bfd_xcoff_ar_archive_set_magic): Delete unused func.\n+\t* bfd-in2.h: Regenerate.\n+\n 2019-09-23  Alan Modra  <amodra@gmail.com>\n \n \t* bfd-in.h: Delete coff forward refs and move coff declaration.."
    },
    {
      "sha": "45858e08b9449bf2c060aae8b0ffb881c905beb6",
      "filename": "bfd/bfd-in.h",
      "status": "modified",
      "additions": 0,
      "deletions": 28,
      "changes": 28,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6ea7de3237f0780065e6c17cd2d123792410c16b/bfd/bfd-in.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6ea7de3237f0780065e6c17cd2d123792410c16b/bfd/bfd-in.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/bfd-in.h?ref=6ea7de3237f0780065e6c17cd2d123792410c16b",
      "patch": "@@ -725,31 +725,3 @@ extern void bfd_free_window\n   (bfd_window *);\n extern bfd_boolean bfd_get_file_window\n   (bfd *, file_ptr, bfd_size_type, bfd_window *, bfd_boolean);\n-\n-/* XCOFF support routines for the linker.  */\n-\n-extern bfd_boolean bfd_xcoff_split_import_path\n-  (bfd *, const char *, const char **, const char **);\n-extern bfd_boolean bfd_xcoff_set_archive_import_path\n-  (struct bfd_link_info *, bfd *, const char *);\n-extern bfd_boolean bfd_xcoff_link_record_set\n-  (bfd *, struct bfd_link_info *, struct bfd_link_hash_entry *, bfd_size_type);\n-extern bfd_boolean bfd_xcoff_import_symbol\n-  (bfd *, struct bfd_link_info *, struct bfd_link_hash_entry *, bfd_vma,\n-   const char *, const char *, const char *, unsigned int);\n-extern bfd_boolean bfd_xcoff_export_symbol\n-  (bfd *, struct bfd_link_info *, struct bfd_link_hash_entry *);\n-extern bfd_boolean bfd_xcoff_link_count_reloc\n-  (bfd *, struct bfd_link_info *, const char *);\n-extern bfd_boolean bfd_xcoff_record_link_assignment\n-  (bfd *, struct bfd_link_info *, const char *);\n-extern bfd_boolean bfd_xcoff_size_dynamic_sections\n-  (bfd *, struct bfd_link_info *, const char *, const char *,\n-   unsigned long, unsigned long, unsigned long, bfd_boolean,\n-   int, bfd_boolean, unsigned int, struct bfd_section **, bfd_boolean);\n-extern bfd_boolean bfd_xcoff_link_generate_rtinit\n-  (bfd *, const char *, const char *, bfd_boolean);\n-\n-/* XCOFF support routines for ar.  */\n-extern bfd_boolean bfd_xcoff_ar_archive_set_magic\n-  (bfd *, char *);"
    },
    {
      "sha": "d78fab3b6c8a8c7147b6f37bf5aa7620523646ed",
      "filename": "bfd/bfd-in2.h",
      "status": "modified",
      "additions": 0,
      "deletions": 28,
      "changes": 28,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6ea7de3237f0780065e6c17cd2d123792410c16b/bfd/bfd-in2.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6ea7de3237f0780065e6c17cd2d123792410c16b/bfd/bfd-in2.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/bfd-in2.h?ref=6ea7de3237f0780065e6c17cd2d123792410c16b",
      "patch": "@@ -732,34 +732,6 @@ extern void bfd_free_window\n   (bfd_window *);\n extern bfd_boolean bfd_get_file_window\n   (bfd *, file_ptr, bfd_size_type, bfd_window *, bfd_boolean);\n-\n-/* XCOFF support routines for the linker.  */\n-\n-extern bfd_boolean bfd_xcoff_split_import_path\n-  (bfd *, const char *, const char **, const char **);\n-extern bfd_boolean bfd_xcoff_set_archive_import_path\n-  (struct bfd_link_info *, bfd *, const char *);\n-extern bfd_boolean bfd_xcoff_link_record_set\n-  (bfd *, struct bfd_link_info *, struct bfd_link_hash_entry *, bfd_size_type);\n-extern bfd_boolean bfd_xcoff_import_symbol\n-  (bfd *, struct bfd_link_info *, struct bfd_link_hash_entry *, bfd_vma,\n-   const char *, const char *, const char *, unsigned int);\n-extern bfd_boolean bfd_xcoff_export_symbol\n-  (bfd *, struct bfd_link_info *, struct bfd_link_hash_entry *);\n-extern bfd_boolean bfd_xcoff_link_count_reloc\n-  (bfd *, struct bfd_link_info *, const char *);\n-extern bfd_boolean bfd_xcoff_record_link_assignment\n-  (bfd *, struct bfd_link_info *, const char *);\n-extern bfd_boolean bfd_xcoff_size_dynamic_sections\n-  (bfd *, struct bfd_link_info *, const char *, const char *,\n-   unsigned long, unsigned long, unsigned long, bfd_boolean,\n-   int, bfd_boolean, unsigned int, struct bfd_section **, bfd_boolean);\n-extern bfd_boolean bfd_xcoff_link_generate_rtinit\n-  (bfd *, const char *, const char *, bfd_boolean);\n-\n-/* XCOFF support routines for ar.  */\n-extern bfd_boolean bfd_xcoff_ar_archive_set_magic\n-  (bfd *, char *);\n /* Extracted from init.c.  */\n unsigned int bfd_init (void);\n "
    },
    {
      "sha": "86cf9e3e2a01ab08c38037889d687b8cf0c436ba",
      "filename": "bfd/coff-rs6000.c",
      "status": "modified",
      "additions": 0,
      "deletions": 14,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6ea7de3237f0780065e6c17cd2d123792410c16b/bfd/coff-rs6000.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6ea7de3237f0780065e6c17cd2d123792410c16b/bfd/coff-rs6000.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/coff-rs6000.c?ref=6ea7de3237f0780065e6c17cd2d123792410c16b",
      "patch": "@@ -1169,20 +1169,6 @@ _bfd_xcoff_reloc_name_lookup (bfd *abfd ATTRIBUTE_UNUSED,\n    to take care that we are not generating the new form of archives\n    on AIX 4.2 or earlier systems.  */\n \n-/* XCOFF archives use this as a magic string.  Note that both strings\n-   have the same length.  */\n-\n-/* Set the magic for archive.  */\n-\n-bfd_boolean\n-bfd_xcoff_ar_archive_set_magic (bfd *abfd ATTRIBUTE_UNUSED,\n-\t\t\t\tchar *magic ATTRIBUTE_UNUSED)\n-{\n-  /* Not supported yet.  */\n-  return FALSE;\n- /* bfd_xcoff_archive_set_magic (abfd, magic); */\n-}\n-\n /* PR 21786:  The PE/COFF standard does not require NUL termination for any of\n    the ASCII fields in the archive headers.  So in order to be able to extract\n    numerical values we provide our own versions of strtol and strtoll which"
    },
    {
      "sha": "91e0041ea184c9d6b3ccfc31dbb7fba6165f363b",
      "filename": "bfd/xcofflink.c",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6ea7de3237f0780065e6c17cd2d123792410c16b/bfd/xcofflink.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6ea7de3237f0780065e6c17cd2d123792410c16b/bfd/xcofflink.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/xcofflink.c?ref=6ea7de3237f0780065e6c17cd2d123792410c16b",
      "patch": "@@ -28,6 +28,7 @@\n #include \"libcoff.h\"\n #include \"libxcoff.h\"\n #include \"libiberty.h\"\n+#include \"xcofflink.h\"\n \n /* This file holds the XCOFF linker code.  */\n "
    },
    {
      "sha": "5d1792e9628b99e8ca862618b806eff5bf4709e1",
      "filename": "bfd/xcofflink.h",
      "status": "added",
      "additions": 41,
      "deletions": 0,
      "changes": 41,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6ea7de3237f0780065e6c17cd2d123792410c16b/bfd/xcofflink.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6ea7de3237f0780065e6c17cd2d123792410c16b/bfd/xcofflink.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/xcofflink.h?ref=6ea7de3237f0780065e6c17cd2d123792410c16b",
      "patch": "@@ -0,0 +1,41 @@\n+/* POWER/PowerPC XCOFF linker support.\n+   Copyright (C) 2019 Free Software Foundation, Inc.\n+\n+   This file is part of BFD, the Binary File Descriptor library.\n+\n+   This program is free software; you can redistribute it and/or modify\n+   it under the terms of the GNU General Public License as published by\n+   the Free Software Foundation; either version 3 of the License, or\n+   (at your option) any later version.\n+\n+   This program is distributed in the hope that it will be useful,\n+   but WITHOUT ANY WARRANTY; without even the implied warranty of\n+   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+   GNU General Public License for more details.\n+\n+   You should have received a copy of the GNU General Public License\n+   along with this program; if not, write to the Free Software\n+   Foundation, Inc., 51 Franklin Street - Fifth Floor, Boston,\n+   MA 02110-1301, USA.  */\n+\n+extern bfd_boolean bfd_xcoff_split_import_path\n+  (bfd *, const char *, const char **, const char **);\n+extern bfd_boolean bfd_xcoff_set_archive_import_path\n+  (struct bfd_link_info *, bfd *, const char *);\n+extern bfd_boolean bfd_xcoff_link_record_set\n+  (bfd *, struct bfd_link_info *, struct bfd_link_hash_entry *, bfd_size_type);\n+extern bfd_boolean bfd_xcoff_import_symbol\n+  (bfd *, struct bfd_link_info *, struct bfd_link_hash_entry *, bfd_vma,\n+   const char *, const char *, const char *, unsigned int);\n+extern bfd_boolean bfd_xcoff_export_symbol\n+  (bfd *, struct bfd_link_info *, struct bfd_link_hash_entry *);\n+extern bfd_boolean bfd_xcoff_link_count_reloc\n+  (bfd *, struct bfd_link_info *, const char *);\n+extern bfd_boolean bfd_xcoff_record_link_assignment\n+  (bfd *, struct bfd_link_info *, const char *);\n+extern bfd_boolean bfd_xcoff_size_dynamic_sections\n+  (bfd *, struct bfd_link_info *, const char *, const char *,\n+   unsigned long, unsigned long, unsigned long, bfd_boolean,\n+   int, bfd_boolean, unsigned int, struct bfd_section **, bfd_boolean);\n+extern bfd_boolean bfd_xcoff_link_generate_rtinit\n+  (bfd *, const char *, const char *, bfd_boolean);"
    },
    {
      "sha": "5a20bf06ccd39f8f319450306dda4f5f69fad4b2",
      "filename": "ld/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6ea7de3237f0780065e6c17cd2d123792410c16b/ld/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6ea7de3237f0780065e6c17cd2d123792410c16b/ld/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/ChangeLog?ref=6ea7de3237f0780065e6c17cd2d123792410c16b",
      "patch": "@@ -1,3 +1,7 @@\n+2019-09-23  Alan Modra  <amodra@gmail.com>\n+\n+\t* emultempl/aix.em: Include xcofflink.h.\n+\n 2019-09-23  Alan Modra  <amodra@gmail.com>\n \n \t* emultempl/armelf.em: Include elf32-arm.h."
    },
    {
      "sha": "96e84f9e62bac86363a86a4234a6c882f0955471",
      "filename": "ld/emultempl/aix.em",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6ea7de3237f0780065e6c17cd2d123792410c16b/ld/emultempl/aix.em",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6ea7de3237f0780065e6c17cd2d123792410c16b/ld/emultempl/aix.em",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/emultempl/aix.em?ref=6ea7de3237f0780065e6c17cd2d123792410c16b",
      "patch": "@@ -55,6 +55,7 @@ fragment <<EOF\n #include \"coff/xcoff.h\"\n #include \"libcoff.h\"\n #include \"libxcoff.h\"\n+#include \"xcofflink.h\"\n \n static void gld${EMULATION_NAME}_read_file (const char *, bfd_boolean);\n static void gld${EMULATION_NAME}_free (void *);"
    }
  ]
}