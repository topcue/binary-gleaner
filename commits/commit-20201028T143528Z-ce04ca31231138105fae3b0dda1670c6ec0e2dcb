{
  "sha": "ce04ca31231138105fae3b0dda1670c6ec0e2dcb",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6Y2UwNGNhMzEyMzExMzgxMDVmYWUzYjBkZGExNjcwYzZlYzBlMmRjYg==",
  "commit": {
    "author": {
      "name": "Andreas Rammhold",
      "email": "andreas@rammhold.de",
      "date": "2020-10-26T03:03:29Z"
    },
    "committer": {
      "name": "Simon Marchi",
      "email": "simon.marchi@efficios.com",
      "date": "2020-10-28T14:35:28Z"
    },
    "message": "Use sha256 for hashes in the release process\n\nI just came across the GDB 10.1 release notes and saw that md5 is still\nbeing used in those. I thought it would be a good idea to instead have a\nmore modern, secure and wildly available hash function such as SHA256 as\npart of the release process.\n\nThe changes have been done rather mechnically via sed but executing the\n`src-release.sh -b gdb` did work so I am confident about the result.\n\nWhile this does not directly address the release mails, I was wasn't\nable to find the template/script used for those, this is probably still\nan improvement.\n\nChangeLog:\n\t* src-release.sh: Use sha256sum instead of md5sum.\n\nbinutils/ChangeLog:\n\t* README-how-to-make-a-release: Use sha256sum instead of md5sum.\n\nChange-Id: I9cf19ea40699137c45463b8514f6e29271af2347",
    "tree": {
      "sha": "7bec761f07ab8593ec8806411d8c2deae690affe",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/7bec761f07ab8593ec8806411d8c2deae690affe"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/ce04ca31231138105fae3b0dda1670c6ec0e2dcb",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/ce04ca31231138105fae3b0dda1670c6ec0e2dcb",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/ce04ca31231138105fae3b0dda1670c6ec0e2dcb",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/ce04ca31231138105fae3b0dda1670c6ec0e2dcb/comments",
  "author": {
    "login": "andir",
    "id": 638836,
    "node_id": "MDQ6VXNlcjYzODgzNg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/638836?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/andir",
    "html_url": "https://github.com/andir",
    "followers_url": "https://api.github.com/users/andir/followers",
    "following_url": "https://api.github.com/users/andir/following{/other_user}",
    "gists_url": "https://api.github.com/users/andir/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/andir/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/andir/subscriptions",
    "organizations_url": "https://api.github.com/users/andir/orgs",
    "repos_url": "https://api.github.com/users/andir/repos",
    "events_url": "https://api.github.com/users/andir/events{/privacy}",
    "received_events_url": "https://api.github.com/users/andir/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "simark",
    "id": 1758287,
    "node_id": "MDQ6VXNlcjE3NTgyODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1758287?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/simark",
    "html_url": "https://github.com/simark",
    "followers_url": "https://api.github.com/users/simark/followers",
    "following_url": "https://api.github.com/users/simark/following{/other_user}",
    "gists_url": "https://api.github.com/users/simark/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/simark/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/simark/subscriptions",
    "organizations_url": "https://api.github.com/users/simark/orgs",
    "repos_url": "https://api.github.com/users/simark/repos",
    "events_url": "https://api.github.com/users/simark/events{/privacy}",
    "received_events_url": "https://api.github.com/users/simark/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "dd4a72c859a6896d6df824535590ccbb3631fdd7",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/dd4a72c859a6896d6df824535590ccbb3631fdd7",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/dd4a72c859a6896d6df824535590ccbb3631fdd7"
    }
  ],
  "stats": {
    "total": 30,
    "additions": 19,
    "deletions": 11
  },
  "files": [
    {
      "sha": "c9a2f336148fa95833a89fe53e72b267db5962cf",
      "filename": "ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ce04ca31231138105fae3b0dda1670c6ec0e2dcb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ce04ca31231138105fae3b0dda1670c6ec0e2dcb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ChangeLog?ref=ce04ca31231138105fae3b0dda1670c6ec0e2dcb",
      "patch": "@@ -1,3 +1,7 @@\n+2020-10-26  Andreas Rammhold <andreas@rammhold.de>\n+\n+\t* src-release.sh: Use sha256sum instead of md5sum.\n+\n 2020-10-14  Andrew Burgess  <andrew.burgess@embecosm.com>\n \n \t* Makefile.in: Rebuild."
    },
    {
      "sha": "5bd212594434e438d0c0d074c3545f6629637d07",
      "filename": "binutils/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ce04ca31231138105fae3b0dda1670c6ec0e2dcb/binutils/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ce04ca31231138105fae3b0dda1670c6ec0e2dcb/binutils/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/ChangeLog?ref=ce04ca31231138105fae3b0dda1670c6ec0e2dcb",
      "patch": "@@ -1,3 +1,7 @@\n+2020-10-26  Andreas Rammhold <andreas@rammhold.de>\n+\n+\t* README-how-to-make-a-release: Use sha256sum instead of md5sum.\n+\n 2020-10-28  Nick Clifton  <nickc@redhat.com>\n \n \tPR 26795"
    },
    {
      "sha": "db962e2f550b4ad221058a3e36888b4562b7ee11",
      "filename": "binutils/README-how-to-make-a-release",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ce04ca31231138105fae3b0dda1670c6ec0e2dcb/binutils/README-how-to-make-a-release",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ce04ca31231138105fae3b0dda1670c6ec0e2dcb/binutils/README-how-to-make-a-release",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/README-how-to-make-a-release?ref=ce04ca31231138105fae3b0dda1670c6ec0e2dcb",
      "patch": "@@ -124,7 +124,7 @@ How to perform a release.\n \n           cd <branch-sources>\n           scp binutils-<OLD_VERSION>.90.tar.xz sourceware.org:~ftp/pub/binutils/snapshots\n-          ssh sourceware.org md5sum ~ftp/pub/binutils/snapshots/binutils-<OLD_VERSION>.90.tar.xz\n+          ssh sourceware.org sha256sum ~ftp/pub/binutils/snapshots/binutils-<OLD_VERSION>.90.tar.xz\n \n      e. Clean up the source directory again.\n \n@@ -364,7 +364,7 @@ Cheers\n       David Edelsohn <dje.gcc@gmail.com> announcing the new release.\n       Sign the email and include the checksum:\n \n-          md5sum binutils-2.3x.tar.*\n+          sha256sum binutils-2.3x.tar.*\n \n       (The email to Davis is so that he can update the GNU Toolchain\n       social media).  Something like this:"
    },
    {
      "sha": "fd65856a55cc8d73c222a2ef1ea0e9dd0c4b22e8",
      "filename": "src-release.sh",
      "status": "modified",
      "additions": 9,
      "deletions": 9,
      "changes": 18,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ce04ca31231138105fae3b0dda1670c6ec0e2dcb/src-release.sh",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ce04ca31231138105fae3b0dda1670c6ec0e2dcb/src-release.sh",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/src-release.sh?ref=ce04ca31231138105fae3b0dda1670c6ec0e2dcb",
      "patch": "@@ -26,7 +26,7 @@ BZIPPROG=bzip2\n GZIPPROG=gzip\n LZIPPROG=lzip\n XZPROG=xz\n-MD5PROG=md5sum\n+SHA256PROG=sha256sum\n MAKE=make\n CC=gcc\n CXX=g++\n@@ -168,15 +168,15 @@ do_proto_toplev()\n \n CVS_NAMES='-name CVS -o -name .cvsignore'\n \n-# Add an md5sum to the built tarball\n-do_md5sum()\n+# Add a sha256sum to the built tarball\n+do_sha256sum()\n {\n-    echo \"==> Adding md5 checksum to top-level directory\"\n+    echo \"==> Adding sha256 checksum to top-level directory\"\n     (cd proto-toplev && find * -follow \\( $CVS_NAMES \\) -prune \\\n \t-o -type f -print \\\n-\t| xargs $MD5PROG > ../md5.new)\n-    rm -f proto-toplev/md5.sum\n-    mv md5.new proto-toplev/md5.sum\n+\t| xargs $SHA256PROG > ../sha256.new)\n+    rm -f proto-toplev/sha256.sum\n+    mv sha256.new proto-toplev/sha256.sum\n }\n \n # Build the release tarball\n@@ -276,7 +276,7 @@ tar_compress()\n     verdir=${5:-$tool}\n     ver=$(getver $verdir)\n     do_proto_toplev $package $ver $tool \"$support_files\"\n-    do_md5sum\n+    do_sha256sum\n     do_tar $package $ver\n     do_compress $package $ver \"$compressors\"\n }\n@@ -290,7 +290,7 @@ gdb_tar_compress()\n     compressors=$4\n     ver=$(getver $tool)\n     do_proto_toplev $package $ver $tool \"$support_files\"\n-    do_md5sum\n+    do_sha256sum\n     do_djunpack $package $ver\n     do_tar $package $ver\n     do_compress $package $ver \"$compressors\""
    }
  ]
}