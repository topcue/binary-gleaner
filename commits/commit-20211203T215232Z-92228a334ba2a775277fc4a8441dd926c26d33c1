{
  "sha": "92228a334ba2a775277fc4a8441dd926c26d33c1",
  "node_id": "C_kwDOANOeidoAKDkyMjI4YTMzNGJhMmE3NzUyNzdmYzRhODQ0MWRkOTI2YzI2ZDMzYzE",
  "commit": {
    "author": {
      "name": "Simon Marchi",
      "email": "simon.marchi@polymtl.ca",
      "date": "2021-12-02T01:40:13Z"
    },
    "committer": {
      "name": "Simon Marchi",
      "email": "simon.marchi@polymtl.ca",
      "date": "2021-12-03T21:52:32Z"
    },
    "message": "gdb: small \"maintenance info line-table\" readability improvements\n\n - separate each entry with a newline, to visually separate them\n - style filenames with the filename style\n - print the name of the compunit_symtab\n\nA header now looks like this, with the compunit_symtab name added (and\nthe coloring, but you can't really see it here):\n\n    objfile: /home/simark/build/babeltrace/src/cli/.libs/babeltrace2 ((struct objfile *) 0x613000005980)\n    compunit_symtab: babeltrace2-cfg-cli-args.c ((struct compunit_symtab *) 0x62100da1ed10)\n    symtab: /usr/include/glib-2.0/glib/gdatetime.h ((struct symtab *) 0x62100d9ee530)\n    linetable: ((struct linetable *) 0x0):\n\nChange-Id: Idc23e10aaa66e2e692adb0a6a74144f72c4fa1c7",
    "tree": {
      "sha": "e67f44029de9f4afb2ec5318692b368ecb0f5cba",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/e67f44029de9f4afb2ec5318692b368ecb0f5cba"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/92228a334ba2a775277fc4a8441dd926c26d33c1",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/92228a334ba2a775277fc4a8441dd926c26d33c1",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/92228a334ba2a775277fc4a8441dd926c26d33c1",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/92228a334ba2a775277fc4a8441dd926c26d33c1/comments",
  "author": {
    "login": "simark",
    "id": 1758287,
    "node_id": "MDQ6VXNlcjE3NTgyODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1758287?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/simark",
    "html_url": "https://github.com/simark",
    "followers_url": "https://api.github.com/users/simark/followers",
    "following_url": "https://api.github.com/users/simark/following{/other_user}",
    "gists_url": "https://api.github.com/users/simark/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/simark/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/simark/subscriptions",
    "organizations_url": "https://api.github.com/users/simark/orgs",
    "repos_url": "https://api.github.com/users/simark/repos",
    "events_url": "https://api.github.com/users/simark/events{/privacy}",
    "received_events_url": "https://api.github.com/users/simark/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "simark",
    "id": 1758287,
    "node_id": "MDQ6VXNlcjE3NTgyODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1758287?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/simark",
    "html_url": "https://github.com/simark",
    "followers_url": "https://api.github.com/users/simark/followers",
    "following_url": "https://api.github.com/users/simark/following{/other_user}",
    "gists_url": "https://api.github.com/users/simark/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/simark/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/simark/subscriptions",
    "organizations_url": "https://api.github.com/users/simark/orgs",
    "repos_url": "https://api.github.com/users/simark/repos",
    "events_url": "https://api.github.com/users/simark/events{/privacy}",
    "received_events_url": "https://api.github.com/users/simark/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "eccd14b3f5927107c3b6ce5993fa9b9c054b27c3",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/eccd14b3f5927107c3b6ce5993fa9b9c054b27c3",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/eccd14b3f5927107c3b6ce5993fa9b9c054b27c3"
    }
  ],
  "stats": {
    "total": 19,
    "additions": 13,
    "deletions": 6
  },
  "files": [
    {
      "sha": "7e215595cd8347aebde8aa0b3115988b64f4c61b",
      "filename": "gdb/symmisc.c",
      "status": "modified",
      "additions": 13,
      "deletions": 6,
      "changes": 19,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/92228a334ba2a775277fc4a8441dd926c26d33c1/gdb/symmisc.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/92228a334ba2a775277fc4a8441dd926c26d33c1/gdb/symmisc.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/symmisc.c?ref=92228a334ba2a775277fc4a8441dd926c26d33c1",
      "patch": "@@ -37,6 +37,7 @@\n #include \"gdbcmd.h\"\n #include \"source.h\"\n #include \"readline/tilde.h\"\n+#include <cli/cli-style.h>\n \n /* Prototypes for local functions */\n \n@@ -966,13 +967,16 @@ maintenance_print_one_line_table (struct symtab *symtab, void *data)\n   struct objfile *objfile;\n \n   objfile = symtab->compunit_symtab->objfile;\n-  printf_filtered (_(\"objfile: %s ((struct objfile *) %s)\\n\"),\n-\t\t   objfile_name (objfile),\n+  printf_filtered (_(\"objfile: %ps ((struct objfile *) %s)\\n\"),\n+\t\t   styled_string (file_name_style.style (),\n+\t\t\t\t  objfile_name (objfile)),\n \t\t   host_address_to_string (objfile));\n-  printf_filtered (_(\"compunit_symtab: ((struct compunit_symtab *) %s)\\n\"),\n+  printf_filtered (_(\"compunit_symtab: %s ((struct compunit_symtab *) %s)\\n\"),\n+\t\t   symtab->compunit_symtab->name,\n \t\t   host_address_to_string (symtab->compunit_symtab));\n-  printf_filtered (_(\"symtab: %s ((struct symtab *) %s)\\n\"),\n-\t\t   symtab_to_fullname (symtab),\n+  printf_filtered (_(\"symtab: %ps ((struct symtab *) %s)\\n\"),\n+\t\t   styled_string (file_name_style.style (),\n+\t\t\t\t  symtab_to_fullname (symtab)),\n \t\t   host_address_to_string (symtab));\n   linetable = SYMTAB_LINETABLE (symtab);\n   printf_filtered (_(\"linetable: ((struct linetable *) %s):\\n\"),\n@@ -1036,7 +1040,10 @@ maintenance_info_line_tables (const char *regexp, int from_tty)\n \n \t\tif (regexp == NULL\n \t\t    || re_exec (symtab_to_filename_for_display (symtab)))\n-\t\t  maintenance_print_one_line_table (symtab, NULL);\n+\t\t  {\n+\t\t    maintenance_print_one_line_table (symtab, NULL);\n+\t\t    printf_filtered (\"\\n\");\n+\t\t  }\n \t      }\n \t  }\n       }"
    }
  ]
}