{
  "sha": "0f38fd87eaea358d11dd9a9ca4d15176fc23ed77",
  "node_id": "C_kwDOANOeidoAKDBmMzhmZDg3ZWFlYTM1OGQxMWRkOWE5Y2E0ZDE1MTc2ZmMyM2VkNzc",
  "commit": {
    "author": {
      "name": "Nick Clifton",
      "email": "nickc@redhat.com",
      "date": "2022-02-09T13:44:14Z"
    },
    "committer": {
      "name": "Nick Clifton",
      "email": "nickc@redhat.com",
      "date": "2022-02-09T13:44:14Z"
    },
    "message": "Update the obsolete list and how-to-make-a-release documentation now that the 2.38 release is out.",
    "tree": {
      "sha": "f2f4fa30e7ac58244cf7f98b8253558b2a8fd79f",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/f2f4fa30e7ac58244cf7f98b8253558b2a8fd79f"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/0f38fd87eaea358d11dd9a9ca4d15176fc23ed77",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/0f38fd87eaea358d11dd9a9ca4d15176fc23ed77",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/0f38fd87eaea358d11dd9a9ca4d15176fc23ed77",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/0f38fd87eaea358d11dd9a9ca4d15176fc23ed77/comments",
  "author": {
    "login": "nickclifton",
    "id": 31441682,
    "node_id": "MDQ6VXNlcjMxNDQxNjgy",
    "avatar_url": "https://avatars.githubusercontent.com/u/31441682?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nickclifton",
    "html_url": "https://github.com/nickclifton",
    "followers_url": "https://api.github.com/users/nickclifton/followers",
    "following_url": "https://api.github.com/users/nickclifton/following{/other_user}",
    "gists_url": "https://api.github.com/users/nickclifton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nickclifton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nickclifton/subscriptions",
    "organizations_url": "https://api.github.com/users/nickclifton/orgs",
    "repos_url": "https://api.github.com/users/nickclifton/repos",
    "events_url": "https://api.github.com/users/nickclifton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nickclifton/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "nickclifton",
    "id": 31441682,
    "node_id": "MDQ6VXNlcjMxNDQxNjgy",
    "avatar_url": "https://avatars.githubusercontent.com/u/31441682?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nickclifton",
    "html_url": "https://github.com/nickclifton",
    "followers_url": "https://api.github.com/users/nickclifton/followers",
    "following_url": "https://api.github.com/users/nickclifton/following{/other_user}",
    "gists_url": "https://api.github.com/users/nickclifton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nickclifton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nickclifton/subscriptions",
    "organizations_url": "https://api.github.com/users/nickclifton/orgs",
    "repos_url": "https://api.github.com/users/nickclifton/repos",
    "events_url": "https://api.github.com/users/nickclifton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nickclifton/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "2969c3b37b228c34566e7fee63ee2395a1c227ad",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/2969c3b37b228c34566e7fee63ee2395a1c227ad",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/2969c3b37b228c34566e7fee63ee2395a1c227ad"
    }
  ],
  "stats": {
    "total": 97,
    "additions": 59,
    "deletions": 38
  },
  "files": [
    {
      "sha": "3cad2a74acee60f85fcd5af4dc24cdcd77351764",
      "filename": "bfd/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/0f38fd87eaea358d11dd9a9ca4d15176fc23ed77/bfd/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/0f38fd87eaea358d11dd9a9ca4d15176fc23ed77/bfd/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/ChangeLog?ref=0f38fd87eaea358d11dd9a9ca4d15176fc23ed77",
      "patch": "@@ -1,3 +1,8 @@\n+2022-02-09  Nick Clifton  <nickc@redhat.com>\n+\n+\t* config.bfd: Move pending obsolesence targets into the definitely\n+\tobsolete list.\n+\n 2022-02-02  Nick Clifton  <nickc@redhat.com>\n \n \tPR 28834"
    },
    {
      "sha": "f1917f477808576f4a932e9dd58da9808b411400",
      "filename": "bfd/config.bfd",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/0f38fd87eaea358d11dd9a9ca4d15176fc23ed77/bfd/config.bfd",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/0f38fd87eaea358d11dd9a9ca4d15176fc23ed77/bfd/config.bfd",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/config.bfd?ref=0f38fd87eaea358d11dd9a9ca4d15176fc23ed77",
      "patch": "@@ -48,8 +48,6 @@ targ_underscore=no\n \n # Catch obsolete configurations.\n case $targ in\n- m32c-*-rtems* | \\\n- ns32k-*-netbsd* | \\\n  null)\n     if test \"x$enable_obsolete\" != xyes; then\n       echo \"*** Configuration $targ is obsolete.\" >&2\n@@ -66,7 +64,7 @@ case $targ in\n     # Explicit, no defaulting\n     ;;\n  ns32k-*-netbsd*)\n-    # The obsolete warning is enough, and ns32k does not have ELF support\n+    # The obsolete warning below is enough, and ns32k does not have ELF support\n     ;;\n  *-*-netbsd* )\n     targ_migrated=`echo \"$targ\" | sed 's/netbsd/netbsdaout/'`\n@@ -154,6 +152,8 @@ case $targ in\n  mips*-dec-* | \\\n  mips*-sgi-* | \\\n  mips*el-*-rtems* | \\\n+ m32c-*-rtems* | \\\n+ ns32k-*-netbsd* | \\\n  openrisc-*-* | \\\n  or32-*-* | \\\n  powerpc-*-lynxos* | powerpc-*-windiss* | \\"
    },
    {
      "sha": "07e09cdf3414f7e2bdf5c55ffc0ae7454eca432c",
      "filename": "binutils/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/0f38fd87eaea358d11dd9a9ca4d15176fc23ed77/binutils/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/0f38fd87eaea358d11dd9a9ca4d15176fc23ed77/binutils/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/ChangeLog?ref=0f38fd87eaea358d11dd9a9ca4d15176fc23ed77",
      "patch": "@@ -1,3 +1,7 @@\n+2022-02-09  Nick Clifton  <nickc@redhat.com>\n+\n+\t* README-how-to-make-a-release: Update after the 2.38 release.\n+\n 2022-01-27  Nick Clifton  <nickc@redhat.com>\n \n \t* po/sv.po: Updated Swedish translation."
    },
    {
      "sha": "e52d9aebbe401db9953446322f295e7f1520ee5b",
      "filename": "binutils/README-how-to-make-a-release",
      "status": "modified",
      "additions": 47,
      "deletions": 35,
      "changes": 82,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/0f38fd87eaea358d11dd9a9ca4d15176fc23ed77/binutils/README-how-to-make-a-release",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/0f38fd87eaea358d11dd9a9ca4d15176fc23ed77/binutils/README-how-to-make-a-release",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/README-how-to-make-a-release?ref=0f38fd87eaea358d11dd9a9ca4d15176fc23ed77",
      "patch": "@@ -202,13 +202,24 @@ When the time comes to actually make the release....\n          cd <branch>\n \t git clean -fdx\n \n-  21. Update the release number in bfd/version.m4 on the release\n-      branch to a whole new minor version number, without a point\n-      value.  Eg \"2.37.90\" becomes \"2.38\".  Change bfd/development.sh\n-      to set all values to \"false\".  Regenerate the configure and\n-      makefiles.  And *info* files.  Add ChangeLog entries for the\n-      updates and add a  \"this-is-the-2.38-release\" comment and\n-      commit.\n+  21. a. Update the release number in bfd/version.m4 on the release\n+         branch to a whole new minor version number, without a point\n+         value.  Eg \"2.38.90\" becomes \"2.39\".\n+\t \n+      b. Change bfd/development.sh to set all values to \"false\".\n+      \n+      c. Regenerate the configure and makefiles.  And *info* files.\n+\n+      d. Create a ChangeLog from the git refs for all of the commits\n+         from when changelog entries were no longer required:\n+\n+           gitlog-to-changelog --since=2021-07-03 > ChangeLog.git\n+\n+        The gitlog-to-changelog script is part of the sources\n+\tof the \"config\" project.\n+\t\n+      e.  Add ChangeLog entries for all of the updates and add a\n+          \"this-is-the-2.38-release\" comment and commit.\n \n   22. Check that your file creation mask will create the\n       correct file permissions.  Eg:\n@@ -224,49 +235,48 @@ When the time comes to actually make the release....\n   23. Note - check to see if any new files have been added to the top\n       level of the source directory, but which are not in the\n       DEVO_SUPPORT variable in the src-release.sh script.  If they are\n-      needed then add them.\n+      needed then add them.  NB/ Add the new ChangeLog.git file.\n \n-       Create the release tarballs:\n+      Create the release tarballs:\n   \n             ./src-release.sh -b -g -l -x binutils\n \n   24. Check that the files in the tarballs have the correct\n       permissions.\n \n-           tar tvf binutils-2.37.tar.bz2 | grep -e \"---\"\n+           tar tvf binutils-2.39.tar.bz2 | grep -e \"---\"\n \n       Also check that the man files are not empty.  (cf PR 28144).\n \n-           tar tvf binutils-2.37.tar.xz | grep -e \"\\.1\"\n+           tar tvf binutils-2.39.tar.xz | grep -e \"\\.1\"\n \n   25. Sanity check the release on x86_64-pc-linux-gnu by building and\n       running the testsuites (gas, gold, binutils and ld).  Make the\n       source directory read-only before building.  Also test\n       \"make install\".  If necessary fix any problems.\n \n-        cd /dev/shm\n+        pushd /dev/shm\n \tmkdir delme\n \tcd delme\n \ttar xvf <path-to-sources>/binutils-2.*.tar.lz\n \tchmod -R -w binutils-2.*\n \tmkdir build\n \tcd build\n-\t../binutils-2.X/configure --enable-gold --prefix=`pwd`/install --enable-plugins\n+\t../binutils-2.*/configure --quiet --enable-gold --prefix=`pwd`/install --enable-plugins\n \tmake all-gas all-gold all-ld all-binutils all-gprof\n \tmake check-gas check-binutils check-ld check-gold\n         make install-gas install-gold install-ld install-binutils\n \n         # Needed for step 29...\n         make html pdf\n \n+        popd\n+\t\n   26. Tag the branch with the new release number:\n+\t[optional: add \"-u XXXXX\" to sign with a gpg key]\n+\tenter a tag message such as: \"Official GNU Binutils 2.3x release\"\n \n-            git tag -a binutils-2_3x     <=== Be careful to get the tag right\n-\t    \n-\t      [optional: add \"-u XXXXX\" to sign with a gpg key]\n-\t      enter a tag message such as: \"Official Binutils 2.3x release\"\n-\n-            eg: git tag -a binutils-2_37 -u DD9E3C4F\n+\t    git tag -a binutils-2_38 -u DD9E3C4F      <=== Be careful to get the tag right\n \n         NB/ If you do sign the binaries make sure to use a key\n \tthat has been published with the FSF.\n@@ -275,18 +285,20 @@ When the time comes to actually make the release....\n \t\n \t    git push origin binutils-2_3x\n \n-        If you get an error message along the lines of \"Invalid revision range ...\" you can ignore it.\n+        If you get an error message along the lines of:\n+\t\"Invalid revision range ...\" you can ignore it.\n \n-  27. Upload the tarballs to ftp.gnu.org.\n+  27.  Upload the tarballs to ftp.gnu.org.\n \n-       gnupload --to ftp.gnu.org:binutils binutils-2.3*.tar.*\n+            gnupload --to ftp.gnu.org:binutils binutils-2.3*.tar.*\n \n-      Be prepared to provide the password for the key, if you signed the binaries.\n+        Be prepared to provide the password for the key, if you\n+\tsigned the binaries.\n       \n-      The gnupload script is in the gnulib/build-aux directory.\n+        The gnupload script is in the gnulib/build-aux directory.\n \n-      Check for an email response from the upload.  If necessary\n-      fix any problems.\n+        Check for an email response from the upload.  If necessary\n+        fix any problems.\n \n   28. Upload the tarballs (and signatures) to sourceware.org:\n \n@@ -296,9 +308,9 @@ When the time comes to actually make the release....\n  \t chmod 644 binutils-2.3x.tar.*\n \t quit\n \n-      FIXME: Are the signatures (created by the gnupload script in step 27) needed ?\n-      [The above commands upload them and nobody has complained, so suggest that they\n-      are retained].\n+      FIXME: Are the signatures (created by the gnupload script in step 27)\n+      needed ?  [The above commands upload them and nobody has complained,\n+      so suggest that they are retained].\n \n   29. Update web pages.  For sourceware.org:\n \n@@ -335,28 +347,28 @@ When the time comes to actually make the release....\n \t cd ..\n \t put as.html\n \t put as.pdf\n-\t cd ../bfd\n+\t cd bfd\n \t lcd ../../bfd/doc/bfd\n \t put *\n \t cd ..\n \t lcd ..\n \t put bfd.html\n \t put bfd.pdf\n-\t cd ../binutils\n-\t lcd ../../binutils/doc/binutils\n+\t cd binutils\n+\t lcd ../../binutils/binutils      <=== NB/ Path not like others\n \t put *\n \t cd ..\n-\t lcd ..\n+\t lcd ../doc\n \t put binutils.html\n \t put binutils.pdf\n-\t cd ../gprof\n+\t cd gprof\n \t lcd ../../gprof/doc/gprof\n \t put *\n \t cd ..\n \t lcd ../..\n \t put gprof.html\n \t put gprof.pdf\n-\t cd ../ld\n+\t cd ld\n \t lcd ../ld/doc/ld\n \t put *\n \t cd .."
    }
  ]
}