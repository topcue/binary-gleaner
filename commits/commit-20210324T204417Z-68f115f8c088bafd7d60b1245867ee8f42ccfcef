{
  "sha": "68f115f8c088bafd7d60b1245867ee8f42ccfcef",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NjhmMTE1ZjhjMDg4YmFmZDdkNjBiMTI0NTg2N2VlOGY0MmNjZmNlZg==",
  "commit": {
    "author": {
      "name": "Keith Seitz",
      "email": "keiths@redhat.com",
      "date": "2021-03-24T20:41:14Z"
    },
    "committer": {
      "name": "Keith Seitz",
      "email": "keiths@redhat.com",
      "date": "2021-03-24T20:44:17Z"
    },
    "message": "Fix TYPE_DECLARED_CLASS thinko\n\nSimon pointed out an error that I made in\ncompile_cplus_conver_struct_or_union in my original C++ compile submission:\n\n  if (type->code () == TYPE_CODE_STRUCT)\n    {\n      const char *what = TYPE_DECLARED_CLASS (type) ? \"struct\" : \"class\";\n\n      resuld = instance->plugin ().build_decl\n        (what, name.get (), (GCC_CP_SYMBOL_CLASS | nested_access\n                             | (TYPE_DECLARED_CLASS (type)\n                                ? GCC_CP_FLAG_CLASS_NOFLAG\n                                : GCC_CP_FLAG_CLASS_IS_STRUCT)),\n         0, nullptr, 0, filename, line);\n    }\n\nNotice that WHAT will contain \"struct\" for TYPE_DECLARED_CLASS. Whoops.\n\nFortunately this first parameter of build_decl is only used for\ndebugging.\n\ngdb/ChangeLog\n2021-03-24  Keith Seitz  <keiths@redhat.com>\n\n\t* compile/compile-cplus-types.c\n\t(compile_cplus_convert_struct_or_union): Fix TYPE_DECLARED_CLASS\n\tthinko.",
    "tree": {
      "sha": "42230e8dca50c73f8dda501648cdee0720f706fb",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/42230e8dca50c73f8dda501648cdee0720f706fb"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/68f115f8c088bafd7d60b1245867ee8f42ccfcef",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/68f115f8c088bafd7d60b1245867ee8f42ccfcef",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/68f115f8c088bafd7d60b1245867ee8f42ccfcef",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/68f115f8c088bafd7d60b1245867ee8f42ccfcef/comments",
  "author": null,
  "committer": null,
  "parents": [
    {
      "sha": "41c0087ba5f1e88395be42ae33c3f7b9b2dd6745",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/41c0087ba5f1e88395be42ae33c3f7b9b2dd6745",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/41c0087ba5f1e88395be42ae33c3f7b9b2dd6745"
    }
  ],
  "stats": {
    "total": 8,
    "additions": 7,
    "deletions": 1
  },
  "files": [
    {
      "sha": "bd869661f69c508c0094b1fc6a2f7e023d985d31",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/68f115f8c088bafd7d60b1245867ee8f42ccfcef/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/68f115f8c088bafd7d60b1245867ee8f42ccfcef/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=68f115f8c088bafd7d60b1245867ee8f42ccfcef",
      "patch": "@@ -1,3 +1,9 @@\n+2021-03-24  Keith Seitz  <keiths@redhat.com>\n+\n+\t* compile/compile-cplus-types.c\n+\t(compile_cplus_convert_struct_or_union): Fix TYPE_DECLARED_CLASS\n+\tthinko.\n+\n 2021-03-24  Simon Marchi  <simon.marchi@polymtl.ca>\n \n \t* gdbarch.sh (gdbarch_data_registry): Make static."
    },
    {
      "sha": "ef5fbcf133a107c5b9c83c7080f98fe0e50f94fc",
      "filename": "gdb/compile/compile-cplus-types.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/68f115f8c088bafd7d60b1245867ee8f42ccfcef/gdb/compile/compile-cplus-types.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/68f115f8c088bafd7d60b1245867ee8f42ccfcef/gdb/compile/compile-cplus-types.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/compile/compile-cplus-types.c?ref=68f115f8c088bafd7d60b1245867ee8f42ccfcef",
      "patch": "@@ -828,7 +828,7 @@ compile_cplus_convert_struct_or_union (compile_cplus_instance *instance,\n   gcc_decl resuld;\n   if (type->code () == TYPE_CODE_STRUCT)\n     {\n-      const char *what = TYPE_DECLARED_CLASS (type) ? \"struct\" : \"class\";\n+      const char *what = TYPE_DECLARED_CLASS (type) ? \"class\" : \"struct\";\n \n       resuld = instance->plugin ().build_decl\n \t(what, name.get (), (GCC_CP_SYMBOL_CLASS | nested_access"
    }
  ]
}