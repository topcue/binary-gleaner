{
  "sha": "d890404b63b8a0b6c28212388f21421d029f6ad2",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ZDg5MDQwNGI2M2I4YTBiNmMyODIxMjM4OGYyMTQyMWQwMjlmNmFkMg==",
  "commit": {
    "author": {
      "name": "Tankut Baris Aktemur",
      "email": "tankut.baris.aktemur@intel.com",
      "date": "2020-05-14T11:59:54Z"
    },
    "committer": {
      "name": "Tankut Baris Aktemur",
      "email": "tankut.baris.aktemur@intel.com",
      "date": "2020-05-14T11:59:54Z"
    },
    "message": "gdb: introduce 'all_non_exited_process_targets' and 'switch_to_target_no_thread'\n\nIntroduce two new convenience functions:\n\n1. all_non_exited_process_targets: returns a collection of all process\nstratum targets that have non-exited inferiors on them.  Useful for\niterating targets.\n\n2. switch_to_target_no_thread: switch the context to the first\ninferior of the given target, and to no selected thread.\n\ngdb/ChangeLog:\n2020-05-14  Tankut Baris Aktemur  <tankut.baris.aktemur@intel.com>\n\n\t* process-stratum-target.h: Include <set>.\n\t(all_non_exited_process_targets, switch_to_target_no_thread): New\n\tfunction declarations.\n\t* process-stratum-target.c (all_non_exited_process_targets)\n\t(switch_to_target_no_thread): New function implementations.",
    "tree": {
      "sha": "c9190f12e69c9911b1225f279e918288f2fb352f",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/c9190f12e69c9911b1225f279e918288f2fb352f"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/d890404b63b8a0b6c28212388f21421d029f6ad2",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/d890404b63b8a0b6c28212388f21421d029f6ad2",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/d890404b63b8a0b6c28212388f21421d029f6ad2",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/d890404b63b8a0b6c28212388f21421d029f6ad2/comments",
  "author": {
    "login": "barisaktemur",
    "id": 55686642,
    "node_id": "MDQ6VXNlcjU1Njg2NjQy",
    "avatar_url": "https://avatars.githubusercontent.com/u/55686642?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/barisaktemur",
    "html_url": "https://github.com/barisaktemur",
    "followers_url": "https://api.github.com/users/barisaktemur/followers",
    "following_url": "https://api.github.com/users/barisaktemur/following{/other_user}",
    "gists_url": "https://api.github.com/users/barisaktemur/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/barisaktemur/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/barisaktemur/subscriptions",
    "organizations_url": "https://api.github.com/users/barisaktemur/orgs",
    "repos_url": "https://api.github.com/users/barisaktemur/repos",
    "events_url": "https://api.github.com/users/barisaktemur/events{/privacy}",
    "received_events_url": "https://api.github.com/users/barisaktemur/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "barisaktemur",
    "id": 55686642,
    "node_id": "MDQ6VXNlcjU1Njg2NjQy",
    "avatar_url": "https://avatars.githubusercontent.com/u/55686642?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/barisaktemur",
    "html_url": "https://github.com/barisaktemur",
    "followers_url": "https://api.github.com/users/barisaktemur/followers",
    "following_url": "https://api.github.com/users/barisaktemur/following{/other_user}",
    "gists_url": "https://api.github.com/users/barisaktemur/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/barisaktemur/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/barisaktemur/subscriptions",
    "organizations_url": "https://api.github.com/users/barisaktemur/orgs",
    "repos_url": "https://api.github.com/users/barisaktemur/repos",
    "events_url": "https://api.github.com/users/barisaktemur/events{/privacy}",
    "received_events_url": "https://api.github.com/users/barisaktemur/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "293b3ebcba93960b4e39b27eeddaa4a01f024d0c",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/293b3ebcba93960b4e39b27eeddaa4a01f024d0c",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/293b3ebcba93960b4e39b27eeddaa4a01f024d0c"
    }
  ],
  "stats": {
    "total": 43,
    "additions": 43,
    "deletions": 0
  },
  "files": [
    {
      "sha": "9f93948d803127ca4f88d9f8903f60559b159566",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/d890404b63b8a0b6c28212388f21421d029f6ad2/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/d890404b63b8a0b6c28212388f21421d029f6ad2/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=d890404b63b8a0b6c28212388f21421d029f6ad2",
      "patch": "@@ -1,3 +1,11 @@\n+2020-05-14  Tankut Baris Aktemur  <tankut.baris.aktemur@intel.com>\n+\n+\t* process-stratum-target.h: Include <set>.\n+\t(all_non_exited_process_targets, switch_to_target_no_thread): New\n+\tfunction declarations.\n+\t* process-stratum-target.c (all_non_exited_process_targets)\n+\t(switch_to_target_no_thread): New function implementations.\n+\n 2020-05-14  Tankut Baris Aktemur  <tankut.baris.aktemur@intel.com>\n \n \t* infrun.c (handle_inferior_event): Extract out a piece of code"
    },
    {
      "sha": "9eff5ab56eaafe8c3963c914c83f67939e997421",
      "filename": "gdb/process-stratum-target.c",
      "status": "modified",
      "additions": 25,
      "deletions": 0,
      "changes": 25,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/d890404b63b8a0b6c28212388f21421d029f6ad2/gdb/process-stratum-target.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/d890404b63b8a0b6c28212388f21421d029f6ad2/gdb/process-stratum-target.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/process-stratum-target.c?ref=d890404b63b8a0b6c28212388f21421d029f6ad2",
      "patch": "@@ -83,3 +83,28 @@ process_stratum_target::has_execution (inferior *inf)\n      through hoops.  */\n   return inf->pid != 0;\n }\n+\n+/* See process-stratum-target.h.  */\n+\n+std::set<process_stratum_target *>\n+all_non_exited_process_targets ()\n+{\n+  /* Inferiors may share targets.  To eliminate duplicates, use a set.  */\n+  std::set<process_stratum_target *> targets;\n+  for (inferior *inf : all_non_exited_inferiors ())\n+    targets.insert (inf->process_target ());\n+\n+  return targets;\n+}\n+\n+/* See process-stratum-target.h.  */\n+\n+void\n+switch_to_target_no_thread (process_stratum_target *target)\n+{\n+  for (inferior *inf : all_inferiors (target))\n+    {\n+      switch_to_inferior_no_thread (inf);\n+      break;\n+    }\n+}"
    },
    {
      "sha": "7e7905bf75028c4c392262366415983a89cf9427",
      "filename": "gdb/process-stratum-target.h",
      "status": "modified",
      "additions": 10,
      "deletions": 0,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/d890404b63b8a0b6c28212388f21421d029f6ad2/gdb/process-stratum-target.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/d890404b63b8a0b6c28212388f21421d029f6ad2/gdb/process-stratum-target.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/process-stratum-target.h?ref=d890404b63b8a0b6c28212388f21421d029f6ad2",
      "patch": "@@ -21,6 +21,7 @@\n #define PROCESS_STRATUM_TARGET_H\n \n #include \"target.h\"\n+#include <set>\n \n /* Abstract base class inherited by all process_stratum targets.  */\n \n@@ -82,4 +83,13 @@ as_process_stratum_target (target_ops *target)\n   return static_cast<process_stratum_target *> (target);\n }\n \n+/* Return a collection of targets that have non-exited inferiors.  */\n+\n+extern std::set<process_stratum_target *> all_non_exited_process_targets ();\n+\n+/* Switch to the first inferior (and program space) of TARGET, and\n+   switch to no thread selected.  */\n+\n+extern void switch_to_target_no_thread (process_stratum_target *target);\n+\n #endif /* !defined (PROCESS_STRATUM_TARGET_H) */"
    }
  ]
}