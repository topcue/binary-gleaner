{
  "sha": "c0d6f62fcec939ab896e4839f6aa14ebfcd43565",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YzBkNmY2MmZjZWM5MzlhYjg5NmU0ODM5ZjZhYTE0ZWJmY2Q0MzU2NQ==",
  "commit": {
    "author": {
      "name": "Jim Wilson",
      "email": "jimw@sifive.com",
      "date": "2019-07-30T21:42:16Z"
    },
    "committer": {
      "name": "Jim Wilson",
      "email": "jimw@sifive.com",
      "date": "2019-07-30T21:42:16Z"
    },
    "message": "RISC-V: Fix minor issues with FP csr instructions.\n\n\tMel Chen <mel.chen@sifive.com>\n\tgas/\n\t* testsuite/gas/riscv/alias-csr.s: Add testcase for CSR-access\n\talias instructions.\n\t* testsuite/gas/riscv/no-aliases-csr.d: Run testcase alias-csr.s with\n\t-Mno-aliases.\n\t* testsuite/gas/riscv/alias-csr.d: Run testcase alias-csr.s.\n\t* testsuite/gas/riscv/priv-reg.d: Update.\n\topcodes/\n\t* riscv-opc.c (riscv_opcodes): Set frsr, fssr, frcsr, fscsr, frrm,\n\tfsrm, fsrmi, frflags, fsflags, fsflagsi to alias instructions.\n\t* riscv-opc.c (riscv_opcodes): Adjust order of frsr, frcsr, fssr,\n\tfscsr.",
    "tree": {
      "sha": "7fd7bc88c705fde3cbfb775f47aadf88e6d0937d",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/7fd7bc88c705fde3cbfb775f47aadf88e6d0937d"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/c0d6f62fcec939ab896e4839f6aa14ebfcd43565",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/c0d6f62fcec939ab896e4839f6aa14ebfcd43565",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/c0d6f62fcec939ab896e4839f6aa14ebfcd43565",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/c0d6f62fcec939ab896e4839f6aa14ebfcd43565/comments",
  "author": null,
  "committer": null,
  "parents": [
    {
      "sha": "aa3b653351504e262fb455af5efb6eea6d981597",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/aa3b653351504e262fb455af5efb6eea6d981597",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/aa3b653351504e262fb455af5efb6eea6d981597"
    }
  ],
  "stats": {
    "total": 112,
    "additions": 95,
    "deletions": 17
  },
  "files": [
    {
      "sha": "4d6f9023688848eac37a5409e434ba3d68c6ad47",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 10,
      "deletions": 0,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6f62fcec939ab896e4839f6aa14ebfcd43565/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6f62fcec939ab896e4839f6aa14ebfcd43565/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=c0d6f62fcec939ab896e4839f6aa14ebfcd43565",
      "patch": "@@ -1,3 +1,13 @@\n+2019-07-30  Mel Chen <mel.chen@sifive.com>\n+\n+\t* testsuite/gas/riscv/alias-csr.s: Add testcase for CSR-access\n+\talias instructions.\n+\t* testsuite/gas/riscv/no-aliases-csr.d: Run testcase alias-csr.s with\n+\t-Mno-aliases.\n+\n+\t* testsuite/gas/riscv/alias-csr.d: Run testcase alias-csr.s.\n+\t* testsuite/gas/riscv/priv-reg.d: Update.\n+\n 2019-07-24  Nick Clifton  <nickc@redhat.com>\n \n \t* po/sv.po: Updated Swedish translation."
    },
    {
      "sha": "af5c591165b185ea1adec5ff6015a96415405ba9",
      "filename": "gas/testsuite/gas/riscv/alias-csr.d",
      "status": "added",
      "additions": 23,
      "deletions": 0,
      "changes": 23,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6f62fcec939ab896e4839f6aa14ebfcd43565/gas/testsuite/gas/riscv/alias-csr.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6f62fcec939ab896e4839f6aa14ebfcd43565/gas/testsuite/gas/riscv/alias-csr.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/riscv/alias-csr.d?ref=c0d6f62fcec939ab896e4839f6aa14ebfcd43565",
      "patch": "@@ -0,0 +1,23 @@\n+#source: alias-csr.s\n+#as: -march=rv64if\n+#objdump: -dr\n+\n+.*:[ \t]+file format .*\n+\n+\n+Disassembly of section .text:\n+\n+0+000 <alias_csr>:\n+[ \t]+0:[ \t]+003022f3[ \t]+frcsr[ \t]+t0\n+[ \t]+4:[ \t]+003392f3[ \t]+fscsr[ \t]+t0,t2\n+[ \t]+8:[ \t]+00339073[ \t]+fscsr[ \t]+t2\n+[ \t]+c:[ \t]+002022f3[ \t]+frrm[ \t]+t0\n+[ \t]+10:[ \t]+002312f3[ \t]+fsrm[ \t]+t0,t1\n+[ \t]+14:[ \t]+00231073[ \t]+fsrm[ \t]+t1\n+[ \t]+18:[ \t]+002fd2f3[ \t]+fsrmi[ \t]+t0,31\n+[ \t]+1c:[ \t]+002fd073[ \t]+fsrmi[ \t]+zero,31\n+[ \t]+20:[ \t]+001022f3[ \t]+frflags[ \t]+t0\n+[ \t]+24:[ \t]+001312f3[ \t]+fsflags[ \t]+t0,t1\n+[ \t]+28:[ \t]+00131073[ \t]+fsflags[ \t]+t1\n+[ \t]+2c:[ \t]+001fd2f3[ \t]+fsflagsi[ \t]+t0,31\n+[ \t]+30:[ \t]+001fd073[ \t]+fsflagsi[ \t]+zero,31"
    },
    {
      "sha": "8577de189ea105ef44a0d4406dc882acb1362d39",
      "filename": "gas/testsuite/gas/riscv/alias-csr.s",
      "status": "added",
      "additions": 14,
      "deletions": 0,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6f62fcec939ab896e4839f6aa14ebfcd43565/gas/testsuite/gas/riscv/alias-csr.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6f62fcec939ab896e4839f6aa14ebfcd43565/gas/testsuite/gas/riscv/alias-csr.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/riscv/alias-csr.s?ref=c0d6f62fcec939ab896e4839f6aa14ebfcd43565",
      "patch": "@@ -0,0 +1,14 @@\n+alias_csr:\n+\tfrcsr t0\n+\tfscsr t0, t2\n+\tfscsr t2\n+\tfrrm t0\n+\tfsrm t0, t1\n+\tfsrm t1\n+\tfsrmi t0, 31\n+\tfsrmi 31\n+\tfrflags t0\n+\tfsflags t0, t1\n+\tfsflags t1\n+\tfsflagsi t0, 31\n+\tfsflagsi 31"
    },
    {
      "sha": "2275330b64a24f0ec24adbc74b025dbb26382fe7",
      "filename": "gas/testsuite/gas/riscv/no-aliases-csr.d",
      "status": "added",
      "additions": 23,
      "deletions": 0,
      "changes": 23,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6f62fcec939ab896e4839f6aa14ebfcd43565/gas/testsuite/gas/riscv/no-aliases-csr.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6f62fcec939ab896e4839f6aa14ebfcd43565/gas/testsuite/gas/riscv/no-aliases-csr.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/riscv/no-aliases-csr.d?ref=c0d6f62fcec939ab896e4839f6aa14ebfcd43565",
      "patch": "@@ -0,0 +1,23 @@\n+#source: alias-csr.s\n+#as: -march=rv64if\n+#objdump: -dr -Mno-aliases\n+\n+.*:[ \t]+file format .*\n+\n+\n+Disassembly of section .text:\n+\n+0+000 <alias_csr>:\n+[ \t]+0:[ \t]+003022f3[ \t]+csrrs[ \t]+t0,fcsr,zero\n+[ \t]+4:[ \t]+003392f3[ \t]+csrrw[ \t]+t0,fcsr,t2\n+[ \t]+8:[ \t]+00339073[ \t]+csrrw[ \t]+zero,fcsr,t2\n+[ \t]+c:[ \t]+002022f3[ \t]+csrrs[ \t]+t0,frm,zero\n+[ \t]+10:[ \t]+002312f3[ \t]+csrrw[ \t]+t0,frm,t1\n+[ \t]+14:[ \t]+00231073[ \t]+csrrw[ \t]+zero,frm,t1\n+[ \t]+18:[ \t]+002fd2f3[ \t]+csrrwi[ \t]+t0,frm,31\n+[ \t]+1c:[ \t]+002fd073[ \t]+csrrwi[ \t]+zero,frm,31\n+[ \t]+20:[ \t]+001022f3[ \t]+csrrs[ \t]+t0,fflags,zero\n+[ \t]+24:[ \t]+001312f3[ \t]+csrrw[ \t]+t0,fflags,t1\n+[ \t]+28:[ \t]+00131073[ \t]+csrrw[ \t]+zero,fflags,t1\n+[ \t]+2c:[ \t]+001fd2f3[ \t]+csrrwi[ \t]+t0,fflags,31\n+[ \t]+30:[ \t]+001fd073[ \t]+csrrwi[ \t]+zero,fflags,31"
    },
    {
      "sha": "d8ec86870edaaa5c8deaf1f47b06fadc1b2b3371",
      "filename": "gas/testsuite/gas/riscv/priv-reg.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6f62fcec939ab896e4839f6aa14ebfcd43565/gas/testsuite/gas/riscv/priv-reg.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6f62fcec939ab896e4839f6aa14ebfcd43565/gas/testsuite/gas/riscv/priv-reg.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/riscv/priv-reg.d?ref=c0d6f62fcec939ab896e4839f6aa14ebfcd43565",
      "patch": "@@ -17,7 +17,7 @@ Disassembly of section .text:\n [ \t]+1c:[ \t]+04402573[ \t]+csrr[ \t]+a0,uip\n [ \t]+20:[ \t]+00102573[ \t]+frflags[ \t]+a0\n [ \t]+24:[ \t]+00202573[ \t]+frrm[ \t]+a0\n-[ \t]+28:[ \t]+00302573[ \t]+frsr[ \t]+a0\n+[ \t]+28:[ \t]+00302573[ \t]+frcsr[ \t]+a0\n [ \t]+2c:[ \t]+c0002573[ \t]+rdcycle[ \t]+a0\n [ \t]+30:[ \t]+c0102573[ \t]+rdtime[ \t]+a0\n [ \t]+34:[ \t]+c0202573[ \t]+rdinstret[ \t]+a0"
    },
    {
      "sha": "652b4bb69392bdb3334e1e3ddef5d5e22a88a65b",
      "filename": "opcodes/ChangeLog",
      "status": "modified",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6f62fcec939ab896e4839f6aa14ebfcd43565/opcodes/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6f62fcec939ab896e4839f6aa14ebfcd43565/opcodes/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/ChangeLog?ref=c0d6f62fcec939ab896e4839f6aa14ebfcd43565",
      "patch": "@@ -1,3 +1,11 @@\n+2019-07-30  Mel Chen <mel.chen@sifive.com>\n+\n+\t* riscv-opc.c (riscv_opcodes): Set frsr, fssr, frcsr, fscsr, frrm,\n+\tfsrm, fsrmi, frflags, fsflags, fsflagsi to alias instructions.\n+\n+\t* riscv-opc.c (riscv_opcodes): Adjust order of frsr, frcsr, fssr,\n+\tfscsr.\n+\n 2019-07-24  Claudiu Zissulescu  <claziss@synopsys.com>\n \n \t* arc-dis.c (skip_this_opcode): Check also for 0x07 major opcodes,"
    },
    {
      "sha": "b7e8d79a48ffcaa6237615841ead0157ded16c6a",
      "filename": "opcodes/riscv-opc.c",
      "status": "modified",
      "additions": 16,
      "deletions": 16,
      "changes": 32,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6f62fcec939ab896e4839f6aa14ebfcd43565/opcodes/riscv-opc.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6f62fcec939ab896e4839f6aa14ebfcd43565/opcodes/riscv-opc.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/riscv-opc.c?ref=c0d6f62fcec939ab896e4839f6aa14ebfcd43565",
      "patch": "@@ -496,22 +496,22 @@ const struct riscv_opcode riscv_opcodes[] =\n {\"remuw\",    64, {\"M\", 0}, \"d,s,t\",  MATCH_REMUW, MASK_REMUW, match_opcode, 0 },\n \n /* Single-precision floating-point instruction subset */\n-{\"frsr\",      0, {\"F\", 0},   \"d\",  MATCH_FRCSR, MASK_FRCSR, match_opcode, 0 },\n-{\"fssr\",      0, {\"F\", 0},   \"s\",  MATCH_FSCSR, MASK_FSCSR | MASK_RD, match_opcode, 0 },\n-{\"fssr\",      0, {\"F\", 0},   \"d,s\",  MATCH_FSCSR, MASK_FSCSR, match_opcode, 0 },\n-{\"frcsr\",     0, {\"F\", 0},   \"d\",  MATCH_FRCSR, MASK_FRCSR, match_opcode, 0 },\n-{\"fscsr\",     0, {\"F\", 0},   \"s\",  MATCH_FSCSR, MASK_FSCSR | MASK_RD, match_opcode, 0 },\n-{\"fscsr\",     0, {\"F\", 0},   \"d,s\",  MATCH_FSCSR, MASK_FSCSR, match_opcode, 0 },\n-{\"frrm\",      0, {\"F\", 0},   \"d\",  MATCH_FRRM, MASK_FRRM, match_opcode, 0 },\n-{\"fsrm\",      0, {\"F\", 0},   \"s\",  MATCH_FSRM, MASK_FSRM | MASK_RD, match_opcode, 0 },\n-{\"fsrm\",      0, {\"F\", 0},   \"d,s\",  MATCH_FSRM, MASK_FSRM, match_opcode, 0 },\n-{\"fsrmi\",     0, {\"F\", 0},   \"d,Z\",  MATCH_FSRMI, MASK_FSRMI, match_opcode, 0 },\n-{\"fsrmi\",     0, {\"F\", 0},   \"Z\",  MATCH_FSRMI, MASK_FSRMI | MASK_RD, match_opcode, 0 },\n-{\"frflags\",   0, {\"F\", 0},   \"d\",  MATCH_FRFLAGS, MASK_FRFLAGS, match_opcode, 0 },\n-{\"fsflags\",   0, {\"F\", 0},   \"s\",  MATCH_FSFLAGS, MASK_FSFLAGS | MASK_RD, match_opcode, 0 },\n-{\"fsflags\",   0, {\"F\", 0},   \"d,s\",  MATCH_FSFLAGS, MASK_FSFLAGS, match_opcode, 0 },\n-{\"fsflagsi\",  0, {\"F\", 0},   \"d,Z\",  MATCH_FSFLAGSI, MASK_FSFLAGSI, match_opcode, 0 },\n-{\"fsflagsi\",  0, {\"F\", 0},   \"Z\",  MATCH_FSFLAGSI, MASK_FSFLAGSI | MASK_RD, match_opcode, 0 },\n+{\"frcsr\",     0, {\"F\", 0},   \"d\",  MATCH_FRCSR, MASK_FRCSR, match_opcode, INSN_ALIAS },\n+{\"frsr\",      0, {\"F\", 0},   \"d\",  MATCH_FRCSR, MASK_FRCSR, match_opcode, INSN_ALIAS },\n+{\"fscsr\",     0, {\"F\", 0},   \"s\",  MATCH_FSCSR, MASK_FSCSR | MASK_RD, match_opcode, INSN_ALIAS },\n+{\"fscsr\",     0, {\"F\", 0},   \"d,s\",  MATCH_FSCSR, MASK_FSCSR, match_opcode, INSN_ALIAS },\n+{\"fssr\",      0, {\"F\", 0},   \"s\",  MATCH_FSCSR, MASK_FSCSR | MASK_RD, match_opcode, INSN_ALIAS },\n+{\"fssr\",      0, {\"F\", 0},   \"d,s\",  MATCH_FSCSR, MASK_FSCSR, match_opcode, INSN_ALIAS },\n+{\"frrm\",      0, {\"F\", 0},   \"d\",  MATCH_FRRM, MASK_FRRM, match_opcode, INSN_ALIAS },\n+{\"fsrm\",      0, {\"F\", 0},   \"s\",  MATCH_FSRM, MASK_FSRM | MASK_RD, match_opcode, INSN_ALIAS },\n+{\"fsrm\",      0, {\"F\", 0},   \"d,s\",  MATCH_FSRM, MASK_FSRM, match_opcode, INSN_ALIAS },\n+{\"fsrmi\",     0, {\"F\", 0},   \"d,Z\",  MATCH_FSRMI, MASK_FSRMI, match_opcode, INSN_ALIAS },\n+{\"fsrmi\",     0, {\"F\", 0},   \"Z\",  MATCH_FSRMI, MASK_FSRMI | MASK_RD, match_opcode, INSN_ALIAS },\n+{\"frflags\",   0, {\"F\", 0},   \"d\",  MATCH_FRFLAGS, MASK_FRFLAGS, match_opcode, INSN_ALIAS },\n+{\"fsflags\",   0, {\"F\", 0},   \"s\",  MATCH_FSFLAGS, MASK_FSFLAGS | MASK_RD, match_opcode, INSN_ALIAS },\n+{\"fsflags\",   0, {\"F\", 0},   \"d,s\",  MATCH_FSFLAGS, MASK_FSFLAGS, match_opcode, INSN_ALIAS },\n+{\"fsflagsi\",  0, {\"F\", 0},   \"d,Z\",  MATCH_FSFLAGSI, MASK_FSFLAGSI, match_opcode, INSN_ALIAS },\n+{\"fsflagsi\",  0, {\"F\", 0},   \"Z\",  MATCH_FSFLAGSI, MASK_FSFLAGSI | MASK_RD, match_opcode, INSN_ALIAS },\n {\"flw\",      32, {\"F\", \"C\", 0}, \"D,Cm(Cc)\",  MATCH_C_FLWSP, MASK_C_FLWSP, match_opcode, INSN_ALIAS|INSN_DREF|INSN_4_BYTE },\n {\"flw\",      32, {\"F\", \"C\", 0}, \"CD,Ck(Cs)\",  MATCH_C_FLW, MASK_C_FLW, match_opcode, INSN_ALIAS|INSN_DREF|INSN_4_BYTE },\n {\"flw\",       0, {\"F\", 0},   \"D,o(s)\",  MATCH_FLW, MASK_FLW, match_opcode, INSN_DREF|INSN_4_BYTE },"
    }
  ]
}