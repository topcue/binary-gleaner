{
  "sha": "aca4efc7a4fc42bac5b7b029c52cbb2a2bc2574b",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YWNhNGVmYzdhNGZjNDJiYWM1YjdiMDI5YzUyY2JiMmEyYmMyNTc0Yg==",
  "commit": {
    "author": {
      "name": "Jose E. Marchesi",
      "email": "jose.marchesi@oracle.com",
      "date": "2019-05-23T17:06:17Z"
    },
    "committer": {
      "name": "Jose E. Marchesi",
      "email": "jose.marchesi@oracle.com",
      "date": "2019-05-23T17:34:21Z"
    },
    "message": "binutils: add support for eBPF\n\nThis patch adds support for ELF64 eBPF to readelf, and fixes a `nm'\ntest to run properly in bpf-*-* targets.\n\nbinutils/ChangeLog:\n\n2019-05-23  Jose E. Marchesi  <jose.marchesi@oracle.com>\n\n\t* readelf.c: Include elf/bpf.h.\n\t(guess_is_rela): Hanle EM_BPF.\n\t(dump_relocations): Likewise.\n\t(is_32bit_abs_reloc): Likewise.\n\t* testsuite/binutils-all/nm.exp: Add bpf-*-* to the list of\n\tELF targets.",
    "tree": {
      "sha": "7d2aef37131904e9346e79c8454aea0f082f2aec",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/7d2aef37131904e9346e79c8454aea0f082f2aec"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/aca4efc7a4fc42bac5b7b029c52cbb2a2bc2574b",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/aca4efc7a4fc42bac5b7b029c52cbb2a2bc2574b",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/aca4efc7a4fc42bac5b7b029c52cbb2a2bc2574b",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/aca4efc7a4fc42bac5b7b029c52cbb2a2bc2574b/comments",
  "author": {
    "login": "jemarch",
    "id": 7061875,
    "node_id": "MDQ6VXNlcjcwNjE4NzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7061875?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jemarch",
    "html_url": "https://github.com/jemarch",
    "followers_url": "https://api.github.com/users/jemarch/followers",
    "following_url": "https://api.github.com/users/jemarch/following{/other_user}",
    "gists_url": "https://api.github.com/users/jemarch/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jemarch/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jemarch/subscriptions",
    "organizations_url": "https://api.github.com/users/jemarch/orgs",
    "repos_url": "https://api.github.com/users/jemarch/repos",
    "events_url": "https://api.github.com/users/jemarch/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jemarch/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "jemarch",
    "id": 7061875,
    "node_id": "MDQ6VXNlcjcwNjE4NzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7061875?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jemarch",
    "html_url": "https://github.com/jemarch",
    "followers_url": "https://api.github.com/users/jemarch/followers",
    "following_url": "https://api.github.com/users/jemarch/following{/other_user}",
    "gists_url": "https://api.github.com/users/jemarch/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jemarch/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jemarch/subscriptions",
    "organizations_url": "https://api.github.com/users/jemarch/orgs",
    "repos_url": "https://api.github.com/users/jemarch/repos",
    "events_url": "https://api.github.com/users/jemarch/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jemarch/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "8376927b2cc8b80cd5aa1e48aabafc85c0ad4f3e",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/8376927b2cc8b80cd5aa1e48aabafc85c0ad4f3e",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/8376927b2cc8b80cd5aa1e48aabafc85c0ad4f3e"
    }
  ],
  "stats": {
    "total": 20,
    "additions": 19,
    "deletions": 1
  },
  "files": [
    {
      "sha": "046d61271911e795683c7462138bd4b17484472f",
      "filename": "binutils/ChangeLog",
      "status": "modified",
      "additions": 9,
      "deletions": 0,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/aca4efc7a4fc42bac5b7b029c52cbb2a2bc2574b/binutils/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/aca4efc7a4fc42bac5b7b029c52cbb2a2bc2574b/binutils/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/ChangeLog?ref=aca4efc7a4fc42bac5b7b029c52cbb2a2bc2574b",
      "patch": "@@ -1,3 +1,12 @@\n+2019-05-23  Jose E. Marchesi  <jose.marchesi@oracle.com>\n+\n+\t* readelf.c: Include elf/bpf.h.\n+\t(guess_is_rela): Hanle EM_BPF.\n+\t(dump_relocations): Likewise.\n+\t(is_32bit_abs_reloc): Likewise.\n+\t* testsuite/binutils-all/nm.exp: Add bpf-*-* to the list of\n+\tELF targets.\n+\n 2019-05-21  Tamar Christina  <tamar.christina@arm.com>\n \n \t* dwarf.c (dwarf_regnames_aarch64): Add SVE registers."
    },
    {
      "sha": "9d2810437e444fa58aced109561c52483269d262",
      "filename": "binutils/readelf.c",
      "status": "modified",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/aca4efc7a4fc42bac5b7b029c52cbb2a2bc2574b/binutils/readelf.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/aca4efc7a4fc42bac5b7b029c52cbb2a2bc2574b/binutils/readelf.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/readelf.c?ref=aca4efc7a4fc42bac5b7b029c52cbb2a2bc2574b",
      "patch": "@@ -102,6 +102,7 @@\n #include \"elf/d10v.h\"\n #include \"elf/d30v.h\"\n #include \"elf/dlx.h\"\n+#include \"elf/bpf.h\"\n #include \"elf/epiphany.h\"\n #include \"elf/fr30.h\"\n #include \"elf/frv.h\"\n@@ -781,6 +782,7 @@ guess_is_rela (unsigned int e_machine)\n     case EM_SCORE:\n     case EM_XGATE:\n     case EM_NFP:\n+    case EM_BPF:\n       return FALSE;\n \n       /* Targets that use RELA relocations.  */\n@@ -1482,6 +1484,10 @@ dump_relocations (Filedata *          filedata,\n \t  rtype = elf_visium_reloc_type (type);\n \t  break;\n \n+        case EM_BPF:\n+          rtype = elf_bpf_reloc_type (type);\n+          break;\n+\n \tcase EM_ADAPTEVA_EPIPHANY:\n \t  rtype = elf_epiphany_reloc_type (type);\n \t  break;\n@@ -12410,6 +12416,8 @@ is_32bit_abs_reloc (Filedata * filedata, unsigned int reloc_type)\n     case EM_AARCH64:\n       return (reloc_type == 258\n \t      || reloc_type == 1); /* R_AARCH64_ABS32 || R_AARCH64_P32_ABS32 */\n+    case EM_BPF:\n+      return reloc_type == 11; /* R_BPF_DATA_32 */\n     case EM_ADAPTEVA_EPIPHANY:\n       return reloc_type == 3;\n     case EM_ALPHA:"
    },
    {
      "sha": "5dbdcbfd35485744c6d278c3bad58755fb725c68",
      "filename": "binutils/testsuite/binutils-all/nm.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 1,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/aca4efc7a4fc42bac5b7b029c52cbb2a2bc2574b/binutils/testsuite/binutils-all/nm.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/aca4efc7a4fc42bac5b7b029c52cbb2a2bc2574b/binutils/testsuite/binutils-all/nm.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/testsuite/binutils-all/nm.exp?ref=aca4efc7a4fc42bac5b7b029c52cbb2a2bc2574b",
      "patch": "@@ -160,7 +160,8 @@ if {   [is_elf_format]\n     || [istarget *-*-uclinux*]\n     || [istarget ia64-*-*vms*]\n     || [istarget *-*-vxworks*]\n-    || [istarget wasm32-*-*] } {\n+    || [istarget wasm32-*-*]\n+    || [istarget bpf-*-*]} {\n     set nm_1_src \"nm-elf-1.s\"\n } else {\n     set nm_1_src \"nm-1.s\""
    }
  ]
}