{
  "sha": "811bdca093965e857e4f4473fbf336da2a93518a",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ODExYmRjYTA5Mzk2NWU4NTdlNGY0NDczZmJmMzM2ZGEyYTkzNTE4YQ==",
  "commit": {
    "author": {
      "name": "Gary Benson",
      "email": "gbenson@redhat.com",
      "date": "2020-11-17T14:52:49Z"
    },
    "committer": {
      "name": "Gary Benson",
      "email": "gbenson@redhat.com",
      "date": "2020-11-17T14:52:49Z"
    },
    "message": "Fix gdb.trace testcase build failures with Clang\n\n25 gdb.trace tests failed to build on x86 with Clang because the\nx86_trace_dummy function is optimized out, causing the builds to\nfail with variations on the following error:\n\n  gdb compile failed, /usr/bin/ld:\n    /gdbtest/build/gdb/testsuite/outputs/gdb.trace/backtrace/backtrace0.o:\n    in function `main':\n    /gdbtest/src/gdb/testsuite/gdb.trace/actions.c:146: undefined\n    reference to `x86_trace_dummy'\n    clang-12: error: linker command failed with exit code 1\n\nThis commit adds __attribute__ ((used)) to x86_trace_dummy to prevent\nthis.\n\ngdb/testsuite/ChangeLog:\n\n\t* gdb.trace/trace-common.h (x86_trace_dummy): Add\n\t__attribute__ ((used)).",
    "tree": {
      "sha": "e987ff0a4c365d6e6a0ba7f5fd17a4d7b9ee605f",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/e987ff0a4c365d6e6a0ba7f5fd17a4d7b9ee605f"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/811bdca093965e857e4f4473fbf336da2a93518a",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/811bdca093965e857e4f4473fbf336da2a93518a",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/811bdca093965e857e4f4473fbf336da2a93518a",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/811bdca093965e857e4f4473fbf336da2a93518a/comments",
  "author": null,
  "committer": null,
  "parents": [
    {
      "sha": "0833984dda29c0b363785edb54a2e1cbdf0d129e",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/0833984dda29c0b363785edb54a2e1cbdf0d129e",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/0833984dda29c0b363785edb54a2e1cbdf0d129e"
    }
  ],
  "stats": {
    "total": 7,
    "additions": 6,
    "deletions": 1
  },
  "files": [
    {
      "sha": "14b3da5911619e51cd68b2cbf4e8daf3c701a7fd",
      "filename": "gdb/testsuite/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/811bdca093965e857e4f4473fbf336da2a93518a/gdb/testsuite/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/811bdca093965e857e4f4473fbf336da2a93518a/gdb/testsuite/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/ChangeLog?ref=811bdca093965e857e4f4473fbf336da2a93518a",
      "patch": "@@ -1,3 +1,8 @@\n+2020-11-17  Gary Benson <gbenson@redhat.com>\n+\n+\t* gdb.trace/trace-common.h (x86_trace_dummy): Add\n+\t__attribute__ ((used)).\n+\n 2020-11-17  Andrew Burgess  <andrew.burgess@embecosm.com>\n \n \t* gdb.gdb/unittest.exp: Spot 'Running...' lines."
    },
    {
      "sha": "2354c0cd4a1babcae103bd61a48a730123dfeaa3",
      "filename": "gdb/testsuite/gdb.trace/trace-common.h",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/811bdca093965e857e4f4473fbf336da2a93518a/gdb/testsuite/gdb.trace/trace-common.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/811bdca093965e857e4f4473fbf336da2a93518a/gdb/testsuite/gdb.trace/trace-common.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.trace/trace-common.h?ref=811bdca093965e857e4f4473fbf336da2a93518a",
      "patch": "@@ -30,7 +30,7 @@\n \n #if (defined __x86_64__ || defined __i386__)\n \n-static void\n+static void __attribute__ ((used))\n x86_trace_dummy ()\n {\n   int x = 0;"
    }
  ]
}