{
  "sha": "c119e04082b5b3ee907a8d02b42fae2aee0c4fbb",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YzExOWUwNDA4MmI1YjNlZTkwN2E4ZDAyYjQyZmFlMmFlZTBjNGZiYg==",
  "commit": {
    "author": {
      "name": "Tom Tromey",
      "email": "tromey@adacore.com",
      "date": "2019-02-19T20:36:17Z"
    },
    "committer": {
      "name": "Tom Tromey",
      "email": "tromey@adacore.com",
      "date": "2019-03-05T15:55:51Z"
    },
    "message": "Remove excess calls to gdb_flush\n\nA customer noticed some mildly odd MI output, where CLI output was\nsplit into multiple MI strings at unusual boundaries, like this:\n\n    ~\"$1 = (b => true\"\n    ~\", p => 0x407260\"\n\nThis is technically correct according to the MI spec, but still\nunusual, in that there's no particular reason for the string to be\nsplit where it is.\n\nI tracked this down to a call to gdb_flush in generic_val_print.\nThen, I went through all calls to gdb_flush and removed the ones I\nthought were superfluous.  In particular:\n\n* Any call in the value-printing code;\n* Likewise the type-printing code (just a single call); and\n* Any call that immediately followed a printf that obviously\n  ended with a newline, my belief being that gdb's standard output\n  streams are line buffered (by inheriting the behavior from stdio)\n\nRegression tested on x86-64 Fedora 29.\n\nI didn't add a new test case.  I tend to think we don't necessarily\nwant to specify this behavior in the tests.  Let me know what you\nthink of this.\n\ngdb/ChangeLog\n2019-03-05  Tom Tromey  <tromey@adacore.com>\n\n\t* windows-nat.c (windows_nat_target::attach)\n\t(windows_nat_target::detach): Don't call gdb_flush.\n\t* valprint.c (generic_val_print, val_print, val_print_string):\n\tDon't call gdb_flush.\n\t* utils.c (defaulted_query): Don't call gdb_flush.\n\t* typeprint.c (print_type_scalar): Don't call gdb_flush.\n\t* target.c (target_announce_detach): Don't call gdb_flush.\n\t* sparc64-tdep.c (adi_print_versions): Don't call gdb_flush.\n\t* remote.c (extended_remote_target::attach): Don't call\n\tgdb_flush.\n\t* procfs.c (procfs_target::detach): Don't call gdb_flush.\n\t* printcmd.c (do_examine): Don't call gdb_flush.\n\t(info_display_command): Don't call gdb_flush.\n\t* p-valprint.c (pascal_val_print): Don't call gdb_flush.\n\t* nto-procfs.c (nto_procfs_target::attach): Don't call gdb_flush.\n\t* memattr.c (info_mem_command): Don't call gdb_flush.\n\t* mdebugread.c (mdebug_build_psymtabs): Don't call gdb_flush.\n\t* m2-valprint.c (m2_val_print): Don't call gdb_flush.\n\t* infrun.c (follow_exec, handle_command): Don't call gdb_flush.\n\t* inf-ptrace.c (inf_ptrace_target::attach): Don't call gdb_flush.\n\t* hppa-tdep.c (unwind_command): Don't call gdb_flush.\n\t* gnu-nat.c (gnu_nat_target::attach): Don't call gdb_flush.\n\t(gnu_nat_target::detach): Don't call gdb_flush.\n\t* f-valprint.c (f_val_print): Don't call gdb_flush.\n\t* darwin-nat.c (darwin_nat_target::attach): Don't call gdb_flush.\n\t* cli/cli-script.c (read_command_lines): Don't call gdb_flush.\n\t* cli/cli-cmds.c (shell_escape, print_disassembly): Don't call\n\tgdb_flush.\n\t* c-valprint.c (c_val_print): Don't call gdb_flush.\n\t* ada-valprint.c (ada_print_scalar): Don't call gdb_flush.",
    "tree": {
      "sha": "84cb046b4bafde19a2caf1590cb71450d2daab56",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/84cb046b4bafde19a2caf1590cb71450d2daab56"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/comments",
  "author": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "895dafa679db7af79576dcd177a6d91d65657ee8",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/895dafa679db7af79576dcd177a6d91d65657ee8",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/895dafa679db7af79576dcd177a6d91d65657ee8"
    }
  ],
  "stats": {
    "total": 96,
    "additions": 38,
    "deletions": 58
  },
  "files": [
    {
      "sha": "563cda6d38818f385b6e83f1178c7a32f56ef5ed",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 33,
      "deletions": 0,
      "changes": 33,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=c119e04082b5b3ee907a8d02b42fae2aee0c4fbb",
      "patch": "@@ -1,3 +1,36 @@\n+2019-03-05  Tom Tromey  <tromey@adacore.com>\n+\n+\t* windows-nat.c (windows_nat_target::attach)\n+\t(windows_nat_target::detach): Don't call gdb_flush.\n+\t* valprint.c (generic_val_print, val_print, val_print_string):\n+\tDon't call gdb_flush.\n+\t* utils.c (defaulted_query): Don't call gdb_flush.\n+\t* typeprint.c (print_type_scalar): Don't call gdb_flush.\n+\t* target.c (target_announce_detach): Don't call gdb_flush.\n+\t* sparc64-tdep.c (adi_print_versions): Don't call gdb_flush.\n+\t* remote.c (extended_remote_target::attach): Don't call\n+\tgdb_flush.\n+\t* procfs.c (procfs_target::detach): Don't call gdb_flush.\n+\t* printcmd.c (do_examine): Don't call gdb_flush.\n+\t(info_display_command): Don't call gdb_flush.\n+\t* p-valprint.c (pascal_val_print): Don't call gdb_flush.\n+\t* nto-procfs.c (nto_procfs_target::attach): Don't call gdb_flush.\n+\t* memattr.c (info_mem_command): Don't call gdb_flush.\n+\t* mdebugread.c (mdebug_build_psymtabs): Don't call gdb_flush.\n+\t* m2-valprint.c (m2_val_print): Don't call gdb_flush.\n+\t* infrun.c (follow_exec, handle_command): Don't call gdb_flush.\n+\t* inf-ptrace.c (inf_ptrace_target::attach): Don't call gdb_flush.\n+\t* hppa-tdep.c (unwind_command): Don't call gdb_flush.\n+\t* gnu-nat.c (gnu_nat_target::attach): Don't call gdb_flush.\n+\t(gnu_nat_target::detach): Don't call gdb_flush.\n+\t* f-valprint.c (f_val_print): Don't call gdb_flush.\n+\t* darwin-nat.c (darwin_nat_target::attach): Don't call gdb_flush.\n+\t* cli/cli-script.c (read_command_lines): Don't call gdb_flush.\n+\t* cli/cli-cmds.c (shell_escape, print_disassembly): Don't call\n+\tgdb_flush.\n+\t* c-valprint.c (c_val_print): Don't call gdb_flush.\n+\t* ada-valprint.c (ada_print_scalar): Don't call gdb_flush.\n+\n 2019-03-05  Tom Tromey  <tromey@adacore.com>\n \n \t* varobj.c (update_dynamic_varobj_children): Update."
    },
    {
      "sha": "d4661e1f1d4c451220092ad9958a900b8b0a831a",
      "filename": "gdb/ada-valprint.c",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/ada-valprint.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/ada-valprint.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ada-valprint.c?ref=c119e04082b5b3ee907a8d02b42fae2aee0c4fbb",
      "patch": "@@ -465,7 +465,6 @@ ada_print_scalar (struct type *type, LONGEST val, struct ui_file *stream)\n     default:\n       error (_(\"Invalid type code in symbol table.\"));\n     }\n-  gdb_flush (stream);\n }\n \n /* Print the character string STRING, printing at most LENGTH characters."
    },
    {
      "sha": "d5ddd3ece7a01e15ea7f486dabe2ae83a952ef3b",
      "filename": "gdb/c-valprint.c",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/c-valprint.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/c-valprint.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/c-valprint.c?ref=c119e04082b5b3ee907a8d02b42fae2aee0c4fbb",
      "patch": "@@ -564,7 +564,6 @@ c_val_print (struct type *type,\n \t\t\t &c_decorations);\n       break;\n     }\n-  gdb_flush (stream);\n }\n \f\n void"
    },
    {
      "sha": "5dc94a5361af9a15131159ac48452cc036a0b40b",
      "filename": "gdb/cli/cli-cmds.c",
      "status": "modified",
      "additions": 3,
      "deletions": 11,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/cli/cli-cmds.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/cli/cli-cmds.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/cli/cli-cmds.c?ref=c119e04082b5b3ee907a8d02b42fae2aee0c4fbb",
      "patch": "@@ -709,16 +709,10 @@ shell_escape (const char *arg, int from_tty)\n     arg = \"inferior shell\";\n \n   if (rc == -1)\n-    {\n-      fprintf_unfiltered (gdb_stderr, \"Cannot execute %s: %s\\n\", arg,\n-\t\t\t  safe_strerror (errno));\n-      gdb_flush (gdb_stderr);\n-    }\n+    fprintf_unfiltered (gdb_stderr, \"Cannot execute %s: %s\\n\", arg,\n+\t\t\tsafe_strerror (errno));\n   else if (rc)\n-    {\n-      fprintf_unfiltered (gdb_stderr, \"%s exited with status %d\\n\", arg, rc);\n-      gdb_flush (gdb_stderr);\n-    }\n+    fprintf_unfiltered (gdb_stderr, \"%s exited with status %d\\n\", arg, rc);\n #ifdef GLOBAL_CURDIR\n   /* Make sure to return to the directory GDB thinks it is, in case\n      the shell command we just ran changed it.  */\n@@ -743,7 +737,6 @@ shell_escape (const char *arg, int from_tty)\n \n       fprintf_unfiltered (gdb_stderr, \"Cannot execute %s: %s\\n\", user_shell,\n \t\t\t  safe_strerror (errno));\n-      gdb_flush (gdb_stderr);\n       _exit (0177);\n     }\n \n@@ -1130,7 +1123,6 @@ print_disassembly (struct gdbarch *gdbarch, const char *name,\n \t    }\n \t}\n       printf_filtered (\"End of assembler dump.\\n\");\n-      gdb_flush (gdb_stdout);\n     }\n #if defined(TUI)\n   else"
    },
    {
      "sha": "e2fa8807130cf6fa0c4524baeb83de3da2f86944",
      "filename": "gdb/cli/cli-script.c",
      "status": "modified",
      "additions": 1,
      "deletions": 4,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/cli/cli-script.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/cli/cli-script.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/cli/cli-script.c?ref=c119e04082b5b3ee907a8d02b42fae2aee0c4fbb",
      "patch": "@@ -1186,10 +1186,7 @@ read_command_lines (const char *prompt_arg, int from_tty, int parse_commands,\n \t\t\t\t\t     END_MESSAGE);\n \t}\n       else\n-\t{\n-\t  printf_unfiltered (\"%s\\n%s\\n\", prompt_arg, END_MESSAGE);\n-\t  gdb_flush (gdb_stdout);\n-\t}\n+\tprintf_unfiltered (\"%s\\n%s\\n\", prompt_arg, END_MESSAGE);\n     }\n \n "
    },
    {
      "sha": "0b7cfb69dc805d3e6b565e2a67a5ac1d7d3d6498",
      "filename": "gdb/darwin-nat.c",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/darwin-nat.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/darwin-nat.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/darwin-nat.c?ref=c119e04082b5b3ee907a8d02b42fae2aee0c4fbb",
      "patch": "@@ -2056,8 +2056,6 @@ darwin_nat_target::attach (const char *args, int from_tty)\n       else\n \tprintf_unfiltered (_(\"Attaching to %s\\n\"),\n \t\t\t   target_pid_to_str (ptid_t (pid)));\n-\n-      gdb_flush (gdb_stdout);\n     }\n \n   if (pid == 0 || ::kill (pid, 0) < 0)"
    },
    {
      "sha": "eee0a62fe880657d71b22f1cb42390f747566316",
      "filename": "gdb/f-valprint.c",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/f-valprint.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/f-valprint.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/f-valprint.c?ref=c119e04082b5b3ee907a8d02b42fae2aee0c4fbb",
      "patch": "@@ -366,7 +366,6 @@ f_val_print (struct type *type, int embedded_offset,\n \t\t\t &f_decorations);\n       break;\n     }\n-  gdb_flush (stream);\n }\n \n static void"
    },
    {
      "sha": "7a0c726c8e943c9072b81b498f3f262984f4d254",
      "filename": "gdb/gnu-nat.c",
      "status": "modified",
      "additions": 0,
      "deletions": 3,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/gnu-nat.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/gnu-nat.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/gnu-nat.c?ref=c119e04082b5b3ee907a8d02b42fae2aee0c4fbb",
      "patch": "@@ -2217,8 +2217,6 @@ gnu_nat_target::attach (const char *args, int from_tty)\n \t\t\t   exec_file, pid);\n       else\n \tprintf_unfiltered (\"Attaching to pid %d\\n\", pid);\n-\n-      gdb_flush (gdb_stdout);\n     }\n \n   inf_debug (inf, \"attaching to pid: %d\", pid);\n@@ -2273,7 +2271,6 @@ gnu_nat_target::detach (inferior *inf, int from_tty)\n \t\t\t   exec_file, gnu_current_inf->pid);\n       else\n \tprintf_unfiltered (\"Detaching from pid %d\\n\", gnu_current_inf->pid);\n-      gdb_flush (gdb_stdout);\n     }\n \n   pid = gnu_current_inf->pid;"
    },
    {
      "sha": "d2b3336cfc7b576fcc07ae74766a3e567b98baad",
      "filename": "gdb/hppa-tdep.c",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/hppa-tdep.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/hppa-tdep.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/hppa-tdep.c?ref=c119e04082b5b3ee907a8d02b42fae2aee0c4fbb",
      "patch": "@@ -2580,10 +2580,8 @@ unwind_command (const char *exp, int from_tty)\n   printf_unfiltered (\"unwind_table_entry (%s):\\n\", host_address_to_string (u));\n \n   printf_unfiltered (\"\\tregion_start = %s\\n\", hex_string (u->region_start));\n-  gdb_flush (gdb_stdout);\n \n   printf_unfiltered (\"\\tregion_end = %s\\n\", hex_string (u->region_end));\n-  gdb_flush (gdb_stdout);\n \n #define pif(FLD) if (u->FLD) printf_unfiltered (\" \"#FLD);\n "
    },
    {
      "sha": "d4b9a3a646957f0ad66f0057fb947f1dc48e7ee5",
      "filename": "gdb/inf-ptrace.c",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/inf-ptrace.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/inf-ptrace.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/inf-ptrace.c?ref=c119e04082b5b3ee907a8d02b42fae2aee0c4fbb",
      "patch": "@@ -217,8 +217,6 @@ inf_ptrace_target::attach (const char *args, int from_tty)\n       else\n \tprintf_unfiltered (_(\"Attaching to %s\\n\"),\n \t\t\t   target_pid_to_str (ptid_t (pid)));\n-\n-      gdb_flush (gdb_stdout);\n     }\n \n #ifdef PT_ATTACH"
    },
    {
      "sha": "6d1d04ee6952095167ee4c5781101bf9fe671c6b",
      "filename": "gdb/infrun.c",
      "status": "modified",
      "additions": 1,
      "deletions": 6,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/infrun.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/infrun.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/infrun.c?ref=c119e04082b5b3ee907a8d02b42fae2aee0c4fbb",
      "patch": "@@ -1159,8 +1159,6 @@ follow_exec (ptid_t ptid, char *exec_file_target)\n   /* We've followed the inferior through an exec.  Therefore, the\n      inferior has essentially been killed & reborn.  */\n \n-  gdb_flush (gdb_stdout);\n-\n   breakpoint_init_inferior (inf_execd);\n \n   gdb::unique_xmalloc_ptr<char> exec_file_host\n@@ -8406,10 +8404,7 @@ Are you sure you want to change it? \"),\n \t\t      sigs[signum] = 1;\n \t\t    }\n \t\t  else\n-\t\t    {\n-\t\t      printf_unfiltered (_(\"Not confirmed, unchanged.\\n\"));\n-\t\t      gdb_flush (gdb_stdout);\n-\t\t    }\n+\t\t    printf_unfiltered (_(\"Not confirmed, unchanged.\\n\"));\n \t\t}\n \t      break;\n \t    case GDB_SIGNAL_0:"
    },
    {
      "sha": "74f89ee45fb33f70ec54b07b70000aba5b7883ca",
      "filename": "gdb/m2-valprint.c",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/m2-valprint.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/m2-valprint.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/m2-valprint.c?ref=c119e04082b5b3ee907a8d02b42fae2aee0c4fbb",
      "patch": "@@ -408,7 +408,6 @@ m2_val_print (struct type *type, int embedded_offset,\n       if (TYPE_STUB (elttype))\n \t{\n \t  fprintf_filtered (stream, _(\"<incomplete type>\"));\n-\t  gdb_flush (stream);\n \t  break;\n \t}\n       else\n@@ -499,5 +498,4 @@ m2_val_print (struct type *type, int embedded_offset,\n \t\t\t &m2_decorations);\n       break;\n     }\n-  gdb_flush (stream);\n }"
    },
    {
      "sha": "35e7890f3574beda2b4c3579536fbfa8ba28204b",
      "filename": "gdb/mdebugread.c",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/mdebugread.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/mdebugread.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/mdebugread.c?ref=c119e04082b5b3ee907a8d02b42fae2aee0c4fbb",
      "patch": "@@ -377,7 +377,6 @@ mdebug_build_psymtabs (minimal_symbol_reader &reader,\n \t\t\t   objfile->name);\n       printf_unfiltered (_(\"You should compile with -g2 or \"\n \t\t\t   \"-g3 for best debugging support.\\n\"));\n-      gdb_flush (gdb_stdout);\n     }\n #endif\n }"
    },
    {
      "sha": "858a41abfb423ac66c1d4f3343682e23b1e62d33",
      "filename": "gdb/memattr.c",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/memattr.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/memattr.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/memattr.c?ref=c119e04082b5b3ee907a8d02b42fae2aee0c4fbb",
      "patch": "@@ -459,8 +459,6 @@ info_mem_command (const char *args, int from_tty)\n #endif\n \n       printf_filtered (\"\\n\");\n-\n-      gdb_flush (gdb_stdout);\n     }\n }\n \f"
    },
    {
      "sha": "8108c0e3888eab79596187d40527ab77e1a94a54",
      "filename": "gdb/nto-procfs.c",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/nto-procfs.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/nto-procfs.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/nto-procfs.c?ref=c119e04082b5b3ee907a8d02b42fae2aee0c4fbb",
      "patch": "@@ -712,8 +712,6 @@ nto_procfs_target::attach (const char *args, int from_tty)\n       else\n \tprintf_unfiltered (\"Attaching to %s\\n\",\n \t\t\t   target_pid_to_str (ptid_t (pid)));\n-\n-      gdb_flush (gdb_stdout);\n     }\n   inferior_ptid = do_attach (ptid_t (pid));\n   inf = current_inferior ();"
    },
    {
      "sha": "0e81697718190ee307b844bed038d56881798655",
      "filename": "gdb/p-valprint.c",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/p-valprint.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/p-valprint.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/p-valprint.c?ref=c119e04082b5b3ee907a8d02b42fae2aee0c4fbb",
      "patch": "@@ -349,7 +349,6 @@ pascal_val_print (struct type *type,\n       if (TYPE_STUB (elttype))\n \t{\n \t  fprintf_filtered (stream, \"<incomplete type>\");\n-\t  gdb_flush (stream);\n \t  break;\n \t}\n       else\n@@ -418,7 +417,6 @@ pascal_val_print (struct type *type,\n       error (_(\"Invalid pascal type code %d in symbol table.\"),\n \t     TYPE_CODE (type));\n     }\n-  gdb_flush (stream);\n }\n \f\n void"
    },
    {
      "sha": "c442bb4e07ed0b04f9ccb3fa6bdb60bac025b843",
      "filename": "gdb/printcmd.c",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/printcmd.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/printcmd.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/printcmd.c?ref=c119e04082b5b3ee907a8d02b42fae2aee0c4fbb",
      "patch": "@@ -1098,7 +1098,6 @@ do_examine (struct format_data fmt, struct gdbarch *gdbarch, CORE_ADDR addr)\n \t    count += branch_delay_insns;\n \t}\n       printf_filtered (\"\\n\");\n-      gdb_flush (gdb_stdout);\n     }\n \n   if (need_to_update_next_address)\n@@ -2068,7 +2067,6 @@ Num Enb Expression\\n\"));\n       if (d->block && !contained_in (get_selected_block (0), d->block))\n \tprintf_filtered (_(\" (cannot be evaluated in the current context)\"));\n       printf_filtered (\"\\n\");\n-      gdb_flush (gdb_stdout);\n     }\n }\n "
    },
    {
      "sha": "384ca9bc0b27076ecd24cb76e62cb29a7daafad9",
      "filename": "gdb/procfs.c",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/procfs.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/procfs.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/procfs.c?ref=c119e04082b5b3ee907a8d02b42fae2aee0c4fbb",
      "patch": "@@ -1911,7 +1911,6 @@ procfs_target::detach (inferior *inf, int from_tty)\n \n       printf_filtered (_(\"Detaching from program: %s, %s\\n\"), exec_file,\n \t\t       target_pid_to_str (ptid_t (pid)));\n-      gdb_flush (gdb_stdout);\n     }\n \n   do_detach ();"
    },
    {
      "sha": "bed997c6adf2a7fc0db74fdbde9ebef529e5a078",
      "filename": "gdb/remote.c",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/remote.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/remote.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/remote.c?ref=c119e04082b5b3ee907a8d02b42fae2aee0c4fbb",
      "patch": "@@ -5826,8 +5826,6 @@ extended_remote_target::attach (const char *args, int from_tty)\n       else\n \tprintf_unfiltered (_(\"Attaching to %s\\n\"),\n \t\t\t   target_pid_to_str (ptid_t (pid)));\n-\n-      gdb_flush (gdb_stdout);\n     }\n \n   xsnprintf (rs->buf.data (), get_remote_packet_size (), \"vAttach;%x\", pid);"
    },
    {
      "sha": "5b7d57a21638ddae7c27067edf0e1313e7126bd4",
      "filename": "gdb/sparc64-tdep.c",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/sparc64-tdep.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/sparc64-tdep.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/sparc64-tdep.c?ref=c119e04082b5b3ee907a8d02b42fae2aee0c4fbb",
      "patch": "@@ -406,7 +406,6 @@ adi_print_versions (CORE_ADDR vaddr, size_t cnt, gdb_byte *tags)\n           ++v_idx;\n         }\n       printf_filtered (\"\\n\");\n-      gdb_flush (gdb_stdout);\n       vaddr += maxelts;\n     }\n }"
    },
    {
      "sha": "fe7cb08b994763f308396baa3aeaf6949648955b",
      "filename": "gdb/target.c",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/target.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/target.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/target.c?ref=c119e04082b5b3ee907a8d02b42fae2aee0c4fbb",
      "patch": "@@ -3168,7 +3168,6 @@ target_announce_detach (int from_tty)\n   pid = inferior_ptid.pid ();\n   printf_unfiltered (_(\"Detaching from program: %s, %s\\n\"), exec_file,\n \t\t     target_pid_to_str (ptid_t (pid)));\n-  gdb_flush (gdb_stdout);\n }\n \n /* The inferior process has died.  Long live the inferior!  */"
    },
    {
      "sha": "114725bc6959e9422f84c6d978cbb4a1fbae61ae",
      "filename": "gdb/typeprint.c",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/typeprint.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/typeprint.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/typeprint.c?ref=c119e04082b5b3ee907a8d02b42fae2aee0c4fbb",
      "patch": "@@ -691,7 +691,6 @@ print_type_scalar (struct type *type, LONGEST val, struct ui_file *stream)\n     default:\n       error (_(\"Invalid type code in symbol table.\"));\n     }\n-  gdb_flush (stream);\n }\n \n /* Dump details of a type specified either directly or indirectly."
    },
    {
      "sha": "6520f1db2faeb4baa31297463d3454d39558ee9c",
      "filename": "gdb/utils.c",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/utils.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/utils.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/utils.c?ref=c119e04082b5b3ee907a8d02b42fae2aee0c4fbb",
      "patch": "@@ -890,7 +890,6 @@ defaulted_query (const char *ctlstr, const char defchar, va_list args)\n       printf_filtered (_(\"(%s or %s) [answered %c; \"\n \t\t\t \"input not from terminal]\\n\"),\n \t\t       y_string, n_string, def_answer);\n-      gdb_flush (gdb_stdout);\n \n       return def_value;\n     }"
    },
    {
      "sha": "10020901c2df781033c31d6ee27dbaedae6514d1",
      "filename": "gdb/valprint.c",
      "status": "modified",
      "additions": 0,
      "deletions": 4,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/valprint.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/valprint.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/valprint.c?ref=c119e04082b5b3ee907a8d02b42fae2aee0c4fbb",
      "patch": "@@ -986,7 +986,6 @@ generic_val_print (struct type *type,\n       error (_(\"Unhandled type code %d in symbol table.\"),\n \t     TYPE_CODE (type));\n     }\n-  gdb_flush (stream);\n }\n \n /* Print using the given LANGUAGE the data of type TYPE located at\n@@ -1032,7 +1031,6 @@ val_print (struct type *type, LONGEST embedded_offset,\n   if (TYPE_STUB (real_type))\n     {\n       fprintf_filtered (stream, _(\"<incomplete type>\"));\n-      gdb_flush (stream);\n       return;\n     }\n \n@@ -2860,8 +2858,6 @@ val_print_string (struct type *elttype, const char *encoding,\n       fprintf_filtered (stream, \">\");\n     }\n \n-  gdb_flush (stream);\n-\n   return (bytes_read / width);\n }\n \f"
    },
    {
      "sha": "99bcedcc2cf9f16188cc767c79b66787ef97cd9a",
      "filename": "gdb/windows-nat.c",
      "status": "modified",
      "additions": 0,
      "deletions": 3,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/windows-nat.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c119e04082b5b3ee907a8d02b42fae2aee0c4fbb/gdb/windows-nat.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/windows-nat.c?ref=c119e04082b5b3ee907a8d02b42fae2aee0c4fbb",
      "patch": "@@ -2015,8 +2015,6 @@ windows_nat_target::attach (const char *args, int from_tty)\n       else\n \tprintf_unfiltered (\"Attaching to %s\\n\",\n \t\t\t   target_pid_to_str (ptid_t (pid)));\n-\n-      gdb_flush (gdb_stdout);\n     }\n \n   do_initial_windows_stuff (this, pid, 1);\n@@ -2046,7 +2044,6 @@ windows_nat_target::detach (inferior *inf, int from_tty)\n \texec_file = \"\";\n       printf_unfiltered (\"Detaching from program: %s, Pid %u\\n\", exec_file,\n \t\t\t (unsigned) current_event.dwProcessId);\n-      gdb_flush (gdb_stdout);\n     }\n \n   x86_cleanup_dregs ();"
    }
  ]
}