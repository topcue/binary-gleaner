{
  "sha": "0e7aaa728dc23f81a7809f3c5c9b90e85b978a8a",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MGU3YWFhNzI4ZGMyM2Y4MWE3ODA5ZjNjNWM5YjkwZTg1Yjk3OGE4YQ==",
  "commit": {
    "author": {
      "name": "Andre Vieira",
      "email": "andre.simoesdiasvieira@arm.com",
      "date": "2019-12-10T16:10:17Z"
    },
    "committer": {
      "name": "Andre Vieira",
      "email": "andre.simoesdiasvieira@arm.com",
      "date": "2019-12-10T16:10:17Z"
    },
    "message": "[gas][arm] Set context table for '.arch_extension'\n\nThis patch fixes .arch_extension behaviour.\n\nCurrently, context table for '.arch_extension' is only set while\n\"-march\" processing, but it is not set while .arch processing,\nso following code is rejected\n\n  .syntax unified\n  .thumb\n  .arch armv8.1-m.main\n  .arch_extension mve.fp\n\n  unless -march=armv8.1-m.main is given.\n\nCommitting on behalf of Vladimir Murzin\n\ngas/ChangeLog:\n2019-12-10  Vladimir Murzin  <vladimir.murzin@arm.com>\n\n\t* config/tc-arm.c (s_arm_arch): Set selected_ctx_ext_table.\n\t* testsuite/gas/arm/mve-arch-ext.s: New.\n\t* testsuite/gas/arm/mve-arch-ext.d: New.",
    "tree": {
      "sha": "6f4bc053ee1ca1d9294f65842c6ca4be1d2f0a56",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/6f4bc053ee1ca1d9294f65842c6ca4be1d2f0a56"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/0e7aaa728dc23f81a7809f3c5c9b90e85b978a8a",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/0e7aaa728dc23f81a7809f3c5c9b90e85b978a8a",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/0e7aaa728dc23f81a7809f3c5c9b90e85b978a8a",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/0e7aaa728dc23f81a7809f3c5c9b90e85b978a8a/comments",
  "author": {
    "login": "avieira-arm",
    "id": 68072104,
    "node_id": "MDQ6VXNlcjY4MDcyMTA0",
    "avatar_url": "https://avatars.githubusercontent.com/u/68072104?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/avieira-arm",
    "html_url": "https://github.com/avieira-arm",
    "followers_url": "https://api.github.com/users/avieira-arm/followers",
    "following_url": "https://api.github.com/users/avieira-arm/following{/other_user}",
    "gists_url": "https://api.github.com/users/avieira-arm/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/avieira-arm/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/avieira-arm/subscriptions",
    "organizations_url": "https://api.github.com/users/avieira-arm/orgs",
    "repos_url": "https://api.github.com/users/avieira-arm/repos",
    "events_url": "https://api.github.com/users/avieira-arm/events{/privacy}",
    "received_events_url": "https://api.github.com/users/avieira-arm/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "avieira-arm",
    "id": 68072104,
    "node_id": "MDQ6VXNlcjY4MDcyMTA0",
    "avatar_url": "https://avatars.githubusercontent.com/u/68072104?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/avieira-arm",
    "html_url": "https://github.com/avieira-arm",
    "followers_url": "https://api.github.com/users/avieira-arm/followers",
    "following_url": "https://api.github.com/users/avieira-arm/following{/other_user}",
    "gists_url": "https://api.github.com/users/avieira-arm/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/avieira-arm/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/avieira-arm/subscriptions",
    "organizations_url": "https://api.github.com/users/avieira-arm/orgs",
    "repos_url": "https://api.github.com/users/avieira-arm/repos",
    "events_url": "https://api.github.com/users/avieira-arm/events{/privacy}",
    "received_events_url": "https://api.github.com/users/avieira-arm/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "6c71eb7d70c3678f595cd8e66d78c9da5bd3ef4e",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/6c71eb7d70c3678f595cd8e66d78c9da5bd3ef4e",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/6c71eb7d70c3678f595cd8e66d78c9da5bd3ef4e"
    }
  ],
  "stats": {
    "total": 20,
    "additions": 20,
    "deletions": 0
  },
  "files": [
    {
      "sha": "093219747e901f24883f139fc0e7f8f5d4fcae4b",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/0e7aaa728dc23f81a7809f3c5c9b90e85b978a8a/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/0e7aaa728dc23f81a7809f3c5c9b90e85b978a8a/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=0e7aaa728dc23f81a7809f3c5c9b90e85b978a8a",
      "patch": "@@ -1,3 +1,9 @@\n+2019-12-10  Vladimir Murzin  <vladimir.murzin@arm.com>\n+\n+\t* config/tc-arm.c (s_arm_arch): Set selected_ctx_ext_table.\n+\t* testsuite/gas/arm/mve-arch-ext.s: New.\n+\t* testsuite/gas/arm/mve-arch-ext.d: New.\n+\n 2019-12-09  Jan Beulich  <jbeulich@suse.com>\n \n \t* config/tc-i386-intel.c (O_oword_ptr): Move."
    },
    {
      "sha": "c4ffeeec3a4f28bfa3becc958e0ad0fd9a90b2d8",
      "filename": "gas/config/tc-arm.c",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/0e7aaa728dc23f81a7809f3c5c9b90e85b978a8a/gas/config/tc-arm.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/0e7aaa728dc23f81a7809f3c5c9b90e85b978a8a/gas/config/tc-arm.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/config/tc-arm.c?ref=0e7aaa728dc23f81a7809f3c5c9b90e85b978a8a",
      "patch": "@@ -32633,6 +32633,7 @@ s_arm_arch (int ignored ATTRIBUTE_UNUSED)\n     if (streq (opt->name, name))\n       {\n \tselected_arch = opt->value;\n+\tselected_ctx_ext_table = opt->ext_table;\n \tselected_ext = arm_arch_none;\n \tselected_cpu = selected_arch;\n \tstrcpy (selected_cpu_name, opt->name);"
    },
    {
      "sha": "0c55b38db6e6fa46a1bd2ad92e4c32b1dc3de735",
      "filename": "gas/testsuite/gas/arm/mve-arch-ext.d",
      "status": "added",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/0e7aaa728dc23f81a7809f3c5c9b90e85b978a8a/gas/testsuite/gas/arm/mve-arch-ext.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/0e7aaa728dc23f81a7809f3c5c9b90e85b978a8a/gas/testsuite/gas/arm/mve-arch-ext.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/arm/mve-arch-ext.d?ref=0e7aaa728dc23f81a7809f3c5c9b90e85b978a8a",
      "patch": "@@ -0,0 +1,7 @@\n+# name: MVE context sensitive .arch_extension under no -march\n+# objdump: -dr --prefix-addresses --show-raw-insn -marmv8.1-m.main\n+\n+.*: +file format .*arm.*\n+\n+Disassembly of section .text:\n+0[0-9a-f]+ <[^>]+> ea52 136f \tasrl\tr2, r3, #5"
    },
    {
      "sha": "bbbb9ee1282c2003c9253374a280c7a52eae8466",
      "filename": "gas/testsuite/gas/arm/mve-arch-ext.s",
      "status": "added",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/0e7aaa728dc23f81a7809f3c5c9b90e85b978a8a/gas/testsuite/gas/arm/mve-arch-ext.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/0e7aaa728dc23f81a7809f3c5c9b90e85b978a8a/gas/testsuite/gas/arm/mve-arch-ext.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/arm/mve-arch-ext.s?ref=0e7aaa728dc23f81a7809f3c5c9b90e85b978a8a",
      "patch": "@@ -0,0 +1,6 @@\n+.syntax unified\n+.thumb\n+.arch armv8.1-m.main\n+.arch_extension mve\n+\n+asrl\tr2, r3, #5"
    }
  ]
}