{
  "sha": "51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NTFhOTQ4ZmRmMGUxNGZiNjlhYjllMGM3OWFlOGIyNDE1ODAxZjlhMw==",
  "commit": {
    "author": {
      "name": "Andrew Burgess",
      "email": "andrew.burgess@embecosm.com",
      "date": "2020-07-20T13:18:04Z"
    },
    "committer": {
      "name": "Andrew Burgess",
      "email": "andrew.burgess@embecosm.com",
      "date": "2020-10-08T09:14:14Z"
    },
    "message": "gdb: Have allocate_target_description return a unique_ptr\n\nUpdate allocate_target_description to return a target_desc_up, a\nspecialisation of unique_ptr.\n\nThis commit does not attempt to make use of the unique_ptr in the\nbest possible way, in almost all cases we immediately release the\npointer from within the unique_ptr and then continue as before.\n\nThere are a few places where it was easy to handle the unique_ptr, and\nin these cases I've done that.\n\nEverything under gdb/features/* is auto-regenerated.\n\nThere should be no user visible changes after this commit.\n\ngdb/ChangeLog:\n\n\t* arch/aarch32.c (aarch32_create_target_description): Release\n\tunique_ptr returned from allocate_target_description.\n\t* arch/aarch64.c (aarch64_create_target_description): Likewise.\n\t* arch/amd64.c (amd64_create_target_description): Likewise.\n\t* arch/arc.c (arc_create_target_description): Likewise.\n\t* arch/arm.c (arm_create_target_description): Likewise.\n\t* arch/i386.c (i386_create_target_description): Likewise.\n\t* arch/riscv.c (riscv_create_target_description): Update return\n\ttype.  Handle allocate_target_description returning a unique_ptr.\n\t(riscv_lookup_target_description): Update to handle unique_ptr.\n\t* arch/tic6x.c (tic6x_create_target_description): Release\n\tunique_ptr returned from allocate_target_description.\n\t* features/microblaze-with-stack-protect.c: Regenerate.\n\t* features/microblaze.c: Regenerate.\n\t* features/mips-dsp-linux.c: Regenerate.\n\t* features/mips-linux.c: Regenerate.\n\t* features/mips64-dsp-linux.c: Regenerate.\n\t* features/mips64-linux.c: Regenerate.\n\t* features/nds32.c: Regenerate.\n\t* features/nios2.c: Regenerate.\n\t* features/or1k.c: Regenerate.\n\t* features/rs6000/powerpc-32.c: Regenerate.\n\t* features/rs6000/powerpc-32l.c: Regenerate.\n\t* features/rs6000/powerpc-403.c: Regenerate.\n\t* features/rs6000/powerpc-403gc.c: Regenerate.\n\t* features/rs6000/powerpc-405.c: Regenerate.\n\t* features/rs6000/powerpc-505.c: Regenerate.\n\t* features/rs6000/powerpc-601.c: Regenerate.\n\t* features/rs6000/powerpc-602.c: Regenerate.\n\t* features/rs6000/powerpc-603.c: Regenerate.\n\t* features/rs6000/powerpc-604.c: Regenerate.\n\t* features/rs6000/powerpc-64.c: Regenerate.\n\t* features/rs6000/powerpc-64l.c: Regenerate.\n\t* features/rs6000/powerpc-7400.c: Regenerate.\n\t* features/rs6000/powerpc-750.c: Regenerate.\n\t* features/rs6000/powerpc-860.c: Regenerate.\n\t* features/rs6000/powerpc-altivec32.c: Regenerate.\n\t* features/rs6000/powerpc-altivec32l.c: Regenerate.\n\t* features/rs6000/powerpc-altivec64.c: Regenerate.\n\t* features/rs6000/powerpc-altivec64l.c: Regenerate.\n\t* features/rs6000/powerpc-e500.c: Regenerate.\n\t* features/rs6000/powerpc-e500l.c: Regenerate.\n\t* features/rs6000/powerpc-isa205-32l.c: Regenerate.\n\t* features/rs6000/powerpc-isa205-64l.c: Regenerate.\n\t* features/rs6000/powerpc-isa205-altivec32l.c: Regenerate.\n\t* features/rs6000/powerpc-isa205-altivec64l.c: Regenerate.\n\t* features/rs6000/powerpc-isa205-ppr-dscr-vsx32l.c: Regenerate.\n\t* features/rs6000/powerpc-isa205-ppr-dscr-vsx64l.c: Regenerate.\n\t* features/rs6000/powerpc-isa205-vsx32l.c: Regenerate.\n\t* features/rs6000/powerpc-isa205-vsx64l.c: Regenerate.\n\t* features/rs6000/powerpc-isa207-htm-vsx32l.c: Regenerate.\n\t* features/rs6000/powerpc-isa207-htm-vsx64l.c: Regenerate.\n\t* features/rs6000/powerpc-isa207-vsx32l.c: Regenerate.\n\t* features/rs6000/powerpc-isa207-vsx64l.c: Regenerate.\n\t* features/rs6000/powerpc-vsx32.c: Regenerate.\n\t* features/rs6000/powerpc-vsx32l.c: Regenerate.\n\t* features/rs6000/powerpc-vsx64.c: Regenerate.\n\t* features/rs6000/powerpc-vsx64l.c: Regenerate.\n\t* features/rs6000/rs6000.c: Regenerate.\n\t* features/rx.c: Regenerate.\n\t* features/s390-gs-linux64.c: Regenerate.\n\t* features/s390-linux32.c: Regenerate.\n\t* features/s390-linux32v1.c: Regenerate.\n\t* features/s390-linux32v2.c: Regenerate.\n\t* features/s390-linux64.c: Regenerate.\n\t* features/s390-linux64v1.c: Regenerate.\n\t* features/s390-linux64v2.c: Regenerate.\n\t* features/s390-te-linux64.c: Regenerate.\n\t* features/s390-tevx-linux64.c: Regenerate.\n\t* features/s390-vx-linux64.c: Regenerate.\n\t* features/s390x-gs-linux64.c: Regenerate.\n\t* features/s390x-linux64.c: Regenerate.\n\t* features/s390x-linux64v1.c: Regenerate.\n\t* features/s390x-linux64v2.c: Regenerate.\n\t* features/s390x-te-linux64.c: Regenerate.\n\t* features/s390x-tevx-linux64.c: Regenerate.\n\t* features/s390x-vx-linux64.c: Regenerate.\n\t* mips-tdep.c (_initialize_mips_tdep): Release unique_ptr returned\n\tfrom allocate_target_description.\n\t* target-descriptions.c (allocate_target_description): Update\n\treturn type.\n\t(print_c_tdesc::visit_pre): Release unique_ptr returned from\n\tallocate_target_description.\n\ngdbserver/ChangeLog:\n\n\t* linux-low.cc (linux_process_target::handle_extended_wait):\n\tRelease the unique_ptr returned from allocate_target_description.\n\t* linux-riscv-low.cc (riscv_target::low_arch_setup): Likewise.\n\t* linux-x86-low.cc (tdesc_amd64_linux_no_xml): Change type.\n\t(tdesc_i386_linux_no_xml): Change type.\n\t(x86_linux_read_description): Borrow pointer from unique_ptr\n\tobject.\n\t(x86_target::get_ipa_tdesc_idx): Likewise.\n\t(initialize_low_arch): Likewise.\n\t* tdesc.cc (allocate_target_description): Update return type.\n\ngdbsupport/ChangeLog:\n\n\t* tdesc.h (allocate_target_description): Update return type.",
    "tree": {
      "sha": "cee1830c4dbd38e527e9498837c72e161957c132",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/cee1830c4dbd38e527e9498837c72e161957c132"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/comments",
  "author": {
    "login": "T-J-Teru",
    "id": 475372,
    "node_id": "MDQ6VXNlcjQ3NTM3Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/475372?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/T-J-Teru",
    "html_url": "https://github.com/T-J-Teru",
    "followers_url": "https://api.github.com/users/T-J-Teru/followers",
    "following_url": "https://api.github.com/users/T-J-Teru/following{/other_user}",
    "gists_url": "https://api.github.com/users/T-J-Teru/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/T-J-Teru/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/T-J-Teru/subscriptions",
    "organizations_url": "https://api.github.com/users/T-J-Teru/orgs",
    "repos_url": "https://api.github.com/users/T-J-Teru/repos",
    "events_url": "https://api.github.com/users/T-J-Teru/events{/privacy}",
    "received_events_url": "https://api.github.com/users/T-J-Teru/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "T-J-Teru",
    "id": 475372,
    "node_id": "MDQ6VXNlcjQ3NTM3Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/475372?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/T-J-Teru",
    "html_url": "https://github.com/T-J-Teru",
    "followers_url": "https://api.github.com/users/T-J-Teru/followers",
    "following_url": "https://api.github.com/users/T-J-Teru/following{/other_user}",
    "gists_url": "https://api.github.com/users/T-J-Teru/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/T-J-Teru/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/T-J-Teru/subscriptions",
    "organizations_url": "https://api.github.com/users/T-J-Teru/orgs",
    "repos_url": "https://api.github.com/users/T-J-Teru/repos",
    "events_url": "https://api.github.com/users/T-J-Teru/events{/privacy}",
    "received_events_url": "https://api.github.com/users/T-J-Teru/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "f9ff65d4dffbaf342dce7a8760059c27683cd962",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/f9ff65d4dffbaf342dce7a8760059c27683cd962",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/f9ff65d4dffbaf342dce7a8760059c27683cd962"
    }
  ],
  "stats": {
    "total": 1161,
    "additions": 632,
    "deletions": 529
  },
  "files": [
    {
      "sha": "f3d27ea16f84f76efd63ba468cf61b853656ff87",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 86,
      "deletions": 0,
      "changes": 86,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -1,3 +1,89 @@\n+2020-10-08  Andrew Burgess  <andrew.burgess@embecosm.com>\n+\n+\t* arch/aarch32.c (aarch32_create_target_description): Release\n+\tunique_ptr returned from allocate_target_description.\n+\t* arch/aarch64.c (aarch64_create_target_description): Likewise.\n+\t* arch/amd64.c (amd64_create_target_description): Likewise.\n+\t* arch/arc.c (arc_create_target_description): Likewise.\n+\t* arch/arm.c (arm_create_target_description): Likewise.\n+\t* arch/i386.c (i386_create_target_description): Likewise.\n+\t* arch/riscv.c (riscv_create_target_description): Update return\n+\ttype.  Handle allocate_target_description returning a unique_ptr.\n+\t(riscv_lookup_target_description): Update to handle unique_ptr.\n+\t* arch/tic6x.c (tic6x_create_target_description): Release\n+\tunique_ptr returned from allocate_target_description.\n+\t* features/microblaze-with-stack-protect.c: Regenerate.\n+\t* features/microblaze.c: Regenerate.\n+\t* features/mips-dsp-linux.c: Regenerate.\n+\t* features/mips-linux.c: Regenerate.\n+\t* features/mips64-dsp-linux.c: Regenerate.\n+\t* features/mips64-linux.c: Regenerate.\n+\t* features/nds32.c: Regenerate.\n+\t* features/nios2.c: Regenerate.\n+\t* features/or1k.c: Regenerate.\n+\t* features/rs6000/powerpc-32.c: Regenerate.\n+\t* features/rs6000/powerpc-32l.c: Regenerate.\n+\t* features/rs6000/powerpc-403.c: Regenerate.\n+\t* features/rs6000/powerpc-403gc.c: Regenerate.\n+\t* features/rs6000/powerpc-405.c: Regenerate.\n+\t* features/rs6000/powerpc-505.c: Regenerate.\n+\t* features/rs6000/powerpc-601.c: Regenerate.\n+\t* features/rs6000/powerpc-602.c: Regenerate.\n+\t* features/rs6000/powerpc-603.c: Regenerate.\n+\t* features/rs6000/powerpc-604.c: Regenerate.\n+\t* features/rs6000/powerpc-64.c: Regenerate.\n+\t* features/rs6000/powerpc-64l.c: Regenerate.\n+\t* features/rs6000/powerpc-7400.c: Regenerate.\n+\t* features/rs6000/powerpc-750.c: Regenerate.\n+\t* features/rs6000/powerpc-860.c: Regenerate.\n+\t* features/rs6000/powerpc-altivec32.c: Regenerate.\n+\t* features/rs6000/powerpc-altivec32l.c: Regenerate.\n+\t* features/rs6000/powerpc-altivec64.c: Regenerate.\n+\t* features/rs6000/powerpc-altivec64l.c: Regenerate.\n+\t* features/rs6000/powerpc-e500.c: Regenerate.\n+\t* features/rs6000/powerpc-e500l.c: Regenerate.\n+\t* features/rs6000/powerpc-isa205-32l.c: Regenerate.\n+\t* features/rs6000/powerpc-isa205-64l.c: Regenerate.\n+\t* features/rs6000/powerpc-isa205-altivec32l.c: Regenerate.\n+\t* features/rs6000/powerpc-isa205-altivec64l.c: Regenerate.\n+\t* features/rs6000/powerpc-isa205-ppr-dscr-vsx32l.c: Regenerate.\n+\t* features/rs6000/powerpc-isa205-ppr-dscr-vsx64l.c: Regenerate.\n+\t* features/rs6000/powerpc-isa205-vsx32l.c: Regenerate.\n+\t* features/rs6000/powerpc-isa205-vsx64l.c: Regenerate.\n+\t* features/rs6000/powerpc-isa207-htm-vsx32l.c: Regenerate.\n+\t* features/rs6000/powerpc-isa207-htm-vsx64l.c: Regenerate.\n+\t* features/rs6000/powerpc-isa207-vsx32l.c: Regenerate.\n+\t* features/rs6000/powerpc-isa207-vsx64l.c: Regenerate.\n+\t* features/rs6000/powerpc-vsx32.c: Regenerate.\n+\t* features/rs6000/powerpc-vsx32l.c: Regenerate.\n+\t* features/rs6000/powerpc-vsx64.c: Regenerate.\n+\t* features/rs6000/powerpc-vsx64l.c: Regenerate.\n+\t* features/rs6000/rs6000.c: Regenerate.\n+\t* features/rx.c: Regenerate.\n+\t* features/s390-gs-linux64.c: Regenerate.\n+\t* features/s390-linux32.c: Regenerate.\n+\t* features/s390-linux32v1.c: Regenerate.\n+\t* features/s390-linux32v2.c: Regenerate.\n+\t* features/s390-linux64.c: Regenerate.\n+\t* features/s390-linux64v1.c: Regenerate.\n+\t* features/s390-linux64v2.c: Regenerate.\n+\t* features/s390-te-linux64.c: Regenerate.\n+\t* features/s390-tevx-linux64.c: Regenerate.\n+\t* features/s390-vx-linux64.c: Regenerate.\n+\t* features/s390x-gs-linux64.c: Regenerate.\n+\t* features/s390x-linux64.c: Regenerate.\n+\t* features/s390x-linux64v1.c: Regenerate.\n+\t* features/s390x-linux64v2.c: Regenerate.\n+\t* features/s390x-te-linux64.c: Regenerate.\n+\t* features/s390x-tevx-linux64.c: Regenerate.\n+\t* features/s390x-vx-linux64.c: Regenerate.\n+\t* mips-tdep.c (_initialize_mips_tdep): Release unique_ptr returned\n+\tfrom allocate_target_description.\n+\t* target-descriptions.c (allocate_target_description): Update\n+\treturn type.\n+\t(print_c_tdesc::visit_pre): Release unique_ptr returned from\n+\tallocate_target_description.\n+\n 2020-10-07  Tom Tromey  <tromey@adacore.com>\n \n \t* unittests/search-memory-selftests.c: New file."
    },
    {
      "sha": "bf7a33230e05c4773a2489c82ad6dc0121cda018",
      "filename": "gdb/arch/aarch32.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/arch/aarch32.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/arch/aarch32.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/arch/aarch32.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -26,7 +26,7 @@\n target_desc *\n aarch32_create_target_description ()\n {\n-  target_desc *tdesc = allocate_target_description ();\n+  target_desc *tdesc = allocate_target_description ().release ();\n \n #ifndef IN_PROCESS_AGENT\n   set_tdesc_architecture (tdesc, \"arm\");"
    },
    {
      "sha": "c0af7b0906f9afd8d4b84b4332856bd1bbaa4c29",
      "filename": "gdb/arch/aarch64.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/arch/aarch64.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/arch/aarch64.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/arch/aarch64.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -29,7 +29,7 @@\n target_desc *\n aarch64_create_target_description (uint64_t vq, bool pauth_p)\n {\n-  target_desc *tdesc = allocate_target_description ();\n+  target_desc *tdesc = allocate_target_description ().release ();\n \n #ifndef IN_PROCESS_AGENT\n   set_tdesc_architecture (tdesc, \"aarch64\");"
    },
    {
      "sha": "b11a4fdc0fcbbe60d5b7b6e5a6c471b00c4d7f31",
      "filename": "gdb/arch/amd64.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/arch/amd64.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/arch/amd64.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/arch/amd64.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -40,7 +40,7 @@ target_desc *\n amd64_create_target_description (uint64_t xcr0, bool is_x32, bool is_linux,\n \t\t\t\t bool segments)\n {\n-  target_desc *tdesc = allocate_target_description ();\n+  target_desc *tdesc = allocate_target_description ().release ();\n \n #ifndef IN_PROCESS_AGENT\n   set_tdesc_architecture (tdesc, is_x32 ? \"i386:x64-32\" : \"i386:x86-64\");"
    },
    {
      "sha": "dff457576e14e312cc90692c95a41fd46412826a",
      "filename": "gdb/arch/arc.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/arch/arc.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/arch/arc.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/arch/arc.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -38,7 +38,7 @@ STATIC_IN_GDB target_desc *\n arc_create_target_description (const struct arc_arch_features &features)\n {\n   /* Create a new target description.  */\n-  target_desc *tdesc = allocate_target_description ();\n+  target_desc *tdesc = allocate_target_description ().release ();\n \n #ifndef IN_PROCESS_AGENT\n   std::string arch_name;"
    },
    {
      "sha": "dc67e40f9cf34c759228da14012425a41b704cea",
      "filename": "gdb/arch/arm.c",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/arch/arm.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/arch/arm.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/arch/arm.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -374,7 +374,7 @@ shifted_reg_val (struct regcache *regcache, unsigned long inst,\n target_desc *\n arm_create_target_description (arm_fp_type fp_type)\n {\n-  target_desc *tdesc = allocate_target_description ();\n+  target_desc *tdesc = allocate_target_description ().release ();\n \n #ifndef IN_PROCESS_AGENT\n   if (fp_type == ARM_FP_TYPE_IWMMXT)\n@@ -416,7 +416,7 @@ arm_create_target_description (arm_fp_type fp_type)\n target_desc *\n arm_create_mprofile_target_description (arm_m_profile_type m_type)\n {\n-  target_desc *tdesc = allocate_target_description ();\n+  target_desc *tdesc = allocate_target_description ().release ();\n \n #ifndef IN_PROCESS_AGENT\n   set_tdesc_architecture (tdesc, \"arm\");"
    },
    {
      "sha": "13201db1d742524393ba59b48e8818347dc43bc5",
      "filename": "gdb/arch/i386.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/arch/i386.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/arch/i386.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/arch/i386.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -35,7 +35,7 @@\n target_desc *\n i386_create_target_description (uint64_t xcr0, bool is_linux, bool segments)\n {\n-  target_desc *tdesc = allocate_target_description ();\n+  target_desc *tdesc = allocate_target_description ().release ();\n \n #ifndef IN_PROCESS_AGENT\n   set_tdesc_architecture (tdesc, \"i386\");"
    },
    {
      "sha": "a6538dee54131a971b226e92f7305fcb73a9db59",
      "filename": "gdb/arch/riscv.c",
      "status": "modified",
      "additions": 14,
      "deletions": 13,
      "changes": 27,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/arch/riscv.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/arch/riscv.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/arch/riscv.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -33,11 +33,11 @@\n \n /* See arch/riscv.h.  */\n \n-STATIC_IN_GDB target_desc *\n+STATIC_IN_GDB target_desc_up\n riscv_create_target_description (const struct riscv_gdbarch_features features)\n {\n   /* Now we should create a new target description.  */\n-  target_desc *tdesc = allocate_target_description ();\n+  target_desc_up tdesc = allocate_target_description ();\n \n #ifndef IN_PROCESS_AGENT\n   std::string arch_name = \"riscv\";\n@@ -56,22 +56,22 @@ riscv_create_target_description (const struct riscv_gdbarch_features features)\n   else if (features.flen == 16)\n     arch_name.append (\"q\");\n \n-  set_tdesc_architecture (tdesc, arch_name.c_str ());\n+  set_tdesc_architecture (tdesc.get (), arch_name.c_str ());\n #endif\n \n   long regnum = 0;\n \n   /* For now we only support creating 32-bit or 64-bit x-registers.  */\n   if (features.xlen == 4)\n-    regnum = create_feature_riscv_32bit_cpu (tdesc, regnum);\n+    regnum = create_feature_riscv_32bit_cpu (tdesc.get (), regnum);\n   else if (features.xlen == 8)\n-    regnum = create_feature_riscv_64bit_cpu (tdesc, regnum);\n+    regnum = create_feature_riscv_64bit_cpu (tdesc.get (), regnum);\n \n   /* For now we only support creating 32-bit or 64-bit f-registers.  */\n   if (features.flen == 4)\n-    regnum = create_feature_riscv_32bit_fpu (tdesc, regnum);\n+    regnum = create_feature_riscv_32bit_fpu (tdesc.get (), regnum);\n   else if (features.flen == 8)\n-    regnum = create_feature_riscv_64bit_fpu (tdesc, regnum);\n+    regnum = create_feature_riscv_64bit_fpu (tdesc.get (), regnum);\n \n   return tdesc;\n }\n@@ -106,13 +106,14 @@ riscv_lookup_target_description (const struct riscv_gdbarch_features features)\n   if (it != riscv_tdesc_cache.end ())\n     return it->second.get ();\n \n-  target_desc *tdesc = riscv_create_target_description (features);\n+  target_desc_up tdesc (riscv_create_target_description (features));\n \n-  /* Add to the cache.  Work around a problem with g++ 4.8 (PR96537):\n-     Call the target_desc_up constructor explictly instead of implicitly.  */\n-  riscv_tdesc_cache.emplace (features, target_desc_up (tdesc));\n-\n-  return tdesc;\n+  /* Add to the cache, and return a pointer borrowed from the\n+     target_desc_up.  This is safe as the cache (and the pointers\n+     contained within it) are not deleted until GDB exits.  */\n+  target_desc *ptr = tdesc.get ();\n+  riscv_tdesc_cache.emplace (features, std::move (tdesc));\n+  return ptr;\n }\n \n #endif /* !GDBSERVER */"
    },
    {
      "sha": "dad4dd85a4d71e8ec6557a81d5498daa2cee456c",
      "filename": "gdb/arch/tic6x.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/arch/tic6x.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/arch/tic6x.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/arch/tic6x.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -28,7 +28,7 @@\n target_desc *\n tic6x_create_target_description (enum c6x_feature feature)\n {\n-  target_desc *tdesc = allocate_target_description ();\n+  target_desc *tdesc = allocate_target_description ().release ();\n \n   set_tdesc_architecture (tdesc, \"tic6x\");\n   set_tdesc_osabi (tdesc, \"GNU/Linux\");"
    },
    {
      "sha": "aa180bf35d54c9d99da8aee0772be3215ce59690",
      "filename": "gdb/features/microblaze-with-stack-protect.c",
      "status": "modified",
      "additions": 4,
      "deletions": 4,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/microblaze-with-stack-protect.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/microblaze-with-stack-protect.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/microblaze-with-stack-protect.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,10 +9,10 @@ struct target_desc *tdesc_microblaze_with_stack_protect;\n static void\n initialize_tdesc_microblaze_with_stack_protect (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n+  target_desc_up result = allocate_target_description ();\n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.microblaze.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.microblaze.core\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 32, \"data_ptr\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 32, \"int\");\n@@ -71,9 +71,9 @@ initialize_tdesc_microblaze_with_stack_protect (void)\n   tdesc_create_reg (feature, \"rtlblo\", 55, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"rtlbhi\", 56, 1, NULL, 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.microblaze.stack-protect\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.microblaze.stack-protect\");\n   tdesc_create_reg (feature, \"rslr\", 57, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"rshr\", 58, 1, NULL, 32, \"int\");\n \n-  tdesc_microblaze_with_stack_protect = result;\n+  tdesc_microblaze_with_stack_protect = result.release ();\n }"
    },
    {
      "sha": "ef2c64c720ecbc7f01682d71f2798430a049610a",
      "filename": "gdb/features/microblaze.c",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/microblaze.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/microblaze.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/microblaze.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,10 +9,10 @@ struct target_desc *tdesc_microblaze;\n static void\n initialize_tdesc_microblaze (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n+  target_desc_up result = allocate_target_description ();\n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.microblaze.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.microblaze.core\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 32, \"data_ptr\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 32, \"int\");\n@@ -71,5 +71,5 @@ initialize_tdesc_microblaze (void)\n   tdesc_create_reg (feature, \"rtlblo\", 55, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"rtlbhi\", 56, 1, NULL, 32, \"int\");\n \n-  tdesc_microblaze = result;\n+  tdesc_microblaze = result.release ();\n }"
    },
    {
      "sha": "76a91775e26a5450b4fc2478e51c580f565d3d25",
      "filename": "gdb/features/mips-dsp-linux.c",
      "status": "modified",
      "additions": 9,
      "deletions": 9,
      "changes": 18,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/mips-dsp-linux.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/mips-dsp-linux.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/mips-dsp-linux.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,14 +9,14 @@ struct target_desc *tdesc_mips_dsp_linux;\n static void\n initialize_tdesc_mips_dsp_linux (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"mips\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"mips\"));\n \n-  set_tdesc_osabi (result, osabi_from_tdesc_string (\"GNU/Linux\"));\n+  set_tdesc_osabi (result.get (), osabi_from_tdesc_string (\"GNU/Linux\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.mips.cpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.mips.cpu\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 32, \"int\");\n@@ -53,12 +53,12 @@ initialize_tdesc_mips_dsp_linux (void)\n   tdesc_create_reg (feature, \"hi\", 34, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"pc\", 37, 1, NULL, 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.mips.cp0\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.mips.cp0\");\n   tdesc_create_reg (feature, \"status\", 32, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"badvaddr\", 35, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"cause\", 36, 1, NULL, 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.mips.fpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.mips.fpu\");\n   tdesc_create_reg (feature, \"f0\", 38, 1, NULL, 32, \"ieee_single\");\n   tdesc_create_reg (feature, \"f1\", 39, 1, NULL, 32, \"ieee_single\");\n   tdesc_create_reg (feature, \"f2\", 40, 1, NULL, 32, \"ieee_single\");\n@@ -94,7 +94,7 @@ initialize_tdesc_mips_dsp_linux (void)\n   tdesc_create_reg (feature, \"fcsr\", 70, 1, \"float\", 32, \"int\");\n   tdesc_create_reg (feature, \"fir\", 71, 1, \"float\", 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.mips.dsp\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.mips.dsp\");\n   tdesc_create_reg (feature, \"hi1\", 72, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"lo1\", 73, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"hi2\", 74, 1, NULL, 32, \"int\");\n@@ -103,8 +103,8 @@ initialize_tdesc_mips_dsp_linux (void)\n   tdesc_create_reg (feature, \"lo3\", 77, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"dspctl\", 78, 1, NULL, 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.mips.linux\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.mips.linux\");\n   tdesc_create_reg (feature, \"restart\", 79, 1, \"system\", 32, \"int\");\n \n-  tdesc_mips_dsp_linux = result;\n+  tdesc_mips_dsp_linux = result.release ();\n }"
    },
    {
      "sha": "f97232c8a75f49033f85d74d4d396b5d6cd4a98f",
      "filename": "gdb/features/mips-linux.c",
      "status": "modified",
      "additions": 8,
      "deletions": 8,
      "changes": 16,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/mips-linux.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/mips-linux.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/mips-linux.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,14 +9,14 @@ struct target_desc *tdesc_mips_linux;\n static void\n initialize_tdesc_mips_linux (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"mips\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"mips\"));\n \n-  set_tdesc_osabi (result, osabi_from_tdesc_string (\"GNU/Linux\"));\n+  set_tdesc_osabi (result.get (), osabi_from_tdesc_string (\"GNU/Linux\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.mips.cpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.mips.cpu\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 32, \"int\");\n@@ -53,12 +53,12 @@ initialize_tdesc_mips_linux (void)\n   tdesc_create_reg (feature, \"hi\", 34, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"pc\", 37, 1, NULL, 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.mips.cp0\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.mips.cp0\");\n   tdesc_create_reg (feature, \"status\", 32, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"badvaddr\", 35, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"cause\", 36, 1, NULL, 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.mips.fpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.mips.fpu\");\n   tdesc_create_reg (feature, \"f0\", 38, 1, NULL, 32, \"ieee_single\");\n   tdesc_create_reg (feature, \"f1\", 39, 1, NULL, 32, \"ieee_single\");\n   tdesc_create_reg (feature, \"f2\", 40, 1, NULL, 32, \"ieee_single\");\n@@ -94,8 +94,8 @@ initialize_tdesc_mips_linux (void)\n   tdesc_create_reg (feature, \"fcsr\", 70, 1, \"float\", 32, \"int\");\n   tdesc_create_reg (feature, \"fir\", 71, 1, \"float\", 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.mips.linux\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.mips.linux\");\n   tdesc_create_reg (feature, \"restart\", 72, 1, \"system\", 32, \"int\");\n \n-  tdesc_mips_linux = result;\n+  tdesc_mips_linux = result.release ();\n }"
    },
    {
      "sha": "48d212ad907d41560352a43aa9c1c1fa6565ad15",
      "filename": "gdb/features/mips64-dsp-linux.c",
      "status": "modified",
      "additions": 8,
      "deletions": 8,
      "changes": 16,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/mips64-dsp-linux.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/mips64-dsp-linux.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/mips64-dsp-linux.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_mips64_dsp_linux;\n static void\n initialize_tdesc_mips64_dsp_linux (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"mips\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"mips\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.mips.cpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.mips.cpu\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 64, \"int\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 64, \"int\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 64, \"int\");\n@@ -51,12 +51,12 @@ initialize_tdesc_mips64_dsp_linux (void)\n   tdesc_create_reg (feature, \"hi\", 34, 1, NULL, 64, \"int\");\n   tdesc_create_reg (feature, \"pc\", 37, 1, NULL, 64, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.mips.cp0\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.mips.cp0\");\n   tdesc_create_reg (feature, \"status\", 32, 1, NULL, 64, \"int\");\n   tdesc_create_reg (feature, \"badvaddr\", 35, 1, NULL, 64, \"int\");\n   tdesc_create_reg (feature, \"cause\", 36, 1, NULL, 64, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.mips.fpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.mips.fpu\");\n   tdesc_create_reg (feature, \"f0\", 38, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 39, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f2\", 40, 1, NULL, 64, \"ieee_double\");\n@@ -92,7 +92,7 @@ initialize_tdesc_mips64_dsp_linux (void)\n   tdesc_create_reg (feature, \"fcsr\", 70, 1, \"float\", 64, \"int\");\n   tdesc_create_reg (feature, \"fir\", 71, 1, \"float\", 64, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.mips.dsp\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.mips.dsp\");\n   tdesc_create_reg (feature, \"hi1\", 72, 1, NULL, 64, \"int\");\n   tdesc_create_reg (feature, \"lo1\", 73, 1, NULL, 64, \"int\");\n   tdesc_create_reg (feature, \"hi2\", 74, 1, NULL, 64, \"int\");\n@@ -101,8 +101,8 @@ initialize_tdesc_mips64_dsp_linux (void)\n   tdesc_create_reg (feature, \"lo3\", 77, 1, NULL, 64, \"int\");\n   tdesc_create_reg (feature, \"dspctl\", 78, 1, NULL, 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.mips.linux\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.mips.linux\");\n   tdesc_create_reg (feature, \"restart\", 79, 1, \"system\", 64, \"int\");\n \n-  tdesc_mips64_dsp_linux = result;\n+  tdesc_mips64_dsp_linux = result.release ();\n }"
    },
    {
      "sha": "4b37d3ddb120b944e334b297d71fb5938bf6718c",
      "filename": "gdb/features/mips64-linux.c",
      "status": "modified",
      "additions": 7,
      "deletions": 7,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/mips64-linux.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/mips64-linux.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/mips64-linux.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_mips64_linux;\n static void\n initialize_tdesc_mips64_linux (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"mips\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"mips\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.mips.cpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.mips.cpu\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 64, \"int\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 64, \"int\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 64, \"int\");\n@@ -51,12 +51,12 @@ initialize_tdesc_mips64_linux (void)\n   tdesc_create_reg (feature, \"hi\", 34, 1, NULL, 64, \"int\");\n   tdesc_create_reg (feature, \"pc\", 37, 1, NULL, 64, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.mips.cp0\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.mips.cp0\");\n   tdesc_create_reg (feature, \"status\", 32, 1, NULL, 64, \"int\");\n   tdesc_create_reg (feature, \"badvaddr\", 35, 1, NULL, 64, \"int\");\n   tdesc_create_reg (feature, \"cause\", 36, 1, NULL, 64, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.mips.fpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.mips.fpu\");\n   tdesc_create_reg (feature, \"f0\", 38, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 39, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f2\", 40, 1, NULL, 64, \"ieee_double\");\n@@ -92,8 +92,8 @@ initialize_tdesc_mips64_linux (void)\n   tdesc_create_reg (feature, \"fcsr\", 70, 1, \"float\", 64, \"int\");\n   tdesc_create_reg (feature, \"fir\", 71, 1, \"float\", 64, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.mips.linux\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.mips.linux\");\n   tdesc_create_reg (feature, \"restart\", 72, 1, \"system\", 64, \"int\");\n \n-  tdesc_mips64_linux = result;\n+  tdesc_mips64_linux = result.release ();\n }"
    },
    {
      "sha": "ed535b5ab9f59cd91ea426763c6a3125c75b7ec0",
      "filename": "gdb/features/nds32.c",
      "status": "modified",
      "additions": 6,
      "deletions": 6,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/nds32.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/nds32.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/nds32.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_nds32;\n static void\n initialize_tdesc_nds32 (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"n1h\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"n1h\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.nds32.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.nds32.core\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 32, \"int\");\n@@ -49,7 +49,7 @@ initialize_tdesc_nds32 (void)\n   tdesc_create_reg (feature, \"sp\", 31, 1, NULL, 32, \"data_ptr\");\n   tdesc_create_reg (feature, \"pc\", 32, 1, NULL, 32, \"code_ptr\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.nds32.fpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.nds32.fpu\");\n   tdesc_create_reg (feature, \"fd0\", 33, 1, \"float\", 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"fd1\", 34, 1, \"float\", 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"fd2\", 35, 1, \"float\", 64, \"ieee_double\");\n@@ -83,10 +83,10 @@ initialize_tdesc_nds32 (void)\n   tdesc_create_reg (feature, \"fd30\", 63, 1, \"float\", 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"fd31\", 64, 1, \"float\", 64, \"ieee_double\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.nds32.system\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.nds32.system\");\n   tdesc_create_reg (feature, \"ir0\", 65, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"itb\", 66, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"ifc_lp\", 67, 1, NULL, 32, \"int\");\n \n-  tdesc_nds32 = result;\n+  tdesc_nds32 = result.release ();\n }"
    },
    {
      "sha": "6872aaea02d14a28e00b64583c0977113e112a21",
      "filename": "gdb/features/nios2.c",
      "status": "modified",
      "additions": 4,
      "deletions": 4,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/nios2.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/nios2.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/nios2.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_nios2;\n static void\n initialize_tdesc_nios2 (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"nios2\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"nios2\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.nios2.cpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.nios2.cpu\");\n   tdesc_create_reg (feature, \"zero\", 0, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"at\", 1, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 32, \"uint32\");\n@@ -65,5 +65,5 @@ initialize_tdesc_nios2 (void)\n   tdesc_create_reg (feature, \"mpubase\", 47, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"mpuacc\", 48, 1, NULL, 32, \"uint32\");\n \n-  tdesc_nios2 = result;\n+  tdesc_nios2 = result.release ();\n }"
    },
    {
      "sha": "c1fd26ce8d6e6a80a6a778faa188049e54798208",
      "filename": "gdb/features/or1k.c",
      "status": "modified",
      "additions": 4,
      "deletions": 4,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/or1k.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/or1k.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/or1k.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_or1k;\n static void\n initialize_tdesc_or1k (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"or1k\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"or1k\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.or1k.group0\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.or1k.group0\");\n   tdesc_type_with_fields *type_with_fields;\n   type_with_fields = tdesc_create_flags (feature, \"sr_flags\", 4);\n   tdesc_add_flag (type_with_fields, 0, \"SM\");\n@@ -72,5 +72,5 @@ initialize_tdesc_or1k (void)\n   tdesc_create_reg (feature, \"npc\", 33, 1, NULL, 32, \"code_ptr\");\n   tdesc_create_reg (feature, \"sr\", 34, 1, NULL, 32, \"sr_flags\");\n \n-  tdesc_or1k = result;\n+  tdesc_or1k = result.release ();\n }"
    },
    {
      "sha": "4c766b7bf0e6508f872faf460a2866195f829a16",
      "filename": "gdb/features/rs6000/powerpc-32.c",
      "status": "modified",
      "additions": 5,
      "deletions": 5,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-32.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-32.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/rs6000/powerpc-32.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_powerpc_32;\n static void\n initialize_tdesc_powerpc_32 (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"powerpc:common\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"powerpc:common\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.core\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 32, \"uint32\");\n@@ -54,7 +54,7 @@ initialize_tdesc_powerpc_32 (void)\n   tdesc_create_reg (feature, \"ctr\", 68, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"xer\", 69, 1, NULL, 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.fpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.fpu\");\n   tdesc_create_reg (feature, \"f0\", 32, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 33, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f2\", 34, 1, NULL, 64, \"ieee_double\");\n@@ -89,5 +89,5 @@ initialize_tdesc_powerpc_32 (void)\n   tdesc_create_reg (feature, \"f31\", 63, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"fpscr\", 70, 1, \"float\", 32, \"int\");\n \n-  tdesc_powerpc_32 = result;\n+  tdesc_powerpc_32 = result.release ();\n }"
    },
    {
      "sha": "34cba5d8a828a0f4a177a9f15fb455f5bfde06c1",
      "filename": "gdb/features/rs6000/powerpc-32l.c",
      "status": "modified",
      "additions": 6,
      "deletions": 6,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-32l.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-32l.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/rs6000/powerpc-32l.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_powerpc_32l;\n static void\n initialize_tdesc_powerpc_32l (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"powerpc:common\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"powerpc:common\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.core\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 32, \"uint32\");\n@@ -54,7 +54,7 @@ initialize_tdesc_powerpc_32l (void)\n   tdesc_create_reg (feature, \"ctr\", 68, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"xer\", 69, 1, NULL, 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.fpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.fpu\");\n   tdesc_create_reg (feature, \"f0\", 32, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 33, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f2\", 34, 1, NULL, 64, \"ieee_double\");\n@@ -89,9 +89,9 @@ initialize_tdesc_powerpc_32l (void)\n   tdesc_create_reg (feature, \"f31\", 63, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"fpscr\", 70, 1, \"float\", 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.linux\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.linux\");\n   tdesc_create_reg (feature, \"orig_r3\", 71, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"trap\", 72, 1, NULL, 32, \"int\");\n \n-  tdesc_powerpc_32l = result;\n+  tdesc_powerpc_32l = result.release ();\n }"
    },
    {
      "sha": "1b16e081c6154307ff7d5d12bb9eaa7a18bb86c6",
      "filename": "gdb/features/rs6000/powerpc-403.c",
      "status": "modified",
      "additions": 6,
      "deletions": 6,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-403.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-403.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/rs6000/powerpc-403.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,10 +9,10 @@ struct target_desc *tdesc_powerpc_403;\n static void\n initialize_tdesc_powerpc_403 (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n+  target_desc_up result = allocate_target_description ();\n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.core\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 32, \"uint32\");\n@@ -52,7 +52,7 @@ initialize_tdesc_powerpc_403 (void)\n   tdesc_create_reg (feature, \"ctr\", 68, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"xer\", 69, 1, NULL, 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.fpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.fpu\");\n   tdesc_create_reg (feature, \"f0\", 32, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 33, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f2\", 34, 1, NULL, 64, \"ieee_double\");\n@@ -87,7 +87,7 @@ initialize_tdesc_powerpc_403 (void)\n   tdesc_create_reg (feature, \"f31\", 63, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"fpscr\", 70, 1, \"float\", 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"OEA\");\n+  feature = tdesc_create_feature (result.get (), \"OEA\");\n   tdesc_create_reg (feature, \"sr0\", 71, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"sr1\", 72, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"sr2\", 73, 1, NULL, 32, \"int\");\n@@ -137,7 +137,7 @@ initialize_tdesc_powerpc_403 (void)\n   tdesc_create_reg (feature, \"dabr\", 117, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"ear\", 118, 1, NULL, 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"403\");\n+  feature = tdesc_create_feature (result.get (), \"403\");\n   tdesc_create_reg (feature, \"icdbdr\", 119, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"esr\", 120, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"dear\", 121, 1, NULL, 32, \"int\");\n@@ -163,5 +163,5 @@ initialize_tdesc_powerpc_403 (void)\n   tdesc_create_reg (feature, \"pbl2\", 141, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"pbu2\", 142, 1, NULL, 32, \"int\");\n \n-  tdesc_powerpc_403 = result;\n+  tdesc_powerpc_403 = result.release ();\n }"
    },
    {
      "sha": "4ff844dcd73fa7adb2d59a80976f1d1b84b8b5f7",
      "filename": "gdb/features/rs6000/powerpc-403gc.c",
      "status": "modified",
      "additions": 6,
      "deletions": 6,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-403gc.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-403gc.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/rs6000/powerpc-403gc.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,10 +9,10 @@ struct target_desc *tdesc_powerpc_403gc;\n static void\n initialize_tdesc_powerpc_403gc (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n+  target_desc_up result = allocate_target_description ();\n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.core\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 32, \"uint32\");\n@@ -52,7 +52,7 @@ initialize_tdesc_powerpc_403gc (void)\n   tdesc_create_reg (feature, \"ctr\", 68, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"xer\", 69, 1, NULL, 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.fpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.fpu\");\n   tdesc_create_reg (feature, \"f0\", 32, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 33, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f2\", 34, 1, NULL, 64, \"ieee_double\");\n@@ -87,7 +87,7 @@ initialize_tdesc_powerpc_403gc (void)\n   tdesc_create_reg (feature, \"f31\", 63, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"fpscr\", 70, 1, \"float\", 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"OEA\");\n+  feature = tdesc_create_feature (result.get (), \"OEA\");\n   tdesc_create_reg (feature, \"sr0\", 71, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"sr1\", 72, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"sr2\", 73, 1, NULL, 32, \"int\");\n@@ -137,7 +137,7 @@ initialize_tdesc_powerpc_403gc (void)\n   tdesc_create_reg (feature, \"dabr\", 117, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"ear\", 118, 1, NULL, 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"403GC\");\n+  feature = tdesc_create_feature (result.get (), \"403GC\");\n   tdesc_create_reg (feature, \"icdbdr\", 119, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"esr\", 120, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"dear\", 121, 1, NULL, 32, \"int\");\n@@ -169,5 +169,5 @@ initialize_tdesc_powerpc_403gc (void)\n   tdesc_create_reg (feature, \"tbhu\", 147, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"tblu\", 148, 1, NULL, 32, \"int\");\n \n-  tdesc_powerpc_403gc = result;\n+  tdesc_powerpc_403gc = result.release ();\n }"
    },
    {
      "sha": "4c97aa5ef629e9cd14c25ee54344cb010b163401",
      "filename": "gdb/features/rs6000/powerpc-405.c",
      "status": "modified",
      "additions": 5,
      "deletions": 5,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-405.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-405.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/rs6000/powerpc-405.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,10 +9,10 @@ struct target_desc *tdesc_powerpc_405;\n static void\n initialize_tdesc_powerpc_405 (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n+  target_desc_up result = allocate_target_description ();\n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.core\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 32, \"uint32\");\n@@ -52,7 +52,7 @@ initialize_tdesc_powerpc_405 (void)\n   tdesc_create_reg (feature, \"ctr\", 68, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"xer\", 69, 1, NULL, 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.fpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.fpu\");\n   tdesc_create_reg (feature, \"f0\", 32, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 33, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f2\", 34, 1, NULL, 64, \"ieee_double\");\n@@ -87,7 +87,7 @@ initialize_tdesc_powerpc_405 (void)\n   tdesc_create_reg (feature, \"f31\", 63, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"fpscr\", 70, 1, \"float\", 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"405\");\n+  feature = tdesc_create_feature (result.get (), \"405\");\n   tdesc_create_reg (feature, \"pvr\", 87, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"sprg0\", 108, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"sprg1\", 109, 1, NULL, 32, \"int\");\n@@ -132,5 +132,5 @@ initialize_tdesc_powerpc_405 (void)\n   tdesc_create_reg (feature, \"su0r\", 160, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"usprg0\", 161, 1, NULL, 32, \"int\");\n \n-  tdesc_powerpc_405 = result;\n+  tdesc_powerpc_405 = result.release ();\n }"
    },
    {
      "sha": "b9cae668aac07aa42acf0d99656bad0fc94eaac2",
      "filename": "gdb/features/rs6000/powerpc-505.c",
      "status": "modified",
      "additions": 6,
      "deletions": 6,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-505.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-505.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/rs6000/powerpc-505.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,10 +9,10 @@ struct target_desc *tdesc_powerpc_505;\n static void\n initialize_tdesc_powerpc_505 (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n+  target_desc_up result = allocate_target_description ();\n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.core\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 32, \"uint32\");\n@@ -52,7 +52,7 @@ initialize_tdesc_powerpc_505 (void)\n   tdesc_create_reg (feature, \"ctr\", 68, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"xer\", 69, 1, NULL, 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.fpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.fpu\");\n   tdesc_create_reg (feature, \"f0\", 32, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 33, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f2\", 34, 1, NULL, 64, \"ieee_double\");\n@@ -87,7 +87,7 @@ initialize_tdesc_powerpc_505 (void)\n   tdesc_create_reg (feature, \"f31\", 63, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"fpscr\", 70, 1, \"float\", 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"OEA\");\n+  feature = tdesc_create_feature (result.get (), \"OEA\");\n   tdesc_create_reg (feature, \"sr0\", 71, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"sr1\", 72, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"sr2\", 73, 1, NULL, 32, \"int\");\n@@ -137,10 +137,10 @@ initialize_tdesc_powerpc_505 (void)\n   tdesc_create_reg (feature, \"dabr\", 117, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"ear\", 118, 1, NULL, 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"505\");\n+  feature = tdesc_create_feature (result.get (), \"505\");\n   tdesc_create_reg (feature, \"eie\", 119, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"eid\", 120, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"nri\", 121, 1, NULL, 32, \"int\");\n \n-  tdesc_powerpc_505 = result;\n+  tdesc_powerpc_505 = result.release ();\n }"
    },
    {
      "sha": "ba35dc97bf2cd239431172594a1ad497630fb9bb",
      "filename": "gdb/features/rs6000/powerpc-601.c",
      "status": "modified",
      "additions": 6,
      "deletions": 6,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-601.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-601.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/rs6000/powerpc-601.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,10 +9,10 @@ struct target_desc *tdesc_powerpc_601;\n static void\n initialize_tdesc_powerpc_601 (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n+  target_desc_up result = allocate_target_description ();\n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.core\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 32, \"int\");\n@@ -53,7 +53,7 @@ initialize_tdesc_powerpc_601 (void)\n   tdesc_create_reg (feature, \"xer\", 69, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"mq\", 124, 1, NULL, 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.fpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.fpu\");\n   tdesc_create_reg (feature, \"f0\", 32, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 33, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f2\", 34, 1, NULL, 64, \"ieee_double\");\n@@ -88,7 +88,7 @@ initialize_tdesc_powerpc_601 (void)\n   tdesc_create_reg (feature, \"f31\", 63, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"fpscr\", 70, 1, \"float\", 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"OEA\");\n+  feature = tdesc_create_feature (result.get (), \"OEA\");\n   tdesc_create_reg (feature, \"sr0\", 71, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"sr1\", 72, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"sr2\", 73, 1, NULL, 32, \"int\");\n@@ -138,13 +138,13 @@ initialize_tdesc_powerpc_601 (void)\n   tdesc_create_reg (feature, \"dabr\", 117, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"ear\", 118, 1, NULL, 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"601\");\n+  feature = tdesc_create_feature (result.get (), \"601\");\n   tdesc_create_reg (feature, \"hid0\", 119, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"hid1\", 120, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"iabr\", 121, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"pir\", 123, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"rtcu\", 125, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"rtcl\", 126, 1, NULL, 32, \"int\");\n \n-  tdesc_powerpc_601 = result;\n+  tdesc_powerpc_601 = result.release ();\n }"
    },
    {
      "sha": "7f69f44ca34d2939b4a0173fd8ffd0417fbe7b55",
      "filename": "gdb/features/rs6000/powerpc-602.c",
      "status": "modified",
      "additions": 6,
      "deletions": 6,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-602.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-602.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/rs6000/powerpc-602.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,10 +9,10 @@ struct target_desc *tdesc_powerpc_602;\n static void\n initialize_tdesc_powerpc_602 (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n+  target_desc_up result = allocate_target_description ();\n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.core\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 32, \"uint32\");\n@@ -52,7 +52,7 @@ initialize_tdesc_powerpc_602 (void)\n   tdesc_create_reg (feature, \"ctr\", 68, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"xer\", 69, 1, NULL, 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.fpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.fpu\");\n   tdesc_create_reg (feature, \"f0\", 32, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 33, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f2\", 34, 1, NULL, 64, \"ieee_double\");\n@@ -87,7 +87,7 @@ initialize_tdesc_powerpc_602 (void)\n   tdesc_create_reg (feature, \"f31\", 63, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"fpscr\", 70, 1, \"float\", 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"OEA\");\n+  feature = tdesc_create_feature (result.get (), \"OEA\");\n   tdesc_create_reg (feature, \"sr0\", 71, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"sr1\", 72, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"sr2\", 73, 1, NULL, 32, \"int\");\n@@ -137,7 +137,7 @@ initialize_tdesc_powerpc_602 (void)\n   tdesc_create_reg (feature, \"dabr\", 117, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"ear\", 118, 1, NULL, 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"602\");\n+  feature = tdesc_create_feature (result.get (), \"602\");\n   tdesc_create_reg (feature, \"hid0\", 119, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"hid1\", 120, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"iabr\", 121, 1, NULL, 32, \"int\");\n@@ -149,5 +149,5 @@ initialize_tdesc_powerpc_602 (void)\n   tdesc_create_reg (feature, \"sp\", 129, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"lt\", 130, 1, NULL, 32, \"int\");\n \n-  tdesc_powerpc_602 = result;\n+  tdesc_powerpc_602 = result.release ();\n }"
    },
    {
      "sha": "28c3628dbf5d62b109a6f67860d305cd3ce078f1",
      "filename": "gdb/features/rs6000/powerpc-603.c",
      "status": "modified",
      "additions": 6,
      "deletions": 6,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-603.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-603.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/rs6000/powerpc-603.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,10 +9,10 @@ struct target_desc *tdesc_powerpc_603;\n static void\n initialize_tdesc_powerpc_603 (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n+  target_desc_up result = allocate_target_description ();\n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.core\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 32, \"uint32\");\n@@ -52,7 +52,7 @@ initialize_tdesc_powerpc_603 (void)\n   tdesc_create_reg (feature, \"ctr\", 68, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"xer\", 69, 1, NULL, 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.fpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.fpu\");\n   tdesc_create_reg (feature, \"f0\", 32, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 33, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f2\", 34, 1, NULL, 64, \"ieee_double\");\n@@ -87,7 +87,7 @@ initialize_tdesc_powerpc_603 (void)\n   tdesc_create_reg (feature, \"f31\", 63, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"fpscr\", 70, 1, \"float\", 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"OEA\");\n+  feature = tdesc_create_feature (result.get (), \"OEA\");\n   tdesc_create_reg (feature, \"sr0\", 71, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"sr1\", 72, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"sr2\", 73, 1, NULL, 32, \"int\");\n@@ -137,7 +137,7 @@ initialize_tdesc_powerpc_603 (void)\n   tdesc_create_reg (feature, \"dabr\", 117, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"ear\", 118, 1, NULL, 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"603\");\n+  feature = tdesc_create_feature (result.get (), \"603\");\n   tdesc_create_reg (feature, \"hid0\", 119, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"hid1\", 120, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"iabr\", 121, 1, NULL, 32, \"int\");\n@@ -149,5 +149,5 @@ initialize_tdesc_powerpc_603 (void)\n   tdesc_create_reg (feature, \"icmp\", 129, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"rpa\", 130, 1, NULL, 32, \"int\");\n \n-  tdesc_powerpc_603 = result;\n+  tdesc_powerpc_603 = result.release ();\n }"
    },
    {
      "sha": "fe0fe2fc7e46ff895fd31021c580130763aa25ae",
      "filename": "gdb/features/rs6000/powerpc-604.c",
      "status": "modified",
      "additions": 6,
      "deletions": 6,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-604.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-604.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/rs6000/powerpc-604.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,10 +9,10 @@ struct target_desc *tdesc_powerpc_604;\n static void\n initialize_tdesc_powerpc_604 (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n+  target_desc_up result = allocate_target_description ();\n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.core\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 32, \"uint32\");\n@@ -52,7 +52,7 @@ initialize_tdesc_powerpc_604 (void)\n   tdesc_create_reg (feature, \"ctr\", 68, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"xer\", 69, 1, NULL, 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.fpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.fpu\");\n   tdesc_create_reg (feature, \"f0\", 32, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 33, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f2\", 34, 1, NULL, 64, \"ieee_double\");\n@@ -87,7 +87,7 @@ initialize_tdesc_powerpc_604 (void)\n   tdesc_create_reg (feature, \"f31\", 63, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"fpscr\", 70, 1, \"float\", 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"OEA\");\n+  feature = tdesc_create_feature (result.get (), \"OEA\");\n   tdesc_create_reg (feature, \"sr0\", 71, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"sr1\", 72, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"sr2\", 73, 1, NULL, 32, \"int\");\n@@ -137,7 +137,7 @@ initialize_tdesc_powerpc_604 (void)\n   tdesc_create_reg (feature, \"dabr\", 117, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"ear\", 118, 1, NULL, 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"604\");\n+  feature = tdesc_create_feature (result.get (), \"604\");\n   tdesc_create_reg (feature, \"hid0\", 119, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"hid1\", 120, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"iabr\", 121, 1, NULL, 32, \"int\");\n@@ -149,5 +149,5 @@ initialize_tdesc_powerpc_604 (void)\n   tdesc_create_reg (feature, \"sia\", 127, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"sda\", 128, 1, NULL, 32, \"int\");\n \n-  tdesc_powerpc_604 = result;\n+  tdesc_powerpc_604 = result.release ();\n }"
    },
    {
      "sha": "d0688ee28ebf4b57dee4d05c06ff5738a82dbeb9",
      "filename": "gdb/features/rs6000/powerpc-64.c",
      "status": "modified",
      "additions": 5,
      "deletions": 5,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-64.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-64.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/rs6000/powerpc-64.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_powerpc_64;\n static void\n initialize_tdesc_powerpc_64 (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"powerpc:common64\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"powerpc:common64\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.core\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 64, \"uint64\");\n@@ -54,7 +54,7 @@ initialize_tdesc_powerpc_64 (void)\n   tdesc_create_reg (feature, \"ctr\", 68, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"xer\", 69, 1, NULL, 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.fpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.fpu\");\n   tdesc_create_reg (feature, \"f0\", 32, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 33, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f2\", 34, 1, NULL, 64, \"ieee_double\");\n@@ -89,5 +89,5 @@ initialize_tdesc_powerpc_64 (void)\n   tdesc_create_reg (feature, \"f31\", 63, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"fpscr\", 70, 1, \"float\", 32, \"int\");\n \n-  tdesc_powerpc_64 = result;\n+  tdesc_powerpc_64 = result.release ();\n }"
    },
    {
      "sha": "465c023696a657d6d425f2c91244a1fea71a7404",
      "filename": "gdb/features/rs6000/powerpc-64l.c",
      "status": "modified",
      "additions": 6,
      "deletions": 6,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-64l.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-64l.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/rs6000/powerpc-64l.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_powerpc_64l;\n static void\n initialize_tdesc_powerpc_64l (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"powerpc:common64\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"powerpc:common64\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.core\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 64, \"uint64\");\n@@ -54,7 +54,7 @@ initialize_tdesc_powerpc_64l (void)\n   tdesc_create_reg (feature, \"ctr\", 68, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"xer\", 69, 1, NULL, 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.fpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.fpu\");\n   tdesc_create_reg (feature, \"f0\", 32, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 33, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f2\", 34, 1, NULL, 64, \"ieee_double\");\n@@ -89,9 +89,9 @@ initialize_tdesc_powerpc_64l (void)\n   tdesc_create_reg (feature, \"f31\", 63, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"fpscr\", 70, 1, \"float\", 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.linux\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.linux\");\n   tdesc_create_reg (feature, \"orig_r3\", 71, 1, NULL, 64, \"int\");\n   tdesc_create_reg (feature, \"trap\", 72, 1, NULL, 64, \"int\");\n \n-  tdesc_powerpc_64l = result;\n+  tdesc_powerpc_64l = result.release ();\n }"
    },
    {
      "sha": "0e71dd7c2bb5c41c8e9c345e473b4f4b3109bbbb",
      "filename": "gdb/features/rs6000/powerpc-7400.c",
      "status": "modified",
      "additions": 6,
      "deletions": 6,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-7400.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-7400.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/rs6000/powerpc-7400.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,10 +9,10 @@ struct target_desc *tdesc_powerpc_7400;\n static void\n initialize_tdesc_powerpc_7400 (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n+  target_desc_up result = allocate_target_description ();\n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.core\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 32, \"uint32\");\n@@ -52,7 +52,7 @@ initialize_tdesc_powerpc_7400 (void)\n   tdesc_create_reg (feature, \"ctr\", 68, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"xer\", 69, 1, NULL, 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.fpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.fpu\");\n   tdesc_create_reg (feature, \"f0\", 32, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 33, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f2\", 34, 1, NULL, 64, \"ieee_double\");\n@@ -87,7 +87,7 @@ initialize_tdesc_powerpc_7400 (void)\n   tdesc_create_reg (feature, \"f31\", 63, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"fpscr\", 70, 1, \"float\", 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"OEA\");\n+  feature = tdesc_create_feature (result.get (), \"OEA\");\n   tdesc_create_reg (feature, \"sr0\", 71, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"sr1\", 72, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"sr2\", 73, 1, NULL, 32, \"int\");\n@@ -137,7 +137,7 @@ initialize_tdesc_powerpc_7400 (void)\n   tdesc_create_reg (feature, \"dabr\", 117, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"ear\", 118, 1, NULL, 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.altivec\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.altivec\");\n   tdesc_type *element_type;\n   element_type = tdesc_named_type (feature, \"ieee_single\");\n   tdesc_create_vector (feature, \"v4f\", element_type, 4);\n@@ -200,5 +200,5 @@ initialize_tdesc_powerpc_7400 (void)\n   tdesc_create_reg (feature, \"vscr\", 151, 1, \"vector\", 32, \"int\");\n   tdesc_create_reg (feature, \"vrsave\", 152, 1, \"vector\", 32, \"int\");\n \n-  tdesc_powerpc_7400 = result;\n+  tdesc_powerpc_7400 = result.release ();\n }"
    },
    {
      "sha": "396ec45665164526c63d8dc7a1b3b0ffc1d22db5",
      "filename": "gdb/features/rs6000/powerpc-750.c",
      "status": "modified",
      "additions": 6,
      "deletions": 6,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-750.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-750.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/rs6000/powerpc-750.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,10 +9,10 @@ struct target_desc *tdesc_powerpc_750;\n static void\n initialize_tdesc_powerpc_750 (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n+  target_desc_up result = allocate_target_description ();\n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.core\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 32, \"uint32\");\n@@ -52,7 +52,7 @@ initialize_tdesc_powerpc_750 (void)\n   tdesc_create_reg (feature, \"ctr\", 68, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"xer\", 69, 1, NULL, 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.fpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.fpu\");\n   tdesc_create_reg (feature, \"f0\", 32, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 33, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f2\", 34, 1, NULL, 64, \"ieee_double\");\n@@ -87,7 +87,7 @@ initialize_tdesc_powerpc_750 (void)\n   tdesc_create_reg (feature, \"f31\", 63, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"fpscr\", 70, 1, \"float\", 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"OEA\");\n+  feature = tdesc_create_feature (result.get (), \"OEA\");\n   tdesc_create_reg (feature, \"sr0\", 71, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"sr1\", 72, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"sr2\", 73, 1, NULL, 32, \"int\");\n@@ -137,7 +137,7 @@ initialize_tdesc_powerpc_750 (void)\n   tdesc_create_reg (feature, \"dabr\", 117, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"ear\", 118, 1, NULL, 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"750\");\n+  feature = tdesc_create_feature (result.get (), \"750\");\n   tdesc_create_reg (feature, \"hid0\", 119, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"hid1\", 120, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"iabr\", 121, 1, NULL, 32, \"int\");\n@@ -162,5 +162,5 @@ initialize_tdesc_powerpc_750 (void)\n   tdesc_create_reg (feature, \"thrm2\", 141, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"thrm3\", 142, 1, NULL, 32, \"int\");\n \n-  tdesc_powerpc_750 = result;\n+  tdesc_powerpc_750 = result.release ();\n }"
    },
    {
      "sha": "328ad195772eb09b666c8aae8cf130c14e8c3fda",
      "filename": "gdb/features/rs6000/powerpc-860.c",
      "status": "modified",
      "additions": 6,
      "deletions": 6,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-860.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-860.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/rs6000/powerpc-860.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,10 +9,10 @@ struct target_desc *tdesc_powerpc_860;\n static void\n initialize_tdesc_powerpc_860 (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n+  target_desc_up result = allocate_target_description ();\n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.core\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 32, \"uint32\");\n@@ -52,7 +52,7 @@ initialize_tdesc_powerpc_860 (void)\n   tdesc_create_reg (feature, \"ctr\", 68, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"xer\", 69, 1, NULL, 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.fpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.fpu\");\n   tdesc_create_reg (feature, \"f0\", 32, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 33, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f2\", 34, 1, NULL, 64, \"ieee_double\");\n@@ -87,7 +87,7 @@ initialize_tdesc_powerpc_860 (void)\n   tdesc_create_reg (feature, \"f31\", 63, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"fpscr\", 70, 1, \"float\", 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"OEA\");\n+  feature = tdesc_create_feature (result.get (), \"OEA\");\n   tdesc_create_reg (feature, \"sr0\", 71, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"sr1\", 72, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"sr2\", 73, 1, NULL, 32, \"int\");\n@@ -137,7 +137,7 @@ initialize_tdesc_powerpc_860 (void)\n   tdesc_create_reg (feature, \"dabr\", 117, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"ear\", 118, 1, NULL, 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"860\");\n+  feature = tdesc_create_feature (result.get (), \"860\");\n   tdesc_create_reg (feature, \"eie\", 119, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"eid\", 120, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"nri\", 121, 1, NULL, 32, \"int\");\n@@ -186,5 +186,5 @@ initialize_tdesc_powerpc_860 (void)\n   tdesc_create_reg (feature, \"md_dbram0\", 164, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"md_dbram1\", 165, 1, NULL, 32, \"int\");\n \n-  tdesc_powerpc_860 = result;\n+  tdesc_powerpc_860 = result.release ();\n }"
    },
    {
      "sha": "743ca06fdd154f9ef33bdd74f3b88f417b2d3cb0",
      "filename": "gdb/features/rs6000/powerpc-altivec32.c",
      "status": "modified",
      "additions": 6,
      "deletions": 6,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-altivec32.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-altivec32.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/rs6000/powerpc-altivec32.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_powerpc_altivec32;\n static void\n initialize_tdesc_powerpc_altivec32 (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"powerpc:common\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"powerpc:common\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.core\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 32, \"uint32\");\n@@ -54,7 +54,7 @@ initialize_tdesc_powerpc_altivec32 (void)\n   tdesc_create_reg (feature, \"ctr\", 68, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"xer\", 69, 1, NULL, 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.fpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.fpu\");\n   tdesc_create_reg (feature, \"f0\", 32, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 33, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f2\", 34, 1, NULL, 64, \"ieee_double\");\n@@ -89,7 +89,7 @@ initialize_tdesc_powerpc_altivec32 (void)\n   tdesc_create_reg (feature, \"f31\", 63, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"fpscr\", 70, 1, \"float\", 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.altivec\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.altivec\");\n   tdesc_type *element_type;\n   element_type = tdesc_named_type (feature, \"ieee_single\");\n   tdesc_create_vector (feature, \"v4f\", element_type, 4);\n@@ -152,5 +152,5 @@ initialize_tdesc_powerpc_altivec32 (void)\n   tdesc_create_reg (feature, \"vscr\", 103, 1, \"vector\", 32, \"int\");\n   tdesc_create_reg (feature, \"vrsave\", 104, 1, \"vector\", 32, \"int\");\n \n-  tdesc_powerpc_altivec32 = result;\n+  tdesc_powerpc_altivec32 = result.release ();\n }"
    },
    {
      "sha": "a19016bbac46eca74e432937ec3e9b24025183cf",
      "filename": "gdb/features/rs6000/powerpc-altivec32l.c",
      "status": "modified",
      "additions": 7,
      "deletions": 7,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-altivec32l.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-altivec32l.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/rs6000/powerpc-altivec32l.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_powerpc_altivec32l;\n static void\n initialize_tdesc_powerpc_altivec32l (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"powerpc:common\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"powerpc:common\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.core\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 32, \"uint32\");\n@@ -54,7 +54,7 @@ initialize_tdesc_powerpc_altivec32l (void)\n   tdesc_create_reg (feature, \"ctr\", 68, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"xer\", 69, 1, NULL, 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.fpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.fpu\");\n   tdesc_create_reg (feature, \"f0\", 32, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 33, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f2\", 34, 1, NULL, 64, \"ieee_double\");\n@@ -89,11 +89,11 @@ initialize_tdesc_powerpc_altivec32l (void)\n   tdesc_create_reg (feature, \"f31\", 63, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"fpscr\", 70, 1, \"float\", 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.linux\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.linux\");\n   tdesc_create_reg (feature, \"orig_r3\", 71, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"trap\", 72, 1, NULL, 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.altivec\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.altivec\");\n   tdesc_type *element_type;\n   element_type = tdesc_named_type (feature, \"ieee_single\");\n   tdesc_create_vector (feature, \"v4f\", element_type, 4);\n@@ -156,5 +156,5 @@ initialize_tdesc_powerpc_altivec32l (void)\n   tdesc_create_reg (feature, \"vscr\", 105, 1, \"vector\", 32, \"int\");\n   tdesc_create_reg (feature, \"vrsave\", 106, 1, \"vector\", 32, \"int\");\n \n-  tdesc_powerpc_altivec32l = result;\n+  tdesc_powerpc_altivec32l = result.release ();\n }"
    },
    {
      "sha": "b8a157bb98eac3fb0e70aaa65a00e28e3f683010",
      "filename": "gdb/features/rs6000/powerpc-altivec64.c",
      "status": "modified",
      "additions": 6,
      "deletions": 6,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-altivec64.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-altivec64.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/rs6000/powerpc-altivec64.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_powerpc_altivec64;\n static void\n initialize_tdesc_powerpc_altivec64 (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"powerpc:common64\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"powerpc:common64\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.core\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 64, \"uint64\");\n@@ -54,7 +54,7 @@ initialize_tdesc_powerpc_altivec64 (void)\n   tdesc_create_reg (feature, \"ctr\", 68, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"xer\", 69, 1, NULL, 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.fpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.fpu\");\n   tdesc_create_reg (feature, \"f0\", 32, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 33, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f2\", 34, 1, NULL, 64, \"ieee_double\");\n@@ -89,7 +89,7 @@ initialize_tdesc_powerpc_altivec64 (void)\n   tdesc_create_reg (feature, \"f31\", 63, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"fpscr\", 70, 1, \"float\", 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.altivec\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.altivec\");\n   tdesc_type *element_type;\n   element_type = tdesc_named_type (feature, \"ieee_single\");\n   tdesc_create_vector (feature, \"v4f\", element_type, 4);\n@@ -152,5 +152,5 @@ initialize_tdesc_powerpc_altivec64 (void)\n   tdesc_create_reg (feature, \"vscr\", 103, 1, \"vector\", 32, \"int\");\n   tdesc_create_reg (feature, \"vrsave\", 104, 1, \"vector\", 32, \"int\");\n \n-  tdesc_powerpc_altivec64 = result;\n+  tdesc_powerpc_altivec64 = result.release ();\n }"
    },
    {
      "sha": "1846d067330689ec643d190c25b58051094497a6",
      "filename": "gdb/features/rs6000/powerpc-altivec64l.c",
      "status": "modified",
      "additions": 7,
      "deletions": 7,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-altivec64l.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-altivec64l.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/rs6000/powerpc-altivec64l.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_powerpc_altivec64l;\n static void\n initialize_tdesc_powerpc_altivec64l (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"powerpc:common64\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"powerpc:common64\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.core\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 64, \"uint64\");\n@@ -54,7 +54,7 @@ initialize_tdesc_powerpc_altivec64l (void)\n   tdesc_create_reg (feature, \"ctr\", 68, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"xer\", 69, 1, NULL, 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.fpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.fpu\");\n   tdesc_create_reg (feature, \"f0\", 32, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 33, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f2\", 34, 1, NULL, 64, \"ieee_double\");\n@@ -89,11 +89,11 @@ initialize_tdesc_powerpc_altivec64l (void)\n   tdesc_create_reg (feature, \"f31\", 63, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"fpscr\", 70, 1, \"float\", 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.linux\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.linux\");\n   tdesc_create_reg (feature, \"orig_r3\", 71, 1, NULL, 64, \"int\");\n   tdesc_create_reg (feature, \"trap\", 72, 1, NULL, 64, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.altivec\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.altivec\");\n   tdesc_type *element_type;\n   element_type = tdesc_named_type (feature, \"ieee_single\");\n   tdesc_create_vector (feature, \"v4f\", element_type, 4);\n@@ -156,5 +156,5 @@ initialize_tdesc_powerpc_altivec64l (void)\n   tdesc_create_reg (feature, \"vscr\", 105, 1, \"vector\", 32, \"int\");\n   tdesc_create_reg (feature, \"vrsave\", 106, 1, \"vector\", 32, \"int\");\n \n-  tdesc_powerpc_altivec64l = result;\n+  tdesc_powerpc_altivec64l = result.release ();\n }"
    },
    {
      "sha": "bf6240561d03712f0ffc816e9a846b49a04bcd78",
      "filename": "gdb/features/rs6000/powerpc-e500.c",
      "status": "modified",
      "additions": 5,
      "deletions": 5,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-e500.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-e500.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/rs6000/powerpc-e500.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_powerpc_e500;\n static void\n initialize_tdesc_powerpc_e500 (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"powerpc:e500\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"powerpc:e500\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.core\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 32, \"uint32\");\n@@ -54,7 +54,7 @@ initialize_tdesc_powerpc_e500 (void)\n   tdesc_create_reg (feature, \"ctr\", 68, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"xer\", 69, 1, NULL, 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.spe\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.spe\");\n   tdesc_create_reg (feature, \"ev0h\", 32, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"ev1h\", 33, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"ev2h\", 34, 1, NULL, 32, \"int\");\n@@ -90,5 +90,5 @@ initialize_tdesc_powerpc_e500 (void)\n   tdesc_create_reg (feature, \"acc\", 73, 1, NULL, 64, \"int\");\n   tdesc_create_reg (feature, \"spefscr\", 74, 1, NULL, 32, \"int\");\n \n-  tdesc_powerpc_e500 = result;\n+  tdesc_powerpc_e500 = result.release ();\n }"
    },
    {
      "sha": "8199989d3a1c7836a878442bf68ecc9fc0cfe39c",
      "filename": "gdb/features/rs6000/powerpc-e500l.c",
      "status": "modified",
      "additions": 6,
      "deletions": 6,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-e500l.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-e500l.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/rs6000/powerpc-e500l.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_powerpc_e500l;\n static void\n initialize_tdesc_powerpc_e500l (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"powerpc:e500\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"powerpc:e500\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.core\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 32, \"uint32\");\n@@ -54,7 +54,7 @@ initialize_tdesc_powerpc_e500l (void)\n   tdesc_create_reg (feature, \"ctr\", 68, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"xer\", 69, 1, NULL, 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.spe\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.spe\");\n   tdesc_create_reg (feature, \"ev0h\", 32, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"ev1h\", 33, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"ev2h\", 34, 1, NULL, 32, \"int\");\n@@ -90,9 +90,9 @@ initialize_tdesc_powerpc_e500l (void)\n   tdesc_create_reg (feature, \"acc\", 73, 1, NULL, 64, \"int\");\n   tdesc_create_reg (feature, \"spefscr\", 74, 1, NULL, 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.linux\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.linux\");\n   tdesc_create_reg (feature, \"orig_r3\", 71, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"trap\", 72, 1, NULL, 32, \"int\");\n \n-  tdesc_powerpc_e500l = result;\n+  tdesc_powerpc_e500l = result.release ();\n }"
    },
    {
      "sha": "7791fa7e029753692c28cefb4d2bc0ace29f82d0",
      "filename": "gdb/features/rs6000/powerpc-isa205-32l.c",
      "status": "modified",
      "additions": 6,
      "deletions": 6,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-isa205-32l.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-isa205-32l.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/rs6000/powerpc-isa205-32l.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_powerpc_isa205_32l;\n static void\n initialize_tdesc_powerpc_isa205_32l (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"powerpc:common\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"powerpc:common\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.core\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 32, \"uint32\");\n@@ -54,7 +54,7 @@ initialize_tdesc_powerpc_isa205_32l (void)\n   tdesc_create_reg (feature, \"ctr\", 68, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"xer\", 69, 1, NULL, 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.fpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.fpu\");\n   tdesc_create_reg (feature, \"f0\", 32, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 33, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f2\", 34, 1, NULL, 64, \"ieee_double\");\n@@ -89,9 +89,9 @@ initialize_tdesc_powerpc_isa205_32l (void)\n   tdesc_create_reg (feature, \"f31\", 63, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"fpscr\", 70, 1, \"float\", 64, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.linux\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.linux\");\n   tdesc_create_reg (feature, \"orig_r3\", 71, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"trap\", 72, 1, NULL, 32, \"int\");\n \n-  tdesc_powerpc_isa205_32l = result;\n+  tdesc_powerpc_isa205_32l = result.release ();\n }"
    },
    {
      "sha": "fb05df7911b64434a44279af60301e1104b71233",
      "filename": "gdb/features/rs6000/powerpc-isa205-64l.c",
      "status": "modified",
      "additions": 6,
      "deletions": 6,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-isa205-64l.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-isa205-64l.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/rs6000/powerpc-isa205-64l.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_powerpc_isa205_64l;\n static void\n initialize_tdesc_powerpc_isa205_64l (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"powerpc:common64\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"powerpc:common64\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.core\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 64, \"uint64\");\n@@ -54,7 +54,7 @@ initialize_tdesc_powerpc_isa205_64l (void)\n   tdesc_create_reg (feature, \"ctr\", 68, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"xer\", 69, 1, NULL, 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.fpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.fpu\");\n   tdesc_create_reg (feature, \"f0\", 32, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 33, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f2\", 34, 1, NULL, 64, \"ieee_double\");\n@@ -89,9 +89,9 @@ initialize_tdesc_powerpc_isa205_64l (void)\n   tdesc_create_reg (feature, \"f31\", 63, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"fpscr\", 70, 1, \"float\", 64, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.linux\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.linux\");\n   tdesc_create_reg (feature, \"orig_r3\", 71, 1, NULL, 64, \"int\");\n   tdesc_create_reg (feature, \"trap\", 72, 1, NULL, 64, \"int\");\n \n-  tdesc_powerpc_isa205_64l = result;\n+  tdesc_powerpc_isa205_64l = result.release ();\n }"
    },
    {
      "sha": "a510931ea3c4fcd933e6c095cd9fa7b1e2d3ab1c",
      "filename": "gdb/features/rs6000/powerpc-isa205-altivec32l.c",
      "status": "modified",
      "additions": 7,
      "deletions": 7,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-isa205-altivec32l.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-isa205-altivec32l.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/rs6000/powerpc-isa205-altivec32l.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_powerpc_isa205_altivec32l;\n static void\n initialize_tdesc_powerpc_isa205_altivec32l (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"powerpc:common\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"powerpc:common\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.core\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 32, \"uint32\");\n@@ -54,7 +54,7 @@ initialize_tdesc_powerpc_isa205_altivec32l (void)\n   tdesc_create_reg (feature, \"ctr\", 68, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"xer\", 69, 1, NULL, 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.fpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.fpu\");\n   tdesc_create_reg (feature, \"f0\", 32, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 33, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f2\", 34, 1, NULL, 64, \"ieee_double\");\n@@ -89,11 +89,11 @@ initialize_tdesc_powerpc_isa205_altivec32l (void)\n   tdesc_create_reg (feature, \"f31\", 63, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"fpscr\", 70, 1, \"float\", 64, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.linux\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.linux\");\n   tdesc_create_reg (feature, \"orig_r3\", 71, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"trap\", 72, 1, NULL, 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.altivec\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.altivec\");\n   tdesc_type *element_type;\n   element_type = tdesc_named_type (feature, \"ieee_single\");\n   tdesc_create_vector (feature, \"v4f\", element_type, 4);\n@@ -156,5 +156,5 @@ initialize_tdesc_powerpc_isa205_altivec32l (void)\n   tdesc_create_reg (feature, \"vscr\", 105, 1, \"vector\", 32, \"int\");\n   tdesc_create_reg (feature, \"vrsave\", 106, 1, \"vector\", 32, \"int\");\n \n-  tdesc_powerpc_isa205_altivec32l = result;\n+  tdesc_powerpc_isa205_altivec32l = result.release ();\n }"
    },
    {
      "sha": "f91c2e845186efa609bed6e8886dad12029daecc",
      "filename": "gdb/features/rs6000/powerpc-isa205-altivec64l.c",
      "status": "modified",
      "additions": 7,
      "deletions": 7,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-isa205-altivec64l.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-isa205-altivec64l.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/rs6000/powerpc-isa205-altivec64l.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_powerpc_isa205_altivec64l;\n static void\n initialize_tdesc_powerpc_isa205_altivec64l (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"powerpc:common64\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"powerpc:common64\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.core\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 64, \"uint64\");\n@@ -54,7 +54,7 @@ initialize_tdesc_powerpc_isa205_altivec64l (void)\n   tdesc_create_reg (feature, \"ctr\", 68, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"xer\", 69, 1, NULL, 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.fpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.fpu\");\n   tdesc_create_reg (feature, \"f0\", 32, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 33, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f2\", 34, 1, NULL, 64, \"ieee_double\");\n@@ -89,11 +89,11 @@ initialize_tdesc_powerpc_isa205_altivec64l (void)\n   tdesc_create_reg (feature, \"f31\", 63, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"fpscr\", 70, 1, \"float\", 64, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.linux\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.linux\");\n   tdesc_create_reg (feature, \"orig_r3\", 71, 1, NULL, 64, \"int\");\n   tdesc_create_reg (feature, \"trap\", 72, 1, NULL, 64, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.altivec\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.altivec\");\n   tdesc_type *element_type;\n   element_type = tdesc_named_type (feature, \"ieee_single\");\n   tdesc_create_vector (feature, \"v4f\", element_type, 4);\n@@ -156,5 +156,5 @@ initialize_tdesc_powerpc_isa205_altivec64l (void)\n   tdesc_create_reg (feature, \"vscr\", 105, 1, \"vector\", 32, \"int\");\n   tdesc_create_reg (feature, \"vrsave\", 106, 1, \"vector\", 32, \"int\");\n \n-  tdesc_powerpc_isa205_altivec64l = result;\n+  tdesc_powerpc_isa205_altivec64l = result.release ();\n }"
    },
    {
      "sha": "28a7c3b2c4fc99b1535ad67824ecccdaed081e34",
      "filename": "gdb/features/rs6000/powerpc-isa205-ppr-dscr-vsx32l.c",
      "status": "modified",
      "additions": 10,
      "deletions": 10,
      "changes": 20,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-isa205-ppr-dscr-vsx32l.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-isa205-ppr-dscr-vsx32l.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/rs6000/powerpc-isa205-ppr-dscr-vsx32l.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_powerpc_isa205_ppr_dscr_vsx32l;\n static void\n initialize_tdesc_powerpc_isa205_ppr_dscr_vsx32l (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"powerpc:common\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"powerpc:common\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.core\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 32, \"uint32\");\n@@ -54,7 +54,7 @@ initialize_tdesc_powerpc_isa205_ppr_dscr_vsx32l (void)\n   tdesc_create_reg (feature, \"ctr\", 68, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"xer\", 69, 1, NULL, 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.fpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.fpu\");\n   tdesc_create_reg (feature, \"f0\", 32, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 33, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f2\", 34, 1, NULL, 64, \"ieee_double\");\n@@ -89,11 +89,11 @@ initialize_tdesc_powerpc_isa205_ppr_dscr_vsx32l (void)\n   tdesc_create_reg (feature, \"f31\", 63, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"fpscr\", 70, 1, \"float\", 64, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.linux\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.linux\");\n   tdesc_create_reg (feature, \"orig_r3\", 71, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"trap\", 72, 1, NULL, 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.altivec\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.altivec\");\n   tdesc_type *element_type;\n   element_type = tdesc_named_type (feature, \"ieee_single\");\n   tdesc_create_vector (feature, \"v4f\", element_type, 4);\n@@ -156,7 +156,7 @@ initialize_tdesc_powerpc_isa205_ppr_dscr_vsx32l (void)\n   tdesc_create_reg (feature, \"vscr\", 105, 1, \"vector\", 32, \"int\");\n   tdesc_create_reg (feature, \"vrsave\", 106, 1, \"vector\", 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.vsx\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.vsx\");\n   tdesc_create_reg (feature, \"vs0h\", 107, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"vs1h\", 108, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"vs2h\", 109, 1, NULL, 64, \"uint64\");\n@@ -190,11 +190,11 @@ initialize_tdesc_powerpc_isa205_ppr_dscr_vsx32l (void)\n   tdesc_create_reg (feature, \"vs30h\", 137, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"vs31h\", 138, 1, NULL, 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.ppr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.ppr\");\n   tdesc_create_reg (feature, \"ppr\", 139, 1, NULL, 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.dscr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.dscr\");\n   tdesc_create_reg (feature, \"dscr\", 140, 1, NULL, 64, \"uint64\");\n \n-  tdesc_powerpc_isa205_ppr_dscr_vsx32l = result;\n+  tdesc_powerpc_isa205_ppr_dscr_vsx32l = result.release ();\n }"
    },
    {
      "sha": "d34a197b4f52189ad624c2c6989e26efd9655be7",
      "filename": "gdb/features/rs6000/powerpc-isa205-ppr-dscr-vsx64l.c",
      "status": "modified",
      "additions": 10,
      "deletions": 10,
      "changes": 20,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-isa205-ppr-dscr-vsx64l.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-isa205-ppr-dscr-vsx64l.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/rs6000/powerpc-isa205-ppr-dscr-vsx64l.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_powerpc_isa205_ppr_dscr_vsx64l;\n static void\n initialize_tdesc_powerpc_isa205_ppr_dscr_vsx64l (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"powerpc:common64\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"powerpc:common64\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.core\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 64, \"uint64\");\n@@ -54,7 +54,7 @@ initialize_tdesc_powerpc_isa205_ppr_dscr_vsx64l (void)\n   tdesc_create_reg (feature, \"ctr\", 68, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"xer\", 69, 1, NULL, 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.fpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.fpu\");\n   tdesc_create_reg (feature, \"f0\", 32, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 33, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f2\", 34, 1, NULL, 64, \"ieee_double\");\n@@ -89,11 +89,11 @@ initialize_tdesc_powerpc_isa205_ppr_dscr_vsx64l (void)\n   tdesc_create_reg (feature, \"f31\", 63, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"fpscr\", 70, 1, \"float\", 64, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.linux\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.linux\");\n   tdesc_create_reg (feature, \"orig_r3\", 71, 1, NULL, 64, \"int\");\n   tdesc_create_reg (feature, \"trap\", 72, 1, NULL, 64, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.altivec\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.altivec\");\n   tdesc_type *element_type;\n   element_type = tdesc_named_type (feature, \"ieee_single\");\n   tdesc_create_vector (feature, \"v4f\", element_type, 4);\n@@ -156,7 +156,7 @@ initialize_tdesc_powerpc_isa205_ppr_dscr_vsx64l (void)\n   tdesc_create_reg (feature, \"vscr\", 105, 1, \"vector\", 32, \"int\");\n   tdesc_create_reg (feature, \"vrsave\", 106, 1, \"vector\", 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.vsx\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.vsx\");\n   tdesc_create_reg (feature, \"vs0h\", 107, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"vs1h\", 108, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"vs2h\", 109, 1, NULL, 64, \"uint64\");\n@@ -190,11 +190,11 @@ initialize_tdesc_powerpc_isa205_ppr_dscr_vsx64l (void)\n   tdesc_create_reg (feature, \"vs30h\", 137, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"vs31h\", 138, 1, NULL, 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.ppr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.ppr\");\n   tdesc_create_reg (feature, \"ppr\", 139, 1, NULL, 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.dscr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.dscr\");\n   tdesc_create_reg (feature, \"dscr\", 140, 1, NULL, 64, \"uint64\");\n \n-  tdesc_powerpc_isa205_ppr_dscr_vsx64l = result;\n+  tdesc_powerpc_isa205_ppr_dscr_vsx64l = result.release ();\n }"
    },
    {
      "sha": "763915502c01718d6fc4cc1fd9391fd0fa8ecd10",
      "filename": "gdb/features/rs6000/powerpc-isa205-vsx32l.c",
      "status": "modified",
      "additions": 8,
      "deletions": 8,
      "changes": 16,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-isa205-vsx32l.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-isa205-vsx32l.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/rs6000/powerpc-isa205-vsx32l.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_powerpc_isa205_vsx32l;\n static void\n initialize_tdesc_powerpc_isa205_vsx32l (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"powerpc:common\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"powerpc:common\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.core\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 32, \"uint32\");\n@@ -54,7 +54,7 @@ initialize_tdesc_powerpc_isa205_vsx32l (void)\n   tdesc_create_reg (feature, \"ctr\", 68, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"xer\", 69, 1, NULL, 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.fpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.fpu\");\n   tdesc_create_reg (feature, \"f0\", 32, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 33, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f2\", 34, 1, NULL, 64, \"ieee_double\");\n@@ -89,11 +89,11 @@ initialize_tdesc_powerpc_isa205_vsx32l (void)\n   tdesc_create_reg (feature, \"f31\", 63, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"fpscr\", 70, 1, \"float\", 64, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.linux\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.linux\");\n   tdesc_create_reg (feature, \"orig_r3\", 71, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"trap\", 72, 1, NULL, 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.altivec\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.altivec\");\n   tdesc_type *element_type;\n   element_type = tdesc_named_type (feature, \"ieee_single\");\n   tdesc_create_vector (feature, \"v4f\", element_type, 4);\n@@ -156,7 +156,7 @@ initialize_tdesc_powerpc_isa205_vsx32l (void)\n   tdesc_create_reg (feature, \"vscr\", 105, 1, \"vector\", 32, \"int\");\n   tdesc_create_reg (feature, \"vrsave\", 106, 1, \"vector\", 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.vsx\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.vsx\");\n   tdesc_create_reg (feature, \"vs0h\", 107, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"vs1h\", 108, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"vs2h\", 109, 1, NULL, 64, \"uint64\");\n@@ -190,5 +190,5 @@ initialize_tdesc_powerpc_isa205_vsx32l (void)\n   tdesc_create_reg (feature, \"vs30h\", 137, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"vs31h\", 138, 1, NULL, 64, \"uint64\");\n \n-  tdesc_powerpc_isa205_vsx32l = result;\n+  tdesc_powerpc_isa205_vsx32l = result.release ();\n }"
    },
    {
      "sha": "fad4227b095dd8068cb6e12c2b5efedc38e13812",
      "filename": "gdb/features/rs6000/powerpc-isa205-vsx64l.c",
      "status": "modified",
      "additions": 8,
      "deletions": 8,
      "changes": 16,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-isa205-vsx64l.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-isa205-vsx64l.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/rs6000/powerpc-isa205-vsx64l.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_powerpc_isa205_vsx64l;\n static void\n initialize_tdesc_powerpc_isa205_vsx64l (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"powerpc:common64\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"powerpc:common64\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.core\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 64, \"uint64\");\n@@ -54,7 +54,7 @@ initialize_tdesc_powerpc_isa205_vsx64l (void)\n   tdesc_create_reg (feature, \"ctr\", 68, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"xer\", 69, 1, NULL, 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.fpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.fpu\");\n   tdesc_create_reg (feature, \"f0\", 32, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 33, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f2\", 34, 1, NULL, 64, \"ieee_double\");\n@@ -89,11 +89,11 @@ initialize_tdesc_powerpc_isa205_vsx64l (void)\n   tdesc_create_reg (feature, \"f31\", 63, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"fpscr\", 70, 1, \"float\", 64, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.linux\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.linux\");\n   tdesc_create_reg (feature, \"orig_r3\", 71, 1, NULL, 64, \"int\");\n   tdesc_create_reg (feature, \"trap\", 72, 1, NULL, 64, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.altivec\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.altivec\");\n   tdesc_type *element_type;\n   element_type = tdesc_named_type (feature, \"ieee_single\");\n   tdesc_create_vector (feature, \"v4f\", element_type, 4);\n@@ -156,7 +156,7 @@ initialize_tdesc_powerpc_isa205_vsx64l (void)\n   tdesc_create_reg (feature, \"vscr\", 105, 1, \"vector\", 32, \"int\");\n   tdesc_create_reg (feature, \"vrsave\", 106, 1, \"vector\", 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.vsx\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.vsx\");\n   tdesc_create_reg (feature, \"vs0h\", 107, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"vs1h\", 108, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"vs2h\", 109, 1, NULL, 64, \"uint64\");\n@@ -190,5 +190,5 @@ initialize_tdesc_powerpc_isa205_vsx64l (void)\n   tdesc_create_reg (feature, \"vs30h\", 137, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"vs31h\", 138, 1, NULL, 64, \"uint64\");\n \n-  tdesc_powerpc_isa205_vsx64l = result;\n+  tdesc_powerpc_isa205_vsx64l = result.release ();\n }"
    },
    {
      "sha": "78f2047272a7054005fff69d1d9a65e5dca36384",
      "filename": "gdb/features/rs6000/powerpc-isa207-htm-vsx32l.c",
      "status": "modified",
      "additions": 21,
      "deletions": 21,
      "changes": 42,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-isa207-htm-vsx32l.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-isa207-htm-vsx32l.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/rs6000/powerpc-isa207-htm-vsx32l.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_powerpc_isa207_htm_vsx32l;\n static void\n initialize_tdesc_powerpc_isa207_htm_vsx32l (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"powerpc:common\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"powerpc:common\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.core\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 32, \"uint32\");\n@@ -54,7 +54,7 @@ initialize_tdesc_powerpc_isa207_htm_vsx32l (void)\n   tdesc_create_reg (feature, \"ctr\", 68, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"xer\", 69, 1, NULL, 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.fpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.fpu\");\n   tdesc_create_reg (feature, \"f0\", 32, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 33, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f2\", 34, 1, NULL, 64, \"ieee_double\");\n@@ -89,11 +89,11 @@ initialize_tdesc_powerpc_isa207_htm_vsx32l (void)\n   tdesc_create_reg (feature, \"f31\", 63, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"fpscr\", 70, 1, \"float\", 64, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.linux\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.linux\");\n   tdesc_create_reg (feature, \"orig_r3\", 71, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"trap\", 72, 1, NULL, 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.altivec\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.altivec\");\n   tdesc_type *element_type;\n   element_type = tdesc_named_type (feature, \"ieee_single\");\n   tdesc_create_vector (feature, \"v4f\", element_type, 4);\n@@ -156,7 +156,7 @@ initialize_tdesc_powerpc_isa207_htm_vsx32l (void)\n   tdesc_create_reg (feature, \"vscr\", 105, 1, \"vector\", 32, \"int\");\n   tdesc_create_reg (feature, \"vrsave\", 106, 1, \"vector\", 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.vsx\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.vsx\");\n   tdesc_create_reg (feature, \"vs0h\", 107, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"vs1h\", 108, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"vs2h\", 109, 1, NULL, 64, \"uint64\");\n@@ -190,33 +190,33 @@ initialize_tdesc_powerpc_isa207_htm_vsx32l (void)\n   tdesc_create_reg (feature, \"vs30h\", 137, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"vs31h\", 138, 1, NULL, 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.ppr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.ppr\");\n   tdesc_create_reg (feature, \"ppr\", 139, 1, NULL, 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.dscr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.dscr\");\n   tdesc_create_reg (feature, \"dscr\", 140, 1, NULL, 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.tar\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.tar\");\n   tdesc_create_reg (feature, \"tar\", 141, 1, NULL, 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.ebb\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.ebb\");\n   tdesc_create_reg (feature, \"bescr\", 142, 0, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"ebbhr\", 143, 0, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"ebbrr\", 144, 0, NULL, 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.linux.pmu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.linux.pmu\");\n   tdesc_create_reg (feature, \"mmcr0\", 145, 0, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"mmcr2\", 146, 0, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"siar\", 147, 0, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"sdar\", 148, 0, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"sier\", 149, 0, NULL, 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.htm.spr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.htm.spr\");\n   tdesc_create_reg (feature, \"tfhar\", 150, 0, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"texasr\", 151, 0, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"tfiar\", 152, 0, NULL, 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.htm.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.htm.core\");\n   tdesc_create_reg (feature, \"cr0\", 153, 0, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"cr1\", 154, 0, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"cr2\", 155, 0, NULL, 32, \"uint32\");\n@@ -254,7 +254,7 @@ initialize_tdesc_powerpc_isa207_htm_vsx32l (void)\n   tdesc_create_reg (feature, \"clr\", 187, 0, NULL, 32, \"code_ptr\");\n   tdesc_create_reg (feature, \"cctr\", 188, 0, NULL, 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.htm.fpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.htm.fpu\");\n   tdesc_create_reg (feature, \"cf0\", 189, 0, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"cf1\", 190, 0, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"cf2\", 191, 0, NULL, 64, \"ieee_double\");\n@@ -289,7 +289,7 @@ initialize_tdesc_powerpc_isa207_htm_vsx32l (void)\n   tdesc_create_reg (feature, \"cf31\", 220, 0, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"cfpscr\", 221, 0, \"float\", 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.htm.altivec\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.htm.altivec\");\n   element_type = tdesc_named_type (feature, \"ieee_single\");\n   tdesc_create_vector (feature, \"v4f\", element_type, 4);\n \n@@ -349,7 +349,7 @@ initialize_tdesc_powerpc_isa207_htm_vsx32l (void)\n   tdesc_create_reg (feature, \"cvscr\", 254, 0, \"vector\", 32, \"int\");\n   tdesc_create_reg (feature, \"cvrsave\", 255, 0, \"vector\", 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.htm.vsx\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.htm.vsx\");\n   tdesc_create_reg (feature, \"cvs0h\", 256, 0, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"cvs1h\", 257, 0, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"cvs2h\", 258, 0, NULL, 64, \"uint64\");\n@@ -383,14 +383,14 @@ initialize_tdesc_powerpc_isa207_htm_vsx32l (void)\n   tdesc_create_reg (feature, \"cvs30h\", 286, 0, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"cvs31h\", 287, 0, NULL, 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.htm.ppr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.htm.ppr\");\n   tdesc_create_reg (feature, \"cppr\", 288, 0, NULL, 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.htm.dscr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.htm.dscr\");\n   tdesc_create_reg (feature, \"cdscr\", 289, 0, NULL, 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.htm.tar\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.htm.tar\");\n   tdesc_create_reg (feature, \"ctar\", 290, 0, NULL, 64, \"uint64\");\n \n-  tdesc_powerpc_isa207_htm_vsx32l = result;\n+  tdesc_powerpc_isa207_htm_vsx32l = result.release ();\n }"
    },
    {
      "sha": "5517201043fc2a662de5e35ecf1ee64ceb438dd7",
      "filename": "gdb/features/rs6000/powerpc-isa207-htm-vsx64l.c",
      "status": "modified",
      "additions": 21,
      "deletions": 21,
      "changes": 42,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-isa207-htm-vsx64l.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-isa207-htm-vsx64l.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/rs6000/powerpc-isa207-htm-vsx64l.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_powerpc_isa207_htm_vsx64l;\n static void\n initialize_tdesc_powerpc_isa207_htm_vsx64l (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"powerpc:common64\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"powerpc:common64\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.core\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 64, \"uint64\");\n@@ -54,7 +54,7 @@ initialize_tdesc_powerpc_isa207_htm_vsx64l (void)\n   tdesc_create_reg (feature, \"ctr\", 68, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"xer\", 69, 1, NULL, 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.fpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.fpu\");\n   tdesc_create_reg (feature, \"f0\", 32, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 33, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f2\", 34, 1, NULL, 64, \"ieee_double\");\n@@ -89,11 +89,11 @@ initialize_tdesc_powerpc_isa207_htm_vsx64l (void)\n   tdesc_create_reg (feature, \"f31\", 63, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"fpscr\", 70, 1, \"float\", 64, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.linux\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.linux\");\n   tdesc_create_reg (feature, \"orig_r3\", 71, 1, NULL, 64, \"int\");\n   tdesc_create_reg (feature, \"trap\", 72, 1, NULL, 64, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.altivec\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.altivec\");\n   tdesc_type *element_type;\n   element_type = tdesc_named_type (feature, \"ieee_single\");\n   tdesc_create_vector (feature, \"v4f\", element_type, 4);\n@@ -156,7 +156,7 @@ initialize_tdesc_powerpc_isa207_htm_vsx64l (void)\n   tdesc_create_reg (feature, \"vscr\", 105, 1, \"vector\", 32, \"int\");\n   tdesc_create_reg (feature, \"vrsave\", 106, 1, \"vector\", 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.vsx\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.vsx\");\n   tdesc_create_reg (feature, \"vs0h\", 107, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"vs1h\", 108, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"vs2h\", 109, 1, NULL, 64, \"uint64\");\n@@ -190,33 +190,33 @@ initialize_tdesc_powerpc_isa207_htm_vsx64l (void)\n   tdesc_create_reg (feature, \"vs30h\", 137, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"vs31h\", 138, 1, NULL, 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.ppr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.ppr\");\n   tdesc_create_reg (feature, \"ppr\", 139, 1, NULL, 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.dscr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.dscr\");\n   tdesc_create_reg (feature, \"dscr\", 140, 1, NULL, 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.tar\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.tar\");\n   tdesc_create_reg (feature, \"tar\", 141, 1, NULL, 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.ebb\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.ebb\");\n   tdesc_create_reg (feature, \"bescr\", 142, 0, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"ebbhr\", 143, 0, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"ebbrr\", 144, 0, NULL, 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.linux.pmu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.linux.pmu\");\n   tdesc_create_reg (feature, \"mmcr0\", 145, 0, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"mmcr2\", 146, 0, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"siar\", 147, 0, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"sdar\", 148, 0, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"sier\", 149, 0, NULL, 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.htm.spr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.htm.spr\");\n   tdesc_create_reg (feature, \"tfhar\", 150, 0, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"texasr\", 151, 0, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"tfiar\", 152, 0, NULL, 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.htm.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.htm.core\");\n   tdesc_create_reg (feature, \"cr0\", 153, 0, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"cr1\", 154, 0, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"cr2\", 155, 0, NULL, 64, \"uint64\");\n@@ -254,7 +254,7 @@ initialize_tdesc_powerpc_isa207_htm_vsx64l (void)\n   tdesc_create_reg (feature, \"clr\", 187, 0, NULL, 64, \"code_ptr\");\n   tdesc_create_reg (feature, \"cctr\", 188, 0, NULL, 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.htm.fpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.htm.fpu\");\n   tdesc_create_reg (feature, \"cf0\", 189, 0, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"cf1\", 190, 0, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"cf2\", 191, 0, NULL, 64, \"ieee_double\");\n@@ -289,7 +289,7 @@ initialize_tdesc_powerpc_isa207_htm_vsx64l (void)\n   tdesc_create_reg (feature, \"cf31\", 220, 0, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"cfpscr\", 221, 0, \"float\", 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.htm.altivec\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.htm.altivec\");\n   element_type = tdesc_named_type (feature, \"ieee_single\");\n   tdesc_create_vector (feature, \"v4f\", element_type, 4);\n \n@@ -349,7 +349,7 @@ initialize_tdesc_powerpc_isa207_htm_vsx64l (void)\n   tdesc_create_reg (feature, \"cvscr\", 254, 0, \"vector\", 32, \"int\");\n   tdesc_create_reg (feature, \"cvrsave\", 255, 0, \"vector\", 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.htm.vsx\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.htm.vsx\");\n   tdesc_create_reg (feature, \"cvs0h\", 256, 0, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"cvs1h\", 257, 0, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"cvs2h\", 258, 0, NULL, 64, \"uint64\");\n@@ -383,14 +383,14 @@ initialize_tdesc_powerpc_isa207_htm_vsx64l (void)\n   tdesc_create_reg (feature, \"cvs30h\", 286, 0, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"cvs31h\", 287, 0, NULL, 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.htm.ppr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.htm.ppr\");\n   tdesc_create_reg (feature, \"cppr\", 288, 0, NULL, 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.htm.dscr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.htm.dscr\");\n   tdesc_create_reg (feature, \"cdscr\", 289, 0, NULL, 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.htm.tar\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.htm.tar\");\n   tdesc_create_reg (feature, \"ctar\", 290, 0, NULL, 64, \"uint64\");\n \n-  tdesc_powerpc_isa207_htm_vsx64l = result;\n+  tdesc_powerpc_isa207_htm_vsx64l = result.release ();\n }"
    },
    {
      "sha": "7fc15bfbfbd0d7dd16cc70b9483671bf88ec84da",
      "filename": "gdb/features/rs6000/powerpc-isa207-vsx32l.c",
      "status": "modified",
      "additions": 13,
      "deletions": 13,
      "changes": 26,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-isa207-vsx32l.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-isa207-vsx32l.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/rs6000/powerpc-isa207-vsx32l.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_powerpc_isa207_vsx32l;\n static void\n initialize_tdesc_powerpc_isa207_vsx32l (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"powerpc:common\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"powerpc:common\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.core\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 32, \"uint32\");\n@@ -54,7 +54,7 @@ initialize_tdesc_powerpc_isa207_vsx32l (void)\n   tdesc_create_reg (feature, \"ctr\", 68, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"xer\", 69, 1, NULL, 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.fpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.fpu\");\n   tdesc_create_reg (feature, \"f0\", 32, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 33, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f2\", 34, 1, NULL, 64, \"ieee_double\");\n@@ -89,11 +89,11 @@ initialize_tdesc_powerpc_isa207_vsx32l (void)\n   tdesc_create_reg (feature, \"f31\", 63, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"fpscr\", 70, 1, \"float\", 64, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.linux\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.linux\");\n   tdesc_create_reg (feature, \"orig_r3\", 71, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"trap\", 72, 1, NULL, 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.altivec\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.altivec\");\n   tdesc_type *element_type;\n   element_type = tdesc_named_type (feature, \"ieee_single\");\n   tdesc_create_vector (feature, \"v4f\", element_type, 4);\n@@ -156,7 +156,7 @@ initialize_tdesc_powerpc_isa207_vsx32l (void)\n   tdesc_create_reg (feature, \"vscr\", 105, 1, \"vector\", 32, \"int\");\n   tdesc_create_reg (feature, \"vrsave\", 106, 1, \"vector\", 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.vsx\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.vsx\");\n   tdesc_create_reg (feature, \"vs0h\", 107, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"vs1h\", 108, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"vs2h\", 109, 1, NULL, 64, \"uint64\");\n@@ -190,26 +190,26 @@ initialize_tdesc_powerpc_isa207_vsx32l (void)\n   tdesc_create_reg (feature, \"vs30h\", 137, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"vs31h\", 138, 1, NULL, 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.ppr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.ppr\");\n   tdesc_create_reg (feature, \"ppr\", 139, 1, NULL, 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.dscr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.dscr\");\n   tdesc_create_reg (feature, \"dscr\", 140, 1, NULL, 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.tar\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.tar\");\n   tdesc_create_reg (feature, \"tar\", 141, 1, NULL, 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.ebb\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.ebb\");\n   tdesc_create_reg (feature, \"bescr\", 142, 0, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"ebbhr\", 143, 0, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"ebbrr\", 144, 0, NULL, 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.linux.pmu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.linux.pmu\");\n   tdesc_create_reg (feature, \"mmcr0\", 145, 0, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"mmcr2\", 146, 0, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"siar\", 147, 0, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"sdar\", 148, 0, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"sier\", 149, 0, NULL, 64, \"uint64\");\n \n-  tdesc_powerpc_isa207_vsx32l = result;\n+  tdesc_powerpc_isa207_vsx32l = result.release ();\n }"
    },
    {
      "sha": "3ad55f756584a315fa225bc978a6cf27f51f77c7",
      "filename": "gdb/features/rs6000/powerpc-isa207-vsx64l.c",
      "status": "modified",
      "additions": 13,
      "deletions": 13,
      "changes": 26,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-isa207-vsx64l.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-isa207-vsx64l.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/rs6000/powerpc-isa207-vsx64l.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_powerpc_isa207_vsx64l;\n static void\n initialize_tdesc_powerpc_isa207_vsx64l (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"powerpc:common64\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"powerpc:common64\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.core\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 64, \"uint64\");\n@@ -54,7 +54,7 @@ initialize_tdesc_powerpc_isa207_vsx64l (void)\n   tdesc_create_reg (feature, \"ctr\", 68, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"xer\", 69, 1, NULL, 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.fpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.fpu\");\n   tdesc_create_reg (feature, \"f0\", 32, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 33, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f2\", 34, 1, NULL, 64, \"ieee_double\");\n@@ -89,11 +89,11 @@ initialize_tdesc_powerpc_isa207_vsx64l (void)\n   tdesc_create_reg (feature, \"f31\", 63, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"fpscr\", 70, 1, \"float\", 64, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.linux\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.linux\");\n   tdesc_create_reg (feature, \"orig_r3\", 71, 1, NULL, 64, \"int\");\n   tdesc_create_reg (feature, \"trap\", 72, 1, NULL, 64, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.altivec\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.altivec\");\n   tdesc_type *element_type;\n   element_type = tdesc_named_type (feature, \"ieee_single\");\n   tdesc_create_vector (feature, \"v4f\", element_type, 4);\n@@ -156,7 +156,7 @@ initialize_tdesc_powerpc_isa207_vsx64l (void)\n   tdesc_create_reg (feature, \"vscr\", 105, 1, \"vector\", 32, \"int\");\n   tdesc_create_reg (feature, \"vrsave\", 106, 1, \"vector\", 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.vsx\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.vsx\");\n   tdesc_create_reg (feature, \"vs0h\", 107, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"vs1h\", 108, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"vs2h\", 109, 1, NULL, 64, \"uint64\");\n@@ -190,26 +190,26 @@ initialize_tdesc_powerpc_isa207_vsx64l (void)\n   tdesc_create_reg (feature, \"vs30h\", 137, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"vs31h\", 138, 1, NULL, 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.ppr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.ppr\");\n   tdesc_create_reg (feature, \"ppr\", 139, 1, NULL, 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.dscr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.dscr\");\n   tdesc_create_reg (feature, \"dscr\", 140, 1, NULL, 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.tar\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.tar\");\n   tdesc_create_reg (feature, \"tar\", 141, 1, NULL, 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.ebb\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.ebb\");\n   tdesc_create_reg (feature, \"bescr\", 142, 0, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"ebbhr\", 143, 0, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"ebbrr\", 144, 0, NULL, 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.linux.pmu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.linux.pmu\");\n   tdesc_create_reg (feature, \"mmcr0\", 145, 0, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"mmcr2\", 146, 0, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"siar\", 147, 0, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"sdar\", 148, 0, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"sier\", 149, 0, NULL, 64, \"uint64\");\n \n-  tdesc_powerpc_isa207_vsx64l = result;\n+  tdesc_powerpc_isa207_vsx64l = result.release ();\n }"
    },
    {
      "sha": "d7278d9a52bd40845444d411044ed6de0dcbe558",
      "filename": "gdb/features/rs6000/powerpc-vsx32.c",
      "status": "modified",
      "additions": 7,
      "deletions": 7,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-vsx32.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-vsx32.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/rs6000/powerpc-vsx32.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_powerpc_vsx32;\n static void\n initialize_tdesc_powerpc_vsx32 (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"powerpc:common\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"powerpc:common\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.core\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 32, \"uint32\");\n@@ -54,7 +54,7 @@ initialize_tdesc_powerpc_vsx32 (void)\n   tdesc_create_reg (feature, \"ctr\", 68, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"xer\", 69, 1, NULL, 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.fpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.fpu\");\n   tdesc_create_reg (feature, \"f0\", 32, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 33, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f2\", 34, 1, NULL, 64, \"ieee_double\");\n@@ -89,7 +89,7 @@ initialize_tdesc_powerpc_vsx32 (void)\n   tdesc_create_reg (feature, \"f31\", 63, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"fpscr\", 70, 1, \"float\", 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.altivec\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.altivec\");\n   tdesc_type *element_type;\n   element_type = tdesc_named_type (feature, \"ieee_single\");\n   tdesc_create_vector (feature, \"v4f\", element_type, 4);\n@@ -152,7 +152,7 @@ initialize_tdesc_powerpc_vsx32 (void)\n   tdesc_create_reg (feature, \"vscr\", 103, 1, \"vector\", 32, \"int\");\n   tdesc_create_reg (feature, \"vrsave\", 104, 1, \"vector\", 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.vsx\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.vsx\");\n   tdesc_create_reg (feature, \"vs0h\", 105, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"vs1h\", 106, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"vs2h\", 107, 1, NULL, 64, \"uint64\");\n@@ -186,5 +186,5 @@ initialize_tdesc_powerpc_vsx32 (void)\n   tdesc_create_reg (feature, \"vs30h\", 135, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"vs31h\", 136, 1, NULL, 64, \"uint64\");\n \n-  tdesc_powerpc_vsx32 = result;\n+  tdesc_powerpc_vsx32 = result.release ();\n }"
    },
    {
      "sha": "7097ffac8c62ed6b449220fdc02364c00387ee43",
      "filename": "gdb/features/rs6000/powerpc-vsx32l.c",
      "status": "modified",
      "additions": 8,
      "deletions": 8,
      "changes": 16,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-vsx32l.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-vsx32l.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/rs6000/powerpc-vsx32l.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_powerpc_vsx32l;\n static void\n initialize_tdesc_powerpc_vsx32l (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"powerpc:common\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"powerpc:common\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.core\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 32, \"uint32\");\n@@ -54,7 +54,7 @@ initialize_tdesc_powerpc_vsx32l (void)\n   tdesc_create_reg (feature, \"ctr\", 68, 1, NULL, 32, \"uint32\");\n   tdesc_create_reg (feature, \"xer\", 69, 1, NULL, 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.fpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.fpu\");\n   tdesc_create_reg (feature, \"f0\", 32, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 33, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f2\", 34, 1, NULL, 64, \"ieee_double\");\n@@ -89,11 +89,11 @@ initialize_tdesc_powerpc_vsx32l (void)\n   tdesc_create_reg (feature, \"f31\", 63, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"fpscr\", 70, 1, \"float\", 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.linux\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.linux\");\n   tdesc_create_reg (feature, \"orig_r3\", 71, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"trap\", 72, 1, NULL, 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.altivec\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.altivec\");\n   tdesc_type *element_type;\n   element_type = tdesc_named_type (feature, \"ieee_single\");\n   tdesc_create_vector (feature, \"v4f\", element_type, 4);\n@@ -156,7 +156,7 @@ initialize_tdesc_powerpc_vsx32l (void)\n   tdesc_create_reg (feature, \"vscr\", 105, 1, \"vector\", 32, \"int\");\n   tdesc_create_reg (feature, \"vrsave\", 106, 1, \"vector\", 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.vsx\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.vsx\");\n   tdesc_create_reg (feature, \"vs0h\", 107, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"vs1h\", 108, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"vs2h\", 109, 1, NULL, 64, \"uint64\");\n@@ -190,5 +190,5 @@ initialize_tdesc_powerpc_vsx32l (void)\n   tdesc_create_reg (feature, \"vs30h\", 137, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"vs31h\", 138, 1, NULL, 64, \"uint64\");\n \n-  tdesc_powerpc_vsx32l = result;\n+  tdesc_powerpc_vsx32l = result.release ();\n }"
    },
    {
      "sha": "7e9055991e2fe71b4650753570ea689a367911f8",
      "filename": "gdb/features/rs6000/powerpc-vsx64.c",
      "status": "modified",
      "additions": 7,
      "deletions": 7,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-vsx64.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-vsx64.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/rs6000/powerpc-vsx64.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_powerpc_vsx64;\n static void\n initialize_tdesc_powerpc_vsx64 (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"powerpc:common64\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"powerpc:common64\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.core\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 64, \"uint64\");\n@@ -54,7 +54,7 @@ initialize_tdesc_powerpc_vsx64 (void)\n   tdesc_create_reg (feature, \"ctr\", 68, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"xer\", 69, 1, NULL, 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.fpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.fpu\");\n   tdesc_create_reg (feature, \"f0\", 32, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 33, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f2\", 34, 1, NULL, 64, \"ieee_double\");\n@@ -89,7 +89,7 @@ initialize_tdesc_powerpc_vsx64 (void)\n   tdesc_create_reg (feature, \"f31\", 63, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"fpscr\", 70, 1, \"float\", 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.altivec\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.altivec\");\n   tdesc_type *element_type;\n   element_type = tdesc_named_type (feature, \"ieee_single\");\n   tdesc_create_vector (feature, \"v4f\", element_type, 4);\n@@ -152,7 +152,7 @@ initialize_tdesc_powerpc_vsx64 (void)\n   tdesc_create_reg (feature, \"vscr\", 103, 1, \"vector\", 32, \"int\");\n   tdesc_create_reg (feature, \"vrsave\", 104, 1, \"vector\", 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.vsx\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.vsx\");\n   tdesc_create_reg (feature, \"vs0h\", 105, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"vs1h\", 106, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"vs2h\", 107, 1, NULL, 64, \"uint64\");\n@@ -186,5 +186,5 @@ initialize_tdesc_powerpc_vsx64 (void)\n   tdesc_create_reg (feature, \"vs30h\", 135, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"vs31h\", 136, 1, NULL, 64, \"uint64\");\n \n-  tdesc_powerpc_vsx64 = result;\n+  tdesc_powerpc_vsx64 = result.release ();\n }"
    },
    {
      "sha": "4affa35d0ccc91eb9613ec7b8888882b3dd5d022",
      "filename": "gdb/features/rs6000/powerpc-vsx64l.c",
      "status": "modified",
      "additions": 8,
      "deletions": 8,
      "changes": 16,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-vsx64l.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/powerpc-vsx64l.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/rs6000/powerpc-vsx64l.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_powerpc_vsx64l;\n static void\n initialize_tdesc_powerpc_vsx64l (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"powerpc:common64\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"powerpc:common64\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.core\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 64, \"uint64\");\n@@ -54,7 +54,7 @@ initialize_tdesc_powerpc_vsx64l (void)\n   tdesc_create_reg (feature, \"ctr\", 68, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"xer\", 69, 1, NULL, 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.fpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.fpu\");\n   tdesc_create_reg (feature, \"f0\", 32, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 33, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f2\", 34, 1, NULL, 64, \"ieee_double\");\n@@ -89,11 +89,11 @@ initialize_tdesc_powerpc_vsx64l (void)\n   tdesc_create_reg (feature, \"f31\", 63, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"fpscr\", 70, 1, \"float\", 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.linux\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.linux\");\n   tdesc_create_reg (feature, \"orig_r3\", 71, 1, NULL, 64, \"int\");\n   tdesc_create_reg (feature, \"trap\", 72, 1, NULL, 64, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.altivec\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.altivec\");\n   tdesc_type *element_type;\n   element_type = tdesc_named_type (feature, \"ieee_single\");\n   tdesc_create_vector (feature, \"v4f\", element_type, 4);\n@@ -156,7 +156,7 @@ initialize_tdesc_powerpc_vsx64l (void)\n   tdesc_create_reg (feature, \"vscr\", 105, 1, \"vector\", 32, \"int\");\n   tdesc_create_reg (feature, \"vrsave\", 106, 1, \"vector\", 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.vsx\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.vsx\");\n   tdesc_create_reg (feature, \"vs0h\", 107, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"vs1h\", 108, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"vs2h\", 109, 1, NULL, 64, \"uint64\");\n@@ -190,5 +190,5 @@ initialize_tdesc_powerpc_vsx64l (void)\n   tdesc_create_reg (feature, \"vs30h\", 137, 1, NULL, 64, \"uint64\");\n   tdesc_create_reg (feature, \"vs31h\", 138, 1, NULL, 64, \"uint64\");\n \n-  tdesc_powerpc_vsx64l = result;\n+  tdesc_powerpc_vsx64l = result.release ();\n }"
    },
    {
      "sha": "826d9ad758266bd49e1cfba9cee30e71bbe2fada",
      "filename": "gdb/features/rs6000/rs6000.c",
      "status": "modified",
      "additions": 5,
      "deletions": 5,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/rs6000.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rs6000/rs6000.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/rs6000/rs6000.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_rs6000;\n static void\n initialize_tdesc_rs6000 (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"rs6000:6000\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"rs6000:6000\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.core\");\n   tdesc_create_reg (feature, \"r0\", 0, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"r1\", 1, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"r2\", 2, 1, NULL, 32, \"int\");\n@@ -55,7 +55,7 @@ initialize_tdesc_rs6000 (void)\n   tdesc_create_reg (feature, \"xer\", 69, 1, NULL, 32, \"int\");\n   tdesc_create_reg (feature, \"mq\", 70, 1, NULL, 32, \"int\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.power.fpu\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.power.fpu\");\n   tdesc_create_reg (feature, \"f0\", 32, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 33, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f2\", 34, 1, NULL, 64, \"ieee_double\");\n@@ -90,5 +90,5 @@ initialize_tdesc_rs6000 (void)\n   tdesc_create_reg (feature, \"f31\", 63, 1, NULL, 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"fpscr\", 71, 1, \"float\", 32, \"int\");\n \n-  tdesc_rs6000 = result;\n+  tdesc_rs6000 = result.release ();\n }"
    },
    {
      "sha": "ebbc504ec3567a045ebf5998481c4e5d5a1d6bcd",
      "filename": "gdb/features/rx.c",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rx.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/rx.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/rx.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,10 +9,10 @@ struct target_desc *tdesc_rx;\n static void\n initialize_tdesc_rx (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n+  target_desc_up result = allocate_target_description ();\n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.rx.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.rx.core\");\n   tdesc_type_with_fields *type_with_fields;\n   type_with_fields = tdesc_create_flags (feature, \"psw_flags\", 4);\n   tdesc_add_flag (type_with_fields, 0, \"C\");\n@@ -76,5 +76,5 @@ initialize_tdesc_rx (void)\n   tdesc_create_reg (feature, \"fpsw\", 24, 1, NULL, 32, \"fpsw_flags\");\n   tdesc_create_reg (feature, \"acc\", 25, 1, NULL, 64, \"uint64\");\n \n-  tdesc_rx = result;\n+  tdesc_rx = result.release ();\n }"
    },
    {
      "sha": "331b6e27e8cce246fefeee051ecffd7d3d95adac",
      "filename": "gdb/features/s390-gs-linux64.c",
      "status": "modified",
      "additions": 11,
      "deletions": 11,
      "changes": 22,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/s390-gs-linux64.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/s390-gs-linux64.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/s390-gs-linux64.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_s390_gs_linux64;\n static void\n initialize_tdesc_s390_gs_linux64 (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"s390:31-bit\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"s390:31-bit\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.core\");\n   tdesc_create_reg (feature, \"pswm\", 0, 1, \"psw\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"pswa\", 1, 1, \"psw\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"r0h\", 2, 1, \"upper\", 32, \"uint32\");\n@@ -50,7 +50,7 @@ initialize_tdesc_s390_gs_linux64 (void)\n   tdesc_create_reg (feature, \"r15h\", 32, 1, \"upper\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"r15l\", 33, 1, \"lower\", 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.acr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.acr\");\n   tdesc_create_reg (feature, \"acr0\", 34, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr1\", 35, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr2\", 36, 1, \"access\", 32, \"uint32\");\n@@ -68,7 +68,7 @@ initialize_tdesc_s390_gs_linux64 (void)\n   tdesc_create_reg (feature, \"acr14\", 48, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr15\", 49, 1, \"access\", 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.fpr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.fpr\");\n   tdesc_create_reg (feature, \"fpc\", 50, 1, \"float\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"f0\", 51, 1, \"float\", 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 52, 1, \"float\", 64, \"ieee_double\");\n@@ -87,12 +87,12 @@ initialize_tdesc_s390_gs_linux64 (void)\n   tdesc_create_reg (feature, \"f14\", 65, 1, \"float\", 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f15\", 66, 1, \"float\", 64, \"ieee_double\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.linux\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.linux\");\n   tdesc_create_reg (feature, \"orig_r2\", 67, 1, \"system\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"last_break\", 68, 0, \"system\", 32, \"code_ptr\");\n   tdesc_create_reg (feature, \"system_call\", 69, 1, \"system\", 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.tdb\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.tdb\");\n   tdesc_create_reg (feature, \"tdb0\", 70, 1, \"tdb\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"tac\", 71, 1, \"tdb\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"tct\", 72, 1, \"tdb\", 64, \"uint64\");\n@@ -114,7 +114,7 @@ initialize_tdesc_s390_gs_linux64 (void)\n   tdesc_create_reg (feature, \"tr14\", 88, 1, \"tdb\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"tr15\", 89, 1, \"tdb\", 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.vx\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.vx\");\n   tdesc_type *element_type;\n   element_type = tdesc_named_type (feature, \"ieee_single\");\n   tdesc_create_vector (feature, \"v4f\", element_type, 4);\n@@ -185,15 +185,15 @@ initialize_tdesc_s390_gs_linux64 (void)\n   tdesc_create_reg (feature, \"v30\", 120, 1, NULL, 128, \"vec128\");\n   tdesc_create_reg (feature, \"v31\", 121, 1, NULL, 128, \"vec128\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.gs\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.gs\");\n   tdesc_create_reg (feature, \"gsd\", 122, 1, \"gs\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"gssm\", 123, 1, \"gs\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"gsepla\", 124, 1, \"gs\", 64, \"data_ptr\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.gsbc\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.gsbc\");\n   tdesc_create_reg (feature, \"bc_gsd\", 125, 1, \"gs\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"bc_gssm\", 126, 1, \"gs\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"bc_gsepla\", 127, 1, \"gs\", 64, \"data_ptr\");\n \n-  tdesc_s390_gs_linux64 = result;\n+  tdesc_s390_gs_linux64 = result.release ();\n }"
    },
    {
      "sha": "18b0d0f37be627d3bd6ce6504dbaf8e84258f70c",
      "filename": "gdb/features/s390-linux32.c",
      "status": "modified",
      "additions": 7,
      "deletions": 7,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/s390-linux32.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/s390-linux32.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/s390-linux32.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_s390_linux32;\n static void\n initialize_tdesc_s390_linux32 (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"s390:31-bit\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"s390:31-bit\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.core\");\n   tdesc_create_reg (feature, \"pswm\", 0, 1, \"psw\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"pswa\", 1, 1, \"psw\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"r0\", 2, 1, \"general\", 32, \"uint32\");\n@@ -34,7 +34,7 @@ initialize_tdesc_s390_linux32 (void)\n   tdesc_create_reg (feature, \"r14\", 16, 1, \"general\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"r15\", 17, 1, \"general\", 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.acr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.acr\");\n   tdesc_create_reg (feature, \"acr0\", 18, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr1\", 19, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr2\", 20, 1, \"access\", 32, \"uint32\");\n@@ -52,7 +52,7 @@ initialize_tdesc_s390_linux32 (void)\n   tdesc_create_reg (feature, \"acr14\", 32, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr15\", 33, 1, \"access\", 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.fpr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.fpr\");\n   tdesc_create_reg (feature, \"fpc\", 34, 1, \"float\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"f0\", 35, 1, \"float\", 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 36, 1, \"float\", 64, \"ieee_double\");\n@@ -71,8 +71,8 @@ initialize_tdesc_s390_linux32 (void)\n   tdesc_create_reg (feature, \"f14\", 49, 1, \"float\", 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f15\", 50, 1, \"float\", 64, \"ieee_double\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.linux\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.linux\");\n   tdesc_create_reg (feature, \"orig_r2\", 51, 1, \"system\", 32, \"uint32\");\n \n-  tdesc_s390_linux32 = result;\n+  tdesc_s390_linux32 = result.release ();\n }"
    },
    {
      "sha": "d1180f98b28426a9a144456422b0b9d973e44b9f",
      "filename": "gdb/features/s390-linux32v1.c",
      "status": "modified",
      "additions": 7,
      "deletions": 7,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/s390-linux32v1.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/s390-linux32v1.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/s390-linux32v1.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_s390_linux32v1;\n static void\n initialize_tdesc_s390_linux32v1 (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"s390:31-bit\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"s390:31-bit\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.core\");\n   tdesc_create_reg (feature, \"pswm\", 0, 1, \"psw\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"pswa\", 1, 1, \"psw\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"r0\", 2, 1, \"general\", 32, \"uint32\");\n@@ -34,7 +34,7 @@ initialize_tdesc_s390_linux32v1 (void)\n   tdesc_create_reg (feature, \"r14\", 16, 1, \"general\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"r15\", 17, 1, \"general\", 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.acr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.acr\");\n   tdesc_create_reg (feature, \"acr0\", 18, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr1\", 19, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr2\", 20, 1, \"access\", 32, \"uint32\");\n@@ -52,7 +52,7 @@ initialize_tdesc_s390_linux32v1 (void)\n   tdesc_create_reg (feature, \"acr14\", 32, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr15\", 33, 1, \"access\", 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.fpr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.fpr\");\n   tdesc_create_reg (feature, \"fpc\", 34, 1, \"float\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"f0\", 35, 1, \"float\", 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 36, 1, \"float\", 64, \"ieee_double\");\n@@ -71,9 +71,9 @@ initialize_tdesc_s390_linux32v1 (void)\n   tdesc_create_reg (feature, \"f14\", 49, 1, \"float\", 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f15\", 50, 1, \"float\", 64, \"ieee_double\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.linux\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.linux\");\n   tdesc_create_reg (feature, \"orig_r2\", 51, 1, \"system\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"last_break\", 52, 0, \"system\", 32, \"code_ptr\");\n \n-  tdesc_s390_linux32v1 = result;\n+  tdesc_s390_linux32v1 = result.release ();\n }"
    },
    {
      "sha": "d1da31a7c9a03a27274727aadc7214ac3d391b73",
      "filename": "gdb/features/s390-linux32v2.c",
      "status": "modified",
      "additions": 7,
      "deletions": 7,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/s390-linux32v2.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/s390-linux32v2.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/s390-linux32v2.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_s390_linux32v2;\n static void\n initialize_tdesc_s390_linux32v2 (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"s390:31-bit\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"s390:31-bit\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.core\");\n   tdesc_create_reg (feature, \"pswm\", 0, 1, \"psw\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"pswa\", 1, 1, \"psw\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"r0\", 2, 1, \"general\", 32, \"uint32\");\n@@ -34,7 +34,7 @@ initialize_tdesc_s390_linux32v2 (void)\n   tdesc_create_reg (feature, \"r14\", 16, 1, \"general\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"r15\", 17, 1, \"general\", 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.acr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.acr\");\n   tdesc_create_reg (feature, \"acr0\", 18, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr1\", 19, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr2\", 20, 1, \"access\", 32, \"uint32\");\n@@ -52,7 +52,7 @@ initialize_tdesc_s390_linux32v2 (void)\n   tdesc_create_reg (feature, \"acr14\", 32, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr15\", 33, 1, \"access\", 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.fpr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.fpr\");\n   tdesc_create_reg (feature, \"fpc\", 34, 1, \"float\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"f0\", 35, 1, \"float\", 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 36, 1, \"float\", 64, \"ieee_double\");\n@@ -71,10 +71,10 @@ initialize_tdesc_s390_linux32v2 (void)\n   tdesc_create_reg (feature, \"f14\", 49, 1, \"float\", 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f15\", 50, 1, \"float\", 64, \"ieee_double\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.linux\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.linux\");\n   tdesc_create_reg (feature, \"orig_r2\", 51, 1, \"system\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"last_break\", 52, 0, \"system\", 32, \"code_ptr\");\n   tdesc_create_reg (feature, \"system_call\", 53, 1, \"system\", 32, \"uint32\");\n \n-  tdesc_s390_linux32v2 = result;\n+  tdesc_s390_linux32v2 = result.release ();\n }"
    },
    {
      "sha": "235da0f63c26c766ad2de2c438982771125c7cab",
      "filename": "gdb/features/s390-linux64.c",
      "status": "modified",
      "additions": 7,
      "deletions": 7,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/s390-linux64.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/s390-linux64.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/s390-linux64.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_s390_linux64;\n static void\n initialize_tdesc_s390_linux64 (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"s390:31-bit\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"s390:31-bit\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.core\");\n   tdesc_create_reg (feature, \"pswm\", 0, 1, \"psw\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"pswa\", 1, 1, \"psw\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"r0h\", 2, 1, \"upper\", 32, \"uint32\");\n@@ -50,7 +50,7 @@ initialize_tdesc_s390_linux64 (void)\n   tdesc_create_reg (feature, \"r15h\", 32, 1, \"upper\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"r15l\", 33, 1, \"lower\", 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.acr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.acr\");\n   tdesc_create_reg (feature, \"acr0\", 34, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr1\", 35, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr2\", 36, 1, \"access\", 32, \"uint32\");\n@@ -68,7 +68,7 @@ initialize_tdesc_s390_linux64 (void)\n   tdesc_create_reg (feature, \"acr14\", 48, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr15\", 49, 1, \"access\", 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.fpr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.fpr\");\n   tdesc_create_reg (feature, \"fpc\", 50, 1, \"float\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"f0\", 51, 1, \"float\", 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 52, 1, \"float\", 64, \"ieee_double\");\n@@ -87,8 +87,8 @@ initialize_tdesc_s390_linux64 (void)\n   tdesc_create_reg (feature, \"f14\", 65, 1, \"float\", 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f15\", 66, 1, \"float\", 64, \"ieee_double\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.linux\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.linux\");\n   tdesc_create_reg (feature, \"orig_r2\", 67, 1, \"system\", 32, \"uint32\");\n \n-  tdesc_s390_linux64 = result;\n+  tdesc_s390_linux64 = result.release ();\n }"
    },
    {
      "sha": "108c0ef404ffccfa8d98d8ddafc57ddff1243714",
      "filename": "gdb/features/s390-linux64v1.c",
      "status": "modified",
      "additions": 7,
      "deletions": 7,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/s390-linux64v1.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/s390-linux64v1.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/s390-linux64v1.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_s390_linux64v1;\n static void\n initialize_tdesc_s390_linux64v1 (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"s390:31-bit\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"s390:31-bit\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.core\");\n   tdesc_create_reg (feature, \"pswm\", 0, 1, \"psw\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"pswa\", 1, 1, \"psw\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"r0h\", 2, 1, \"upper\", 32, \"uint32\");\n@@ -50,7 +50,7 @@ initialize_tdesc_s390_linux64v1 (void)\n   tdesc_create_reg (feature, \"r15h\", 32, 1, \"upper\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"r15l\", 33, 1, \"lower\", 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.acr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.acr\");\n   tdesc_create_reg (feature, \"acr0\", 34, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr1\", 35, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr2\", 36, 1, \"access\", 32, \"uint32\");\n@@ -68,7 +68,7 @@ initialize_tdesc_s390_linux64v1 (void)\n   tdesc_create_reg (feature, \"acr14\", 48, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr15\", 49, 1, \"access\", 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.fpr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.fpr\");\n   tdesc_create_reg (feature, \"fpc\", 50, 1, \"float\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"f0\", 51, 1, \"float\", 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 52, 1, \"float\", 64, \"ieee_double\");\n@@ -87,9 +87,9 @@ initialize_tdesc_s390_linux64v1 (void)\n   tdesc_create_reg (feature, \"f14\", 65, 1, \"float\", 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f15\", 66, 1, \"float\", 64, \"ieee_double\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.linux\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.linux\");\n   tdesc_create_reg (feature, \"orig_r2\", 67, 1, \"system\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"last_break\", 68, 0, \"system\", 32, \"code_ptr\");\n \n-  tdesc_s390_linux64v1 = result;\n+  tdesc_s390_linux64v1 = result.release ();\n }"
    },
    {
      "sha": "057a12978a7a534d97a47d237f486971f0d95799",
      "filename": "gdb/features/s390-linux64v2.c",
      "status": "modified",
      "additions": 7,
      "deletions": 7,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/s390-linux64v2.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/s390-linux64v2.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/s390-linux64v2.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_s390_linux64v2;\n static void\n initialize_tdesc_s390_linux64v2 (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"s390:31-bit\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"s390:31-bit\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.core\");\n   tdesc_create_reg (feature, \"pswm\", 0, 1, \"psw\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"pswa\", 1, 1, \"psw\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"r0h\", 2, 1, \"upper\", 32, \"uint32\");\n@@ -50,7 +50,7 @@ initialize_tdesc_s390_linux64v2 (void)\n   tdesc_create_reg (feature, \"r15h\", 32, 1, \"upper\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"r15l\", 33, 1, \"lower\", 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.acr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.acr\");\n   tdesc_create_reg (feature, \"acr0\", 34, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr1\", 35, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr2\", 36, 1, \"access\", 32, \"uint32\");\n@@ -68,7 +68,7 @@ initialize_tdesc_s390_linux64v2 (void)\n   tdesc_create_reg (feature, \"acr14\", 48, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr15\", 49, 1, \"access\", 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.fpr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.fpr\");\n   tdesc_create_reg (feature, \"fpc\", 50, 1, \"float\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"f0\", 51, 1, \"float\", 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 52, 1, \"float\", 64, \"ieee_double\");\n@@ -87,10 +87,10 @@ initialize_tdesc_s390_linux64v2 (void)\n   tdesc_create_reg (feature, \"f14\", 65, 1, \"float\", 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f15\", 66, 1, \"float\", 64, \"ieee_double\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.linux\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.linux\");\n   tdesc_create_reg (feature, \"orig_r2\", 67, 1, \"system\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"last_break\", 68, 0, \"system\", 32, \"code_ptr\");\n   tdesc_create_reg (feature, \"system_call\", 69, 1, \"system\", 32, \"uint32\");\n \n-  tdesc_s390_linux64v2 = result;\n+  tdesc_s390_linux64v2 = result.release ();\n }"
    },
    {
      "sha": "f8f2217c69b3c183cfa7461ed69386d89db091d7",
      "filename": "gdb/features/s390-te-linux64.c",
      "status": "modified",
      "additions": 8,
      "deletions": 8,
      "changes": 16,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/s390-te-linux64.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/s390-te-linux64.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/s390-te-linux64.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_s390_te_linux64;\n static void\n initialize_tdesc_s390_te_linux64 (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"s390:31-bit\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"s390:31-bit\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.core\");\n   tdesc_create_reg (feature, \"pswm\", 0, 1, \"psw\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"pswa\", 1, 1, \"psw\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"r0h\", 2, 1, \"upper\", 32, \"uint32\");\n@@ -50,7 +50,7 @@ initialize_tdesc_s390_te_linux64 (void)\n   tdesc_create_reg (feature, \"r15h\", 32, 1, \"upper\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"r15l\", 33, 1, \"lower\", 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.acr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.acr\");\n   tdesc_create_reg (feature, \"acr0\", 34, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr1\", 35, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr2\", 36, 1, \"access\", 32, \"uint32\");\n@@ -68,7 +68,7 @@ initialize_tdesc_s390_te_linux64 (void)\n   tdesc_create_reg (feature, \"acr14\", 48, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr15\", 49, 1, \"access\", 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.fpr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.fpr\");\n   tdesc_create_reg (feature, \"fpc\", 50, 1, \"float\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"f0\", 51, 1, \"float\", 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 52, 1, \"float\", 64, \"ieee_double\");\n@@ -87,12 +87,12 @@ initialize_tdesc_s390_te_linux64 (void)\n   tdesc_create_reg (feature, \"f14\", 65, 1, \"float\", 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f15\", 66, 1, \"float\", 64, \"ieee_double\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.linux\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.linux\");\n   tdesc_create_reg (feature, \"orig_r2\", 67, 1, \"system\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"last_break\", 68, 0, \"system\", 32, \"code_ptr\");\n   tdesc_create_reg (feature, \"system_call\", 69, 1, \"system\", 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.tdb\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.tdb\");\n   tdesc_create_reg (feature, \"tdb0\", 70, 1, \"tdb\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"tac\", 71, 1, \"tdb\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"tct\", 72, 1, \"tdb\", 64, \"uint64\");\n@@ -114,5 +114,5 @@ initialize_tdesc_s390_te_linux64 (void)\n   tdesc_create_reg (feature, \"tr14\", 88, 1, \"tdb\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"tr15\", 89, 1, \"tdb\", 64, \"uint64\");\n \n-  tdesc_s390_te_linux64 = result;\n+  tdesc_s390_te_linux64 = result.release ();\n }"
    },
    {
      "sha": "cbc20775cc6b9a5edf6e574e5081654594ac37a6",
      "filename": "gdb/features/s390-tevx-linux64.c",
      "status": "modified",
      "additions": 9,
      "deletions": 9,
      "changes": 18,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/s390-tevx-linux64.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/s390-tevx-linux64.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/s390-tevx-linux64.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_s390_tevx_linux64;\n static void\n initialize_tdesc_s390_tevx_linux64 (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"s390:31-bit\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"s390:31-bit\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.core\");\n   tdesc_create_reg (feature, \"pswm\", 0, 1, \"psw\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"pswa\", 1, 1, \"psw\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"r0h\", 2, 1, \"upper\", 32, \"uint32\");\n@@ -50,7 +50,7 @@ initialize_tdesc_s390_tevx_linux64 (void)\n   tdesc_create_reg (feature, \"r15h\", 32, 1, \"upper\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"r15l\", 33, 1, \"lower\", 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.acr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.acr\");\n   tdesc_create_reg (feature, \"acr0\", 34, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr1\", 35, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr2\", 36, 1, \"access\", 32, \"uint32\");\n@@ -68,7 +68,7 @@ initialize_tdesc_s390_tevx_linux64 (void)\n   tdesc_create_reg (feature, \"acr14\", 48, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr15\", 49, 1, \"access\", 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.fpr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.fpr\");\n   tdesc_create_reg (feature, \"fpc\", 50, 1, \"float\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"f0\", 51, 1, \"float\", 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 52, 1, \"float\", 64, \"ieee_double\");\n@@ -87,12 +87,12 @@ initialize_tdesc_s390_tevx_linux64 (void)\n   tdesc_create_reg (feature, \"f14\", 65, 1, \"float\", 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f15\", 66, 1, \"float\", 64, \"ieee_double\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.linux\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.linux\");\n   tdesc_create_reg (feature, \"orig_r2\", 67, 1, \"system\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"last_break\", 68, 0, \"system\", 32, \"code_ptr\");\n   tdesc_create_reg (feature, \"system_call\", 69, 1, \"system\", 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.tdb\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.tdb\");\n   tdesc_create_reg (feature, \"tdb0\", 70, 1, \"tdb\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"tac\", 71, 1, \"tdb\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"tct\", 72, 1, \"tdb\", 64, \"uint64\");\n@@ -114,7 +114,7 @@ initialize_tdesc_s390_tevx_linux64 (void)\n   tdesc_create_reg (feature, \"tr14\", 88, 1, \"tdb\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"tr15\", 89, 1, \"tdb\", 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.vx\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.vx\");\n   tdesc_type *element_type;\n   element_type = tdesc_named_type (feature, \"ieee_single\");\n   tdesc_create_vector (feature, \"v4f\", element_type, 4);\n@@ -185,5 +185,5 @@ initialize_tdesc_s390_tevx_linux64 (void)\n   tdesc_create_reg (feature, \"v30\", 120, 1, NULL, 128, \"vec128\");\n   tdesc_create_reg (feature, \"v31\", 121, 1, NULL, 128, \"vec128\");\n \n-  tdesc_s390_tevx_linux64 = result;\n+  tdesc_s390_tevx_linux64 = result.release ();\n }"
    },
    {
      "sha": "779332ca5e40fb0a0ff89b075f43e9007c8a0a38",
      "filename": "gdb/features/s390-vx-linux64.c",
      "status": "modified",
      "additions": 8,
      "deletions": 8,
      "changes": 16,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/s390-vx-linux64.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/s390-vx-linux64.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/s390-vx-linux64.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_s390_vx_linux64;\n static void\n initialize_tdesc_s390_vx_linux64 (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"s390:31-bit\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"s390:31-bit\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.core\");\n   tdesc_create_reg (feature, \"pswm\", 0, 1, \"psw\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"pswa\", 1, 1, \"psw\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"r0h\", 2, 1, \"upper\", 32, \"uint32\");\n@@ -50,7 +50,7 @@ initialize_tdesc_s390_vx_linux64 (void)\n   tdesc_create_reg (feature, \"r15h\", 32, 1, \"upper\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"r15l\", 33, 1, \"lower\", 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.acr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.acr\");\n   tdesc_create_reg (feature, \"acr0\", 34, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr1\", 35, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr2\", 36, 1, \"access\", 32, \"uint32\");\n@@ -68,7 +68,7 @@ initialize_tdesc_s390_vx_linux64 (void)\n   tdesc_create_reg (feature, \"acr14\", 48, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr15\", 49, 1, \"access\", 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.fpr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.fpr\");\n   tdesc_create_reg (feature, \"fpc\", 50, 1, \"float\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"f0\", 51, 1, \"float\", 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 52, 1, \"float\", 64, \"ieee_double\");\n@@ -87,12 +87,12 @@ initialize_tdesc_s390_vx_linux64 (void)\n   tdesc_create_reg (feature, \"f14\", 65, 1, \"float\", 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f15\", 66, 1, \"float\", 64, \"ieee_double\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.linux\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.linux\");\n   tdesc_create_reg (feature, \"orig_r2\", 67, 1, \"system\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"last_break\", 68, 0, \"system\", 32, \"code_ptr\");\n   tdesc_create_reg (feature, \"system_call\", 69, 1, \"system\", 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.vx\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.vx\");\n   tdesc_type *element_type;\n   element_type = tdesc_named_type (feature, \"ieee_single\");\n   tdesc_create_vector (feature, \"v4f\", element_type, 4);\n@@ -163,5 +163,5 @@ initialize_tdesc_s390_vx_linux64 (void)\n   tdesc_create_reg (feature, \"v30\", 100, 1, NULL, 128, \"vec128\");\n   tdesc_create_reg (feature, \"v31\", 101, 1, NULL, 128, \"vec128\");\n \n-  tdesc_s390_vx_linux64 = result;\n+  tdesc_s390_vx_linux64 = result.release ();\n }"
    },
    {
      "sha": "a779dafe6c31b9b87cebd71a9147a9bf2ed6192f",
      "filename": "gdb/features/s390x-gs-linux64.c",
      "status": "modified",
      "additions": 11,
      "deletions": 11,
      "changes": 22,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/s390x-gs-linux64.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/s390x-gs-linux64.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/s390x-gs-linux64.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_s390x_gs_linux64;\n static void\n initialize_tdesc_s390x_gs_linux64 (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"s390:64-bit\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"s390:64-bit\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.core\");\n   tdesc_create_reg (feature, \"pswm\", 0, 1, \"psw\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"pswa\", 1, 1, \"psw\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"r0\", 2, 1, \"general\", 64, \"uint64\");\n@@ -34,7 +34,7 @@ initialize_tdesc_s390x_gs_linux64 (void)\n   tdesc_create_reg (feature, \"r14\", 16, 1, \"general\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"r15\", 17, 1, \"general\", 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.acr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.acr\");\n   tdesc_create_reg (feature, \"acr0\", 18, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr1\", 19, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr2\", 20, 1, \"access\", 32, \"uint32\");\n@@ -52,7 +52,7 @@ initialize_tdesc_s390x_gs_linux64 (void)\n   tdesc_create_reg (feature, \"acr14\", 32, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr15\", 33, 1, \"access\", 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.fpr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.fpr\");\n   tdesc_create_reg (feature, \"fpc\", 34, 1, \"float\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"f0\", 35, 1, \"float\", 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 36, 1, \"float\", 64, \"ieee_double\");\n@@ -71,12 +71,12 @@ initialize_tdesc_s390x_gs_linux64 (void)\n   tdesc_create_reg (feature, \"f14\", 49, 1, \"float\", 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f15\", 50, 1, \"float\", 64, \"ieee_double\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.linux\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.linux\");\n   tdesc_create_reg (feature, \"orig_r2\", 51, 1, \"system\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"last_break\", 52, 0, \"system\", 64, \"code_ptr\");\n   tdesc_create_reg (feature, \"system_call\", 53, 1, \"system\", 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.tdb\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.tdb\");\n   tdesc_create_reg (feature, \"tdb0\", 54, 1, \"tdb\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"tac\", 55, 1, \"tdb\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"tct\", 56, 1, \"tdb\", 64, \"uint64\");\n@@ -98,7 +98,7 @@ initialize_tdesc_s390x_gs_linux64 (void)\n   tdesc_create_reg (feature, \"tr14\", 72, 1, \"tdb\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"tr15\", 73, 1, \"tdb\", 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.vx\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.vx\");\n   tdesc_type *element_type;\n   element_type = tdesc_named_type (feature, \"ieee_single\");\n   tdesc_create_vector (feature, \"v4f\", element_type, 4);\n@@ -169,15 +169,15 @@ initialize_tdesc_s390x_gs_linux64 (void)\n   tdesc_create_reg (feature, \"v30\", 104, 1, NULL, 128, \"vec128\");\n   tdesc_create_reg (feature, \"v31\", 105, 1, NULL, 128, \"vec128\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.gs\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.gs\");\n   tdesc_create_reg (feature, \"gsd\", 106, 1, \"gs\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"gssm\", 107, 1, \"gs\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"gsepla\", 108, 1, \"gs\", 64, \"data_ptr\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.gsbc\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.gsbc\");\n   tdesc_create_reg (feature, \"bc_gsd\", 109, 1, \"gs\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"bc_gssm\", 110, 1, \"gs\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"bc_gsepla\", 111, 1, \"gs\", 64, \"data_ptr\");\n \n-  tdesc_s390x_gs_linux64 = result;\n+  tdesc_s390x_gs_linux64 = result.release ();\n }"
    },
    {
      "sha": "f8097e94d5b3a21e31193cf36d6eb9bedea94d8a",
      "filename": "gdb/features/s390x-linux64.c",
      "status": "modified",
      "additions": 7,
      "deletions": 7,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/s390x-linux64.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/s390x-linux64.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/s390x-linux64.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_s390x_linux64;\n static void\n initialize_tdesc_s390x_linux64 (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"s390:64-bit\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"s390:64-bit\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.core\");\n   tdesc_create_reg (feature, \"pswm\", 0, 1, \"psw\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"pswa\", 1, 1, \"psw\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"r0\", 2, 1, \"general\", 64, \"uint64\");\n@@ -34,7 +34,7 @@ initialize_tdesc_s390x_linux64 (void)\n   tdesc_create_reg (feature, \"r14\", 16, 1, \"general\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"r15\", 17, 1, \"general\", 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.acr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.acr\");\n   tdesc_create_reg (feature, \"acr0\", 18, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr1\", 19, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr2\", 20, 1, \"access\", 32, \"uint32\");\n@@ -52,7 +52,7 @@ initialize_tdesc_s390x_linux64 (void)\n   tdesc_create_reg (feature, \"acr14\", 32, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr15\", 33, 1, \"access\", 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.fpr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.fpr\");\n   tdesc_create_reg (feature, \"fpc\", 34, 1, \"float\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"f0\", 35, 1, \"float\", 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 36, 1, \"float\", 64, \"ieee_double\");\n@@ -71,8 +71,8 @@ initialize_tdesc_s390x_linux64 (void)\n   tdesc_create_reg (feature, \"f14\", 49, 1, \"float\", 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f15\", 50, 1, \"float\", 64, \"ieee_double\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.linux\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.linux\");\n   tdesc_create_reg (feature, \"orig_r2\", 51, 1, \"system\", 64, \"uint64\");\n \n-  tdesc_s390x_linux64 = result;\n+  tdesc_s390x_linux64 = result.release ();\n }"
    },
    {
      "sha": "c79ee40efb9dcef764ea2b116705dcebd6daacf0",
      "filename": "gdb/features/s390x-linux64v1.c",
      "status": "modified",
      "additions": 7,
      "deletions": 7,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/s390x-linux64v1.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/s390x-linux64v1.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/s390x-linux64v1.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_s390x_linux64v1;\n static void\n initialize_tdesc_s390x_linux64v1 (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"s390:64-bit\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"s390:64-bit\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.core\");\n   tdesc_create_reg (feature, \"pswm\", 0, 1, \"psw\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"pswa\", 1, 1, \"psw\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"r0\", 2, 1, \"general\", 64, \"uint64\");\n@@ -34,7 +34,7 @@ initialize_tdesc_s390x_linux64v1 (void)\n   tdesc_create_reg (feature, \"r14\", 16, 1, \"general\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"r15\", 17, 1, \"general\", 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.acr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.acr\");\n   tdesc_create_reg (feature, \"acr0\", 18, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr1\", 19, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr2\", 20, 1, \"access\", 32, \"uint32\");\n@@ -52,7 +52,7 @@ initialize_tdesc_s390x_linux64v1 (void)\n   tdesc_create_reg (feature, \"acr14\", 32, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr15\", 33, 1, \"access\", 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.fpr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.fpr\");\n   tdesc_create_reg (feature, \"fpc\", 34, 1, \"float\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"f0\", 35, 1, \"float\", 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 36, 1, \"float\", 64, \"ieee_double\");\n@@ -71,9 +71,9 @@ initialize_tdesc_s390x_linux64v1 (void)\n   tdesc_create_reg (feature, \"f14\", 49, 1, \"float\", 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f15\", 50, 1, \"float\", 64, \"ieee_double\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.linux\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.linux\");\n   tdesc_create_reg (feature, \"orig_r2\", 51, 1, \"system\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"last_break\", 52, 0, \"system\", 64, \"code_ptr\");\n \n-  tdesc_s390x_linux64v1 = result;\n+  tdesc_s390x_linux64v1 = result.release ();\n }"
    },
    {
      "sha": "95009170fe8c1a4431932553a83b2cce2bbb48b4",
      "filename": "gdb/features/s390x-linux64v2.c",
      "status": "modified",
      "additions": 7,
      "deletions": 7,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/s390x-linux64v2.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/s390x-linux64v2.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/s390x-linux64v2.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_s390x_linux64v2;\n static void\n initialize_tdesc_s390x_linux64v2 (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"s390:64-bit\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"s390:64-bit\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.core\");\n   tdesc_create_reg (feature, \"pswm\", 0, 1, \"psw\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"pswa\", 1, 1, \"psw\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"r0\", 2, 1, \"general\", 64, \"uint64\");\n@@ -34,7 +34,7 @@ initialize_tdesc_s390x_linux64v2 (void)\n   tdesc_create_reg (feature, \"r14\", 16, 1, \"general\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"r15\", 17, 1, \"general\", 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.acr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.acr\");\n   tdesc_create_reg (feature, \"acr0\", 18, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr1\", 19, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr2\", 20, 1, \"access\", 32, \"uint32\");\n@@ -52,7 +52,7 @@ initialize_tdesc_s390x_linux64v2 (void)\n   tdesc_create_reg (feature, \"acr14\", 32, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr15\", 33, 1, \"access\", 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.fpr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.fpr\");\n   tdesc_create_reg (feature, \"fpc\", 34, 1, \"float\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"f0\", 35, 1, \"float\", 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 36, 1, \"float\", 64, \"ieee_double\");\n@@ -71,10 +71,10 @@ initialize_tdesc_s390x_linux64v2 (void)\n   tdesc_create_reg (feature, \"f14\", 49, 1, \"float\", 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f15\", 50, 1, \"float\", 64, \"ieee_double\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.linux\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.linux\");\n   tdesc_create_reg (feature, \"orig_r2\", 51, 1, \"system\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"last_break\", 52, 0, \"system\", 64, \"code_ptr\");\n   tdesc_create_reg (feature, \"system_call\", 53, 1, \"system\", 32, \"uint32\");\n \n-  tdesc_s390x_linux64v2 = result;\n+  tdesc_s390x_linux64v2 = result.release ();\n }"
    },
    {
      "sha": "64a0fe599df46cbd71531de4f3d112ee77bd12bc",
      "filename": "gdb/features/s390x-te-linux64.c",
      "status": "modified",
      "additions": 8,
      "deletions": 8,
      "changes": 16,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/s390x-te-linux64.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/s390x-te-linux64.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/s390x-te-linux64.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_s390x_te_linux64;\n static void\n initialize_tdesc_s390x_te_linux64 (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"s390:64-bit\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"s390:64-bit\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.core\");\n   tdesc_create_reg (feature, \"pswm\", 0, 1, \"psw\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"pswa\", 1, 1, \"psw\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"r0\", 2, 1, \"general\", 64, \"uint64\");\n@@ -34,7 +34,7 @@ initialize_tdesc_s390x_te_linux64 (void)\n   tdesc_create_reg (feature, \"r14\", 16, 1, \"general\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"r15\", 17, 1, \"general\", 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.acr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.acr\");\n   tdesc_create_reg (feature, \"acr0\", 18, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr1\", 19, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr2\", 20, 1, \"access\", 32, \"uint32\");\n@@ -52,7 +52,7 @@ initialize_tdesc_s390x_te_linux64 (void)\n   tdesc_create_reg (feature, \"acr14\", 32, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr15\", 33, 1, \"access\", 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.fpr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.fpr\");\n   tdesc_create_reg (feature, \"fpc\", 34, 1, \"float\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"f0\", 35, 1, \"float\", 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 36, 1, \"float\", 64, \"ieee_double\");\n@@ -71,12 +71,12 @@ initialize_tdesc_s390x_te_linux64 (void)\n   tdesc_create_reg (feature, \"f14\", 49, 1, \"float\", 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f15\", 50, 1, \"float\", 64, \"ieee_double\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.linux\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.linux\");\n   tdesc_create_reg (feature, \"orig_r2\", 51, 1, \"system\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"last_break\", 52, 0, \"system\", 64, \"code_ptr\");\n   tdesc_create_reg (feature, \"system_call\", 53, 1, \"system\", 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.tdb\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.tdb\");\n   tdesc_create_reg (feature, \"tdb0\", 54, 1, \"tdb\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"tac\", 55, 1, \"tdb\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"tct\", 56, 1, \"tdb\", 64, \"uint64\");\n@@ -98,5 +98,5 @@ initialize_tdesc_s390x_te_linux64 (void)\n   tdesc_create_reg (feature, \"tr14\", 72, 1, \"tdb\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"tr15\", 73, 1, \"tdb\", 64, \"uint64\");\n \n-  tdesc_s390x_te_linux64 = result;\n+  tdesc_s390x_te_linux64 = result.release ();\n }"
    },
    {
      "sha": "ec68e702f7ccc55b3dc08936a75bf39a8e3d6cc6",
      "filename": "gdb/features/s390x-tevx-linux64.c",
      "status": "modified",
      "additions": 9,
      "deletions": 9,
      "changes": 18,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/s390x-tevx-linux64.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/s390x-tevx-linux64.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/s390x-tevx-linux64.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_s390x_tevx_linux64;\n static void\n initialize_tdesc_s390x_tevx_linux64 (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"s390:64-bit\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"s390:64-bit\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.core\");\n   tdesc_create_reg (feature, \"pswm\", 0, 1, \"psw\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"pswa\", 1, 1, \"psw\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"r0\", 2, 1, \"general\", 64, \"uint64\");\n@@ -34,7 +34,7 @@ initialize_tdesc_s390x_tevx_linux64 (void)\n   tdesc_create_reg (feature, \"r14\", 16, 1, \"general\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"r15\", 17, 1, \"general\", 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.acr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.acr\");\n   tdesc_create_reg (feature, \"acr0\", 18, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr1\", 19, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr2\", 20, 1, \"access\", 32, \"uint32\");\n@@ -52,7 +52,7 @@ initialize_tdesc_s390x_tevx_linux64 (void)\n   tdesc_create_reg (feature, \"acr14\", 32, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr15\", 33, 1, \"access\", 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.fpr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.fpr\");\n   tdesc_create_reg (feature, \"fpc\", 34, 1, \"float\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"f0\", 35, 1, \"float\", 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 36, 1, \"float\", 64, \"ieee_double\");\n@@ -71,12 +71,12 @@ initialize_tdesc_s390x_tevx_linux64 (void)\n   tdesc_create_reg (feature, \"f14\", 49, 1, \"float\", 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f15\", 50, 1, \"float\", 64, \"ieee_double\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.linux\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.linux\");\n   tdesc_create_reg (feature, \"orig_r2\", 51, 1, \"system\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"last_break\", 52, 0, \"system\", 64, \"code_ptr\");\n   tdesc_create_reg (feature, \"system_call\", 53, 1, \"system\", 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.tdb\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.tdb\");\n   tdesc_create_reg (feature, \"tdb0\", 54, 1, \"tdb\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"tac\", 55, 1, \"tdb\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"tct\", 56, 1, \"tdb\", 64, \"uint64\");\n@@ -98,7 +98,7 @@ initialize_tdesc_s390x_tevx_linux64 (void)\n   tdesc_create_reg (feature, \"tr14\", 72, 1, \"tdb\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"tr15\", 73, 1, \"tdb\", 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.vx\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.vx\");\n   tdesc_type *element_type;\n   element_type = tdesc_named_type (feature, \"ieee_single\");\n   tdesc_create_vector (feature, \"v4f\", element_type, 4);\n@@ -169,5 +169,5 @@ initialize_tdesc_s390x_tevx_linux64 (void)\n   tdesc_create_reg (feature, \"v30\", 104, 1, NULL, 128, \"vec128\");\n   tdesc_create_reg (feature, \"v31\", 105, 1, NULL, 128, \"vec128\");\n \n-  tdesc_s390x_tevx_linux64 = result;\n+  tdesc_s390x_tevx_linux64 = result.release ();\n }"
    },
    {
      "sha": "4362e53ad3fde1e1142952b83bc91696b851d385",
      "filename": "gdb/features/s390x-vx-linux64.c",
      "status": "modified",
      "additions": 8,
      "deletions": 8,
      "changes": 16,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/s390x-vx-linux64.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/features/s390x-vx-linux64.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/features/s390x-vx-linux64.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -9,12 +9,12 @@ struct target_desc *tdesc_s390x_vx_linux64;\n static void\n initialize_tdesc_s390x_vx_linux64 (void)\n {\n-  struct target_desc *result = allocate_target_description ();\n-  set_tdesc_architecture (result, bfd_scan_arch (\"s390:64-bit\"));\n+  target_desc_up result = allocate_target_description ();\n+  set_tdesc_architecture (result.get (), bfd_scan_arch (\"s390:64-bit\"));\n \n   struct tdesc_feature *feature;\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.core\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.core\");\n   tdesc_create_reg (feature, \"pswm\", 0, 1, \"psw\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"pswa\", 1, 1, \"psw\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"r0\", 2, 1, \"general\", 64, \"uint64\");\n@@ -34,7 +34,7 @@ initialize_tdesc_s390x_vx_linux64 (void)\n   tdesc_create_reg (feature, \"r14\", 16, 1, \"general\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"r15\", 17, 1, \"general\", 64, \"uint64\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.acr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.acr\");\n   tdesc_create_reg (feature, \"acr0\", 18, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr1\", 19, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr2\", 20, 1, \"access\", 32, \"uint32\");\n@@ -52,7 +52,7 @@ initialize_tdesc_s390x_vx_linux64 (void)\n   tdesc_create_reg (feature, \"acr14\", 32, 1, \"access\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"acr15\", 33, 1, \"access\", 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.fpr\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.fpr\");\n   tdesc_create_reg (feature, \"fpc\", 34, 1, \"float\", 32, \"uint32\");\n   tdesc_create_reg (feature, \"f0\", 35, 1, \"float\", 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f1\", 36, 1, \"float\", 64, \"ieee_double\");\n@@ -71,12 +71,12 @@ initialize_tdesc_s390x_vx_linux64 (void)\n   tdesc_create_reg (feature, \"f14\", 49, 1, \"float\", 64, \"ieee_double\");\n   tdesc_create_reg (feature, \"f15\", 50, 1, \"float\", 64, \"ieee_double\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.linux\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.linux\");\n   tdesc_create_reg (feature, \"orig_r2\", 51, 1, \"system\", 64, \"uint64\");\n   tdesc_create_reg (feature, \"last_break\", 52, 0, \"system\", 64, \"code_ptr\");\n   tdesc_create_reg (feature, \"system_call\", 53, 1, \"system\", 32, \"uint32\");\n \n-  feature = tdesc_create_feature (result, \"org.gnu.gdb.s390.vx\");\n+  feature = tdesc_create_feature (result.get (), \"org.gnu.gdb.s390.vx\");\n   tdesc_type *element_type;\n   element_type = tdesc_named_type (feature, \"ieee_single\");\n   tdesc_create_vector (feature, \"v4f\", element_type, 4);\n@@ -147,5 +147,5 @@ initialize_tdesc_s390x_vx_linux64 (void)\n   tdesc_create_reg (feature, \"v30\", 84, 1, NULL, 128, \"vec128\");\n   tdesc_create_reg (feature, \"v31\", 85, 1, NULL, 128, \"vec128\");\n \n-  tdesc_s390x_vx_linux64 = result;\n+  tdesc_s390x_vx_linux64 = result.release ();\n }"
    },
    {
      "sha": "317c7d092f1a9abbab9f784297658ce36c39310c",
      "filename": "gdb/mips-tdep.c",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/mips-tdep.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/mips-tdep.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/mips-tdep.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -8938,10 +8938,10 @@ _initialize_mips_tdep ()\n \n   /* Create feature sets with the appropriate properties.  The values\n      are not important.  */\n-  mips_tdesc_gp32 = allocate_target_description ();\n+  mips_tdesc_gp32 = allocate_target_description ().release ();\n   set_tdesc_property (mips_tdesc_gp32, PROPERTY_GP32, \"\");\n \n-  mips_tdesc_gp64 = allocate_target_description ();\n+  mips_tdesc_gp64 = allocate_target_description ().release ();\n   set_tdesc_property (mips_tdesc_gp64, PROPERTY_GP64, \"\");\n \n   /* Add root prefix command for all \"set mips\"/\"show mips\" commands.  */"
    },
    {
      "sha": "6d0905b90b82dd8f094cd918d2fc04de2e38021e",
      "filename": "gdb/target-descriptions.c",
      "status": "modified",
      "additions": 9,
      "deletions": 9,
      "changes": 18,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/target-descriptions.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdb/target-descriptions.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/target-descriptions.c?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -1207,10 +1207,10 @@ tdesc_create_feature (struct target_desc *tdesc, const char *name)\n \n /* See gdbsupport/tdesc.h.  */\n \n-struct target_desc *\n+target_desc_up\n allocate_target_description (void)\n {\n-  return new target_desc ();\n+  return target_desc_up (new target_desc ());\n }\n \n /* See gdbsupport/tdesc.h.  */\n@@ -1377,42 +1377,42 @@ class print_c_tdesc : public tdesc_element_visitor\n     printf_unfiltered (\"initialize_tdesc_%s (void)\\n\", m_function);\n     printf_unfiltered (\"{\\n\");\n     printf_unfiltered\n-      (\"  struct target_desc *result = allocate_target_description ();\\n\");\n+      (\"  target_desc_up result = allocate_target_description ();\\n\");\n \n     if (tdesc_architecture (e) != NULL)\n       {\n \tprintf_unfiltered\n-\t  (\"  set_tdesc_architecture (result, bfd_scan_arch (\\\"%s\\\"));\\n\",\n+\t  (\"  set_tdesc_architecture (result.get (), bfd_scan_arch (\\\"%s\\\"));\\n\",\n \t   tdesc_architecture (e)->printable_name);\n \tprintf_unfiltered (\"\\n\");\n       }\n     if (tdesc_osabi (e) > GDB_OSABI_UNKNOWN\n \t&& tdesc_osabi (e) < GDB_OSABI_INVALID)\n       {\n \tprintf_unfiltered\n-\t  (\"  set_tdesc_osabi (result, osabi_from_tdesc_string (\\\"%s\\\"));\\n\",\n+\t  (\"  set_tdesc_osabi (result.get (), osabi_from_tdesc_string (\\\"%s\\\"));\\n\",\n \t   gdbarch_osabi_name (tdesc_osabi (e)));\n \tprintf_unfiltered (\"\\n\");\n       }\n \n     for (const tdesc_compatible_info_up &compatible : e->compatible)\n       printf_unfiltered\n-\t(\"  tdesc_add_compatible (result, bfd_scan_arch (\\\"%s\\\"));\\n\",\n+\t(\"  tdesc_add_compatible (result.get (), bfd_scan_arch (\\\"%s\\\"));\\n\",\n \t compatible->arch ()->printable_name);\n \n     if (!e->compatible.empty ())\n       printf_unfiltered (\"\\n\");\n \n     for (const property &prop : e->properties)\n-      printf_unfiltered (\"  set_tdesc_property (result, \\\"%s\\\", \\\"%s\\\");\\n\",\n+      printf_unfiltered (\"  set_tdesc_property (result.get (), \\\"%s\\\", \\\"%s\\\");\\n\",\n \t\t\t prop.key.c_str (), prop.value.c_str ());\n \n     printf_unfiltered (\"  struct tdesc_feature *feature;\\n\");\n   }\n \n   void visit_pre (const tdesc_feature *e) override\n   {\n-    printf_unfiltered (\"\\n  feature = tdesc_create_feature (result, \\\"%s\\\");\\n\",\n+    printf_unfiltered (\"\\n  feature = tdesc_create_feature (result.get (), \\\"%s\\\");\\n\",\n \t\t       e->name.c_str ());\n   }\n \n@@ -1421,7 +1421,7 @@ class print_c_tdesc : public tdesc_element_visitor\n \n   void visit_post (const target_desc *e) override\n   {\n-    printf_unfiltered (\"\\n  tdesc_%s = result;\\n\", m_function);\n+    printf_unfiltered (\"\\n  tdesc_%s = result.release ();\\n\", m_function);\n     printf_unfiltered (\"}\\n\");\n   }\n "
    },
    {
      "sha": "510cf2e68110bef52dc8640aa30f22db59fd04e9",
      "filename": "gdbserver/ChangeLog",
      "status": "modified",
      "additions": 13,
      "deletions": 0,
      "changes": 13,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdbserver/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdbserver/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/ChangeLog?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -1,3 +1,16 @@\n+2020-10-08  Andrew Burgess  <andrew.burgess@embecosm.com>\n+\n+\t* linux-low.cc (linux_process_target::handle_extended_wait):\n+\tRelease the unique_ptr returned from allocate_target_description.\n+\t* linux-riscv-low.cc (riscv_target::low_arch_setup): Likewise.\n+\t* linux-x86-low.cc (tdesc_amd64_linux_no_xml): Change type.\n+\t(tdesc_i386_linux_no_xml): Change type.\n+\t(x86_linux_read_description): Borrow pointer from unique_ptr\n+\tobject.\n+\t(x86_target::get_ipa_tdesc_idx): Likewise.\n+\t(initialize_low_arch): Likewise.\n+\t* tdesc.cc (allocate_target_description): Update return type.\n+\n 2020-10-07  Tom Tromey  <tromey@adacore.com>\n \n \t* server.cc (handle_search_memory): Remove dead code."
    },
    {
      "sha": "06ce2f090ab618397d20255815c45eee37ad0462",
      "filename": "gdbserver/linux-low.cc",
      "status": "modified",
      "additions": 3,
      "deletions": 4,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdbserver/linux-low.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdbserver/linux-low.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/linux-low.cc?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -497,7 +497,6 @@ linux_process_target::handle_extended_wait (lwp_info **orig_event_lwp,\n \t  struct process_info *child_proc;\n \t  struct lwp_info *child_lwp;\n \t  struct thread_info *child_thr;\n-\t  struct target_desc *tdesc;\n \n \t  ptid = ptid_t (new_pid, new_pid, 0);\n \n@@ -553,9 +552,9 @@ linux_process_target::handle_extended_wait (lwp_info **orig_event_lwp,\n \n \t  clone_all_breakpoints (child_thr, event_thr);\n \n-\t  tdesc = allocate_target_description ();\n-\t  copy_target_description (tdesc, parent_proc->tdesc);\n-\t  child_proc->tdesc = tdesc;\n+\t  target_desc_up tdesc = allocate_target_description ();\n+\t  copy_target_description (tdesc.get (), parent_proc->tdesc);\n+\t  child_proc->tdesc = tdesc.release ();\n \n \t  /* Clone arch-specific process data.  */\n \t  low_new_fork (parent_proc, child_proc);"
    },
    {
      "sha": "32f191ea8516dcf5e768e95319db733501353c73",
      "filename": "gdbserver/linux-riscv-low.cc",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdbserver/linux-riscv-low.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdbserver/linux-riscv-low.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/linux-riscv-low.cc?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -88,11 +88,11 @@ riscv_target::low_arch_setup ()\n \n   const riscv_gdbarch_features features\n     = riscv_linux_read_features (lwpid_of (current_thread));\n-  target_desc *tdesc = riscv_create_target_description (features);\n+  target_desc_up tdesc = riscv_create_target_description (features);\n \n   if (!tdesc->expedite_regs)\n-    init_target_desc (tdesc, expedite_regs);\n-  current_process ()->tdesc = tdesc;\n+    init_target_desc (tdesc.get (), expedite_regs);\n+  current_process ()->tdesc = tdesc.release ();\n }\n \n /* Collect GPRs from REGCACHE into BUF.  */"
    },
    {
      "sha": "65a0c075705c3b13b900191d324fa018748e229f",
      "filename": "gdbserver/linux-x86-low.cc",
      "status": "modified",
      "additions": 7,
      "deletions": 7,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdbserver/linux-x86-low.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdbserver/linux-x86-low.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/linux-x86-low.cc?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -48,9 +48,9 @@\n #include \"linux-x86-tdesc.h\"\n \n #ifdef __x86_64__\n-static struct target_desc *tdesc_amd64_linux_no_xml;\n+static target_desc_up tdesc_amd64_linux_no_xml;\n #endif\n-static struct target_desc *tdesc_i386_linux_no_xml;\n+static target_desc_up tdesc_i386_linux_no_xml;\n \n \n static unsigned char jump_insn[] = { 0xe9, 0, 0, 0, 0 };\n@@ -899,10 +899,10 @@ x86_linux_read_description (void)\n       /* Don't use XML.  */\n #ifdef __x86_64__\n       if (machine == EM_X86_64)\n-\treturn tdesc_amd64_linux_no_xml;\n+\treturn tdesc_amd64_linux_no_xml.get ();\n       else\n #endif\n-\treturn tdesc_i386_linux_no_xml;\n+\treturn tdesc_i386_linux_no_xml.get ();\n     }\n \n   if (have_ptrace_getregset == -1)\n@@ -2955,7 +2955,7 @@ x86_target::get_ipa_tdesc_idx ()\n   return amd64_get_ipa_tdesc_idx (tdesc);\n #endif\n \n-  if (tdesc == tdesc_i386_linux_no_xml)\n+  if (tdesc == tdesc_i386_linux_no_xml.get ())\n     return X86_TDESC_SSE;\n \n   return i386_get_ipa_tdesc_idx (tdesc);\n@@ -2971,14 +2971,14 @@ initialize_low_arch (void)\n   /* Initialize the Linux target descriptions.  */\n #ifdef __x86_64__\n   tdesc_amd64_linux_no_xml = allocate_target_description ();\n-  copy_target_description (tdesc_amd64_linux_no_xml,\n+  copy_target_description (tdesc_amd64_linux_no_xml.get (),\n \t\t\t   amd64_linux_read_description (X86_XSTATE_SSE_MASK,\n \t\t\t\t\t\t\t false));\n   tdesc_amd64_linux_no_xml->xmltarget = xmltarget_amd64_linux_no_xml;\n #endif\n \n   tdesc_i386_linux_no_xml = allocate_target_description ();\n-  copy_target_description (tdesc_i386_linux_no_xml,\n+  copy_target_description (tdesc_i386_linux_no_xml.get (),\n \t\t\t   i386_linux_read_description (X86_XSTATE_SSE_MASK));\n   tdesc_i386_linux_no_xml->xmltarget = xmltarget_i386_linux_no_xml;\n "
    },
    {
      "sha": "b7e6057ccbe93efe4a0d71a511a6a5faf829edf1",
      "filename": "gdbserver/tdesc.cc",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdbserver/tdesc.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdbserver/tdesc.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/tdesc.cc?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -95,10 +95,10 @@ init_target_desc (struct target_desc *tdesc,\n \n /* See gdbsupport/tdesc.h.  */\n \n-struct target_desc *\n+target_desc_up\n allocate_target_description (void)\n {\n-  return new target_desc ();\n+  return target_desc_up (new target_desc ());\n }\n \n /* See gdbsupport/tdesc.h.  */"
    },
    {
      "sha": "cd05d6adf75227b4d89f49f90037b64efa3583ee",
      "filename": "gdbsupport/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdbsupport/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdbsupport/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbsupport/ChangeLog?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -1,3 +1,7 @@\n+2020-10-08  Andrew Burgess  <andrew.burgess@embecosm.com>\n+\n+\t* tdesc.h (allocate_target_description): Update return type.\n+\n 2020-10-07  Tom Tromey  <tromey@adacore.com>\n \n \t* Makefile.in: Rebuild."
    },
    {
      "sha": "b70a56457dac502c252c9ffddd16a3429f9f7ae1",
      "filename": "gdbsupport/tdesc.h",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdbsupport/tdesc.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3/gdbsupport/tdesc.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbsupport/tdesc.h?ref=51a948fdf0e14fb69ab9e0c79ae8b2415801f9a3",
      "patch": "@@ -328,7 +328,7 @@ struct target_desc_deleter\n typedef std::unique_ptr<target_desc, target_desc_deleter> target_desc_up;\n \n /* Allocate a new target_desc.  */\n-target_desc *allocate_target_description (void);\n+target_desc_up allocate_target_description (void);\n \n /* Set TARGET_DESC's architecture by NAME.  */\n void set_tdesc_architecture (target_desc *target_desc,"
    }
  ]
}