{
  "sha": "430456e34753ac705a047c886eb4f73cf2906dfc",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NDMwNDU2ZTM0NzUzYWM3MDVhMDQ3Yzg4NmViNGY3M2NmMjkwNmRmYw==",
  "commit": {
    "author": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-06-16T00:20:11Z"
    },
    "committer": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-06-16T05:03:54Z"
    },
    "message": "sim: ppc: drop host endian configure option\n\nThe --enable-sim-hostendian flag was purely so people had an escape route\nfor when cross-compiling.  This is because historically, AC_C_BIGENDIAN\ndid not work in those cases.  That was fixed a while ago though, so we can\nrequire that macro everywhere now and simplify a good bit of code.\n\nThis was done for all the other ports years ago, so catch ppc up.",
    "tree": {
      "sha": "0c46e6372c85dd346f9a3bd25f7885eac1669335",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/0c46e6372c85dd346f9a3bd25f7885eac1669335"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/430456e34753ac705a047c886eb4f73cf2906dfc",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/430456e34753ac705a047c886eb4f73cf2906dfc",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/430456e34753ac705a047c886eb4f73cf2906dfc",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/430456e34753ac705a047c886eb4f73cf2906dfc/comments",
  "author": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "dae666c968ac9f053dc5dfe1a6ceaf333a8ca94d",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/dae666c968ac9f053dc5dfe1a6ceaf333a8ca94d",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/dae666c968ac9f053dc5dfe1a6ceaf333a8ca94d"
    }
  ],
  "stats": {
    "total": 1984,
    "additions": 765,
    "deletions": 1219
  },
  "files": [
    {
      "sha": "469d76bf20381f9bf12b7380f14ec5adffe65f4f",
      "filename": "sim/ppc/ChangeLog",
      "status": "modified",
      "additions": 20,
      "deletions": 0,
      "changes": 20,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/430456e34753ac705a047c886eb4f73cf2906dfc/sim/ppc/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/430456e34753ac705a047c886eb4f73cf2906dfc/sim/ppc/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ppc/ChangeLog?ref=430456e34753ac705a047c886eb4f73cf2906dfc",
      "patch": "@@ -1,3 +1,23 @@\n+2021-06-16  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* Makefile.in (HOSTENDIAN_CFLAGS): Delete.\n+\t* configure.ac: Delete sim-hostendian logic.\n+\t* altivec_registers.h (WITH_HOST_BYTE_ORDER): Rename to ...\n+\t(HOST_BYTE_ORDER): ... this.\n+\t* options.c: Likewise.\n+\t* sim-endian.c: Likewise.\n+\t* psim.c (current_host_byte_order): Delete.\n+\t(CURRENT_HOST_BYTE_ORDER): Rename to ...\n+\t(HOST_BYTE_ORDER): ... this.\n+\t* sim-endian-n.h: Likewise.\n+\t* sim-endian.h: Delete all custom endian include & define logic.\n+\t* std-config.h (WITH_HOST_BYTE_ORDER): Delete.\n+\t(LITTLE_ENDIAN): Define fallback.\n+\t(BIG_ENDIAN): Likewise.\n+\t(HOST_BYTE_ORDER): Define based on WORDS_BIGENDIAN.\n+\t(current_host_byte_order, CURRENT_HOST_BYTE_ORDER): Delete.\n+\t* config.in, configure: Regenerate.\n+\n 2021-06-13  Mike Frysinger  <vapier@gentoo.org>\n \n \t* Makefile.in (COMMON_OBJS_NAMES, +COMMON_OBJS): New variables."
    },
    {
      "sha": "c1135a3a7b0a822e4423db4d2b6f5eb76dc1ee2d",
      "filename": "sim/ppc/Makefile.in",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/430456e34753ac705a047c886eb4f73cf2906dfc/sim/ppc/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/430456e34753ac705a047c886eb4f73cf2906dfc/sim/ppc/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ppc/Makefile.in?ref=430456e34753ac705a047c886eb4f73cf2906dfc",
      "patch": "@@ -73,7 +73,6 @@ RANLIB = @RANLIB@\n \n INLINE_CFLAGS = @sim_inline@\n ENDIAN_CFLAGS = @sim_endian@\n-HOSTENDIAN_CFLAGS = @sim_hostendian@\n SMP_CFLAGS = @sim_smp@\n XOR_ENDIAN_CFLAGS = @sim_xor_endian@\n BITSIZE_CFLAGS = @sim_bitsize@\n@@ -88,7 +87,6 @@ WARNING_CFLAGS = @sim_warnings@\n DEVZERO_CFLAGS = @sim_devzero@\n CONFIG_CFLAGS = \\\n   $(ENDIAN_CFLAGS) \\\n-  $(HOSTENDIAN_CFLAGS) \\\n   $(SMP_CFLAGS) \\\n   $(XOR_ENDIAN_CFLAGS) \\\n   $(BITSIZE_CFLAGS) \\"
    },
    {
      "sha": "2c0bff0784313792998e24f67ccb7010fd3f88f4",
      "filename": "sim/ppc/altivec_registers.h",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/430456e34753ac705a047c886eb4f73cf2906dfc/sim/ppc/altivec_registers.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/430456e34753ac705a047c886eb4f73cf2906dfc/sim/ppc/altivec_registers.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ppc/altivec_registers.h?ref=430456e34753ac705a047c886eb4f73cf2906dfc",
      "patch": "@@ -49,7 +49,7 @@ struct altivec_regs {\n    work on N independant bits of data.  This is only for the\n    instructions that actually move data around.  */\n \n-#if (WITH_HOST_BYTE_ORDER == BIG_ENDIAN)\n+#if (HOST_BYTE_ORDER == BIG_ENDIAN)\n #define AV_BINDEX(x)\t((x) & 15)\n #define AV_HINDEX(x)\t((x) & 7)\n #else"
    },
    {
      "sha": "c6182ae0e8689a6b5121b10ccae51180b3adbd1f",
      "filename": "sim/ppc/config.in",
      "status": "modified",
      "additions": 0,
      "deletions": 15,
      "changes": 15,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/430456e34753ac705a047c886eb4f73cf2906dfc/sim/ppc/config.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/430456e34753ac705a047c886eb4f73cf2906dfc/sim/ppc/config.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ppc/config.in?ref=430456e34753ac705a047c886eb4f73cf2906dfc",
      "patch": "@@ -1,8 +1,5 @@\n /* config.in.  Generated from configure.ac by autoheader.  */\n \n-/* Define if building universal (internal helper macro) */\n-#undef AC_APPLE_UNIVERSAL_BUILD\n-\n /* Define to 1 if translation of program messages to the user's native\n    language is requested. */\n #undef ENABLE_NLS\n@@ -77,15 +74,3 @@\n \n /* Sim assert settings */\n #undef WITH_ASSERT\n-\n-/* Define WORDS_BIGENDIAN to 1 if your processor stores words with the most\n-   significant byte first (like Motorola and SPARC, unlike Intel). */\n-#if defined AC_APPLE_UNIVERSAL_BUILD\n-# if defined __BIG_ENDIAN__\n-#  define WORDS_BIGENDIAN 1\n-# endif\n-#else\n-# ifndef WORDS_BIGENDIAN\n-#  undef WORDS_BIGENDIAN\n-# endif\n-#endif"
    },
    {
      "sha": "65fe1846d63336ecc08c36eda11042507cdb1e2e",
      "filename": "sim/ppc/configure",
      "status": "modified",
      "additions": 722,
      "deletions": 976,
      "changes": 1698,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/430456e34753ac705a047c886eb4f73cf2906dfc/sim/ppc/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/430456e34753ac705a047c886eb4f73cf2906dfc/sim/ppc/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ppc/configure?ref=430456e34753ac705a047c886eb4f73cf2906dfc",
      "patch": "@@ -638,7 +638,6 @@ sim_hostbitsize\n sim_bitsize\n sim_igen_smp\n sim_smp\n-sim_hostendian\n sim_xor_endian\n sim_endian\n sim_inline\n@@ -660,6 +659,9 @@ RANLIB\n AR\n CFLAGS_FOR_BUILD\n CC_FOR_BUILD\n+EGREP\n+GREP\n+CPP\n zlibinc\n zlibdir\n target_os\n@@ -675,9 +677,6 @@ build_vendor\n build_cpu\n build\n WERROR_CFLAGS\n-EGREP\n-GREP\n-CPP\n CATOBJEXT\n GENCAT\n INSTOBJEXT\n@@ -752,7 +751,6 @@ enable_sim_filter\n enable_sim_float\n enable_sim_hardware\n enable_sim_hostbitsize\n-enable_sim_hostendian\n enable_sim_icache\n enable_sim_inline\n enable_sim_jump\n@@ -1409,7 +1407,6 @@ Optional Features:\n   --enable-sim-float\t\t\tSpecify whether the target has hard, soft, altivec or e500 floating point.\n   --enable-sim-hardware=list\t\tSpecify the hardware to be included in the build.\n   --enable-sim-hostbitsize=32|64\tSpecify host bitsize (32 or 64).\n-  --enable-sim-hostendian=end\t\tSpecify host byte endian orientation.\n   --enable-sim-icache=size\t\tSpecify instruction-decode cache size and type.\n   --enable-sim-inline=inlines\t\tSpecify which functions should be inlined.\n   --enable-sim-jump\t\tJump between semantic code (instead of call/return).\n@@ -1603,6 +1600,37 @@ fi\n \n } # ac_fn_c_try_run\n \n+# ac_fn_c_check_header_compile LINENO HEADER VAR INCLUDES\n+# -------------------------------------------------------\n+# Tests whether HEADER exists and can be compiled using the include files in\n+# INCLUDES, setting the cache variable VAR accordingly.\n+ac_fn_c_check_header_compile ()\n+{\n+  as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $2\" >&5\n+$as_echo_n \"checking for $2... \" >&6; }\n+if eval \\${$3+:} false; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+$4\n+#include <$2>\n+_ACEOF\n+if ac_fn_c_try_compile \"$LINENO\"; then :\n+  eval \"$3=yes\"\n+else\n+  eval \"$3=no\"\n+fi\n+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n+fi\n+eval ac_res=\\$$3\n+\t       { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_res\" >&5\n+$as_echo \"$ac_res\" >&6; }\n+  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno\n+\n+} # ac_fn_c_check_header_compile\n+\n # ac_fn_c_try_cpp LINENO\n # ----------------------\n # Try to preprocess conftest.$ac_ext, and return whether this succeeded.\n@@ -1640,37 +1668,6 @@ fi\n \n } # ac_fn_c_try_cpp\n \n-# ac_fn_c_check_header_compile LINENO HEADER VAR INCLUDES\n-# -------------------------------------------------------\n-# Tests whether HEADER exists and can be compiled using the include files in\n-# INCLUDES, setting the cache variable VAR accordingly.\n-ac_fn_c_check_header_compile ()\n-{\n-  as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $2\" >&5\n-$as_echo_n \"checking for $2... \" >&6; }\n-if eval \\${$3+:} false; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-$4\n-#include <$2>\n-_ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n-  eval \"$3=yes\"\n-else\n-  eval \"$3=no\"\n-fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-fi\n-eval ac_res=\\$$3\n-\t       { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_res\" >&5\n-$as_echo \"$ac_res\" >&6; }\n-  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno\n-\n-} # ac_fn_c_check_header_compile\n-\n # ac_fn_c_try_link LINENO\n # -----------------------\n # Try to link conftest.$ac_ext, and return whether this succeeded.\n@@ -3502,1109 +3499,860 @@ else\n fi\n \n \n-ac_ext=c\n-ac_cpp='$CPP $CPPFLAGS'\n-ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n-ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n-ac_compiler_gnu=$ac_cv_c_compiler_gnu\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking how to run the C preprocessor\" >&5\n-$as_echo_n \"checking how to run the C preprocessor... \" >&6; }\n-# On Suns, sometimes $CPP names a directory.\n-if test -n \"$CPP\" && test -d \"$CPP\"; then\n-  CPP=\n+# Check whether --enable-sim-icache was given.\n+if test \"${enable_sim_icache+set}\" = set; then :\n+  enableval=$enable_sim_icache; icache=\"-R\"\n+ case \"${enableval}\" in\n+  yes)\t\ticache=\"1024\"; sim_icache=\"-I $icache\";;\n+  no)\t\tsim_icache=\"-R\";;\n+  *) icache=1024\n+     sim_icache=\"-\"\n+     for x in `echo \"${enableval}\" | sed -e \"s/,/ /g\"`; do\n+       case \"$x\" in\n+         define)\tsim_icache=\"${sim_icache}R\";;\n+         semantic)\tsim_icache=\"${sim_icache}C\";;\n+\t insn)\t\tsim_icache=\"${sim_icache}S\";;\n+\t 0*|1*|2*|3*|4*|5*|6*|7*|8*|9*)\ticache=$x;;\n+         *)\t\tas_fn_error $? \"\\\"Unknown value $x for --enable-sim-icache\\\"\" \"$LINENO\" 5; sim_icache=\"\";;\n+       esac\n+     done\n+     sim_icache=\"${sim_icache}I $icache\";;\n+esac\n+if test x\"$silent\" != x\"yes\" && test x\"$icache\" != x\"\"; then\n+  echo \"Setting instruction cache size to $icache ($sim_icache)\"\n fi\n-if test -z \"$CPP\"; then\n-  if ${ac_cv_prog_CPP+:} false; then :\n-  $as_echo_n \"(cached) \" >&6\n else\n-      # Double quotes because CPP needs to be expanded\n-    for CPP in \"$CC -E\" \"$CC -E -traditional-cpp\" \"/lib/cpp\"\n-    do\n-      ac_preproc_ok=false\n-for ac_c_preproc_warn_flag in '' yes\n-do\n-  # Use a header file that comes with gcc, so configuring glibc\n-  # with a fresh cross-compiler works.\n-  # Prefer <limits.h> to <assert.h> if __STDC__ is defined, since\n-  # <limits.h> exists even on freestanding compilers.\n-  # On the NeXT, cc -E runs the code through the compiler's parser,\n-  # not just through cpp. \"Syntax error\" is here to catch this case.\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#ifdef __STDC__\n-# include <limits.h>\n-#else\n-# include <assert.h>\n-#endif\n-\t\t     Syntax error\n-_ACEOF\n-if ac_fn_c_try_cpp \"$LINENO\"; then :\n+  sim_icache=\"-CSRI 1024\"\n+if test x\"$silent\" != x\"yes\"; then\n+  echo \"Setting instruction cache size to 1024 ($sim_icache)\"\n+fi\n+fi\n+\n \n+# Check whether --enable-sim-inline was given.\n+if test \"${enable_sim_inline+set}\" = set; then :\n+  enableval=$enable_sim_inline; sim_inline=\"\"\n+case \"$enableval\" in\n+  no)\t\tsim_inline=\"-DDEFAULT_INLINE=0\";;\n+  0)\t\tsim_inline=\"-DDEFAULT_INLINE=0\";;\n+  yes | 2)\tsim_inline=\"-DDEFAULT_INLINE=ALL_INLINE\";;\n+  1)\t\tsim_inline=\"-DDEFAULT_INLINE=PSIM_INLINE_LOCALS\";;\n+  *) for x in `echo \"$enableval\" | sed -e \"s/,/ /g\"`; do\n+       new_flag=\"\"\n+       case \"$x\" in\n+\t *_INLINE=*)\tnew_flag=\"-D$x\";;\n+\t *=*)\t\tnew_flag=`echo \"$x\" | sed -e \"s/=/_INLINE=/\" -e \"s/^/-D/\"`;;\n+\t *_INLINE)\tnew_flag=\"-D$x=ALL_INLINE\";;\n+\t *)\t\tnew_flag=\"-D$x\"\"_INLINE=ALL_INLINE\";;\n+       esac\n+       if test x\"$sim_inline\" = x\"\"; then\n+\t sim_inline=\"$new_flag\"\n+       else\n+\t sim_inline=\"$sim_inline $new_flag\"\n+       fi\n+     done;;\n+esac\n+if test x\"$silent\" != x\"yes\" && test x\"$sim_inline\" != x\"\"; then\n+  echo \"Setting inline flags = $sim_inline\" 6>&1\n+fi\n else\n-  # Broken: fails on valid input.\n-continue\n+  if test x\"$GCC\" != \"\"; then\n+  sim_inline=\"-DDEFAULT_INLINE=PSIM_INLINE_LOCALS\"\n+  if test x\"$silent\" != x\"yes\"; then\n+    echo \"Setting inline flags = $sim_inline\" 6>&1\n+  fi\n+else\n+  sim_inline=\"\"\n+fi\n fi\n-rm -f conftest.err conftest.i conftest.$ac_ext\n \n-  # OK, works on sane cases.  Now check whether nonexistent headers\n-  # can be detected and how.\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#include <ac_nonexistent.h>\n-_ACEOF\n-if ac_fn_c_try_cpp \"$LINENO\"; then :\n-  # Broken: success on invalid input.\n-continue\n+\n+# Check whether --enable-sim-jump was given.\n+if test \"${enable_sim_jump+set}\" = set; then :\n+  enableval=$enable_sim_jump; case \"${enableval}\" in\n+  yes)\tsim_jump=\"-J\";;\n+  no)\tsim_jump=\"\";;\n+  *)\tas_fn_error $? \"\\\"--enable-sim-jump does not take a value\\\"\" \"$LINENO\" 5; sim_jump=\"\";;\n+esac\n+if test x\"$silent\" != x\"yes\" && test x\"$sim_jump\" != x\"\"; then\n+  echo \"Setting jump flag = $sim_jump\" 6>&1\n+fi\n else\n-  # Passes both tests.\n-ac_preproc_ok=:\n-break\n+  sim_jump=\"\"\n+if test x\"$silent\" != x\"yes\"; then\n+  echo \"Setting jump flag = $sim_jump\" 6>&1\n fi\n-rm -f conftest.err conftest.i conftest.$ac_ext\n-\n-done\n-# Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.\n-rm -f conftest.i conftest.err conftest.$ac_ext\n-if $ac_preproc_ok; then :\n-  break\n fi\n \n-    done\n-    ac_cv_prog_CPP=$CPP\n \n+# Check whether --enable-sim-line-nr was given.\n+if test \"${enable_sim_line_nr+set}\" = set; then :\n+  enableval=$enable_sim_line_nr; case \"${enableval}\" in\n+  yes)\tsim_line_nr=\"\";;\n+  no)\tsim_line_nr=\"-L\";;\n+  *)\tas_fn_error $? \"\\\"--enable-sim-line-nr does not take a value\\\"\" \"$LINENO\" 5; sim_line_nr=\"\";;\n+esac\n+if test x\"$silent\" != x\"yes\" && test x\"$sim_line_nr\" != x\"\"; then\n+  echo \"Setting warning flags = $sim_line_nr\" 6>&1\n fi\n-  CPP=$ac_cv_prog_CPP\n else\n-  ac_cv_prog_CPP=$CPP\n+  sim_line_nr=\"\"\n fi\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $CPP\" >&5\n-$as_echo \"$CPP\" >&6; }\n-ac_preproc_ok=false\n-for ac_c_preproc_warn_flag in '' yes\n-do\n-  # Use a header file that comes with gcc, so configuring glibc\n-  # with a fresh cross-compiler works.\n-  # Prefer <limits.h> to <assert.h> if __STDC__ is defined, since\n-  # <limits.h> exists even on freestanding compilers.\n-  # On the NeXT, cc -E runs the code through the compiler's parser,\n-  # not just through cpp. \"Syntax error\" is here to catch this case.\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#ifdef __STDC__\n-# include <limits.h>\n-#else\n-# include <assert.h>\n-#endif\n-\t\t     Syntax error\n-_ACEOF\n-if ac_fn_c_try_cpp \"$LINENO\"; then :\n \n+\n+# Check whether --enable-sim-model was given.\n+if test \"${enable_sim_model+set}\" = set; then :\n+  enableval=$enable_sim_model; case \"${enableval}\" in\n+  yes|no)\tas_fn_error $? \"\\\"No value supplied for --enable-sim-model=model\\\"\" \"$LINENO\" 5;;\n+  *)\t\tsim_model=\"-DWITH_MODEL=${enableval}\";;\n+esac\n+if test x\"$silent\" != x\"yes\" && test x\"$sim_model\" != x\"\"; then\n+  echo \"Setting model flags = $sim_model\" 6>&1\n+fi\n else\n-  # Broken: fails on valid input.\n-continue\n+  sim_model=\"\"\n fi\n-rm -f conftest.err conftest.i conftest.$ac_ext\n \n-  # OK, works on sane cases.  Now check whether nonexistent headers\n-  # can be detected and how.\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#include <ac_nonexistent.h>\n-_ACEOF\n-if ac_fn_c_try_cpp \"$LINENO\"; then :\n-  # Broken: success on invalid input.\n-continue\n+\n+# Check whether --enable-sim-model-issue was given.\n+if test \"${enable_sim_model_issue+set}\" = set; then :\n+  enableval=$enable_sim_model_issue; case \"${enableval}\" in\n+  yes)\tsim_model_issue=\"-DWITH_MODEL_ISSUE=MODEL_ISSUE_PROCESS\";;\n+  no)\tsim_model_issue=\"-DWITH_MODEL_ISSUE=MODEL_ISSUE_IGNORE\";;\n+  *)\tas_fn_error $? \"\\\"--enable-sim-model-issue does not take a value\\\"\" \"$LINENO\" 5; sim_model_issue=\"\";;\n+esac\n+if test x\"$silent\" != x\"yes\"; then\n+  echo \"Setting model-issue flags = $sim_model_issue\" 6>&1\n+fi\n else\n-  # Passes both tests.\n-ac_preproc_ok=:\n-break\n+  sim_model_issue=\"\"\n fi\n-rm -f conftest.err conftest.i conftest.$ac_ext\n \n-done\n-# Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.\n-rm -f conftest.i conftest.err conftest.$ac_ext\n-if $ac_preproc_ok; then :\n \n+# Check whether --enable-sim-monitor was given.\n+if test \"${enable_sim_monitor+set}\" = set; then :\n+  enableval=$enable_sim_monitor; case \"${enableval}\" in\n+  yes)\t\tsim_monitor=\"-DWITH_MON='MONITOR_INSTRUCTION_ISSUE | MONITOR_LOAD_STORE_UNIT'\";;\n+  no)\t\tsim_monitor=\"-DWITH_MON=0\";;\n+  instruction)\tsim_monitor=\"-DWITH_MON=MONITOR_INSTRUCTION_ISSUE\";;\n+  memory)\tsim_monitor=\"-DWITH_MON=MONITOR_LOAD_STORE_UNIT\";;\n+  *)\t\tas_fn_error $? \"\\\"Unknown value $enableval passed to --enable-sim-mon\\\"\" \"$LINENO\" 5;;\n+esac\n+if test x\"$silent\" != x\"yes\" && test x\"$sim_monitor\" != x\"\"; then\n+  echo \"Setting monitor flags = $sim_monitor\" 6>&1\n+fi\n else\n-  { { $as_echo \"$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\" >&5\n-$as_echo \"$as_me: error: in \\`$ac_pwd':\" >&2;}\n-as_fn_error $? \"C preprocessor \\\"$CPP\\\" fails sanity check\n-See \\`config.log' for more details\" \"$LINENO\" 5; }\n+  sim_monitor=\"\"\n fi\n \n-ac_ext=c\n-ac_cpp='$CPP $CPPFLAGS'\n-ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n-ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n-ac_compiler_gnu=$ac_cv_c_compiler_gnu\n-\n \n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for grep that handles long lines and -e\" >&5\n-$as_echo_n \"checking for grep that handles long lines and -e... \" >&6; }\n-if ${ac_cv_path_GREP+:} false; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  if test -z \"$GREP\"; then\n-  ac_path_GREP_found=false\n-  # Loop through the user's path and test for each of PROGNAME-LIST\n-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH$PATH_SEPARATOR/usr/xpg4/bin\n-do\n-  IFS=$as_save_IFS\n-  test -z \"$as_dir\" && as_dir=.\n-    for ac_prog in grep ggrep; do\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-      ac_path_GREP=\"$as_dir/$ac_prog$ac_exec_ext\"\n-      as_fn_executable_p \"$ac_path_GREP\" || continue\n-# Check for GNU ac_path_GREP and select it if it is found.\n-  # Check for GNU $ac_path_GREP\n-case `\"$ac_path_GREP\" --version 2>&1` in\n-*GNU*)\n-  ac_cv_path_GREP=\"$ac_path_GREP\" ac_path_GREP_found=:;;\n-*)\n-  ac_count=0\n-  $as_echo_n 0123456789 >\"conftest.in\"\n-  while :\n-  do\n-    cat \"conftest.in\" \"conftest.in\" >\"conftest.tmp\"\n-    mv \"conftest.tmp\" \"conftest.in\"\n-    cp \"conftest.in\" \"conftest.nl\"\n-    $as_echo 'GREP' >> \"conftest.nl\"\n-    \"$ac_path_GREP\" -e 'GREP$' -e '-(cannot match)-' < \"conftest.nl\" >\"conftest.out\" 2>/dev/null || break\n-    diff \"conftest.out\" \"conftest.nl\" >/dev/null 2>&1 || break\n-    as_fn_arith $ac_count + 1 && ac_count=$as_val\n-    if test $ac_count -gt ${ac_path_GREP_max-0}; then\n-      # Best one so far, save it but keep looking for a better one\n-      ac_cv_path_GREP=\"$ac_path_GREP\"\n-      ac_path_GREP_max=$ac_count\n-    fi\n-    # 10*(2^10) chars as input seems more than enough\n-    test $ac_count -gt 10 && break\n-  done\n-  rm -f conftest.in conftest.tmp conftest.nl conftest.out;;\n+# Check whether --enable-sim-opcode was given.\n+if test \"${enable_sim_opcode+set}\" = set; then :\n+  enableval=$enable_sim_opcode; case \"${enableval}\" in\n+  yes|no)\tas_fn_error $? \"\\\"No value supplied for --enable-sim-opcode=file\\\"\" \"$LINENO\" 5;;\n+  *)\t\tif test -f \"${srcdir}/${enableval}\"; then\n+\t\t  sim_opcode=\"${enableval}\"\n+\t\telif test -f \"${srcdir}/dc-${enableval}\"; then\n+\t\t  sim_opcode=\"dc-${enableval}\"\n+\t\telse\n+\t\t  as_fn_error $? \"\\\"File $enableval is not an opcode rules file\\\"\" \"$LINENO\" 5;\n+\t\t  sim_opcode=\"dc-complex\"\n+\t\tfi;;\n esac\n-\n-      $ac_path_GREP_found && break 3\n-    done\n-  done\n-  done\n-IFS=$as_save_IFS\n-  if test -z \"$ac_cv_path_GREP\"; then\n-    as_fn_error $? \"no acceptable grep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin\" \"$LINENO\" 5\n-  fi\n+if test x\"$silent\" != x\"yes\" && test x\"$sim_opcode\" != x\"\"; then\n+  echo \"Setting opcode flags = $sim_opcode\" 6>&1\n+fi\n else\n-  ac_cv_path_GREP=$GREP\n+  sim_opcode=\"dc-complex\"\n+if test x\"$silent\" != x\"yes\"; then\n+  echo \"Setting opcode flags = $sim_opcode\"\n fi\n-\n fi\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_GREP\" >&5\n-$as_echo \"$ac_cv_path_GREP\" >&6; }\n- GREP=\"$ac_cv_path_GREP\"\n \n \n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for egrep\" >&5\n-$as_echo_n \"checking for egrep... \" >&6; }\n-if ${ac_cv_path_EGREP+:} false; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  if echo a | $GREP -E '(a|b)' >/dev/null 2>&1\n-   then ac_cv_path_EGREP=\"$GREP -E\"\n-   else\n-     if test -z \"$EGREP\"; then\n-  ac_path_EGREP_found=false\n-  # Loop through the user's path and test for each of PROGNAME-LIST\n-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH$PATH_SEPARATOR/usr/xpg4/bin\n-do\n-  IFS=$as_save_IFS\n-  test -z \"$as_dir\" && as_dir=.\n-    for ac_prog in egrep; do\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-      ac_path_EGREP=\"$as_dir/$ac_prog$ac_exec_ext\"\n-      as_fn_executable_p \"$ac_path_EGREP\" || continue\n-# Check for GNU ac_path_EGREP and select it if it is found.\n-  # Check for GNU $ac_path_EGREP\n-case `\"$ac_path_EGREP\" --version 2>&1` in\n-*GNU*)\n-  ac_cv_path_EGREP=\"$ac_path_EGREP\" ac_path_EGREP_found=:;;\n-*)\n-  ac_count=0\n-  $as_echo_n 0123456789 >\"conftest.in\"\n-  while :\n-  do\n-    cat \"conftest.in\" \"conftest.in\" >\"conftest.tmp\"\n-    mv \"conftest.tmp\" \"conftest.in\"\n-    cp \"conftest.in\" \"conftest.nl\"\n-    $as_echo 'EGREP' >> \"conftest.nl\"\n-    \"$ac_path_EGREP\" 'EGREP$' < \"conftest.nl\" >\"conftest.out\" 2>/dev/null || break\n-    diff \"conftest.out\" \"conftest.nl\" >/dev/null 2>&1 || break\n-    as_fn_arith $ac_count + 1 && ac_count=$as_val\n-    if test $ac_count -gt ${ac_path_EGREP_max-0}; then\n-      # Best one so far, save it but keep looking for a better one\n-      ac_cv_path_EGREP=\"$ac_path_EGREP\"\n-      ac_path_EGREP_max=$ac_count\n-    fi\n-    # 10*(2^10) chars as input seems more than enough\n-    test $ac_count -gt 10 && break\n-  done\n-  rm -f conftest.in conftest.tmp conftest.nl conftest.out;;\n+# Check whether --enable-sim-packages was given.\n+if test \"${enable_sim_packages+set}\" = set; then :\n+  enableval=$enable_sim_packages; packages=disklabel\n+case \"${enableval}\" in\n+  yes)\t;;\n+  no)\tas_fn_error $? \"\\\"List of packages must be specified for --enable-sim-packages\\\"\" \"$LINENO\" 5; packages=\"\";;\n+  ,*)   packages=\"${packages}${enableval}\";;\n+  *,)   packages=\"${enableval}${packages}\";;\n+  *)\tpackages=\"${enableval}\"'';;\n esac\n-\n-      $ac_path_EGREP_found && break 3\n-    done\n-  done\n-  done\n-IFS=$as_save_IFS\n-  if test -z \"$ac_cv_path_EGREP\"; then\n-    as_fn_error $? \"no acceptable egrep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin\" \"$LINENO\" 5\n-  fi\n+sim_pk_src=`echo $packages | sed -e 's/,/.c pk_/g' -e 's/^/pk_/' -e 's/$/.c/'`\n+sim_pk_obj=`echo $sim_pk_src | sed -e 's/\\.c/.o/g'`\n+if test x\"$silent\" != x\"yes\" && test x\"$packages\" != x\"\"; then\n+  echo \"Setting packages to $sim_pk_src, $sim_pk_obj\"\n+fi\n else\n-  ac_cv_path_EGREP=$EGREP\n+  packages=disklabel\n+sim_pk_src=`echo $packages | sed -e 's/,/.c pk_/g' -e 's/^/pk_/' -e 's/$/.c/'`\n+sim_pk_obj=`echo $sim_pk_src | sed -e 's/\\.c/.o/g'`\n+if test x\"$silent\" != x\"yes\"; then\n+  echo \"Setting packages to $sim_pk_src, $sim_pk_obj\"\n fi\n-\n-   fi\n fi\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_EGREP\" >&5\n-$as_echo \"$ac_cv_path_EGREP\" >&6; }\n- EGREP=\"$ac_cv_path_EGREP\"\n \n \n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for ANSI C header files\" >&5\n-$as_echo_n \"checking for ANSI C header files... \" >&6; }\n-if ${ac_cv_header_stdc+:} false; then :\n-  $as_echo_n \"(cached) \" >&6\n+# Check whether --enable-sim-reserved-bits was given.\n+if test \"${enable_sim_reserved_bits+set}\" = set; then :\n+  enableval=$enable_sim_reserved_bits; case \"${enableval}\" in\n+  yes)\tsim_reserved=\"-DWITH_RESERVED_BITS=1\";;\n+  no)\tsim_reserved=\"-DWITH_RESERVED_BITS=0\";;\n+  *)\tas_fn_error $? \"\\\"--enable-sim-reserved-bits does not take a value\\\"\" \"$LINENO\" 5; sim_reserved=\"\";;\n+esac\n+if test x\"$silent\" != x\"yes\" && test x\"$sim_reserved\" != x\"\"; then\n+  echo \"Setting reserved flags = $sim_reserved\" 6>&1\n+fi\n else\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#include <stdlib.h>\n-#include <stdarg.h>\n-#include <string.h>\n-#include <float.h>\n+  sim_reserved=\"\"\n+fi\n \n-int\n-main ()\n-{\n \n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n-  ac_cv_header_stdc=yes\n+# Check whether --enable-sim-smp was given.\n+if test \"${enable_sim_smp+set}\" = set; then :\n+  enableval=$enable_sim_smp; case \"${enableval}\" in\n+  yes)\tsim_smp=\"-DWITH_SMP=5\" ; sim_igen_smp=\"-N 5\";;\n+  no)\tsim_smp=\"-DWITH_SMP=0\" ; sim_igen_smp=\"-N 0\";;\n+  *)\tsim_smp=\"-DWITH_SMP=$enableval\" ; sim_igen_smp=\"-N $enableval\";;\n+esac\n+if test x\"$silent\" != x\"yes\" && test x\"$sim_smp\" != x\"\"; then\n+  echo \"Setting smp flags = $sim_smp\" 6>&1\n+fi\n else\n-  ac_cv_header_stdc=no\n+  sim_smp=\"-DWITH_SMP=5\" ; sim_igen_smp=\"-N 5\"\n+if test x\"$silent\" != x\"yes\"; then\n+  echo \"Setting smp flags = $sim_smp\" 6>&1\n+fi\n fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-\n-if test $ac_cv_header_stdc = yes; then\n-  # SunOS 4.x string.h does not declare mem*, contrary to ANSI.\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#include <string.h>\n \n-_ACEOF\n-if (eval \"$ac_cpp conftest.$ac_ext\") 2>&5 |\n-  $EGREP \"memchr\" >/dev/null 2>&1; then :\n \n+# Check whether --enable-sim-switch was given.\n+if test \"${enable_sim_switch+set}\" = set; then :\n+  enableval=$enable_sim_switch; case \"${enableval}\" in\n+  yes)\tsim_switch=\"-s\";;\n+  no)\tsim_switch=\"\";;\n+  *)\tas_fn_error $? \"\\\"--enable-sim-switch does not take a value\\\"\" \"$LINENO\" 5; sim_switch=\"\";;\n+esac\n+if test x\"$silent\" != x\"yes\" && test x\"$sim_switch\" != x\"\"; then\n+  echo \"Setting switch flags = $sim_switch\" 6>&1\n+fi\n else\n-  ac_cv_header_stdc=no\n+  sim_switch=\"\";\n+if test x\"$silent\" != x\"yes\"; then\n+  echo \"Setting switch flags = $sim_switch\" 6>&1\n fi\n-rm -f conftest*\n-\n fi\n \n-if test $ac_cv_header_stdc = yes; then\n-  # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#include <stdlib.h>\n-\n-_ACEOF\n-if (eval \"$ac_cpp conftest.$ac_ext\") 2>&5 |\n-  $EGREP \"free\" >/dev/null 2>&1; then :\n-\n-else\n-  ac_cv_header_stdc=no\n-fi\n-rm -f conftest*\n \n+# Check whether --enable-sim-timebase was given.\n+if test \"${enable_sim_timebase+set}\" = set; then :\n+  enableval=$enable_sim_timebase; case \"${enableval}\" in\n+  yes)\tsim_timebase=\"-DWITH_TIME_BASE=1\";;\n+  no)\tsim_timebase=\"-DWITH_TIME_BASE=0\";;\n+  *)\tas_fn_error $? \"\\\"--enable-sim-timebase does not take a value\\\"\" \"$LINENO\" 5; sim_timebase=\"\";;\n+esac\n+if test x\"$silent\" != x\"yes\" && test x\"$sim_timebase\" != x\"\"; then\n+  echo \"Setting timebase flags = $sim_timebase\" 6>&1\n fi\n-\n-if test $ac_cv_header_stdc = yes; then\n-  # /bin/cc in Irix-4.0.5 gets non-ANSI ctype macros unless using -ansi.\n-  if test \"$cross_compiling\" = yes; then :\n-  :\n else\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#include <ctype.h>\n-#include <stdlib.h>\n-#if ((' ' & 0x0FF) == 0x020)\n-# define ISLOWER(c) ('a' <= (c) && (c) <= 'z')\n-# define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))\n-#else\n-# define ISLOWER(c) \\\n-\t\t   (('a' <= (c) && (c) <= 'i') \\\n-\t\t     || ('j' <= (c) && (c) <= 'r') \\\n-\t\t     || ('s' <= (c) && (c) <= 'z'))\n-# define TOUPPER(c) (ISLOWER(c) ? ((c) | 0x40) : (c))\n-#endif\n+  sim_timebase=\"\"\n+fi\n \n-#define XOR(e, f) (((e) && !(f)) || (!(e) && (f)))\n-int\n-main ()\n-{\n-  int i;\n-  for (i = 0; i < 256; i++)\n-    if (XOR (islower (i), ISLOWER (i))\n-\t|| toupper (i) != TOUPPER (i))\n-      return 2;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_run \"$LINENO\"; then :\n \n-else\n-  ac_cv_header_stdc=no\n-fi\n-rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \\\n-  conftest.$ac_objext conftest.beam conftest.$ac_ext\n+# Check whether --enable-werror was given.\n+if test \"${enable_werror+set}\" = set; then :\n+  enableval=$enable_werror; case \"${enableval}\" in\n+     yes | y) ERROR_ON_WARNING=\"yes\" ;;\n+     no | n)  ERROR_ON_WARNING=\"no\" ;;\n+     *) as_fn_error $? \"bad value ${enableval} for --enable-werror\" \"$LINENO\" 5 ;;\n+   esac\n fi\n \n+# Enable -Werror by default when using gcc\n+if test \"${GCC}\" = yes -a -z \"${ERROR_ON_WARNING}\" ; then\n+  ERROR_ON_WARNING=yes\n fi\n+WERROR_CFLAGS=\"\"\n+if test \"${ERROR_ON_WARNING}\" = yes ; then\n+  WERROR_CFLAGS=\"-Werror\"\n fi\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_header_stdc\" >&5\n-$as_echo \"$ac_cv_header_stdc\" >&6; }\n-if test $ac_cv_header_stdc = yes; then\n+case \"${host}\" in\n+  *-*-mingw32*) WERROR_CFLAGS=\"$WERROR_CFLAGS -Wno-format\" ;;\n+esac\n \n-$as_echo \"#define STDC_HEADERS 1\" >>confdefs.h\n \n+# Check whether --enable-sim-warnings was given.\n+if test \"${enable_sim_warnings+set}\" = set; then :\n+  enableval=$enable_sim_warnings; case \"${enableval}\" in\n+  yes)\tsim_warnings=\"-Werror -Wall -Wpointer-arith -Wmissing-prototypes -Wmissing-declarations \";;\n+  no)\tsim_warnings=\"-w\";;\n+  *)\tsim_warnings=`echo \"${enableval}\" | sed -e \"s/,/ /g\"`;;\n+esac\n+if test x\"$silent\" != x\"yes\" && test x\"$sim_warnings\" != x\"\"; then\n+  echo \"Setting warning flags = $sim_warnings\" 6>&1\n fi\n-\n-# On IRIX 5.3, sys/types and inttypes.h are conflicting.\n-for ac_header in sys/types.h sys/stat.h stdlib.h string.h memory.h strings.h \\\n-\t\t  inttypes.h stdint.h unistd.h\n-do :\n-  as_ac_Header=`$as_echo \"ac_cv_header_$ac_header\" | $as_tr_sh`\n-ac_fn_c_check_header_compile \"$LINENO\" \"$ac_header\" \"$as_ac_Header\" \"$ac_includes_default\n-\"\n-if eval test \\\"x\\$\"$as_ac_Header\"\\\" = x\"yes\"; then :\n-  cat >>confdefs.h <<_ACEOF\n-#define `$as_echo \"HAVE_$ac_header\" | $as_tr_cpp` 1\n-_ACEOF\n-\n+else\n+  sim_warnings=\"\"\n fi\n \n-done\n-\n \n-# Check whether --enable-sim-hostendian was given.\n-if test \"${enable_sim_hostendian+set}\" = set; then :\n-  enableval=$enable_sim_hostendian; case \"${enableval}\" in\n-  no)\t sim_hostendian=\"-DWITH_HOST_BYTE_ORDER=0\";;\n-  b*|B*) sim_hostendian=\"-DWITH_HOST_BYTE_ORDER=BIG_ENDIAN\";;\n-  l*|L*) sim_hostendian=\"-DWITH_HOST_BYTE_ORDER=LITTLE_ENDIAN\";;\n-  *)\t as_fn_error $? \"\\\"Unknown value $enableval for --enable-sim-hostendian\\\"\" \"$LINENO\" 5; sim_hostendian=\"\";;\n+# Check whether --enable-sim-xor-endian was given.\n+if test \"${enable_sim_xor_endian+set}\" = set; then :\n+  enableval=$enable_sim_xor_endian; case \"${enableval}\" in\n+  yes)\tsim_xor_endian=\"-DWITH_XOR_ENDIAN=8\";;\n+  no)\tsim_xor_endian=\"-DWITH_XOR_ENDIAN=0\";;\n+  *)\tsim_xor_endian=\"-DWITH_XOR_ENDIAN=$enableval\";;\n esac\n-if test x\"$silent\" != x\"yes\" && test x\"$sim_hostendian\" != x\"\"; then\n-  echo \"Setting hostendian flags = $sim_hostendian\" 6>&1\n+if test x\"$silent\" != x\"yes\" && test x\"$sim_xor_endian\" != x\"\"; then\n+  echo \"Setting xor-endian flag = $sim_xor_endian\" 6>&1\n fi\n else\n+  sim_xor_endian=\"\"\n+fi\n \n-if test \"x$cross_compiling\" = \"xno\"; then\n-   { $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether byte ordering is bigendian\" >&5\n-$as_echo_n \"checking whether byte ordering is bigendian... \" >&6; }\n-if ${ac_cv_c_bigendian+:} false; then :\n+\n+# Make sure we can run config.sub.\n+$SHELL \"$ac_aux_dir/config.sub\" sun4 >/dev/null 2>&1 ||\n+  as_fn_error $? \"cannot run $SHELL $ac_aux_dir/config.sub\" \"$LINENO\" 5\n+\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking build system type\" >&5\n+$as_echo_n \"checking build system type... \" >&6; }\n+if ${ac_cv_build+:} false; then :\n   $as_echo_n \"(cached) \" >&6\n else\n-  ac_cv_c_bigendian=unknown\n-    # See if we're dealing with a universal compiler.\n-    cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#ifndef __APPLE_CC__\n-\t       not a universal capable compiler\n-\t     #endif\n-\t     typedef int dummy;\n-\n-_ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+  ac_build_alias=$build_alias\n+test \"x$ac_build_alias\" = x &&\n+  ac_build_alias=`$SHELL \"$ac_aux_dir/config.guess\"`\n+test \"x$ac_build_alias\" = x &&\n+  as_fn_error $? \"cannot guess build type; you must specify one\" \"$LINENO\" 5\n+ac_cv_build=`$SHELL \"$ac_aux_dir/config.sub\" $ac_build_alias` ||\n+  as_fn_error $? \"$SHELL $ac_aux_dir/config.sub $ac_build_alias failed\" \"$LINENO\" 5\n \n-\t# Check for potential -arch flags.  It is not universal unless\n-\t# there are at least two -arch flags with different values.\n-\tac_arch=\n-\tac_prev=\n-\tfor ac_word in $CC $CFLAGS $CPPFLAGS $LDFLAGS; do\n-\t if test -n \"$ac_prev\"; then\n-\t   case $ac_word in\n-\t     i?86 | x86_64 | ppc | ppc64)\n-\t       if test -z \"$ac_arch\" || test \"$ac_arch\" = \"$ac_word\"; then\n-\t\t ac_arch=$ac_word\n-\t       else\n-\t\t ac_cv_c_bigendian=universal\n-\t\t break\n-\t       fi\n-\t       ;;\n-\t   esac\n-\t   ac_prev=\n-\t elif test \"x$ac_word\" = \"x-arch\"; then\n-\t   ac_prev=arch\n-\t fi\n-       done\n fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-    if test $ac_cv_c_bigendian = unknown; then\n-      # See if sys/param.h defines the BYTE_ORDER macro.\n-      cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#include <sys/types.h>\n-\t     #include <sys/param.h>\n-\n-int\n-main ()\n-{\n-#if ! (defined BYTE_ORDER && defined BIG_ENDIAN \\\n-\t\t     && defined LITTLE_ENDIAN && BYTE_ORDER && BIG_ENDIAN \\\n-\t\t     && LITTLE_ENDIAN)\n-\t      bogus endian macros\n-\t     #endif\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n-  # It does; now see whether it defined to BIG_ENDIAN or not.\n-\t cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#include <sys/types.h>\n-\t\t#include <sys/param.h>\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_build\" >&5\n+$as_echo \"$ac_cv_build\" >&6; }\n+case $ac_cv_build in\n+*-*-*) ;;\n+*) as_fn_error $? \"invalid value of canonical build\" \"$LINENO\" 5;;\n+esac\n+build=$ac_cv_build\n+ac_save_IFS=$IFS; IFS='-'\n+set x $ac_cv_build\n+shift\n+build_cpu=$1\n+build_vendor=$2\n+shift; shift\n+# Remember, the first character of IFS is used to create $*,\n+# except with old shells:\n+build_os=$*\n+IFS=$ac_save_IFS\n+case $build_os in *\\ *) build_os=`echo \"$build_os\" | sed 's/ /-/g'`;; esac\n \n-int\n-main ()\n-{\n-#if BYTE_ORDER != BIG_ENDIAN\n-\t\t not big endian\n-\t\t#endif\n \n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n-  ac_cv_c_bigendian=yes\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking host system type\" >&5\n+$as_echo_n \"checking host system type... \" >&6; }\n+if ${ac_cv_host+:} false; then :\n+  $as_echo_n \"(cached) \" >&6\n else\n-  ac_cv_c_bigendian=no\n-fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n+  if test \"x$host_alias\" = x; then\n+  ac_cv_host=$ac_cv_build\n+else\n+  ac_cv_host=`$SHELL \"$ac_aux_dir/config.sub\" $host_alias` ||\n+    as_fn_error $? \"$SHELL $ac_aux_dir/config.sub $host_alias failed\" \"$LINENO\" 5\n fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-    fi\n-    if test $ac_cv_c_bigendian = unknown; then\n-      # See if <limits.h> defines _LITTLE_ENDIAN or _BIG_ENDIAN (e.g., Solaris).\n-      cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#include <limits.h>\n-\n-int\n-main ()\n-{\n-#if ! (defined _LITTLE_ENDIAN || defined _BIG_ENDIAN)\n-\t      bogus endian macros\n-\t     #endif\n \n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n-  # It does; now see whether it defined to _BIG_ENDIAN or not.\n-\t cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#include <limits.h>\n+fi\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_host\" >&5\n+$as_echo \"$ac_cv_host\" >&6; }\n+case $ac_cv_host in\n+*-*-*) ;;\n+*) as_fn_error $? \"invalid value of canonical host\" \"$LINENO\" 5;;\n+esac\n+host=$ac_cv_host\n+ac_save_IFS=$IFS; IFS='-'\n+set x $ac_cv_host\n+shift\n+host_cpu=$1\n+host_vendor=$2\n+shift; shift\n+# Remember, the first character of IFS is used to create $*,\n+# except with old shells:\n+host_os=$*\n+IFS=$ac_save_IFS\n+case $host_os in *\\ *) host_os=`echo \"$host_os\" | sed 's/ /-/g'`;; esac\n \n-int\n-main ()\n-{\n-#ifndef _BIG_ENDIAN\n-\t\t not big endian\n-\t\t#endif\n \n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n-  ac_cv_c_bigendian=yes\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking target system type\" >&5\n+$as_echo_n \"checking target system type... \" >&6; }\n+if ${ac_cv_target+:} false; then :\n+  $as_echo_n \"(cached) \" >&6\n else\n-  ac_cv_c_bigendian=no\n-fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n+  if test \"x$target_alias\" = x; then\n+  ac_cv_target=$ac_cv_host\n+else\n+  ac_cv_target=`$SHELL \"$ac_aux_dir/config.sub\" $target_alias` ||\n+    as_fn_error $? \"$SHELL $ac_aux_dir/config.sub $target_alias failed\" \"$LINENO\" 5\n fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-    fi\n-    if test $ac_cv_c_bigendian = unknown; then\n-      # Compile a test program.\n-      if test \"$cross_compiling\" = yes; then :\n-  # Try to guess by grepping values from an object file.\n-\t cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-short int ascii_mm[] =\n-\t\t  { 0x4249, 0x4765, 0x6E44, 0x6961, 0x6E53, 0x7953, 0 };\n-\t\tshort int ascii_ii[] =\n-\t\t  { 0x694C, 0x5454, 0x656C, 0x6E45, 0x6944, 0x6E61, 0 };\n-\t\tint use_ascii (int i) {\n-\t\t  return ascii_mm[i] + ascii_ii[i];\n-\t\t}\n-\t\tshort int ebcdic_ii[] =\n-\t\t  { 0x89D3, 0xE3E3, 0x8593, 0x95C5, 0x89C4, 0x9581, 0 };\n-\t\tshort int ebcdic_mm[] =\n-\t\t  { 0xC2C9, 0xC785, 0x95C4, 0x8981, 0x95E2, 0xA8E2, 0 };\n-\t\tint use_ebcdic (int i) {\n-\t\t  return ebcdic_mm[i] + ebcdic_ii[i];\n-\t\t}\n-\t\textern int foo;\n \n-int\n-main ()\n-{\n-return use_ascii (foo) == use_ebcdic (foo);\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n-  if grep BIGenDianSyS conftest.$ac_objext >/dev/null; then\n-\t      ac_cv_c_bigendian=yes\n-\t    fi\n-\t    if grep LiTTleEnDian conftest.$ac_objext >/dev/null ; then\n-\t      if test \"$ac_cv_c_bigendian\" = unknown; then\n-\t\tac_cv_c_bigendian=no\n-\t      else\n-\t\t# finding both strings is unlikely to happen, but who knows?\n-\t\tac_cv_c_bigendian=unknown\n-\t      fi\n-\t    fi\n fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-else\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-$ac_includes_default\n-int\n-main ()\n-{\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_target\" >&5\n+$as_echo \"$ac_cv_target\" >&6; }\n+case $ac_cv_target in\n+*-*-*) ;;\n+*) as_fn_error $? \"invalid value of canonical target\" \"$LINENO\" 5;;\n+esac\n+target=$ac_cv_target\n+ac_save_IFS=$IFS; IFS='-'\n+set x $ac_cv_target\n+shift\n+target_cpu=$1\n+target_vendor=$2\n+shift; shift\n+# Remember, the first character of IFS is used to create $*,\n+# except with old shells:\n+target_os=$*\n+IFS=$ac_save_IFS\n+case $target_os in *\\ *) target_os=`echo \"$target_os\" | sed 's/ /-/g'`;; esac\n \n-\t     /* Are we little or big endian?  From Harbison&Steele.  */\n-\t     union\n-\t     {\n-\t       long int l;\n-\t       char c[sizeof (long int)];\n-\t     } u;\n-\t     u.l = 1;\n-\t     return u.c[sizeof (long int) - 1] == 1;\n \n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_run \"$LINENO\"; then :\n-  ac_cv_c_bigendian=no\n-else\n-  ac_cv_c_bigendian=yes\n-fi\n-rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \\\n-  conftest.$ac_objext conftest.beam conftest.$ac_ext\n-fi\n+# The aliases save the names the user supplied, while $host etc.\n+# will get canonicalized.\n+test -n \"$target_alias\" &&\n+  test \"$program_prefix$program_suffix$program_transform_name\" = \\\n+    NONENONEs,x,x, &&\n+  program_prefix=${target_alias}-\n \n-    fi\n-fi\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_c_bigendian\" >&5\n-$as_echo \"$ac_cv_c_bigendian\" >&6; }\n- case $ac_cv_c_bigendian in #(\n-   yes)\n-     $as_echo \"#define WORDS_BIGENDIAN 1\" >>confdefs.h\n-;; #(\n-   no)\n-      ;; #(\n-   universal)\n+test \"$program_prefix\" != NONE &&\n+  program_transform_name=\"s&^&$program_prefix&;$program_transform_name\"\n+# Use a double $ so make ignores it.\n+test \"$program_suffix\" != NONE &&\n+  program_transform_name=\"s&\\$&$program_suffix&;$program_transform_name\"\n+# Double any \\ or $.\n+# By default was `s,x,x', remove it if useless.\n+ac_script='s/[\\\\$]/&&/g;s/;s,x,x,$//'\n+program_transform_name=`$as_echo \"$program_transform_name\" | sed \"$ac_script\"`\n \n-$as_echo \"#define AC_APPLE_UNIVERSAL_BUILD 1\" >>confdefs.h\n \n-     ;; #(\n-   *)\n-     as_fn_error $? \"unknown endianness\n- presetting ac_cv_c_bigendian=no (or yes) will help\" \"$LINENO\" 5 ;;\n- esac\n+# BFD conditionally uses zlib, so we must link it in if libbfd does, by\n+# using the same condition.\n \n-  if test $ac_cv_c_bigendian = yes; then\n-    sim_hostendian=\"-DWITH_HOST_BYTE_ORDER=BIG_ENDIAN\"\n-  else\n-    sim_hostendian=\"-DWITH_HOST_BYTE_ORDER=LITTLE_ENDIAN\"\n+  # Use the system's zlib library.\n+  zlibdir=\"-L\\$(top_builddir)/../zlib\"\n+  zlibinc=\"-I\\$(top_srcdir)/../zlib\"\n+\n+# Check whether --with-system-zlib was given.\n+if test \"${with_system_zlib+set}\" = set; then :\n+  withval=$with_system_zlib; if test x$with_system_zlib = xyes ; then\n+    zlibdir=\n+    zlibinc=\n   fi\n-else\n-  sim_hostendian=\"-DWITH_HOST_BYTE_ORDER=0\"\n-fi\n+\n fi\n \n \n-# Check whether --enable-sim-icache was given.\n-if test \"${enable_sim_icache+set}\" = set; then :\n-  enableval=$enable_sim_icache; icache=\"-R\"\n- case \"${enableval}\" in\n-  yes)\t\ticache=\"1024\"; sim_icache=\"-I $icache\";;\n-  no)\t\tsim_icache=\"-R\";;\n-  *) icache=1024\n-     sim_icache=\"-\"\n-     for x in `echo \"${enableval}\" | sed -e \"s/,/ /g\"`; do\n-       case \"$x\" in\n-         define)\tsim_icache=\"${sim_icache}R\";;\n-         semantic)\tsim_icache=\"${sim_icache}C\";;\n-\t insn)\t\tsim_icache=\"${sim_icache}S\";;\n-\t 0*|1*|2*|3*|4*|5*|6*|7*|8*|9*)\ticache=$x;;\n-         *)\t\tas_fn_error $? \"\\\"Unknown value $x for --enable-sim-icache\\\"\" \"$LINENO\" 5; sim_icache=\"\";;\n-       esac\n-     done\n-     sim_icache=\"${sim_icache}I $icache\";;\n-esac\n-if test x\"$silent\" != x\"yes\" && test x\"$icache\" != x\"\"; then\n-  echo \"Setting instruction cache size to $icache ($sim_icache)\"\n-fi\n-else\n-  sim_icache=\"-CSRI 1024\"\n-if test x\"$silent\" != x\"yes\"; then\n-  echo \"Setting instruction cache size to 1024 ($sim_icache)\"\n-fi\n-fi\n \n \n-# Check whether --enable-sim-inline was given.\n-if test \"${enable_sim_inline+set}\" = set; then :\n-  enableval=$enable_sim_inline; sim_inline=\"\"\n-case \"$enableval\" in\n-  no)\t\tsim_inline=\"-DDEFAULT_INLINE=0\";;\n-  0)\t\tsim_inline=\"-DDEFAULT_INLINE=0\";;\n-  yes | 2)\tsim_inline=\"-DDEFAULT_INLINE=ALL_INLINE\";;\n-  1)\t\tsim_inline=\"-DDEFAULT_INLINE=PSIM_INLINE_LOCALS\";;\n-  *) for x in `echo \"$enableval\" | sed -e \"s/,/ /g\"`; do\n-       new_flag=\"\"\n-       case \"$x\" in\n-\t *_INLINE=*)\tnew_flag=\"-D$x\";;\n-\t *=*)\t\tnew_flag=`echo \"$x\" | sed -e \"s/=/_INLINE=/\" -e \"s/^/-D/\"`;;\n-\t *_INLINE)\tnew_flag=\"-D$x=ALL_INLINE\";;\n-\t *)\t\tnew_flag=\"-D$x\"\"_INLINE=ALL_INLINE\";;\n-       esac\n-       if test x\"$sim_inline\" = x\"\"; then\n-\t sim_inline=\"$new_flag\"\n-       else\n-\t sim_inline=\"$sim_inline $new_flag\"\n-       fi\n-     done;;\n-esac\n-if test x\"$silent\" != x\"yes\" && test x\"$sim_inline\" != x\"\"; then\n-  echo \"Setting inline flags = $sim_inline\" 6>&1\n+\n+# BFD uses libdl when when plugins enabled.\n+ac_ext=c\n+ac_cpp='$CPP $CPPFLAGS'\n+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n+ac_compiler_gnu=$ac_cv_c_compiler_gnu\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking how to run the C preprocessor\" >&5\n+$as_echo_n \"checking how to run the C preprocessor... \" >&6; }\n+# On Suns, sometimes $CPP names a directory.\n+if test -n \"$CPP\" && test -d \"$CPP\"; then\n+  CPP=\n fi\n+if test -z \"$CPP\"; then\n+  if ${ac_cv_prog_CPP+:} false; then :\n+  $as_echo_n \"(cached) \" >&6\n else\n-  if test x\"$GCC\" != \"\"; then\n-  sim_inline=\"-DDEFAULT_INLINE=PSIM_INLINE_LOCALS\"\n-  if test x\"$silent\" != x\"yes\"; then\n-    echo \"Setting inline flags = $sim_inline\" 6>&1\n-  fi\n+      # Double quotes because CPP needs to be expanded\n+    for CPP in \"$CC -E\" \"$CC -E -traditional-cpp\" \"/lib/cpp\"\n+    do\n+      ac_preproc_ok=false\n+for ac_c_preproc_warn_flag in '' yes\n+do\n+  # Use a header file that comes with gcc, so configuring glibc\n+  # with a fresh cross-compiler works.\n+  # Prefer <limits.h> to <assert.h> if __STDC__ is defined, since\n+  # <limits.h> exists even on freestanding compilers.\n+  # On the NeXT, cc -E runs the code through the compiler's parser,\n+  # not just through cpp. \"Syntax error\" is here to catch this case.\n+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+#ifdef __STDC__\n+# include <limits.h>\n+#else\n+# include <assert.h>\n+#endif\n+\t\t     Syntax error\n+_ACEOF\n+if ac_fn_c_try_cpp \"$LINENO\"; then :\n+\n else\n-  sim_inline=\"\"\n-fi\n+  # Broken: fails on valid input.\n+continue\n fi\n+rm -f conftest.err conftest.i conftest.$ac_ext\n \n-\n-# Check whether --enable-sim-jump was given.\n-if test \"${enable_sim_jump+set}\" = set; then :\n-  enableval=$enable_sim_jump; case \"${enableval}\" in\n-  yes)\tsim_jump=\"-J\";;\n-  no)\tsim_jump=\"\";;\n-  *)\tas_fn_error $? \"\\\"--enable-sim-jump does not take a value\\\"\" \"$LINENO\" 5; sim_jump=\"\";;\n-esac\n-if test x\"$silent\" != x\"yes\" && test x\"$sim_jump\" != x\"\"; then\n-  echo \"Setting jump flag = $sim_jump\" 6>&1\n-fi\n+  # OK, works on sane cases.  Now check whether nonexistent headers\n+  # can be detected and how.\n+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+#include <ac_nonexistent.h>\n+_ACEOF\n+if ac_fn_c_try_cpp \"$LINENO\"; then :\n+  # Broken: success on invalid input.\n+continue\n else\n-  sim_jump=\"\"\n-if test x\"$silent\" != x\"yes\"; then\n-  echo \"Setting jump flag = $sim_jump\" 6>&1\n-fi\n+  # Passes both tests.\n+ac_preproc_ok=:\n+break\n fi\n+rm -f conftest.err conftest.i conftest.$ac_ext\n \n-\n-# Check whether --enable-sim-line-nr was given.\n-if test \"${enable_sim_line_nr+set}\" = set; then :\n-  enableval=$enable_sim_line_nr; case \"${enableval}\" in\n-  yes)\tsim_line_nr=\"\";;\n-  no)\tsim_line_nr=\"-L\";;\n-  *)\tas_fn_error $? \"\\\"--enable-sim-line-nr does not take a value\\\"\" \"$LINENO\" 5; sim_line_nr=\"\";;\n-esac\n-if test x\"$silent\" != x\"yes\" && test x\"$sim_line_nr\" != x\"\"; then\n-  echo \"Setting warning flags = $sim_line_nr\" 6>&1\n-fi\n-else\n-  sim_line_nr=\"\"\n+done\n+# Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.\n+rm -f conftest.i conftest.err conftest.$ac_ext\n+if $ac_preproc_ok; then :\n+  break\n fi\n \n+    done\n+    ac_cv_prog_CPP=$CPP\n \n-# Check whether --enable-sim-model was given.\n-if test \"${enable_sim_model+set}\" = set; then :\n-  enableval=$enable_sim_model; case \"${enableval}\" in\n-  yes|no)\tas_fn_error $? \"\\\"No value supplied for --enable-sim-model=model\\\"\" \"$LINENO\" 5;;\n-  *)\t\tsim_model=\"-DWITH_MODEL=${enableval}\";;\n-esac\n-if test x\"$silent\" != x\"yes\" && test x\"$sim_model\" != x\"\"; then\n-  echo \"Setting model flags = $sim_model\" 6>&1\n fi\n+  CPP=$ac_cv_prog_CPP\n else\n-  sim_model=\"\"\n+  ac_cv_prog_CPP=$CPP\n fi\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $CPP\" >&5\n+$as_echo \"$CPP\" >&6; }\n+ac_preproc_ok=false\n+for ac_c_preproc_warn_flag in '' yes\n+do\n+  # Use a header file that comes with gcc, so configuring glibc\n+  # with a fresh cross-compiler works.\n+  # Prefer <limits.h> to <assert.h> if __STDC__ is defined, since\n+  # <limits.h> exists even on freestanding compilers.\n+  # On the NeXT, cc -E runs the code through the compiler's parser,\n+  # not just through cpp. \"Syntax error\" is here to catch this case.\n+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+#ifdef __STDC__\n+# include <limits.h>\n+#else\n+# include <assert.h>\n+#endif\n+\t\t     Syntax error\n+_ACEOF\n+if ac_fn_c_try_cpp \"$LINENO\"; then :\n \n-\n-# Check whether --enable-sim-model-issue was given.\n-if test \"${enable_sim_model_issue+set}\" = set; then :\n-  enableval=$enable_sim_model_issue; case \"${enableval}\" in\n-  yes)\tsim_model_issue=\"-DWITH_MODEL_ISSUE=MODEL_ISSUE_PROCESS\";;\n-  no)\tsim_model_issue=\"-DWITH_MODEL_ISSUE=MODEL_ISSUE_IGNORE\";;\n-  *)\tas_fn_error $? \"\\\"--enable-sim-model-issue does not take a value\\\"\" \"$LINENO\" 5; sim_model_issue=\"\";;\n-esac\n-if test x\"$silent\" != x\"yes\"; then\n-  echo \"Setting model-issue flags = $sim_model_issue\" 6>&1\n-fi\n-else\n-  sim_model_issue=\"\"\n-fi\n-\n-\n-# Check whether --enable-sim-monitor was given.\n-if test \"${enable_sim_monitor+set}\" = set; then :\n-  enableval=$enable_sim_monitor; case \"${enableval}\" in\n-  yes)\t\tsim_monitor=\"-DWITH_MON='MONITOR_INSTRUCTION_ISSUE | MONITOR_LOAD_STORE_UNIT'\";;\n-  no)\t\tsim_monitor=\"-DWITH_MON=0\";;\n-  instruction)\tsim_monitor=\"-DWITH_MON=MONITOR_INSTRUCTION_ISSUE\";;\n-  memory)\tsim_monitor=\"-DWITH_MON=MONITOR_LOAD_STORE_UNIT\";;\n-  *)\t\tas_fn_error $? \"\\\"Unknown value $enableval passed to --enable-sim-mon\\\"\" \"$LINENO\" 5;;\n-esac\n-if test x\"$silent\" != x\"yes\" && test x\"$sim_monitor\" != x\"\"; then\n-  echo \"Setting monitor flags = $sim_monitor\" 6>&1\n-fi\n else\n-  sim_monitor=\"\"\n+  # Broken: fails on valid input.\n+continue\n fi\n+rm -f conftest.err conftest.i conftest.$ac_ext\n \n-\n-# Check whether --enable-sim-opcode was given.\n-if test \"${enable_sim_opcode+set}\" = set; then :\n-  enableval=$enable_sim_opcode; case \"${enableval}\" in\n-  yes|no)\tas_fn_error $? \"\\\"No value supplied for --enable-sim-opcode=file\\\"\" \"$LINENO\" 5;;\n-  *)\t\tif test -f \"${srcdir}/${enableval}\"; then\n-\t\t  sim_opcode=\"${enableval}\"\n-\t\telif test -f \"${srcdir}/dc-${enableval}\"; then\n-\t\t  sim_opcode=\"dc-${enableval}\"\n-\t\telse\n-\t\t  as_fn_error $? \"\\\"File $enableval is not an opcode rules file\\\"\" \"$LINENO\" 5;\n-\t\t  sim_opcode=\"dc-complex\"\n-\t\tfi;;\n-esac\n-if test x\"$silent\" != x\"yes\" && test x\"$sim_opcode\" != x\"\"; then\n-  echo \"Setting opcode flags = $sim_opcode\" 6>&1\n-fi\n+  # OK, works on sane cases.  Now check whether nonexistent headers\n+  # can be detected and how.\n+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+#include <ac_nonexistent.h>\n+_ACEOF\n+if ac_fn_c_try_cpp \"$LINENO\"; then :\n+  # Broken: success on invalid input.\n+continue\n else\n-  sim_opcode=\"dc-complex\"\n-if test x\"$silent\" != x\"yes\"; then\n-  echo \"Setting opcode flags = $sim_opcode\"\n-fi\n+  # Passes both tests.\n+ac_preproc_ok=:\n+break\n fi\n+rm -f conftest.err conftest.i conftest.$ac_ext\n \n+done\n+# Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.\n+rm -f conftest.i conftest.err conftest.$ac_ext\n+if $ac_preproc_ok; then :\n \n-# Check whether --enable-sim-packages was given.\n-if test \"${enable_sim_packages+set}\" = set; then :\n-  enableval=$enable_sim_packages; packages=disklabel\n-case \"${enableval}\" in\n-  yes)\t;;\n-  no)\tas_fn_error $? \"\\\"List of packages must be specified for --enable-sim-packages\\\"\" \"$LINENO\" 5; packages=\"\";;\n-  ,*)   packages=\"${packages}${enableval}\";;\n-  *,)   packages=\"${enableval}${packages}\";;\n-  *)\tpackages=\"${enableval}\"'';;\n-esac\n-sim_pk_src=`echo $packages | sed -e 's/,/.c pk_/g' -e 's/^/pk_/' -e 's/$/.c/'`\n-sim_pk_obj=`echo $sim_pk_src | sed -e 's/\\.c/.o/g'`\n-if test x\"$silent\" != x\"yes\" && test x\"$packages\" != x\"\"; then\n-  echo \"Setting packages to $sim_pk_src, $sim_pk_obj\"\n-fi\n else\n-  packages=disklabel\n-sim_pk_src=`echo $packages | sed -e 's/,/.c pk_/g' -e 's/^/pk_/' -e 's/$/.c/'`\n-sim_pk_obj=`echo $sim_pk_src | sed -e 's/\\.c/.o/g'`\n-if test x\"$silent\" != x\"yes\"; then\n-  echo \"Setting packages to $sim_pk_src, $sim_pk_obj\"\n-fi\n+  { { $as_echo \"$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\" >&5\n+$as_echo \"$as_me: error: in \\`$ac_pwd':\" >&2;}\n+as_fn_error $? \"C preprocessor \\\"$CPP\\\" fails sanity check\n+See \\`config.log' for more details\" \"$LINENO\" 5; }\n fi\n \n-\n-# Check whether --enable-sim-reserved-bits was given.\n-if test \"${enable_sim_reserved_bits+set}\" = set; then :\n-  enableval=$enable_sim_reserved_bits; case \"${enableval}\" in\n-  yes)\tsim_reserved=\"-DWITH_RESERVED_BITS=1\";;\n-  no)\tsim_reserved=\"-DWITH_RESERVED_BITS=0\";;\n-  *)\tas_fn_error $? \"\\\"--enable-sim-reserved-bits does not take a value\\\"\" \"$LINENO\" 5; sim_reserved=\"\";;\n-esac\n-if test x\"$silent\" != x\"yes\" && test x\"$sim_reserved\" != x\"\"; then\n-  echo \"Setting reserved flags = $sim_reserved\" 6>&1\n-fi\n-else\n-  sim_reserved=\"\"\n-fi\n+ac_ext=c\n+ac_cpp='$CPP $CPPFLAGS'\n+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n+ac_compiler_gnu=$ac_cv_c_compiler_gnu\n \n \n-# Check whether --enable-sim-smp was given.\n-if test \"${enable_sim_smp+set}\" = set; then :\n-  enableval=$enable_sim_smp; case \"${enableval}\" in\n-  yes)\tsim_smp=\"-DWITH_SMP=5\" ; sim_igen_smp=\"-N 5\";;\n-  no)\tsim_smp=\"-DWITH_SMP=0\" ; sim_igen_smp=\"-N 0\";;\n-  *)\tsim_smp=\"-DWITH_SMP=$enableval\" ; sim_igen_smp=\"-N $enableval\";;\n-esac\n-if test x\"$silent\" != x\"yes\" && test x\"$sim_smp\" != x\"\"; then\n-  echo \"Setting smp flags = $sim_smp\" 6>&1\n-fi\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for grep that handles long lines and -e\" >&5\n+$as_echo_n \"checking for grep that handles long lines and -e... \" >&6; }\n+if ${ac_cv_path_GREP+:} false; then :\n+  $as_echo_n \"(cached) \" >&6\n else\n-  sim_smp=\"-DWITH_SMP=5\" ; sim_igen_smp=\"-N 5\"\n-if test x\"$silent\" != x\"yes\"; then\n-  echo \"Setting smp flags = $sim_smp\" 6>&1\n-fi\n-fi\n-\n-\n-# Check whether --enable-sim-switch was given.\n-if test \"${enable_sim_switch+set}\" = set; then :\n-  enableval=$enable_sim_switch; case \"${enableval}\" in\n-  yes)\tsim_switch=\"-s\";;\n-  no)\tsim_switch=\"\";;\n-  *)\tas_fn_error $? \"\\\"--enable-sim-switch does not take a value\\\"\" \"$LINENO\" 5; sim_switch=\"\";;\n+  if test -z \"$GREP\"; then\n+  ac_path_GREP_found=false\n+  # Loop through the user's path and test for each of PROGNAME-LIST\n+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH$PATH_SEPARATOR/usr/xpg4/bin\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+    for ac_prog in grep ggrep; do\n+    for ac_exec_ext in '' $ac_executable_extensions; do\n+      ac_path_GREP=\"$as_dir/$ac_prog$ac_exec_ext\"\n+      as_fn_executable_p \"$ac_path_GREP\" || continue\n+# Check for GNU ac_path_GREP and select it if it is found.\n+  # Check for GNU $ac_path_GREP\n+case `\"$ac_path_GREP\" --version 2>&1` in\n+*GNU*)\n+  ac_cv_path_GREP=\"$ac_path_GREP\" ac_path_GREP_found=:;;\n+*)\n+  ac_count=0\n+  $as_echo_n 0123456789 >\"conftest.in\"\n+  while :\n+  do\n+    cat \"conftest.in\" \"conftest.in\" >\"conftest.tmp\"\n+    mv \"conftest.tmp\" \"conftest.in\"\n+    cp \"conftest.in\" \"conftest.nl\"\n+    $as_echo 'GREP' >> \"conftest.nl\"\n+    \"$ac_path_GREP\" -e 'GREP$' -e '-(cannot match)-' < \"conftest.nl\" >\"conftest.out\" 2>/dev/null || break\n+    diff \"conftest.out\" \"conftest.nl\" >/dev/null 2>&1 || break\n+    as_fn_arith $ac_count + 1 && ac_count=$as_val\n+    if test $ac_count -gt ${ac_path_GREP_max-0}; then\n+      # Best one so far, save it but keep looking for a better one\n+      ac_cv_path_GREP=\"$ac_path_GREP\"\n+      ac_path_GREP_max=$ac_count\n+    fi\n+    # 10*(2^10) chars as input seems more than enough\n+    test $ac_count -gt 10 && break\n+  done\n+  rm -f conftest.in conftest.tmp conftest.nl conftest.out;;\n esac\n-if test x\"$silent\" != x\"yes\" && test x\"$sim_switch\" != x\"\"; then\n-  echo \"Setting switch flags = $sim_switch\" 6>&1\n-fi\n-else\n-  sim_switch=\"\";\n-if test x\"$silent\" != x\"yes\"; then\n-  echo \"Setting switch flags = $sim_switch\" 6>&1\n-fi\n-fi\n-\n \n-# Check whether --enable-sim-timebase was given.\n-if test \"${enable_sim_timebase+set}\" = set; then :\n-  enableval=$enable_sim_timebase; case \"${enableval}\" in\n-  yes)\tsim_timebase=\"-DWITH_TIME_BASE=1\";;\n-  no)\tsim_timebase=\"-DWITH_TIME_BASE=0\";;\n-  *)\tas_fn_error $? \"\\\"--enable-sim-timebase does not take a value\\\"\" \"$LINENO\" 5; sim_timebase=\"\";;\n-esac\n-if test x\"$silent\" != x\"yes\" && test x\"$sim_timebase\" != x\"\"; then\n-  echo \"Setting timebase flags = $sim_timebase\" 6>&1\n-fi\n+      $ac_path_GREP_found && break 3\n+    done\n+  done\n+  done\n+IFS=$as_save_IFS\n+  if test -z \"$ac_cv_path_GREP\"; then\n+    as_fn_error $? \"no acceptable grep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin\" \"$LINENO\" 5\n+  fi\n else\n-  sim_timebase=\"\"\n+  ac_cv_path_GREP=$GREP\n fi\n \n-\n-# Check whether --enable-werror was given.\n-if test \"${enable_werror+set}\" = set; then :\n-  enableval=$enable_werror; case \"${enableval}\" in\n-     yes | y) ERROR_ON_WARNING=\"yes\" ;;\n-     no | n)  ERROR_ON_WARNING=\"no\" ;;\n-     *) as_fn_error $? \"bad value ${enableval} for --enable-werror\" \"$LINENO\" 5 ;;\n-   esac\n fi\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_GREP\" >&5\n+$as_echo \"$ac_cv_path_GREP\" >&6; }\n+ GREP=\"$ac_cv_path_GREP\"\n \n-# Enable -Werror by default when using gcc\n-if test \"${GCC}\" = yes -a -z \"${ERROR_ON_WARNING}\" ; then\n-  ERROR_ON_WARNING=yes\n-fi\n-WERROR_CFLAGS=\"\"\n-if test \"${ERROR_ON_WARNING}\" = yes ; then\n-  WERROR_CFLAGS=\"-Werror\"\n-fi\n-case \"${host}\" in\n-  *-*-mingw32*) WERROR_CFLAGS=\"$WERROR_CFLAGS -Wno-format\" ;;\n+\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for egrep\" >&5\n+$as_echo_n \"checking for egrep... \" >&6; }\n+if ${ac_cv_path_EGREP+:} false; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  if echo a | $GREP -E '(a|b)' >/dev/null 2>&1\n+   then ac_cv_path_EGREP=\"$GREP -E\"\n+   else\n+     if test -z \"$EGREP\"; then\n+  ac_path_EGREP_found=false\n+  # Loop through the user's path and test for each of PROGNAME-LIST\n+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH$PATH_SEPARATOR/usr/xpg4/bin\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+    for ac_prog in egrep; do\n+    for ac_exec_ext in '' $ac_executable_extensions; do\n+      ac_path_EGREP=\"$as_dir/$ac_prog$ac_exec_ext\"\n+      as_fn_executable_p \"$ac_path_EGREP\" || continue\n+# Check for GNU ac_path_EGREP and select it if it is found.\n+  # Check for GNU $ac_path_EGREP\n+case `\"$ac_path_EGREP\" --version 2>&1` in\n+*GNU*)\n+  ac_cv_path_EGREP=\"$ac_path_EGREP\" ac_path_EGREP_found=:;;\n+*)\n+  ac_count=0\n+  $as_echo_n 0123456789 >\"conftest.in\"\n+  while :\n+  do\n+    cat \"conftest.in\" \"conftest.in\" >\"conftest.tmp\"\n+    mv \"conftest.tmp\" \"conftest.in\"\n+    cp \"conftest.in\" \"conftest.nl\"\n+    $as_echo 'EGREP' >> \"conftest.nl\"\n+    \"$ac_path_EGREP\" 'EGREP$' < \"conftest.nl\" >\"conftest.out\" 2>/dev/null || break\n+    diff \"conftest.out\" \"conftest.nl\" >/dev/null 2>&1 || break\n+    as_fn_arith $ac_count + 1 && ac_count=$as_val\n+    if test $ac_count -gt ${ac_path_EGREP_max-0}; then\n+      # Best one so far, save it but keep looking for a better one\n+      ac_cv_path_EGREP=\"$ac_path_EGREP\"\n+      ac_path_EGREP_max=$ac_count\n+    fi\n+    # 10*(2^10) chars as input seems more than enough\n+    test $ac_count -gt 10 && break\n+  done\n+  rm -f conftest.in conftest.tmp conftest.nl conftest.out;;\n esac\n \n-\n-# Check whether --enable-sim-warnings was given.\n-if test \"${enable_sim_warnings+set}\" = set; then :\n-  enableval=$enable_sim_warnings; case \"${enableval}\" in\n-  yes)\tsim_warnings=\"-Werror -Wall -Wpointer-arith -Wmissing-prototypes -Wmissing-declarations \";;\n-  no)\tsim_warnings=\"-w\";;\n-  *)\tsim_warnings=`echo \"${enableval}\" | sed -e \"s/,/ /g\"`;;\n-esac\n-if test x\"$silent\" != x\"yes\" && test x\"$sim_warnings\" != x\"\"; then\n-  echo \"Setting warning flags = $sim_warnings\" 6>&1\n-fi\n+      $ac_path_EGREP_found && break 3\n+    done\n+  done\n+  done\n+IFS=$as_save_IFS\n+  if test -z \"$ac_cv_path_EGREP\"; then\n+    as_fn_error $? \"no acceptable egrep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin\" \"$LINENO\" 5\n+  fi\n else\n-  sim_warnings=\"\"\n+  ac_cv_path_EGREP=$EGREP\n fi\n \n-\n-# Check whether --enable-sim-xor-endian was given.\n-if test \"${enable_sim_xor_endian+set}\" = set; then :\n-  enableval=$enable_sim_xor_endian; case \"${enableval}\" in\n-  yes)\tsim_xor_endian=\"-DWITH_XOR_ENDIAN=8\";;\n-  no)\tsim_xor_endian=\"-DWITH_XOR_ENDIAN=0\";;\n-  *)\tsim_xor_endian=\"-DWITH_XOR_ENDIAN=$enableval\";;\n-esac\n-if test x\"$silent\" != x\"yes\" && test x\"$sim_xor_endian\" != x\"\"; then\n-  echo \"Setting xor-endian flag = $sim_xor_endian\" 6>&1\n-fi\n-else\n-  sim_xor_endian=\"\"\n+   fi\n fi\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_EGREP\" >&5\n+$as_echo \"$ac_cv_path_EGREP\" >&6; }\n+ EGREP=\"$ac_cv_path_EGREP\"\n \n \n-# Make sure we can run config.sub.\n-$SHELL \"$ac_aux_dir/config.sub\" sun4 >/dev/null 2>&1 ||\n-  as_fn_error $? \"cannot run $SHELL $ac_aux_dir/config.sub\" \"$LINENO\" 5\n-\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking build system type\" >&5\n-$as_echo_n \"checking build system type... \" >&6; }\n-if ${ac_cv_build+:} false; then :\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for ANSI C header files\" >&5\n+$as_echo_n \"checking for ANSI C header files... \" >&6; }\n+if ${ac_cv_header_stdc+:} false; then :\n   $as_echo_n \"(cached) \" >&6\n else\n-  ac_build_alias=$build_alias\n-test \"x$ac_build_alias\" = x &&\n-  ac_build_alias=`$SHELL \"$ac_aux_dir/config.guess\"`\n-test \"x$ac_build_alias\" = x &&\n-  as_fn_error $? \"cannot guess build type; you must specify one\" \"$LINENO\" 5\n-ac_cv_build=`$SHELL \"$ac_aux_dir/config.sub\" $ac_build_alias` ||\n-  as_fn_error $? \"$SHELL $ac_aux_dir/config.sub $ac_build_alias failed\" \"$LINENO\" 5\n+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+#include <stdlib.h>\n+#include <stdarg.h>\n+#include <string.h>\n+#include <float.h>\n+\n+int\n+main ()\n+{\n \n+  ;\n+  return 0;\n+}\n+_ACEOF\n+if ac_fn_c_try_compile \"$LINENO\"; then :\n+  ac_cv_header_stdc=yes\n+else\n+  ac_cv_header_stdc=no\n fi\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_build\" >&5\n-$as_echo \"$ac_cv_build\" >&6; }\n-case $ac_cv_build in\n-*-*-*) ;;\n-*) as_fn_error $? \"invalid value of canonical build\" \"$LINENO\" 5;;\n-esac\n-build=$ac_cv_build\n-ac_save_IFS=$IFS; IFS='-'\n-set x $ac_cv_build\n-shift\n-build_cpu=$1\n-build_vendor=$2\n-shift; shift\n-# Remember, the first character of IFS is used to create $*,\n-# except with old shells:\n-build_os=$*\n-IFS=$ac_save_IFS\n-case $build_os in *\\ *) build_os=`echo \"$build_os\" | sed 's/ /-/g'`;; esac\n+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n+\n+if test $ac_cv_header_stdc = yes; then\n+  # SunOS 4.x string.h does not declare mem*, contrary to ANSI.\n+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+#include <string.h>\n \n+_ACEOF\n+if (eval \"$ac_cpp conftest.$ac_ext\") 2>&5 |\n+  $EGREP \"memchr\" >/dev/null 2>&1; then :\n \n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking host system type\" >&5\n-$as_echo_n \"checking host system type... \" >&6; }\n-if ${ac_cv_host+:} false; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  if test \"x$host_alias\" = x; then\n-  ac_cv_host=$ac_cv_build\n else\n-  ac_cv_host=`$SHELL \"$ac_aux_dir/config.sub\" $host_alias` ||\n-    as_fn_error $? \"$SHELL $ac_aux_dir/config.sub $host_alias failed\" \"$LINENO\" 5\n+  ac_cv_header_stdc=no\n fi\n+rm -f conftest*\n \n fi\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_host\" >&5\n-$as_echo \"$ac_cv_host\" >&6; }\n-case $ac_cv_host in\n-*-*-*) ;;\n-*) as_fn_error $? \"invalid value of canonical host\" \"$LINENO\" 5;;\n-esac\n-host=$ac_cv_host\n-ac_save_IFS=$IFS; IFS='-'\n-set x $ac_cv_host\n-shift\n-host_cpu=$1\n-host_vendor=$2\n-shift; shift\n-# Remember, the first character of IFS is used to create $*,\n-# except with old shells:\n-host_os=$*\n-IFS=$ac_save_IFS\n-case $host_os in *\\ *) host_os=`echo \"$host_os\" | sed 's/ /-/g'`;; esac\n \n+if test $ac_cv_header_stdc = yes; then\n+  # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.\n+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+#include <stdlib.h>\n+\n+_ACEOF\n+if (eval \"$ac_cpp conftest.$ac_ext\") 2>&5 |\n+  $EGREP \"free\" >/dev/null 2>&1; then :\n \n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking target system type\" >&5\n-$as_echo_n \"checking target system type... \" >&6; }\n-if ${ac_cv_target+:} false; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  if test \"x$target_alias\" = x; then\n-  ac_cv_target=$ac_cv_host\n else\n-  ac_cv_target=`$SHELL \"$ac_aux_dir/config.sub\" $target_alias` ||\n-    as_fn_error $? \"$SHELL $ac_aux_dir/config.sub $target_alias failed\" \"$LINENO\" 5\n+  ac_cv_header_stdc=no\n fi\n+rm -f conftest*\n \n fi\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_target\" >&5\n-$as_echo \"$ac_cv_target\" >&6; }\n-case $ac_cv_target in\n-*-*-*) ;;\n-*) as_fn_error $? \"invalid value of canonical target\" \"$LINENO\" 5;;\n-esac\n-target=$ac_cv_target\n-ac_save_IFS=$IFS; IFS='-'\n-set x $ac_cv_target\n-shift\n-target_cpu=$1\n-target_vendor=$2\n-shift; shift\n-# Remember, the first character of IFS is used to create $*,\n-# except with old shells:\n-target_os=$*\n-IFS=$ac_save_IFS\n-case $target_os in *\\ *) target_os=`echo \"$target_os\" | sed 's/ /-/g'`;; esac\n-\n-\n-# The aliases save the names the user supplied, while $host etc.\n-# will get canonicalized.\n-test -n \"$target_alias\" &&\n-  test \"$program_prefix$program_suffix$program_transform_name\" = \\\n-    NONENONEs,x,x, &&\n-  program_prefix=${target_alias}-\n \n-test \"$program_prefix\" != NONE &&\n-  program_transform_name=\"s&^&$program_prefix&;$program_transform_name\"\n-# Use a double $ so make ignores it.\n-test \"$program_suffix\" != NONE &&\n-  program_transform_name=\"s&\\$&$program_suffix&;$program_transform_name\"\n-# Double any \\ or $.\n-# By default was `s,x,x', remove it if useless.\n-ac_script='s/[\\\\$]/&&/g;s/;s,x,x,$//'\n-program_transform_name=`$as_echo \"$program_transform_name\" | sed \"$ac_script\"`\n+if test $ac_cv_header_stdc = yes; then\n+  # /bin/cc in Irix-4.0.5 gets non-ANSI ctype macros unless using -ansi.\n+  if test \"$cross_compiling\" = yes; then :\n+  :\n+else\n+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+#include <ctype.h>\n+#include <stdlib.h>\n+#if ((' ' & 0x0FF) == 0x020)\n+# define ISLOWER(c) ('a' <= (c) && (c) <= 'z')\n+# define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))\n+#else\n+# define ISLOWER(c) \\\n+\t\t   (('a' <= (c) && (c) <= 'i') \\\n+\t\t     || ('j' <= (c) && (c) <= 'r') \\\n+\t\t     || ('s' <= (c) && (c) <= 'z'))\n+# define TOUPPER(c) (ISLOWER(c) ? ((c) | 0x40) : (c))\n+#endif\n \n+#define XOR(e, f) (((e) && !(f)) || (!(e) && (f)))\n+int\n+main ()\n+{\n+  int i;\n+  for (i = 0; i < 256; i++)\n+    if (XOR (islower (i), ISLOWER (i))\n+\t|| toupper (i) != TOUPPER (i))\n+      return 2;\n+  return 0;\n+}\n+_ACEOF\n+if ac_fn_c_try_run \"$LINENO\"; then :\n \n-# BFD conditionally uses zlib, so we must link it in if libbfd does, by\n-# using the same condition.\n+else\n+  ac_cv_header_stdc=no\n+fi\n+rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \\\n+  conftest.$ac_objext conftest.beam conftest.$ac_ext\n+fi\n \n-  # Use the system's zlib library.\n-  zlibdir=\"-L\\$(top_builddir)/../zlib\"\n-  zlibinc=\"-I\\$(top_srcdir)/../zlib\"\n+fi\n+fi\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_header_stdc\" >&5\n+$as_echo \"$ac_cv_header_stdc\" >&6; }\n+if test $ac_cv_header_stdc = yes; then\n \n-# Check whether --with-system-zlib was given.\n-if test \"${with_system_zlib+set}\" = set; then :\n-  withval=$with_system_zlib; if test x$with_system_zlib = xyes ; then\n-    zlibdir=\n-    zlibinc=\n-  fi\n+$as_echo \"#define STDC_HEADERS 1\" >>confdefs.h\n \n fi\n \n+# On IRIX 5.3, sys/types and inttypes.h are conflicting.\n+for ac_header in sys/types.h sys/stat.h stdlib.h string.h memory.h strings.h \\\n+\t\t  inttypes.h stdint.h unistd.h\n+do :\n+  as_ac_Header=`$as_echo \"ac_cv_header_$ac_header\" | $as_tr_sh`\n+ac_fn_c_check_header_compile \"$LINENO\" \"$ac_header\" \"$as_ac_Header\" \"$ac_includes_default\n+\"\n+if eval test \\\"x\\$\"$as_ac_Header\"\\\" = x\"yes\"; then :\n+  cat >>confdefs.h <<_ACEOF\n+#define `$as_echo \"HAVE_$ac_header\" | $as_tr_cpp` 1\n+_ACEOF\n \n+fi\n \n+done\n \n \n-# BFD uses libdl when when plugins enabled.\n \n   maybe_plugins=no\n   for ac_header in dlfcn.h\n@@ -5157,7 +4905,6 @@ fi\n \n \n \n-\n \n \n ac_config_files=\"$ac_config_files Makefile\"\n@@ -5274,7 +5021,6 @@ LTLIBOBJS=$ac_ltlibobjs\n \n \n \n-\n : \"${CONFIG_STATUS=./config.status}\"\n ac_write_fail=0\n ac_clean_files_save=$ac_clean_files"
    },
    {
      "sha": "188330fa5c72adae7939d40067eb792b898b823b",
      "filename": "sim/ppc/configure.ac",
      "status": "modified",
      "additions": 0,
      "deletions": 24,
      "changes": 24,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/430456e34753ac705a047c886eb4f73cf2906dfc/sim/ppc/configure.ac",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/430456e34753ac705a047c886eb4f73cf2906dfc/sim/ppc/configure.ac",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ppc/configure.ac?ref=430456e34753ac705a047c886eb4f73cf2906dfc",
      "patch": "@@ -287,29 +287,6 @@ if test x\"$silent\" != x\"yes\" && test x\"$sim_hostbitsize\" != x\"\"; then\n fi],[sim_hostbitsize=\"\"])dnl\n \n \n-AC_ARG_ENABLE(sim-hostendian,\n-[  --enable-sim-hostendian=end\t\tSpecify host byte endian orientation.],\n-[case \"${enableval}\" in\n-  no)\t sim_hostendian=\"-DWITH_HOST_BYTE_ORDER=0\";;\n-  b*|B*) sim_hostendian=\"-DWITH_HOST_BYTE_ORDER=BIG_ENDIAN\";;\n-  l*|L*) sim_hostendian=\"-DWITH_HOST_BYTE_ORDER=LITTLE_ENDIAN\";;\n-  *)\t AC_MSG_ERROR(\"Unknown value $enableval for --enable-sim-hostendian\"); sim_hostendian=\"\";;\n-esac\n-if test x\"$silent\" != x\"yes\" && test x\"$sim_hostendian\" != x\"\"; then\n-  echo \"Setting hostendian flags = $sim_hostendian\" 6>&1\n-fi],[\n-if test \"x$cross_compiling\" = \"xno\"; then\n-  AC_C_BIGENDIAN\n-  if test $ac_cv_c_bigendian = yes; then\n-    sim_hostendian=\"-DWITH_HOST_BYTE_ORDER=BIG_ENDIAN\"\n-  else\n-    sim_hostendian=\"-DWITH_HOST_BYTE_ORDER=LITTLE_ENDIAN\"\n-  fi\n-else\n-  sim_hostendian=\"-DWITH_HOST_BYTE_ORDER=0\"\n-fi])dnl\n-\n-\n AC_ARG_ENABLE(sim-icache,\n [  --enable-sim-icache=size\t\tSpecify instruction-decode cache size and type.],\n [icache=\"-R\"\n@@ -799,7 +776,6 @@ AC_SUBST(sim_pk_obj)\n AC_SUBST(sim_inline)\n AC_SUBST(sim_endian)\n AC_SUBST(sim_xor_endian)\n-AC_SUBST(sim_hostendian)\n AC_SUBST(sim_smp)\n AC_SUBST(sim_igen_smp)\n AC_SUBST(sim_bitsize)"
    },
    {
      "sha": "330332ddf08d0be05021d0032ae683dc53c830d5",
      "filename": "sim/ppc/options.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/430456e34753ac705a047c886eb4f73cf2906dfc/sim/ppc/options.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/430456e34753ac705a047c886eb4f73cf2906dfc/sim/ppc/options.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ppc/options.c?ref=430456e34753ac705a047c886eb4f73cf2906dfc",
      "patch": "@@ -117,7 +117,7 @@ print_options (void)\n   printf_filtered (\"Compiled on %s %s\\n\", __DATE__, __TIME__);\n #endif\n \n-  printf_filtered (\"WITH_HOST_BYTE_ORDER     = %s\\n\", options_byte_order (WITH_HOST_BYTE_ORDER));\n+  printf_filtered (\"HOST_BYTE_ORDER          = %s\\n\", options_byte_order (HOST_BYTE_ORDER));\n   printf_filtered (\"WITH_TARGET_BYTE_ORDER   = %s\\n\", options_byte_order (WITH_TARGET_BYTE_ORDER));\n   printf_filtered (\"WITH_XOR_ENDIAN          = %d\\n\", WITH_XOR_ENDIAN);\n   printf_filtered (\"WITH_SMP                 = %d\\n\", WITH_SMP);"
    },
    {
      "sha": "0c3f5a1090c3ac1846361aec3c5ed79e4c107666",
      "filename": "sim/ppc/psim.c",
      "status": "modified",
      "additions": 2,
      "deletions": 11,
      "changes": 13,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/430456e34753ac705a047c886eb4f73cf2906dfc/sim/ppc/psim.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/430456e34753ac705a047c886eb4f73cf2906dfc/sim/ppc/psim.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ppc/psim.c?ref=430456e34753ac705a047c886eb4f73cf2906dfc",
      "patch": "@@ -64,7 +64,6 @@ struct _psim {\n \n \n int current_target_byte_order;\n-int current_host_byte_order;\n int current_environment;\n int current_alignment;\n int current_floating_point;\n@@ -456,14 +455,6 @@ psim_create(const char *file_name,\n   if (CURRENT_TARGET_BYTE_ORDER != current_target_byte_order)\n     error(\"target and configured byte order conflict\\n\");\n \n-  /* fill in the missing HOST BYTE ORDER information */\n-  current_host_byte_order = (current_host_byte_order = 1,\n-\t\t\t     (*(char*)(&current_host_byte_order)\n-\t\t\t      ? LITTLE_ENDIAN\n-\t\t\t      : BIG_ENDIAN));\n-  if (CURRENT_HOST_BYTE_ORDER != current_host_byte_order)\n-    error(\"host and configured byte order conflict\\n\");\n-\n   /* fill in the missing OEA/VEA information */\n   env = tree_find_string_property(root, \"/openprom/options/env\");\n   current_environment = ((strcmp(env, \"user\") == 0\n@@ -917,7 +908,7 @@ psim_read_register(psim *system,\n       break;\n #ifdef WITH_ALTIVEC\n     case 16:\n-      if (CURRENT_HOST_BYTE_ORDER != CURRENT_TARGET_BYTE_ORDER)\n+      if (HOST_BYTE_ORDER != CURRENT_TARGET_BYTE_ORDER)\n         {\n \t  union { vreg v; unsigned_8 d[2]; } h, t;\n           memcpy(&h.v/*dest*/, cooked_buf/*src*/, description.size);\n@@ -996,7 +987,7 @@ psim_write_register(psim *system,\n       break;\n #ifdef WITH_ALTIVEC\n     case 16:\n-      if (CURRENT_HOST_BYTE_ORDER != CURRENT_TARGET_BYTE_ORDER)\n+      if (HOST_BYTE_ORDER != CURRENT_TARGET_BYTE_ORDER)\n         {\n \t  union { vreg v; unsigned_8 d[2]; } h, t;\n           memcpy(&t.v/*dest*/, buf/*src*/, description.size);"
    },
    {
      "sha": "415149e569dd365c68a4c110e6484e3a217285dc",
      "filename": "sim/ppc/sim-endian-n.h",
      "status": "modified",
      "additions": 6,
      "deletions": 6,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/430456e34753ac705a047c886eb4f73cf2906dfc/sim/ppc/sim-endian-n.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/430456e34753ac705a047c886eb4f73cf2906dfc/sim/ppc/sim-endian-n.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ppc/sim-endian-n.h?ref=430456e34753ac705a047c886eb4f73cf2906dfc",
      "patch": "@@ -38,7 +38,7 @@ INLINE_PSIM_ENDIAN\\\n (unsigned_N)\n endian_t2h_N(unsigned_N raw_in)\n {\n-  if (CURRENT_TARGET_BYTE_ORDER == CURRENT_HOST_BYTE_ORDER) {\n+  if (CURRENT_TARGET_BYTE_ORDER == HOST_BYTE_ORDER) {\n     return raw_in;\n   }\n   else {\n@@ -51,7 +51,7 @@ INLINE_PSIM_ENDIAN\\\n (unsigned_N)\n endian_h2t_N(unsigned_N raw_in)\n {\n-  if (CURRENT_TARGET_BYTE_ORDER == CURRENT_HOST_BYTE_ORDER) {\n+  if (CURRENT_TARGET_BYTE_ORDER == HOST_BYTE_ORDER) {\n     return raw_in;\n   }\n   else {\n@@ -73,7 +73,7 @@ INLINE_PSIM_ENDIAN\\\n (unsigned_N)\n endian_h2be_N(unsigned_N raw_in)\n {\n-  if (CURRENT_HOST_BYTE_ORDER == BIG_ENDIAN) {\n+  if (HOST_BYTE_ORDER == BIG_ENDIAN) {\n     return raw_in;\n   }\n   else {\n@@ -86,7 +86,7 @@ INLINE_PSIM_ENDIAN\\\n (unsigned_N)\n endian_be2h_N(unsigned_N raw_in)\n {\n-  if (CURRENT_HOST_BYTE_ORDER == BIG_ENDIAN) {\n+  if (HOST_BYTE_ORDER == BIG_ENDIAN) {\n     return raw_in;\n   }\n   else {\n@@ -99,7 +99,7 @@ INLINE_PSIM_ENDIAN\\\n (unsigned_N)\n endian_h2le_N(unsigned_N raw_in)\n {\n-  if (CURRENT_HOST_BYTE_ORDER == LITTLE_ENDIAN) {\n+  if (HOST_BYTE_ORDER == LITTLE_ENDIAN) {\n     return raw_in;\n   }\n   else {\n@@ -112,7 +112,7 @@ INLINE_PSIM_ENDIAN\\\n (unsigned_N)\n endian_le2h_N(unsigned_N raw_in)\n {\n-  if (CURRENT_HOST_BYTE_ORDER == LITTLE_ENDIAN) {\n+  if (HOST_BYTE_ORDER == LITTLE_ENDIAN) {\n     return raw_in;\n   }\n   else {"
    },
    {
      "sha": "0f76b239256f4d8e2ba13254392e1d954960676d",
      "filename": "sim/ppc/sim-endian.c",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/430456e34753ac705a047c886eb4f73cf2906dfc/sim/ppc/sim-endian.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/430456e34753ac705a047c886eb4f73cf2906dfc/sim/ppc/sim-endian.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ppc/sim-endian.c?ref=430456e34753ac705a047c886eb4f73cf2906dfc",
      "patch": "@@ -31,15 +31,15 @@\n #define _SWAP_1(SET,RAW) SET (RAW)\n #endif\n \n-#if !defined(_SWAP_2) && (WITH_HOST_BYTE_ORDER == LITTLE_ENDIAN) && defined(htons)\n+#if !defined(_SWAP_2) && (HOST_BYTE_ORDER == LITTLE_ENDIAN) && defined(htons)\n #define _SWAP_2(SET,RAW) SET htons (RAW)\n #endif\n \n #ifndef\t_SWAP_2\n #define _SWAP_2(SET,RAW) SET (((RAW) >> 8) | ((RAW) << 8))\n #endif\n \n-#if !defined(_SWAP_4) && (WITH_HOST_BYTE_ORDER == LITTLE_ENDIAN) && defined(htonl)\n+#if !defined(_SWAP_4) && (HOST_BYTE_ORDER == LITTLE_ENDIAN) && defined(htonl)\n #define _SWAP_4(SET,RAW) SET htonl (RAW)\n #endif\n "
    },
    {
      "sha": "e074572128744de94f88d994188d039090eb1bd8",
      "filename": "sim/ppc/sim-endian.h",
      "status": "modified",
      "additions": 0,
      "deletions": 175,
      "changes": 175,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/430456e34753ac705a047c886eb4f73cf2906dfc/sim/ppc/sim-endian.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/430456e34753ac705a047c886eb4f73cf2906dfc/sim/ppc/sim-endian.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ppc/sim-endian.h?ref=430456e34753ac705a047c886eb4f73cf2906dfc",
      "patch": "@@ -60,181 +60,6 @@ INLINE_PSIM_ENDIAN(unsigned_4) endian_le2h_4(unsigned_4 x);\n INLINE_PSIM_ENDIAN(unsigned_8) endian_le2h_8(unsigned_8 x);\n \n \n-/* Host dependant:\n-\n-   The CPP below defines information about the compilation host.  In\n-   particular it defines the macro's:\n-\n-   \tWITH_HOST_BYTE_ORDER\tThe byte order of the host. Could\n-\t\t\t\tbe any of LITTLE_ENDIAN, BIG_ENDIAN\n-\t\t\t\tor 0 (unknown).  Those macro's also\n-\t\t\t\tneed to be defined.\n-\n- */\n-\n-\n-/* NetBSD:\n-\n-   NetBSD is easy, everything you could ever want is in a header file\n-   (well almost :-) */\n-\n-#if defined(__NetBSD__)\n-# include <machine/endian.h>\n-# if (WITH_HOST_BYTE_ORDER == 0)\n-#  undef WITH_HOST_BYTE_ORDER\n-#  define WITH_HOST_BYTE_ORDER BYTE_ORDER\n-# endif\n-# if (BYTE_ORDER != WITH_HOST_BYTE_ORDER)\n-#  error \"host endian incorrectly configured, check config.h\"\n-# endif\n-#endif\n-\n-/* Linux is similarly easy.  */\n-\n-#if defined(__linux__)\n-# include <endian.h>\n-# if defined(__LITTLE_ENDIAN) && !defined(LITTLE_ENDIAN)\n-#  define LITTLE_ENDIAN __LITTLE_ENDIAN\n-# endif\n-# if defined(__BIG_ENDIAN) && !defined(BIG_ENDIAN)\n-#  define BIG_ENDIAN __BIG_ENDIAN\n-# endif\n-# if defined(__BYTE_ORDER) && !defined(BYTE_ORDER)\n-#  define BYTE_ORDER __BYTE_ORDER\n-# endif\n-# if (WITH_HOST_BYTE_ORDER == 0)\n-#  undef WITH_HOST_BYTE_ORDER\n-#  define WITH_HOST_BYTE_ORDER BYTE_ORDER\n-# endif\n-# if (BYTE_ORDER != WITH_HOST_BYTE_ORDER)\n-#  error \"host endian incorrectly configured, check config.h\"\n-# endif\n-#endif\n-\n-/* INSERT HERE - hosts that have available LITTLE_ENDIAN and\n-   BIG_ENDIAN macro's */\n-\n-\n-/* Some hosts don't define LITTLE_ENDIAN or BIG_ENDIAN, help them out */\n-\n-#ifndef LITTLE_ENDIAN\n-#define LITTLE_ENDIAN 1234\n-#endif\n-#ifndef BIG_ENDIAN\n-#define BIG_ENDIAN 4321\n-#endif\n-\n-\n-/* SunOS on SPARC:\n-\n-   Big endian last time I looked */\n-\n-#if defined(sparc) || defined(__sparc__)\n-# if (WITH_HOST_BYTE_ORDER == 0)\n-#  undef WITH_HOST_BYTE_ORDER\n-#  define WITH_HOST_BYTE_ORDER BIG_ENDIAN\n-# endif\n-# if (WITH_HOST_BYTE_ORDER != BIG_ENDIAN)\n-#  error \"sun was big endian last time I looked ...\"\n-# endif\n-#endif\n-\n-\n-/* Random x86\n-\n-   Little endian last time I looked */\n-\n-#if defined(i386) || defined(i486) || defined(i586) || defined (i686) || defined(__i386__) || defined(__i486__) || defined(__i586__) || defined (__i686__)\n-# if (WITH_HOST_BYTE_ORDER == 0)\n-#  undef WITH_HOST_BYTE_ORDER\n-#  define WITH_HOST_BYTE_ORDER LITTLE_ENDIAN\n-# endif\n-# if (WITH_HOST_BYTE_ORDER != LITTLE_ENDIAN)\n-#  error \"x86 was little endian last time I looked ...\"\n-# endif\n-#endif\n-\n-/* Power or PowerPC running AIX  */\n-#if defined(_POWER) && defined(_AIX)\n-# if (WITH_HOST_BYTE_ORDER == 0)\n-#  undef WITH_HOST_BYTE_ORDER\n-#  define WITH_HOST_BYTE_ORDER BIG_ENDIAN\n-# endif\n-# if (WITH_HOST_BYTE_ORDER != BIG_ENDIAN)\n-#  error \"Power/PowerPC AIX was big endian last time I looked ...\"\n-# endif\n-#endif\n-\n-/* Solaris running PowerPC */\n-#if defined(__PPC) && defined(__sun__)\n-# if (WITH_HOST_BYTE_ORDER == 0)\n-#  undef WITH_HOST_BYTE_ORDER\n-#  define WITH_HOST_BYTE_ORDER LITTLE_ENDIAN\n-# endif\n-# if (WITH_HOST_BYTE_ORDER != LITTLE_ENDIAN)\n-#  error \"Solaris on PowerPCs was little endian last time I looked ...\"\n-# endif\n-#endif\n-\n-/* HP/PA */\n-#if defined(__hppa__)\n-# if (WITH_HOST_BYTE_ORDER == 0)\n-#  undef WITH_HOST_BYTE_ORDER\n-#  define WITH_HOST_BYTE_ORDER BIG_ENDIAN\n-# endif\n-# if (WITH_HOST_BYTE_ORDER != BIG_ENDIAN)\n-#  error \"HP/PA was big endian last time I looked ...\"\n-# endif\n-#endif\n-\n-/* Big endian MIPS */\n-#if defined(__MIPSEB__)\n-# if (WITH_HOST_BYTE_ORDER == 0)\n-#  undef WITH_HOST_BYTE_ORDER\n-#  define WITH_HOST_BYTE_ORDER BIG_ENDIAN\n-# endif\n-# if (WITH_HOST_BYTE_ORDER != BIG_ENDIAN)\n-#  error \"MIPSEB was big endian last time I looked ...\"\n-# endif\n-#endif\n-\n-/* Little endian MIPS */\n-#if defined(__MIPSEL__)\n-# if (WITH_HOST_BYTE_ORDER == 0)\n-#  undef WITH_HOST_BYTE_ORDER\n-#  define WITH_HOST_BYTE_ORDER LITTLE_ENDIAN\n-# endif\n-# if (WITH_HOST_BYTE_ORDER != LITTLE_ENDIAN)\n-#  error \"MIPSEL was little endian last time I looked ...\"\n-# endif\n-#endif\n-\n-/* Windows NT */\n-#if defined(__WIN32__)\n-# if (WITH_HOST_BYTE_ORDER == 0)\n-#  undef WITH_HOST_BYTE_ORDER\n-#  define WITH_HOST_BYTE_ORDER LITTLE_ENDIAN\n-# endif\n-# if (WITH_HOST_BYTE_ORDER != LITTLE_ENDIAN)\n-#  error \"Windows NT was little endian last time I looked ...\"\n-# endif\n-#endif\n-\n-/* Alpha running DEC unix */\n-#if defined(__osf__) && defined(__alpha__)\n-# if (WITH_HOST_BYTE_ORDER == 0)\n-#  undef WITH_HOST_BYTE_ORDER\n-#  define WITH_HOST_BYTE_ORDER LITTLE_ENDIAN\n-# endif\n-# if (WITH_HOST_BYTE_ORDER != LITTLE_ENDIAN)\n-#  error \"AXP running DEC unix was little endian last time I looked ...\"\n-# endif\n-#endif\n-\n-\n-/* INSERT HERE - additional hosts that do not have LITTLE_ENDIAN and\n-   BIG_ENDIAN definitions available.  */\n-\n /* SWAP */\n \n #define SWAP_1 swap_1"
    },
    {
      "sha": "375ba730beaceb4b509fb0e571ff5d832eb51d71",
      "filename": "sim/ppc/std-config.h",
      "status": "modified",
      "additions": 11,
      "deletions": 6,
      "changes": 17,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/430456e34753ac705a047c886eb4f73cf2906dfc/sim/ppc/std-config.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/430456e34753ac705a047c886eb4f73cf2906dfc/sim/ppc/std-config.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ppc/std-config.h?ref=430456e34753ac705a047c886eb4f73cf2906dfc",
      "patch": "@@ -30,18 +30,23 @@\n \n    Possible values are 0 (unknown), LITTLE_ENDIAN, BIG_ENDIAN */\n \n-#ifndef WITH_HOST_BYTE_ORDER\n-#define WITH_HOST_BYTE_ORDER\t\t0 /*unknown*/\n+#ifndef LITTLE_ENDIAN\n+#define LITTLE_ENDIAN 1234\n+#endif\n+#ifndef BIG_ENDIAN\n+#define BIG_ENDIAN 4321\n+#endif\n+\n+#ifdef WORDS_BIGENDIAN\n+# define HOST_BYTE_ORDER BIG_ENDIAN\n+#else\n+# define HOST_BYTE_ORDER LITTLE_ENDIAN\n #endif\n \n #ifndef WITH_TARGET_BYTE_ORDER\n #define WITH_TARGET_BYTE_ORDER\t\t0 /*unknown*/\n #endif\n \n-extern int current_host_byte_order;\n-#define CURRENT_HOST_BYTE_ORDER (WITH_HOST_BYTE_ORDER \\\n-\t\t\t\t ? WITH_HOST_BYTE_ORDER \\\n-\t\t\t\t : current_host_byte_order)\n extern int current_target_byte_order;\n #define CURRENT_TARGET_BYTE_ORDER (WITH_TARGET_BYTE_ORDER \\\n \t\t\t\t   ? WITH_TARGET_BYTE_ORDER \\"
    }
  ]
}