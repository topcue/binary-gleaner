{
  "sha": "9372689d72f902c8bae90536acc4747fb0a4b1e1",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6OTM3MjY4OWQ3MmY5MDJjOGJhZTkwNTM2YWNjNDc0N2ZiMGE0YjFlMQ==",
  "commit": {
    "author": {
      "name": "Spencer E. Olson",
      "email": "olsonse@umich.edu",
      "date": "2020-11-09T12:41:09Z"
    },
    "committer": {
      "name": "Nick Clifton",
      "email": "nickc@redhat.com",
      "date": "2020-11-09T12:41:09Z"
    },
    "message": "Add support for the LMBD (left-most bit detect) instruction to the PRU assembler.\n\ninclude\t* opcode/pru.h: Add LMBD (left-most bit detect) opcode index\nopcodes * pru-opc.c: Add opcode description for LMBD (left-most bit detect)\ngas \t* testsuite/gas/pru/misc.s: Add tests for lmbd (left-most bit detect)\n \t* testsuite/gas/pru/misc.d: Add tests for lmbd (left-most bit",
    "tree": {
      "sha": "b6ec12b88ad28b41ba92f290df2cb10531ad7614",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/b6ec12b88ad28b41ba92f290df2cb10531ad7614"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/9372689d72f902c8bae90536acc4747fb0a4b1e1",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/9372689d72f902c8bae90536acc4747fb0a4b1e1",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/9372689d72f902c8bae90536acc4747fb0a4b1e1",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/9372689d72f902c8bae90536acc4747fb0a4b1e1/comments",
  "author": {
    "login": "olsonse",
    "id": 148647,
    "node_id": "MDQ6VXNlcjE0ODY0Nw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/148647?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/olsonse",
    "html_url": "https://github.com/olsonse",
    "followers_url": "https://api.github.com/users/olsonse/followers",
    "following_url": "https://api.github.com/users/olsonse/following{/other_user}",
    "gists_url": "https://api.github.com/users/olsonse/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/olsonse/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/olsonse/subscriptions",
    "organizations_url": "https://api.github.com/users/olsonse/orgs",
    "repos_url": "https://api.github.com/users/olsonse/repos",
    "events_url": "https://api.github.com/users/olsonse/events{/privacy}",
    "received_events_url": "https://api.github.com/users/olsonse/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "nickclifton",
    "id": 31441682,
    "node_id": "MDQ6VXNlcjMxNDQxNjgy",
    "avatar_url": "https://avatars.githubusercontent.com/u/31441682?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nickclifton",
    "html_url": "https://github.com/nickclifton",
    "followers_url": "https://api.github.com/users/nickclifton/followers",
    "following_url": "https://api.github.com/users/nickclifton/following{/other_user}",
    "gists_url": "https://api.github.com/users/nickclifton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nickclifton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nickclifton/subscriptions",
    "organizations_url": "https://api.github.com/users/nickclifton/orgs",
    "repos_url": "https://api.github.com/users/nickclifton/repos",
    "events_url": "https://api.github.com/users/nickclifton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nickclifton/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "4a3e3e228280ebbd6320743c1bc2f1401e70300c",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/4a3e3e228280ebbd6320743c1bc2f1401e70300c",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/4a3e3e228280ebbd6320743c1bc2f1401e70300c"
    }
  ],
  "stats": {
    "total": 81,
    "additions": 65,
    "deletions": 16
  },
  "files": [
    {
      "sha": "d0ed87a345b81e0c2d2113d55b44d0e57f4d5b62",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/9372689d72f902c8bae90536acc4747fb0a4b1e1/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/9372689d72f902c8bae90536acc4747fb0a4b1e1/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=9372689d72f902c8bae90536acc4747fb0a4b1e1",
      "patch": "@@ -1,3 +1,9 @@\n+2020-11-09  Spencer E. Olson  <olsonse@umich.edu>\n+\n+\t* testsuite/gas/pru/misc.s: Add tests for lmbd (left-most bit\n+\tdetect).\n+\t* testsuite/gas/pru/misc.d: Update expected disassembly.\n+\n 2020-11-09  Przemyslaw Wirkus  <przemyslaw.wirkus@arm.com>\n \n \t* config/tc-aarch64.c: Fix comment."
    },
    {
      "sha": "ac778db545be8123a1af791b3afe92615673d69e",
      "filename": "gas/testsuite/gas/pru/misc.d",
      "status": "modified",
      "additions": 3,
      "deletions": 0,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/9372689d72f902c8bae90536acc4747fb0a4b1e1/gas/testsuite/gas/pru/misc.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/9372689d72f902c8bae90536acc4747fb0a4b1e1/gas/testsuite/gas/pru/misc.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/pru/misc.d?ref=9372689d72f902c8bae90536acc4747fb0a4b1e1",
      "patch": "@@ -9,3 +9,6 @@ Disassembly of section .text:\n 0+0000 <[^>]*> 2a000000 \thalt\n 0+0004 <[^>]*> 3e800000 \tslp\t1\n 0+0008 <[^>]*> 3e000000 \tslp\t0\n+0+000c <[^>]*> 2701e1e0 \tlmbd\tr0, r1, 1\n+0+0010 <[^>]*> 2700e100 \tlmbd\tr0.b0, r1, 0\n+0+0014 <[^>]*> 2642e1e0 \tlmbd\tr0, r1, sp.b2"
    },
    {
      "sha": "42e08a75799a7a252a1c91e013fd7a15809c5647",
      "filename": "gas/testsuite/gas/pru/misc.s",
      "status": "modified",
      "additions": 3,
      "deletions": 0,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/9372689d72f902c8bae90536acc4747fb0a4b1e1/gas/testsuite/gas/pru/misc.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/9372689d72f902c8bae90536acc4747fb0a4b1e1/gas/testsuite/gas/pru/misc.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/pru/misc.s?ref=9372689d72f902c8bae90536acc4747fb0a4b1e1",
      "patch": "@@ -4,3 +4,6 @@ foo:\n \thalt\n \tslp\t1\n \tslp\t0\n+\tlmbd r0, r1, 0x1\n+\tlmbd r0.b0, r1, 0x0\n+\tlmbd r0, r1, r2.b2"
    },
    {
      "sha": "36fc40488d97f6c986958b502bb6c44dbed8f691",
      "filename": "gas/write.c",
      "status": "modified",
      "additions": 24,
      "deletions": 0,
      "changes": 24,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/9372689d72f902c8bae90536acc4747fb0a4b1e1/gas/write.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/9372689d72f902c8bae90536acc4747fb0a4b1e1/gas/write.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/write.c?ref=9372689d72f902c8bae90536acc4747fb0a4b1e1",
      "patch": "@@ -771,6 +771,22 @@ resolve_reloc_expr_symbols (void)\n     }\n }\n \n+static bfd_boolean\n+is_dwo_section (asection *sec)\n+{\n+  const char *name;\n+  int len;\n+\n+  if (sec == NULL || (name = bfd_section_name (sec)) == NULL)\n+    return FALSE;\n+\n+  len = strlen (name);\n+  if (len < 5)\n+    return FALSE;\n+\n+  return strncmp (name + len - 4, \".dwo\", 4) == 0;\n+}\n+\n /* This pass over fixups decides whether symbols can be replaced with\n    section symbols.  */\n \n@@ -899,6 +915,14 @@ adjust_reloc_syms (bfd *abfd ATTRIBUTE_UNUSED,\n #endif\n       }\n \n+  /* PR 26841: DWO sections are not supposed to have relocations.  */\n+  if (is_dwo_section (sec) && seginfo->fix_root != NULL)\n+    {\n+      as_bad (_(\"DWO section '%s' contains unresolved expressions - this is not allowed\"),\n+\t      bfd_section_name (sec));\n+      seginfo->fix_root = NULL; /* FIXME: Memory leak ?  */\n+    }\n+\n   dump_section_relocs (abfd, sec, stderr);\n }\n "
    },
    {
      "sha": "f54d85d5b697b40f092d5aeaa2438c969c9112c2",
      "filename": "include/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/9372689d72f902c8bae90536acc4747fb0a4b1e1/include/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/9372689d72f902c8bae90536acc4747fb0a4b1e1/include/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/include/ChangeLog?ref=9372689d72f902c8bae90536acc4747fb0a4b1e1",
      "patch": "@@ -1,3 +1,7 @@\n+2020-11-09  Spencer E. Olson  <olsonse@umich.edu>\n+\n+\t* opcode/pru.h: Add LMBD (left-most bit detect) opcode index.\n+\n 2020-11-09  Przemyslaw Wirkus  <przemyslaw.wirkus@arm.com>\n \n \t* opcode/aarch64.h (enum aarch64_opnd): Add new operand AARCH64_OPND_Rt_LS64."
    },
    {
      "sha": "76988311902dc523e8acb4eaa9ec9758293b0699",
      "filename": "include/opcode/pru.h",
      "status": "modified",
      "additions": 18,
      "deletions": 16,
      "changes": 34,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/9372689d72f902c8bae90536acc4747fb0a4b1e1/include/opcode/pru.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/9372689d72f902c8bae90536acc4747fb0a4b1e1/include/opcode/pru.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/include/opcode/pru.h?ref=9372689d72f902c8bae90536acc4747fb0a4b1e1",
      "patch": "@@ -44,25 +44,27 @@ enum overflow_type\n   no_overflow\n };\n \n-enum opcode_format_type {\n-    opcode_format1,\n-    opcode_format2ab,\n-    opcode_format2abl,\n-    opcode_format2c,\n-    opcode_format2de,\n-    opcode_format45,\n-    opcode_format6\n+enum opcode_format_type\n+{\n+  opcode_format1,\n+  opcode_format2ab,\n+  opcode_format2abl,\n+  opcode_format2c,\n+  opcode_format2de,\n+  opcode_format45,\n+  opcode_format6\n };\n \n /* Opcode ID listing. Used for indexing by the simulator.  */\n-enum pru_instr_type {\n-    prui_add, prui_adc, prui_sub, prui_suc, prui_lsl, prui_lsr, prui_rsb,\n-    prui_rsc, prui_and, prui_or,  prui_xor, prui_min, prui_max, prui_clr,\n-    prui_set, prui_not, prui_jmp, prui_jal, prui_ldi, prui_halt, prui_slp,\n-    prui_xin, prui_xout, prui_xchg, prui_sxin, prui_sxout, prui_sxchg,\n-    prui_loop, prui_iloop, prui_qbgt, prui_qbge, prui_qblt, prui_qble,\n-    prui_qbeq, prui_qbne, prui_qba, prui_qbbs, prui_qbbc, prui_lbbo,\n-    prui_sbbo, prui_lbco, prui_sbco\n+enum pru_instr_type\n+{\n+  prui_add, prui_adc, prui_sub, prui_suc, prui_lsl, prui_lsr, prui_rsb,\n+  prui_rsc, prui_and, prui_or,  prui_xor, prui_min, prui_max, prui_clr,\n+  prui_set, prui_not, prui_jmp, prui_jal, prui_ldi, prui_lmbd,\n+  prui_halt, prui_slp, prui_xin, prui_xout, prui_xchg, prui_sxin,\n+  prui_sxout, prui_sxchg, prui_loop, prui_iloop, prui_qbgt, prui_qbge,\n+  prui_qblt, prui_qble, prui_qbeq, prui_qbne, prui_qba, prui_qbbs,\n+  prui_qbbc, prui_lbbo, prui_sbbo, prui_lbco, prui_sbco\n };\n \n /* This structure holds information for a particular instruction."
    },
    {
      "sha": "3b7354c5f21e37382608354092544d05c2d8a83c",
      "filename": "opcodes/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/9372689d72f902c8bae90536acc4747fb0a4b1e1/opcodes/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/9372689d72f902c8bae90536acc4747fb0a4b1e1/opcodes/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/ChangeLog?ref=9372689d72f902c8bae90536acc4747fb0a4b1e1",
      "patch": "@@ -1,3 +1,8 @@\n+2020-11-09  Spencer E. Olson  <olsonse@umich.edu>\n+\n+\t* pru-opc.c: Add opcode description for LMBD (left-most bit\n+\tdetect).\n+\n 2020-11-09  Przemyslaw Wirkus  <przemyslaw.wirkus@arm.com>\n \n \t* aarch64-opc.c: Add ACCDATA_EL1 system register"
    },
    {
      "sha": "05ddfb0358bc3a4dd8b542fb18ad16c2db1eaa46",
      "filename": "opcodes/pru-opc.c",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/9372689d72f902c8bae90536acc4747fb0a4b1e1/opcodes/pru-opc.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/9372689d72f902c8bae90536acc4747fb0a4b1e1/opcodes/pru-opc.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/pru-opc.c?ref=9372689d72f902c8bae90536acc4747fb0a4b1e1",
      "patch": "@@ -121,6 +121,8 @@ const struct pru_opcode pru_opcodes[] =\n    OP_MATCH_JAL, OP_MASK_FMT2_OP | OP_MASK_SUBOP, 0, unsigned_immed16_overflow},\n   { \"ldi\", prui_ldi, \"d,W\",\n    OP_MATCH_LDI, OP_MASK_FMT2_OP | OP_MASK_SUBOP, 0, unsigned_immed16_overflow},\n+  { \"lmbd\", prui_lmbd, \"d,s,b\",\n+   OP_MATCH_LMBD, OP_MASK_FMT2_OP | OP_MASK_SUBOP, 0, unsigned_immed8_overflow},\n   { \"halt\", prui_halt, \"\",\n    OP_MATCH_HALT, OP_MASK_FMT2_OP | OP_MASK_SUBOP, 0, no_overflow},\n   { \"slp\", prui_slp, \"w\","
    }
  ]
}