{
  "sha": "b8ba13856360d1cae00269a0ffe291cf573bb575",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YjhiYTEzODU2MzYwZDFjYWUwMDI2OWEwZmZlMjkxY2Y1NzNiYjU3NQ==",
  "commit": {
    "author": {
      "name": "Sergey Belyashov",
      "email": "sergey.belyashov@gmail.com",
      "date": "2020-03-03T16:31:42Z"
    },
    "committer": {
      "name": "Nick Clifton",
      "email": "nickc@redhat.com",
      "date": "2020-03-03T16:32:52Z"
    },
    "message": "The patch fixed invalid compilation of instruction LD IY,(HL) and disassemble of this and LD (HL),IX instruction. Also it update testsuit.\n\n\tPR 25627\nopcodes\t* z80-dis.c: Fix disassembly of LD IY,(HL) and D (HL),IX\n\tinstructions.\n\ngas\t* config/tc-z80.c (emit_ld_rr_m): Fix invalid compilation of\n\tinstruction LD IY,(HL).\n\t* testsuite/gas/z80/ez80_adl_all.d: Update expected disassembly.\n\t* testsuite/gas/z80/ez80_adl_all.s: Add tests of the instruction.\n\t* testsuite/gas/z80/ez80_z80_all.d: Update expected disassembly.\n\t* testsuite/gas/z80/ez80_z80_all.s: Add tests of the instruction.",
    "tree": {
      "sha": "8ea4c0ca398549d57965783aff7cb2aab9ffbbd3",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/8ea4c0ca398549d57965783aff7cb2aab9ffbbd3"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/b8ba13856360d1cae00269a0ffe291cf573bb575",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/b8ba13856360d1cae00269a0ffe291cf573bb575",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/b8ba13856360d1cae00269a0ffe291cf573bb575",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/b8ba13856360d1cae00269a0ffe291cf573bb575/comments",
  "author": {
    "login": "b-s-a",
    "id": 2833802,
    "node_id": "MDQ6VXNlcjI4MzM4MDI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2833802?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/b-s-a",
    "html_url": "https://github.com/b-s-a",
    "followers_url": "https://api.github.com/users/b-s-a/followers",
    "following_url": "https://api.github.com/users/b-s-a/following{/other_user}",
    "gists_url": "https://api.github.com/users/b-s-a/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/b-s-a/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/b-s-a/subscriptions",
    "organizations_url": "https://api.github.com/users/b-s-a/orgs",
    "repos_url": "https://api.github.com/users/b-s-a/repos",
    "events_url": "https://api.github.com/users/b-s-a/events{/privacy}",
    "received_events_url": "https://api.github.com/users/b-s-a/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "nickclifton",
    "id": 31441682,
    "node_id": "MDQ6VXNlcjMxNDQxNjgy",
    "avatar_url": "https://avatars.githubusercontent.com/u/31441682?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nickclifton",
    "html_url": "https://github.com/nickclifton",
    "followers_url": "https://api.github.com/users/nickclifton/followers",
    "following_url": "https://api.github.com/users/nickclifton/following{/other_user}",
    "gists_url": "https://api.github.com/users/nickclifton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nickclifton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nickclifton/subscriptions",
    "organizations_url": "https://api.github.com/users/nickclifton/orgs",
    "repos_url": "https://api.github.com/users/nickclifton/repos",
    "events_url": "https://api.github.com/users/nickclifton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nickclifton/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "7b973adce2b486518d3150db257b179e1b9a5d33",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/7b973adce2b486518d3150db257b179e1b9a5d33",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/7b973adce2b486518d3150db257b179e1b9a5d33"
    }
  ],
  "stats": {
    "total": 68,
    "additions": 62,
    "deletions": 6
  },
  "files": [
    {
      "sha": "9360e8d8774bd454eb339a6b84257b02d2678cfe",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 10,
      "deletions": 0,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b8ba13856360d1cae00269a0ffe291cf573bb575/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b8ba13856360d1cae00269a0ffe291cf573bb575/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=b8ba13856360d1cae00269a0ffe291cf573bb575",
      "patch": "@@ -1,3 +1,13 @@\n+2020-03-03  Sergey Belyashov  <sergey.belyashov@gmail.com>\n+\n+\tPR 25627\n+\t* config/tc-z80.c (emit_ld_rr_m): Fix invalid compilation of\n+\tinstruction LD IY,(HL).\n+\t* testsuite/gas/z80/ez80_adl_all.d: Update expected disassembly.\n+\t* testsuite/gas/z80/ez80_adl_all.s: Add tests of the instruction.\n+\t* testsuite/gas/z80/ez80_z80_all.d: Update expected disassembly.\n+\t* testsuite/gas/z80/ez80_z80_all.s: Add tests of the instruction.\n+\n 2020-03-03  H.J. Lu  <hongjiu.lu@intel.com>\n \n \tPR gas/25622"
    },
    {
      "sha": "713176f76bd3d599065e7104b850ecb532e9d379",
      "filename": "gas/config/tc-z80.c",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b8ba13856360d1cae00269a0ffe291cf573bb575/gas/config/tc-z80.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b8ba13856360d1cae00269a0ffe291cf573bb575/gas/config/tc-z80.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/config/tc-z80.c?ref=b8ba13856360d1cae00269a0ffe291cf573bb575",
      "patch": "@@ -2601,8 +2601,8 @@ emit_ld_rr_m (expressionS *dst, expressionS *src)\n         case REG_BC: opcode = 0x07; break;\n         case REG_DE: opcode = 0x17; break;\n         case REG_HL: opcode = 0x27; break;\n-\tcase REG_IX: opcode = (!prefix || prefix == 0xDD) ? 0x37 : 0x31; break;\n-\tcase REG_IY: opcode = prefix ? ((prefix == 0xDD) ? 0x31 : 0x37) : 0x36; break;\n+\tcase REG_IX: opcode = (prefix == 0xED || prefix == 0xDD) ? 0x37 : 0x31; break;\n+\tcase REG_IY: opcode = (prefix == 0xED || prefix == 0xDD) ? 0x31 : 0x37; break;\n         default:\n           ill_op ();\n         }"
    },
    {
      "sha": "1ed35d2849d4fe0f2c4e7bb126083c1922b488ba",
      "filename": "gas/testsuite/gas/z80/ez80_adl_all.d",
      "status": "modified",
      "additions": 10,
      "deletions": 0,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b8ba13856360d1cae00269a0ffe291cf573bb575/gas/testsuite/gas/z80/ez80_adl_all.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b8ba13856360d1cae00269a0ffe291cf573bb575/gas/testsuite/gas/z80/ez80_adl_all.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/z80/ez80_adl_all.d?ref=b8ba13856360d1cae00269a0ffe291cf573bb575",
      "patch": "@@ -959,3 +959,13 @@ Disassembly of section .text:\n \\s+7c1:\\s+ab\\s+xor a,e\n \\s+7c2:\\s+ac\\s+xor a,h\n \\s+7c3:\\s+ad\\s+xor a,l\n+\\s+7c4:\\s+ed 07\\s+ld bc,\\(hl\\)\n+\\s+7c6:\\s+ed 17\\s+ld de,\\(hl\\)\n+\\s+7c8:\\s+ed 27\\s+ld hl,\\(hl\\)\n+\\s+7ca:\\s+ed 37\\s+ld ix,\\(hl\\)\n+\\s+7cc:\\s+ed 31\\s+ld iy,\\(hl\\)\n+\\s+7ce:\\s+ed 0f\\s+ld \\(hl\\),bc\n+\\s+7d0:\\s+ed 1f\\s+ld \\(hl\\),de\n+\\s+7d2:\\s+ed 2f\\s+ld \\(hl\\),hl\n+\\s+7d4:\\s+ed 3f\\s+ld \\(hl\\),ix\n+\\s+7d6:\\s+ed 3e\\s+ld \\(hl\\),iy"
    },
    {
      "sha": "041c10c94c37d313465ae612f274f3f5d1493631",
      "filename": "gas/testsuite/gas/z80/ez80_adl_all.s",
      "status": "modified",
      "additions": 11,
      "deletions": 1,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b8ba13856360d1cae00269a0ffe291cf573bb575/gas/testsuite/gas/z80/ez80_adl_all.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b8ba13856360d1cae00269a0ffe291cf573bb575/gas/testsuite/gas/z80/ez80_adl_all.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/z80/ez80_adl_all.s?ref=b8ba13856360d1cae00269a0ffe291cf573bb575",
      "patch": "@@ -480,7 +480,7 @@\n \tex (sp),hl\n \tex (sp),ix\n \tex (sp),iy\n-\tex af,af'\n+\tex af,af'\t;'\n \tex de,hl\n \texx\n \thalt\n@@ -998,3 +998,13 @@\n \txor e\n \txor h\n \txor l\n+\tld\tbc,(hl)\n+\tld\tde,(hl)\n+\tld\thl,(hl)\n+\tld\tix,(hl)\n+\tld\tiy,(hl)\n+\tld\t(hl),bc\n+\tld\t(hl),de\n+\tld\t(hl),hl\n+\tld\t(hl),ix\n+\tld\t(hl),iy"
    },
    {
      "sha": "1f9a6f147fcfffa8c5c5e4e4bb3b5c16a87d046d",
      "filename": "gas/testsuite/gas/z80/ez80_z80_all.d",
      "status": "modified",
      "additions": 10,
      "deletions": 0,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b8ba13856360d1cae00269a0ffe291cf573bb575/gas/testsuite/gas/z80/ez80_z80_all.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b8ba13856360d1cae00269a0ffe291cf573bb575/gas/testsuite/gas/z80/ez80_z80_all.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/z80/ez80_z80_all.d?ref=b8ba13856360d1cae00269a0ffe291cf573bb575",
      "patch": "@@ -955,3 +955,13 @@ Disassembly of section .text:\n \\s+793:\\s+ab\\s+xor a,e\n \\s+794:\\s+ac\\s+xor a,h\n \\s+795:\\s+ad\\s+xor a,l\n+\\s+796:\\s+ed 07\\s+ld bc,\\(hl\\)\n+\\s+798:\\s+ed 17\\s+ld de,\\(hl\\)\n+\\s+79a:\\s+ed 27\\s+ld hl,\\(hl\\)\n+\\s+79c:\\s+ed 37\\s+ld ix,\\(hl\\)\n+\\s+79e:\\s+ed 31\\s+ld iy,\\(hl\\)\n+\\s+7a0:\\s+ed 0f\\s+ld \\(hl\\),bc\n+\\s+7a2:\\s+ed 1f\\s+ld \\(hl\\),de\n+\\s+7a4:\\s+ed 2f\\s+ld \\(hl\\),hl\n+\\s+7a6:\\s+ed 3f\\s+ld \\(hl\\),ix\n+\\s+7a8:\\s+ed 3e\\s+ld \\(hl\\),iy"
    },
    {
      "sha": "d2c6cdbeee4944506f08282fefd303846ef69548",
      "filename": "gas/testsuite/gas/z80/ez80_z80_all.s",
      "status": "modified",
      "additions": 11,
      "deletions": 1,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b8ba13856360d1cae00269a0ffe291cf573bb575/gas/testsuite/gas/z80/ez80_z80_all.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b8ba13856360d1cae00269a0ffe291cf573bb575/gas/testsuite/gas/z80/ez80_z80_all.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/z80/ez80_z80_all.s?ref=b8ba13856360d1cae00269a0ffe291cf573bb575",
      "patch": "@@ -474,7 +474,7 @@\n \tex (sp),hl\n \tex (sp),ix\n \tex (sp),iy\n-\tex af,af'\n+\tex af,af'\t;'\n \tex de,hl\n \texx\n \thalt\n@@ -992,3 +992,13 @@\n \txor e\n \txor h\n \txor l\n+\tld\tbc,(hl)\n+\tld\tde,(hl)\n+\tld\thl,(hl)\n+\tld\tix,(hl)\n+\tld\tiy,(hl)\n+\tld\t(hl),bc\n+\tld\t(hl),de\n+\tld\t(hl),hl\n+\tld\t(hl),ix\n+\tld\t(hl),iy"
    },
    {
      "sha": "f471cd07f29499b65c781211498e410d8d9b4731",
      "filename": "opcodes/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b8ba13856360d1cae00269a0ffe291cf573bb575/opcodes/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b8ba13856360d1cae00269a0ffe291cf573bb575/opcodes/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/ChangeLog?ref=b8ba13856360d1cae00269a0ffe291cf573bb575",
      "patch": "@@ -1,3 +1,9 @@\n+2020-03-03  Sergey Belyashov  <sergey.belyashov@gmail.com>\n+\n+\tPR 25627\n+\t* z80-dis.c: Fix disassembly of LD IY,(HL) and D (HL),IX\n+\tinstructions.\n+\n 2020-03-03  H.J. Lu  <hongjiu.lu@intel.com>\n \n \tPR gas/25622"
    },
    {
      "sha": "d66bd75657b30263ce70f44913a4585ba0a6eec7",
      "filename": "opcodes/z80-dis.c",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b8ba13856360d1cae00269a0ffe291cf573bb575/opcodes/z80-dis.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b8ba13856360d1cae00269a0ffe291cf573bb575/opcodes/z80-dis.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/z80-dis.c?ref=b8ba13856360d1cae00269a0ffe291cf573bb575",
      "patch": "@@ -436,6 +436,7 @@ struct tab_elt opc_ed[] =\n {\n   { 0x30, 0xFF, prt, \"mul d,e\", INSS_Z80N },\n   { 0x31, 0xFF, prt, \"add hl,a\", INSS_Z80N },\n+  { 0x31, 0xFF, prt, \"ld iy,(hl)\", INSS_EZ80 },\n   { 0x30, 0xFE, dump, \"xx\", INSS_ALL }, /* do not move this line */\n   { 0x00, 0xC7, prt_r_n, \"in0 %s,(0x%%02x)\", INSS_Z180|INSS_EZ80 },\n   { 0x01, 0xC7, prt_r_n, \"out0 (0x%%02x),%s\", INSS_Z180|INSS_EZ80 },\n@@ -446,6 +447,7 @@ struct tab_elt opc_ed[] =\n   { 0x04, 0xC7, prt_r, \"tst %s\", INSS_Z180},\n   { 0x04, 0xC7, prt_r, \"tst a,%s\", INSS_EZ80 },\n   { 0x07, 0xFF, prt, \"ld bc,(hl)\", INSS_EZ80 },\n+  { 0x3F, 0xFF, prt, \"ld (hl),ix\", INSS_EZ80 },\n   { 0x0F, 0xCF, prt_rr, \"ld (hl),\", INSS_EZ80 },\n   { 0x17, 0xFF, prt, \"ld de,(hl)\", INSS_EZ80 },\n   { 0x23, 0xFF, prt, \"swapnib\", INSS_Z80N },\n@@ -462,10 +464,8 @@ struct tab_elt opc_ed[] =\n   { 0x34, 0xFF, prt_nn, \"add hl,0x%04x\", INSS_Z80N },\n   { 0x35, 0xFF, prt_nn, \"add de,0x%04x\", INSS_Z80N },\n   { 0x36, 0xFF, prt_nn, \"add bc,0x%04x\", INSS_Z80N },\n-  { 0x36, 0xFF, prt, \"ld iy,(hl)\", INSS_EZ80 },\n   { 0x37, 0xFF, prt, \"ld ix,(hl)\", INSS_EZ80 },\n   { 0x3E, 0xFF, prt, \"ld (hl),iy\", INSS_EZ80 },\n-  { 0x3F, 0xFF, prt, \"ld (hl),ix\", INSS_EZ80 },\n   { 0x70, 0xFF, prt, \"in f,(c)\", INSS_Z80 | INSS_R800 | INSS_Z80N },\n   { 0x70, 0xFF, dump, \"xx\", INSS_ALL },\n   { 0x40, 0xC7, prt_r, \"in %s,(bc)\", INSS_EZ80 },"
    }
  ]
}