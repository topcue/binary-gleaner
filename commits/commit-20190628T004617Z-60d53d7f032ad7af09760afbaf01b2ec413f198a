{
  "sha": "60d53d7f032ad7af09760afbaf01b2ec413f198a",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NjBkNTNkN2YwMzJhZDdhZjA5NzYwYWZiYWYwMWIyZWM0MTNmMTk4YQ==",
  "commit": {
    "author": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2019-06-28T00:45:57Z"
    },
    "committer": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2019-06-28T00:46:17Z"
    },
    "message": "PowerPC notoc call stub tests\n\n\t* testsuite/ld-powerpc/callstub-1.d,\n\t* testsuite/ld-powerpc/callstub-1.s: New test.\n\t* testsuite/ld-powerpc/callstub-2.d,\n\t* testsuite/ld-powerpc/callstub-2.s: New test.\n\t* testsuite/ld-powerpc/powerpc.exp: Run them.",
    "tree": {
      "sha": "96f07d0e42c3313194fc46314f3cc4d8efe50999",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/96f07d0e42c3313194fc46314f3cc4d8efe50999"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/60d53d7f032ad7af09760afbaf01b2ec413f198a",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/60d53d7f032ad7af09760afbaf01b2ec413f198a",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/60d53d7f032ad7af09760afbaf01b2ec413f198a",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/60d53d7f032ad7af09760afbaf01b2ec413f198a/comments",
  "author": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "0c823d25a6eb29b331a58082e08f4b5fe06e1394",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/0c823d25a6eb29b331a58082e08f4b5fe06e1394",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/0c823d25a6eb29b331a58082e08f4b5fe06e1394"
    }
  ],
  "stats": {
    "total": 91,
    "additions": 91,
    "deletions": 0
  },
  "files": [
    {
      "sha": "f7d7af68d5c3f58e6d1d1b2090e1df1cfb41db2d",
      "filename": "ld/ChangeLog",
      "status": "modified",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/60d53d7f032ad7af09760afbaf01b2ec413f198a/ld/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/60d53d7f032ad7af09760afbaf01b2ec413f198a/ld/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/ChangeLog?ref=60d53d7f032ad7af09760afbaf01b2ec413f198a",
      "patch": "@@ -1,3 +1,11 @@\n+2019-06-28  Alan Modra  <amodra@gmail.com>\n+\n+\t* testsuite/ld-powerpc/callstub-1.d,\n+\t* testsuite/ld-powerpc/callstub-1.s: New test.\n+\t* testsuite/ld-powerpc/callstub-2.d,\n+\t* testsuite/ld-powerpc/callstub-2.s: New test.\n+\t* testsuite/ld-powerpc/powerpc.exp: Run them.\n+\n 2019-06-25  Jan Beulich  <jbeulich@suse.com>\n \n \t* plugin.c (get_lto_kind, get_lto_resolution,"
    },
    {
      "sha": "a9926e50bedb653e90772c34d05d5385927ff800",
      "filename": "ld/testsuite/ld-powerpc/callstub-1.d",
      "status": "added",
      "additions": 29,
      "deletions": 0,
      "changes": 29,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/60d53d7f032ad7af09760afbaf01b2ec413f198a/ld/testsuite/ld-powerpc/callstub-1.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/60d53d7f032ad7af09760afbaf01b2ec413f198a/ld/testsuite/ld-powerpc/callstub-1.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-powerpc/callstub-1.d?ref=60d53d7f032ad7af09760afbaf01b2ec413f198a",
      "patch": "@@ -0,0 +1,29 @@\n+#as: -a64 -mfuture\n+#ld: -shared --plt-align=0 --hash-style=gnu\n+#objdump: -dr -Mfuture\n+\n+.*\n+\n+Disassembly of section \\.text:\n+\n+.*\\.plt_call\\.f1>:\n+.*:\t(f8 41 00 18|18 00 41 f8) \tstd     r2,24\\(r1\\)\n+.*:\t(60 00 00 00|00 00 00 60) \tnop\n+.*:\t(04 10 00 01|01 00 10 04) \tpld     r12,.*\n+.*:\t(e5 80 .. ..|.. .. 80 e5) \n+.*:\t(7d 89 03 a6|a6 03 89 7d) \tmtctr   r12\n+.*:\t(4e 80 04 20|20 04 80 4e) \tbctr\n+\n+.*\\.plt_call\\.f2>:\n+.*:\t(04 10 00 01|01 00 10 04) \tpld     r12,.*\n+.*:\t(e5 80 .. ..|.. .. 80 e5) \n+.*:\t(7d 89 03 a6|a6 03 89 7d) \tmtctr   r12\n+.*:\t(4e 80 04 20|20 04 80 4e) \tbctr\n+#...\n+.*:\t(4b ff ff c1|c1 ff ff 4b) \tbl      .*\\.plt_call\\.f1>\n+.*:\t(e8 41 00 18|18 00 41 e8) \tld      r2,24\\(r1\\)\n+.*:\t(4b ff ff bd|bd ff ff 4b) \tbl      .*\\.plt_call\\.f1\\+0x4>\n+.*:\t(4b ff ff cd|cd ff ff 4b) \tbl      .*\\.plt_call\\.f2>\n+.*:\t(04 10 00 01|01 00 10 04) \tpld     r3,.*\n+.*:\t(e4 60 .. ..|.. .. 60 e4) \n+#pass"
    },
    {
      "sha": "a36eb3f84c35047ab457663aa30d8d57f9a86478",
      "filename": "ld/testsuite/ld-powerpc/callstub-1.s",
      "status": "added",
      "additions": 9,
      "deletions": 0,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/60d53d7f032ad7af09760afbaf01b2ec413f198a/ld/testsuite/ld-powerpc/callstub-1.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/60d53d7f032ad7af09760afbaf01b2ec413f198a/ld/testsuite/ld-powerpc/callstub-1.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-powerpc/callstub-1.s?ref=60d53d7f032ad7af09760afbaf01b2ec413f198a",
      "patch": "@@ -0,0 +1,9 @@\n+#notoc call stubs, pcrel insns\n+ .text\n+ .abiversion 2\n+_start:\n+ bl f1\n+ nop\n+ bl f1@notoc\n+ bl f2@notoc\n+ pld 3,ext@got@pcrel"
    },
    {
      "sha": "a8db9bd62256c4643cdb0ec89a6118c0dca042e7",
      "filename": "ld/testsuite/ld-powerpc/callstub-2.d",
      "status": "added",
      "additions": 35,
      "deletions": 0,
      "changes": 35,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/60d53d7f032ad7af09760afbaf01b2ec413f198a/ld/testsuite/ld-powerpc/callstub-2.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/60d53d7f032ad7af09760afbaf01b2ec413f198a/ld/testsuite/ld-powerpc/callstub-2.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-powerpc/callstub-2.d?ref=60d53d7f032ad7af09760afbaf01b2ec413f198a",
      "patch": "@@ -0,0 +1,35 @@\n+#as: -a64\n+#ld: -shared --plt-align=0 --hash-style=gnu\n+#objdump: -dr\n+\n+.*\n+\n+Disassembly of section \\.text:\n+\n+.*\\.plt_call\\.f1>:\n+.*:\t(f8 41 00 18|18 00 41 f8) \tstd     r2,24\\(r1\\)\n+.*:\t(7d 88 02 a6|a6 02 88 7d) \tmflr    r12\n+.*:\t(42 9f 00 05|05 00 9f 42) \tbcl     .*\n+.*:\t(7d 68 02 a6|a6 02 68 7d) \tmflr    r11\n+.*:\t(7d 88 03 a6|a6 03 88 7d) \tmtlr    r12\n+.*:\t(3d 8b 00 01|01 00 8b 3d) \taddis   r12,r11,1\n+.*:\t(e9 8c .. ..|.. .. 8c e9) \tld      r12,.*\\(r12\\)\n+.*:\t(7d 89 03 a6|a6 03 89 7d) \tmtctr   r12\n+.*:\t(4e 80 04 20|20 04 80 4e) \tbctr\n+\n+.*\\.plt_call\\.f2>:\n+.*:\t(7d 88 02 a6|a6 02 88 7d) \tmflr    r12\n+.*:\t(42 9f 00 05|05 00 9f 42) \tbcl     .*\n+.*:\t(7d 68 02 a6|a6 02 68 7d) \tmflr    r11\n+.*:\t(7d 88 03 a6|a6 03 88 7d) \tmtlr    r12\n+.*:\t(3d 8b 00 01|01 00 8b 3d) \taddis   r12,r11,1\n+.*:\t(e9 8c .. ..|.. .. 8c e9) \tld      r12,.*\\(r12\\)\n+.*:\t(7d 89 03 a6|a6 03 89 7d) \tmtctr   r12\n+.*:\t(4e 80 04 20|20 04 80 4e) \tbctr\n+\n+#...\n+.*:\t(4b ff ff bd|bd ff ff 4b) \tbl      .*\\.plt_call\\.f1>\n+.*:\t(e8 41 00 18|18 00 41 e8) \tld      r2,24\\(r1\\)\n+.*:\t(4b ff ff b9|b9 ff ff 4b) \tbl      .*\\.plt_call\\.f1\\+0x4>\n+.*:\t(4b ff ff d5|d5 ff ff 4b) \tbl      .*\\.plt_call\\.f2>\n+#pass"
    },
    {
      "sha": "f25ea0268c4f62a7713cc523dc4db872186a6c7a",
      "filename": "ld/testsuite/ld-powerpc/callstub-2.s",
      "status": "added",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/60d53d7f032ad7af09760afbaf01b2ec413f198a/ld/testsuite/ld-powerpc/callstub-2.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/60d53d7f032ad7af09760afbaf01b2ec413f198a/ld/testsuite/ld-powerpc/callstub-2.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-powerpc/callstub-2.s?ref=60d53d7f032ad7af09760afbaf01b2ec413f198a",
      "patch": "@@ -0,0 +1,8 @@\n+#notoc call stubs, no pcrel insns\n+ .text\n+ .abiversion 2\n+_start:\n+ bl f1\n+ nop\n+ bl f1@notoc\n+ bl f2@notoc"
    },
    {
      "sha": "e6c33332846bca9d37e8615f4edae180d83ed76e",
      "filename": "ld/testsuite/ld-powerpc/powerpc.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/60d53d7f032ad7af09760afbaf01b2ec413f198a/ld/testsuite/ld-powerpc/powerpc.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/60d53d7f032ad7af09760afbaf01b2ec413f198a/ld/testsuite/ld-powerpc/powerpc.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-powerpc/powerpc.exp?ref=60d53d7f032ad7af09760afbaf01b2ec413f198a",
      "patch": "@@ -341,6 +341,8 @@ if [ supports_ppc64 ] then {\n     run_dump_test \"dotsym3\"\n     run_dump_test \"dotsym4\"\n     run_dump_test \"pr23937\"\n+    run_dump_test \"callstub-1\"\n+    run_dump_test \"callstub-2\"\n }\n \n run_dump_test \"tlsld32\""
    }
  ]
}