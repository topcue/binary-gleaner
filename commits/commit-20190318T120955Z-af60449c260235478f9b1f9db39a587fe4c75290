{
  "sha": "af60449c260235478f9b1f9db39a587fe4c75290",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YWY2MDQ0OWMyNjAyMzU0NzhmOWIxZjlkYjM5YTU4N2ZlNGM3NTI5MA==",
  "commit": {
    "author": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2019-03-18T12:04:36Z"
    },
    "committer": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2019-03-18T12:09:55Z"
    },
    "message": "Use temp_ilp and restore_ilp in more places\n\n\t* as.c (macro_expr): Use temp_ilp and restore_ilp.\n\t* macro.c (buffer_and_nest): Likewise.\n\t* read.c (temp_ilp): Remove FIXME.",
    "tree": {
      "sha": "2bd898fb2084bbe4e83cd6587f1309a85c5b4ae2",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/2bd898fb2084bbe4e83cd6587f1309a85c5b4ae2"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/af60449c260235478f9b1f9db39a587fe4c75290",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/af60449c260235478f9b1f9db39a587fe4c75290",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/af60449c260235478f9b1f9db39a587fe4c75290",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/af60449c260235478f9b1f9db39a587fe4c75290/comments",
  "author": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "c6cdff46c9d35e0c811e179fc6642ed71473bc66",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/c6cdff46c9d35e0c811e179fc6642ed71473bc66",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/c6cdff46c9d35e0c811e179fc6642ed71473bc66"
    }
  ],
  "stats": {
    "total": 19,
    "additions": 8,
    "deletions": 11
  },
  "files": [
    {
      "sha": "bbd4a9cc977a7ce8560aadc759099b109d097dfc",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 3,
      "deletions": 0,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/af60449c260235478f9b1f9db39a587fe4c75290/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/af60449c260235478f9b1f9db39a587fe4c75290/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=af60449c260235478f9b1f9db39a587fe4c75290",
      "patch": "@@ -1,6 +1,9 @@\n 2019-03-18  Alan Modra  <amodra@gmail.com>\n \n \t* config/m68k-parse.y (yylex): Use temp_ilp and restore_ilp.\n+\t* as.c (macro_expr): Likewise.\n+\t* macro.c (buffer_and_nest): Likewise.\n+\t* read.c (temp_ilp): Remove FIXME.\n \n 2019-03-18  H.J. Lu  <hongjiu.lu@intel.com>\n "
    },
    {
      "sha": "c7bdf0cd8896c721f22439c46f0e0adfd2b9c5ff",
      "filename": "gas/as.c",
      "status": "modified",
      "additions": 2,
      "deletions": 4,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/af60449c260235478f9b1f9db39a587fe4c75290/gas/as.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/af60449c260235478f9b1f9db39a587fe4c75290/gas/as.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/as.c?ref=af60449c260235478f9b1f9db39a587fe4c75290",
      "patch": "@@ -1102,16 +1102,14 @@ close_output_file (void)\n static size_t\n macro_expr (const char *emsg, size_t idx, sb *in, offsetT *val)\n {\n-  char *hold;\n   expressionS ex;\n \n   sb_terminate (in);\n \n-  hold = input_line_pointer;\n-  input_line_pointer = in->ptr + idx;\n+  temp_ilp (in->ptr + idx);\n   expression_and_evaluate (&ex);\n   idx = input_line_pointer - in->ptr;\n-  input_line_pointer = hold;\n+  restore_ilp ();\n \n   if (ex.X_op != O_constant)\n     as_bad (\"%s\", emsg);"
    },
    {
      "sha": "b79d92214939c94bdf5633c86c77a7eba9a1ca9e",
      "filename": "gas/macro.c",
      "status": "modified",
      "additions": 2,
      "deletions": 3,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/af60449c260235478f9b1f9db39a587fe4c75290/gas/macro.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/af60449c260235478f9b1f9db39a587fe4c75290/gas/macro.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/macro.c?ref=af60449c260235478f9b1f9db39a587fe4c75290",
      "patch": "@@ -223,14 +223,13 @@ buffer_and_nest (const char *from, const char *to, sb *ptr,\n \t     anyway, there's not an obviously better fix here.  */\n \t  if (strncasecmp (ptr->ptr + i, \"linefile\", 8) == 0)\n \t    {\n-\t      char *saved_input_line_pointer = input_line_pointer;\n \t      char saved_eol_char = ptr->ptr[ptr->len];\n \n \t      ptr->ptr[ptr->len] = '\\0';\n-\t      input_line_pointer = ptr->ptr + i + 8;\n+\t      temp_ilp (ptr->ptr + i + 8);\n \t      s_app_line (0);\n+\t      restore_ilp ();\n \t      ptr->ptr[ptr->len] = saved_eol_char;\n-\t      input_line_pointer = saved_input_line_pointer;\n \t      ptr->len = line_start;\n \t    }\n \t}"
    },
    {
      "sha": "ac0048d832dd19508a15e456cfbbabbb2671e467",
      "filename": "gas/read.c",
      "status": "modified",
      "additions": 1,
      "deletions": 4,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/af60449c260235478f9b1f9db39a587fe4c75290/gas/read.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/af60449c260235478f9b1f9db39a587fe4c75290/gas/read.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/read.c?ref=af60449c260235478f9b1f9db39a587fe4c75290",
      "patch": "@@ -6213,10 +6213,7 @@ static char *saved_limit;\n    overruns should not occur.  Saves the current input line pointer so that\n    it can be restored by calling restore_ilp().\n \n-   Does not support recursion.\n-\n-   FIXME: This function is currently only used by stabs.c but that\n-   should be extended to other files in the gas source directory.  */\n+   Does not support recursion.  */\n \n void\n temp_ilp (char *buf)"
    }
  ]
}