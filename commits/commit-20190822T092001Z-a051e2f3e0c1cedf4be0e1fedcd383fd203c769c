{
  "sha": "a051e2f3e0c1cedf4be0e1fedcd383fd203c769c",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YTA1MWUyZjNlMGMxY2VkZjRiZTBlMWZlZGNkMzgzZmQyMDNjNzY5Yw==",
  "commit": {
    "author": {
      "name": "Kyrylo Tkachov",
      "email": "kyrylo.tkachov@arm.com",
      "date": "2019-08-22T09:20:01Z"
    },
    "committer": {
      "name": "Kyrylo Tkachov",
      "email": "kyrylo.tkachov@arm.com",
      "date": "2019-08-22T09:20:01Z"
    },
    "message": "[AArch64][gas] Update MTE system register encodings\n\nThe MTE specification adjusted the encoding of the TFSRE0_EL1, TFSR_EL1, TFSR_EL2, TFSR_EL3, TFSR_EL12 system registers.\nThis patch brings binutils up to date.\n\nThe references for the encodings are at:\nhttps://developer.arm.com/docs/ddi0595/latest/aarch64-system-registers/tfsre0_el1 (also contains TFSR_EL12 description)\nhttps://developer.arm.com/docs/ddi0595/latest/aarch64-system-registers/tfsr_el1\nhttps://developer.arm.com/docs/ddi0595/latest/aarch64-system-registers/tfsr_el2\nhttps://developer.arm.com/docs/ddi0595/latest/aarch64-system-registers/tfsr_el3\n\nTested check-gas for aarch64-none-elf.\n\nopcodes/\n\n\t* aarch64-opc.c (aarch64_sys_regs): Update encoding of tfsre0_el1,\n\ttfsr_el1, tfsr_el2, tfsr_el3, tfsr_el12.\n\t(aarch64_sys_reg_supported_p): Update checks for the above.\n\ngas/\n\n    * testsuite/gas/aarch64/sysreg-4.d: Update expected disassembly for\n    tfsre0_el1, tfsr_el1, tfsr_el2, tfsr_el3, tfsr_el12 system registers.",
    "tree": {
      "sha": "6683cd0307952826230ed8d7319ce0f67a082592",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/6683cd0307952826230ed8d7319ce0f67a082592"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/a051e2f3e0c1cedf4be0e1fedcd383fd203c769c",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/a051e2f3e0c1cedf4be0e1fedcd383fd203c769c",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/a051e2f3e0c1cedf4be0e1fedcd383fd203c769c",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/a051e2f3e0c1cedf4be0e1fedcd383fd203c769c/comments",
  "author": {
    "login": "ktkachov-arm",
    "id": 74917949,
    "node_id": "MDQ6VXNlcjc0OTE3OTQ5",
    "avatar_url": "https://avatars.githubusercontent.com/u/74917949?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ktkachov-arm",
    "html_url": "https://github.com/ktkachov-arm",
    "followers_url": "https://api.github.com/users/ktkachov-arm/followers",
    "following_url": "https://api.github.com/users/ktkachov-arm/following{/other_user}",
    "gists_url": "https://api.github.com/users/ktkachov-arm/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ktkachov-arm/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ktkachov-arm/subscriptions",
    "organizations_url": "https://api.github.com/users/ktkachov-arm/orgs",
    "repos_url": "https://api.github.com/users/ktkachov-arm/repos",
    "events_url": "https://api.github.com/users/ktkachov-arm/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ktkachov-arm/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "ktkachov-arm",
    "id": 74917949,
    "node_id": "MDQ6VXNlcjc0OTE3OTQ5",
    "avatar_url": "https://avatars.githubusercontent.com/u/74917949?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ktkachov-arm",
    "html_url": "https://github.com/ktkachov-arm",
    "followers_url": "https://api.github.com/users/ktkachov-arm/followers",
    "following_url": "https://api.github.com/users/ktkachov-arm/following{/other_user}",
    "gists_url": "https://api.github.com/users/ktkachov-arm/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ktkachov-arm/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ktkachov-arm/subscriptions",
    "organizations_url": "https://api.github.com/users/ktkachov-arm/orgs",
    "repos_url": "https://api.github.com/users/ktkachov-arm/repos",
    "events_url": "https://api.github.com/users/ktkachov-arm/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ktkachov-arm/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "baf46cd78048e1b959462567556e1de1ef6b9039",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/baf46cd78048e1b959462567556e1de1ef6b9039",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/baf46cd78048e1b959462567556e1de1ef6b9039"
    }
  ],
  "stats": {
    "total": 51,
    "additions": 31,
    "deletions": 20
  },
  "files": [
    {
      "sha": "080f2fe5edc60a9079fac522f11f9f0cc73690b7",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a051e2f3e0c1cedf4be0e1fedcd383fd203c769c/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a051e2f3e0c1cedf4be0e1fedcd383fd203c769c/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=a051e2f3e0c1cedf4be0e1fedcd383fd203c769c",
      "patch": "@@ -1,3 +1,8 @@\n+2019-08-22  Kyrylo Tkachov <kyrylo.tkachov@arm.com>\n+\n+\t* testsuite/gas/aarch64/sysreg-4.d: Update expected disassembly for\n+\ttfsre0_el1, tfsr_el1, tfsr_el2, tfsr_el3, tfsr_el12 system registers.\n+\n 2019-08-20  Dennis Zhang  <dennis.zhang@arm.com>\n \n \t* NEWS: Mention the Arm and AArch64 new processors."
    },
    {
      "sha": "c25536d6ca5a7e882df29951d698ec861cfb13bb",
      "filename": "gas/testsuite/gas/aarch64/sysreg-4.d",
      "status": "modified",
      "additions": 10,
      "deletions": 10,
      "changes": 20,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a051e2f3e0c1cedf4be0e1fedcd383fd203c769c/gas/testsuite/gas/aarch64/sysreg-4.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a051e2f3e0c1cedf4be0e1fedcd383fd203c769c/gas/testsuite/gas/aarch64/sysreg-4.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/aarch64/sysreg-4.d?ref=a051e2f3e0c1cedf4be0e1fedcd383fd203c769c",
      "patch": "@@ -21,21 +21,21 @@ Disassembly of section \\.text:\n .*:\td5380388 \tmrs\tx8, id_pfr2_el1\n .*:\td53b42e1 \tmrs\tx1, tco\n .*:\td53b42e2 \tmrs\tx2, tco\n-.*:\td5386621 \tmrs\tx1, tfsre0_el1\n-.*:\td5386501 \tmrs\tx1, tfsr_el1\n-.*:\td53c6502 \tmrs\tx2, tfsr_el2\n-.*:\td53e6603 \tmrs\tx3, tfsr_el3\n-.*:\td53d660c \tmrs\tx12, tfsr_el12\n+.*:\td5385621 \tmrs\tx1, tfsre0_el1\n+.*:\td5385601 \tmrs\tx1, tfsr_el1\n+.*:\td53c5602 \tmrs\tx2, tfsr_el2\n+.*:\td53e5603 \tmrs\tx3, tfsr_el3\n+.*:\td53d560c \tmrs\tx12, tfsr_el12\n .*:\td53810a1 \tmrs\tx1, rgsr_el1\n .*:\td53810c3 \tmrs\tx3, gcr_el1\n .*:\td5390084 \tmrs\tx4, gmid_el1\n .*:\td51b42e1 \tmsr\ttco, x1\n .*:\td51b42e2 \tmsr\ttco, x2\n-.*:\td5186621 \tmsr\ttfsre0_el1, x1\n-.*:\td5186501 \tmsr\ttfsr_el1, x1\n-.*:\td51c6502 \tmsr\ttfsr_el2, x2\n-.*:\td51e6603 \tmsr\ttfsr_el3, x3\n-.*:\td51d660c \tmsr\ttfsr_el12, x12\n+.*:\td5185621 \tmsr\ttfsre0_el1, x1\n+.*:\td5185601 \tmsr\ttfsr_el1, x1\n+.*:\td51c5602 \tmsr\ttfsr_el2, x2\n+.*:\td51e5603 \tmsr\ttfsr_el3, x3\n+.*:\td51d560c \tmsr\ttfsr_el12, x12\n .*:\td51810a1 \tmsr\trgsr_el1, x1\n .*:\td51810c3 \tmsr\tgcr_el1, x3\n .*:\td503489f \tmsr\ttco, #0x8"
    },
    {
      "sha": "0017bd47f51e6d223c0546babed3c067bce20926",
      "filename": "opcodes/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a051e2f3e0c1cedf4be0e1fedcd383fd203c769c/opcodes/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a051e2f3e0c1cedf4be0e1fedcd383fd203c769c/opcodes/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/ChangeLog?ref=a051e2f3e0c1cedf4be0e1fedcd383fd203c769c",
      "patch": "@@ -1,3 +1,9 @@\n+2019-08-22  Kyrylo Tkachov <kyrylo.tkachov@arm.com>\n+\n+\t* aarch64-opc.c (aarch64_sys_regs): Update encoding of tfsre0_el1,\n+\ttfsr_el1, tfsr_el2, tfsr_el3, tfsr_el12.\n+\t(aarch64_sys_reg_supported_p): Update checks for the above.\n+\n 2019-08-12  Srinath Parvathaneni  <srinath.parvathaneni@arm.com>\n \n \t* arm-dis.c (struct mopcode32 mve_opcodes): Modify the mask for"
    },
    {
      "sha": "2e205e56a66f1c60c565e12e257f2f2a8b5b8cdb",
      "filename": "opcodes/aarch64-opc.c",
      "status": "modified",
      "additions": 10,
      "deletions": 10,
      "changes": 20,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a051e2f3e0c1cedf4be0e1fedcd383fd203c769c/opcodes/aarch64-opc.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a051e2f3e0c1cedf4be0e1fedcd383fd203c769c/opcodes/aarch64-opc.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/aarch64-opc.c?ref=a051e2f3e0c1cedf4be0e1fedcd383fd203c769c",
      "patch": "@@ -3966,11 +3966,11 @@ const aarch64_sys_reg aarch64_sys_regs [] =\n   { \"rndr\",\t\tCPENC(3,3,C2,C4,0), F_ARCHEXT | F_REG_READ }, /* RO */\n   { \"rndrrs\",\t\tCPENC(3,3,C2,C4,1), F_ARCHEXT | F_REG_READ }, /* RO */\n   { \"tco\",\t\tCPENC(3,3,C4,C2,7), F_ARCHEXT },\n-  { \"tfsre0_el1\",\tCPENC(3,0,C6,C6,1), F_ARCHEXT },\n-  { \"tfsr_el1\",\t\tCPENC(3,0,C6,C5,0), F_ARCHEXT },\n-  { \"tfsr_el2\",\t\tCPENC(3,4,C6,C5,0), F_ARCHEXT },\n-  { \"tfsr_el3\",\t\tCPENC(3,6,C6,C6,0), F_ARCHEXT },\n-  { \"tfsr_el12\",\tCPENC(3,5,C6,C6,0), F_ARCHEXT },\n+  { \"tfsre0_el1\",\tCPENC(3,0,C5,C6,1), F_ARCHEXT },\n+  { \"tfsr_el1\",\t\tCPENC(3,0,C5,C6,0), F_ARCHEXT },\n+  { \"tfsr_el2\",\t\tCPENC(3,4,C5,C6,0), F_ARCHEXT },\n+  { \"tfsr_el3\",\t\tCPENC(3,6,C5,C6,0), F_ARCHEXT },\n+  { \"tfsr_el12\",\tCPENC(3,5,C5,C6,0), F_ARCHEXT },\n   { \"rgsr_el1\",\t\tCPENC(3,0,C1,C0,5), F_ARCHEXT },\n   { \"gcr_el1\",\t\tCPENC(3,0,C1,C0,6), F_ARCHEXT },\n   { \"gmid_el1\",\t\tCPENC(3,1,C0,C0,4), F_ARCHEXT | F_REG_READ }, /* RO */\n@@ -4439,11 +4439,11 @@ aarch64_sys_reg_supported_p (const aarch64_feature_set features,\n \n   /* System Registers in ARMv8.5-A with AARCH64_FEATURE_MEMTAG.  */\n   if ((reg->value == CPENC (3, 3, C4, C2, 7)\n-       || reg->value == CPENC (3, 0, C6, C6, 1)\n-       || reg->value == CPENC (3, 0, C6, C5, 0)\n-       || reg->value == CPENC (3, 4, C6, C5, 0)\n-       || reg->value == CPENC (3, 6, C6, C6, 0)\n-       || reg->value == CPENC (3, 5, C6, C6, 0)\n+       || reg->value == CPENC (3, 0, C5, C6, 1)\n+       || reg->value == CPENC (3, 0, C5, C6, 0)\n+       || reg->value == CPENC (3, 4, C5, C6, 0)\n+       || reg->value == CPENC (3, 6, C5, C6, 0)\n+       || reg->value == CPENC (3, 5, C5, C6, 0)\n        || reg->value == CPENC (3, 0, C1, C0, 5)\n        || reg->value == CPENC (3, 0, C1, C0, 6)\n        || reg->value == CPENC (3, 1, C0, C0, 4))"
    }
  ]
}