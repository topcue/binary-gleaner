{
  "sha": "5d0b3088f75d2620eb87d5615a2637918d135491",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NWQwYjMwODhmNzVkMjYyMGViODdkNTYxNWEyNjM3OTE4ZDEzNTQ5MQ==",
  "commit": {
    "author": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-06-26T14:49:32Z"
    },
    "committer": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-06-27T05:21:47Z"
    },
    "message": "sim: erc32: merge with common configure script\n\nMove the unique library tests to the common code so we can delete\nthe erc32 configure logic entirely.",
    "tree": {
      "sha": "c23d8ca87ee9d50e4f43b863370385f3c3b686ff",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/c23d8ca87ee9d50e4f43b863370385f3c3b686ff"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/5d0b3088f75d2620eb87d5615a2637918d135491",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/5d0b3088f75d2620eb87d5615a2637918d135491",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/5d0b3088f75d2620eb87d5615a2637918d135491",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/5d0b3088f75d2620eb87d5615a2637918d135491/comments",
  "author": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "d57b6533281b33d74d8820f44bc2f76d36ead4b2",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/d57b6533281b33d74d8820f44bc2f76d36ead4b2",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/d57b6533281b33d74d8820f44bc2f76d36ead4b2"
    }
  ],
  "stats": {
    "total": 4518,
    "additions": 213,
    "deletions": 4305
  },
  "files": [
    {
      "sha": "d63e656cb33a991a678f45cee8c8d200c9243aaf",
      "filename": "sim/ChangeLog",
      "status": "modified",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5d0b3088f75d2620eb87d5615a2637918d135491/sim/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5d0b3088f75d2620eb87d5615a2637918d135491/sim/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ChangeLog?ref=5d0b3088f75d2620eb87d5615a2637918d135491",
      "patch": "@@ -1,3 +1,11 @@\n+2021-06-27  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* arch-subdir.mk.in: Move TERMCAP and READLINE variables from\n+\terc32/Makefile.in.\n+\t* configure.ac: Remove [true] from erc32 SIM_TARGET call.\n+\t* m4/sim_ac_platform.m4: Check for cygwin, termcap, and readline.\n+\t* configure, Makefile.in: Regenerate.\n+\n 2021-06-27  Mike Frysinger  <vapier@gentoo.org>\n \n \t* arch-subdir.mk.in: Move SDL_CFLAGS & SDL_LIBS from bfin/Makefile.in."
    },
    {
      "sha": "047d548bb7bb3b11b577a686ed1a89078b74a567",
      "filename": "sim/Makefile.in",
      "status": "modified",
      "additions": 7,
      "deletions": 1,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5d0b3088f75d2620eb87d5615a2637918d135491/sim/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5d0b3088f75d2620eb87d5615a2637918d135491/sim/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/Makefile.in?ref=5d0b3088f75d2620eb87d5615a2637918d135491",
      "patch": "@@ -233,7 +233,8 @@ CONFIG_CLEAN_FILES = Make-common.sim aarch64/Makefile.sim \\\n \tm32c/Makefile.sim m68hc11/Makefile.sim mcore/Makefile.sim \\\n \tmicroblaze/Makefile.sim moxie/Makefile.sim msp430/Makefile.sim \\\n \tpru/Makefile.sim rl78/Makefile.sim rx/Makefile.sim \\\n-\tsh/Makefile.sim example-synacor/Makefile.sim arch-subdir.mk\n+\tsh/Makefile.sim erc32/Makefile.sim \\\n+\texample-synacor/Makefile.sim arch-subdir.mk\n CONFIG_CLEAN_VPATH_FILES =\n LIBRARIES = $(noinst_LIBRARIES)\n ARFLAGS = cru\n@@ -709,6 +710,8 @@ PKG_CONFIG_PATH = @PKG_CONFIG_PATH@\n POSUB = @POSUB@\n RANLIB = @RANLIB@\n RANLIB_FOR_BUILD = @RANLIB_FOR_BUILD@\n+READLINE_CFLAGS = @READLINE_CFLAGS@\n+READLINE_LIB = @READLINE_LIB@\n REPORT_BUGS_TEXI = @REPORT_BUGS_TEXI@\n REPORT_BUGS_TO = @REPORT_BUGS_TO@\n SDL_CFLAGS = @SDL_CFLAGS@\n@@ -723,6 +726,7 @@ SIM_PRIMARY_TARGET = @SIM_PRIMARY_TARGET@\n SIM_RX_CYCLE_ACCURATE_FLAGS = @SIM_RX_CYCLE_ACCURATE_FLAGS@\n SIM_SUBDIRS = @SIM_SUBDIRS@\n STRIP = @STRIP@\n+TERMCAP_LIB = @TERMCAP_LIB@\n USE_NLS = @USE_NLS@\n VERSION = @VERSION@\n WARN_CFLAGS = @WARN_CFLAGS@\n@@ -977,6 +981,8 @@ rx/Makefile.sim: $(top_builddir)/config.status $(top_srcdir)/rx/Makefile.in\n \tcd $(top_builddir) && $(SHELL) ./config.status $@\n sh/Makefile.sim: $(top_builddir)/config.status $(top_srcdir)/sh/Makefile.in\n \tcd $(top_builddir) && $(SHELL) ./config.status $@\n+erc32/Makefile.sim: $(top_builddir)/config.status $(top_srcdir)/erc32/Makefile.in\n+\tcd $(top_builddir) && $(SHELL) ./config.status $@\n example-synacor/Makefile.sim: $(top_builddir)/config.status $(top_srcdir)/example-synacor/Makefile.in\n \tcd $(top_builddir) && $(SHELL) ./config.status $@\n arch-subdir.mk: $(top_builddir)/config.status $(srcdir)/arch-subdir.mk.in"
    },
    {
      "sha": "efd91e76b1c3939a748970cc1367c33c0174c77e",
      "filename": "sim/arch-subdir.mk.in",
      "status": "modified",
      "additions": 3,
      "deletions": 0,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5d0b3088f75d2620eb87d5615a2637918d135491/sim/arch-subdir.mk.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5d0b3088f75d2620eb87d5615a2637918d135491/sim/arch-subdir.mk.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/arch-subdir.mk.in?ref=5d0b3088f75d2620eb87d5615a2637918d135491",
      "patch": "@@ -51,6 +51,9 @@ LIBINTL_DEP = @LIBINTL_DEP@\n INTL_CFLAGS = @INCINTL@\n SDL_CFLAGS = @SDL_CFLAGS@\n SDL_LIBS = @SDL_LIBS@\n+TERMCAP_LIB = @TERMCAP_LIB@\n+READLINE_LIB = @READLINE_LIB@\n+READLINE_CFLAGS = @READLINE_CFLAGS@\n \n COMMON_LIBS = @LIBS@\n WARN_CFLAGS = @WARN_CFLAGS@"
    },
    {
      "sha": "34cd1c9e8a2453b1d1687fee92221d742ef22e7e",
      "filename": "sim/configure",
      "status": "modified",
      "additions": 161,
      "deletions": 4,
      "changes": 165,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5d0b3088f75d2620eb87d5615a2637918d135491/sim/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5d0b3088f75d2620eb87d5615a2637918d135491/sim/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/configure?ref=5d0b3088f75d2620eb87d5615a2637918d135491",
      "patch": "@@ -694,6 +694,9 @@ am__isrc\n MAINT\n MAINTAINER_MODE_FALSE\n MAINTAINER_MODE_TRUE\n+READLINE_CFLAGS\n+READLINE_LIB\n+TERMCAP_LIB\n SDL_LIBS\n SDL_CFLAGS\n lt_cv_dlopen_libs\n@@ -870,7 +873,6 @@ mips\n mn10300\n or1k\n riscv\n-erc32\n ppc\n v850'\n \n@@ -12178,7 +12180,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 12181 \"configure\"\n+#line 12183 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -12284,7 +12286,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 12287 \"configure\"\n+#line 12289 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -12846,6 +12848,144 @@ fi\n \n \n \n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for cygwin\" >&5\n+$as_echo_n \"checking for cygwin... \" >&6; }\n+if ${sim_cv_os_cygwin+:} false; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+\n+#ifdef __CYGWIN__\n+lose\n+#endif\n+_ACEOF\n+if (eval \"$ac_cpp conftest.$ac_ext\") 2>&5 |\n+  $EGREP \"lose\" >/dev/null 2>&1; then :\n+  sim_cv_os_cygwin=yes\n+else\n+  sim_cv_os_cygwin=no\n+fi\n+rm -f conftest*\n+\n+fi\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $sim_cv_os_cygwin\" >&5\n+$as_echo \"$sim_cv_os_cygwin\" >&6; }\n+\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for library containing tgetent\" >&5\n+$as_echo_n \"checking for library containing tgetent... \" >&6; }\n+if ${ac_cv_search_tgetent+:} false; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  ac_func_search_save_LIBS=$LIBS\n+cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+\n+/* Override any GCC internal prototype to avoid an error.\n+   Use char because int might match the return type of a GCC\n+   builtin and then its argument prototype would still apply.  */\n+#ifdef __cplusplus\n+extern \"C\"\n+#endif\n+char tgetent ();\n+int\n+main ()\n+{\n+return tgetent ();\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+for ac_lib in '' termcap tinfo curses ncurses; do\n+  if test -z \"$ac_lib\"; then\n+    ac_res=\"none required\"\n+  else\n+    ac_res=-l$ac_lib\n+    LIBS=\"-l$ac_lib  $ac_func_search_save_LIBS\"\n+  fi\n+  if ac_fn_c_try_link \"$LINENO\"; then :\n+  ac_cv_search_tgetent=$ac_res\n+fi\n+rm -f core conftest.err conftest.$ac_objext \\\n+    conftest$ac_exeext\n+  if ${ac_cv_search_tgetent+:} false; then :\n+  break\n+fi\n+done\n+if ${ac_cv_search_tgetent+:} false; then :\n+\n+else\n+  ac_cv_search_tgetent=no\n+fi\n+rm conftest.$ac_ext\n+LIBS=$ac_func_search_save_LIBS\n+fi\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_tgetent\" >&5\n+$as_echo \"$ac_cv_search_tgetent\" >&6; }\n+ac_res=$ac_cv_search_tgetent\n+if test \"$ac_res\" != no; then :\n+  test \"$ac_res\" = \"none required\" || LIBS=\"$ac_res $LIBS\"\n+  TERMCAP_LIB=$ac_cv_search_tgetent\n+else\n+  TERMCAP_LIB=\"\"\n+fi\n+\n+if test x$sim_cv_os_cygwin = xyes; then\n+  TERMCAP_LIB=\"${TERMCAP_LIB} -luser32\"\n+fi\n+\n+\n+if test -r ../readline/Makefile; then\n+  READLINE_LIB=../../readline/readline/libreadline.a\n+  READLINE_CFLAGS='-I$(READLINE_SRC)/..'\n+else\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for readline in -lreadline\" >&5\n+$as_echo_n \"checking for readline in -lreadline... \" >&6; }\n+if ${ac_cv_lib_readline_readline+:} false; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  ac_check_lib_save_LIBS=$LIBS\n+LIBS=\"-lreadline $TERMCAP_LIB $LIBS\"\n+cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+\n+/* Override any GCC internal prototype to avoid an error.\n+   Use char because int might match the return type of a GCC\n+   builtin and then its argument prototype would still apply.  */\n+#ifdef __cplusplus\n+extern \"C\"\n+#endif\n+char readline ();\n+int\n+main ()\n+{\n+return readline ();\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+if ac_fn_c_try_link \"$LINENO\"; then :\n+  ac_cv_lib_readline_readline=yes\n+else\n+  ac_cv_lib_readline_readline=no\n+fi\n+rm -f core conftest.err conftest.$ac_objext \\\n+    conftest$ac_exeext conftest.$ac_ext\n+LIBS=$ac_check_lib_save_LIBS\n+fi\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_readline_readline\" >&5\n+$as_echo \"$ac_cv_lib_readline_readline\" >&6; }\n+if test \"x$ac_cv_lib_readline_readline\" = xyes; then :\n+  READLINE_LIB=-lreadline\n+else\n+  as_fn_error $? \"the required \\\"readline\\\" library is missing\" \"$LINENO\" 5\n+fi\n+\n+  READLINE_CFLAGS=\n+fi\n+\n+\n+\n \n \n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n@@ -14058,8 +14198,11 @@ subdirs=\"$subdirs bfin\"\n       if test \"${targ}\" = \"${target}\"; then\n         SIM_PRIMARY_TARGET=erc32\n       fi\n-            subdirs=\"$subdirs erc32\"\n+            ac_config_files=\"$ac_config_files erc32/Makefile.sim:erc32/Makefile.in\"\n+\n+    ac_config_commands=\"$ac_config_commands erc32/Makefile\"\n \n+    as_fn_append SIM_SUBDIRS \" erc32\"\n \n     ac_config_commands=\"$ac_config_commands depdir-erc32\"\n \n@@ -15651,6 +15794,8 @@ do\n     \"sh/Makefile.sim\") CONFIG_FILES=\"$CONFIG_FILES sh/Makefile.sim:sh/Makefile.in\" ;;\n     \"sh/Makefile\") CONFIG_COMMANDS=\"$CONFIG_COMMANDS sh/Makefile\" ;;\n     \"depdir-sh\") CONFIG_COMMANDS=\"$CONFIG_COMMANDS depdir-sh\" ;;\n+    \"erc32/Makefile.sim\") CONFIG_FILES=\"$CONFIG_FILES erc32/Makefile.sim:erc32/Makefile.in\" ;;\n+    \"erc32/Makefile\") CONFIG_COMMANDS=\"$CONFIG_COMMANDS erc32/Makefile\" ;;\n     \"depdir-erc32\") CONFIG_COMMANDS=\"$CONFIG_COMMANDS depdir-erc32\" ;;\n     \"depdir-ppc\") CONFIG_COMMANDS=\"$CONFIG_COMMANDS depdir-ppc\" ;;\n     \"depdir-v850\") CONFIG_COMMANDS=\"$CONFIG_COMMANDS depdir-v850\" ;;\n@@ -17218,6 +17363,18 @@ $as_echo X\"$file\" |\n  rm -f sh/Makesim1.tmp sh/Makesim2.tmp\n  ;;\n     \"depdir-sh\":C) $SHELL $ac_aux_dir/mkinstalldirs sh/$DEPDIR ;;\n+    \"erc32/Makefile\":C) sed -n \\\n+\t-e '/^## COMMON_PRE_/,/^## End COMMON_PRE_/ {\n+\t\t/^srcdir = / s:$:/erc32:\n+\t\tp\n+\t}' \\\n+\t<Make-common.sim >erc32/Makesim1.tmp\n+ sed -n -e '/^## COMMON_POST_/,/^## End COMMON_POST_/ p' <Make-common.sim >erc32/Makesim2.tmp\n+ sed -e '/^## COMMON_PRE_/ r erc32/Makesim1.tmp' \\\n+\t-e '/^## COMMON_POST_/ r erc32/Makesim2.tmp' \\\n+\t<erc32/Makefile.sim >erc32/Makefile\n+ rm -f erc32/Makesim1.tmp erc32/Makesim2.tmp\n+ ;;\n     \"depdir-erc32\":C) $SHELL $ac_aux_dir/mkinstalldirs erc32/$DEPDIR ;;\n     \"depdir-ppc\":C) $SHELL $ac_aux_dir/mkinstalldirs ppc/$DEPDIR ;;\n     \"depdir-v850\":C) $SHELL $ac_aux_dir/mkinstalldirs v850/$DEPDIR ;;"
    },
    {
      "sha": "15b2b65c87e87d77414ce51f2b211574305d803e",
      "filename": "sim/configure.ac",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5d0b3088f75d2620eb87d5615a2637918d135491/sim/configure.ac",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5d0b3088f75d2620eb87d5615a2637918d135491/sim/configure.ac",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/configure.ac?ref=5d0b3088f75d2620eb87d5615a2637918d135491",
      "patch": "@@ -139,7 +139,7 @@ if test \"${enable_sim}\" != no; then\n     SIM_TARGET([rl78-*-*], [rl78])\n     SIM_TARGET([rx-*-*], [rx])\n     SIM_TARGET([sh*-*-*], [sh])\n-    SIM_TARGET([sparc-*-rtems*|sparc-*-elf*], [erc32], [true])\n+    SIM_TARGET([sparc-*-rtems*|sparc-*-elf*], [erc32])\n     SIM_TARGET([powerpc*-*-*], [ppc], [true])\n     SIM_TARGET([v850*-*-*], [v850], [true], [sim_igen=yes])\n   done"
    },
    {
      "sha": "15296c1041681cd6a1a239cfa2a90f9727a228fb",
      "filename": "sim/erc32/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5d0b3088f75d2620eb87d5615a2637918d135491/sim/erc32/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5d0b3088f75d2620eb87d5615a2637918d135491/sim/erc32/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/erc32/ChangeLog?ref=5d0b3088f75d2620eb87d5615a2637918d135491",
      "patch": "@@ -1,3 +1,8 @@\n+2021-06-27  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* Makefile.in: Delete TERMCAP_LIB, READLINE_LIB, and READLINE_CFLAGS.\n+\t* aclocal.m4, configure, configure.ac: Removed.\n+\n 2021-06-22  Mike Frysinger  <vapier@gentoo.org>\n \n \t* configure: Regenerate."
    },
    {
      "sha": "9ca0e3519a275c2f8bf1a299d50bc046e042fc5d",
      "filename": "sim/erc32/Makefile.in",
      "status": "modified",
      "additions": 0,
      "deletions": 4,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5d0b3088f75d2620eb87d5615a2637918d135491/sim/erc32/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5d0b3088f75d2620eb87d5615a2637918d135491/sim/erc32/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/erc32/Makefile.in?ref=5d0b3088f75d2620eb87d5615a2637918d135491",
      "patch": "@@ -18,11 +18,7 @@\n \n ## COMMON_PRE_CONFIG_FRAG\n \n-TERMCAP_LIB = @TERMCAP@\n-\n READLINE_SRC = $(srcroot)/readline/readline\n-READLINE_LIB = @READLINE@\n-READLINE_CFLAGS = @READLINE_CFLAGS@\n \n SIM_OBJS = exec.o erc32.o func.o help.o float.o interf.o\n SIM_RUN_OBJS = sis.o"
    },
    {
      "sha": "c9414d4680f1db90e5d5f6f1d4e8f0ee2eeb0f35",
      "filename": "sim/erc32/aclocal.m4",
      "status": "removed",
      "additions": 0,
      "deletions": 15,
      "changes": 15,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/d57b6533281b33d74d8820f44bc2f76d36ead4b2/sim/erc32/aclocal.m4",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/d57b6533281b33d74d8820f44bc2f76d36ead4b2/sim/erc32/aclocal.m4",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/erc32/aclocal.m4?ref=d57b6533281b33d74d8820f44bc2f76d36ead4b2",
      "patch": "@@ -1,15 +0,0 @@\n-# generated automatically by aclocal 1.15.1 -*- Autoconf -*-\n-\n-# Copyright (C) 1996-2017 Free Software Foundation, Inc.\n-\n-# This file is free software; the Free Software Foundation\n-# gives unlimited permission to copy and/or distribute it,\n-# with or without modifications, as long as this notice is preserved.\n-\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY, to the extent permitted by law; without\n-# even the implied warranty of MERCHANTABILITY or FITNESS FOR A\n-# PARTICULAR PURPOSE.\n-\n-m4_ifndef([AC_CONFIG_MACRO_DIRS], [m4_defun([_AM_CONFIG_MACRO_DIRS], [])m4_defun([AC_CONFIG_MACRO_DIRS], [_AM_CONFIG_MACRO_DIRS($@)])])\n-m4_include([../m4/sim_ac_output.m4])"
    },
    {
      "sha": "8ee472c261dccb53125333fc1e379bc1f7b7dd9c",
      "filename": "sim/erc32/configure",
      "status": "removed",
      "additions": 0,
      "deletions": 4233,
      "changes": 4233,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/d57b6533281b33d74d8820f44bc2f76d36ead4b2/sim/erc32/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/d57b6533281b33d74d8820f44bc2f76d36ead4b2/sim/erc32/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/erc32/configure?ref=d57b6533281b33d74d8820f44bc2f76d36ead4b2"
    },
    {
      "sha": "db6b98efa2e4700af40c011cfbade2083db9ee5c",
      "filename": "sim/erc32/configure.ac",
      "status": "removed",
      "additions": 0,
      "deletions": 47,
      "changes": 47,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/d57b6533281b33d74d8820f44bc2f76d36ead4b2/sim/erc32/configure.ac",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/d57b6533281b33d74d8820f44bc2f76d36ead4b2/sim/erc32/configure.ac",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/erc32/configure.ac?ref=d57b6533281b33d74d8820f44bc2f76d36ead4b2",
      "patch": "@@ -1,47 +0,0 @@\n-dnl Copyright (C) 1996-2021 Free Software Foundation, Inc.\n-dnl\n-dnl This program is free software; you can redistribute it and/or modify\n-dnl it under the terms of the GNU General Public License as published by\n-dnl the Free Software Foundation; either version 3 of the License, or\n-dnl (at your option) any later version.\n-dnl\n-dnl This program is distributed in the hope that it will be useful,\n-dnl but WITHOUT ANY WARRANTY; without even the implied warranty of\n-dnl MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-dnl GNU General Public License for more details.\n-dnl\n-dnl You should have received a copy of the GNU General Public License\n-dnl along with this program.  If not, see <http://www.gnu.org/licenses/>.\n-\n-dnl Process this file with autoconf to produce a configure script.\n-AC_INIT(Makefile.in)\n-AC_CONFIG_MACRO_DIRS([../m4 ../.. ../../config])\n-\n-# In the Cygwin environment, we need some additional flags.\n-AC_CACHE_CHECK([for cygwin], sim_cv_os_cygwin,\n-[AC_EGREP_CPP(lose, [\n-#ifdef __CYGWIN__\n-lose\n-#endif],[sim_cv_os_cygwin=yes],[sim_cv_os_cygwin=no])])\n-\n-# Keep in sync with gdb's configure.ac list.\n-AC_SEARCH_LIBS(tgetent, [termcap tinfo curses ncurses],\n-  [TERMCAP=$ac_cv_search_tgetent], [TERMCAP=\"\"])\n-if test x$sim_cv_os_cygwin = xyes; then\n-  TERMCAP=\"${TERMCAP} -luser32\"\n-fi\n-AC_SUBST(TERMCAP)\n-\n-# We prefer the in-tree readline.  Top-level dependencies make sure\n-# src/readline (if it's there) is configured before src/sim.\n-if test -r ../../readline/Makefile; then\n-  READLINE=../../readline/readline/libreadline.a\n-  READLINE_CFLAGS='-I$(READLINE_SRC)/..'\n-else\n-  AC_CHECK_LIB(readline, readline, READLINE=-lreadline,\n-\t       AC_ERROR([the required \"readline\" library is missing]), $TERMCAP)\n-  READLINE_CFLAGS=\n-fi\n-AC_SUBST(READLINE)\n-AC_SUBST(READLINE_CFLAGS)\n-SIM_AC_OUTPUT"
    },
    {
      "sha": "b0abe62a51f326c4e7d3d5ca8ce75c85ef9e1249",
      "filename": "sim/m4/sim_ac_platform.m4",
      "status": "modified",
      "additions": 28,
      "deletions": 0,
      "changes": 28,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5d0b3088f75d2620eb87d5615a2637918d135491/sim/m4/sim_ac_platform.m4",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5d0b3088f75d2620eb87d5615a2637918d135491/sim/m4/sim_ac_platform.m4",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/m4/sim_ac_platform.m4?ref=5d0b3088f75d2620eb87d5615a2637918d135491",
      "patch": "@@ -171,4 +171,32 @@ PKG_CHECK_MODULES(SDL, sdl, [dnl\n   ], [:])\n AC_SUBST(SDL_CFLAGS)\n AC_SUBST(SDL_LIBS)\n+\n+dnl In the Cygwin environment, we need some additional flags.\n+AC_CACHE_CHECK([for cygwin], sim_cv_os_cygwin,\n+[AC_EGREP_CPP(lose, [\n+#ifdef __CYGWIN__\n+lose\n+#endif],[sim_cv_os_cygwin=yes],[sim_cv_os_cygwin=no])])\n+\n+dnl Keep in sync with gdb's configure.ac list.\n+AC_SEARCH_LIBS(tgetent, [termcap tinfo curses ncurses],\n+  [TERMCAP_LIB=$ac_cv_search_tgetent], [TERMCAP_LIB=\"\"])\n+if test x$sim_cv_os_cygwin = xyes; then\n+  TERMCAP_LIB=\"${TERMCAP_LIB} -luser32\"\n+fi\n+AC_SUBST(TERMCAP_LIB)\n+\n+dnl We prefer the in-tree readline.  Top-level dependencies make sure\n+dnl src/readline (if it's there) is configured before src/sim.\n+if test -r ../readline/Makefile; then\n+  READLINE_LIB=../../readline/readline/libreadline.a\n+  READLINE_CFLAGS='-I$(READLINE_SRC)/..'\n+else\n+  AC_CHECK_LIB(readline, readline, READLINE_LIB=-lreadline,\n+\t       AC_ERROR([the required \"readline\" library is missing]), $TERMCAP_LIB)\n+  READLINE_CFLAGS=\n+fi\n+AC_SUBST(READLINE_LIB)\n+AC_SUBST(READLINE_CFLAGS)\n ])"
    }
  ]
}