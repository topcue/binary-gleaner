{
  "sha": "4fe51f7d3ce96953a62c493b8c2615f8577c0f11",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NGZlNTFmN2QzY2U5Njk1M2E2MmM0OTNiOGMyNjE1Zjg1NzdjMGYxMQ==",
  "commit": {
    "author": {
      "name": "Jan Beulich",
      "email": "jbeulich@suse.com",
      "date": "2021-06-15T05:58:18Z"
    },
    "committer": {
      "name": "Jan Beulich",
      "email": "jbeulich@suse.com",
      "date": "2021-06-15T05:58:18Z"
    },
    "message": "x86: off-by-1 in offset_in_range()\n\nJust like e.g. 0x10000 triggers a warning for size 2, -0x10000 ought to\nas well.\n\nNote that some of the encodings produced aren't ones one would expect,\nand hence the generated code is not being checked for in the new\ntestcases.",
    "tree": {
      "sha": "a08b7fc2f4a429a2e28c2f3b8769d5a3cb6af16a",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/a08b7fc2f4a429a2e28c2f3b8769d5a3cb6af16a"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/4fe51f7d3ce96953a62c493b8c2615f8577c0f11",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/4fe51f7d3ce96953a62c493b8c2615f8577c0f11",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/4fe51f7d3ce96953a62c493b8c2615f8577c0f11",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/4fe51f7d3ce96953a62c493b8c2615f8577c0f11/comments",
  "author": {
    "login": "jbeulich",
    "id": 5610135,
    "node_id": "MDQ6VXNlcjU2MTAxMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5610135?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jbeulich",
    "html_url": "https://github.com/jbeulich",
    "followers_url": "https://api.github.com/users/jbeulich/followers",
    "following_url": "https://api.github.com/users/jbeulich/following{/other_user}",
    "gists_url": "https://api.github.com/users/jbeulich/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jbeulich/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jbeulich/subscriptions",
    "organizations_url": "https://api.github.com/users/jbeulich/orgs",
    "repos_url": "https://api.github.com/users/jbeulich/repos",
    "events_url": "https://api.github.com/users/jbeulich/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jbeulich/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "jbeulich",
    "id": 5610135,
    "node_id": "MDQ6VXNlcjU2MTAxMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5610135?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jbeulich",
    "html_url": "https://github.com/jbeulich",
    "followers_url": "https://api.github.com/users/jbeulich/followers",
    "following_url": "https://api.github.com/users/jbeulich/following{/other_user}",
    "gists_url": "https://api.github.com/users/jbeulich/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jbeulich/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jbeulich/subscriptions",
    "organizations_url": "https://api.github.com/users/jbeulich/orgs",
    "repos_url": "https://api.github.com/users/jbeulich/repos",
    "events_url": "https://api.github.com/users/jbeulich/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jbeulich/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "cc0f96357e0b5bce4a1f02910cec2dd66e8990c5",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/cc0f96357e0b5bce4a1f02910cec2dd66e8990c5",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/cc0f96357e0b5bce4a1f02910cec2dd66e8990c5"
    }
  ],
  "stats": {
    "total": 90,
    "additions": 89,
    "deletions": 1
  },
  "files": [
    {
      "sha": "8a3684a756fcc7709197a9e07c79f03dd11a268d",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 9,
      "deletions": 0,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4fe51f7d3ce96953a62c493b8c2615f8577c0f11/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4fe51f7d3ce96953a62c493b8c2615f8577c0f11/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=4fe51f7d3ce96953a62c493b8c2615f8577c0f11",
      "patch": "@@ -1,3 +1,12 @@\n+2021-06-15  Jan Beulich  <jbeulich@suse.com>\n+\n+\t* config/tc-i386.c (offset_in_range): Adjust conditional.\n+\t* testsuite/gas/i386/disp-imm-16.s,\n+\ttestsuite/gas/i386/disp-imm-16.l,\n+\ttestsuite/gas/i386/disp-imm-64.s,\n+\ttestsuite/gas/i386/disp-imm-64.l: New.\n+\t* testsuite/gas/i386/i386.exp: Run new tests.\n+\n 2021-06-15  Jan Beulich  <jbeulich@suse.com>\n \n \t* config/tc-i386.c (i386_att_operand): Re-introduce (now"
    },
    {
      "sha": "c9bcccfe9f79e4d281725f460b513a29dcc45b07",
      "filename": "gas/config/tc-i386.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4fe51f7d3ce96953a62c493b8c2615f8577c0f11/gas/config/tc-i386.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4fe51f7d3ce96953a62c493b8c2615f8577c0f11/gas/config/tc-i386.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/config/tc-i386.c?ref=4fe51f7d3ce96953a62c493b8c2615f8577c0f11",
      "patch": "@@ -2563,7 +2563,7 @@ offset_in_range (offsetT val, int size)\n     default: abort ();\n     }\n \n-  if ((val & ~mask) != 0 && (val & ~mask) != ~mask)\n+  if ((val & ~mask) != 0 && (-val & ~mask) != 0)\n     {\n       char buf1[40], buf2[40];\n "
    },
    {
      "sha": "f1b5f1f721f5571abf6e76ba11bbb47d23402f99",
      "filename": "gas/testsuite/gas/i386/disp-imm-16.l",
      "status": "added",
      "additions": 10,
      "deletions": 0,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4fe51f7d3ce96953a62c493b8c2615f8577c0f11/gas/testsuite/gas/i386/disp-imm-16.l",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4fe51f7d3ce96953a62c493b8c2615f8577c0f11/gas/testsuite/gas/i386/disp-imm-16.l",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/disp-imm-16.l?ref=4fe51f7d3ce96953a62c493b8c2615f8577c0f11",
      "patch": "@@ -0,0 +1,10 @@\n+.*: Assembler messages:\n+.*:7: Warning: .* shortened to .*\n+.*:8: Warning: .* shortened to .*\n+.*:9: Warning: .* shortened to .*\n+.*:11: Warning: .* shortened to .*\n+.*:12: Warning: .* shortened to .*\n+.*:13: Warning: .* shortened to .*\n+.*:15: Warning: .* shortened to .*\n+.*:16: Warning: .* shortened to .*\n+.*:17: Warning: .* shortened to .*"
    },
    {
      "sha": "d33b97ce43ee7788bcf5e52733f838a58876d7f9",
      "filename": "gas/testsuite/gas/i386/disp-imm-16.s",
      "status": "added",
      "additions": 17,
      "deletions": 0,
      "changes": 17,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4fe51f7d3ce96953a62c493b8c2615f8577c0f11/gas/testsuite/gas/i386/disp-imm-16.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4fe51f7d3ce96953a62c493b8c2615f8577c0f11/gas/testsuite/gas/i386/disp-imm-16.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/disp-imm-16.s?ref=4fe51f7d3ce96953a62c493b8c2615f8577c0f11",
      "patch": "@@ -0,0 +1,17 @@\n+\t.text\n+\t.code16\n+\tmov\t-0xffff(%bx), %eax\n+\tvmovaps\t-0xffc0(%bx), %zmm0\n+\tadd\t$-0xffff, %cx\n+\n+\tmov\t-0xffff-1(%bx), %eax\n+\tvmovaps\t-0xffc0-0x40(%bx), %zmm0\n+\tadd\t$-0xffff-1, %cx\n+\n+\tmov\t-0xffff-2(%bx), %eax\n+\tvmovaps\t-0xffc0-0x80(%bx), %zmm0\n+\tadd\t$-0xffff-2, %cx\n+\n+\tmov\t-0x1ffff(%bx), %eax\n+\tvmovaps\t-0x1ffc0(%bx), %zmm0\n+\tadd\t$-0x1ffff, %cx"
    },
    {
      "sha": "8eb56e5815d7b71662d1157fb48b899cd7aaec9a",
      "filename": "gas/testsuite/gas/i386/disp-imm-64.l",
      "status": "added",
      "additions": 22,
      "deletions": 0,
      "changes": 22,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4fe51f7d3ce96953a62c493b8c2615f8577c0f11/gas/testsuite/gas/i386/disp-imm-64.l",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4fe51f7d3ce96953a62c493b8c2615f8577c0f11/gas/testsuite/gas/i386/disp-imm-64.l",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/disp-imm-64.l?ref=4fe51f7d3ce96953a62c493b8c2615f8577c0f11",
      "patch": "@@ -0,0 +1,22 @@\n+.*: Assembler messages:\n+.*:2: Error: .*\n+.*:4: Error: .*\n+.*:6: Error: .*\n+.*:9: Error: .*\n+.*:10: Warning: .* shortened to .*\n+.*:11: Error: .*\n+.*:12: Warning: .* shortened to .*\n+.*:13: Error: .*\n+.*:14: Warning: .* shortened to .*\n+.*:16: Error: .*\n+.*:17: Warning: .* shortened to .*\n+.*:18: Error: .*\n+.*:19: Warning: .* shortened to .*\n+.*:20: Error: .*\n+.*:21: Warning: .* shortened to .*\n+.*:23: Error: .*\n+.*:24: Warning: .* shortened to .*\n+.*:25: Error: .*\n+.*:26: Warning: .* shortened to .*\n+.*:27: Error: .*\n+.*:28: Warning: .* shortened to .*"
    },
    {
      "sha": "a5a37a6571782671add6b16e5a902e3f8d810bbd",
      "filename": "gas/testsuite/gas/i386/disp-imm-64.s",
      "status": "added",
      "additions": 28,
      "deletions": 0,
      "changes": 28,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4fe51f7d3ce96953a62c493b8c2615f8577c0f11/gas/testsuite/gas/i386/disp-imm-64.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4fe51f7d3ce96953a62c493b8c2615f8577c0f11/gas/testsuite/gas/i386/disp-imm-64.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/disp-imm-64.s?ref=4fe51f7d3ce96953a62c493b8c2615f8577c0f11",
      "patch": "@@ -0,0 +1,28 @@\n+\t.text\n+\tmov\t-0xffffffff(%rax), %eax\n+\tmov\t-0xffffffff(%eax), %eax\n+\tvmovaps\t-0xffffffc0(%rax), %zmm0\n+\tvmovaps\t-0xffffffc0(%eax), %zmm0\n+\tadd\t$-0xffffffff, %rcx\n+\tadd\t$-0xffffffff, %ecx\n+\n+\tmov\t-0xffffffff-1(%rax), %eax\n+\tmov\t-0xffffffff-1(%eax), %eax\n+\tvmovaps\t-0xffffffc0-0x40(%rax), %zmm0\n+\tvmovaps\t-0xffffffc0-0x40(%eax), %zmm0\n+\tadd\t$-0xffffffff-1, %rcx\n+\tadd\t$-0xffffffff-1, %ecx\n+\n+\tmov\t-0xffffffff-2(%rax), %eax\n+\tmov\t-0xffffffff-2(%eax), %eax\n+\tvmovaps\t-0xffffffc0-0x80(%rax), %zmm0\n+\tvmovaps\t-0xffffffc0-0x80(%eax), %zmm0\n+\tadd\t$-0xffffffff-2, %rcx\n+\tadd\t$-0xffffffff-2, %ecx\n+\n+\tmov\t-0x1ffffffff(%rax), %eax\n+\tmov\t-0x1ffffffff(%eax), %eax\n+\tvmovaps\t-0x1ffffffc0(%rax), %zmm0\n+\tvmovaps\t-0x1ffffffc0(%eax), %zmm0\n+\tadd\t$-0x1ffffffff, %rcx\n+\tadd\t$-0x1ffffffff, %ecx"
    },
    {
      "sha": "4112a1d171ffb977c1fae20e284524a01182aad5",
      "filename": "gas/testsuite/gas/i386/i386.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4fe51f7d3ce96953a62c493b8c2615f8577c0f11/gas/testsuite/gas/i386/i386.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4fe51f7d3ce96953a62c493b8c2615f8577c0f11/gas/testsuite/gas/i386/i386.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/i386.exp?ref=4fe51f7d3ce96953a62c493b8c2615f8577c0f11",
      "patch": "@@ -87,6 +87,7 @@ if [gas_32_check] then {\n     run_dump_test \"disp\"\n     run_dump_test \"disp-intel\"\n     run_dump_test \"disp32\"\n+    run_list_test \"disp-imm-16\"\n     run_dump_test \"vmx\"\n     run_dump_test \"vmfunc\"\n     run_dump_test \"smx\"\n@@ -861,6 +862,7 @@ if [gas_64_check] then {\n     run_dump_test \"x86-64-sib-intel\"\n     run_dump_test \"x86-64-disp\"\n     run_dump_test \"x86-64-disp-intel\"\n+    run_list_test \"disp-imm-64\"\n     run_dump_test \"intel-movs64\"\n     run_dump_test \"intel-cmps64\"\n     run_dump_test \"x86-64-disp32\""
    }
  ]
}