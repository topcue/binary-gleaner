{
  "sha": "adc82fdb715184fa8e9acf47179e67acc82b8375",
  "node_id": "C_kwDOANOeidoAKGFkYzgyZmRiNzE1MTg0ZmE4ZTlhY2Y0NzE3OWU2N2FjYzgyYjgzNzU",
  "commit": {
    "author": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-10-04T06:11:21Z"
    },
    "committer": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-10-04T06:19:58Z"
    },
    "message": "sim: add --info-target for listing supported BFD targets\n\nIt can be difficult to guess the exact bfd name, so add an option to\nlist all the targets that the current build supports.  This aligns with\nother simulator options like --info-architecture.",
    "tree": {
      "sha": "3a4fdf34afb98725dbd0ccffc0ef5942f26e6497",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/3a4fdf34afb98725dbd0ccffc0ef5942f26e6497"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/adc82fdb715184fa8e9acf47179e67acc82b8375",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/adc82fdb715184fa8e9acf47179e67acc82b8375",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/adc82fdb715184fa8e9acf47179e67acc82b8375",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/adc82fdb715184fa8e9acf47179e67acc82b8375/comments",
  "author": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "51911bd6e91ca4594424b243bfd1d2b501706abe",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/51911bd6e91ca4594424b243bfd1d2b501706abe",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/51911bd6e91ca4594424b243bfd1d2b501706abe"
    }
  ],
  "stats": {
    "total": 19,
    "additions": 19,
    "deletions": 0
  },
  "files": [
    {
      "sha": "e82ac33fe764a0d9a1d6488b93e583726910e00d",
      "filename": "sim/common/sim-options.c",
      "status": "modified",
      "additions": 19,
      "deletions": 0,
      "changes": 19,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/adc82fdb715184fa8e9acf47179e67acc82b8375/sim/common/sim-options.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/adc82fdb715184fa8e9acf47179e67acc82b8375/sim/common/sim-options.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/common/sim-options.c?ref=adc82fdb715184fa8e9acf47179e67acc82b8375",
      "patch": "@@ -93,6 +93,7 @@ typedef enum {\n   OPTION_DO_COMMAND,\n   OPTION_ARCHITECTURE,\n   OPTION_TARGET,\n+  OPTION_TARGET_INFO,\n   OPTION_ARCHITECTURE_INFO,\n   OPTION_ENVIRONMENT,\n   OPTION_ALIGNMENT,\n@@ -161,6 +162,10 @@ static const OPTION standard_options[] =\n   { {\"target\", required_argument, NULL, OPTION_TARGET},\n       '\\0', \"BFDNAME\", \"Specify the object-code format for the object files\",\n       standard_option_handler },\n+  { {\"target-info\", no_argument, NULL, OPTION_TARGET_INFO},\n+      '\\0', NULL, \"List supported targets\", standard_option_handler },\n+  { {\"info-target\", no_argument, NULL, OPTION_TARGET_INFO},\n+      '\\0', NULL, NULL, standard_option_handler },\n \n   { {\"load-lma\", no_argument, NULL, OPTION_LOAD_LMA},\n       '\\0', NULL,\n@@ -365,6 +370,20 @@ standard_option_handler (SIM_DESC sd, sim_cpu *cpu, int opt,\n \tbreak;\n       }\n \n+    case OPTION_TARGET_INFO:\n+      {\n+\tconst char **list = bfd_target_list ();\n+\tconst char **lp;\n+\tif (list == NULL)\n+\t  abort ();\n+\tsim_io_printf (sd, \"Possible targets:\");\n+\tfor (lp = list; *lp != NULL; lp++)\n+\t  sim_io_printf (sd, \" %s\", *lp);\n+\tsim_io_printf (sd, \"\\n\");\n+\tfree (list);\n+\tbreak;\n+      }\n+\n     case OPTION_LOAD_LMA:\n       {\n \tSTATE_LOAD_AT_LMA_P (sd) = 1;"
    }
  ]
}