{
  "sha": "7e3941ac0619431d51a9643e20cb0e0720502101",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6N2UzOTQxYWMwNjE5NDMxZDUxYTk2NDNlMjBjYjBlMDcyMDUwMjEwMQ==",
  "commit": {
    "author": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-06-15T05:40:33Z"
    },
    "committer": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-06-20T03:06:01Z"
    },
    "message": "gdb/gdbserver: switch to AC_CONFIG_MACRO_DIRS\n\nThese dirs don't use automake, so use AC_CONFIG_MACRO_DIRS to specify\n../config as a search dir for m4 macros.  This allows removal of a lot\nof hand-written m4_include's from acinclude.m4 files, and simplifies\nuse of `aclocal` or `autoreconf` as manual -I is not needed.",
    "tree": {
      "sha": "05a2ae5bf74afa8b363ce18713e0fcc427bfbbc6",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/05a2ae5bf74afa8b363ce18713e0fcc427bfbbc6"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/7e3941ac0619431d51a9643e20cb0e0720502101",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/7e3941ac0619431d51a9643e20cb0e0720502101",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/7e3941ac0619431d51a9643e20cb0e0720502101",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/7e3941ac0619431d51a9643e20cb0e0720502101/comments",
  "author": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "57a922a59801a9e7684f9661a65fa2ed5833d65d",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/57a922a59801a9e7684f9661a65fa2ed5833d65d",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/57a922a59801a9e7684f9661a65fa2ed5833d65d"
    }
  ],
  "stats": {
    "total": 112,
    "additions": 54,
    "deletions": 58
  },
  "files": [
    {
      "sha": "98c6ca7413a9ba23053979dac16ed2b200e90516",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7e3941ac0619431d51a9643e20cb0e0720502101/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7e3941ac0619431d51a9643e20cb0e0720502101/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=7e3941ac0619431d51a9643e20cb0e0720502101",
      "patch": "@@ -1,3 +1,10 @@\n+2021-06-19  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* acinclude.m4: Delete most m4_include's of ../config files.\n+\t* configure.ac: Delete m4_include call and call AC_CONFIG_MACRO_DIR.\n+\t* aclocal.m4: Regenerate.\n+\t* configure: Regenerate.\n+\n 2021-06-17  Pedro Alves  <pedro@palves.net>\n \n \t* scoped_ignore_signal.h (scoped_ignore_signal): Add"
    },
    {
      "sha": "2bdc1cedc262e8a47b1f3adbdb41d182f2322633",
      "filename": "gdb/acinclude.m4",
      "status": "modified",
      "additions": 10,
      "deletions": 37,
      "changes": 47,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7e3941ac0619431d51a9643e20cb0e0720502101/gdb/acinclude.m4",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7e3941ac0619431d51a9643e20cb0e0720502101/gdb/acinclude.m4",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/acinclude.m4?ref=7e3941ac0619431d51a9643e20cb0e0720502101",
      "patch": "@@ -4,6 +4,12 @@ dnl major rewriting for Tcl 7.5 by Don Libes <libes@nist.gov>\n # Keep these includes in sync with the aclocal_m4_deps list in\n # Makefile.in.\n \n+dnl NB: When possible, try to avoid explicit includes of ../config/ files.\n+dnl They're normally found by aclocal automatically and recorded in aclocal.m4.\n+dnl However, some are kept here explicitly to silence harmless warnings from\n+dnl aclocal when it finds AM_xxx macros via local search paths instead of\n+dnl system search paths.\n+\n m4_include(acx_configure_dir.m4)\n \n # This gets GDB_AC_TRANSFORM.\n@@ -21,47 +27,16 @@ m4_include(../gdbsupport/selftest.m4)\n dnl gdb/configure.in uses BFD_NEED_DECLARATION, so get its definition.\n m4_include(../bfd/bfd.m4)\n \n-dnl This gets the standard macros.\n-m4_include(../config/acinclude.m4)\n-\n-dnl This gets GCC_ENABLE.\n-sinclude(../config/enable.m4)\n-\n-dnl This gets AC_PLUGINS, needed by ACX_LARGEFILE.\n-m4_include(../config/plugins.m4)\n-\n-dnl For ACX_LARGEFILE.\n-m4_include(../config/largefile.m4)\n-\n-dnl For AM_SET_LEADING_DOT.\n-m4_include(../config/lead-dot.m4)\n-\n-dnl This gets autoconf bugfixes.\n-m4_include(../config/override.m4)\n-\n-dnl For ZW_GNU_GETTEXT_SISTER_DIR.\n-m4_include(../config/gettext-sister.m4)\n-\n-dnl For AC_LIB_HAVE_LINKFLAGS.\n-m4_include(../config/lib-ld.m4)\n-m4_include(../config/lib-prefix.m4)\n-m4_include(../config/lib-link.m4)\n-\n-dnl For ACX_PKGVERSION and ACX_BUGURL.\n-m4_include(../config/acx.m4)\n-\n-dnl for TCL definitions\n-m4_include(../config/tcl.m4)\n-\n-dnl For dependency tracking macros.\n-m4_include([../config/depstand.m4])\n-\n dnl For AM_LC_MESSAGES\n m4_include([../config/lcmessage.m4])\n \n dnl For AM_LANGINFO_CODESET.\n m4_include([../config/codeset.m4])\n \n+dnl We need to explicitly include these before iconv.m4 to avoid warnings.\n+m4_include([../config/lib-ld.m4])\n+m4_include([../config/lib-prefix.m4])\n+m4_include([../config/lib-link.m4])\n m4_include([../config/iconv.m4])\n \n m4_include([../config/zlib.m4])\n@@ -76,8 +51,6 @@ m4_include(../gdbsupport/ptrace.m4)\n \n m4_include(ax_cxx_compile_stdcxx.m4)\n \n-m4_include([../config/ax_pthread.m4])\n-\n dnl written by Guido Draheim <guidod@gmx.de>, original by Alexandre Oliva \n dnl Version 1.3 (2001/03/02)\n dnl source http://www.gnu.org/software/ac-archive/Miscellaneous/ac_define_dir.html"
    },
    {
      "sha": "8c7562542f6ff45ab6c52c0d7bf4f46051f977e1",
      "filename": "gdb/aclocal.m4",
      "status": "modified",
      "additions": 11,
      "deletions": 0,
      "changes": 11,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7e3941ac0619431d51a9643e20cb0e0720502101/gdb/aclocal.m4",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7e3941ac0619431d51a9643e20cb0e0720502101/gdb/aclocal.m4",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/aclocal.m4?ref=7e3941ac0619431d51a9643e20cb0e0720502101",
      "patch": "@@ -199,5 +199,16 @@ AC_DEFUN([_AM_SUBST_NOTMAKE])\n # Public sister of _AM_SUBST_NOTMAKE.\n AC_DEFUN([AM_SUBST_NOTMAKE], [_AM_SUBST_NOTMAKE($@)])\n \n+m4_include([../config/acx.m4])\n+m4_include([../config/ax_pthread.m4])\n+m4_include([../config/debuginfod.m4])\n+m4_include([../config/depstand.m4])\n+m4_include([../config/enable.m4])\n+m4_include([../config/gettext-sister.m4])\n+m4_include([../config/largefile.m4])\n+m4_include([../config/lead-dot.m4])\n+m4_include([../config/override.m4])\n m4_include([../config/pkg.m4])\n+m4_include([../config/plugins.m4])\n+m4_include([../config/tcl.m4])\n m4_include([acinclude.m4])"
    },
    {
      "sha": "a5c6fab118c5db4a51efb9cad333075e93b94e15",
      "filename": "gdb/configure",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7e3941ac0619431d51a9643e20cb0e0720502101/gdb/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7e3941ac0619431d51a9643e20cb0e0720502101/gdb/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/configure?ref=7e3941ac0619431d51a9643e20cb0e0720502101",
      "patch": "@@ -2997,6 +2997,7 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n \n \n \n+\n ac_config_headers=\"$ac_config_headers config.h:config.in\"\n \n "
    },
    {
      "sha": "67aa628c47d4b2e07380fa08a55ad3c67c3ce444",
      "filename": "gdb/configure.ac",
      "status": "modified",
      "additions": 1,
      "deletions": 2,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7e3941ac0619431d51a9643e20cb0e0720502101/gdb/configure.ac",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7e3941ac0619431d51a9643e20cb0e0720502101/gdb/configure.ac",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/configure.ac?ref=7e3941ac0619431d51a9643e20cb0e0720502101",
      "patch": "@@ -18,9 +18,8 @@ dnl along with this program.  If not, see <http://www.gnu.org/licenses/>.\n \n dnl Process this file with autoconf to produce a configure script.\n \n-m4_include(../config/debuginfod.m4)\n-\n AC_INIT\n+AC_CONFIG_MACRO_DIRS([../config])\n AC_CONFIG_SRCDIR([main.c])\n AC_CONFIG_HEADERS(config.h:config.in, [echo > stamp-h])\n AM_MAINTAINER_MODE"
    },
    {
      "sha": "c2ff85ed553f97989bc2f8a187add4618756b488",
      "filename": "gdbserver/ChangeLog",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7e3941ac0619431d51a9643e20cb0e0720502101/gdbserver/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7e3941ac0619431d51a9643e20cb0e0720502101/gdbserver/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/ChangeLog?ref=7e3941ac0619431d51a9643e20cb0e0720502101",
      "patch": "@@ -1,3 +1,10 @@\n+2021-06-19  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* acinclude.m4: Delete most m4_include's of ../config files.\n+\t* configure.ac: Delete m4_include call and call AC_CONFIG_MACRO_DIR.\n+\t* aclocal.m4: Regenerate.\n+\t* configure: Regenerate.\n+\n 2021-06-14  Mike Frysinger  <vapier@gentoo.org>\n \n \t* Makefile.in (GNULIB_BUILDDIR): Rename to ..."
    },
    {
      "sha": "d68e318229b8132ee43afcaec7510f35e1bbbfe7",
      "filename": "gdbserver/acinclude.m4",
      "status": "modified",
      "additions": 6,
      "deletions": 19,
      "changes": 25,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7e3941ac0619431d51a9643e20cb0e0720502101/gdbserver/acinclude.m4",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7e3941ac0619431d51a9643e20cb0e0720502101/gdbserver/acinclude.m4",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/acinclude.m4?ref=7e3941ac0619431d51a9643e20cb0e0720502101",
      "patch": "@@ -1,23 +1,15 @@\n+dnl NB: When possible, try to avoid explicit includes of ../config/ files.\n+dnl They're normally found by aclocal automatically and recorded in aclocal.m4.\n+dnl However, some are kept here explicitly to silence harmless warnings from\n+dnl aclocal when it finds AM_xxx macros via local search paths instead of\n+dnl system search paths.\n+\n dnl gdb/gdbserver/configure.in uses BFD_HAVE_SYS_PROCFS_TYPE.\n m4_include(../bfd/bfd.m4)\n \n dnl This gets AM_GDB_WARNINGS.\n m4_include(../gdbsupport/warning.m4)\n \n-dnl This gets autoconf bugfixes\n-m4_include(../config/override.m4)\n-\n-dnl For ACX_PKGVERSION and ACX_BUGURL.\n-m4_include(../config/acx.m4)\n-\n-m4_include(../config/depstand.m4)\n-m4_include(../config/lead-dot.m4)\n-\n-dnl Needed for common.m4\n-dnl For AC_LIB_HAVE_LINKFLAGS.\n-m4_include(../config/lib-ld.m4)\n-m4_include(../config/lib-prefix.m4)\n-m4_include(../config/lib-link.m4)\n dnl codeset.m4 is needed for common.m4, but not for\n dnl anything else in gdbserver.\n m4_include(../config/codeset.m4)\n@@ -34,11 +26,6 @@ m4_include(../gdb/ax_cxx_compile_stdcxx.m4)\n dnl For GDB_AC_SELFTEST.\n m4_include(../gdbsupport/selftest.m4)\n \n-m4_include([../config/ax_pthread.m4])\n-\n-dnl For ZW_GNU_GETTEXT_SISTER_DIR.\n-m4_include(../config/gettext-sister.m4)\n-\n dnl Check for existence of a type $1 in libthread_db.h\n dnl Based on BFD_HAVE_SYS_PROCFS_TYPE in bfd/bfd.m4.\n "
    },
    {
      "sha": "bceb92fdb5dd58bc0302bf1a2ebf83bce13a3de7",
      "filename": "gdbserver/aclocal.m4",
      "status": "modified",
      "additions": 9,
      "deletions": 0,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7e3941ac0619431d51a9643e20cb0e0720502101/gdbserver/aclocal.m4",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7e3941ac0619431d51a9643e20cb0e0720502101/gdbserver/aclocal.m4",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/aclocal.m4?ref=7e3941ac0619431d51a9643e20cb0e0720502101",
      "patch": "@@ -199,4 +199,13 @@ AC_DEFUN([_AM_SUBST_NOTMAKE])\n # Public sister of _AM_SUBST_NOTMAKE.\n AC_DEFUN([AM_SUBST_NOTMAKE], [_AM_SUBST_NOTMAKE($@)])\n \n+m4_include([../config/acx.m4])\n+m4_include([../config/ax_pthread.m4])\n+m4_include([../config/depstand.m4])\n+m4_include([../config/gettext-sister.m4])\n+m4_include([../config/lead-dot.m4])\n+m4_include([../config/lib-ld.m4])\n+m4_include([../config/lib-link.m4])\n+m4_include([../config/lib-prefix.m4])\n+m4_include([../config/override.m4])\n m4_include([acinclude.m4])"
    },
    {
      "sha": "b9d4653ae5e148dafca632fb0c2b09320623365a",
      "filename": "gdbserver/configure",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7e3941ac0619431d51a9643e20cb0e0720502101/gdbserver/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7e3941ac0619431d51a9643e20cb0e0720502101/gdbserver/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/configure?ref=7e3941ac0619431d51a9643e20cb0e0720502101",
      "patch": "@@ -2714,6 +2714,7 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n \n \n \n+\n ac_config_headers=\"$ac_config_headers config.h:config.in\"\n \n "
    },
    {
      "sha": "afac1831ecde592928187c2b8746d09a5cd95711",
      "filename": "gdbserver/configure.ac",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7e3941ac0619431d51a9643e20cb0e0720502101/gdbserver/configure.ac",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7e3941ac0619431d51a9643e20cb0e0720502101/gdbserver/configure.ac",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/configure.ac?ref=7e3941ac0619431d51a9643e20cb0e0720502101",
      "patch": "@@ -19,6 +19,7 @@ dnl along with this program.  If not, see <http://www.gnu.org/licenses/>.\n dnl Process this file with autoconf to produce a configure script.\n \n AC_INIT\n+AC_CONFIG_MACRO_DIRS([../config])\n AC_CONFIG_SRCDIR([server.cc])\n AC_CONFIG_HEADERS(config.h:config.in, [echo > stamp-h])\n "
    }
  ]
}