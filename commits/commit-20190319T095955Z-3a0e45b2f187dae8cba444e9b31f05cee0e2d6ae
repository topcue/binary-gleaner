{
  "sha": "3a0e45b2f187dae8cba444e9b31f05cee0e2d6ae",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6M2EwZTQ1YjJmMTg3ZGFlOGNiYTQ0NGU5YjMxZjA1Y2VlMGUyZDZhZQ==",
  "commit": {
    "author": {
      "name": "Alan Hayward",
      "email": "alan.hayward@arm.com",
      "date": "2019-03-18T16:13:12Z"
    },
    "committer": {
      "name": "Alan Hayward",
      "email": "alan.hayward@arm.com",
      "date": "2019-03-19T09:59:55Z"
    },
    "message": "Fix Arm build error\n\nThe following commit broke the build for Arm:\nd3a70e03cf51c8fb6bc183eaff7559edffec2045\nChange iterate_over_lwps to take a gdb::function_view\n\nCorrect the changes made to arm_linux_insert_hw_breakpoint1 and make\nsimilar changes to arm_linux_remove_hw_breakpoint1.\n\n2019-03-18  Alan Hayward  <alan.hayward@arm.com>\n\n\t* arm-linux-nat.c (arm_linux_insert_hw_breakpoint1): Fix\n\tvariable names.\n\t(arm_linux_remove_hw_breakpoint1): Use a gdb::function_view.",
    "tree": {
      "sha": "a74496c42638d294934f2206fbb03b71c014cb63",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/a74496c42638d294934f2206fbb03b71c014cb63"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/3a0e45b2f187dae8cba444e9b31f05cee0e2d6ae",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/3a0e45b2f187dae8cba444e9b31f05cee0e2d6ae",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/3a0e45b2f187dae8cba444e9b31f05cee0e2d6ae",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/3a0e45b2f187dae8cba444e9b31f05cee0e2d6ae/comments",
  "author": {
    "login": "a74nh",
    "id": 4146708,
    "node_id": "MDQ6VXNlcjQxNDY3MDg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4146708?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/a74nh",
    "html_url": "https://github.com/a74nh",
    "followers_url": "https://api.github.com/users/a74nh/followers",
    "following_url": "https://api.github.com/users/a74nh/following{/other_user}",
    "gists_url": "https://api.github.com/users/a74nh/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/a74nh/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/a74nh/subscriptions",
    "organizations_url": "https://api.github.com/users/a74nh/orgs",
    "repos_url": "https://api.github.com/users/a74nh/repos",
    "events_url": "https://api.github.com/users/a74nh/events{/privacy}",
    "received_events_url": "https://api.github.com/users/a74nh/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "a74nh",
    "id": 4146708,
    "node_id": "MDQ6VXNlcjQxNDY3MDg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4146708?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/a74nh",
    "html_url": "https://github.com/a74nh",
    "followers_url": "https://api.github.com/users/a74nh/followers",
    "following_url": "https://api.github.com/users/a74nh/following{/other_user}",
    "gists_url": "https://api.github.com/users/a74nh/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/a74nh/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/a74nh/subscriptions",
    "organizations_url": "https://api.github.com/users/a74nh/orgs",
    "repos_url": "https://api.github.com/users/a74nh/repos",
    "events_url": "https://api.github.com/users/a74nh/events{/privacy}",
    "received_events_url": "https://api.github.com/users/a74nh/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "4faa59bbb7ad8665b6eb7c93bdb726e412850811",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/4faa59bbb7ad8665b6eb7c93bdb726e412850811",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/4faa59bbb7ad8665b6eb7c93bdb726e412850811"
    }
  ],
  "stats": {
    "total": 20,
    "additions": 14,
    "deletions": 6
  },
  "files": [
    {
      "sha": "7b896ed2c0b1516fc224787f66cf278cbf4dd09d",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3a0e45b2f187dae8cba444e9b31f05cee0e2d6ae/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3a0e45b2f187dae8cba444e9b31f05cee0e2d6ae/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=3a0e45b2f187dae8cba444e9b31f05cee0e2d6ae",
      "patch": "@@ -1,3 +1,9 @@\n+2019-03-18  Alan Hayward  <alan.hayward@arm.com>\n+\n+\t* arm-linux-nat.c (arm_linux_insert_hw_breakpoint1): Fix\n+\tvariable names.\n+\t(arm_linux_remove_hw_breakpoint1): Use a gdb::function_view.\n+\n 2019-03-18  Pedro Alves  <palves@redhat.com>\n \t    Eli Zaretskii <eliz@gnu.org>\n "
    },
    {
      "sha": "11e353e61cd6c073f2ee0efa1efc67668c793e3f",
      "filename": "gdb/arm-linux-nat.c",
      "status": "modified",
      "additions": 8,
      "deletions": 6,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3a0e45b2f187dae8cba444e9b31f05cee0e2d6ae/gdb/arm-linux-nat.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3a0e45b2f187dae8cba444e9b31f05cee0e2d6ae/gdb/arm-linux-nat.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/arm-linux-nat.c?ref=3a0e45b2f187dae8cba444e9b31f05cee0e2d6ae",
      "patch": "@@ -1005,8 +1005,8 @@ arm_linux_insert_hw_breakpoint1 (const struct arm_linux_hw_breakpoint* bpt,\n         iterate_over_lwps (pid_ptid,\n \t\t\t   [=] (struct lwp_info *info)\n \t\t\t   {\n-\t\t\t     return update_registers_callback (info, watch,\n-\t\t\t\t\t\t\t       index);\n+\t\t\t     return update_registers_callback (info, watchpoint,\n+\t\t\t\t\t\t\t       i);\n \t\t\t   });\n         break;\n       }\n@@ -1024,7 +1024,6 @@ arm_linux_remove_hw_breakpoint1 (const struct arm_linux_hw_breakpoint *bpt,\n   gdb_byte count, i;\n   ptid_t pid_ptid;\n   struct arm_linux_hw_breakpoint* bpts;\n-  struct update_registers_data data;\n \n   pid = inferior_ptid.pid ();\n   pid_ptid = ptid_t (pid);\n@@ -1043,10 +1042,13 @@ arm_linux_remove_hw_breakpoint1 (const struct arm_linux_hw_breakpoint *bpt,\n   for (i = 0; i < count; ++i)\n     if (arm_linux_hw_breakpoint_equal (bpt, bpts + i))\n       {\n-        data.watch = watchpoint;\n-        data.index = i;\n         bpts[i].control = arm_hwbp_control_disable (bpts[i].control);\n-        iterate_over_lwps (pid_ptid, update_registers_callback, &data);\n+\titerate_over_lwps (pid_ptid,\n+\t\t\t   [=] (struct lwp_info *info)\n+\t\t\t   {\n+\t\t\t     return update_registers_callback (info, watchpoint,\n+\t\t\t\t\t\t\t       i);\n+\t\t\t   });\n         break;\n       }\n "
    }
  ]
}