{
  "sha": "9b142ddb4a115b6e58fabb05920bdd94811fda98",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6OWIxNDJkZGI0YTExNWI2ZTU4ZmFiYjA1OTIwYmRkOTQ4MTFmZGE5OA==",
  "commit": {
    "author": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2019-10-15T09:03:17Z"
    },
    "committer": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2019-10-15T12:55:11Z"
    },
    "message": "m68hc1x: better arg checking for reloc_warning\n\n\t* elf32-m68hc1x.c (reloc_warning): Add printf attribute.\n\t(elf32_m68hc11_relocate_section): Don't use a variable for format\n\tstrings.  Delete some unnecessary xgettext:c-format comments.",
    "tree": {
      "sha": "260bc5418193b315c8eeef31577bbef50b5adce2",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/260bc5418193b315c8eeef31577bbef50b5adce2"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/9b142ddb4a115b6e58fabb05920bdd94811fda98",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/9b142ddb4a115b6e58fabb05920bdd94811fda98",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/9b142ddb4a115b6e58fabb05920bdd94811fda98",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/9b142ddb4a115b6e58fabb05920bdd94811fda98/comments",
  "author": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "ba18312d8f2cecf88b6edcbc277f433a62131e58",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/ba18312d8f2cecf88b6edcbc277f433a62131e58",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/ba18312d8f2cecf88b6edcbc277f433a62131e58"
    }
  ],
  "stats": {
    "total": 47,
    "additions": 26,
    "deletions": 21
  },
  "files": [
    {
      "sha": "5a9bfd7270a76ffee15d42587e0d3f70fe367948",
      "filename": "bfd/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/9b142ddb4a115b6e58fabb05920bdd94811fda98/bfd/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/9b142ddb4a115b6e58fabb05920bdd94811fda98/bfd/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/ChangeLog?ref=9b142ddb4a115b6e58fabb05920bdd94811fda98",
      "patch": "@@ -1,3 +1,9 @@\n+2019-10-15  Alan Modra  <amodra@gmail.com>\n+\n+\t* elf32-m68hc1x.c (reloc_warning): Add printf attribute.\n+\t(elf32_m68hc11_relocate_section): Don't use a variable for format\n+\tstrings.  Delete some unnecessary xgettext:c-format comments.\n+\n 2019-10-15  Alan Modra  <amodra@gmail.com>\n \n \tPR 24955"
    },
    {
      "sha": "b8aeeae6b96150a63ddbf100fb5c25680aee24f1",
      "filename": "bfd/elf32-m68hc1x.c",
      "status": "modified",
      "additions": 20,
      "deletions": 21,
      "changes": 41,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/9b142ddb4a115b6e58fabb05920bdd94811fda98/bfd/elf32-m68hc1x.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/9b142ddb4a115b6e58fabb05920bdd94811fda98/bfd/elf32-m68hc1x.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/elf32-m68hc1x.c?ref=9b142ddb4a115b6e58fabb05920bdd94811fda98",
      "patch": "@@ -899,7 +899,7 @@ elf32_m68hc11_check_relocs (bfd *abfd, struct bfd_link_info *info,\n   return TRUE;\n }\n \n-static bfd_boolean\n+static bfd_boolean ATTRIBUTE_PRINTF (6, 7)\n reloc_warning (struct bfd_link_info *info, const char *name, bfd *input_bfd,\n \t       asection *input_section, const Elf_Internal_Rela *rel,\n \t       const char *fmt, ...)\n@@ -1132,10 +1132,10 @@ elf32_m68hc11_relocate_section (bfd *output_bfd ATTRIBUTE_UNUSED,\n \tcase R_M68HC11_16:\n \t  if (is_far)\n \t    {\n-\t      msg = _(\"reference to the far symbol `%s' using a wrong \"\n-\t\t      \"relocation may result in incorrect execution\");\n \t      if (!reloc_warning (info, name, input_bfd, input_section, rel,\n-\t\t\t\t  msg, name))\n+\t\t\t\t  _(\"reference to the far symbol `%s' using a \"\n+\t\t\t\t    \"wrong relocation may result in incorrect \"\n+\t\t\t\t    \"execution\"), name))\n \t\treturn FALSE;\n \t    }\n \n@@ -1163,12 +1163,12 @@ elf32_m68hc11_relocate_section (bfd *output_bfd ATTRIBUTE_UNUSED,\n \t\t}\n \t      else\n \t\t{\n-\t\t  msg = _(\"XGATE address (%lx) is not within shared RAM\"\n-\t\t\t  \"(0xE000-0xFFFF), therefore you must manually offset \"\n-\t\t\t  \"the address, and possibly manage the page, in your \"\n-\t\t\t  \"code.\");\n \t\t  if (!reloc_warning (info, name, input_bfd, input_section, rel,\n-\t\t\t\t      msg, (long) phys_addr))\n+\t\t\t\t      _(\"XGATE address (%lx) is not within \"\n+\t\t\t\t\t\"shared RAM(0xE000-0xFFFF), therefore \"\n+\t\t\t\t\t\"you must manually offset the address, \"\n+\t\t\t\t\t\"and possibly manage the page, in your \"\n+\t\t\t\t\t\"code.\"), (long) phys_addr))\n \t\t    return FALSE;\n \t\t  break;\n \t\t}\n@@ -1179,11 +1179,11 @@ elf32_m68hc11_relocate_section (bfd *output_bfd ATTRIBUTE_UNUSED,\n \t      && phys_page != insn_page\n \t      && !(e_flags & E_M68HC11_NO_BANK_WARNING))\n \t    {\n-\t      /* xgettext:c-format */\n-\t      msg = _(\"banked address [%lx:%04lx] (%lx) is not in the same \"\n-\t\t      \"bank as current banked address [%lx:%04lx] (%lx)\");\n \t      if (!reloc_warning (info, name, input_bfd, input_section, rel,\n-\t\t\t\t  msg, (long) phys_page, (long) phys_addr,\n+\t\t\t\t  _(\"banked address [%lx:%04lx] (%lx) is not \"\n+\t\t\t\t    \"in the same bank as current banked \"\n+\t\t\t\t    \"address [%lx:%04lx] (%lx)\"),\n+\t\t\t\t  (long) phys_page, (long) phys_addr,\n \t\t\t\t  (long) (relocation + rel->r_addend),\n \t\t\t\t  (long) insn_page,\n \t\t\t\t  (long) m68hc11_phys_addr (pinfo, insn_addr),\n@@ -1194,11 +1194,10 @@ elf32_m68hc11_relocate_section (bfd *output_bfd ATTRIBUTE_UNUSED,\n \n \t  if (phys_page != 0 && insn_page == 0)\n \t    {\n-\t      /* xgettext:c-format */\n-\t      msg = _(\"reference to a banked address [%lx:%04lx] in the \"\n-\t\t      \"normal address space at %04lx\");\n \t      if (!reloc_warning (info, name, input_bfd, input_section, rel,\n-\t\t\t\t  msg, (long) phys_page, (long) phys_addr,\n+\t\t\t\t  _(\"reference to a banked address [%lx:%04lx] \"\n+\t\t\t\t    \"in the normal address space at %04lx\"),\n+\t\t\t\t  (long) phys_page, (long) phys_addr,\n \t\t\t\t  (long) insn_addr))\n \t\treturn FALSE;\n \t      relocation = phys_addr;\n@@ -1231,11 +1230,11 @@ elf32_m68hc11_relocate_section (bfd *output_bfd ATTRIBUTE_UNUSED,\n \t\trelocation += 0xC000;\n \t      else\n \t\t{\n-\t\t  msg = _(\"S12 address (%lx) is not within shared RAM\"\n-\t\t\t  \"(0x2000-0x4000), therefore you must manually \"\n-\t\t\t  \"offset the address in your code\");\n \t\t  if (!reloc_warning (info, name, input_bfd, input_section, rel,\n-\t\t\t\t      msg, (long) phys_addr))\n+\t\t\t\t      _(\"S12 address (%lx) is not within \"\n+\t\t\t\t\t\"shared RAM(0x2000-0x4000), therefore \"\n+\t\t\t\t\t\"you must manually offset the address \"\n+\t\t\t\t\t\"in your code\"), (long) phys_addr))\n \t\t    return FALSE;\n \t\t  break;\n \t\t}"
    }
  ]
}