{
  "sha": "2a122642b4e4a7ec0f414b30d6ed7c48bc5c2eeb",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MmExMjI2NDJiNGU0YTdlYzBmNDE0YjMwZDZlZDdjNDhiYzVjMmVlYg==",
  "commit": {
    "author": {
      "name": "Gary Benson",
      "email": "gbenson@redhat.com",
      "date": "2020-07-13T13:47:44Z"
    },
    "committer": {
      "name": "Gary Benson",
      "email": "gbenson@redhat.com",
      "date": "2020-07-13T13:47:44Z"
    },
    "message": "Use volatile pointers when attempting to trigger SIGSEGVs\n\nClang fails to compile a number of files with the following warning:\nindirection of non-volatile null pointer will be deleted, not trap\n[-Wnull-dereference].  This commit qualifies the relevant pointers\nwith 'volatile'.\n\ngdb/testsuite/ChangeLog:\n\n\t* gdb.base/bigcore.c (main): Use a volatile pointer when\n\tattempting to trigger a SIGSEGV.\n\t* gdb.base/gcore-relro-pie.c (break_here): Likewise.\n\t* gdb.base/gcore-tls-pie.c (break_here): Likewise.\n\t* gdb.base/savedregs.c (thrower): Likewise.\n\t* gdb.mi/mi-syn-frame.c (bar): Likewise.",
    "tree": {
      "sha": "33bbc8cf61298451c57238118d44bd92d9d9ba10",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/33bbc8cf61298451c57238118d44bd92d9d9ba10"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/2a122642b4e4a7ec0f414b30d6ed7c48bc5c2eeb",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/2a122642b4e4a7ec0f414b30d6ed7c48bc5c2eeb",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/2a122642b4e4a7ec0f414b30d6ed7c48bc5c2eeb",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/2a122642b4e4a7ec0f414b30d6ed7c48bc5c2eeb/comments",
  "author": null,
  "committer": null,
  "parents": [
    {
      "sha": "3f00c730acee9d452ba81a3083f2c02d13c9f312",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/3f00c730acee9d452ba81a3083f2c02d13c9f312",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/3f00c730acee9d452ba81a3083f2c02d13c9f312"
    }
  ],
  "stats": {
    "total": 19,
    "additions": 14,
    "deletions": 5
  },
  "files": [
    {
      "sha": "fc9dcac563abc3db941cdb5a6c14ec5ea946cb20",
      "filename": "gdb/testsuite/ChangeLog",
      "status": "modified",
      "additions": 9,
      "deletions": 0,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2a122642b4e4a7ec0f414b30d6ed7c48bc5c2eeb/gdb/testsuite/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2a122642b4e4a7ec0f414b30d6ed7c48bc5c2eeb/gdb/testsuite/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/ChangeLog?ref=2a122642b4e4a7ec0f414b30d6ed7c48bc5c2eeb",
      "patch": "@@ -1,3 +1,12 @@\n+2020-07-13  Gary Benson <gbenson@redhat.com>\n+\n+\t* gdb.base/bigcore.c (main): Use a volatile pointer when\n+\tattempting to trigger a SIGSEGV.\n+\t* gdb.base/gcore-relro-pie.c (break_here): Likewise.\n+\t* gdb.base/gcore-tls-pie.c (break_here): Likewise.\n+\t* gdb.base/savedregs.c (thrower): Likewise.\n+\t* gdb.mi/mi-syn-frame.c (bar): Likewise.\n+\n 2020-07-13  Gary Benson <gbenson@redhat.com>\n \n \t* gdb.base/vla-datatypes.c (vla_factory): Factor out sections"
    },
    {
      "sha": "8be1b154b3908fbdfe294dcb0cb8bb0c82f5d6a9",
      "filename": "gdb/testsuite/gdb.base/bigcore.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2a122642b4e4a7ec0f414b30d6ed7c48bc5c2eeb/gdb/testsuite/gdb.base/bigcore.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2a122642b4e4a7ec0f414b30d6ed7c48bc5c2eeb/gdb/testsuite/gdb.base/bigcore.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/bigcore.c?ref=2a122642b4e4a7ec0f414b30d6ed7c48bc5c2eeb",
      "patch": "@@ -267,5 +267,5 @@ main ()\n   /* Push everything out to disk.  */\n \n   print_string (\"Dump core ....\\n\");\n-  *(char*)0 = 0;\n+  *(volatile char*)0 = 0;\n }"
    },
    {
      "sha": "9ae7cb2cb9b6044df020ea79a35a9896394b0a97",
      "filename": "gdb/testsuite/gdb.base/gcore-relro-pie.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2a122642b4e4a7ec0f414b30d6ed7c48bc5c2eeb/gdb/testsuite/gdb.base/gcore-relro-pie.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2a122642b4e4a7ec0f414b30d6ed7c48bc5c2eeb/gdb/testsuite/gdb.base/gcore-relro-pie.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/gcore-relro-pie.c?ref=2a122642b4e4a7ec0f414b30d6ed7c48bc5c2eeb",
      "patch": "@@ -18,7 +18,7 @@\n void\n break_here (void)\n {\n-  *(int *) 0 = 0;\n+  *(volatile int *) 0 = 0;\n }\n \n void"
    },
    {
      "sha": "18169fcd6274fcc5fa02812b7bc90539fbd352f2",
      "filename": "gdb/testsuite/gdb.base/gcore-tls-pie.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2a122642b4e4a7ec0f414b30d6ed7c48bc5c2eeb/gdb/testsuite/gdb.base/gcore-tls-pie.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2a122642b4e4a7ec0f414b30d6ed7c48bc5c2eeb/gdb/testsuite/gdb.base/gcore-tls-pie.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/gcore-tls-pie.c?ref=2a122642b4e4a7ec0f414b30d6ed7c48bc5c2eeb",
      "patch": "@@ -25,7 +25,7 @@ __thread char i;\n void\n break_here (void)\n {\n-  *(int *) 0 = 0;\n+  *(volatile int *) 0 = 0;\n }\n \n void"
    },
    {
      "sha": "05fba5061562b6d58f87fe73b65a38ad1c607ec3",
      "filename": "gdb/testsuite/gdb.base/savedregs.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2a122642b4e4a7ec0f414b30d6ed7c48bc5c2eeb/gdb/testsuite/gdb.base/savedregs.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2a122642b4e4a7ec0f414b30d6ed7c48bc5c2eeb/gdb/testsuite/gdb.base/savedregs.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/savedregs.c?ref=2a122642b4e4a7ec0f414b30d6ed7c48bc5c2eeb",
      "patch": "@@ -46,7 +46,7 @@ static void\n thrower (void)\n {\n   /* Trigger a SIGSEGV.  */\n-  *(char *)0 = 0;\n+  *(volatile char *)0 = 0;\n \n   /* On MMU-less system, previous memory access to address zero doesn't\n      trigger a SIGSEGV.  Trigger a SIGILL.  Each arch should define its"
    },
    {
      "sha": "b6ab6e8d88ad8d973fd6f16747f970ba289e4933",
      "filename": "gdb/testsuite/gdb.mi/mi-syn-frame.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2a122642b4e4a7ec0f414b30d6ed7c48bc5c2eeb/gdb/testsuite/gdb.mi/mi-syn-frame.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2a122642b4e4a7ec0f414b30d6ed7c48bc5c2eeb/gdb/testsuite/gdb.mi/mi-syn-frame.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.mi/mi-syn-frame.c?ref=2a122642b4e4a7ec0f414b30d6ed7c48bc5c2eeb",
      "patch": "@@ -27,7 +27,7 @@ foo (void)\n void \n bar (void)\n {\n-  *(char *)0 = 0;    /* try to cause a segfault */\n+  *(volatile char *)0 = 0;    /* try to cause a segfault */\n \n   /* On MMU-less system, previous memory access to address zero doesn't\n      trigger a SIGSEGV.  Trigger a SIGILL.  Each arch should define its"
    }
  ]
}