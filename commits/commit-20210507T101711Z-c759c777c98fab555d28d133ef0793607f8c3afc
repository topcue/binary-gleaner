{
  "sha": "c759c777c98fab555d28d133ef0793607f8c3afc",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6Yzc1OWM3NzdjOThmYWI1NTVkMjhkMTMzZWYwNzkzNjA3ZjhjM2FmYw==",
  "commit": {
    "author": {
      "name": "Tom Tromey",
      "email": "tom@tromey.com",
      "date": "2021-04-29T00:44:48Z"
    },
    "committer": {
      "name": "Richard Earnshaw",
      "email": "rearnsha@arm.com",
      "date": "2021-05-07T10:17:11Z"
    },
    "message": "libiberty: add htab_eq_string\n\nThe libiberty hash table includes a helper function for strings, but\nno equality function.  Consequently, this equality function has been\nreimplemented a number of times in both the gcc and binutils-gdb\nsource trees.  This patch adds the function to the libiberty hash\ntable, as a step toward the goal of removing all the copies.\n\nOne change to gcc is included here.  Normally I would have put this in\nthe next patch, but gensupport.c used the most natural name for its\nreimplementation of this function, and this can't coexist with the\nextern function in libiberty.\n\ninclude\n\n\t* hashtab.h (htab_eq_string): Declare.\n\nlibiberty\n\n\t* hashtab.c (htab_eq_string): New function.",
    "tree": {
      "sha": "05b6f52b6a4ec335853f019ce9cd2a9e6330f034",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/05b6f52b6a4ec335853f019ce9cd2a9e6330f034"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/c759c777c98fab555d28d133ef0793607f8c3afc",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/c759c777c98fab555d28d133ef0793607f8c3afc",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/c759c777c98fab555d28d133ef0793607f8c3afc",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/c759c777c98fab555d28d133ef0793607f8c3afc/comments",
  "author": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": null,
  "parents": [
    {
      "sha": "4cf88725da1cb503be04d3237354105ec170bc86",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/4cf88725da1cb503be04d3237354105ec170bc86",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/4cf88725da1cb503be04d3237354105ec170bc86"
    }
  ],
  "stats": {
    "total": 10,
    "additions": 10,
    "deletions": 0
  },
  "files": [
    {
      "sha": "77c5eec7905515e1da6dce423d41d9b6cf37b525",
      "filename": "include/hashtab.h",
      "status": "modified",
      "additions": 3,
      "deletions": 0,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c759c777c98fab555d28d133ef0793607f8c3afc/include/hashtab.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c759c777c98fab555d28d133ef0793607f8c3afc/include/hashtab.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/include/hashtab.h?ref=c759c777c98fab555d28d133ef0793607f8c3afc",
      "patch": "@@ -192,6 +192,9 @@ extern htab_eq htab_eq_pointer;\n /* A hash function for null-terminated strings.  */\n extern hashval_t htab_hash_string (const void *);\n \n+/* An equality function for null-terminated strings.  */\n+extern int htab_eq_string (const void *, const void *);\n+\n /* An iterative hash function for arbitrary data.  */\n extern hashval_t iterative_hash (const void *, size_t, hashval_t);\n /* Shorthand for hashing something with an intrinsic size.  */"
    },
    {
      "sha": "7c424e8f6cc1f11c62560d6db5a38dead4e266ea",
      "filename": "libiberty/hashtab.c",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c759c777c98fab555d28d133ef0793607f8c3afc/libiberty/hashtab.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c759c777c98fab555d28d133ef0793607f8c3afc/libiberty/hashtab.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/libiberty/hashtab.c?ref=c759c777c98fab555d28d133ef0793607f8c3afc",
      "patch": "@@ -841,6 +841,13 @@ htab_hash_string (const PTR p)\n   return r;\n }\n \n+/* An equality function for null-terminated strings.  */\n+int\n+htab_eq_string (const void *a, const void *b)\n+{\n+  return strcmp ((const char *) a, (const char *) b) == 0;\n+}\n+\n /* DERIVED FROM:\n --------------------------------------------------------------------\n lookup2.c, by Bob Jenkins, December 1996, Public Domain."
    }
  ]
}