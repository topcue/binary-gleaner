{
  "sha": "39e0f45682a39e09ab115333c593dbdd25658dd2",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MzllMGY0NTY4MmEzOWUwOWFiMTE1MzMzYzU5M2RiZGQyNTY1OGRkMg==",
  "commit": {
    "author": {
      "name": "Jan Beulich",
      "email": "jbeulich@suse.com",
      "date": "2020-07-06T11:35:38Z"
    },
    "committer": {
      "name": "Jan Beulich",
      "email": "jbeulich@suse.com",
      "date": "2020-07-06T11:35:38Z"
    },
    "message": "x86: replace EXqScalarS by EXqVexScalarS\n\nThere's only a single user, that that one can do fine with the\nalternative, as the \"Vex\" aspect of the other operand kind is meaningful\nonly on 3-operand insns.\n\nWhile doing this I noticed that I didn't need to do the same adjustment\nin the EVEX tables, and voil\u00e0 - there was a bug, which gets fixed at the\nsame time (see the testsuite changes).",
    "tree": {
      "sha": "1742193a9d440ffb599a4228ee5d19a825e29c7f",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/1742193a9d440ffb599a4228ee5d19a825e29c7f"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/39e0f45682a39e09ab115333c593dbdd25658dd2",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/39e0f45682a39e09ab115333c593dbdd25658dd2",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/39e0f45682a39e09ab115333c593dbdd25658dd2",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/39e0f45682a39e09ab115333c593dbdd25658dd2/comments",
  "author": {
    "login": "jbeulich",
    "id": 5610135,
    "node_id": "MDQ6VXNlcjU2MTAxMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5610135?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jbeulich",
    "html_url": "https://github.com/jbeulich",
    "followers_url": "https://api.github.com/users/jbeulich/followers",
    "following_url": "https://api.github.com/users/jbeulich/following{/other_user}",
    "gists_url": "https://api.github.com/users/jbeulich/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jbeulich/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jbeulich/subscriptions",
    "organizations_url": "https://api.github.com/users/jbeulich/orgs",
    "repos_url": "https://api.github.com/users/jbeulich/repos",
    "events_url": "https://api.github.com/users/jbeulich/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jbeulich/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "jbeulich",
    "id": 5610135,
    "node_id": "MDQ6VXNlcjU2MTAxMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5610135?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jbeulich",
    "html_url": "https://github.com/jbeulich",
    "followers_url": "https://api.github.com/users/jbeulich/followers",
    "following_url": "https://api.github.com/users/jbeulich/following{/other_user}",
    "gists_url": "https://api.github.com/users/jbeulich/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jbeulich/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jbeulich/subscriptions",
    "organizations_url": "https://api.github.com/users/jbeulich/orgs",
    "repos_url": "https://api.github.com/users/jbeulich/repos",
    "events_url": "https://api.github.com/users/jbeulich/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jbeulich/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "5b872f7df76cc88e0c4fdfe7872a3df3178302dc",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/5b872f7df76cc88e0c4fdfe7872a3df3178302dc",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/5b872f7df76cc88e0c4fdfe7872a3df3178302dc"
    }
  ],
  "stats": {
    "total": 36,
    "additions": 29,
    "deletions": 7
  },
  "files": [
    {
      "sha": "db578b778dc282877ef8a5e542c090b1c7294804",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 9,
      "deletions": 0,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/39e0f45682a39e09ab115333c593dbdd25658dd2/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/39e0f45682a39e09ab115333c593dbdd25658dd2/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=39e0f45682a39e09ab115333c593dbdd25658dd2",
      "patch": "@@ -1,3 +1,12 @@\n+2020-07-06  Jan Beulich  <jbeulich@suse.com>\n+\n+\t* testsuite/gas/i386/avx512f-opts.s: Add EVEX movq tests.\n+\t* testsuite/gas/i386/x86-64-avx512f-opts.s: Add blank line.\n+\t* testsuite/gas/i386/avx512f-opts-intel.d,\n+\ttestsuite/gas/i386/avx512f-opts.d\n+\ttestsuite/gas/i386/x86-64-avx512f-opts-intel.d\n+\ttestsuite/gas/i386/x86-64-avx512f-opts.d: Adjust expectations.\n+\n 2020-07-06  Yuri Chornoivan  <yurchor@ukr.net>\n \n \tPR 26204"
    },
    {
      "sha": "1a38ef65dc75f689dfbcbaed7a0f9f1fec2e65b4",
      "filename": "gas/testsuite/gas/i386/avx512f-opts-intel.d",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/39e0f45682a39e09ab115333c593dbdd25658dd2/gas/testsuite/gas/i386/avx512f-opts-intel.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/39e0f45682a39e09ab115333c593dbdd25658dd2/gas/testsuite/gas/i386/avx512f-opts-intel.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/avx512f-opts-intel.d?ref=39e0f45682a39e09ab115333c593dbdd25658dd2",
      "patch": "@@ -65,6 +65,8 @@ Disassembly of section .text:\n [ \t]*[a-f0-9]+:\t62 f1 7c 4f 10 f5    \tvmovups zmm6\\{k7\\},zmm5\n [ \t]*[a-f0-9]+:\t62 f1 7c cf 11 ee    \tvmovups.s zmm6\\{k7\\}\\{z\\},zmm5\n [ \t]*[a-f0-9]+:\t62 f1 7c cf 10 f5    \tvmovups zmm6\\{k7\\}\\{z\\},zmm5\n+[ \t]*[a-f0-9]+:\t62 f1 fd 08 d6 ee    \tvmovq\\.s xmm6,xmm5\n+[ \t]*[a-f0-9]+:\t62 f1 fe 08 7e f5    \tvmovq  xmm6,xmm5\n [ \t]*[a-f0-9]+:\t62 f1 fd 48 29 ee    \tvmovapd.s zmm6,zmm5\n [ \t]*[a-f0-9]+:\t62 f1 fd 48 28 f5    \tvmovapd zmm6,zmm5\n [ \t]*[a-f0-9]+:\t62 f1 fd 4f 29 ee    \tvmovapd.s zmm6\\{k7\\},zmm5"
    },
    {
      "sha": "19697e9b7fd4e44ca0328b0b713007cb27dc14ef",
      "filename": "gas/testsuite/gas/i386/avx512f-opts.d",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/39e0f45682a39e09ab115333c593dbdd25658dd2/gas/testsuite/gas/i386/avx512f-opts.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/39e0f45682a39e09ab115333c593dbdd25658dd2/gas/testsuite/gas/i386/avx512f-opts.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/avx512f-opts.d?ref=39e0f45682a39e09ab115333c593dbdd25658dd2",
      "patch": "@@ -64,6 +64,8 @@ Disassembly of section .text:\n [ \t]*[a-f0-9]+:\t62 f1 7c 4f 10 f5    \tvmovups %zmm5,%zmm6\\{%k7\\}\n [ \t]*[a-f0-9]+:\t62 f1 7c cf 11 ee    \tvmovups.s %zmm5,%zmm6\\{%k7\\}\\{z\\}\n [ \t]*[a-f0-9]+:\t62 f1 7c cf 10 f5    \tvmovups %zmm5,%zmm6\\{%k7\\}\\{z\\}\n+[ \t]*[a-f0-9]+:\t62 f1 fd 08 d6 ee    \tvmovq\\.s %xmm5,%xmm6\n+[ \t]*[a-f0-9]+:\t62 f1 fe 08 7e f5    \tvmovq  %xmm5,%xmm6\n [ \t]*[a-f0-9]+:\t62 f1 fd 48 29 ee    \tvmovapd.s %zmm5,%zmm6\n [ \t]*[a-f0-9]+:\t62 f1 fd 48 28 f5    \tvmovapd %zmm5,%zmm6\n [ \t]*[a-f0-9]+:\t62 f1 fd 4f 29 ee    \tvmovapd.s %zmm5,%zmm6\\{%k7\\}"
    },
    {
      "sha": "91ccd2544af0526f8b3520441ea469579dc54367",
      "filename": "gas/testsuite/gas/i386/avx512f-opts.s",
      "status": "modified",
      "additions": 3,
      "deletions": 0,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/39e0f45682a39e09ab115333c593dbdd25658dd2/gas/testsuite/gas/i386/avx512f-opts.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/39e0f45682a39e09ab115333c593dbdd25658dd2/gas/testsuite/gas/i386/avx512f-opts.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/avx512f-opts.s?ref=39e0f45682a39e09ab115333c593dbdd25658dd2",
      "patch": "@@ -60,6 +60,9 @@ _start:\n \tvmovups\t%zmm5, %zmm6{%k7}\t # AVX512F\n \tvmovups.s\t%zmm5, %zmm6{%k7}{z}\t # AVX512F\n \tvmovups\t%zmm5, %zmm6{%k7}{z}\t # AVX512F\n+\t{evex} vmovq.s\t%xmm5,%xmm6\n+\t{evex} vmovq\t%xmm5,%xmm6\n+\n \t.intel_syntax noprefix\n \tvmovapd.s\tzmm6, zmm5\t # AVX512F\n \tvmovapd\tzmm6, zmm5\t # AVX512F"
    },
    {
      "sha": "92b148642875d35509f8feae02b72de0807c2d40",
      "filename": "gas/testsuite/gas/i386/x86-64-avx512f-opts-intel.d",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/39e0f45682a39e09ab115333c593dbdd25658dd2/gas/testsuite/gas/i386/x86-64-avx512f-opts-intel.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/39e0f45682a39e09ab115333c593dbdd25658dd2/gas/testsuite/gas/i386/x86-64-avx512f-opts-intel.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/x86-64-avx512f-opts-intel.d?ref=39e0f45682a39e09ab115333c593dbdd25658dd2",
      "patch": "@@ -55,7 +55,7 @@ Disassembly of section .text:\n [ \t]*[a-f0-9]+:\t62 61 fd 08 7e f0    \tvmovq  rax,xmm30\n [ \t]*[a-f0-9]+:\t62 41 fd 08 7e f0    \tvmovq  r8,xmm30\n [ \t]*[a-f0-9]+:\t62 41 fd 08 7e f0    \tvmovq  r8,xmm30\n-[ \t]*[a-f0-9]+:\t62 01 fd 08 d6 ee    \tvmovq  xmm30,xmm29\n+[ \t]*[a-f0-9]+:\t62 01 fd 08 d6 ee    \tvmovq\\.s xmm30,xmm29\n [ \t]*[a-f0-9]+:\t62 01 fe 08 7e f5    \tvmovq  xmm30,xmm29\n [ \t]*[a-f0-9]+:\t62 01 97 07 11 e6    \tvmovsd.s xmm30\\{k7\\},xmm29,xmm28\n [ \t]*[a-f0-9]+:\t62 01 97 07 10 f4    \tvmovsd xmm30\\{k7\\},xmm29,xmm28\n@@ -123,7 +123,7 @@ Disassembly of section .text:\n [ \t]*[a-f0-9]+:\t62 61 fd 08 7e f0    \tvmovq  rax,xmm30\n [ \t]*[a-f0-9]+:\t62 41 fd 08 7e f0    \tvmovq  r8,xmm30\n [ \t]*[a-f0-9]+:\t62 41 fd 08 7e f0    \tvmovq  r8,xmm30\n-[ \t]*[a-f0-9]+:\t62 01 fd 08 d6 ee    \tvmovq  xmm30,xmm29\n+[ \t]*[a-f0-9]+:\t62 01 fd 08 d6 ee    \tvmovq\\.s xmm30,xmm29\n [ \t]*[a-f0-9]+:\t62 01 fe 08 7e f5    \tvmovq  xmm30,xmm29\n [ \t]*[a-f0-9]+:\t62 01 97 07 11 e6    \tvmovsd.s xmm30\\{k7\\},xmm29,xmm28\n [ \t]*[a-f0-9]+:\t62 01 97 07 10 f4    \tvmovsd xmm30\\{k7\\},xmm29,xmm28"
    },
    {
      "sha": "eeb296a08b09106581fc5e48f9dd42dfe006aa01",
      "filename": "gas/testsuite/gas/i386/x86-64-avx512f-opts.d",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/39e0f45682a39e09ab115333c593dbdd25658dd2/gas/testsuite/gas/i386/x86-64-avx512f-opts.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/39e0f45682a39e09ab115333c593dbdd25658dd2/gas/testsuite/gas/i386/x86-64-avx512f-opts.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/x86-64-avx512f-opts.d?ref=39e0f45682a39e09ab115333c593dbdd25658dd2",
      "patch": "@@ -54,7 +54,7 @@ Disassembly of section .text:\n [ \t]*[a-f0-9]+:\t62 61 fd 08 7e f0    \tvmovq  %xmm30,%rax\n [ \t]*[a-f0-9]+:\t62 41 fd 08 7e f0    \tvmovq  %xmm30,%r8\n [ \t]*[a-f0-9]+:\t62 41 fd 08 7e f0    \tvmovq  %xmm30,%r8\n-[ \t]*[a-f0-9]+:\t62 01 fd 08 d6 ee    \tvmovq  %xmm29,%xmm30\n+[ \t]*[a-f0-9]+:\t62 01 fd 08 d6 ee    \tvmovq\\.s %xmm29,%xmm30\n [ \t]*[a-f0-9]+:\t62 01 fe 08 7e f5    \tvmovq  %xmm29,%xmm30\n [ \t]*[a-f0-9]+:\t62 01 97 07 11 e6    \tvmovsd.s %xmm28,%xmm29,%xmm30\\{%k7\\}\n [ \t]*[a-f0-9]+:\t62 01 97 07 10 f4    \tvmovsd %xmm28,%xmm29,%xmm30\\{%k7\\}\n@@ -122,7 +122,7 @@ Disassembly of section .text:\n [ \t]*[a-f0-9]+:\t62 61 fd 08 7e f0    \tvmovq  %xmm30,%rax\n [ \t]*[a-f0-9]+:\t62 41 fd 08 7e f0    \tvmovq  %xmm30,%r8\n [ \t]*[a-f0-9]+:\t62 41 fd 08 7e f0    \tvmovq  %xmm30,%r8\n-[ \t]*[a-f0-9]+:\t62 01 fd 08 d6 ee    \tvmovq  %xmm29,%xmm30\n+[ \t]*[a-f0-9]+:\t62 01 fd 08 d6 ee    \tvmovq\\.s %xmm29,%xmm30\n [ \t]*[a-f0-9]+:\t62 01 fe 08 7e f5    \tvmovq  %xmm29,%xmm30\n [ \t]*[a-f0-9]+:\t62 01 97 07 11 e6    \tvmovsd.s %xmm28,%xmm29,%xmm30\\{%k7\\}\n [ \t]*[a-f0-9]+:\t62 01 97 07 10 f4    \tvmovsd %xmm28,%xmm29,%xmm30\\{%k7\\}"
    },
    {
      "sha": "27898a198af57cd9d78a42ee59a473e12a650916",
      "filename": "gas/testsuite/gas/i386/x86-64-avx512f-opts.s",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/39e0f45682a39e09ab115333c593dbdd25658dd2/gas/testsuite/gas/i386/x86-64-avx512f-opts.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/39e0f45682a39e09ab115333c593dbdd25658dd2/gas/testsuite/gas/i386/x86-64-avx512f-opts.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/x86-64-avx512f-opts.s?ref=39e0f45682a39e09ab115333c593dbdd25658dd2",
      "patch": "@@ -72,6 +72,7 @@ _start:\n \tvmovups\t%zmm29, %zmm30{%k7}\t # AVX512F\n \tvmovups.s\t%zmm29, %zmm30{%k7}{z}\t # AVX512F\n \tvmovups\t%zmm29, %zmm30{%k7}{z}\t # AVX512F\n+\n \t.intel_syntax noprefix\n \tvmovapd.s\tzmm30, zmm29\t # AVX512F\n \tvmovapd\tzmm30, zmm29\t # AVX512F"
    },
    {
      "sha": "205db9b06d9ceffec31599fa38c6b582b8651283",
      "filename": "opcodes/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/39e0f45682a39e09ab115333c593dbdd25658dd2/opcodes/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/39e0f45682a39e09ab115333c593dbdd25658dd2/opcodes/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/ChangeLog?ref=39e0f45682a39e09ab115333c593dbdd25658dd2",
      "patch": "@@ -1,3 +1,9 @@\n+2020-07-06  Jan Beulich  <jbeulich@suse.com>\n+\n+\t* i386-dis.c (EXqScalarS): Delete.\n+\t(vex_len_table): Replace EXqScalarS by EXqVexScalarS.\n+\t* i386-dis-evex-w.h (vmovq): Use EXqVexScalarS.\n+\n 2020-07-06  Jan Beulich  <jbeulich@suse.com>\n \n \t* i386-dis.c (safe-ctype.h): Include."
    },
    {
      "sha": "45ecb87ab4464dcef8f782031ca94f536592df6c",
      "filename": "opcodes/i386-dis-evex-w.h",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/39e0f45682a39e09ab115333c593dbdd25658dd2/opcodes/i386-dis-evex-w.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/39e0f45682a39e09ab115333c593dbdd25658dd2/opcodes/i386-dis-evex-w.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/i386-dis-evex-w.h?ref=39e0f45682a39e09ab115333c593dbdd25658dd2",
      "patch": "@@ -294,7 +294,7 @@\n   /* EVEX_W_0FD6_P_2 */\n   {\n     { Bad_Opcode },\n-    { \"vmovq\",\t{ EXxmm_mq, XMScalar }, 0 },\n+    { \"vmovq\",\t{ EXqVexScalarS, XMScalar }, 0 },\n   },\n   /* EVEX_W_0FE6_P_1 */\n   {"
    },
    {
      "sha": "8ef1aa7e4959063569725461ac79aa56b5597286",
      "filename": "opcodes/i386-dis.c",
      "status": "modified",
      "additions": 1,
      "deletions": 2,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/39e0f45682a39e09ab115333c593dbdd25658dd2/opcodes/i386-dis.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/39e0f45682a39e09ab115333c593dbdd25658dd2/opcodes/i386-dis.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/i386-dis.c?ref=39e0f45682a39e09ab115333c593dbdd25658dd2",
      "patch": "@@ -386,7 +386,6 @@ fetch_data (struct disassemble_info *info, bfd_byte *addr)\n #define EXd { OP_EX, d_mode }\n #define EXdS { OP_EX, d_swap_mode }\n #define EXq { OP_EX, q_mode }\n-#define EXqScalarS { OP_EX, q_scalar_swap_mode }\n #define EXqS { OP_EX, q_swap_mode }\n #define EXx { OP_EX, x_mode }\n #define EXxS { OP_EX, x_swap_mode }\n@@ -9498,7 +9497,7 @@ static const struct dis386 vex_len_table[][2] = {\n \n   /* VEX_LEN_0FD6_P_2 */\n   {\n-    { \"vmovq\",\t\t{ EXqScalarS, XMScalar }, 0 },\n+    { \"vmovq\",\t\t{ EXqVexScalarS, XMScalar }, 0 },\n   },\n \n   /* VEX_LEN_0FF7_P_2 */"
    }
  ]
}