{
  "sha": "918dc783deadc206691dcc20bf8aa6c807c10244",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6OTE4ZGM3ODNkZWFkYzIwNjY5MWRjYzIwYmY4YWE2YzgwN2MxMDI0NA==",
  "commit": {
    "author": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2020-08-24T16:25:38Z"
    },
    "committer": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2020-08-24T16:42:35Z"
    },
    "message": "PR26489, ASAN: ppc64_elf_size_stubs elf64-ppc.c:13389\n\nStub sections are inserted after sec_info is sized, so have higher ids.\nTest flags that will exclude stub sections before looking at the\nsec_info array.\n\n\tPR 26489\n\t* elf64-ppc.c (ppc64_elf_size_stubs): Test code_sec->has_toc_reloc\n\tand code_sec->makes_toc_func_call before sec_info[code_sec->id].",
    "tree": {
      "sha": "3bd5c7ff591a97be6d9dbc79972e1ad408bfc71f",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/3bd5c7ff591a97be6d9dbc79972e1ad408bfc71f"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/918dc783deadc206691dcc20bf8aa6c807c10244",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/918dc783deadc206691dcc20bf8aa6c807c10244",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/918dc783deadc206691dcc20bf8aa6c807c10244",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/918dc783deadc206691dcc20bf8aa6c807c10244/comments",
  "author": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "573eb292ee79dc78207cedadaa8acbb1922ab699",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/573eb292ee79dc78207cedadaa8acbb1922ab699",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/573eb292ee79dc78207cedadaa8acbb1922ab699"
    }
  ],
  "stats": {
    "total": 12,
    "additions": 9,
    "deletions": 3
  },
  "files": [
    {
      "sha": "ca79c4e583072bfd0fdaefe3232a000e89598324",
      "filename": "bfd/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/918dc783deadc206691dcc20bf8aa6c807c10244/bfd/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/918dc783deadc206691dcc20bf8aa6c807c10244/bfd/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/ChangeLog?ref=918dc783deadc206691dcc20bf8aa6c807c10244",
      "patch": "@@ -1,3 +1,9 @@\n+2020-08-25  Alan Modra  <amodra@gmail.com>\n+\n+\tPR 26489\n+\t* elf64-ppc.c (ppc64_elf_size_stubs): Test code_sec->has_toc_reloc\n+\tand code_sec->makes_toc_func_call before sec_info[code_sec->id].\n+\n 2020-08-25  Alan Modra  <amodra@gmail.com>\n \n \tPR 26492"
    },
    {
      "sha": "d144796b466351888e4e07b29aee1fd53e4ff425",
      "filename": "bfd/elf64-ppc.c",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/918dc783deadc206691dcc20bf8aa6c807c10244/bfd/elf64-ppc.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/918dc783deadc206691dcc20bf8aa6c807c10244/bfd/elf64-ppc.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/elf64-ppc.c?ref=918dc783deadc206691dcc20bf8aa6c807c10244",
      "patch": "@@ -13426,10 +13426,10 @@ ppc64_elf_size_stubs (struct bfd_link_info *info)\n \t\t\t fact a call needing a TOC adjustment.  */\n \t\t      if ((code_sec != NULL\n \t\t\t   && code_sec->output_section != NULL\n-\t\t\t   && (htab->sec_info[code_sec->id].toc_off\n-\t\t\t       != htab->sec_info[section->id].toc_off)\n \t\t\t   && (code_sec->has_toc_reloc\n-\t\t\t       || code_sec->makes_toc_func_call))\n+\t\t\t       || code_sec->makes_toc_func_call)\n+\t\t\t   && (htab->sec_info[code_sec->id].toc_off\n+\t\t\t       != htab->sec_info[section->id].toc_off))\n \t\t\t  || (((hash ? hash->elf.other : sym->st_other)\n \t\t\t       & STO_PPC64_LOCAL_MASK)\n \t\t\t      == 1 << STO_PPC64_LOCAL_BIT))"
    }
  ]
}