{
  "sha": "20ea4a609c44e5795a57c7b409e99442f8a44a0d",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MjBlYTRhNjA5YzQ0ZTU3OTVhNTdjN2I0MDllOTk0NDJmOGE0NGEwZA==",
  "commit": {
    "author": {
      "name": "Andrew Burgess",
      "email": "andrew.burgess@embecosm.com",
      "date": "2020-02-28T18:08:08Z"
    },
    "committer": {
      "name": "Andrew Burgess",
      "email": "andrew.burgess@embecosm.com",
      "date": "2020-03-06T11:29:46Z"
    },
    "message": "gdbserver/gdbsupport: Add .dir-locals.el file\n\nCopy the .dir-locls.el file from gdb/ to gdbserver/ and gdbsupport/ so\nthat we get the GNU/GDB style when editing these files in Emacs.\n\nI initially wanted to remove the (c-mode . ((mode . c++))) that\nswitches c-mode files into c++-mode as we store C++ code in *.cc files\nin the gdbserver/ directory, unlike gdb/ where we use *.c, however, I\nwas forgetting about the header files - we still use *.h for our C++\nheader files, so for now I left the settings in place to open all C\nfiles in c++-mode.\n\nWe now have three copies of this file, which are all identical.  It\nwould be nice if we could remove this duplication, however, for now we\nhaven't found a good way to do this.\n\nSome options considered were:\n\n  1. Use symlinks to only have one copy of the file.  This was\n  rejected as not all targets support symlinks in the way.\n\n  2. Have two of the .dir-locals.el files contain some mechanism by\n  which the third copy of the file is sourced.  Though this would, in\n  theory, be possible, it would involve some advanced Emacs scripting,\n  would be fragile, and a maintenance burdon.\n\n  3. Move the .dir-locals up into top level src/ directory, then use\n  Emacs dir-locals directory pattern matching to only apply the rules\n  for the three directories we care about.  The problem is that each\n  directory has to be listed separately, so we still end up having to\n  duplicate all the rules.\n\nIn the end, it was decided that having three copies of the file,\nthough not ideal, is probably easiest for now.  This was all discussed\nin this mailing list thread:\n\n  https://sourceware.org/ml/gdb-patches/2020-03/msg00024.html\n\nThe copyright date in the new files is left as for gdb/.dir-locals.el,\nas the new files are a copy of the old, this is inline with this rule:\n\n  https://sourceware.org/gdb/wiki/ContributionChecklist#Copyright_Header\n\ngdb/ChangeLog:\n\n\t* .dir-locals.el: Add a comment referencing the other copies of\n\tthis file.\n\ngdbserver/ChangeLog:\n\n\t* .dir-locals.el: New file.\n\ngdbsupport/ChangeLog:\n\n\t* .dir-locals.el: New file.",
    "tree": {
      "sha": "2fbed678519d627ff8f66818981e9d7727f9b0bd",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/2fbed678519d627ff8f66818981e9d7727f9b0bd"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/20ea4a609c44e5795a57c7b409e99442f8a44a0d",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/20ea4a609c44e5795a57c7b409e99442f8a44a0d",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/20ea4a609c44e5795a57c7b409e99442f8a44a0d",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/20ea4a609c44e5795a57c7b409e99442f8a44a0d/comments",
  "author": {
    "login": "T-J-Teru",
    "id": 475372,
    "node_id": "MDQ6VXNlcjQ3NTM3Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/475372?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/T-J-Teru",
    "html_url": "https://github.com/T-J-Teru",
    "followers_url": "https://api.github.com/users/T-J-Teru/followers",
    "following_url": "https://api.github.com/users/T-J-Teru/following{/other_user}",
    "gists_url": "https://api.github.com/users/T-J-Teru/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/T-J-Teru/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/T-J-Teru/subscriptions",
    "organizations_url": "https://api.github.com/users/T-J-Teru/orgs",
    "repos_url": "https://api.github.com/users/T-J-Teru/repos",
    "events_url": "https://api.github.com/users/T-J-Teru/events{/privacy}",
    "received_events_url": "https://api.github.com/users/T-J-Teru/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "T-J-Teru",
    "id": 475372,
    "node_id": "MDQ6VXNlcjQ3NTM3Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/475372?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/T-J-Teru",
    "html_url": "https://github.com/T-J-Teru",
    "followers_url": "https://api.github.com/users/T-J-Teru/followers",
    "following_url": "https://api.github.com/users/T-J-Teru/following{/other_user}",
    "gists_url": "https://api.github.com/users/T-J-Teru/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/T-J-Teru/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/T-J-Teru/subscriptions",
    "organizations_url": "https://api.github.com/users/T-J-Teru/orgs",
    "repos_url": "https://api.github.com/users/T-J-Teru/repos",
    "events_url": "https://api.github.com/users/T-J-Teru/events{/privacy}",
    "received_events_url": "https://api.github.com/users/T-J-Teru/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "3c968de5c7d1719b2f9b538f2f7f5f5922e5f311",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/3c968de5c7d1719b2f9b538f2f7f5f5922e5f311",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/3c968de5c7d1719b2f9b538f2f7f5f5922e5f311"
    }
  ],
  "stats": {
    "total": 99,
    "additions": 99,
    "deletions": 0
  },
  "files": [
    {
      "sha": "a69571a23f17dbdeea8a07882e9dfc9a1e39fe05",
      "filename": "gdb/.dir-locals.el",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/20ea4a609c44e5795a57c7b409e99442f8a44a0d/gdb/.dir-locals.el",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/20ea4a609c44e5795a57c7b409e99442f8a44a0d/gdb/.dir-locals.el",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/.dir-locals.el?ref=20ea4a609c44e5795a57c7b409e99442f8a44a0d",
      "patch": "@@ -14,6 +14,10 @@\n ;; You should have received a copy of the GNU General Public License\n ;; along with this program.  If not, see <http://www.gnu.org/licenses/>.\n \n+;; There are three copies of this file, one in each of gdb/,\n+;; gdbserver/, and gdbsupport/.  If you edit any one of these then\n+;; please replicate the changes in the other two copies.\n+\n (\n  (tcl-mode . ((tcl-indent-level . 4)\n \t      (tcl-continued-indent-level . 4)"
    },
    {
      "sha": "b3a5e0aa36953bbea4eba68fa32544d09333c1ab",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/20ea4a609c44e5795a57c7b409e99442f8a44a0d/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/20ea4a609c44e5795a57c7b409e99442f8a44a0d/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=20ea4a609c44e5795a57c7b409e99442f8a44a0d",
      "patch": "@@ -1,3 +1,8 @@\n+2020-03-06  Andrew Burgess  <andrew.burgess@embecosm.com>\n+\n+\t* .dir-locals.el: Add a comment referencing the other copies of\n+\tthis file.\n+\n 2020-03-05  John Baldwin  <jhb@FreeBSD.org>\n \n \t* fbsd-tdep.c (fbsd_make_corefile_notes): Use std::string for"
    },
    {
      "sha": "a69571a23f17dbdeea8a07882e9dfc9a1e39fe05",
      "filename": "gdbserver/.dir-locals.el",
      "status": "added",
      "additions": 41,
      "deletions": 0,
      "changes": 41,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/20ea4a609c44e5795a57c7b409e99442f8a44a0d/gdbserver/.dir-locals.el",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/20ea4a609c44e5795a57c7b409e99442f8a44a0d/gdbserver/.dir-locals.el",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/.dir-locals.el?ref=20ea4a609c44e5795a57c7b409e99442f8a44a0d",
      "patch": "@@ -0,0 +1,41 @@\n+;; Emacs settings.\n+;; Copyright (C) 2012-2020 Free Software Foundation, Inc.\n+\n+;; This program is free software; you can redistribute it and/or modify\n+;; it under the terms of the GNU General Public License as published by\n+;; the Free Software Foundation; either version 3 of the License, or\n+;; (at your option) any later version.\n+\n+;; This program is distributed in the hope that it will be useful,\n+;; but WITHOUT ANY WARRANTY; without even the implied warranty of\n+;; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+;; GNU General Public License for more details.\n+\n+;; You should have received a copy of the GNU General Public License\n+;; along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+\n+;; There are three copies of this file, one in each of gdb/,\n+;; gdbserver/, and gdbsupport/.  If you edit any one of these then\n+;; please replicate the changes in the other two copies.\n+\n+(\n+ (tcl-mode . ((tcl-indent-level . 4)\n+\t      (tcl-continued-indent-level . 4)\n+\t      (indent-tabs-mode . t)))\n+ (nil . ((bug-reference-url-format . \"http://sourceware.org/bugzilla/show_bug.cgi?id=%s\")))\n+ (c-mode . ((c-file-style . \"GNU\")\n+\t    (mode . c++)\n+\t    (indent-tabs-mode . t)\n+\t    (tab-width . 8)\n+\t    (c-basic-offset . 2)\n+\t    (eval . (c-set-offset 'innamespace 0))\n+\t    ))\n+ (c++-mode . ((eval . (when (fboundp 'c-toggle-comment-style)\n+\t\t\t(c-toggle-comment-style 1)))\n+\t      (indent-tabs-mode . t)\n+\t      (tab-width . 8)\n+\t      (c-file-style . \"GNU\")\n+\t      (c-basic-offset . 2)\n+\t      (eval . (c-set-offset 'innamespace 0))\n+\t      ))\n+)"
    },
    {
      "sha": "16346de8dec57146c3ce642f08a4a079ececf6c4",
      "filename": "gdbserver/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/20ea4a609c44e5795a57c7b409e99442f8a44a0d/gdbserver/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/20ea4a609c44e5795a57c7b409e99442f8a44a0d/gdbserver/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/ChangeLog?ref=20ea4a609c44e5795a57c7b409e99442f8a44a0d",
      "patch": "@@ -1,3 +1,7 @@\n+2020-03-06  Andrew Burgess  <andrew.burgess@embecosm.com>\n+\n+\t* .dir-locals.el: New file.\n+\n 2020-03-05  Tankut Baris Aktemur  <tankut.baris.aktemur@intel.com>\n \n \t* .gitattributes: New file."
    },
    {
      "sha": "a69571a23f17dbdeea8a07882e9dfc9a1e39fe05",
      "filename": "gdbsupport/.dir-locals.el",
      "status": "added",
      "additions": 41,
      "deletions": 0,
      "changes": 41,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/20ea4a609c44e5795a57c7b409e99442f8a44a0d/gdbsupport/.dir-locals.el",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/20ea4a609c44e5795a57c7b409e99442f8a44a0d/gdbsupport/.dir-locals.el",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbsupport/.dir-locals.el?ref=20ea4a609c44e5795a57c7b409e99442f8a44a0d",
      "patch": "@@ -0,0 +1,41 @@\n+;; Emacs settings.\n+;; Copyright (C) 2012-2020 Free Software Foundation, Inc.\n+\n+;; This program is free software; you can redistribute it and/or modify\n+;; it under the terms of the GNU General Public License as published by\n+;; the Free Software Foundation; either version 3 of the License, or\n+;; (at your option) any later version.\n+\n+;; This program is distributed in the hope that it will be useful,\n+;; but WITHOUT ANY WARRANTY; without even the implied warranty of\n+;; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+;; GNU General Public License for more details.\n+\n+;; You should have received a copy of the GNU General Public License\n+;; along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+\n+;; There are three copies of this file, one in each of gdb/,\n+;; gdbserver/, and gdbsupport/.  If you edit any one of these then\n+;; please replicate the changes in the other two copies.\n+\n+(\n+ (tcl-mode . ((tcl-indent-level . 4)\n+\t      (tcl-continued-indent-level . 4)\n+\t      (indent-tabs-mode . t)))\n+ (nil . ((bug-reference-url-format . \"http://sourceware.org/bugzilla/show_bug.cgi?id=%s\")))\n+ (c-mode . ((c-file-style . \"GNU\")\n+\t    (mode . c++)\n+\t    (indent-tabs-mode . t)\n+\t    (tab-width . 8)\n+\t    (c-basic-offset . 2)\n+\t    (eval . (c-set-offset 'innamespace 0))\n+\t    ))\n+ (c++-mode . ((eval . (when (fboundp 'c-toggle-comment-style)\n+\t\t\t(c-toggle-comment-style 1)))\n+\t      (indent-tabs-mode . t)\n+\t      (tab-width . 8)\n+\t      (c-file-style . \"GNU\")\n+\t      (c-basic-offset . 2)\n+\t      (eval . (c-set-offset 'innamespace 0))\n+\t      ))\n+)"
    },
    {
      "sha": "04944a17b4ff2dc3bdbc9369aad7a86a97e508fa",
      "filename": "gdbsupport/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/20ea4a609c44e5795a57c7b409e99442f8a44a0d/gdbsupport/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/20ea4a609c44e5795a57c7b409e99442f8a44a0d/gdbsupport/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbsupport/ChangeLog?ref=20ea4a609c44e5795a57c7b409e99442f8a44a0d",
      "patch": "@@ -1,3 +1,7 @@\n+2020-03-06  Andrew Burgess  <andrew.burgess@embecosm.com>\n+\n+\t* .dir-locals.el: New file.\n+\n 2020-03-05  Vyacheslav Petrishchev  <vyachemail@gmail.com>\n \n \t* configure.ac: Added call development.sh."
    }
  ]
}