{
  "sha": "6cb0a70ef31ff585f046cb20a30088c0433d84f0",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NmNiMGE3MGVmMzFmZjU4NWYwNDZjYjIwYTMwMDg4YzA0MzNkODRmMA==",
  "commit": {
    "author": {
      "name": "Jan Beulich",
      "email": "jbeulich@suse.com",
      "date": "2019-12-27T08:39:17Z"
    },
    "committer": {
      "name": "Jan Beulich",
      "email": "jbeulich@suse.com",
      "date": "2019-12-27T08:39:17Z"
    },
    "message": "x86-64: correct / adjust prefix emission\n\nFirst and foremost REX must come last. Next JumpInterSegment branches\ncan't possibly have a REX prefix, as they're consistently CpuNo64. And\nfinally make BND prefix handling in output_branch() consistent with that\nof other prefixes in the same function, and make its placement among\nprefixes consistent with output_jump() (which, oddly enough, still isn't\nthe supposedly canonical order specified by the *_PREFIX definitions).",
    "tree": {
      "sha": "7db13f1044a85a4be4154085ec17d3ee31893c79",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/7db13f1044a85a4be4154085ec17d3ee31893c79"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/6cb0a70ef31ff585f046cb20a30088c0433d84f0",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/6cb0a70ef31ff585f046cb20a30088c0433d84f0",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/6cb0a70ef31ff585f046cb20a30088c0433d84f0",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/6cb0a70ef31ff585f046cb20a30088c0433d84f0/comments",
  "author": {
    "login": "jbeulich",
    "id": 5610135,
    "node_id": "MDQ6VXNlcjU2MTAxMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5610135?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jbeulich",
    "html_url": "https://github.com/jbeulich",
    "followers_url": "https://api.github.com/users/jbeulich/followers",
    "following_url": "https://api.github.com/users/jbeulich/following{/other_user}",
    "gists_url": "https://api.github.com/users/jbeulich/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jbeulich/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jbeulich/subscriptions",
    "organizations_url": "https://api.github.com/users/jbeulich/orgs",
    "repos_url": "https://api.github.com/users/jbeulich/repos",
    "events_url": "https://api.github.com/users/jbeulich/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jbeulich/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "jbeulich",
    "id": 5610135,
    "node_id": "MDQ6VXNlcjU2MTAxMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5610135?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jbeulich",
    "html_url": "https://github.com/jbeulich",
    "followers_url": "https://api.github.com/users/jbeulich/followers",
    "following_url": "https://api.github.com/users/jbeulich/following{/other_user}",
    "gists_url": "https://api.github.com/users/jbeulich/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jbeulich/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jbeulich/subscriptions",
    "organizations_url": "https://api.github.com/users/jbeulich/orgs",
    "repos_url": "https://api.github.com/users/jbeulich/repos",
    "events_url": "https://api.github.com/users/jbeulich/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jbeulich/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "376cd056100dff2d6fc842aa013d0bbffdef363d",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/376cd056100dff2d6fc842aa013d0bbffdef363d",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/376cd056100dff2d6fc842aa013d0bbffdef363d"
    }
  ],
  "stats": {
    "total": 135,
    "additions": 72,
    "deletions": 63
  },
  "files": [
    {
      "sha": "286f018747b0564115c2f24a31bcb6785f7d796b",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 16,
      "deletions": 0,
      "changes": 16,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6cb0a70ef31ff585f046cb20a30088c0433d84f0/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6cb0a70ef31ff585f046cb20a30088c0433d84f0/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=6cb0a70ef31ff585f046cb20a30088c0433d84f0",
      "patch": "@@ -1,3 +1,19 @@\n+2019-12-27  Jan Beulich  <jbeulich@suse.com>\n+\n+\t* config/tc-i386.c (output_branch): Handle BND prefix the same\n+\tway as other prefixes. Emit it last before REX.\n+\t(output_jump): Emit BND before REX.\n+\t(output_interseg_jump): Don't emit REX.\n+\t* testsuite/gas/i386/x86-64-branch-2.s,\n+\ttestsuite/gas/i386/x86-64-branch-3.s,\n+\ttestsuite/gas/i386/x86-64-mpx-branch-1.s,\n+\ttestsuite/gas/i386/x86-64-mpx-branch-2.s: Add REX.W cases.\n+\t* testsuite/gas/i386/x86-64-mpx-branch-2.d: Match output against\n+\tx86-64-mpx-branch-1.d.\n+\t* testsuite/gas/i386/x86-64-branch-2.d,\n+\ttestsuite/gas/i386/x86-64-branch-3.d,\n+\ttestsuite/gas/i386/x86-64-mpx-branch-1.d: Adjust expectations.\n+\n 2019-12-27  Jan Beulich  <jbeulich@suse.com>\n \n \t* config/tc-i386.c (flip_code16): New."
    },
    {
      "sha": "8e89b00f8d1e89ae79815cb1d02ccc0d44a21b6a",
      "filename": "gas/config/tc-i386.c",
      "status": "modified",
      "additions": 11,
      "deletions": 12,
      "changes": 23,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6cb0a70ef31ff585f046cb20a30088c0433d84f0/gas/config/tc-i386.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6cb0a70ef31ff585f046cb20a30088c0433d84f0/gas/config/tc-i386.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/config/tc-i386.c?ref=6cb0a70ef31ff585f046cb20a30088c0433d84f0",
      "patch": "@@ -7910,8 +7910,8 @@ output_branch (void)\n   /* BND prefixed jump.  */\n   if (i.prefix[BND_PREFIX] != 0)\n     {\n-      FRAG_APPEND_1_CHAR (i.prefix[BND_PREFIX]);\n-      i.prefixes -= 1;\n+      prefix++;\n+      i.prefixes--;\n     }\n \n   if (i.prefixes != 0 && !intel_syntax)\n@@ -7930,6 +7930,8 @@ output_branch (void)\n   if (i.prefix[SEG_PREFIX] == CS_PREFIX_OPCODE\n       || i.prefix[SEG_PREFIX] == DS_PREFIX_OPCODE)\n     *p++ = i.prefix[SEG_PREFIX];\n+  if (i.prefix[BND_PREFIX] != 0)\n+    *p++ = BND_PREFIX_OPCODE;\n   if (i.prefix[REX_PREFIX] != 0)\n     *p++ = i.prefix[REX_PREFIX];\n   *p = i.tm.base_opcode;\n@@ -8042,16 +8044,16 @@ output_jump (void)\n \tsize = 2;\n     }\n \n-  if (i.prefix[REX_PREFIX] != 0)\n+  /* BND prefixed jump.  */\n+  if (i.prefix[BND_PREFIX] != 0)\n     {\n-      FRAG_APPEND_1_CHAR (i.prefix[REX_PREFIX]);\n+      FRAG_APPEND_1_CHAR (i.prefix[BND_PREFIX]);\n       i.prefixes -= 1;\n     }\n \n-  /* BND prefixed jump.  */\n-  if (i.prefix[BND_PREFIX] != 0)\n+  if (i.prefix[REX_PREFIX] != 0)\n     {\n-      FRAG_APPEND_1_CHAR (i.prefix[BND_PREFIX]);\n+      FRAG_APPEND_1_CHAR (i.prefix[REX_PREFIX]);\n       i.prefixes -= 1;\n     }\n \n@@ -8109,11 +8111,8 @@ output_interseg_jump (void)\n       i.prefixes -= 1;\n       code16 ^= CODE16;\n     }\n-  if (i.prefix[REX_PREFIX] != 0)\n-    {\n-      prefix++;\n-      i.prefixes -= 1;\n-    }\n+\n+  gas_assert (!i.prefix[REX_PREFIX]);\n \n   size = 4;\n   if (code16)"
    },
    {
      "sha": "196fa8ed8d6d6619f1769fc2c1a9484a5d04c55a",
      "filename": "gas/testsuite/gas/i386/x86-64-branch-2.d",
      "status": "modified",
      "additions": 6,
      "deletions": 4,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6cb0a70ef31ff585f046cb20a30088c0433d84f0/gas/testsuite/gas/i386/x86-64-branch-2.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6cb0a70ef31ff585f046cb20a30088c0433d84f0/gas/testsuite/gas/i386/x86-64-branch-2.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/x86-64-branch-2.d?ref=6cb0a70ef31ff585f046cb20a30088c0433d84f0",
      "patch": "@@ -6,10 +6,12 @@\n \n Disassembly of section .text:\n \n-0+ <bar-0x4>:\n-[ \t]*[a-f0-9]+:\t66 e9 00 00          \tjmpw   4 <bar>\t2: R_X86_64_PC16\tfoo-0x2\n+0+ <bar-0xb>:\n+[ \t]*[a-f0-9]+:\t66 e9 00 00          \tjmpw   4 <bar-0x7>\t2: R_X86_64_PC16\tfoo-0x2\n+[ \t]*[a-f0-9]+:\t66 48 e9 00 00 00 00 \tdata16 jmpq b <bar>\t7: R_X86_64_PLT32\tfoo-0x4\n \n-0+4 <bar>:\n+0+b <bar>:\n [ \t]*[a-f0-9]+:\t89 c3                \tmov    %eax,%ebx\n-[ \t]*[a-f0-9]+:\t66 e8 00 00          \tcallw  a <bar\\+0x6>\t8: R_X86_64_PC16\tfoo-0x2\n+[ \t]*[a-f0-9]+:\t66 e8 00 00          \tcallw  11 <bar\\+0x6>\tf: R_X86_64_PC16\tfoo-0x2\n+[ \t]*[a-f0-9]+:\t66 48 e8 00 00 00 00 \tdata16 callq 18 <bar\\+0xd>\t14: R_X86_64_PLT32\tfoo-0x4\n #pass"
    },
    {
      "sha": "3a4911b67ce46f88651df197fc3f1d1b71af3b13",
      "filename": "gas/testsuite/gas/i386/x86-64-branch-2.s",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6cb0a70ef31ff585f046cb20a30088c0433d84f0/gas/testsuite/gas/i386/x86-64-branch-2.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6cb0a70ef31ff585f046cb20a30088c0433d84f0/gas/testsuite/gas/i386/x86-64-branch-2.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/x86-64-branch-2.s?ref=6cb0a70ef31ff585f046cb20a30088c0433d84f0",
      "patch": "@@ -1,7 +1,9 @@\n \t.text\n \tdata16 jmp foo\n+\tdata16 rex.w jmp foo\n \n bar:\n \tmov %eax, %ebx\n \n \tdata16 call foo\n+\tdata16 rex.w call foo"
    },
    {
      "sha": "7b9e21dc661feab8139e27f12972d04c89e41f1f",
      "filename": "gas/testsuite/gas/i386/x86-64-branch-3.d",
      "status": "modified",
      "additions": 8,
      "deletions": 5,
      "changes": 13,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6cb0a70ef31ff585f046cb20a30088c0433d84f0/gas/testsuite/gas/i386/x86-64-branch-3.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6cb0a70ef31ff585f046cb20a30088c0433d84f0/gas/testsuite/gas/i386/x86-64-branch-3.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/x86-64-branch-3.d?ref=6cb0a70ef31ff585f046cb20a30088c0433d84f0",
      "patch": "@@ -6,11 +6,14 @@\n \n Disassembly of section .text:\n \n-0+ <bar-0x6>:\n-[ \t]*[a-f0-9]+:\t66 e9 00 00 00 00    \tdata16 jmpq 6 <bar>\t2: R_X86_64_PLT32\tfoo-0x4\n+0+ <bar-0xd>:\n+[ \t]*[a-f0-9]+:\t66 e9 00 00 00 00    \tdata16 jmpq 6 <bar-0x7>\t2: R_X86_64_PLT32\tfoo-0x4\n+[ \t]*[a-f0-9]+:\t66 48 e9 00 00 00 00 \tdata16 rex\\.W jmpq d <bar>\t9: R_X86_64_PLT32\tfoo-0x4\n \n-0+6 <bar>:\n+0+d <bar>:\n [ \t]*[a-f0-9]+:\t89 c3                \tmov    %eax,%ebx\n-[ \t]*[a-f0-9]+:\t66 e8 00 00 00 00    \tdata16 callq e <bar\\+0x8>\ta: R_X86_64_PLT32\tfoo-0x4\n-[ \t]*[a-f0-9]+:\t66 c7 f8 00 00       \txbeginw 13 <bar\\+0xd>\t11: R_X86_64_PC16\tfoo-0x2\n+[ \t]*[a-f0-9]+:\t66 e8 00 00 00 00    \tdata16 callq 15 <bar\\+0x8>\t11: R_X86_64_PLT32\tfoo-0x4\n+[ \t]*[a-f0-9]+:\t66 48 e8 00 00 00 00 \tdata16 rex\\.W callq 1c <bar\\+0xf>\t18: R_X86_64_PLT32\tfoo-0x4\n+[ \t]*[a-f0-9]+:\t66 c7 f8 00 00       \txbeginw 21 <bar\\+0x14>\t1f: R_X86_64_PC16\tfoo-0x2\n+[ \t]*[a-f0-9]+:\t66 48 c7 f8 00 00 00 00 \tdata16 xbeginq 29 <bar\\+0x1c>\t25: R_X86_64_PLT32\tfoo-0x4\n #pass"
    },
    {
      "sha": "cc16487424bc2d53d379079493ae0770f66e6247",
      "filename": "gas/testsuite/gas/i386/x86-64-branch-3.s",
      "status": "modified",
      "additions": 3,
      "deletions": 0,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6cb0a70ef31ff585f046cb20a30088c0433d84f0/gas/testsuite/gas/i386/x86-64-branch-3.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6cb0a70ef31ff585f046cb20a30088c0433d84f0/gas/testsuite/gas/i386/x86-64-branch-3.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/x86-64-branch-3.s?ref=6cb0a70ef31ff585f046cb20a30088c0433d84f0",
      "patch": "@@ -1,9 +1,12 @@\n \t.text\n \tdata16 jmp foo\n+\tdata16 rex.w jmp foo\n \n bar:\n \tmov %eax, %ebx\n \n \tdata16 call foo\n+\tdata16 rex.w call foo\n \n \tdata16 xbegin foo\n+\tdata16 rex.w xbegin foo"
    },
    {
      "sha": "03e9675217dd4b98064f873487357c28865011fb",
      "filename": "gas/testsuite/gas/i386/x86-64-mpx-branch-1.d",
      "status": "modified",
      "additions": 19,
      "deletions": 17,
      "changes": 36,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6cb0a70ef31ff585f046cb20a30088c0433d84f0/gas/testsuite/gas/i386/x86-64-mpx-branch-1.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6cb0a70ef31ff585f046cb20a30088c0433d84f0/gas/testsuite/gas/i386/x86-64-mpx-branch-1.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/x86-64-mpx-branch-1.d?ref=6cb0a70ef31ff585f046cb20a30088c0433d84f0",
      "patch": "@@ -8,22 +8,24 @@\n \n Disassembly of section .text:\n \n-0+ <foo1-0xc>:\n-[ \t]*[a-f0-9]+:\tf2 e8 00 00 00 00    \tbnd callq 6 <foo1-0x6>\t2: R_X86_64_PC32\t\\*ABS\\*\\+0x10003c\n-[ \t]*[a-f0-9]+:\tf2 e9 00 00 00 00    \tbnd jmpq c <foo1>\t8: R_X86_64_PC32\t\\*ABS\\*\\+0x10003c\n+0+ <foo1-0x1c>:\n+[ \t]*[a-f0-9]+:\tf2 e8 00 00 00 00    \tbnd callq 6 <foo1-0x16>\t2: R_X86_64_PC32\t\\*ABS\\*\\+0x10003c\n+[ \t]*[a-f0-9]+:\tf2 e9 00 00 00 00    \tbnd jmpq c <foo1-0x10>\t8: R_X86_64_PC32\t\\*ABS\\*\\+0x10003c\n+[ \t]*[a-f0-9]+:\t66 f2 48 e8 00 00 00 00 \tdata16 bnd callq 14 <foo1-0x8>\t10: R_X86_64_PC32\t\\*ABS\\*\\+0x10003c\n+[ \t]*[a-f0-9]+:\t66 f2 48 e9 00 00 00 00 \tdata16 bnd jmpq 1c <foo1>\t18: R_X86_64_PC32\t\\*ABS\\*\\+0x10003c\n \n-0+c <foo1>:\n-[ \t]*[a-f0-9]+:\tf2 eb fd             \tbnd jmp c <foo1>\n-[ \t]*[a-f0-9]+:\tf2 72 fa             \tbnd jb c <foo1>\n-[ \t]*[a-f0-9]+:\tf2 e8 f4 ff ff ff    \tbnd callq c <foo1>\n-[ \t]*[a-f0-9]+:\tf2 eb 09             \tbnd jmp 24 <foo2>\n-[ \t]*[a-f0-9]+:\tf2 72 06             \tbnd jb 24 <foo2>\n-[ \t]*[a-f0-9]+:\tf2 e8 00 00 00 00    \tbnd callq 24 <foo2>\n+0+1c <foo1>:\n+[ \t]*[a-f0-9]+:\tf2 eb fd             \tbnd jmp 1c <foo1>\n+[ \t]*[a-f0-9]+:\tf2 72 fa             \tbnd jb 1c <foo1>\n+[ \t]*[a-f0-9]+:\tf2 e8 f4 ff ff ff    \tbnd callq 1c <foo1>\n+[ \t]*[a-f0-9]+:\tf2 eb 09             \tbnd jmp 34 <foo2>\n+[ \t]*[a-f0-9]+:\tf2 72 06             \tbnd jb 34 <foo2>\n+[ \t]*[a-f0-9]+:\tf2 e8 00 00 00 00    \tbnd callq 34 <foo2>\n \n-0+24 <foo2>:\n-[ \t]*[a-f0-9]+:\tf2 e9 00 00 00 00    \tbnd jmpq 2a <foo2\\+0x6>\t26: R_X86_64_PLT32\tfoo-0x4\n-[ \t]*[a-f0-9]+:\tf2 0f 82 00 00 00 00 \tbnd jb 31 <foo2\\+0xd>\t2d: R_X86_64_PLT32\tfoo-0x4\n-[ \t]*[a-f0-9]+:\tf2 e8 00 00 00 00    \tbnd callq 37 <foo2\\+0x13>\t33: R_X86_64_PLT32\tfoo-0x4\n-[ \t]*[a-f0-9]+:\tf2 e9 00 00 00 00    \tbnd jmpq 3d <foo2\\+0x19>\t39: R_X86_64_PLT32\tfoo-0x4\n-[ \t]*[a-f0-9]+:\tf2 0f 82 00 00 00 00 \tbnd jb 44 <foo2\\+0x20>\t40: R_X86_64_PLT32\tfoo-0x4\n-[ \t]*[a-f0-9]+:\tf2 e8 00 00 00 00    \tbnd callq 4a <foo2\\+0x26>\t46: R_X86_64_PLT32\tfoo-0x4\n+0+34 <foo2>:\n+[ \t]*[a-f0-9]+:\tf2 e9 00 00 00 00    \tbnd jmpq 3a <foo2\\+0x6>\t36: R_X86_64_PLT32\tfoo-0x4\n+[ \t]*[a-f0-9]+:\tf2 0f 82 00 00 00 00 \tbnd jb 41 <foo2\\+0xd>\t3d: R_X86_64_PLT32\tfoo-0x4\n+[ \t]*[a-f0-9]+:\tf2 e8 00 00 00 00    \tbnd callq 47 <foo2\\+0x13>\t43: R_X86_64_PLT32\tfoo-0x4\n+[ \t]*[a-f0-9]+:\tf2 e9 00 00 00 00    \tbnd jmpq 4d <foo2\\+0x19>\t49: R_X86_64_PLT32\tfoo-0x4\n+[ \t]*[a-f0-9]+:\tf2 0f 82 00 00 00 00 \tbnd jb 54 <foo2\\+0x20>\t50: R_X86_64_PLT32\tfoo-0x4\n+[ \t]*[a-f0-9]+:\tf2 e8 00 00 00 00    \tbnd callq 5a <foo2\\+0x26>\t56: R_X86_64_PLT32\tfoo-0x4"
    },
    {
      "sha": "16cd019ab4d539c024e0ac8b6ec75a2e7be59d9e",
      "filename": "gas/testsuite/gas/i386/x86-64-mpx-branch-1.s",
      "status": "modified",
      "additions": 3,
      "deletions": 0,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6cb0a70ef31ff585f046cb20a30088c0433d84f0/gas/testsuite/gas/i386/x86-64-mpx-branch-1.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6cb0a70ef31ff585f046cb20a30088c0433d84f0/gas/testsuite/gas/i386/x86-64-mpx-branch-1.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/x86-64-mpx-branch-1.s?ref=6cb0a70ef31ff585f046cb20a30088c0433d84f0",
      "patch": "@@ -2,6 +2,9 @@\n \tbnd call\t0x100040\n \tbnd jmp\t\t0x100040\n \n+\tbnd data16 rex.w call\t0x100040\n+\tbnd data16 rex.w jmp\t0x100040\n+\n foo1:\n \tbnd jmp\t\tfoo1\n \tbnd jb\t\tfoo1"
    },
    {
      "sha": "c61b3af69e8023d80cc37b92afe6f473db8b0868",
      "filename": "gas/testsuite/gas/i386/x86-64-mpx-branch-2.d",
      "status": "modified",
      "additions": 1,
      "deletions": 25,
      "changes": 26,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6cb0a70ef31ff585f046cb20a30088c0433d84f0/gas/testsuite/gas/i386/x86-64-mpx-branch-2.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6cb0a70ef31ff585f046cb20a30088c0433d84f0/gas/testsuite/gas/i386/x86-64-mpx-branch-2.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/x86-64-mpx-branch-2.d?ref=6cb0a70ef31ff585f046cb20a30088c0433d84f0",
      "patch": "@@ -1,29 +1,5 @@\n #as: -J -madd-bnd-prefix\n #objdump: -dwr\n #name: x86-64 branch with BND prefix\n+#dump: x86-64-mpx-branch-1.d\n #notarget: *-*-solaris*\n-\n-.*: +file format .*\n-\n-\n-Disassembly of section .text:\n-\n-0+ <foo1-0xc>:\n-[ \t]*[a-f0-9]+:\tf2 e8 00 00 00 00    \tbnd callq 6 <foo1-0x6>\t2: R_X86_64_PC32\t\\*ABS\\*\\+0x10003c\n-[ \t]*[a-f0-9]+:\tf2 e9 00 00 00 00    \tbnd jmpq c <foo1>\t8: R_X86_64_PC32\t\\*ABS\\*\\+0x10003c\n-\n-0+c <foo1>:\n-[ \t]*[a-f0-9]+:\tf2 eb fd             \tbnd jmp c <foo1>\n-[ \t]*[a-f0-9]+:\tf2 72 fa             \tbnd jb c <foo1>\n-[ \t]*[a-f0-9]+:\tf2 e8 f4 ff ff ff    \tbnd callq c <foo1>\n-[ \t]*[a-f0-9]+:\tf2 eb 09             \tbnd jmp 24 <foo2>\n-[ \t]*[a-f0-9]+:\tf2 72 06             \tbnd jb 24 <foo2>\n-[ \t]*[a-f0-9]+:\tf2 e8 00 00 00 00    \tbnd callq 24 <foo2>\n-\n-0+24 <foo2>:\n-[ \t]*[a-f0-9]+:\tf2 e9 00 00 00 00    \tbnd jmpq 2a <foo2\\+0x6>\t26: R_X86_64_PLT32\tfoo-0x4\n-[ \t]*[a-f0-9]+:\tf2 0f 82 00 00 00 00 \tbnd jb 31 <foo2\\+0xd>\t2d: R_X86_64_PLT32\tfoo-0x4\n-[ \t]*[a-f0-9]+:\tf2 e8 00 00 00 00    \tbnd callq 37 <foo2\\+0x13>\t33: R_X86_64_PLT32\tfoo-0x4\n-[ \t]*[a-f0-9]+:\tf2 e9 00 00 00 00    \tbnd jmpq 3d <foo2\\+0x19>\t39: R_X86_64_PLT32\tfoo-0x4\n-[ \t]*[a-f0-9]+:\tf2 0f 82 00 00 00 00 \tbnd jb 44 <foo2\\+0x20>\t40: R_X86_64_PLT32\tfoo-0x4\n-[ \t]*[a-f0-9]+:\tf2 e8 00 00 00 00    \tbnd callq 4a <foo2\\+0x26>\t46: R_X86_64_PLT32\tfoo-0x4"
    },
    {
      "sha": "15c53b0da193a3988a96d025bcac4042ba5f6a8a",
      "filename": "gas/testsuite/gas/i386/x86-64-mpx-branch-2.s",
      "status": "modified",
      "additions": 3,
      "deletions": 0,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6cb0a70ef31ff585f046cb20a30088c0433d84f0/gas/testsuite/gas/i386/x86-64-mpx-branch-2.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6cb0a70ef31ff585f046cb20a30088c0433d84f0/gas/testsuite/gas/i386/x86-64-mpx-branch-2.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/x86-64-mpx-branch-2.s?ref=6cb0a70ef31ff585f046cb20a30088c0433d84f0",
      "patch": "@@ -2,6 +2,9 @@\n \tcall\t0x100040\n \tjmp\t0x100040\n \n+\tdata16 rex.w call\t0x100040\n+\tdata16 rex.w jmp\t0x100040\n+\n foo1:\n \tjmp\tfoo1\n \tjb\tfoo1"
    }
  ]
}