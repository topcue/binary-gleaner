{
  "sha": "a979f2a07a7df495199f6477b43a34b781e0443f",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YTk3OWYyYTA3YTdkZjQ5NTE5OWY2NDc3YjQzYTM0Yjc4MWUwNDQzZg==",
  "commit": {
    "author": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-06-20T02:13:00Z"
    },
    "committer": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-06-20T02:43:56Z"
    },
    "message": "sim: unify dtc tool checks\n\nOnly one arch uses this currently, but others could too.  By moving\nit up to the common checks, it'll also let us simplify the moxie code\nsignificantly.",
    "tree": {
      "sha": "8c8c307ccde1b5f33e1976ab0142ab5afc2e1385",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/8c8c307ccde1b5f33e1976ab0142ab5afc2e1385"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/a979f2a07a7df495199f6477b43a34b781e0443f",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/a979f2a07a7df495199f6477b43a34b781e0443f",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/a979f2a07a7df495199f6477b43a34b781e0443f",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/a979f2a07a7df495199f6477b43a34b781e0443f/comments",
  "author": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "54c47dfb68a5e2cfde5fec7224b0f92b12edc42c",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/54c47dfb68a5e2cfde5fec7224b0f92b12edc42c",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/54c47dfb68a5e2cfde5fec7224b0f92b12edc42c"
    }
  ],
  "stats": {
    "total": 212,
    "additions": 112,
    "deletions": 100
  },
  "files": [
    {
      "sha": "c22f9b31464f23b45fbd982bf0672f6892a87336",
      "filename": "sim/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a979f2a07a7df495199f6477b43a34b781e0443f/sim/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a979f2a07a7df495199f6477b43a34b781e0443f/sim/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ChangeLog?ref=a979f2a07a7df495199f6477b43a34b781e0443f",
      "patch": "@@ -1,3 +1,9 @@\n+2021-06-19  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* arch-subdir.mk.in (DTC): Define.\n+\t* m4/sim_ac_toolchain.m4: Call AC_CHECK_TOOL.\n+\t* configure, Makefile.in: Regenerate.\n+\n 2021-06-19  Mike Frysinger  <vapier@gentoo.org>\n \n \t* arch-subdir.mk.in: Move intl vars from common/Make-common.in."
    },
    {
      "sha": "9ba3471d34521c45ce3da6e28a204559f256e75f",
      "filename": "sim/Makefile.in",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a979f2a07a7df495199f6477b43a34b781e0443f/sim/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a979f2a07a7df495199f6477b43a34b781e0443f/sim/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/Makefile.in?ref=a979f2a07a7df495199f6477b43a34b781e0443f",
      "patch": "@@ -645,6 +645,7 @@ DATADIRNAME = @DATADIRNAME@\n DEFS = @DEFS@\n DEPDIR = @DEPDIR@\n DSYMUTIL = @DSYMUTIL@\n+DTC = @DTC@\n DUMPBIN = @DUMPBIN@\n ECHO_C = @ECHO_C@\n ECHO_N = @ECHO_N@"
    },
    {
      "sha": "5f59f8808073e9685cc6a9477cd4deb98258d0e0",
      "filename": "sim/arch-subdir.mk.in",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a979f2a07a7df495199f6477b43a34b781e0443f/sim/arch-subdir.mk.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a979f2a07a7df495199f6477b43a34b781e0443f/sim/arch-subdir.mk.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/arch-subdir.mk.in?ref=a979f2a07a7df495199f6477b43a34b781e0443f",
      "patch": "@@ -39,6 +39,7 @@ LDFLAGS = @LDFLAGS@\n AR = @AR@\n AR_FLAGS = rc\n RANLIB = @RANLIB@\n+DTC = @DTC@\n \n DEPMODE = @CCDEPMODE@\n DEPDIR = @DEPDIR@"
    },
    {
      "sha": "9f84c4fd34dba6e6b02051ae6c3a6076af9a08db",
      "filename": "sim/configure",
      "status": "modified",
      "additions": 96,
      "deletions": 2,
      "changes": 98,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a979f2a07a7df495199f6477b43a34b781e0443f/sim/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a979f2a07a7df495199f6477b43a34b781e0443f/sim/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/configure?ref=a979f2a07a7df495199f6477b43a34b781e0443f",
      "patch": "@@ -719,6 +719,7 @@ CFLAGS_FOR_BUILD\n RANLIB_FOR_BUILD\n CC_FOR_BUILD\n AR_FOR_BUILD\n+DTC\n INSTALL_DATA\n INSTALL_SCRIPT\n INSTALL_PROGRAM\n@@ -4409,6 +4410,99 @@ $as_echo \"#define AC_APPLE_UNIVERSAL_BUILD 1\" >>confdefs.h\n \n \n \n+if test -n \"$ac_tool_prefix\"; then\n+  # Extract the first word of \"${ac_tool_prefix}dtc\", so it can be a program name with args.\n+set dummy ${ac_tool_prefix}dtc; ac_word=$2\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n+$as_echo_n \"checking for $ac_word... \" >&6; }\n+if ${ac_cv_prog_DTC+:} false; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  if test -n \"$DTC\"; then\n+  ac_cv_prog_DTC=\"$DTC\" # Let the user override the test.\n+else\n+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+    for ac_exec_ext in '' $ac_executable_extensions; do\n+  if as_fn_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_prog_DTC=\"${ac_tool_prefix}dtc\"\n+    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+  done\n+IFS=$as_save_IFS\n+\n+fi\n+fi\n+DTC=$ac_cv_prog_DTC\n+if test -n \"$DTC\"; then\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $DTC\" >&5\n+$as_echo \"$DTC\" >&6; }\n+else\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+fi\n+\n+\n+fi\n+if test -z \"$ac_cv_prog_DTC\"; then\n+  ac_ct_DTC=$DTC\n+  # Extract the first word of \"dtc\", so it can be a program name with args.\n+set dummy dtc; ac_word=$2\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n+$as_echo_n \"checking for $ac_word... \" >&6; }\n+if ${ac_cv_prog_ac_ct_DTC+:} false; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  if test -n \"$ac_ct_DTC\"; then\n+  ac_cv_prog_ac_ct_DTC=\"$ac_ct_DTC\" # Let the user override the test.\n+else\n+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+    for ac_exec_ext in '' $ac_executable_extensions; do\n+  if as_fn_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_prog_ac_ct_DTC=\"dtc\"\n+    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+  done\n+IFS=$as_save_IFS\n+\n+fi\n+fi\n+ac_ct_DTC=$ac_cv_prog_ac_ct_DTC\n+if test -n \"$ac_ct_DTC\"; then\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_ct_DTC\" >&5\n+$as_echo \"$ac_ct_DTC\" >&6; }\n+else\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+fi\n+\n+  if test \"x$ac_ct_DTC\" = x; then\n+    DTC=\"\"\n+  else\n+    case $cross_compiling:$ac_tool_warned in\n+yes:)\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet\" >&5\n+$as_echo \"$as_me: WARNING: using cross tools not prefixed with host triplet\" >&2;}\n+ac_tool_warned=yes ;;\n+esac\n+    DTC=$ac_ct_DTC\n+  fi\n+else\n+  DTC=\"$ac_cv_prog_DTC\"\n+fi\n+\n+\n if test \"x$cross_compiling\" = \"xno\"; then\n   : \"${AR_FOR_BUILD:=\\$(AR)}\"\n   : \"${CC_FOR_BUILD:=\\$(CC)}\"\n@@ -11938,7 +12032,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 11941 \"configure\"\n+#line 12035 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -12044,7 +12138,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 12047 \"configure\"\n+#line 12141 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H"
    },
    {
      "sha": "47b992880f077b7a6118dd3cd672fa6fa8a25192",
      "filename": "sim/m4/sim_ac_toolchain.m4",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a979f2a07a7df495199f6477b43a34b781e0443f/sim/m4/sim_ac_toolchain.m4",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a979f2a07a7df495199f6477b43a34b781e0443f/sim/m4/sim_ac_toolchain.m4",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/m4/sim_ac_toolchain.m4?ref=a979f2a07a7df495199f6477b43a34b781e0443f",
      "patch": "@@ -24,6 +24,8 @@ AC_C_BIGENDIAN\n AC_ARG_PROGRAM\n AC_PROG_INSTALL\n \n+AC_CHECK_TOOL(DTC, dtc)\n+\n dnl Setup toolchain settings for build-time tools..\n if test \"x$cross_compiling\" = \"xno\"; then\n   : \"${AR_FOR_BUILD:=\\$(AR)}\""
    },
    {
      "sha": "10d0086a978a8b012167ffb432432782744e20ad",
      "filename": "sim/moxie/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a979f2a07a7df495199f6477b43a34b781e0443f/sim/moxie/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a979f2a07a7df495199f6477b43a34b781e0443f/sim/moxie/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/moxie/ChangeLog?ref=a979f2a07a7df495199f6477b43a34b781e0443f",
      "patch": "@@ -1,3 +1,9 @@\n+2021-06-19  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* Makefile.in (DTC): Delete.\n+\t* configure.ac: Delete AC_CHECK_TOOL call.\n+\t* configure: Regenerate.\n+\n 2021-06-19  Mike Frysinger  <vapier@gentoo.org>\n \n \t* aclocal.m4: Regenerate."
    },
    {
      "sha": "eed4d1cf675bb597b2b5f567233f5594b7411b27",
      "filename": "sim/moxie/Makefile.in",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a979f2a07a7df495199f6477b43a34b781e0443f/sim/moxie/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a979f2a07a7df495199f6477b43a34b781e0443f/sim/moxie/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/moxie/Makefile.in?ref=a979f2a07a7df495199f6477b43a34b781e0443f",
      "patch": "@@ -17,8 +17,6 @@\n \n ## COMMON_PRE_CONFIG_FRAG\n \n-DTC = @DTC@\n-\n dtbdir = @datadir@/gdb/dtb\n \n SIM_OBJS = \\"
    },
    {
      "sha": "653a48fc47d2f6e34a5dc8938f56f469b200fdd2",
      "filename": "sim/moxie/configure",
      "status": "modified",
      "additions": 0,
      "deletions": 94,
      "changes": 94,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a979f2a07a7df495199f6477b43a34b781e0443f/sim/moxie/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a979f2a07a7df495199f6477b43a34b781e0443f/sim/moxie/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/moxie/configure?ref=a979f2a07a7df495199f6477b43a34b781e0443f",
      "patch": "@@ -590,7 +590,6 @@ sim_scache\n sim_float\n sim_bitsize\n cgen_breaks\n-DTC\n MAINT\n MAINTAINER_MODE_FALSE\n MAINTAINER_MODE_TRUE\n@@ -1750,99 +1749,6 @@ fi\n \n \n \n-if test -n \"$ac_tool_prefix\"; then\n-  # Extract the first word of \"${ac_tool_prefix}dtc\", so it can be a program name with args.\n-set dummy ${ac_tool_prefix}dtc; ac_word=$2\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n-$as_echo_n \"checking for $ac_word... \" >&6; }\n-if ${ac_cv_prog_DTC+:} false; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  if test -n \"$DTC\"; then\n-  ac_cv_prog_DTC=\"$DTC\" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \"$as_dir\" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_prog_DTC=\"${ac_tool_prefix}dtc\"\n-    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-DTC=$ac_cv_prog_DTC\n-if test -n \"$DTC\"; then\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $DTC\" >&5\n-$as_echo \"$DTC\" >&6; }\n-else\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n-$as_echo \"no\" >&6; }\n-fi\n-\n-\n-fi\n-if test -z \"$ac_cv_prog_DTC\"; then\n-  ac_ct_DTC=$DTC\n-  # Extract the first word of \"dtc\", so it can be a program name with args.\n-set dummy dtc; ac_word=$2\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n-$as_echo_n \"checking for $ac_word... \" >&6; }\n-if ${ac_cv_prog_ac_ct_DTC+:} false; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  if test -n \"$ac_ct_DTC\"; then\n-  ac_cv_prog_ac_ct_DTC=\"$ac_ct_DTC\" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \"$as_dir\" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_prog_ac_ct_DTC=\"dtc\"\n-    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-ac_ct_DTC=$ac_cv_prog_ac_ct_DTC\n-if test -n \"$ac_ct_DTC\"; then\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_ct_DTC\" >&5\n-$as_echo \"$ac_ct_DTC\" >&6; }\n-else\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n-$as_echo \"no\" >&6; }\n-fi\n-\n-  if test \"x$ac_ct_DTC\" = x; then\n-    DTC=\"\"\n-  else\n-    case $cross_compiling:$ac_tool_warned in\n-yes:)\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet\" >&5\n-$as_echo \"$as_me: WARNING: using cross tools not prefixed with host triplet\" >&2;}\n-ac_tool_warned=yes ;;\n-esac\n-    DTC=$ac_ct_DTC\n-  fi\n-else\n-  DTC=\"$ac_cv_prog_DTC\"\n-fi\n-\n-\n \n hardware=\"cfi core pal glue \"\n sim_hw_cflags=\"-DWITH_HW=1\""
    },
    {
      "sha": "08bf6ff8acbc03a0be8087aa8afe9a7851974400",
      "filename": "sim/moxie/configure.ac",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a979f2a07a7df495199f6477b43a34b781e0443f/sim/moxie/configure.ac",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a979f2a07a7df495199f6477b43a34b781e0443f/sim/moxie/configure.ac",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/moxie/configure.ac?ref=a979f2a07a7df495199f6477b43a34b781e0443f",
      "patch": "@@ -4,6 +4,4 @@ AC_CONFIG_MACRO_DIRS([../m4 ../.. ../../config])\n \n SIM_AC_COMMON\n \n-AC_CHECK_TOOL(DTC, dtc)\n-\n SIM_AC_OUTPUT"
    }
  ]
}