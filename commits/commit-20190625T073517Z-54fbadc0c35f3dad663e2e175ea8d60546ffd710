{
  "sha": "54fbadc0c35f3dad663e2e175ea8d60546ffd710",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NTRmYmFkYzBjMzVmM2RhZDY2M2UyZTE3NWVhOGQ2MDU0NmZmZDcxMA==",
  "commit": {
    "author": {
      "name": "Jan Beulich",
      "email": "jbeulich@novell.com",
      "date": "2019-06-25T07:28:33Z"
    },
    "committer": {
      "name": "Jan Beulich",
      "email": "jbeulich@suse.com",
      "date": "2019-06-25T07:35:17Z"
    },
    "message": "x86: drop dqa_mode\n\nI assume this mode was needed when EVEX.W handling wasn't really correct\nyet for other than 64-bit mode. It's clearly not needed anymore. Its\nelimination also allows dropping the EVEX.W split of VCVT{,U}SI2SS. (For\nthe record, the dropped mode would have been wrong if used in any table\nentry not already guaranteeing EVEX.W=1.)",
    "tree": {
      "sha": "5fa0f37b39d07bd6007f615c0723f27271654bc3",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/5fa0f37b39d07bd6007f615c0723f27271654bc3"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/54fbadc0c35f3dad663e2e175ea8d60546ffd710",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/54fbadc0c35f3dad663e2e175ea8d60546ffd710",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/54fbadc0c35f3dad663e2e175ea8d60546ffd710",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/54fbadc0c35f3dad663e2e175ea8d60546ffd710/comments",
  "author": null,
  "committer": {
    "login": "jbeulich",
    "id": 5610135,
    "node_id": "MDQ6VXNlcjU2MTAxMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5610135?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jbeulich",
    "html_url": "https://github.com/jbeulich",
    "followers_url": "https://api.github.com/users/jbeulich/followers",
    "following_url": "https://api.github.com/users/jbeulich/following{/other_user}",
    "gists_url": "https://api.github.com/users/jbeulich/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jbeulich/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jbeulich/subscriptions",
    "organizations_url": "https://api.github.com/users/jbeulich/orgs",
    "repos_url": "https://api.github.com/users/jbeulich/repos",
    "events_url": "https://api.github.com/users/jbeulich/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jbeulich/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "a38d71189b5895bae7bb476aa34d8a7ba75376d6",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/a38d71189b5895bae7bb476aa34d8a7ba75376d6",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/a38d71189b5895bae7bb476aa34d8a7ba75376d6"
    }
  ],
  "stats": {
    "total": 39,
    "additions": 15,
    "deletions": 24
  },
  "files": [
    {
      "sha": "f7890e03c1c832978f3795bc9db8992ee870faa0",
      "filename": "opcodes/ChangeLog",
      "status": "modified",
      "additions": 11,
      "deletions": 0,
      "changes": 11,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/54fbadc0c35f3dad663e2e175ea8d60546ffd710/opcodes/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/54fbadc0c35f3dad663e2e175ea8d60546ffd710/opcodes/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/ChangeLog?ref=54fbadc0c35f3dad663e2e175ea8d60546ffd710",
      "patch": "@@ -1,3 +1,14 @@\n+2019-06-25  Jan Beulich  <jbeulich@suse.com>\n+\n+\t* i386-dis.c (Edqa, dqa_mode, EVEX_W_0F2A_P_1, EVEX_W_0F7B_P_1):\n+\tDelete.\n+\t(intel_operand_size, OP_E_register, OP_E_memory): Drop handling\n+\tof dqa_mode.\n+\t* i386-dis-evex-prefix.h: Move vcvtsi2ss and vcvtusi2ss leaf\n+\tentries here.\n+\t* i386-dis-evex-w.h: Drop EVEX_W_0F2A_P_1 and EVEX_W_0F7B_P_1\n+\tentries. Use Edq for vcvtsi2sd and vcvtusi2sd.\n+\n 2019-06-25  Jan Beulich  <jbeulich@suse.com>\n \n \t* i386-dis.c (OP_I64): Forword more cases to OP_I(). Drop local"
    },
    {
      "sha": "261b01f0f7fa9ea233cd19cd4edcae0861cd6bee",
      "filename": "opcodes/i386-dis-evex-prefix.h",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/54fbadc0c35f3dad663e2e175ea8d60546ffd710/opcodes/i386-dis-evex-prefix.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/54fbadc0c35f3dad663e2e175ea8d60546ffd710/opcodes/i386-dis-evex-prefix.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/i386-dis-evex-prefix.h?ref=54fbadc0c35f3dad663e2e175ea8d60546ffd710",
      "patch": "@@ -64,7 +64,7 @@\n   /* PREFIX_EVEX_0F2A */\n   {\n     { Bad_Opcode },\n-    { VEX_W_TABLE (EVEX_W_0F2A_P_1) },\n+    { \"vcvtsi2ss%LQ\",\t{ XMScalar, VexScalar, EXxEVexR, Edq }, 0 },\n     { Bad_Opcode },\n     { VEX_W_TABLE (EVEX_W_0F2A_P_3) },\n   },\n@@ -404,7 +404,7 @@\n   /* PREFIX_EVEX_0F7B */\n   {\n     { Bad_Opcode },\n-    { VEX_W_TABLE (EVEX_W_0F7B_P_1) },\n+    { \"vcvtusi2ss%LQ\",\t{ XMScalar, VexScalar, EXxEVexR, Edq }, 0 },\n     { VEX_W_TABLE (EVEX_W_0F7B_P_2) },\n     { VEX_W_TABLE (EVEX_W_0F7B_P_3) },\n   },"
    },
    {
      "sha": "2adfde9650f0d4b248668bf0b7e833978be2ae19",
      "filename": "opcodes/i386-dis-evex-w.h",
      "status": "modified",
      "additions": 2,
      "deletions": 12,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/54fbadc0c35f3dad663e2e175ea8d60546ffd710/opcodes/i386-dis-evex-w.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/54fbadc0c35f3dad663e2e175ea8d60546ffd710/opcodes/i386-dis-evex-w.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/i386-dis-evex-w.h?ref=54fbadc0c35f3dad663e2e175ea8d60546ffd710",
      "patch": "@@ -145,15 +145,10 @@\n     { Bad_Opcode },\n     { \"vmovapd\",\t{ EXxS, XM }, 0 },\n   },\n-  /* EVEX_W_0F2A_P_1 */\n-  {\n-    { \"vcvtsi2ss%LQ\",\t{ XMScalar, VexScalar, EXxEVexR, Ed }, 0 },\n-    { \"vcvtsi2ss%LQ\",\t{ XMScalar, VexScalar, EXxEVexR, Edqa }, 0 },\n-  },\n   /* EVEX_W_0F2A_P_3 */\n   {\n     { \"vcvtsi2sd%LQ\",\t{ XMScalar, VexScalar, Ed }, 0 },\n-    { \"vcvtsi2sd%LQ\",\t{ XMScalar, VexScalar, EXxEVexR64, Edqa }, 0 },\n+    { \"vcvtsi2sd%LQ\",\t{ XMScalar, VexScalar, EXxEVexR64, Edq }, 0 },\n   },\n   /* EVEX_W_0F2B_P_0 */\n   {\n@@ -477,11 +472,6 @@\n     { \"vcvtudq2ps\",\t{ XM, EXx, EXxEVexR }, 0 },\n     { \"vcvtuqq2ps%XY\",\t{ XMxmmq, EXx, EXxEVexR }, 0 },\n   },\n-  /* EVEX_W_0F7B_P_1 */\n-  {\n-    { \"vcvtusi2ss%LQ\",\t{ XMScalar, VexScalar, EXxEVexR, Ed }, 0 },\n-    { \"vcvtusi2ss%LQ\",\t{ XMScalar, VexScalar, EXxEVexR, Edqa }, 0 },\n-  },\n   /* EVEX_W_0F7B_P_2 */\n   {\n     { \"vcvtps2qq\",\t{ XM, EXEvexHalfBcstXmmq, EXxEVexR }, 0 },\n@@ -490,7 +480,7 @@\n   /* EVEX_W_0F7B_P_3 */\n   {\n     { \"vcvtusi2sd%LQ\",\t{ XMScalar, VexScalar, Ed }, 0 },\n-    { \"vcvtusi2sd%LQ\",\t{ XMScalar, VexScalar, EXxEVexR64, Edqa }, 0 },\n+    { \"vcvtusi2sd%LQ\",\t{ XMScalar, VexScalar, EXxEVexR64, Edq }, 0 },\n   },\n   /* EVEX_W_0F7E_P_1 */\n   {"
    },
    {
      "sha": "27e5d7791e9ae4b9656202f2402d68adb79a9582",
      "filename": "opcodes/i386-dis.c",
      "status": "modified",
      "additions": 0,
      "deletions": 10,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/54fbadc0c35f3dad663e2e175ea8d60546ffd710/opcodes/i386-dis.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/54fbadc0c35f3dad663e2e175ea8d60546ffd710/opcodes/i386-dis.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/i386-dis.c?ref=54fbadc0c35f3dad663e2e175ea8d60546ffd710",
      "patch": "@@ -259,7 +259,6 @@ fetch_data (struct disassemble_info *info, bfd_byte *addr)\n #define Edb { OP_E, db_mode }\n #define Edw { OP_E, dw_mode }\n #define Edqd { OP_E, dqd_mode }\n-#define Edqa { OP_E, dqa_mode }\n #define Eq { OP_E, q_mode }\n #define indirEv { OP_indirE, indir_v_mode }\n #define indirEp { OP_indirE, f_mode }\n@@ -591,8 +590,6 @@ enum\n   dw_mode,\n   /* registers like dq_mode, memory like d_mode.  */\n   dqd_mode,\n-  /* operand size depends on the W bit as well as address mode.  */\n-  dqa_mode,\n   /* normal vex mode */\n   vex_mode,\n   /* 128bit vex mode */\n@@ -2076,7 +2073,6 @@ enum\n   EVEX_W_0F28_P_2,\n   EVEX_W_0F29_P_0,\n   EVEX_W_0F29_P_2,\n-  EVEX_W_0F2A_P_1,\n   EVEX_W_0F2A_P_3,\n   EVEX_W_0F2B_P_0,\n   EVEX_W_0F2B_P_2,\n@@ -2149,7 +2145,6 @@ enum\n   EVEX_W_0F7A_P_1,\n   EVEX_W_0F7A_P_2,\n   EVEX_W_0F7A_P_3,\n-  EVEX_W_0F7B_P_1,\n   EVEX_W_0F7B_P_2,\n   EVEX_W_0F7B_P_3,\n   EVEX_W_0F7E_P_1,\n@@ -13522,7 +13517,6 @@ intel_operand_size (int bytemode, int sizeflag)\n     case q_swap_mode:\n       oappend (\"QWORD PTR \");\n       break;\n-    case dqa_mode:\n     case m_mode:\n       if (address_mode == mode_64bit)\n \toappend (\"QWORD PTR \");\n@@ -13881,7 +13875,6 @@ OP_E_register (int bytemode, int sizeflag)\n     case dqb_mode:\n     case dqd_mode:\n     case dqw_mode:\n-    case dqa_mode:\n       USED_REX (REX_W);\n       if (rex & REX_W)\n \tnames = names64;\n@@ -14031,9 +14024,6 @@ OP_E_memory (int bytemode, int sizeflag)\n \tcase xmm_mb_mode:\n \t  shift = 0;\n \t  break;\n-\tcase dqa_mode:\n-\t  shift = address_mode == mode_64bit ? 3 : 2;\n-\t  break;\n \tdefault:\n \t  abort ();\n \t}"
    }
  ]
}