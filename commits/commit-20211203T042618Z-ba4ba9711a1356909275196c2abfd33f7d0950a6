{
  "sha": "ba4ba9711a1356909275196c2abfd33f7d0950a6",
  "node_id": "C_kwDOANOeidoAKGJhNGJhOTcxMWExMzU2OTA5Mjc1MTk2YzJhYmZkMzNmN2QwOTUwYTY",
  "commit": {
    "author": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-12-03T04:13:15Z"
    },
    "committer": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-12-03T04:26:18Z"
    },
    "message": "libctf: workaround automake bug with conditional info pages\n\nIt looks like automake makes assumptions about its ability to build info\npages based on the GNU standard behavior of shipping info pages with the\ndistributions.  So even though the info pages were conditionalized, and\nautomake disabled some of the targets, it was still creeping in by way\nof unconditional INFO_DEPS settings.\n\nWe can workaround this by adding a stub target for the info page when\nbuilding info pages are disabled.  This tricks automake into disabling\nits own extended generation target.  I'll follow up with the automake\nfolks to see what they think.",
    "tree": {
      "sha": "b1250ccd31f8e134ea9bd1b77956c624bf81ec54",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/b1250ccd31f8e134ea9bd1b77956c624bf81ec54"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/ba4ba9711a1356909275196c2abfd33f7d0950a6",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/ba4ba9711a1356909275196c2abfd33f7d0950a6",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/ba4ba9711a1356909275196c2abfd33f7d0950a6",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/ba4ba9711a1356909275196c2abfd33f7d0950a6/comments",
  "author": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "066624ff52714cb533aace0633a37928b96dcdb9",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/066624ff52714cb533aace0633a37928b96dcdb9",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/066624ff52714cb533aace0633a37928b96dcdb9"
    }
  ],
  "stats": {
    "total": 52,
    "additions": 32,
    "deletions": 20
  },
  "files": [
    {
      "sha": "8d31701855629e5d573160a658b03963dae05435",
      "filename": "libctf/Makefile.am",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ba4ba9711a1356909275196c2abfd33f7d0950a6/libctf/Makefile.am",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ba4ba9711a1356909275196c2abfd33f7d0950a6/libctf/Makefile.am",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/libctf/Makefile.am?ref=ba4ba9711a1356909275196c2abfd33f7d0950a6",
      "patch": "@@ -114,6 +114,4 @@ EXTRA_DEJAGNU_SITE_CONFIG = development.exp\n DISTCLEANFILES += site.exp development.exp\n endif\n \n-if BUILD_INFO\n include doc/local.mk\n-endif"
    },
    {
      "sha": "2b74bf2855ef153574e8ea98e0430226d0d7b6dd",
      "filename": "libctf/Makefile.in",
      "status": "modified",
      "additions": 22,
      "deletions": 18,
      "changes": 40,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ba4ba9711a1356909275196c2abfd33f7d0950a6/libctf/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ba4ba9711a1356909275196c2abfd33f7d0950a6/libctf/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/libctf/Makefile.in?ref=ba4ba9711a1356909275196c2abfd33f7d0950a6",
      "patch": "@@ -1023,24 +1023,24 @@ doc/$(am__dirstamp):\n \t@$(MKDIR_P) doc\n \t@: > doc/$(am__dirstamp)\n \n-doc/ctf-spec.info: doc/ctf-spec.texi \n-\t@test -f doc/$(am__dirstamp) || $(MAKE) $(AM_MAKEFLAGS) doc/$(am__dirstamp)\n-\t$(AM_V_MAKEINFO)restore=: && backupdir=\"$(am__leading_dot)am$$$$\" && \\\n-\trm -rf $$backupdir && mkdir $$backupdir && \\\n-\tif ($(MAKEINFO) --version) >/dev/null 2>&1; then \\\n-\t  for f in $@ $@-[0-9] $@-[0-9][0-9] $(@:.info=).i[0-9] $(@:.info=).i[0-9][0-9]; do \\\n-\t    if test -f $$f; then mv $$f $$backupdir; restore=mv; else :; fi; \\\n-\t  done; \\\n-\telse :; fi && \\\n-\tif $(MAKEINFO) $(AM_MAKEINFOFLAGS) $(MAKEINFOFLAGS) -I doc -I $(srcdir)/doc \\\n-\t -o $@ `test -f 'doc/ctf-spec.texi' || echo '$(srcdir)/'`doc/ctf-spec.texi; \\\n-\tthen \\\n-\t  rc=0; \\\n-\telse \\\n-\t  rc=$$?; \\\n-\t  $$restore $$backupdir/* `echo \"./$@\" | sed 's|[^/]*$$||'`; \\\n-\tfi; \\\n-\trm -rf $$backupdir; exit $$rc\n+@BUILD_INFO_TRUE@doc/ctf-spec.info: doc/ctf-spec.texi \n+@BUILD_INFO_TRUE@\t@test -f doc/$(am__dirstamp) || $(MAKE) $(AM_MAKEFLAGS) doc/$(am__dirstamp)\n+@BUILD_INFO_TRUE@\t$(AM_V_MAKEINFO)restore=: && backupdir=\"$(am__leading_dot)am$$$$\" && \\\n+@BUILD_INFO_TRUE@\trm -rf $$backupdir && mkdir $$backupdir && \\\n+@BUILD_INFO_TRUE@\tif ($(MAKEINFO) --version) >/dev/null 2>&1; then \\\n+@BUILD_INFO_TRUE@\t  for f in $@ $@-[0-9] $@-[0-9][0-9] $(@:.info=).i[0-9] $(@:.info=).i[0-9][0-9]; do \\\n+@BUILD_INFO_TRUE@\t    if test -f $$f; then mv $$f $$backupdir; restore=mv; else :; fi; \\\n+@BUILD_INFO_TRUE@\t  done; \\\n+@BUILD_INFO_TRUE@\telse :; fi && \\\n+@BUILD_INFO_TRUE@\tif $(MAKEINFO) $(AM_MAKEINFOFLAGS) $(MAKEINFOFLAGS) -I doc -I $(srcdir)/doc \\\n+@BUILD_INFO_TRUE@\t -o $@ `test -f 'doc/ctf-spec.texi' || echo '$(srcdir)/'`doc/ctf-spec.texi; \\\n+@BUILD_INFO_TRUE@\tthen \\\n+@BUILD_INFO_TRUE@\t  rc=0; \\\n+@BUILD_INFO_TRUE@\telse \\\n+@BUILD_INFO_TRUE@\t  rc=$$?; \\\n+@BUILD_INFO_TRUE@\t  $$restore $$backupdir/* `echo \"./$@\" | sed 's|[^/]*$$||'`; \\\n+@BUILD_INFO_TRUE@\tfi; \\\n+@BUILD_INFO_TRUE@\trm -rf $$backupdir; exit $$rc\n \n doc/ctf-spec.dvi: doc/ctf-spec.texi  doc/$(am__dirstamp)\n \t$(AM_V_TEXI2DVI)TEXINPUTS=\"$(am__TEXINFO_TEX_DIR)$(PATH_SEPARATOR)$$TEXINPUTS\" \\\n@@ -1709,6 +1709,10 @@ uninstall-am: uninstall-dvi-am uninstall-html-am \\\n @BUILD_INFO_TRUE@\t$(AM_V_GEN)$(MAKEINFOHTML) $(AM_MAKEINFOHTMLFLAGS) $(MAKEINFOFLAGS) \\\n @BUILD_INFO_TRUE@\t  --split=node -I$(srcdir) --output doc/ctf-spec $(srcdir)/doc/ctf-spec.texi\n \n+# Workaround bug in automake: it can't handle conditionally building info pages\n+# since GNU projects normally include info pages in the source distributions.\n+@BUILD_INFO_FALSE@doc/ctf-spec.info:\n+\n # Tell versions [3.59,3.63) of GNU make to not export all variables.\n # Otherwise a system limit (for SysV at least) may be exceeded.\n .NOEXPORT:"
    },
    {
      "sha": "e533d72227d0ac8d29c87def75c6f7b6d5488fff",
      "filename": "libctf/doc/local.mk",
      "status": "modified",
      "additions": 10,
      "deletions": 0,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ba4ba9711a1356909275196c2abfd33f7d0950a6/libctf/doc/local.mk",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ba4ba9711a1356909275196c2abfd33f7d0950a6/libctf/doc/local.mk",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/libctf/doc/local.mk?ref=ba4ba9711a1356909275196c2abfd33f7d0950a6",
      "patch": "@@ -17,6 +17,8 @@\n # <http://www.gnu.org/licenses/>.\n #\n \n+if BUILD_INFO\n+\n info_TEXINFOS += %D%/ctf-spec.texi\n libctf_TEXINFOS = $(info_TEXINFOS)\n \n@@ -29,3 +31,11 @@ html-local: %D%/ctf-spec/index.html\n %D%/ctf-spec/index.html: %D%/ctf-spec.texi %D%/$(am__dirstamp)\n \t$(AM_V_GEN)$(MAKEINFOHTML) $(AM_MAKEINFOHTMLFLAGS) $(MAKEINFOFLAGS) \\\n \t  --split=node -I$(srcdir) --output %D%/ctf-spec $(srcdir)/%D%/ctf-spec.texi\n+\n+else\n+\n+# Workaround bug in automake: it can't handle conditionally building info pages\n+# since GNU projects normally include info pages in the source distributions.\n+%D%/ctf-spec.info:\n+\n+endif"
    }
  ]
}