{
  "sha": "4829711b6ba57568d5fec3c2e8c747a2edb2aa8f",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NDgyOTcxMWI2YmE1NzU2OGQ1ZmVjM2MyZThjNzQ3YTJlZGIyYWE4Zg==",
  "commit": {
    "author": {
      "name": "Tom Tromey",
      "email": "tom@tromey.com",
      "date": "2021-03-20T23:23:40Z"
    },
    "committer": {
      "name": "Tom Tromey",
      "email": "tom@tromey.com",
      "date": "2021-03-20T23:23:43Z"
    },
    "message": "Move psymtab statistics printing to psymtab.c\n\nThis moves all the psymtab statistics printing code form symmisc.c to\npsymtab.c.  This changes the formatting of the output a little, but\nconsidering that it is a maint command (and, I assume, a rarely used\none), this seems fine to me.\n\nThis change helps further dissociate the psymtab from the objfile.  In\nthe end there will be no direct connect -- only via the\nquick_symbol_functions interface.\n\ngdb/ChangeLog\n2021-03-20  Tom Tromey  <tom@tromey.com>\n\n\t* dwarf2/read.c (dwarf2_base_index_functions::print_stats): Add\n\tprint_bcache parameter.\n\t* symfile-debug.c (objfile::print_stats): Add print_bcache\n\tparameter.\n\t* quick-symbol.h (struct quick_symbol_functions)\n\t<print_stats>: Add print_bcache parameter.\n\t* symmisc.c (print_symbol_bcache_statistics, count_psyms): Move\n\tcode to psymtab.c.\n\t(print_objfile_statistics): Move psymtab code to psymtab.c.\n\t* psymtab.c (count_psyms): Move from symmisc.c.\n\t(psymbol_functions::print_stats): Print partial symbol and bcache\n\tstatistics.  Add print_bcache parameter.\n\t* objfiles.h (print_symbol_bcache_statistics): Don't declare.\n\t(struct objfile) <print_stats>: Add print_bcache parameter.\n\t* maint.c (maintenance_print_statistics): Update.\n\ngdb/testsuite/ChangeLog\n2021-03-20  Tom Tromey  <tom@tromey.com>\n\n\t* gdb.base/maint.exp: Update \"maint print statistics\" output.",
    "tree": {
      "sha": "b5b258588ea8fec7c998f3ac22281befc70fc076",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/b5b258588ea8fec7c998f3ac22281befc70fc076"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/4829711b6ba57568d5fec3c2e8c747a2edb2aa8f",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/4829711b6ba57568d5fec3c2e8c747a2edb2aa8f",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/4829711b6ba57568d5fec3c2e8c747a2edb2aa8f",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/4829711b6ba57568d5fec3c2e8c747a2edb2aa8f/comments",
  "author": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "efd7398ee26dc8f810243fc893590df4a8cd3238",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/efd7398ee26dc8f810243fc893590df4a8cd3238",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/efd7398ee26dc8f810243fc893590df4a8cd3238"
    }
  ],
  "stats": {
    "total": 144,
    "additions": 84,
    "deletions": 60
  },
  "files": [
    {
      "sha": "47aa9ea0a8d54652a6ee16d9ebfe4d1ef8015235",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 18,
      "deletions": 0,
      "changes": 18,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4829711b6ba57568d5fec3c2e8c747a2edb2aa8f/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4829711b6ba57568d5fec3c2e8c747a2edb2aa8f/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=4829711b6ba57568d5fec3c2e8c747a2edb2aa8f",
      "patch": "@@ -1,3 +1,21 @@\n+2021-03-20  Tom Tromey  <tom@tromey.com>\n+\n+\t* dwarf2/read.c (dwarf2_base_index_functions::print_stats): Add\n+\tprint_bcache parameter.\n+\t* symfile-debug.c (objfile::print_stats): Add print_bcache\n+\tparameter.\n+\t* quick-symbol.h (struct quick_symbol_functions)\n+\t<print_stats>: Add print_bcache parameter.\n+\t* symmisc.c (print_symbol_bcache_statistics, count_psyms): Move\n+\tcode to psymtab.c.\n+\t(print_objfile_statistics): Move psymtab code to psymtab.c.\n+\t* psymtab.c (count_psyms): Move from symmisc.c.\n+\t(psymbol_functions::print_stats): Print partial symbol and bcache\n+\tstatistics.  Add print_bcache parameter.\n+\t* objfiles.h (print_symbol_bcache_statistics): Don't declare.\n+\t(struct objfile) <print_stats>: Add print_bcache parameter.\n+\t* maint.c (maintenance_print_statistics): Update.\n+\n 2021-03-20  Tom Tromey  <tom@tromey.com>\n \n \t* dwarf2/read.h (struct dwarf2_per_bfd) <psymtabs_addrmap>: New"
    },
    {
      "sha": "b6069c560f21d114353754d8dec50f80e58723e6",
      "filename": "gdb/dwarf2/read.c",
      "status": "modified",
      "additions": 6,
      "deletions": 2,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4829711b6ba57568d5fec3c2e8c747a2edb2aa8f/gdb/dwarf2/read.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4829711b6ba57568d5fec3c2e8c747a2edb2aa8f/gdb/dwarf2/read.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/dwarf2/read.c?ref=4829711b6ba57568d5fec3c2e8c747a2edb2aa8f",
      "patch": "@@ -2214,7 +2214,7 @@ struct dwarf2_base_index_functions : public quick_symbol_functions\n     return language_unknown;\n   }\n \n-  void print_stats (struct objfile *objfile) override;\n+  void print_stats (struct objfile *objfile, bool print_bcache) override;\n \n   void expand_all_symtabs (struct objfile *objfile) override;\n \n@@ -3681,8 +3681,12 @@ dwarf2_gdb_index::lookup_symbol (struct objfile *objfile,\n }\n \n void\n-dwarf2_base_index_functions::print_stats (struct objfile *objfile)\n+dwarf2_base_index_functions::print_stats (struct objfile *objfile,\n+\t\t\t\t\t  bool print_bcache)\n {\n+  if (print_bcache)\n+    return;\n+\n   dwarf2_per_objfile *per_objfile = get_dwarf2_per_objfile (objfile);\n   int total = (per_objfile->per_bfd->all_comp_units.size ()\n \t       + per_objfile->per_bfd->all_type_units.size ());"
    },
    {
      "sha": "5254cd6ed260c09cdfaf287546a8597cfbb1b713",
      "filename": "gdb/maint.c",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4829711b6ba57568d5fec3c2e8c747a2edb2aa8f/gdb/maint.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4829711b6ba57568d5fec3c2e8c747a2edb2aa8f/gdb/maint.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/maint.c?ref=4829711b6ba57568d5fec3c2e8c747a2edb2aa8f",
      "patch": "@@ -518,7 +518,6 @@ static void\n maintenance_print_statistics (const char *args, int from_tty)\n {\n   print_objfile_statistics ();\n-  print_symbol_bcache_statistics ();\n }\n \n static void"
    },
    {
      "sha": "ff60e18bca4df37cddef37758f48251141a2f030",
      "filename": "gdb/objfiles.h",
      "status": "modified",
      "additions": 1,
      "deletions": 2,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4829711b6ba57568d5fec3c2e8c747a2edb2aa8f/gdb/objfiles.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4829711b6ba57568d5fec3c2e8c747a2edb2aa8f/gdb/objfiles.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/objfiles.h?ref=4829711b6ba57568d5fec3c2e8c747a2edb2aa8f",
      "patch": "@@ -211,7 +211,6 @@ struct objstats\n #define OBJSTAT(objfile, expr) (objfile -> stats.expr)\n #define OBJSTATS struct objstats stats\n extern void print_objfile_statistics (void);\n-extern void print_symbol_bcache_statistics (void);\n \n /* Number of entries in the minimal symbol hash table.  */\n #define MINIMAL_SYMBOL_HASH_SIZE 2039\n@@ -568,7 +567,7 @@ struct objfile\n \t\t\t\t\t domain_enum domain);\n \n   /* See quick_symbol_functions.  */\n-  void print_stats ();\n+  void print_stats (bool print_bcache);\n \n   /* See quick_symbol_functions.  */\n   void dump ();"
    },
    {
      "sha": "943d6c13919596764bf95a9b1ea56ff5145d42d6",
      "filename": "gdb/psympriv.h",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4829711b6ba57568d5fec3c2e8c747a2edb2aa8f/gdb/psympriv.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4829711b6ba57568d5fec3c2e8c747a2edb2aa8f/gdb/psympriv.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/psympriv.h?ref=4829711b6ba57568d5fec3c2e8c747a2edb2aa8f",
      "patch": "@@ -496,7 +496,7 @@ struct psymbol_functions : public quick_symbol_functions\n \t\t\t\t\t       domain_enum domain,\n \t\t\t\t\t       bool *symbol_found_p) override;\n \n-  void print_stats (struct objfile *objfile) override;\n+  void print_stats (struct objfile *objfile, bool print_bcache) override;\n \n   void dump (struct objfile *objfile) override;\n "
    },
    {
      "sha": "867b71530ebd99b37b10ebfb767409d5f09a95d5",
      "filename": "gdb/psymtab.c",
      "status": "modified",
      "additions": 37,
      "deletions": 6,
      "changes": 43,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4829711b6ba57568d5fec3c2e8c747a2edb2aa8f/gdb/psymtab.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4829711b6ba57568d5fec3c2e8c747a2edb2aa8f/gdb/psymtab.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/psymtab.c?ref=4829711b6ba57568d5fec3c2e8c747a2edb2aa8f",
      "patch": "@@ -975,21 +975,52 @@ dump_psymtab (struct objfile *objfile, struct partial_symtab *psymtab,\n   fprintf_filtered (outfile, \"\\n\");\n }\n \n+/* Count the number of partial symbols in OBJFILE.  */\n+\n+static int\n+count_psyms (struct objfile *objfile)\n+{\n+  int count = 0;\n+  for (partial_symtab *pst : objfile->psymtabs ())\n+    {\n+      count += pst->global_psymbols.size ();\n+      count += pst->static_psymbols.size ();\n+    }\n+  return count;\n+}\n+\n /* Psymtab version of print_stats.  See its definition in\n    the definition of quick_symbol_functions in symfile.h.  */\n \n void\n-psymbol_functions::print_stats (struct objfile *objfile)\n+psymbol_functions::print_stats (struct objfile *objfile, bool print_bcache)\n {\n   int i;\n \n-  i = 0;\n-  for (partial_symtab *ps : require_partial_symbols (objfile, true))\n+  if (!print_bcache)\n+    {\n+      int n_psyms = count_psyms (objfile);\n+      if (n_psyms > 0)\n+\tprintf_filtered (_(\"  Number of \\\"partial\\\" symbols read: %d\\n\"),\n+\t\t\t n_psyms);\n+\n+      i = 0;\n+      for (partial_symtab *ps : require_partial_symbols (objfile, true))\n+\t{\n+\t  if (!ps->readin_p (objfile))\n+\t    i++;\n+\t}\n+      printf_filtered (_(\"  Number of psym tables (not yet expanded): %d\\n\"),\n+\t\t       i);\n+      printf_filtered (_(\"  Total memory used for psymbol cache: %d\\n\"),\n+\t\t       objfile->partial_symtabs->psymbol_cache.memory_used ());\n+    }\n+  else\n     {\n-      if (!ps->readin_p (objfile))\n-\ti++;\n+      printf_filtered (_(\"Psymbol byte cache statistics:\\n\"));\n+      objfile->partial_symtabs->psymbol_cache.print_statistics\n+\t(\"partial symbol cache\");\n     }\n-  printf_filtered (_(\"  Number of psym tables (not yet expanded): %d\\n\"), i);\n }\n \n /* Psymtab version of dump.  See its definition in"
    },
    {
      "sha": "315a97a49e074a2e1b21ed974cd7907014c3253b",
      "filename": "gdb/quick-symbol.h",
      "status": "modified",
      "additions": 4,
      "deletions": 2,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4829711b6ba57568d5fec3c2e8c747a2edb2aa8f/gdb/quick-symbol.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4829711b6ba57568d5fec3c2e8c747a2edb2aa8f/gdb/quick-symbol.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/quick-symbol.h?ref=4829711b6ba57568d5fec3c2e8c747a2edb2aa8f",
      "patch": "@@ -126,8 +126,10 @@ struct quick_symbol_functions\n \n   /* Print statistics about any indices loaded for OBJFILE.  The\n      statistics should be printed to gdb_stdout.  This is used for\n-     \"maint print statistics\".  */\n-  virtual void print_stats (struct objfile *objfile) = 0;\n+     \"maint print statistics\".  Statistics are printed in two\n+     sections.  PRINT_BCACHE is false when printing the first section\n+     of general statistics, and true when printing bcache statistics.  */\n+  virtual void print_stats (struct objfile *objfile, bool print_bcache) = 0;\n \n   /* Dump any indices loaded for OBJFILE.  The dump should go to\n      gdb_stdout.  This is used for \"maint print objfiles\".  */"
    },
    {
      "sha": "406eac0b7d33489dde4d13065f82042415e8f987",
      "filename": "gdb/symfile-debug.c",
      "status": "modified",
      "additions": 4,
      "deletions": 4,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4829711b6ba57568d5fec3c2e8c747a2edb2aa8f/gdb/symfile-debug.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4829711b6ba57568d5fec3c2e8c747a2edb2aa8f/gdb/symfile-debug.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/symfile-debug.c?ref=4829711b6ba57568d5fec3c2e8c747a2edb2aa8f",
      "patch": "@@ -174,14 +174,14 @@ objfile::lookup_symbol (block_enum kind, const char *name, domain_enum domain)\n }\n \n void\n-objfile::print_stats ()\n+objfile::print_stats (bool print_bcache)\n {\n   if (debug_symfile)\n-    fprintf_filtered (gdb_stdlog, \"qf->print_stats (%s)\\n\",\n-\t\t      objfile_debug_name (this));\n+    fprintf_filtered (gdb_stdlog, \"qf->print_stats (%s, %d)\\n\",\n+\t\t      objfile_debug_name (this), print_bcache);\n \n   if (qf != nullptr)\n-    qf->print_stats (this);\n+    qf->print_stats (this, print_bcache);\n }\n \n void"
    },
    {
      "sha": "9ea5cb55d0f7c5590a3672a684291b5a2692fcb0",
      "filename": "gdb/symmisc.c",
      "status": "modified",
      "additions": 8,
      "deletions": 41,
      "changes": 49,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4829711b6ba57568d5fec3c2e8c747a2edb2aa8f/gdb/symmisc.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4829711b6ba57568d5fec3c2e8c747a2edb2aa8f/gdb/symmisc.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/symmisc.c?ref=4829711b6ba57568d5fec3c2e8c747a2edb2aa8f",
      "patch": "@@ -38,9 +38,6 @@\n #include \"source.h\"\n #include \"readline/tilde.h\"\n \n-#include \"psymtab.h\"\n-#include \"psympriv.h\"\n-\n /* Prototypes for local functions */\n \n static int block_depth (const struct block *);\n@@ -49,35 +46,6 @@ static void print_symbol (struct gdbarch *gdbarch, struct symbol *symbol,\n \t\t\t  int depth, ui_file *outfile);\n \f\n \n-void\n-print_symbol_bcache_statistics (void)\n-{\n-  for (struct program_space *pspace : program_spaces)\n-    for (objfile *objfile : pspace->objfiles ())\n-      {\n-\tQUIT;\n-\tprintf_filtered (_(\"Byte cache statistics for '%s':\\n\"),\n-\t\t\t objfile_name (objfile));\n-\tobjfile->partial_symtabs->psymbol_cache.print_statistics\n-\t  (\"partial symbol cache\");\n-\tobjfile->per_bfd->string_cache.print_statistics (\"string cache\");\n-      }\n-}\n-\n-/* Count the number of partial symbols in OBJFILE.  */\n-\n-static int\n-count_psyms (struct objfile *objfile)\n-{\n-  int count = 0;\n-  for (partial_symtab *pst : objfile->psymtabs ())\n-    {\n-      count += pst->global_psymbols.size ();\n-      count += pst->static_psymbols.size ();\n-    }\n-  return count;\n-}\n-\n void\n print_objfile_statistics (void)\n {\n@@ -94,18 +62,13 @@ print_objfile_statistics (void)\n \tif (objfile->per_bfd->n_minsyms > 0)\n \t  printf_filtered (_(\"  Number of \\\"minimal\\\" symbols read: %d\\n\"),\n \t\t\t   objfile->per_bfd->n_minsyms);\n-\n-\tint n_psyms = count_psyms (objfile);\n-\tif (n_psyms > 0)\n-\t  printf_filtered (_(\"  Number of \\\"partial\\\" symbols read: %d\\n\"),\n-\t\t\t   n_psyms);\n \tif (OBJSTAT (objfile, n_syms) > 0)\n \t  printf_filtered (_(\"  Number of \\\"full\\\" symbols read: %d\\n\"),\n \t\t\t   OBJSTAT (objfile, n_syms));\n \tif (OBJSTAT (objfile, n_types) > 0)\n \t  printf_filtered (_(\"  Number of \\\"types\\\" defined: %d\\n\"),\n \t\t\t   OBJSTAT (objfile, n_types));\n-\tobjfile->print_stats ();\n+\n \ti = linetables = 0;\n \tfor (compunit_symtab *cu : objfile->compunits ())\n \t  {\n@@ -124,6 +87,8 @@ print_objfile_statistics (void)\n \tprintf_filtered (_(\"  Number of symbol tables with blockvectors: %d\\n\"),\n \t\t\t blockvectors);\n \n+\tobjfile->print_stats (false);\n+\n \tif (OBJSTAT (objfile, sz_strtab) > 0)\n \t  printf_filtered (_(\"  Space used by string tables: %d\\n\"),\n \t\t\t   OBJSTAT (objfile, sz_strtab));\n@@ -133,11 +98,13 @@ print_objfile_statistics (void)\n \tprintf_filtered (_(\"  Total memory used for BFD obstack: %s\\n\"),\n \t\t\t pulongest (obstack_memory_used (&objfile->per_bfd\n \t\t\t\t\t\t\t ->storage_obstack)));\n-\tprintf_filtered\n-\t  (_(\"  Total memory used for psymbol cache: %d\\n\"),\n-\t   objfile->partial_symtabs->psymbol_cache.memory_used ());\n+\n \tprintf_filtered (_(\"  Total memory used for string cache: %d\\n\"),\n \t\t\t objfile->per_bfd->string_cache.memory_used ());\n+\tprintf_filtered (_(\"Byte cache statistics for '%s':\\n\"),\n+\t\t\t objfile_name (objfile));\n+\tobjfile->per_bfd->string_cache.print_statistics (\"string cache\");\n+\tobjfile->print_stats (true);\n       }\n }\n "
    },
    {
      "sha": "e764c8ff08e046630d592b2fc3fbb94a01739eda",
      "filename": "gdb/testsuite/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4829711b6ba57568d5fec3c2e8c747a2edb2aa8f/gdb/testsuite/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4829711b6ba57568d5fec3c2e8c747a2edb2aa8f/gdb/testsuite/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/ChangeLog?ref=4829711b6ba57568d5fec3c2e8c747a2edb2aa8f",
      "patch": "@@ -1,3 +1,7 @@\n+2021-03-20  Tom Tromey  <tom@tromey.com>\n+\n+\t* gdb.base/maint.exp: Update \"maint print statistics\" output.\n+\n 2021-03-19  Kevin Buettner  <kevinb@redhat.com>\n \n \t* lib/gdbserver-support.exp (gdbserver_exit): Use the"
    },
    {
      "sha": "e72392220cc84b95fa7aaf2a90535e3bd08fd010",
      "filename": "gdb/testsuite/gdb.base/maint.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4829711b6ba57568d5fec3c2e8c747a2edb2aa8f/gdb/testsuite/gdb.base/maint.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4829711b6ba57568d5fec3c2e8c747a2edb2aa8f/gdb/testsuite/gdb.base/maint.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/maint.exp?ref=4829711b6ba57568d5fec3c2e8c747a2edb2aa8f",
      "patch": "@@ -193,7 +193,7 @@ if [istarget \"*-*-cygwin*\"] {\n \n send_gdb \"maint print statistics\\n\"\n gdb_expect  {\n-    -re \"Statistics for\\[^\\n\\r\\]*maint\\[^\\n\\r\\]*:\\r\\n  Number of \\\"minimal\\\" symbols read: $decimal\\r\\n(  Number of \\\"partial\\\" symbols read: $decimal\\r\\n)?  Number of \\\"full\\\" symbols read: $decimal\\r\\n  Number of \\\"types\\\" defined: $decimal\\r\\n(  Number of psym tables \\\\(not yet expanded\\\\): $decimal\\r\\n)?(  Number of read CUs: $decimal\\r\\n  Number of unread CUs: $decimal\\r\\n)?  Number of symbol tables: $decimal\\r\\n  Number of symbol tables with line tables: $decimal\\r\\n  Number of symbol tables with blockvectors: $decimal\\r\\n  Total memory used for objfile obstack: $decimal\\r\\n  Total memory used for BFD obstack: $decimal\\r\\n  Total memory used for psymbol cache: $decimal\\r\\n  Total memory used for string cache: $decimal\\r\\n\" {\n+    -re \"Statistics for\\[^\\n\\r\\]*maint\\[^\\n\\r\\]*:\\r\\n  Number of \\\"minimal\\\" symbols read: $decimal\\r\\n  Number of \\\"full\\\" symbols read: $decimal\\r\\n  Number of \\\"types\\\" defined: $decimal\\r\\n(  Number of read CUs: $decimal\\r\\n  Number of unread CUs: $decimal\\r\\n)?  Number of symbol tables: $decimal\\r\\n  Number of symbol tables with line tables: $decimal\\r\\n  Number of symbol tables with blockvectors: $decimal\\r\\n(  Number of \\\"partial\\\" symbols read: $decimal\\r\\n)?(  Number of psym tables \\\\(not yet expanded\\\\): $decimal\\r\\n)?  Total memory used for psymbol cache: $decimal\\r\\n  Total memory used for objfile obstack: $decimal\\r\\n  Total memory used for BFD obstack: $decimal\\r\\n  Total memory used for string cache: $decimal\\r\\n\" {\n \tgdb_expect {\n \t    -re \"$gdb_prompt $\" {\n \t\tpass \"maint print statistics\""
    }
  ]
}