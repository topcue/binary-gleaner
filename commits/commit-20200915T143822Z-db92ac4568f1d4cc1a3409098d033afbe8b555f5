{
  "sha": "db92ac4568f1d4cc1a3409098d033afbe8b555f5",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ZGI5MmFjNDU2OGYxZDRjYzFhMzQwOTA5OGQwMzNhZmJlOGI1NTVmNQ==",
  "commit": {
    "author": {
      "name": "Tom Tromey",
      "email": "tromey@adacore.com",
      "date": "2020-09-15T14:38:22Z"
    },
    "committer": {
      "name": "Tom Tromey",
      "email": "tromey@adacore.com",
      "date": "2020-09-15T14:38:22Z"
    },
    "message": "Use arrays rather than pointers for global string constants\n\nMy understanding is that it's mildly better to use a static const\narray, as opposed to a \"const char *\", for a global string constant,\nwhen possible.  This makes sense to me because the pointer requires a\nload from an address, whereas the array is just the address.\n\nSo, I searched for these in gdb and gdbserver.  This patch fixes the\nones I found.\n\ngdb/ChangeLog\n2020-09-15  Tom Tromey  <tromey@adacore.com>\n\n\t* unittests/memory-map-selftests.c (valid_mem_map): Now array.\n\t* ui-style.c (ansi_regex_text): Now array.\n\t* rust-exp.y (number_regex_text): Now array.\n\t* linespec.c (linespec_quote_characters): Now array.\n\t* jit.c (jit_break_name, jit_descriptor_name, reader_init_fn_sym):\n\tNow arrays.\n\ngdbserver/ChangeLog\n2020-09-15  Tom Tromey  <tromey@adacore.com>\n\n\t* linux-x86-low.cc (xmltarget_i386_linux_no_xml)\n\t(xmltarget_amd64_linux_no_xml): Now arrays.",
    "tree": {
      "sha": "9acf4726c5541a4702d58f6af0da8c747e403c8d",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/9acf4726c5541a4702d58f6af0da8c747e403c8d"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/db92ac4568f1d4cc1a3409098d033afbe8b555f5",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/db92ac4568f1d4cc1a3409098d033afbe8b555f5",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/db92ac4568f1d4cc1a3409098d033afbe8b555f5",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/db92ac4568f1d4cc1a3409098d033afbe8b555f5/comments",
  "author": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "7e30b1ebbf2fcf5e6bcfc3a7791d9a52614dcc43",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/7e30b1ebbf2fcf5e6bcfc3a7791d9a52614dcc43",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/7e30b1ebbf2fcf5e6bcfc3a7791d9a52614dcc43"
    }
  ],
  "stats": {
    "total": 32,
    "additions": 23,
    "deletions": 9
  },
  "files": [
    {
      "sha": "fe19f19d47bc07ee3655cc119c12a5a798cd31e3",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 9,
      "deletions": 0,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/db92ac4568f1d4cc1a3409098d033afbe8b555f5/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/db92ac4568f1d4cc1a3409098d033afbe8b555f5/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=db92ac4568f1d4cc1a3409098d033afbe8b555f5",
      "patch": "@@ -1,3 +1,12 @@\n+2020-09-15  Tom Tromey  <tromey@adacore.com>\n+\n+\t* unittests/memory-map-selftests.c (valid_mem_map): Now array.\n+\t* ui-style.c (ansi_regex_text): Now array.\n+\t* rust-exp.y (number_regex_text): Now array.\n+\t* linespec.c (linespec_quote_characters): Now array.\n+\t* jit.c (jit_break_name, jit_descriptor_name, reader_init_fn_sym):\n+\tNow arrays.\n+\n 2020-09-14  Simon Marchi  <simon.marchi@polymtl.ca>\n \n \t* debuginfod-support.c (debuginfod_client_deleter): New."
    },
    {
      "sha": "5634c9e2b5d318b670afbb1a1fd1b714edaf3f50",
      "filename": "gdb/jit.c",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/db92ac4568f1d4cc1a3409098d033afbe8b555f5/gdb/jit.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/db92ac4568f1d4cc1a3409098d033afbe8b555f5/gdb/jit.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/jit.c?ref=db92ac4568f1d4cc1a3409098d033afbe8b555f5",
      "patch": "@@ -45,9 +45,9 @@\n \n static std::string jit_reader_dir;\n \n-static const char *const jit_break_name = \"__jit_debug_register_code\";\n+static const char jit_break_name[] = \"__jit_debug_register_code\";\n \n-static const char *const jit_descriptor_name = \"__jit_debug_descriptor\";\n+static const char jit_descriptor_name[] = \"__jit_debug_descriptor\";\n \n static void jit_inferior_init (struct gdbarch *gdbarch);\n static void jit_inferior_exit_hook (struct inferior *inf);\n@@ -173,7 +173,7 @@ struct jit_reader\n static struct jit_reader *loaded_jit_reader = NULL;\n \n typedef struct gdb_reader_funcs * (reader_init_fn_type) (void);\n-static const char *reader_init_fn_sym = \"gdb_init_reader\";\n+static const char reader_init_fn_sym[] = \"gdb_init_reader\";\n \n /* Try to load FILE_NAME as a JIT debug info reader.  */\n "
    },
    {
      "sha": "686992ea8ae0bb1ecadfba387cf4633095937514",
      "filename": "gdb/linespec.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/db92ac4568f1d4cc1a3409098d033afbe8b555f5/gdb/linespec.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/db92ac4568f1d4cc1a3409098d033afbe8b555f5/gdb/linespec.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/linespec.c?ref=db92ac4568f1d4cc1a3409098d033afbe8b555f5",
      "patch": "@@ -421,7 +421,7 @@ static bool compare_msymbols (const bound_minimal_symbol &a,\n /* Permitted quote characters for the parser.  This is different from the\n    completer's quote characters to allow backward compatibility with the\n    previous parser.  */\n-static const char *const linespec_quote_characters = \"\\\"\\'\";\n+static const char linespec_quote_characters[] = \"\\\"\\'\";\n \n /* Lexer functions.  */\n "
    },
    {
      "sha": "db888098c4a6b878d3eb47bf87435149d1b11d60",
      "filename": "gdb/rust-exp.y",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/db92ac4568f1d4cc1a3409098d033afbe8b555f5/gdb/rust-exp.y",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/db92ac4568f1d4cc1a3409098d033afbe8b555f5/gdb/rust-exp.y",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/rust-exp.y?ref=db92ac4568f1d4cc1a3409098d033afbe8b555f5",
      "patch": "@@ -123,7 +123,7 @@ static struct stoken make_stoken (const char *);\n    since it is very long and this gives us a way to comment the\n    sections.  */\n \n-static const char *number_regex_text =\n+static const char number_regex_text[] =\n   /* subexpression 1: allows use of alternation, otherwise uninteresting */\n   \"^(\"\n   /* First comes floating point.  */"
    },
    {
      "sha": "4ed08dadc329b4112a8cbef5cdfc75c4aa3a0f76",
      "filename": "gdb/ui-style.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/db92ac4568f1d4cc1a3409098d033afbe8b555f5/gdb/ui-style.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/db92ac4568f1d4cc1a3409098d033afbe8b555f5/gdb/ui-style.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ui-style.c?ref=db92ac4568f1d4cc1a3409098d033afbe8b555f5",
      "patch": "@@ -23,7 +23,7 @@\n /* A regular expression that is used for matching ANSI terminal escape\n    sequences.  */\n \n-static const char *ansi_regex_text =\n+static const char ansi_regex_text[] =\n   /* Introduction.  */\n   \"^\\033\\\\[\"\n #define DATA_SUBEXP 1"
    },
    {
      "sha": "0be5cb573e5b74279f257313e8d602a74cb95827",
      "filename": "gdb/unittests/memory-map-selftests.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/db92ac4568f1d4cc1a3409098d033afbe8b555f5/gdb/unittests/memory-map-selftests.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/db92ac4568f1d4cc1a3409098d033afbe8b555f5/gdb/unittests/memory-map-selftests.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/unittests/memory-map-selftests.c?ref=db92ac4568f1d4cc1a3409098d033afbe8b555f5",
      "patch": "@@ -28,7 +28,7 @@ namespace memory_map_tests {\n \n /* A simple valid test input for parse_memory_map.  */\n \n-static const char *valid_mem_map = R\"(<?xml version=\"1.0\"?>\n+static const char valid_mem_map[] = R\"(<?xml version=\"1.0\"?>\n <!DOCTYPE memory-map\n           PUBLIC \"+//IDN gnu.org//DTD GDB Memory Map V1.0//EN\"\n                  \"http://sourceware.org/gdb/gdb-memory-map.dtd\">"
    },
    {
      "sha": "576c96e93b8bbfcd51c613499847cb03b765f57c",
      "filename": "gdbserver/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/db92ac4568f1d4cc1a3409098d033afbe8b555f5/gdbserver/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/db92ac4568f1d4cc1a3409098d033afbe8b555f5/gdbserver/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/ChangeLog?ref=db92ac4568f1d4cc1a3409098d033afbe8b555f5",
      "patch": "@@ -1,3 +1,8 @@\n+2020-09-15  Tom Tromey  <tromey@adacore.com>\n+\n+\t* linux-x86-low.cc (xmltarget_i386_linux_no_xml)\n+\t(xmltarget_amd64_linux_no_xml): Now arrays.\n+\n 2020-09-14  Tom Tromey  <tromey@adacore.com>\n \n \t* tracepoint.cc (eval_result_names): Now const."
    },
    {
      "sha": "eeaced8c8d521c5e9c2880a9fcdecac4ef73fec7",
      "filename": "gdbserver/linux-x86-low.cc",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/db92ac4568f1d4cc1a3409098d033afbe8b555f5/gdbserver/linux-x86-low.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/db92ac4568f1d4cc1a3409098d033afbe8b555f5/gdbserver/linux-x86-low.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/linux-x86-low.cc?ref=db92ac4568f1d4cc1a3409098d033afbe8b555f5",
      "patch": "@@ -58,13 +58,13 @@ static unsigned char small_jump_insn[] = { 0x66, 0xe9, 0, 0 };\n \n /* Backward compatibility for gdb without XML support.  */\n \n-static const char *xmltarget_i386_linux_no_xml = \"@<target>\\\n+static const char xmltarget_i386_linux_no_xml[] = \"@<target>\\\n <architecture>i386</architecture>\\\n <osabi>GNU/Linux</osabi>\\\n </target>\";\n \n #ifdef __x86_64__\n-static const char *xmltarget_amd64_linux_no_xml = \"@<target>\\\n+static const char xmltarget_amd64_linux_no_xml[] = \"@<target>\\\n <architecture>i386:x86-64</architecture>\\\n <osabi>GNU/Linux</osabi>\\\n </target>\";"
    }
  ]
}