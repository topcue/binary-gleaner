{
  "sha": "f320bba50ff0aab7ce342ab9e3d25f49fc45d468",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ZjMyMGJiYTUwZmYwYWFiN2NlMzQyYWI5ZTNkMjVmNDlmYzQ1ZDQ2OA==",
  "commit": {
    "author": {
      "name": "Egeyar Bagcioglu",
      "email": "egeyar.bagcioglu@oracle.com",
      "date": "2020-04-15T13:37:34Z"
    },
    "committer": {
      "name": "Nick Alcock",
      "email": "nick.alcock@oracle.com",
      "date": "2020-07-22T17:03:39Z"
    },
    "message": "ld: Reformat CTF errors into warnings.\n\nld/\n\t* ldlang.c (lang_merge_ctf): Turn errors into warnings.\n\tFix a comment typo.\n\t(lang_write_ctf): Turn an error into a warning.\n\t(ldlang_open_ctf): Reformat warnings. Fix printing file names.\n\nReviewed-by: Nick Alcock <nick.alcock@oracle.com>",
    "tree": {
      "sha": "41db2530483114f88225e987e8e15322e73410d3",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/41db2530483114f88225e987e8e15322e73410d3"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/f320bba50ff0aab7ce342ab9e3d25f49fc45d468",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/f320bba50ff0aab7ce342ab9e3d25f49fc45d468",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/f320bba50ff0aab7ce342ab9e3d25f49fc45d468",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/f320bba50ff0aab7ce342ab9e3d25f49fc45d468/comments",
  "author": null,
  "committer": {
    "login": "nickalcock",
    "id": 6503005,
    "node_id": "MDQ6VXNlcjY1MDMwMDU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6503005?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nickalcock",
    "html_url": "https://github.com/nickalcock",
    "followers_url": "https://api.github.com/users/nickalcock/followers",
    "following_url": "https://api.github.com/users/nickalcock/following{/other_user}",
    "gists_url": "https://api.github.com/users/nickalcock/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nickalcock/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nickalcock/subscriptions",
    "organizations_url": "https://api.github.com/users/nickalcock/orgs",
    "repos_url": "https://api.github.com/users/nickalcock/repos",
    "events_url": "https://api.github.com/users/nickalcock/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nickalcock/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "3dd6b890b4e2c1d908a5279f8f01c2a576ef9db3",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/3dd6b890b4e2c1d908a5279f8f01c2a576ef9db3",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/3dd6b890b4e2c1d908a5279f8f01c2a576ef9db3"
    }
  ],
  "stats": {
    "total": 29,
    "additions": 19,
    "deletions": 10
  },
  "files": [
    {
      "sha": "02ce24933aa751b983eca6ea0f214256255e30fd",
      "filename": "ld/ChangeLog",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f320bba50ff0aab7ce342ab9e3d25f49fc45d468/ld/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f320bba50ff0aab7ce342ab9e3d25f49fc45d468/ld/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/ChangeLog?ref=f320bba50ff0aab7ce342ab9e3d25f49fc45d468",
      "patch": "@@ -1,3 +1,10 @@\n+2020-07-22  Egeyar Bagcioglu  <egeyar.bagcioglu@oracle.com>\n+\n+\t* ldlang.c (lang_merge_ctf): Turn errors into warnings.\n+\tFix a comment typo.\n+\t(lang_write_ctf): Turn an error into a warning.\n+\t(ldlang_open_ctf): Reformat warnings. Fix printing file names.\n+\n 2020-07-22  Nick Alcock  <nick.alcock@oracle.com>\n \n \t* ldlang.c (lang_ctf_errs_warnings): New, print CTF errors"
    },
    {
      "sha": "b0231a17e46a334ccda500a9cab2af4ee98ae43b",
      "filename": "ld/ldlang.c",
      "status": "modified",
      "additions": 12,
      "deletions": 10,
      "changes": 22,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f320bba50ff0aab7ce342ab9e3d25f49fc45d468/ld/ldlang.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f320bba50ff0aab7ce342ab9e3d25f49fc45d468/ld/ldlang.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/ldlang.c?ref=f320bba50ff0aab7ce342ab9e3d25f49fc45d468",
      "patch": "@@ -3693,8 +3693,8 @@ ldlang_open_ctf (void)\n       if ((file->the_ctf = ctf_bfdopen (file->the_bfd, &err)) == NULL)\n \t{\n \t  if (err != ECTF_NOCTFDATA)\n-\t    einfo (_(\"%P: warning: CTF section in `%pI' not loaded: \"\n-\t\t     \"its types will be discarded: `%s'\\n\"), file,\n+\t    einfo (_(\"%P: warning: CTF section in %pB not loaded; \"\n+\t\t     \"its types will be discarded: `%s'\\n\"), file->the_bfd,\n \t\t     ctf_errmsg (err));\n \t  continue;\n \t}\n@@ -3780,11 +3780,11 @@ lang_merge_ctf (void)\n       if (!file->the_ctf)\n \tcontinue;\n \n-      /* Takes ownership of file->u.the_ctfa.  */\n+      /* Takes ownership of file->the_ctf.  */\n       if (ctf_link_add_ctf (ctf_output, file->the_ctf, file->filename) < 0)\n \t{\n-\t  einfo (_(\"%F%P: cannot link with CTF in %pB: %s\\n\"), file->the_bfd,\n-\t\t ctf_errmsg (ctf_errno (ctf_output)));\n+\t  einfo (_(\"%P: warning: CTF section in %pB cannot be linked: `%s'\\n\"),\n+\t\t file->the_bfd, ctf_errmsg (ctf_errno (ctf_output)));\n \t  ctf_close (file->the_ctf);\n \t  file->the_ctf = NULL;\n \t  continue;\n@@ -3793,7 +3793,8 @@ lang_merge_ctf (void)\n \n   if (ctf_link (ctf_output, CTF_LINK_SHARE_UNCONFLICTED) < 0)\n     {\n-      einfo (_(\"%F%P: CTF linking failed; output will have no CTF section: %s\\n\"),\n+      einfo (_(\"%P: warning: CTF linking failed; \"\n+\t       \"output will have no CTF section: `%s'\\n\"),\n \t     ctf_errmsg (ctf_errno (ctf_output)));\n       if (output_sect)\n \t{\n@@ -3850,8 +3851,9 @@ lang_write_ctf (int late)\n \n       if (!output_sect->contents)\n \t{\n-\t  einfo (_(\"%F%P: CTF section emission failed; output will have no \"\n-\t\t   \"CTF section: %s\\n\"), ctf_errmsg (ctf_errno (ctf_output)));\n+\t  einfo (_(\"%P: warning: CTF section emission failed; \"\n+\t\t   \"output will have no CTF section: `%s'\\n\"),\n+\t\t ctf_errmsg (ctf_errno (ctf_output)));\n \t  output_sect->size = 0;\n \t  output_sect->flags |= SEC_EXCLUDE;\n \t}\n@@ -3890,8 +3892,8 @@ ldlang_open_ctf (void)\n \n       if ((sect = bfd_get_section_by_name (file->the_bfd, \".ctf\")) != NULL)\n \t{\n-\t    einfo (_(\"%P: warning: CTF section in `%pI' not linkable: \"\n-\t\t     \"%P was built without support for CTF\\n\"), file);\n+\t    einfo (_(\"%P: warning: CTF section in %pB not linkable: \"\n+\t\t     \"%P was built without support for CTF\\n\"), file->the_bfd);\n \t    sect->size = 0;\n \t    sect->flags |= SEC_EXCLUDE;\n \t}"
    }
  ]
}