{
  "sha": "c560184eb2074570988c498aaae494d0c4b00328",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YzU2MDE4NGViMjA3NDU3MDk4OGM0OThhYWFlNDk0ZDBjNGIwMDMyOA==",
  "commit": {
    "author": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2020-07-09T13:18:10Z"
    },
    "committer": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2020-07-09T13:28:16Z"
    },
    "message": "powerpc garbage collect test\n\nld's garbage collection test on powerpc64 catered for old compilers\n(pre -mcmodel=medium support), setting options that caused the test to\nfail.  Which meant the test wasn't really testing anything.  Get rid\nof that old compiler support, and avoid -fPIE fails on ppc32.\n\n\t* testsuite/ld-gc/gc.exp: Don't set -mminimal-toc for powerpc64,\n\tand remove powerpc64 xfail.  Use -fno-PIE for ppc32.",
    "tree": {
      "sha": "fd84ad11e234236f0ec8f0bdd10b9a745435e72a",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/fd84ad11e234236f0ec8f0bdd10b9a745435e72a"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/c560184eb2074570988c498aaae494d0c4b00328",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/c560184eb2074570988c498aaae494d0c4b00328",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/c560184eb2074570988c498aaae494d0c4b00328",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/c560184eb2074570988c498aaae494d0c4b00328/comments",
  "author": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "470cd0faa7f433b47944683eee4fc3dad6ef7cdf",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/470cd0faa7f433b47944683eee4fc3dad6ef7cdf",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/470cd0faa7f433b47944683eee4fc3dad6ef7cdf"
    }
  ],
  "stats": {
    "total": 14,
    "additions": 8,
    "deletions": 6
  },
  "files": [
    {
      "sha": "195731edc357596b6d7518dc4e8054061a433021",
      "filename": "ld/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c560184eb2074570988c498aaae494d0c4b00328/ld/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c560184eb2074570988c498aaae494d0c4b00328/ld/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/ChangeLog?ref=c560184eb2074570988c498aaae494d0c4b00328",
      "patch": "@@ -1,3 +1,8 @@\n+2020-07-09  Alan Modra  <amodra@gmail.com>\n+\n+\t* testsuite/ld-gc/gc.exp: Don't set -mminimal-toc for powerpc64,\n+\tand remove powerpc64 xfail.  Use -fno-PIE for ppc32.\n+\n 2020-07-09  Alan Modra  <amodra@gmail.com>\n \n \tPR 18841"
    },
    {
      "sha": "285e7d1cb576370a2b0756c8cacbe6df796906e2",
      "filename": "ld/testsuite/ld-gc/gc.exp",
      "status": "modified",
      "additions": 3,
      "deletions": 6,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c560184eb2074570988c498aaae494d0c4b00328/ld/testsuite/ld-gc/gc.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c560184eb2074570988c498aaae494d0c4b00328/ld/testsuite/ld-gc/gc.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-gc/gc.exp?ref=c560184eb2074570988c498aaae494d0c4b00328",
      "patch": "@@ -26,9 +26,9 @@ if ![check_gc_sections_available] {\n set cflags \"-ffunction-sections -fdata-sections $NOSANTIZE_CFLAGS\"\n set objfile \"tmpdir/gc.o\"\n \n-if [istarget powerpc64*-*-*] {\n-    # otherwise with -mcmodel=medium gcc we get XPASSes.\n-    set cflags \"$cflags -mminimal-toc\"\n+if { [istarget powerpc*-*-*] && ![istarget powerpc64*-*-*] } {\n+    # Avoid using .got2 for powerpc -m32\n+    set cflags \"$cflags $NOPIE_CFLAGS\"\n }\n \n if { [istarget m681*-*-*] || [istarget m68hc1*-*-*] } {\n@@ -71,9 +71,6 @@ proc test_gc { testname filename linker ldflags} {\n \tfail $testname\n \treturn\n     }\n-    #ppc64_elf_gc_mark_hook needs to be taught how to look through\n-    #the .toc section to properly mark variable sections for gc.\n-    setup_xfail \"powerpc64*-*-*\"\n     if {[info exists nm_output(unused_func)] \\\n \t    || [info exists nm_output(unused_var)]} {\n \tsend_log \"unused section still here\\n\""
    }
  ]
}