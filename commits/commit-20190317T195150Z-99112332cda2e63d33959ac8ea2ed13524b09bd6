{
  "sha": "99112332cda2e63d33959ac8ea2ed13524b09bd6",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6OTkxMTIzMzJjZGEyZTYzZDMzOTU5YWM4ZWEyZWQxMzUyNGIwOWJkNg==",
  "commit": {
    "author": {
      "name": "H.J. Lu",
      "email": "hjl.tools@gmail.com",
      "date": "2019-03-17T19:50:45Z"
    },
    "committer": {
      "name": "H.J. Lu",
      "email": "hjl.tools@gmail.com",
      "date": "2019-03-17T19:51:50Z"
    },
    "message": "x86: Encode 256-bit/512-bit VEX/EVEX insns with 128-bit VEX\n\nSince all AVX512 processors support AVX, we can encode 256-bit/512-bit\nVEX/EVEX vector register clearing instructions with 128-bit VEX vector\nregister clearing instructions at -O1.\n\n\t* config/tc-i386.c (optimize_encoding): Encode 256-bit/512-bit\n\tVEX/EVEX vector register clearing instructions with 128-bit VEX\n\tvector register clearing instructions at -O1.\n\t* doc/c-i386.texi: Update -O1 and -O2 documentation.\n\t* testsuite/gas/i386/i386.exp: Run optimize-1a and\n\tx86-64-optimize-2a.\n\t* testsuite/gas/i386/optimize-1a.d: New file.\n\t* testsuite/gas/i386/x86-64-optimize-2a.d: Likewise.",
    "tree": {
      "sha": "5dc762d698d2a2b62d4552a505516c7b91b78b76",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/5dc762d698d2a2b62d4552a505516c7b91b78b76"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/99112332cda2e63d33959ac8ea2ed13524b09bd6",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/99112332cda2e63d33959ac8ea2ed13524b09bd6",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/99112332cda2e63d33959ac8ea2ed13524b09bd6",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/99112332cda2e63d33959ac8ea2ed13524b09bd6/comments",
  "author": {
    "login": "hjl-tools",
    "id": 1072356,
    "node_id": "MDQ6VXNlcjEwNzIzNTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hjl-tools",
    "html_url": "https://github.com/hjl-tools",
    "followers_url": "https://api.github.com/users/hjl-tools/followers",
    "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}",
    "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions",
    "organizations_url": "https://api.github.com/users/hjl-tools/orgs",
    "repos_url": "https://api.github.com/users/hjl-tools/repos",
    "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hjl-tools/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "hjl-tools",
    "id": 1072356,
    "node_id": "MDQ6VXNlcjEwNzIzNTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hjl-tools",
    "html_url": "https://github.com/hjl-tools",
    "followers_url": "https://api.github.com/users/hjl-tools/followers",
    "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}",
    "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions",
    "organizations_url": "https://api.github.com/users/hjl-tools/orgs",
    "repos_url": "https://api.github.com/users/hjl-tools/repos",
    "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hjl-tools/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "d4cbef22ba406707a4fcb30a7a57308447626f14",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/d4cbef22ba406707a4fcb30a7a57308447626f14",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/d4cbef22ba406707a4fcb30a7a57308447626f14"
    }
  ],
  "stats": {
    "total": 221,
    "additions": 206,
    "deletions": 15
  },
  "files": [
    {
      "sha": "3ab51c7b7175c69cb276830eb31251c9f7b5f6df",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 11,
      "deletions": 0,
      "changes": 11,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/99112332cda2e63d33959ac8ea2ed13524b09bd6/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/99112332cda2e63d33959ac8ea2ed13524b09bd6/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=99112332cda2e63d33959ac8ea2ed13524b09bd6",
      "patch": "@@ -1,3 +1,14 @@\n+2019-03-18  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\t* config/tc-i386.c (optimize_encoding): Encode 256-bit/512-bit\n+\tVEX/EVEX vector register clearing instructions with 128-bit VEX\n+\tvector register clearing instructions at -O1.\n+\t* doc/c-i386.texi: Update -O1 and -O2 documentation.\n+\t* testsuite/gas/i386/i386.exp: Run optimize-1a and\n+\tx86-64-optimize-2a.\n+\t* testsuite/gas/i386/optimize-1a.d: New file.\n+\t* testsuite/gas/i386/x86-64-optimize-2a.d: Likewise.\n+\n 2019-03-17  H.J. Lu  <hongjiu.lu@intel.com>\n \n \tPR gas/24353"
    },
    {
      "sha": "856c18d6723d4608cd6965cf1f4a15b0fcc4511b",
      "filename": "gas/config/tc-i386.c",
      "status": "modified",
      "additions": 11,
      "deletions": 11,
      "changes": 22,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/99112332cda2e63d33959ac8ea2ed13524b09bd6/gas/config/tc-i386.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/99112332cda2e63d33959ac8ea2ed13524b09bd6/gas/config/tc-i386.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/config/tc-i386.c?ref=99112332cda2e63d33959ac8ea2ed13524b09bd6",
      "patch": "@@ -3977,8 +3977,7 @@ optimize_encoding (void)\n \t    }\n \t}\n     }\n-  else if (optimize > 1\n-\t   && i.reg_operands == 3\n+  else if (i.reg_operands == 3\n \t   && i.op[0].regs == i.op[1].regs\n \t   && !i.types[2].bitfield.xmmword\n \t   && (i.tm.opcode_modifier.vex\n@@ -4009,15 +4008,15 @@ optimize_encoding (void)\n \t\t|| i.tm.base_opcode == 0x6647)\n \t       && i.tm.extension_opcode == None))\n     {\n-      /* Optimize: -O2:\n+      /* Optimize: -O1:\n \t   VOP, one of vandnps, vandnpd, vxorps, vxorpd, vpsubb, vpsubd,\n \t   vpsubq and vpsubw:\n \t     EVEX VOP %zmmM, %zmmM, %zmmN\n \t       -> VEX VOP %xmmM, %xmmM, %xmmN (M and N < 16)\n-\t       -> EVEX VOP %xmmM, %xmmM, %xmmN (M || N >= 16)\n+\t       -> EVEX VOP %xmmM, %xmmM, %xmmN (M || N >= 16) (-O2)\n \t     EVEX VOP %ymmM, %ymmM, %ymmN\n \t       -> VEX VOP %xmmM, %xmmM, %xmmN (M and N < 16)\n-\t       -> EVEX VOP %xmmM, %xmmM, %xmmN (M || N >= 16)\n+\t       -> EVEX VOP %xmmM, %xmmM, %xmmN (M || N >= 16) (-O2)\n \t     VEX VOP %ymmM, %ymmM, %ymmN\n \t       -> VEX VOP %xmmM, %xmmM, %xmmN\n \t   VOP, one of vpandn and vpxor:\n@@ -4026,17 +4025,17 @@ optimize_encoding (void)\n \t   VOP, one of vpandnd and vpandnq:\n \t     EVEX VOP %zmmM, %zmmM, %zmmN\n \t       -> VEX vpandn %xmmM, %xmmM, %xmmN (M and N < 16)\n-\t       -> EVEX VOP %xmmM, %xmmM, %xmmN (M || N >= 16)\n+\t       -> EVEX VOP %xmmM, %xmmM, %xmmN (M || N >= 16) (-O2)\n \t     EVEX VOP %ymmM, %ymmM, %ymmN\n \t       -> VEX vpandn %xmmM, %xmmM, %xmmN (M and N < 16)\n-\t       -> EVEX VOP %xmmM, %xmmM, %xmmN (M || N >= 16)\n+\t       -> EVEX VOP %xmmM, %xmmM, %xmmN (M || N >= 16) (-O2)\n \t   VOP, one of vpxord and vpxorq:\n \t     EVEX VOP %zmmM, %zmmM, %zmmN\n \t       -> VEX vpxor %xmmM, %xmmM, %xmmN (M and N < 16)\n-\t       -> EVEX VOP %xmmM, %xmmM, %xmmN (M || N >= 16)\n+\t       -> EVEX VOP %xmmM, %xmmM, %xmmN (M || N >= 16) (-O2)\n \t     EVEX VOP %ymmM, %ymmM, %ymmN\n \t       -> VEX vpxor %xmmM, %xmmM, %xmmN (M and N < 16)\n-\t       -> EVEX VOP %xmmM, %xmmM, %xmmN (M || N >= 16)\n+\t       -> EVEX VOP %xmmM, %xmmM, %xmmN (M || N >= 16) (-O2)\n \t   VOP, one of kxord and kxorq:\n \t     VEX VOP %kM, %kM, %kN\n \t       -> VEX kxorw %kM, %kM, %kN\n@@ -4054,8 +4053,9 @@ optimize_encoding (void)\n \t      i.tm.opcode_modifier.vexw = VEXW0;\n \t      i.tm.opcode_modifier.evex = 0;\n \t    }\n-\t  else if (cpu_arch_flags.bitfield.cpuavx512vl\n-\t\t   || cpu_arch_isa_flags.bitfield.cpuavx512vl)\n+\t  else if (optimize > 1\n+\t\t   && (cpu_arch_flags.bitfield.cpuavx512vl\n+\t\t       || cpu_arch_isa_flags.bitfield.cpuavx512vl))\n \t    i.tm.opcode_modifier.evex = EVEX128;\n \t  else\n \t    return;"
    },
    {
      "sha": "7e5f5c257e02a9a44a7f1f3e3a7ebb722cb81c96",
      "filename": "gas/doc/c-i386.texi",
      "status": "modified",
      "additions": 6,
      "deletions": 4,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/99112332cda2e63d33959ac8ea2ed13524b09bd6/gas/doc/c-i386.texi",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/99112332cda2e63d33959ac8ea2ed13524b09bd6/gas/doc/c-i386.texi",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/doc/c-i386.texi?ref=99112332cda2e63d33959ac8ea2ed13524b09bd6",
      "patch": "@@ -453,10 +453,12 @@ Intel64 ISA in 64-bit mode.  The default is to accept both.\n Optimize instruction encoding with smaller instruction size.  @samp{-O}\n and @samp{-O1} encode 64-bit register load instructions with 64-bit\n immediate as 32-bit register load instructions with 31-bit or 32-bits\n-immediates and encode 64-bit register clearing instructions with 32-bit\n-register clearing instructions.  @samp{-O2} includes @samp{-O1}\n-optimization plus encodes 256-bit and 512-bit vector register clearing\n-instructions with 128-bit vector register clearing instructions.\n+immediates, encode 64-bit register clearing instructions with 32-bit\n+register clearing instructions and encode 256-bit/512-bit VEX/EVEX\n+vector register clearing instructions with 128-bit VEX vector register\n+clearing instructions.  @samp{-O2} includes @samp{-O1} optimization plus\n+encodes 256-bit/512-bit EVEX vector register clearing instructions with\n+128-bit EVEX vector register clearing instructions.\n @samp{-Os} includes @samp{-O2} optimization plus encodes 16-bit, 32-bit\n and 64-bit register tests with immediate as 8-bit register test with\n immediate.  @samp{-O0} turns off this optimization."
    },
    {
      "sha": "798bfb564a502708f190686ce8fabd5d151687e4",
      "filename": "gas/testsuite/gas/i386/i386.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/99112332cda2e63d33959ac8ea2ed13524b09bd6/gas/testsuite/gas/i386/i386.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/99112332cda2e63d33959ac8ea2ed13524b09bd6/gas/testsuite/gas/i386/i386.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/i386.exp?ref=99112332cda2e63d33959ac8ea2ed13524b09bd6",
      "patch": "@@ -468,6 +468,7 @@ if [expr ([istarget \"i*86-*-*\"] ||  [istarget \"x86_64-*-*\"]) && [gas_32_check]]\n     run_dump_test \"nop-1\"\n     run_dump_test \"nop-2\"\n     run_dump_test \"optimize-1\"\n+    run_dump_test \"optimize-1a\"\n     run_dump_test \"optimize-2\"\n     run_dump_test \"optimize-3\"\n     run_dump_test \"optimize-4\"\n@@ -981,6 +982,7 @@ if [expr ([istarget \"i*86-*-*\"] || [istarget \"x86_64-*-*\"]) && [gas_64_check]] t\n     run_dump_test \"x86-64-nop-2\"\n     run_dump_test \"x86-64-optimize-1\"\n     run_dump_test \"x86-64-optimize-2\"\n+    run_dump_test \"x86-64-optimize-2a\"\n     run_dump_test \"x86-64-optimize-3\"\n     run_dump_test \"x86-64-optimize-4\"\n     run_dump_test \"x86-64-optimize-5\""
    },
    {
      "sha": "e6e6d81fe4fa79a5c7b27400555e16357a988d87",
      "filename": "gas/testsuite/gas/i386/optimize-1a.d",
      "status": "added",
      "additions": 66,
      "deletions": 0,
      "changes": 66,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/99112332cda2e63d33959ac8ea2ed13524b09bd6/gas/testsuite/gas/i386/optimize-1a.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/99112332cda2e63d33959ac8ea2ed13524b09bd6/gas/testsuite/gas/i386/optimize-1a.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/optimize-1a.d?ref=99112332cda2e63d33959ac8ea2ed13524b09bd6",
      "patch": "@@ -0,0 +1,66 @@\n+#source: optimize-1.s\n+#as: -O\n+#objdump: -drw\n+#name: optimized encoding 1a with -O\n+\n+.*: +file format .*\n+\n+\n+Disassembly of section .text:\n+\n+0+ <_start>:\n+ +[a-f0-9]+:\t62 f1 f5 4f 55 e9    \tvandnpd %zmm1,%zmm1,%zmm5\\{%k7\\}\n+ +[a-f0-9]+:\tc5 f1 55 e9          \tvandnpd %xmm1,%xmm1,%xmm5\n+ +[a-f0-9]+:\tc5 f1 55 e9          \tvandnpd %xmm1,%xmm1,%xmm5\n+ +[a-f0-9]+:\tc5 f1 55 e9          \tvandnpd %xmm1,%xmm1,%xmm5\n+ +[a-f0-9]+:\t62 f1 74 4f 55 e9    \tvandnps %zmm1,%zmm1,%zmm5\\{%k7\\}\n+ +[a-f0-9]+:\tc5 f0 55 e9          \tvandnps %xmm1,%xmm1,%xmm5\n+ +[a-f0-9]+:\tc5 f0 55 e9          \tvandnps %xmm1,%xmm1,%xmm5\n+ +[a-f0-9]+:\tc5 f0 55 e9          \tvandnps %xmm1,%xmm1,%xmm5\n+ +[a-f0-9]+:\tc5 f1 df e9          \tvpandn %xmm1,%xmm1,%xmm5\n+ +[a-f0-9]+:\t62 f1 75 4f df e9    \tvpandnd %zmm1,%zmm1,%zmm5\\{%k7\\}\n+ +[a-f0-9]+:\tc5 f1 df e9          \tvpandn %xmm1,%xmm1,%xmm5\n+ +[a-f0-9]+:\tc5 f1 df e9          \tvpandn %xmm1,%xmm1,%xmm5\n+ +[a-f0-9]+:\tc5 f1 df e9          \tvpandn %xmm1,%xmm1,%xmm5\n+ +[a-f0-9]+:\t62 f1 f5 4f df e9    \tvpandnq %zmm1,%zmm1,%zmm5\\{%k7\\}\n+ +[a-f0-9]+:\tc5 f1 df e9          \tvpandn %xmm1,%xmm1,%xmm5\n+ +[a-f0-9]+:\tc5 f1 df e9          \tvpandn %xmm1,%xmm1,%xmm5\n+ +[a-f0-9]+:\tc5 f1 df e9          \tvpandn %xmm1,%xmm1,%xmm5\n+ +[a-f0-9]+:\t62 f1 f5 4f 57 e9    \tvxorpd %zmm1,%zmm1,%zmm5\\{%k7\\}\n+ +[a-f0-9]+:\tc5 f1 57 e9          \tvxorpd %xmm1,%xmm1,%xmm5\n+ +[a-f0-9]+:\tc5 f1 57 e9          \tvxorpd %xmm1,%xmm1,%xmm5\n+ +[a-f0-9]+:\tc5 f1 57 e9          \tvxorpd %xmm1,%xmm1,%xmm5\n+ +[a-f0-9]+:\t62 f1 74 4f 57 e9    \tvxorps %zmm1,%zmm1,%zmm5\\{%k7\\}\n+ +[a-f0-9]+:\tc5 f0 57 e9          \tvxorps %xmm1,%xmm1,%xmm5\n+ +[a-f0-9]+:\tc5 f0 57 e9          \tvxorps %xmm1,%xmm1,%xmm5\n+ +[a-f0-9]+:\tc5 f0 57 e9          \tvxorps %xmm1,%xmm1,%xmm5\n+ +[a-f0-9]+:\tc5 f1 ef e9          \tvpxor  %xmm1,%xmm1,%xmm5\n+ +[a-f0-9]+:\t62 f1 75 4f ef e9    \tvpxord %zmm1,%zmm1,%zmm5\\{%k7\\}\n+ +[a-f0-9]+:\tc5 f1 ef e9          \tvpxor  %xmm1,%xmm1,%xmm5\n+ +[a-f0-9]+:\tc5 f1 ef e9          \tvpxor  %xmm1,%xmm1,%xmm5\n+ +[a-f0-9]+:\tc5 f1 ef e9          \tvpxor  %xmm1,%xmm1,%xmm5\n+ +[a-f0-9]+:\t62 f1 f5 4f ef e9    \tvpxorq %zmm1,%zmm1,%zmm5\\{%k7\\}\n+ +[a-f0-9]+:\tc5 f1 ef e9          \tvpxor  %xmm1,%xmm1,%xmm5\n+ +[a-f0-9]+:\tc5 f1 ef e9          \tvpxor  %xmm1,%xmm1,%xmm5\n+ +[a-f0-9]+:\tc5 f1 ef e9          \tvpxor  %xmm1,%xmm1,%xmm5\n+ +[a-f0-9]+:\t62 f1 75 4f f8 e9    \tvpsubb %zmm1,%zmm1,%zmm5\\{%k7\\}\n+ +[a-f0-9]+:\tc5 f1 f8 e9          \tvpsubb %xmm1,%xmm1,%xmm5\n+ +[a-f0-9]+:\tc5 f1 f8 e9          \tvpsubb %xmm1,%xmm1,%xmm5\n+ +[a-f0-9]+:\tc5 f1 f8 e9          \tvpsubb %xmm1,%xmm1,%xmm5\n+ +[a-f0-9]+:\t62 f1 75 4f f9 e9    \tvpsubw %zmm1,%zmm1,%zmm5\\{%k7\\}\n+ +[a-f0-9]+:\tc5 f1 f9 e9          \tvpsubw %xmm1,%xmm1,%xmm5\n+ +[a-f0-9]+:\tc5 f1 f9 e9          \tvpsubw %xmm1,%xmm1,%xmm5\n+ +[a-f0-9]+:\tc5 f1 f9 e9          \tvpsubw %xmm1,%xmm1,%xmm5\n+ +[a-f0-9]+:\t62 f1 75 4f fa e9    \tvpsubd %zmm1,%zmm1,%zmm5\\{%k7\\}\n+ +[a-f0-9]+:\tc5 f1 fa e9          \tvpsubd %xmm1,%xmm1,%xmm5\n+ +[a-f0-9]+:\tc5 f1 fa e9          \tvpsubd %xmm1,%xmm1,%xmm5\n+ +[a-f0-9]+:\tc5 f1 fa e9          \tvpsubd %xmm1,%xmm1,%xmm5\n+ +[a-f0-9]+:\t62 f1 f5 4f fb e9    \tvpsubq %zmm1,%zmm1,%zmm5\\{%k7\\}\n+ +[a-f0-9]+:\tc5 f1 fb e9          \tvpsubq %xmm1,%xmm1,%xmm5\n+ +[a-f0-9]+:\tc5 f1 fb e9          \tvpsubq %xmm1,%xmm1,%xmm5\n+ +[a-f0-9]+:\tc5 f1 fb e9          \tvpsubq %xmm1,%xmm1,%xmm5\n+ +[a-f0-9]+:\tc5 f4 47 e9          \tkxorw  %k1,%k1,%k5\n+ +[a-f0-9]+:\tc5 f4 47 e9          \tkxorw  %k1,%k1,%k5\n+ +[a-f0-9]+:\tc5 f4 42 e9          \tkandnw %k1,%k1,%k5\n+ +[a-f0-9]+:\tc5 f4 42 e9          \tkandnw %k1,%k1,%k5\n+#pass"
    },
    {
      "sha": "9c6466d4ae3c54ba796835a2816cd368d07940b0",
      "filename": "gas/testsuite/gas/i386/x86-64-optimize-2a.d",
      "status": "added",
      "additions": 110,
      "deletions": 0,
      "changes": 110,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/99112332cda2e63d33959ac8ea2ed13524b09bd6/gas/testsuite/gas/i386/x86-64-optimize-2a.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/99112332cda2e63d33959ac8ea2ed13524b09bd6/gas/testsuite/gas/i386/x86-64-optimize-2a.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/x86-64-optimize-2a.d?ref=99112332cda2e63d33959ac8ea2ed13524b09bd6",
      "patch": "@@ -0,0 +1,110 @@\n+#source: x86-64-optimize-2.s\n+#as: -O\n+#objdump: -drw\n+#name: x86-64 optimized encoding 2a with -O\n+\n+.*: +file format .*\n+\n+\n+Disassembly of section .text:\n+\n+0+ <_start>:\n+ +[a-f0-9]+:\t62 71 f5 4f 55 f9    \tvandnpd %zmm1,%zmm1,%zmm15\\{%k7\\}\n+ +[a-f0-9]+:\tc5 71 55 f9          \tvandnpd %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 71 55 f9          \tvandnpd %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 71 55 f9          \tvandnpd %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\t62 e1 f5 48 55 c1    \tvandnpd %zmm1,%zmm1,%zmm16\n+ +[a-f0-9]+:\t62 e1 f5 28 55 c1    \tvandnpd %ymm1,%ymm1,%ymm16\n+ +[a-f0-9]+:\t62 b1 f5 40 55 c9    \tvandnpd %zmm17,%zmm17,%zmm1\n+ +[a-f0-9]+:\t62 b1 f5 20 55 c9    \tvandnpd %ymm17,%ymm17,%ymm1\n+ +[a-f0-9]+:\t62 71 74 4f 55 f9    \tvandnps %zmm1,%zmm1,%zmm15\\{%k7\\}\n+ +[a-f0-9]+:\tc5 70 55 f9          \tvandnps %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 70 55 f9          \tvandnps %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 70 55 f9          \tvandnps %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\t62 e1 74 48 55 c1    \tvandnps %zmm1,%zmm1,%zmm16\n+ +[a-f0-9]+:\t62 e1 74 28 55 c1    \tvandnps %ymm1,%ymm1,%ymm16\n+ +[a-f0-9]+:\t62 b1 74 40 55 c9    \tvandnps %zmm17,%zmm17,%zmm1\n+ +[a-f0-9]+:\t62 b1 74 20 55 c9    \tvandnps %ymm17,%ymm17,%ymm1\n+ +[a-f0-9]+:\tc5 71 df f9          \tvpandn %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\t62 71 75 4f df f9    \tvpandnd %zmm1,%zmm1,%zmm15\\{%k7\\}\n+ +[a-f0-9]+:\tc5 71 df f9          \tvpandn %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 71 df f9          \tvpandn %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 71 df f9          \tvpandn %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\t62 e1 75 48 df c1    \tvpandnd %zmm1,%zmm1,%zmm16\n+ +[a-f0-9]+:\t62 e1 75 28 df c1    \tvpandnd %ymm1,%ymm1,%ymm16\n+ +[a-f0-9]+:\t62 b1 75 40 df c9    \tvpandnd %zmm17,%zmm17,%zmm1\n+ +[a-f0-9]+:\t62 b1 75 20 df c9    \tvpandnd %ymm17,%ymm17,%ymm1\n+ +[a-f0-9]+:\t62 71 f5 4f df f9    \tvpandnq %zmm1,%zmm1,%zmm15\\{%k7\\}\n+ +[a-f0-9]+:\tc5 71 df f9          \tvpandn %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 71 df f9          \tvpandn %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 71 df f9          \tvpandn %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\t62 e1 f5 48 df c1    \tvpandnq %zmm1,%zmm1,%zmm16\n+ +[a-f0-9]+:\t62 e1 f5 28 df c1    \tvpandnq %ymm1,%ymm1,%ymm16\n+ +[a-f0-9]+:\t62 b1 f5 40 df c9    \tvpandnq %zmm17,%zmm17,%zmm1\n+ +[a-f0-9]+:\t62 b1 f5 20 df c9    \tvpandnq %ymm17,%ymm17,%ymm1\n+ +[a-f0-9]+:\t62 71 f5 4f 57 f9    \tvxorpd %zmm1,%zmm1,%zmm15\\{%k7\\}\n+ +[a-f0-9]+:\tc5 71 57 f9          \tvxorpd %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 71 57 f9          \tvxorpd %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 71 57 f9          \tvxorpd %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\t62 e1 f5 48 57 c1    \tvxorpd %zmm1,%zmm1,%zmm16\n+ +[a-f0-9]+:\t62 e1 f5 28 57 c1    \tvxorpd %ymm1,%ymm1,%ymm16\n+ +[a-f0-9]+:\t62 b1 f5 40 57 c9    \tvxorpd %zmm17,%zmm17,%zmm1\n+ +[a-f0-9]+:\t62 b1 f5 20 57 c9    \tvxorpd %ymm17,%ymm17,%ymm1\n+ +[a-f0-9]+:\t62 71 74 4f 57 f9    \tvxorps %zmm1,%zmm1,%zmm15\\{%k7\\}\n+ +[a-f0-9]+:\tc5 70 57 f9          \tvxorps %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 70 57 f9          \tvxorps %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 70 57 f9          \tvxorps %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\t62 e1 74 48 57 c1    \tvxorps %zmm1,%zmm1,%zmm16\n+ +[a-f0-9]+:\t62 e1 74 28 57 c1    \tvxorps %ymm1,%ymm1,%ymm16\n+ +[a-f0-9]+:\t62 b1 74 40 57 c9    \tvxorps %zmm17,%zmm17,%zmm1\n+ +[a-f0-9]+:\t62 b1 74 20 57 c9    \tvxorps %ymm17,%ymm17,%ymm1\n+ +[a-f0-9]+:\tc5 71 ef f9          \tvpxor  %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\t62 71 75 4f ef f9    \tvpxord %zmm1,%zmm1,%zmm15\\{%k7\\}\n+ +[a-f0-9]+:\tc5 71 ef f9          \tvpxor  %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 71 ef f9          \tvpxor  %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 71 ef f9          \tvpxor  %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\t62 e1 75 48 ef c1    \tvpxord %zmm1,%zmm1,%zmm16\n+ +[a-f0-9]+:\t62 e1 75 28 ef c1    \tvpxord %ymm1,%ymm1,%ymm16\n+ +[a-f0-9]+:\t62 b1 75 40 ef c9    \tvpxord %zmm17,%zmm17,%zmm1\n+ +[a-f0-9]+:\t62 b1 75 20 ef c9    \tvpxord %ymm17,%ymm17,%ymm1\n+ +[a-f0-9]+:\t62 71 f5 4f ef f9    \tvpxorq %zmm1,%zmm1,%zmm15\\{%k7\\}\n+ +[a-f0-9]+:\tc5 71 ef f9          \tvpxor  %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 71 ef f9          \tvpxor  %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 71 ef f9          \tvpxor  %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\t62 e1 f5 48 ef c1    \tvpxorq %zmm1,%zmm1,%zmm16\n+ +[a-f0-9]+:\t62 e1 f5 28 ef c1    \tvpxorq %ymm1,%ymm1,%ymm16\n+ +[a-f0-9]+:\t62 b1 f5 40 ef c9    \tvpxorq %zmm17,%zmm17,%zmm1\n+ +[a-f0-9]+:\t62 b1 f5 20 ef c9    \tvpxorq %ymm17,%ymm17,%ymm1\n+ +[a-f0-9]+:\t62 71 75 4f f8 f9    \tvpsubb %zmm1,%zmm1,%zmm15\\{%k7\\}\n+ +[a-f0-9]+:\tc5 71 f8 f9          \tvpsubb %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 71 f8 f9          \tvpsubb %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 71 f8 f9          \tvpsubb %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\t62 e1 75 48 f8 c1    \tvpsubb %zmm1,%zmm1,%zmm16\n+ +[a-f0-9]+:\t62 e1 75 28 f8 c1    \tvpsubb %ymm1,%ymm1,%ymm16\n+ +[a-f0-9]+:\t62 b1 75 40 f8 c9    \tvpsubb %zmm17,%zmm17,%zmm1\n+ +[a-f0-9]+:\t62 b1 75 20 f8 c9    \tvpsubb %ymm17,%ymm17,%ymm1\n+ +[a-f0-9]+:\t62 71 75 4f f9 f9    \tvpsubw %zmm1,%zmm1,%zmm15\\{%k7\\}\n+ +[a-f0-9]+:\tc5 71 f9 f9          \tvpsubw %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 71 f9 f9          \tvpsubw %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 71 f9 f9          \tvpsubw %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\t62 e1 75 48 f9 c1    \tvpsubw %zmm1,%zmm1,%zmm16\n+ +[a-f0-9]+:\t62 e1 75 28 f9 c1    \tvpsubw %ymm1,%ymm1,%ymm16\n+ +[a-f0-9]+:\t62 b1 75 40 f9 c9    \tvpsubw %zmm17,%zmm17,%zmm1\n+ +[a-f0-9]+:\t62 b1 75 20 f9 c9    \tvpsubw %ymm17,%ymm17,%ymm1\n+ +[a-f0-9]+:\t62 71 75 4f fa f9    \tvpsubd %zmm1,%zmm1,%zmm15\\{%k7\\}\n+ +[a-f0-9]+:\tc5 71 fa f9          \tvpsubd %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 71 fa f9          \tvpsubd %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 71 fa f9          \tvpsubd %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\t62 e1 75 48 fa c1    \tvpsubd %zmm1,%zmm1,%zmm16\n+ +[a-f0-9]+:\t62 e1 75 28 fa c1    \tvpsubd %ymm1,%ymm1,%ymm16\n+ +[a-f0-9]+:\t62 b1 75 40 fa c9    \tvpsubd %zmm17,%zmm17,%zmm1\n+ +[a-f0-9]+:\t62 b1 75 20 fa c9    \tvpsubd %ymm17,%ymm17,%ymm1\n+ +[a-f0-9]+:\t62 71 f5 4f fb f9    \tvpsubq %zmm1,%zmm1,%zmm15\\{%k7\\}\n+ +[a-f0-9]+:\tc5 71 fb f9          \tvpsubq %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 71 fb f9          \tvpsubq %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 71 fb f9          \tvpsubq %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\t62 e1 f5 48 fb c1    \tvpsubq %zmm1,%zmm1,%zmm16\n+ +[a-f0-9]+:\t62 e1 f5 28 fb c1    \tvpsubq %ymm1,%ymm1,%ymm16\n+ +[a-f0-9]+:\t62 b1 f5 40 fb c9    \tvpsubq %zmm17,%zmm17,%zmm1\n+ +[a-f0-9]+:\t62 b1 f5 20 fb c9    \tvpsubq %ymm17,%ymm17,%ymm1\n+#pass"
    }
  ]
}