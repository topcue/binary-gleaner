{
  "sha": "c296cbe681815593eb57033368ac1b20b7a67252",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YzI5NmNiZTY4MTgxNTU5M2ViNTcwMzMzNjhhYzFiMjBiN2E2NzI1Mg==",
  "commit": {
    "author": {
      "name": "Bernd Edlinger",
      "email": "bernd.edlinger@hotmail.de",
      "date": "2019-11-23T06:37:26Z"
    },
    "committer": {
      "name": "Bernd Edlinger",
      "email": "bernd.edlinger@hotmail.de",
      "date": "2019-12-29T21:34:29Z"
    },
    "message": "Fix setting breakpoints or stepping on line 65535\n\nThis removes code that was present from the very first git revisison\n7b4ac7e1ed2c4616bce56d1760807798be87ac9e from 1988.  It was in the\ngdb/dbxread.c at the time (and makes more sense for dbx line info format\nsince line numbers are 16-bit entities in that debug format and debugging\nfiles with more than 65535 lines would not work anyway) but moved from\nthere to gdb/buildsym.c which is used for dwarf line info as well, and\nexcluding an arbitrary line number does certainly not make sense nowadays.\n\nAdd a test case for line 65535\n\ngdb:\n2019-12-29  Bernd Edlinger  <bernd.edlinger@hotmail.de>\n\n\t* buildsym.c (buildsym_compunit::record_line): Do no longer ignore\n\tline 65535.\n\ngdb/testsuite:\n2019-12-29  Bernd Edlinger  <bernd.edlinger@hotmail.de>\n\n\t* gdb.base/line65535.exp: New file.\n\t* gdb.base/line65535.c: New file.",
    "tree": {
      "sha": "4d91faba1b28d082650db522f1f6a040343685fb",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/4d91faba1b28d082650db522f1f6a040343685fb"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/c296cbe681815593eb57033368ac1b20b7a67252",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/c296cbe681815593eb57033368ac1b20b7a67252",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/c296cbe681815593eb57033368ac1b20b7a67252",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/c296cbe681815593eb57033368ac1b20b7a67252/comments",
  "author": {
    "login": "bernd-edlinger",
    "id": 17638929,
    "node_id": "MDQ6VXNlcjE3NjM4OTI5",
    "avatar_url": "https://avatars.githubusercontent.com/u/17638929?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bernd-edlinger",
    "html_url": "https://github.com/bernd-edlinger",
    "followers_url": "https://api.github.com/users/bernd-edlinger/followers",
    "following_url": "https://api.github.com/users/bernd-edlinger/following{/other_user}",
    "gists_url": "https://api.github.com/users/bernd-edlinger/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bernd-edlinger/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bernd-edlinger/subscriptions",
    "organizations_url": "https://api.github.com/users/bernd-edlinger/orgs",
    "repos_url": "https://api.github.com/users/bernd-edlinger/repos",
    "events_url": "https://api.github.com/users/bernd-edlinger/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bernd-edlinger/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "bernd-edlinger",
    "id": 17638929,
    "node_id": "MDQ6VXNlcjE3NjM4OTI5",
    "avatar_url": "https://avatars.githubusercontent.com/u/17638929?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bernd-edlinger",
    "html_url": "https://github.com/bernd-edlinger",
    "followers_url": "https://api.github.com/users/bernd-edlinger/followers",
    "following_url": "https://api.github.com/users/bernd-edlinger/following{/other_user}",
    "gists_url": "https://api.github.com/users/bernd-edlinger/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bernd-edlinger/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bernd-edlinger/subscriptions",
    "organizations_url": "https://api.github.com/users/bernd-edlinger/orgs",
    "repos_url": "https://api.github.com/users/bernd-edlinger/repos",
    "events_url": "https://api.github.com/users/bernd-edlinger/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bernd-edlinger/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "4383e1fc3b3269413423c271cb362431b2b70398",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/4383e1fc3b3269413423c271cb362431b2b70398",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/4383e1fc3b3269413423c271cb362431b2b70398"
    }
  ],
  "stats": {
    "total": 63,
    "additions": 57,
    "deletions": 6
  },
  "files": [
    {
      "sha": "54565efd0a582d56828367dfd15bd97e73a35db0",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c296cbe681815593eb57033368ac1b20b7a67252/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c296cbe681815593eb57033368ac1b20b7a67252/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=c296cbe681815593eb57033368ac1b20b7a67252",
      "patch": "@@ -1,3 +1,8 @@\n+2019-12-29  Bernd Edlinger  <bernd.edlinger@hotmail.de>\n+\n+\t* buildsym.c (buildsym_compunit::record_line): Do no longer ignore\n+\tline 65535.\n+\n 2019-12-27  Tom Tromey  <tom@tromey.com>\n \n \t* tui/tui-source.c (tui_source_window::do_scroll_vertical): Remove"
    },
    {
      "sha": "1102933351f751824b0fd97f3af2238d2b54c8aa",
      "filename": "gdb/buildsym.c",
      "status": "modified",
      "additions": 0,
      "deletions": 6,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c296cbe681815593eb57033368ac1b20b7a67252/gdb/buildsym.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c296cbe681815593eb57033368ac1b20b7a67252/gdb/buildsym.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/buildsym.c?ref=c296cbe681815593eb57033368ac1b20b7a67252",
      "patch": "@@ -670,12 +670,6 @@ buildsym_compunit::record_line (struct subfile *subfile, int line,\n {\n   struct linetable_entry *e;\n \n-  /* Ignore the dummy line number in libg.o */\n-  if (line == 0xffff)\n-    {\n-      return;\n-    }\n-\n   /* Make sure line vector exists and is big enough.  */\n   if (!subfile->line_vector)\n     {"
    },
    {
      "sha": "d85b757d77cb2cab2ee4a7b6a9e8a3e73ff761ca",
      "filename": "gdb/testsuite/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c296cbe681815593eb57033368ac1b20b7a67252/gdb/testsuite/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c296cbe681815593eb57033368ac1b20b7a67252/gdb/testsuite/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/ChangeLog?ref=c296cbe681815593eb57033368ac1b20b7a67252",
      "patch": "@@ -1,3 +1,8 @@\n+2019-12-29  Bernd Edlinger  <bernd.edlinger@hotmail.de>\n+\n+\t* gdb.base/line65535.exp: New file.\n+\t* gdb.base/line65535.c: New file.\n+\n 2019-12-27  Simon Marchi  <simon.marchi@polymtl.ca>\n \n \t* lib/ada.exp (gnat_runtime_has_debug_info): New proc."
    },
    {
      "sha": "d80a294fbdecb765e79b0e638b290d5b786bdc2e",
      "filename": "gdb/testsuite/gdb.base/line65535.c",
      "status": "added",
      "additions": 19,
      "deletions": 0,
      "changes": 19,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c296cbe681815593eb57033368ac1b20b7a67252/gdb/testsuite/gdb.base/line65535.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c296cbe681815593eb57033368ac1b20b7a67252/gdb/testsuite/gdb.base/line65535.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/line65535.c?ref=c296cbe681815593eb57033368ac1b20b7a67252",
      "patch": "@@ -0,0 +1,19 @@\n+/* This testcase is part of GDB, the GNU debugger.\n+\n+   Copyright 2019 Free Software Foundation, Inc.\n+\n+   This program is free software; you can redistribute it and/or modify\n+   it under the terms of the GNU General Public License as published by\n+   the Free Software Foundation; either version 3 of the License, or\n+   (at your option) any later version.\n+\n+   This program is distributed in the hope that it will be useful,\n+   but WITHOUT ANY WARRANTY; without even the implied warranty of\n+   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+   GNU General Public License for more details.\n+\n+   You should have received a copy of the GNU General Public License\n+   along with this program.  If not, see <http://www.gnu.org/licenses/>.  */\n+\n+#line 65535 \"line65535.c\"\n+int main() { return 0; }"
    },
    {
      "sha": "095f1516eb3491be596af002fdfb7b4cf816c4e2",
      "filename": "gdb/testsuite/gdb.base/line65535.exp",
      "status": "added",
      "additions": 28,
      "deletions": 0,
      "changes": 28,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c296cbe681815593eb57033368ac1b20b7a67252/gdb/testsuite/gdb.base/line65535.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c296cbe681815593eb57033368ac1b20b7a67252/gdb/testsuite/gdb.base/line65535.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/line65535.exp?ref=c296cbe681815593eb57033368ac1b20b7a67252",
      "patch": "@@ -0,0 +1,28 @@\n+# Copyright 2019 Free Software Foundation, Inc.\n+\n+# This program is free software; you can redistribute it and/or modify\n+# it under the terms of the GNU General Public License as published by\n+# the Free Software Foundation; either version 3 of the License, or\n+# (at your option) any later version.\n+#\n+# This program is distributed in the hope that it will be useful,\n+# but WITHOUT ANY WARRANTY; without even the implied warranty of\n+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+# GNU General Public License for more details.\n+#\n+# You should have received a copy of the GNU General Public License\n+# along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+\n+# This test tries to place a breakpoint on line 65535.\n+# For the purpose of this test we are satisfied if the break\n+# command succeeds, we will not try to actually run to that line.\n+\n+standard_testfile\n+\n+if {[prepare_for_testing \"failed to prepare\" $testfile $srcfile debug]} {\n+    return -1\n+}\n+\n+gdb_test \"break $srcfile:65535\" \\\n+         \".*Breakpoint 1 at .*: file $srcfile, line 65535\\\\..*\" \\\n+\t \"break at line 65535\""
    }
  ]
}