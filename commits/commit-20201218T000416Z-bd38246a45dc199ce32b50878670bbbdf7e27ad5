{
  "sha": "bd38246a45dc199ce32b50878670bbbdf7e27ad5",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YmQzODI0NmE0NWRjMTk5Y2UzMmI1MDg3ODY3MGJiYmRmN2UyN2FkNQ==",
  "commit": {
    "author": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2020-12-16T22:03:39Z"
    },
    "committer": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2020-12-18T00:04:16Z"
    },
    "message": "Constify more arrays\n\nbfd/\n\t* coff-z80.c (bfd_howto_type): Make typedef const.\n\t* elf32-z80.c (bfd_howto_type): Likewise.\n\t* elf32-m32c.c (EncodingTable): Likewise.\n\t* elf32-csky.c (csky_arch_for_merge): Likewise.\n\t(csky_archs): Use typedef.\n\t* elf32-m68hc11.c (m68hc11_direct_relax_table): Make const.\n\t(find_relaxable_insn, m68hc11_elf_relax_section): Adjust to suit.\n\t* elf32-ppc.c (ppc_alt_plt): Make const.\n\t* elf32-rl78.c (relax_addr16): Likewise.\n\t* targets.c (_bfd_associated_vector): Likewise.\n\t(bfd_target_vector, bfd_associated_vector): Likewise.\n\t* libbfd-in.h (bfd_target_vector, bfd_associated_vector): Likewise.\n\t* libbfd.h: Regenerate.\ninclude/\n\t* opcode/arc-attrs.h (CONFLICT_LIST): Make const.",
    "tree": {
      "sha": "fcc0851e06cfe59387319a1ad754b6fd1f64e35c",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/fcc0851e06cfe59387319a1ad754b6fd1f64e35c"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/bd38246a45dc199ce32b50878670bbbdf7e27ad5",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/bd38246a45dc199ce32b50878670bbbdf7e27ad5",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/bd38246a45dc199ce32b50878670bbbdf7e27ad5",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/bd38246a45dc199ce32b50878670bbbdf7e27ad5/comments",
  "author": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "7f3a18cfb58deb36e05469d94e7b9e48b19d90af",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/7f3a18cfb58deb36e05469d94e7b9e48b19d90af",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/7f3a18cfb58deb36e05469d94e7b9e48b19d90af"
    }
  ],
  "stats": {
    "total": 56,
    "additions": 38,
    "deletions": 18
  },
  "files": [
    {
      "sha": "c49faa318aeed9a0fb10226f33e189df5f45eb8a",
      "filename": "bfd/ChangeLog",
      "status": "modified",
      "additions": 16,
      "deletions": 0,
      "changes": 16,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/bd38246a45dc199ce32b50878670bbbdf7e27ad5/bfd/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/bd38246a45dc199ce32b50878670bbbdf7e27ad5/bfd/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/ChangeLog?ref=bd38246a45dc199ce32b50878670bbbdf7e27ad5",
      "patch": "@@ -1,3 +1,19 @@\n+2020-12-18  Alan Modra  <amodra@gmail.com>\n+\n+\t* coff-z80.c (bfd_howto_type): Make typedef const.\n+\t* elf32-z80.c (bfd_howto_type): Likewise.\n+\t* elf32-m32c.c (EncodingTable): Likewise.\n+\t* elf32-csky.c (csky_arch_for_merge): Likewise.\n+\t(csky_archs): Use typedef.\n+\t* elf32-m68hc11.c (m68hc11_direct_relax_table): Make const.\n+\t(find_relaxable_insn, m68hc11_elf_relax_section): Adjust to suit.\n+\t* elf32-ppc.c (ppc_alt_plt): Make const.\n+\t* elf32-rl78.c (relax_addr16): Likewise.\n+\t* targets.c (_bfd_associated_vector): Likewise.\n+\t(bfd_target_vector, bfd_associated_vector): Likewise.\n+\t* libbfd-in.h (bfd_target_vector, bfd_associated_vector): Likewise.\n+\t* libbfd.h: Regenerate.\n+\n 2020-12-18  Alan Modra  <amodra@gmail.com>\n \n \t* ecoff.c (bfd_debug_section): Init using BFD_FAKE_SECTION."
    },
    {
      "sha": "ced9074b6cb97314381a97e265ec6543a5deda14",
      "filename": "bfd/coff-z80.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/bd38246a45dc199ce32b50878670bbbdf7e27ad5/bfd/coff-z80.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/bd38246a45dc199ce32b50878670bbbdf7e27ad5/bfd/coff-z80.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/coff-z80.c?ref=bd38246a45dc199ce32b50878670bbbdf7e27ad5",
      "patch": "@@ -30,7 +30,7 @@\n \n #define COFF_DEFAULT_SECTION_ALIGNMENT_POWER 0\n \n-typedef struct {\n+typedef const struct {\n   bfd_reloc_code_real_type r_type;\n   reloc_howto_type howto;\n } bfd_howto_type;"
    },
    {
      "sha": "9ad78cfa00f6b282057461285441d4796796d989",
      "filename": "bfd/elf32-csky.c",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/bd38246a45dc199ce32b50878670bbbdf7e27ad5/bfd/elf32-csky.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/bd38246a45dc199ce32b50878670bbbdf7e27ad5/bfd/elf32-csky.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/elf32-csky.c?ref=bd38246a45dc199ce32b50878670bbbdf7e27ad5",
      "patch": "@@ -40,7 +40,7 @@ enum merge_class\n   CSKY_V2\n };\n \n-typedef struct csky_arch_for_merge\n+typedef const struct csky_arch_for_merge\n {\n   const char *name;\n   const unsigned long arch_eflag;\n@@ -53,7 +53,7 @@ typedef struct csky_arch_for_merge\n   unsigned int do_warning;\n } csky_arch_for_merge;\n \n-static struct csky_arch_for_merge csky_archs[] =\n+static csky_arch_for_merge csky_archs[] =\n {\n   /* 510 and 610 merge to 610 without warning.  */\n   { \"ck510\",  CSKY_ARCH_510,  CSKY_V1,  0, 0},"
    },
    {
      "sha": "6de8c4c76da76483bf344b28f226f638f4264122",
      "filename": "bfd/elf32-m32c.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/bd38246a45dc199ce32b50878670bbbdf7e27ad5/bfd/elf32-m32c.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/bd38246a45dc199ce32b50878670bbbdf7e27ad5/bfd/elf32-m32c.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/elf32-m32c.c?ref=bd38246a45dc199ce32b50878670bbbdf7e27ad5",
      "patch": "@@ -1347,7 +1347,7 @@ static int bytes_to_reloc[] = {\n /* If the displacement is within the given range and the new encoding\n    differs from the old encoding (the index), then the insn can be\n    relaxed to the new encoding.  */\n-typedef struct {\n+typedef const struct {\n   int bytes;\n   unsigned int max_disp;\n   unsigned char new_encoding;"
    },
    {
      "sha": "7e6680807ee54a330b7b52cbb06d2c7f5b2883e5",
      "filename": "bfd/elf32-m68hc11.c",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/bd38246a45dc199ce32b50878670bbbdf7e27ad5/bfd/elf32-m68hc11.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/bd38246a45dc199ce32b50878670bbbdf7e27ad5/bfd/elf32-m68hc11.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/elf32-m68hc11.c?ref=bd38246a45dc199ce32b50878670bbbdf7e27ad5",
      "patch": "@@ -505,7 +505,7 @@ m68hc11_elf_bfd_link_hash_table_create (bfd *abfd)\n \f\n /* 68HC11 Linker Relaxation.  */\n \n-struct m68hc11_direct_relax\n+const struct m68hc11_direct_relax\n {\n   const char *name;\n   unsigned char code;\n@@ -548,7 +548,7 @@ struct m68hc11_direct_relax\n   { 0, 0, 0 }\n };\n \n-static struct m68hc11_direct_relax *\n+static const struct m68hc11_direct_relax *\n find_relaxable_insn (unsigned char code)\n {\n   int i;\n@@ -962,7 +962,7 @@ m68hc11_elf_relax_section (bfd *abfd, asection *sec,\n \t{\n \t  unsigned char code;\n \t  unsigned short offset;\n-\t  struct m68hc11_direct_relax *rinfo;\n+\t  const struct m68hc11_direct_relax *rinfo;\n \n \t  prev_insn_branch = 0;\n \t  offset = bfd_get_16 (abfd, contents + irel->r_offset);"
    },
    {
      "sha": "9d8fa66f90847e0530088837f88dfa4db62e13c3",
      "filename": "bfd/elf32-ppc.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/bd38246a45dc199ce32b50878670bbbdf7e27ad5/bfd/elf32-ppc.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/bd38246a45dc199ce32b50878670bbbdf7e27ad5/bfd/elf32-ppc.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/elf32-ppc.c?ref=bd38246a45dc199ce32b50878670bbbdf7e27ad5",
      "patch": "@@ -1491,7 +1491,7 @@ static const struct bfd_elf_special_section ppc_elf_special_sections[] =\n };\n \n /* This is what we want for new plt/got.  */\n-static struct bfd_elf_special_section ppc_alt_plt =\n+static const struct bfd_elf_special_section ppc_alt_plt =\n   { STRING_COMMA_LEN (\".plt\"),\t\t   0, SHT_PROGBITS, SHF_ALLOC };\n \n static const struct bfd_elf_special_section *"
    },
    {
      "sha": "dc0414e0a0d60f7fb6af5e6469a016b924e05b45",
      "filename": "bfd/elf32-rl78.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/bd38246a45dc199ce32b50878670bbbdf7e27ad5/bfd/elf32-rl78.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/bd38246a45dc199ce32b50878670bbbdf7e27ad5/bfd/elf32-rl78.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/elf32-rl78.c?ref=bd38246a45dc199ce32b50878670bbbdf7e27ad5",
      "patch": "@@ -1982,7 +1982,7 @@ rl78_offset_for_reloc (bfd *\t\t\tabfd,\n     }\n }\n \n-struct {\n+const struct {\n   int prefix;\t\t/* or -1 for \"no prefix\" */\n   int insn;\t\t/* or -1 for \"end of list\" */\n   int insn_for_saddr;\t/* or -1 for \"no alternative\" */"
    },
    {
      "sha": "b27f7afafcff103904ab51cccdf74b4602dbd891",
      "filename": "bfd/elf32-z80.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/bd38246a45dc199ce32b50878670bbbdf7e27ad5/bfd/elf32-z80.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/bd38246a45dc199ce32b50878670bbbdf7e27ad5/bfd/elf32-z80.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/elf32-z80.c?ref=bd38246a45dc199ce32b50878670bbbdf7e27ad5",
      "patch": "@@ -30,7 +30,7 @@\n /* All users of this file have bfd_octets_per_byte (abfd, sec) == 1.  */\n #define OCTETS_PER_BYTE(ABFD, SEC) 1\n \n-typedef struct {\n+typedef const struct {\n   bfd_reloc_code_real_type r_type;\n   reloc_howto_type howto;\n } bfd_howto_type;"
    },
    {
      "sha": "f38304ad7debecd25321e3326e326c00161e514d",
      "filename": "bfd/libbfd-in.h",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/bd38246a45dc199ce32b50878670bbbdf7e27ad5/bfd/libbfd-in.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/bd38246a45dc199ce32b50878670bbbdf7e27ad5/bfd/libbfd-in.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/libbfd-in.h?ref=bd38246a45dc199ce32b50878670bbbdf7e27ad5",
      "patch": "@@ -825,11 +825,11 @@ extern FILE *_bfd_real_fopen\n \n /* List of supported target vectors, and the default vector (if\n    bfd_default_vector[0] is NULL, there is no default).  */\n-extern const bfd_target * const *bfd_target_vector ATTRIBUTE_HIDDEN;\n+extern const bfd_target *const *const bfd_target_vector ATTRIBUTE_HIDDEN;\n extern const bfd_target *bfd_default_vector[] ATTRIBUTE_HIDDEN;\n \n /* List of associated target vectors.  */\n-extern const bfd_target * const *bfd_associated_vector ATTRIBUTE_HIDDEN;\n+extern const bfd_target *const *const bfd_associated_vector ATTRIBUTE_HIDDEN;\n \n /* Functions shared by the ECOFF and MIPS ELF backends, which have no\n    other common header files.  */"
    },
    {
      "sha": "6384922b986b8f74c6bc2b3800ce1d67d89a95ab",
      "filename": "bfd/libbfd.h",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/bd38246a45dc199ce32b50878670bbbdf7e27ad5/bfd/libbfd.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/bd38246a45dc199ce32b50878670bbbdf7e27ad5/bfd/libbfd.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/libbfd.h?ref=bd38246a45dc199ce32b50878670bbbdf7e27ad5",
      "patch": "@@ -830,11 +830,11 @@ extern FILE *_bfd_real_fopen\n \n /* List of supported target vectors, and the default vector (if\n    bfd_default_vector[0] is NULL, there is no default).  */\n-extern const bfd_target * const *bfd_target_vector ATTRIBUTE_HIDDEN;\n+extern const bfd_target *const *const bfd_target_vector ATTRIBUTE_HIDDEN;\n extern const bfd_target *bfd_default_vector[] ATTRIBUTE_HIDDEN;\n \n /* List of associated target vectors.  */\n-extern const bfd_target * const *bfd_associated_vector ATTRIBUTE_HIDDEN;\n+extern const bfd_target *const *const bfd_associated_vector ATTRIBUTE_HIDDEN;\n \n /* Functions shared by the ECOFF and MIPS ELF backends, which have no\n    other common header files.  */"
    },
    {
      "sha": "8ae5c489fc4056628962d9385cd7544af4f9174b",
      "filename": "bfd/targets.c",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/bd38246a45dc199ce32b50878670bbbdf7e27ad5/bfd/targets.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/bd38246a45dc199ce32b50878670bbbdf7e27ad5/bfd/targets.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/targets.c?ref=bd38246a45dc199ce32b50878670bbbdf7e27ad5",
      "patch": "@@ -1405,7 +1405,7 @@ static const bfd_target * const _bfd_target_vector[] =\n \n \tNULL /* end of list marker */\n };\n-const bfd_target * const *bfd_target_vector = _bfd_target_vector;\n+const bfd_target *const *const bfd_target_vector = _bfd_target_vector;\n \n /* bfd_default_vector[0] contains either the address of the default vector,\n    if there is one, or zero if there isn't.  */\n@@ -1420,13 +1420,13 @@ const bfd_target *bfd_default_vector[] = {\n /* bfd_associated_vector[] contains the associated target vectors used\n    to reduce the ambiguity in bfd_check_format_matches.  */\n \n-static const bfd_target *_bfd_associated_vector[] = {\n+static const bfd_target *const _bfd_associated_vector[] = {\n #ifdef ASSOCIATED_VECS\n \tASSOCIATED_VECS,\n #endif\n \tNULL\n };\n-const bfd_target * const *bfd_associated_vector = _bfd_associated_vector;\n+const bfd_target *const *const bfd_associated_vector = _bfd_associated_vector;\n \n /* When there is an ambiguous match, bfd_check_format_matches puts the\n    names of the matching targets in an array.  This variable is the maximum"
    },
    {
      "sha": "24f16888a450fe02c5ce4a233ec778713f1ae92f",
      "filename": "include/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/bd38246a45dc199ce32b50878670bbbdf7e27ad5/include/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/bd38246a45dc199ce32b50878670bbbdf7e27ad5/include/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/include/ChangeLog?ref=bd38246a45dc199ce32b50878670bbbdf7e27ad5",
      "patch": "@@ -1,3 +1,7 @@\n+2020-12-18  Alan Modra  <amodra@gmail.com>\n+\n+\t* opcode/arc-attrs.h (CONFLICT_LIST): Make const.\n+\n 2020-12-16  Alan Modra  <amodra@gmail.com>\n \n \t* bfdlink.h (struct bfd_link_info): Add maxpagesize and"
    },
    {
      "sha": "c12470fd8258090c1d05d3b905de582318a5f2c7",
      "filename": "include/opcode/arc-attrs.h",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/bd38246a45dc199ce32b50878670bbbdf7e27ad5/include/opcode/arc-attrs.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/bd38246a45dc199ce32b50878670bbbdf7e27ad5/include/opcode/arc-attrs.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/include/opcode/arc-attrs.h?ref=bd38246a45dc199ce32b50878670bbbdf7e27ad5",
      "patch": "@@ -58,7 +58,7 @@ const struct feature_type\n #endif\n \n /* A table with conflicting features.  */\n-unsigned CONFLICT_LIST [] = {\n+const unsigned CONFLICT_LIST [] = {\n   NPS400 | SPX,\n   NPS400 | DPX,\n   DPX | DPA,"
    }
  ]
}