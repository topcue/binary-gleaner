{
  "sha": "a5863204fb1b9c03627edc3bb447c5958ef96458",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YTU4NjMyMDRmYjFiOWMwMzYyN2VkYzNiYjQ0N2M1OTU4ZWY5NjQ1OA==",
  "commit": {
    "author": {
      "name": "Tankut Baris Aktemur",
      "email": "tankut.baris.aktemur@intel.com",
      "date": "2020-04-02T13:11:22Z"
    },
    "committer": {
      "name": "Tankut Baris Aktemur",
      "email": "tankut.baris.aktemur@intel.com",
      "date": "2020-04-02T13:11:22Z"
    },
    "message": "gdbserver: make linux target op 'cannot_store_register' a predicate function\n\nThe comment for the linux target op 'cannot_store_register' states the\nfollowing:\n\n  /* Returns 0 if we can store the register, 1 if we can not\n     store the register, and 2 if failure to store the register\n     is acceptable.  */\n\nThere is only one low target, linux-ppc-low, that potentially returns\n2.  There are two places that call the 'cannot_store_register' target\nop in linux-low.cc.  None of these locations distinguish a '2' from a\n'1'.  Hence, to simplify the definition, make the function a predicate\nthat returns either 0 or 1.  This is also consistent with the\ncompanion function, 'cannot_fetch_register'.\n\ngdbserver/ChangeLog:\n2020-04-02  Tankut Baris Aktemur  <tankut.baris.aktemur@intel.com>\n\n\t* linux-low.h (struct linux_target_ops): Update the comment for\n\t'cannot_store_register' to return 0 or 1.\n\t* linux-ppc-low.cc (ppc_cannot_store_register): Return 1 instead\n\tof 2.",
    "tree": {
      "sha": "c80edf717564f8ac3da1e8202d0e56f06271265f",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/c80edf717564f8ac3da1e8202d0e56f06271265f"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/a5863204fb1b9c03627edc3bb447c5958ef96458",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/a5863204fb1b9c03627edc3bb447c5958ef96458",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/a5863204fb1b9c03627edc3bb447c5958ef96458",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/a5863204fb1b9c03627edc3bb447c5958ef96458/comments",
  "author": {
    "login": "barisaktemur",
    "id": 55686642,
    "node_id": "MDQ6VXNlcjU1Njg2NjQy",
    "avatar_url": "https://avatars.githubusercontent.com/u/55686642?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/barisaktemur",
    "html_url": "https://github.com/barisaktemur",
    "followers_url": "https://api.github.com/users/barisaktemur/followers",
    "following_url": "https://api.github.com/users/barisaktemur/following{/other_user}",
    "gists_url": "https://api.github.com/users/barisaktemur/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/barisaktemur/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/barisaktemur/subscriptions",
    "organizations_url": "https://api.github.com/users/barisaktemur/orgs",
    "repos_url": "https://api.github.com/users/barisaktemur/repos",
    "events_url": "https://api.github.com/users/barisaktemur/events{/privacy}",
    "received_events_url": "https://api.github.com/users/barisaktemur/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "barisaktemur",
    "id": 55686642,
    "node_id": "MDQ6VXNlcjU1Njg2NjQy",
    "avatar_url": "https://avatars.githubusercontent.com/u/55686642?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/barisaktemur",
    "html_url": "https://github.com/barisaktemur",
    "followers_url": "https://api.github.com/users/barisaktemur/followers",
    "following_url": "https://api.github.com/users/barisaktemur/following{/other_user}",
    "gists_url": "https://api.github.com/users/barisaktemur/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/barisaktemur/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/barisaktemur/subscriptions",
    "organizations_url": "https://api.github.com/users/barisaktemur/orgs",
    "repos_url": "https://api.github.com/users/barisaktemur/repos",
    "events_url": "https://api.github.com/users/barisaktemur/events{/privacy}",
    "received_events_url": "https://api.github.com/users/barisaktemur/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "4b27d27c07a9514d5f6d0876f659a32378fb4801",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/4b27d27c07a9514d5f6d0876f659a32378fb4801",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/4b27d27c07a9514d5f6d0876f659a32378fb4801"
    }
  ],
  "stats": {
    "total": 18,
    "additions": 12,
    "deletions": 6
  },
  "files": [
    {
      "sha": "b523f982cbf22be74b720830df13a22b17dd18d6",
      "filename": "gdbserver/ChangeLog",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a5863204fb1b9c03627edc3bb447c5958ef96458/gdbserver/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a5863204fb1b9c03627edc3bb447c5958ef96458/gdbserver/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/ChangeLog?ref=a5863204fb1b9c03627edc3bb447c5958ef96458",
      "patch": "@@ -1,3 +1,10 @@\n+2020-04-02  Tankut Baris Aktemur  <tankut.baris.aktemur@intel.com>\n+\n+\t* linux-low.h (struct linux_target_ops): Update the comment for\n+\t'cannot_store_register' to return 0 or 1.\n+\t* linux-ppc-low.cc (ppc_cannot_store_register): Return 1 instead\n+\tof 2.\n+\n 2020-03-20  Simon Marchi  <simon.marchi@efficios.com>\n \n \t* config.in: Re-generate."
    },
    {
      "sha": "aaf882b8c5bef87b5402d48b45931d9dcad7bbf8",
      "filename": "gdbserver/linux-low.h",
      "status": "modified",
      "additions": 3,
      "deletions": 4,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a5863204fb1b9c03627edc3bb447c5958ef96458/gdbserver/linux-low.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a5863204fb1b9c03627edc3bb447c5958ef96458/gdbserver/linux-low.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/linux-low.h?ref=a5863204fb1b9c03627edc3bb447c5958ef96458",
      "patch": "@@ -135,11 +135,10 @@ struct linux_target_ops\n   void (*arch_setup) (void);\n \n   const struct regs_info *(*regs_info) (void);\n-  int (*cannot_fetch_register) (int);\n \n-  /* Returns 0 if we can store the register, 1 if we can not\n-     store the register, and 2 if failure to store the register\n-     is acceptable.  */\n+  /* Return 0 if we can fetch/store the register, 1 if we cannot\n+     fetch/store the register.  */\n+  int (*cannot_fetch_register) (int);\n   int (*cannot_store_register) (int);\n \n   /* Hook to fetch a register in some non-standard way.  Used for"
    },
    {
      "sha": "f3837e4796048e86965518dbe5de4f1643db4fb4",
      "filename": "gdbserver/linux-ppc-low.cc",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a5863204fb1b9c03627edc3bb447c5958ef96458/gdbserver/linux-ppc-low.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a5863204fb1b9c03627edc3bb447c5958ef96458/gdbserver/linux-ppc-low.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/linux-ppc-low.cc?ref=a5863204fb1b9c03627edc3bb447c5958ef96458",
      "patch": "@@ -152,13 +152,13 @@ ppc_cannot_store_register (int regno)\n   /* Some kernels do not allow us to store fpscr.  */\n   if (!(ppc_hwcap & PPC_FEATURE_HAS_SPE)\n       && regno == find_regno (tdesc, \"fpscr\"))\n-    return 2;\n+    return 1;\n #endif\n \n   /* Some kernels do not allow us to store orig_r3 or trap.  */\n   if (regno == find_regno (tdesc, \"orig_r3\")\n       || regno == find_regno (tdesc, \"trap\"))\n-    return 2;\n+    return 1;\n \n   return 0;\n }"
    }
  ]
}