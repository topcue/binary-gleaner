{
  "sha": "9690a72ae54450aafaa55872ffcbf8b973660436",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6OTY5MGE3MmFlNTQ0NTBhYWZhYTU1ODcyZmZjYmY4Yjk3MzY2MDQzNg==",
  "commit": {
    "author": {
      "name": "Tankut Baris Aktemur",
      "email": "tankut.baris.aktemur@intel.com",
      "date": "2020-02-17T15:11:57Z"
    },
    "committer": {
      "name": "Tankut Baris Aktemur",
      "email": "tankut.baris.aktemur@intel.com",
      "date": "2020-02-20T16:35:11Z"
    },
    "message": "gdbserver: turn target ops 'supports_{fork,vfork,exec}_events' into methods\n\ngdbserver/ChangeLog:\n2020-02-20  Tankut Baris Aktemur  <tankut.baris.aktemur@intel.com>\n\n\tTurn process_stratum_target's supports_fork_events,\n\tsupports_vfork_events, and supports_exec_events ops into methods\n\tof process_target.\n\n\t* target.h (struct process_stratum_target): Remove the target ops.\n\t(class process_target): Add the target ops.\n\t(target_supports_fork_events): Update the macro.\n\t(target_supports_vfork_events): Update the macro.\n\t(target_supports_exec_events): Update the macro.\n\t* target.cc (process_target::supports_fork_events): Define.\n\t(process_target::supports_vfork_events): Define.\n\t(process_target::supports_exec_events): Define.\n\n\tUpdate the derived classes and callers below.\n\n\t* linux-low.cc (linux_target_ops): Update.\n\t(linux_supports_fork_events): Turn into ...\n\t(linux_process_target::supports_fork_events): ... this.\n\t(linux_supports_vfork_events): Turn into ...\n\t(linux_process_target::supports_vfork_events): ... this.\n\t(linux_supports_exec_events): Turn into ...\n\t(linux_process_target::supports_exec_events): ... this.\n\t* linux-low.h (class linux_process_target): Update.\n\t* lynx-low.cc (lynx_target_ops): Update.\n\t* nto-low.cc (nto_target_ops): Update.\n\t* win32-low.cc (win32_target_ops): Update.",
    "tree": {
      "sha": "7b42785172369fcc20fe604ccaaff15e4defef8a",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/7b42785172369fcc20fe604ccaaff15e4defef8a"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/9690a72ae54450aafaa55872ffcbf8b973660436",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/9690a72ae54450aafaa55872ffcbf8b973660436",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/9690a72ae54450aafaa55872ffcbf8b973660436",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/9690a72ae54450aafaa55872ffcbf8b973660436/comments",
  "author": {
    "login": "barisaktemur",
    "id": 55686642,
    "node_id": "MDQ6VXNlcjU1Njg2NjQy",
    "avatar_url": "https://avatars.githubusercontent.com/u/55686642?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/barisaktemur",
    "html_url": "https://github.com/barisaktemur",
    "followers_url": "https://api.github.com/users/barisaktemur/followers",
    "following_url": "https://api.github.com/users/barisaktemur/following{/other_user}",
    "gists_url": "https://api.github.com/users/barisaktemur/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/barisaktemur/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/barisaktemur/subscriptions",
    "organizations_url": "https://api.github.com/users/barisaktemur/orgs",
    "repos_url": "https://api.github.com/users/barisaktemur/repos",
    "events_url": "https://api.github.com/users/barisaktemur/events{/privacy}",
    "received_events_url": "https://api.github.com/users/barisaktemur/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "barisaktemur",
    "id": 55686642,
    "node_id": "MDQ6VXNlcjU1Njg2NjQy",
    "avatar_url": "https://avatars.githubusercontent.com/u/55686642?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/barisaktemur",
    "html_url": "https://github.com/barisaktemur",
    "followers_url": "https://api.github.com/users/barisaktemur/followers",
    "following_url": "https://api.github.com/users/barisaktemur/following{/other_user}",
    "gists_url": "https://api.github.com/users/barisaktemur/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/barisaktemur/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/barisaktemur/subscriptions",
    "organizations_url": "https://api.github.com/users/barisaktemur/orgs",
    "repos_url": "https://api.github.com/users/barisaktemur/repos",
    "events_url": "https://api.github.com/users/barisaktemur/events{/privacy}",
    "received_events_url": "https://api.github.com/users/barisaktemur/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "652aef7792f479564f01deada1a1804b83ccbffa",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/652aef7792f479564f01deada1a1804b83ccbffa",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/652aef7792f479564f01deada1a1804b83ccbffa"
    }
  ],
  "stats": {
    "total": 104,
    "additions": 71,
    "deletions": 33
  },
  "files": [
    {
      "sha": "5b3c37f48592278bffa5b5335908c9c03fe171d3",
      "filename": "gdbserver/ChangeLog",
      "status": "modified",
      "additions": 29,
      "deletions": 0,
      "changes": 29,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/9690a72ae54450aafaa55872ffcbf8b973660436/gdbserver/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/9690a72ae54450aafaa55872ffcbf8b973660436/gdbserver/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/ChangeLog?ref=9690a72ae54450aafaa55872ffcbf8b973660436",
      "patch": "@@ -1,3 +1,32 @@\n+2020-02-20  Tankut Baris Aktemur  <tankut.baris.aktemur@intel.com>\n+\n+\tTurn process_stratum_target's supports_fork_events,\n+\tsupports_vfork_events, and supports_exec_events ops into methods\n+\tof process_target.\n+\n+\t* target.h (struct process_stratum_target): Remove the target ops.\n+\t(class process_target): Add the target ops.\n+\t(target_supports_fork_events): Update the macro.\n+\t(target_supports_vfork_events): Update the macro.\n+\t(target_supports_exec_events): Update the macro.\n+\t* target.cc (process_target::supports_fork_events): Define.\n+\t(process_target::supports_vfork_events): Define.\n+\t(process_target::supports_exec_events): Define.\n+\n+\tUpdate the derived classes and callers below.\n+\n+\t* linux-low.cc (linux_target_ops): Update.\n+\t(linux_supports_fork_events): Turn into ...\n+\t(linux_process_target::supports_fork_events): ... this.\n+\t(linux_supports_vfork_events): Turn into ...\n+\t(linux_process_target::supports_vfork_events): ... this.\n+\t(linux_supports_exec_events): Turn into ...\n+\t(linux_process_target::supports_exec_events): ... this.\n+\t* linux-low.h (class linux_process_target): Update.\n+\t* lynx-low.cc (lynx_target_ops): Update.\n+\t* nto-low.cc (nto_target_ops): Update.\n+\t* win32-low.cc (win32_target_ops): Update.\n+\n 2020-02-20  Tankut Baris Aktemur  <tankut.baris.aktemur@intel.com>\n \n \tTurn process_stratum_target's supports_multi_process op into a"
    },
    {
      "sha": "65a74522b1853452ad419718cec096108da7a247",
      "filename": "gdbserver/linux-low.cc",
      "status": "modified",
      "additions": 6,
      "deletions": 9,
      "changes": 15,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/9690a72ae54450aafaa55872ffcbf8b973660436/gdbserver/linux-low.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/9690a72ae54450aafaa55872ffcbf8b973660436/gdbserver/linux-low.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/linux-low.cc?ref=9690a72ae54450aafaa55872ffcbf8b973660436",
      "patch": "@@ -6346,24 +6346,24 @@ linux_process_target::supports_multi_process ()\n \n /* Check if fork events are supported.  */\n \n-static int\n-linux_supports_fork_events (void)\n+bool\n+linux_process_target::supports_fork_events ()\n {\n   return linux_supports_tracefork ();\n }\n \n /* Check if vfork events are supported.  */\n \n-static int\n-linux_supports_vfork_events (void)\n+bool\n+linux_process_target::supports_vfork_events ()\n {\n   return linux_supports_tracefork ();\n }\n \n /* Check if exec events are supported.  */\n \n-static int\n-linux_supports_exec_events (void)\n+bool\n+linux_process_target::supports_exec_events ()\n {\n   return linux_supports_traceexec ();\n }\n@@ -7429,9 +7429,6 @@ linux_get_hwcap2 (int wordsize)\n static linux_process_target the_linux_target;\n \n static process_stratum_target linux_target_ops = {\n-  linux_supports_fork_events,\n-  linux_supports_vfork_events,\n-  linux_supports_exec_events,\n   linux_handle_new_gdb_connection,\n #ifdef USE_THREAD_DB\n   thread_db_handle_monitor_command,"
    },
    {
      "sha": "f78ef78ad6fb283320eecd25f0556c1a6ae5a0c1",
      "filename": "gdbserver/linux-low.h",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/9690a72ae54450aafaa55872ffcbf8b973660436/gdbserver/linux-low.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/9690a72ae54450aafaa55872ffcbf8b973660436/gdbserver/linux-low.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/linux-low.h?ref=9690a72ae54450aafaa55872ffcbf8b973660436",
      "patch": "@@ -365,6 +365,12 @@ class linux_process_target : public process_target\n   int start_non_stop (bool enable) override;\n \n   bool supports_multi_process () override;\n+\n+  bool supports_fork_events () override;\n+\n+  bool supports_vfork_events () override;\n+\n+  bool supports_exec_events () override;\n };\n \n #define get_thread_lwp(thr) ((struct lwp_info *) (thread_target_data (thr)))"
    },
    {
      "sha": "088582b2609183de78423d011a083b12d448d5d4",
      "filename": "gdbserver/lynx-low.cc",
      "status": "modified",
      "additions": 0,
      "deletions": 3,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/9690a72ae54450aafaa55872ffcbf8b973660436/gdbserver/lynx-low.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/9690a72ae54450aafaa55872ffcbf8b973660436/gdbserver/lynx-low.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/lynx-low.cc?ref=9690a72ae54450aafaa55872ffcbf8b973660436",
      "patch": "@@ -735,9 +735,6 @@ static lynx_process_target the_lynx_target;\n /* The LynxOS target_ops vector.  */\n \n static process_stratum_target lynx_target_ops = {\n-  NULL,  /* supports_fork_events */\n-  NULL,  /* supports_vfork_events */\n-  NULL,  /* supports_exec_events */\n   NULL,  /* handle_new_gdb_connection */\n   NULL,  /* handle_monitor_command */\n   NULL,  /* core_of_thread */"
    },
    {
      "sha": "0d1432b8bacdabea726064a6046877dbf8309ae4",
      "filename": "gdbserver/nto-low.cc",
      "status": "modified",
      "additions": 0,
      "deletions": 3,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/9690a72ae54450aafaa55872ffcbf8b973660436/gdbserver/nto-low.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/9690a72ae54450aafaa55872ffcbf8b973660436/gdbserver/nto-low.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/nto-low.cc?ref=9690a72ae54450aafaa55872ffcbf8b973660436",
      "patch": "@@ -947,9 +947,6 @@ nto_sw_breakpoint_from_kind (int kind, int *size)\n static nto_process_target the_nto_target;\n \n static process_stratum_target nto_target_ops = {\n-  NULL, /* supports_fork_events */\n-  NULL, /* supports_vfork_events */\n-  NULL, /* supports_exec_events */\n   NULL, /* handle_new_gdb_connection */\n   NULL, /* handle_monitor_command */\n   NULL, /* core_of_thread */"
    },
    {
      "sha": "15d48427f31292ff50b8ab35a23045d5716125b5",
      "filename": "gdbserver/target.cc",
      "status": "modified",
      "additions": 18,
      "deletions": 0,
      "changes": 18,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/9690a72ae54450aafaa55872ffcbf8b973660436/gdbserver/target.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/9690a72ae54450aafaa55872ffcbf8b973660436/gdbserver/target.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/target.cc?ref=9690a72ae54450aafaa55872ffcbf8b973660436",
      "patch": "@@ -553,3 +553,21 @@ process_target::supports_multi_process ()\n {\n   return false;\n }\n+\n+bool\n+process_target::supports_fork_events ()\n+{\n+  return false;\n+}\n+\n+bool\n+process_target::supports_vfork_events ()\n+{\n+  return false;\n+}\n+\n+bool\n+process_target::supports_exec_events ()\n+{\n+  return false;\n+}"
    },
    {
      "sha": "ef2fd01846397c9808162137ee683ca772a6b139",
      "filename": "gdbserver/target.h",
      "status": "modified",
      "additions": 12,
      "deletions": 15,
      "changes": 27,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/9690a72ae54450aafaa55872ffcbf8b973660436/gdbserver/target.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/9690a72ae54450aafaa55872ffcbf8b973660436/gdbserver/target.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/target.h?ref=9690a72ae54450aafaa55872ffcbf8b973660436",
      "patch": "@@ -70,15 +70,6 @@ class process_target;\n    shared code.  */\n struct process_stratum_target\n {\n-  /* Returns true if fork events are supported.  */\n-  int (*supports_fork_events) (void);\n-\n-  /* Returns true if vfork events are supported.  */\n-  int (*supports_vfork_events) (void);\n-\n-  /* Returns true if exec events are supported.  */\n-  int (*supports_exec_events) (void);\n-\n   /* Allows target to re-initialize connection-specific settings.  */\n   void (*handle_new_gdb_connection) (void);\n \n@@ -486,6 +477,15 @@ class process_target\n \n   /* Returns true if the target supports multi-process debugging.  */\n   virtual bool supports_multi_process ();\n+\n+  /* Returns true if fork events are supported.  */\n+  virtual bool supports_fork_events ();\n+\n+  /* Returns true if vfork events are supported.  */\n+  virtual bool supports_vfork_events ();\n+\n+  /* Returns true if exec events are supported.  */\n+  virtual bool supports_exec_events ();\n };\n \n extern process_stratum_target *the_target;\n@@ -504,16 +504,13 @@ void set_target_ops (process_stratum_target *);\n int kill_inferior (process_info *proc);\n \n #define target_supports_fork_events() \\\n-  (the_target->supports_fork_events ? \\\n-   (*the_target->supports_fork_events) () : 0)\n+  the_target->pt->supports_fork_events ()\n \n #define target_supports_vfork_events() \\\n-  (the_target->supports_vfork_events ? \\\n-   (*the_target->supports_vfork_events) () : 0)\n+  the_target->pt->supports_vfork_events ()\n \n #define target_supports_exec_events() \\\n-  (the_target->supports_exec_events ? \\\n-   (*the_target->supports_exec_events) () : 0)\n+  the_target->pt->supports_exec_events ()\n \n #define target_handle_new_gdb_connection()\t\t \\\n   do\t\t\t\t\t\t\t \\"
    },
    {
      "sha": "4cea682ee52ab162db80cefb28ad9532a63ab4b1",
      "filename": "gdbserver/win32-low.cc",
      "status": "modified",
      "additions": 0,
      "deletions": 3,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/9690a72ae54450aafaa55872ffcbf8b973660436/gdbserver/win32-low.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/9690a72ae54450aafaa55872ffcbf8b973660436/gdbserver/win32-low.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/win32-low.cc?ref=9690a72ae54450aafaa55872ffcbf8b973660436",
      "patch": "@@ -1852,9 +1852,6 @@ win32_sw_breakpoint_from_kind (int kind, int *size)\n static win32_process_target the_win32_target;\n \n static process_stratum_target win32_target_ops = {\n-  NULL, /* supports_fork_events */\n-  NULL, /* supports_vfork_events */\n-  NULL, /* supports_exec_events */\n   NULL, /* handle_new_gdb_connection */\n   NULL, /* handle_monitor_command */\n   NULL, /* core_of_thread */"
    }
  ]
}