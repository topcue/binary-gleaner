{
  "sha": "3960cb7a1bf14016b6b16d35205cdcb9dfc43c27",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6Mzk2MGNiN2ExYmYxNDAxNmI2YjE2ZDM1MjA1Y2RjYjlkZmM0M2MyNw==",
  "commit": {
    "author": {
      "name": "Jinke Fan",
      "email": "fanjinke51@yeah.net",
      "date": "2019-05-15T09:34:57Z"
    },
    "committer": {
      "name": "Pedro Alves",
      "email": "palves@redhat.com",
      "date": "2019-08-21T17:07:39Z"
    },
    "message": "gdb/djgpp: Add Hygon Dhyana processor support\n\nChengdu Haiguang IC Design Co., Ltd (Hygon) is a Joint Venture between\nAMD and Haiguang Information Technology Co.,Ltd., which aims at\nproviding high performance x86 processors for the China server market.\nIts first generation processor codename is Dhyana, which originates\nfrom AMD technology and shares most of the architecture with AMD's\nfamily 17h, but with different CPU Vendor ID(\"HygonGenuine\")/Family\nseries number(Family 18h).\n\ngdb/ChangeLog:\n2019-08-21  Jinke Fan  <fanjinke51@yeah.net>\n\n\t* go32-nat.c (go32_sysinfo): Add hygon_p.",
    "tree": {
      "sha": "b04a7e96ca95cfbf38c5f5054bf5d1953ce20252",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/b04a7e96ca95cfbf38c5f5054bf5d1953ce20252"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/3960cb7a1bf14016b6b16d35205cdcb9dfc43c27",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/3960cb7a1bf14016b6b16d35205cdcb9dfc43c27",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/3960cb7a1bf14016b6b16d35205cdcb9dfc43c27",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/3960cb7a1bf14016b6b16d35205cdcb9dfc43c27/comments",
  "author": null,
  "committer": {
    "login": "palves",
    "id": 1202913,
    "node_id": "MDQ6VXNlcjEyMDI5MTM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1202913?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/palves",
    "html_url": "https://github.com/palves",
    "followers_url": "https://api.github.com/users/palves/followers",
    "following_url": "https://api.github.com/users/palves/following{/other_user}",
    "gists_url": "https://api.github.com/users/palves/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/palves/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/palves/subscriptions",
    "organizations_url": "https://api.github.com/users/palves/orgs",
    "repos_url": "https://api.github.com/users/palves/repos",
    "events_url": "https://api.github.com/users/palves/events{/privacy}",
    "received_events_url": "https://api.github.com/users/palves/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "61f80d5dafebdb3a2cebac489803c5ce18827178",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/61f80d5dafebdb3a2cebac489803c5ce18827178",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/61f80d5dafebdb3a2cebac489803c5ce18827178"
    }
  ],
  "stats": {
    "total": 11,
    "additions": 8,
    "deletions": 3
  },
  "files": [
    {
      "sha": "3d9c3ce1b1f67c2007f50e9869036f64db23e33b",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3960cb7a1bf14016b6b16d35205cdcb9dfc43c27/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3960cb7a1bf14016b6b16d35205cdcb9dfc43c27/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=3960cb7a1bf14016b6b16d35205cdcb9dfc43c27",
      "patch": "@@ -1,3 +1,7 @@\n+2019-08-21  Jinke Fan  <fanjinke51@yeah.net>\n+\n+\t* go32-nat.c (go32_sysinfo): Add hygon_p.\n+\n 2019-08-20  Tom Tromey  <tom@tromey.com>\n \n \t* tui/tui-regs.h (struct tui_data_window) <last_regs_line_no,"
    },
    {
      "sha": "81fcfe2c2acbfe6844b3e4c053be07fd219612dc",
      "filename": "gdb/go32-nat.c",
      "status": "modified",
      "additions": 4,
      "deletions": 3,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3960cb7a1bf14016b6b16d35205cdcb9dfc43c27/gdb/go32-nat.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3960cb7a1bf14016b6b16d35205cdcb9dfc43c27/gdb/go32-nat.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/go32-nat.c?ref=3960cb7a1bf14016b6b16d35205cdcb9dfc43c27",
      "patch": "@@ -1162,6 +1162,7 @@ go32_sysinfo (const char *arg, int from_tty)\n       unsigned brand_idx;\n       int intel_p = strcmp (cpuid_vendor, \"GenuineIntel\") == 0;\n       int amd_p = strcmp (cpuid_vendor, \"AuthenticAMD\") == 0;\n+      int hygon_p = strcmp (cpuid_vendor, \"HygonGenuine\") == 0;\n       unsigned cpu_family, cpu_model;\n \n #if 0\n@@ -1261,12 +1262,12 @@ go32_sysinfo (const char *arg, int from_tty)\n \t    }\n \t}\n       xsnprintf (cpu_string, sizeof (cpu_string), \"%s%s Model %d Stepping %d\",\n-\t         intel_p ? \"Pentium\" : (amd_p ? \"AMD\" : \"ix86\"),\n+\t         intel_p ? \"Pentium\" : (amd_p ? \"AMD\" : (hygon_p ? \"Hygon\" : \"ix86\")),\n \t         cpu_brand, cpu_model, cpuid_eax & 0xf);\n       printfi_filtered (31, \"%s\\n\", cpu_string);\n       if (((cpuid_edx & (6 | (0x0d << 23))) != 0)\n \t  || ((cpuid_edx & 1) == 0)\n-\t  || (amd_p && (cpuid_edx & (3 << 30)) != 0))\n+\t  || ((amd_p || hygon_p) && (cpuid_edx & (3 << 30)) != 0))\n \t{\n \t  puts_filtered (\"CPU Features...................\");\n \t  /* We only list features which might be useful in the DPMI\n@@ -1285,7 +1286,7 @@ go32_sysinfo (const char *arg, int from_tty)\n \t    puts_filtered (\"SSE \");\n \t  if ((cpuid_edx & (1 << 26)) != 0)\n \t    puts_filtered (\"SSE2 \");\n-\t  if (amd_p)\n+\t  if (amd_p || hygon_p)\n \t    {\n \t      if ((cpuid_edx & (1 << 31)) != 0)\n \t\tputs_filtered (\"3DNow! \");"
    }
  ]
}