{
  "sha": "00ec18756532dfb9039128364987fb1ea405beda",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MDBlYzE4NzU2NTMyZGZiOTAzOTEyODM2NDk4N2ZiMWVhNDA1YmVkYQ==",
  "commit": {
    "author": {
      "name": "Jan Beulich",
      "email": "jbeulich@suse.com",
      "date": "2021-03-10T07:15:10Z"
    },
    "committer": {
      "name": "Jan Beulich",
      "email": "jbeulich@suse.com",
      "date": "2021-03-10T07:15:10Z"
    },
    "message": "x86: re-arrange order of decode for various legacy opcodes\n\nThe order of decodes influences the overall number of table entries.\nReduce table size quite a bit by first decoding few-alternatives\nattributes common to all valid leaves.",
    "tree": {
      "sha": "c3f0746c46e3ecea556e156693249947f3afa70e",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/c3f0746c46e3ecea556e156693249947f3afa70e"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/00ec18756532dfb9039128364987fb1ea405beda",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/00ec18756532dfb9039128364987fb1ea405beda",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/00ec18756532dfb9039128364987fb1ea405beda",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/00ec18756532dfb9039128364987fb1ea405beda/comments",
  "author": {
    "login": "jbeulich",
    "id": 5610135,
    "node_id": "MDQ6VXNlcjU2MTAxMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5610135?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jbeulich",
    "html_url": "https://github.com/jbeulich",
    "followers_url": "https://api.github.com/users/jbeulich/followers",
    "following_url": "https://api.github.com/users/jbeulich/following{/other_user}",
    "gists_url": "https://api.github.com/users/jbeulich/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jbeulich/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jbeulich/subscriptions",
    "organizations_url": "https://api.github.com/users/jbeulich/orgs",
    "repos_url": "https://api.github.com/users/jbeulich/repos",
    "events_url": "https://api.github.com/users/jbeulich/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jbeulich/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "jbeulich",
    "id": 5610135,
    "node_id": "MDQ6VXNlcjU2MTAxMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5610135?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jbeulich",
    "html_url": "https://github.com/jbeulich",
    "followers_url": "https://api.github.com/users/jbeulich/followers",
    "following_url": "https://api.github.com/users/jbeulich/following{/other_user}",
    "gists_url": "https://api.github.com/users/jbeulich/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jbeulich/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jbeulich/subscriptions",
    "organizations_url": "https://api.github.com/users/jbeulich/orgs",
    "repos_url": "https://api.github.com/users/jbeulich/repos",
    "events_url": "https://api.github.com/users/jbeulich/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jbeulich/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "319419837c371a14e64e6affb0cb7abf37764d78",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/319419837c371a14e64e6affb0cb7abf37764d78",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/319419837c371a14e64e6affb0cb7abf37764d78"
    }
  ],
  "stats": {
    "total": 113,
    "additions": 43,
    "deletions": 70
  },
  "files": [
    {
      "sha": "8c60a69c172df260145451751130e21ab8b7dca8",
      "filename": "opcodes/ChangeLog",
      "status": "modified",
      "additions": 15,
      "deletions": 0,
      "changes": 15,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/00ec18756532dfb9039128364987fb1ea405beda/opcodes/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/00ec18756532dfb9039128364987fb1ea405beda/opcodes/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/ChangeLog?ref=00ec18756532dfb9039128364987fb1ea405beda",
      "patch": "@@ -1,3 +1,18 @@\n+2021-03-10  Jan Beulich  <jbeulich@suse.com>\n+\n+\t* opcodes/i386-dis.c (REG_0F71, REG_0F72, REG_0F73): Rename to\n+\tREG_0F71_MOD_0, REG_0F72_MOD_0, and REG_0F73_MOD_0 respectively.\n+\t(MOD_0F71_REG_2, MOD_0F71_REG_4, MOD_0F71_REG_6, MOD_0F72_REG_2,\n+\tMOD_0F72_REG_4, MOD_0F72_REG_6, MOD_0F73_REG_2, MOD_0F73_REG_3,\n+\tMOD_0F73_REG_6, MOD_0F73_REG_7): Delete.\n+\t(MOD_0F71, MOD_0F72, MOD_0F73): New.\n+\t(dis386_twobyte): Link to mod_table[] for opcodes 71, 72, and\n+\t73.\n+\t(reg_table): No longer link to mod_table[] for opcodes 0F71,\n+\t0F72, and 0F73.\n+\t(mod_table): Link to reg_table[] for opcodes 0F71, 0F72, and\n+\t0F73.\n+\n 2021-03-10  Jan Beulich  <jbeulich@suse.com>\n \n \t* opcodes/i386-dis.c (MOD_0F18_REG_4, MOD_0F18_REG_5,"
    },
    {
      "sha": "4f0a4a791216ab4b2550cd3d918ddf15071b0c6a",
      "filename": "opcodes/i386-dis.c",
      "status": "modified",
      "additions": 28,
      "deletions": 70,
      "changes": 98,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/00ec18756532dfb9039128364987fb1ea405beda/opcodes/i386-dis.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/00ec18756532dfb9039128364987fb1ea405beda/opcodes/i386-dis.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/i386-dis.c?ref=00ec18756532dfb9039128364987fb1ea405beda",
      "patch": "@@ -693,9 +693,9 @@ enum\n   REG_0F1E_P_1_MOD_3,\n   REG_0F38D8_PREFIX_1,\n   REG_0F3A0F_PREFIX_1_MOD_3,\n-  REG_0F71,\n-  REG_0F72,\n-  REG_0F73,\n+  REG_0F71_MOD_0,\n+  REG_0F72_MOD_0,\n+  REG_0F73_MOD_0,\n   REG_0FA6,\n   REG_0FA7,\n   REG_0FAE,\n@@ -753,16 +753,9 @@ enum\n   MOD_0F2B_PREFIX_2,\n   MOD_0F2B_PREFIX_3,\n   MOD_0F50,\n-  MOD_0F71_REG_2,\n-  MOD_0F71_REG_4,\n-  MOD_0F71_REG_6,\n-  MOD_0F72_REG_2,\n-  MOD_0F72_REG_4,\n-  MOD_0F72_REG_6,\n-  MOD_0F73_REG_2,\n-  MOD_0F73_REG_3,\n-  MOD_0F73_REG_6,\n-  MOD_0F73_REG_7,\n+  MOD_0F71,\n+  MOD_0F72,\n+  MOD_0F73,\n   MOD_0FAE_REG_0,\n   MOD_0FAE_REG_1,\n   MOD_0FAE_REG_2,\n@@ -2244,9 +2237,9 @@ static const struct dis386 dis386_twobyte[] = {\n   { PREFIX_TABLE (PREFIX_0F6F) },\n   /* 70 */\n   { PREFIX_TABLE (PREFIX_0F70) },\n-  { REG_TABLE (REG_0F71) },\n-  { REG_TABLE (REG_0F72) },\n-  { REG_TABLE (REG_0F73) },\n+  { MOD_TABLE (MOD_0F71) },\n+  { MOD_TABLE (MOD_0F72) },\n+  { MOD_TABLE (MOD_0F73) },\n   { \"pcmpeqb\",\t\t{ MX, EM }, PREFIX_OPCODE },\n   { \"pcmpeqw\",\t\t{ MX, EM }, PREFIX_OPCODE },\n   { \"pcmpeqd\",\t\t{ MX, EM }, PREFIX_OPCODE },\n@@ -2941,36 +2934,36 @@ static const struct dis386 reg_table[][8] = {\n   {\n     { RM_TABLE (RM_0F3A0F_P_1_MOD_3_REG_0) },\n   },\n-  /* REG_0F71 */\n+  /* REG_0F71_MOD_0 */\n   {\n     { Bad_Opcode },\n     { Bad_Opcode },\n-    { MOD_TABLE (MOD_0F71_REG_2) },\n+    { \"psrlw\",\t\t{ MS, Ib }, PREFIX_OPCODE },\n     { Bad_Opcode },\n-    { MOD_TABLE (MOD_0F71_REG_4) },\n+    { \"psraw\",\t\t{ MS, Ib }, PREFIX_OPCODE },\n     { Bad_Opcode },\n-    { MOD_TABLE (MOD_0F71_REG_6) },\n+    { \"psllw\",\t\t{ MS, Ib }, PREFIX_OPCODE },\n   },\n-  /* REG_0F72 */\n+  /* REG_0F72_MOD_0 */\n   {\n     { Bad_Opcode },\n     { Bad_Opcode },\n-    { MOD_TABLE (MOD_0F72_REG_2) },\n+    { \"psrld\",\t\t{ MS, Ib }, PREFIX_OPCODE },\n     { Bad_Opcode },\n-    { MOD_TABLE (MOD_0F72_REG_4) },\n+    { \"psrad\",\t\t{ MS, Ib }, PREFIX_OPCODE },\n     { Bad_Opcode },\n-    { MOD_TABLE (MOD_0F72_REG_6) },\n+    { \"pslld\",\t\t{ MS, Ib }, PREFIX_OPCODE },\n   },\n-  /* REG_0F73 */\n+  /* REG_0F73_MOD_0 */\n   {\n     { Bad_Opcode },\n     { Bad_Opcode },\n-    { MOD_TABLE (MOD_0F73_REG_2) },\n-    { MOD_TABLE (MOD_0F73_REG_3) },\n+    { \"psrlq\",\t\t{ MS, Ib }, PREFIX_OPCODE },\n+    { \"psrldq\",\t\t{ XS, Ib }, PREFIX_DATA },\n     { Bad_Opcode },\n     { Bad_Opcode },\n-    { MOD_TABLE (MOD_0F73_REG_6) },\n-    { MOD_TABLE (MOD_0F73_REG_7) },\n+    { \"psllq\",\t\t{ MS, Ib }, PREFIX_OPCODE },\n+    { \"pslldq\",\t\t{ XS, Ib }, PREFIX_DATA },\n   },\n   /* REG_0FA6 */\n   {\n@@ -8261,54 +8254,19 @@ static const struct dis386 mod_table[][2] = {\n     { \"movmskpX\",\t{ Gdq, XS }, PREFIX_OPCODE },\n   },\n   {\n-    /* MOD_0F71_REG_2 */\n+    /* MOD_0F71 */\n     { Bad_Opcode },\n-    { \"psrlw\",\t\t{ MS, Ib }, PREFIX_OPCODE },\n+    { REG_TABLE (REG_0F71_MOD_0) },\n   },\n   {\n-    /* MOD_0F71_REG_4 */\n+    /* MOD_0F72 */\n     { Bad_Opcode },\n-    { \"psraw\",\t\t{ MS, Ib }, PREFIX_OPCODE },\n-  },\n-  {\n-    /* MOD_0F71_REG_6 */\n-    { Bad_Opcode },\n-    { \"psllw\",\t\t{ MS, Ib }, PREFIX_OPCODE },\n+    { REG_TABLE (REG_0F72_MOD_0) },\n   },\n   {\n-    /* MOD_0F72_REG_2 */\n+    /* MOD_0F73 */\n     { Bad_Opcode },\n-    { \"psrld\",\t\t{ MS, Ib }, PREFIX_OPCODE },\n-  },\n-  {\n-    /* MOD_0F72_REG_4 */\n-    { Bad_Opcode },\n-    { \"psrad\",\t\t{ MS, Ib }, PREFIX_OPCODE },\n-  },\n-  {\n-    /* MOD_0F72_REG_6 */\n-    { Bad_Opcode },\n-    { \"pslld\",\t\t{ MS, Ib }, PREFIX_OPCODE },\n-  },\n-  {\n-    /* MOD_0F73_REG_2 */\n-    { Bad_Opcode },\n-    { \"psrlq\",\t\t{ MS, Ib }, PREFIX_OPCODE },\n-  },\n-  {\n-    /* MOD_0F73_REG_3 */\n-    { Bad_Opcode },\n-    { \"psrldq\",\t\t{ XS, Ib }, PREFIX_DATA },\n-  },\n-  {\n-    /* MOD_0F73_REG_6 */\n-    { Bad_Opcode },\n-    { \"psllq\",\t\t{ MS, Ib }, PREFIX_OPCODE },\n-  },\n-  {\n-    /* MOD_0F73_REG_7 */\n-    { Bad_Opcode },\n-    { \"pslldq\",\t\t{ XS, Ib }, PREFIX_DATA },\n+    { REG_TABLE (REG_0F73_MOD_0) },\n   },\n   {\n     /* MOD_0FAE_REG_0 */"
    }
  ]
}