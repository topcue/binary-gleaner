{
  "sha": "9c905051aaa48bd07f243c1ed502fc88dbf1f3bb",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6OWM5MDUwNTFhYWE0OGJkMDdmMjQzYzFlZDUwMmZjODhkYmYxZjNiYg==",
  "commit": {
    "author": {
      "name": "H.J. Lu",
      "email": "hjl.tools@gmail.com",
      "date": "2020-11-06T14:04:32Z"
    },
    "committer": {
      "name": "H.J. Lu",
      "email": "hjl.tools@gmail.com",
      "date": "2020-11-06T14:04:41Z"
    },
    "message": "elfedit: Update help message\n\nUpdate elfedit message to\n\n$ elfedit --help\nUsage: elfedit <option(s)> elffile(s)\n Update the ELF header of ELF files\n The options are:\n  --input-mach [none|i386|iamcu|l1om|k1om|x86_64]\n                              Set input machine type\n  --output-mach [none|i386|iamcu|l1om|k1om|x86_64]\n                              Set output machine type\n  --input-type [none|rel|exec|dyn]\n                              Set input file type\n  --output-type [none|rel|exec|dyn]\n                              Set output file type\n  --input-osabi [none|HPUX|NetBSD|GNU|Linux|Solaris|AIX|Irix|FreeBSD|TRU64|Modesto|OpenBSD|OpenVMS|NSK|AROS|FenixOS]\n                              Set input OSABI\n  --output-osabi [none|HPUX|NetBSD|GNU|Linux|Solaris|AIX|Irix|FreeBSD|TRU64|Modesto|OpenBSD|OpenVMS|NSK|AROS|FenixOS]\n                              Set output OSABI\n  --enable-x86-feature [ibt|shstk]\n                              Enable x86 feature\n  --disable-x86-feature [ibt|shstk]\n                              Disable x86 feature\n  -h --help                   Display this information\n  -v --version                Display the version number of elfedit\nReport bugs to <http://www.sourceware.org/bugzilla/>\n\n\t* elfedit.c: Include \"libiberty.h\".\n\t(usage): Update help message.",
    "tree": {
      "sha": "d5531a71c430c19ff0c0ccc3134586843008d65e",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/d5531a71c430c19ff0c0ccc3134586843008d65e"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/9c905051aaa48bd07f243c1ed502fc88dbf1f3bb",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/9c905051aaa48bd07f243c1ed502fc88dbf1f3bb",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/9c905051aaa48bd07f243c1ed502fc88dbf1f3bb",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/9c905051aaa48bd07f243c1ed502fc88dbf1f3bb/comments",
  "author": {
    "login": "hjl-tools",
    "id": 1072356,
    "node_id": "MDQ6VXNlcjEwNzIzNTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hjl-tools",
    "html_url": "https://github.com/hjl-tools",
    "followers_url": "https://api.github.com/users/hjl-tools/followers",
    "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}",
    "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions",
    "organizations_url": "https://api.github.com/users/hjl-tools/orgs",
    "repos_url": "https://api.github.com/users/hjl-tools/repos",
    "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hjl-tools/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "hjl-tools",
    "id": 1072356,
    "node_id": "MDQ6VXNlcjEwNzIzNTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hjl-tools",
    "html_url": "https://github.com/hjl-tools",
    "followers_url": "https://api.github.com/users/hjl-tools/followers",
    "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}",
    "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions",
    "organizations_url": "https://api.github.com/users/hjl-tools/orgs",
    "repos_url": "https://api.github.com/users/hjl-tools/repos",
    "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hjl-tools/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "af1bd771fc1e719df4c834f9f2d12b879a9de712",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/af1bd771fc1e719df4c834f9f2d12b879a9de712",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/af1bd771fc1e719df4c834f9f2d12b879a9de712"
    }
  ],
  "stats": {
    "total": 43,
    "additions": 33,
    "deletions": 10
  },
  "files": [
    {
      "sha": "2aa6a3276244e63447ec48e4153e947369999f31",
      "filename": "binutils/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/9c905051aaa48bd07f243c1ed502fc88dbf1f3bb/binutils/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/9c905051aaa48bd07f243c1ed502fc88dbf1f3bb/binutils/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/ChangeLog?ref=9c905051aaa48bd07f243c1ed502fc88dbf1f3bb",
      "patch": "@@ -1,3 +1,8 @@\n+2020-11-06  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\t* elfedit.c: Include \"libiberty.h\".\n+\t(usage): Update help message.\n+\n 2020-11-03  Howard Chu  <hyc@symas.com>\n \n \t* ar.c (long_options): Add --record-libdeps."
    },
    {
      "sha": "5fffe845d86c0d209131401dcf452205aef7dfad",
      "filename": "binutils/elfedit.c",
      "status": "modified",
      "additions": 28,
      "deletions": 10,
      "changes": 38,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/9c905051aaa48bd07f243c1ed502fc88dbf1f3bb/binutils/elfedit.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/9c905051aaa48bd07f243c1ed502fc88dbf1f3bb/binutils/elfedit.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/elfedit.c?ref=9c905051aaa48bd07f243c1ed502fc88dbf1f3bb",
      "patch": "@@ -20,6 +20,7 @@\n \f\n #include \"config.h\"\n #include \"sysdep.h\"\n+#include \"libiberty.h\"\n #include <assert.h>\n \n #if __GNUC__ >= 2\n@@ -893,23 +894,39 @@ static struct option options[] =\n ATTRIBUTE_NORETURN static void\n usage (FILE *stream, int exit_status)\n {\n+  unsigned int i;\n+  char *osabi;\n+\n+  for (i = 0; i < ARRAY_SIZE (osabis); i++)\n+    if (i == 0)\n+      osabi = concat (osabis[i].name, NULL);\n+    else\n+      osabi = concat (osabi, \"|\", osabis[i].name, NULL);\n+\n   fprintf (stream, _(\"Usage: %s <option(s)> elffile(s)\\n\"),\n \t   program_name);\n   fprintf (stream, _(\" Update the ELF header of ELF files\\n\"));\n   fprintf (stream, _(\" The options are:\\n\"));\n   fprintf (stream, _(\"\\\n-  --input-mach <machine>      Set input machine type to <machine>\\n\\\n-  --output-mach <machine>     Set output machine type to <machine>\\n\\\n-  --input-type <type>         Set input file type to <type>\\n\\\n-  --output-type <type>        Set output file type to <type>\\n\\\n-  --input-osabi <osabi>       Set input OSABI to <osabi>\\n\\\n-  --output-osabi <osabi>      Set output OSABI to <osabi>\\n\"));\n+  --input-mach [none|i386|iamcu|l1om|k1om|x86_64]\\n\\\n+                              Set input machine type\\n\\\n+  --output-mach [none|i386|iamcu|l1om|k1om|x86_64]\\n\\\n+                              Set output machine type\\n\\\n+  --input-type [none|rel|exec|dyn]\\n\\\n+                              Set input file type\\n\\\n+  --output-type [none|rel|exec|dyn]\\n\\\n+                              Set output file type\\n\\\n+  --input-osabi [%s]\\n\\\n+                              Set input OSABI\\n\\\n+  --output-osabi [%s]\\n\\\n+                              Set output OSABI\\n\"),\n+\t   osabi, osabi);\n #ifdef HAVE_MMAP\n   fprintf (stream, _(\"\\\n-  --enable-x86-feature <feature>\\n\\\n-                              Enable x86 feature <feature>\\n\\\n-  --disable-x86-feature <feature>\\n\\\n-                              Disable x86 feature <feature>\\n\"));\n+  --enable-x86-feature [ibt|shstk]\\n\\\n+                              Enable x86 feature\\n\\\n+  --disable-x86-feature [ibt|shstk]\\n\\\n+                              Disable x86 feature\\n\"));\n #endif\n   fprintf (stream, _(\"\\\n   -h --help                   Display this information\\n\\\n@@ -918,6 +935,7 @@ usage (FILE *stream, int exit_status)\n \t   program_name);\n   if (REPORT_BUGS_TO[0] && exit_status == 0)\n     fprintf (stream, _(\"Report bugs to %s\\n\"), REPORT_BUGS_TO);\n+  free (osabi);\n   exit (exit_status);\n }\n "
    }
  ]
}