{
  "sha": "ee9e412f14908c1055cb00fab9307d1723981639",
  "node_id": "C_kwDOANOeidoAKGVlOWU0MTJmMTQ5MDhjMTA1NWNiMDBmYWI5MzA3ZDE3MjM5ODE2Mzk",
  "commit": {
    "author": {
      "name": "Nick Clifton",
      "email": "nickc@redhat.com",
      "date": "2021-11-17T15:59:16Z"
    },
    "committer": {
      "name": "Nick Clifton",
      "email": "nickc@redhat.com",
      "date": "2021-11-17T15:59:16Z"
    },
    "message": "Fix the linker script parser so that it will recognise the PT_GNU_RELRO segment type, and the linker itself so that it will gracefully handle being unable to assign any sections to such a segment.\n\n\tPR 28452\nbfd\t* elf.c (assign_file_positions_for_non_load_sections): Replace\n\tassertion with a warning message.\n\nld\t* ldgram.y: Add support for PT_GNU_RELRO and PT_GNU_PROPERTY.\n\t* ldgram.c: Regenerate.",
    "tree": {
      "sha": "4a5ba4638187d448bac46a3444a372ae0bb20922",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/4a5ba4638187d448bac46a3444a372ae0bb20922"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/ee9e412f14908c1055cb00fab9307d1723981639",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/ee9e412f14908c1055cb00fab9307d1723981639",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/ee9e412f14908c1055cb00fab9307d1723981639",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/ee9e412f14908c1055cb00fab9307d1723981639/comments",
  "author": {
    "login": "nickclifton",
    "id": 31441682,
    "node_id": "MDQ6VXNlcjMxNDQxNjgy",
    "avatar_url": "https://avatars.githubusercontent.com/u/31441682?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nickclifton",
    "html_url": "https://github.com/nickclifton",
    "followers_url": "https://api.github.com/users/nickclifton/followers",
    "following_url": "https://api.github.com/users/nickclifton/following{/other_user}",
    "gists_url": "https://api.github.com/users/nickclifton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nickclifton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nickclifton/subscriptions",
    "organizations_url": "https://api.github.com/users/nickclifton/orgs",
    "repos_url": "https://api.github.com/users/nickclifton/repos",
    "events_url": "https://api.github.com/users/nickclifton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nickclifton/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "nickclifton",
    "id": 31441682,
    "node_id": "MDQ6VXNlcjMxNDQxNjgy",
    "avatar_url": "https://avatars.githubusercontent.com/u/31441682?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nickclifton",
    "html_url": "https://github.com/nickclifton",
    "followers_url": "https://api.github.com/users/nickclifton/followers",
    "following_url": "https://api.github.com/users/nickclifton/following{/other_user}",
    "gists_url": "https://api.github.com/users/nickclifton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nickclifton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nickclifton/subscriptions",
    "organizations_url": "https://api.github.com/users/nickclifton/orgs",
    "repos_url": "https://api.github.com/users/nickclifton/repos",
    "events_url": "https://api.github.com/users/nickclifton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nickclifton/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "0df670bbe009d3b57f5dbf9599913ad06013ec4e",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/0df670bbe009d3b57f5dbf9599913ad06013ec4e",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/0df670bbe009d3b57f5dbf9599913ad06013ec4e"
    }
  ],
  "stats": {
    "total": 27,
    "additions": 24,
    "deletions": 3
  },
  "files": [
    {
      "sha": "35b659b4ef90410901d55d316d4b75d8f4083399",
      "filename": "bfd/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ee9e412f14908c1055cb00fab9307d1723981639/bfd/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ee9e412f14908c1055cb00fab9307d1723981639/bfd/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/ChangeLog?ref=ee9e412f14908c1055cb00fab9307d1723981639",
      "patch": "@@ -1,3 +1,9 @@\n+2021-11-17  Nick Clifton  <nickc@redhat.com>\n+\n+\tPR 28452\n+\t* elf.c (assign_file_positions_for_non_load_sections): Replace\n+\tassertion with a warning message.\n+\n 2021-10-19  Nick Clifton  <nickc@redhat.com>\n \n \t* linker.c (_bfd_generic_link_add_one_symbol): Test for a NULL"
    },
    {
      "sha": "cfdb94922f320a69db6262c9eb9b026ba82cff9a",
      "filename": "bfd/elf.c",
      "status": "modified",
      "additions": 8,
      "deletions": 3,
      "changes": 11,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ee9e412f14908c1055cb00fab9307d1723981639/bfd/elf.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ee9e412f14908c1055cb00fab9307d1723981639/bfd/elf.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/elf.c?ref=ee9e412f14908c1055cb00fab9307d1723981639",
      "patch": "@@ -6261,10 +6261,15 @@ assign_file_positions_for_non_load_sections (bfd *abfd,\n \t\t    }\n \t\t}\n \t    }\n-\t  if (link_info != NULL)\n-\t    BFD_ASSERT (ok);\n+\n \t  if (!ok)\n-\t    memset (p, 0, sizeof *p);\n+\t    {\n+\t      if (link_info != NULL)\n+\t\t_bfd_error_handler\n+\t\t  (_(\"%pB: warning: unable to allocate any sections to PT_GNU_RELRO segment\"),\n+\t\t   abfd);\n+\t      memset (p, 0, sizeof *p);\n+\t    }\n \t}\n       else if (p->p_type == PT_GNU_STACK)\n \t{"
    },
    {
      "sha": "d68b8203c0b091eec1fe15933f54acd92cf9aebc",
      "filename": "ld/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ee9e412f14908c1055cb00fab9307d1723981639/ld/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ee9e412f14908c1055cb00fab9307d1723981639/ld/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/ChangeLog?ref=ee9e412f14908c1055cb00fab9307d1723981639",
      "patch": "@@ -1,3 +1,9 @@\n+2021-11-17  Nick Clifton  <nickc@redhat.com>\n+\n+\tPR 28452\n+\t* ldgram.y: Add support for PT_GNU_RELRO and PT_GNU_PROPERTY.\n+\t* ldgram.c: Regenerate.\n+\n 2021-11-15  Roland McGrath  <mcgrathr@google.com>\n \n \t* testsuite/ld-aarch64/dt_textrel.d: Pass explicit -z notext in"
    },
    {
      "sha": "2eb989df77a295de538d59d845f4407f076ea909",
      "filename": "ld/ldgram.y",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ee9e412f14908c1055cb00fab9307d1723981639/ld/ldgram.y",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ee9e412f14908c1055cb00fab9307d1723981639/ld/ldgram.y",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/ldgram.y?ref=ee9e412f14908c1055cb00fab9307d1723981639",
      "patch": "@@ -1262,6 +1262,10 @@ phdr_type:\n \t\t\t    $$ = exp_intop (0x6474e550);\n \t\t\t  else if (strcmp (s, \"PT_GNU_STACK\") == 0)\n \t\t\t    $$ = exp_intop (0x6474e551);\n+\t\t\t  else if (strcmp (s, \"PT_GNU_RELRO\") == 0)\n+\t\t\t    $$ = exp_intop (0x6474e552);\n+\t\t\t  else if (strcmp (s, \"PT_GNU_PROPERTY\") == 0)\n+\t\t\t    $$ = exp_intop (0x6474e553);\n \t\t\t  else\n \t\t\t    {\n \t\t\t      einfo (_(\"\\"
    }
  ]
}