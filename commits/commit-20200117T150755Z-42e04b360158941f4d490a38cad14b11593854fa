{
  "sha": "42e04b360158941f4d490a38cad14b11593854fa",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NDJlMDRiMzYwMTU4OTQxZjRkNDkwYTM4Y2FkMTRiMTE1OTM4NTRmYQ==",
  "commit": {
    "author": {
      "name": "H.J. Lu",
      "email": "hjl.tools@gmail.com",
      "date": "2020-01-17T15:07:55Z"
    },
    "committer": {
      "name": "H.J. Lu",
      "email": "hjl.tools@gmail.com",
      "date": "2020-01-17T15:07:55Z"
    },
    "message": "x86: Add {vex} pseudo prefix\n\nThere are 2-byte VEX prefix and 3-byte VEX prefix.  2-byte VEX prefix\ncan't encode all operands.  By default, assembler tries 2-byte VEX prefix\nfirst.  {vex3} can be used to force 3-byte VEX prefix.  This patch adds\n{vex} pseudo prefix and keeps {vex2} for backward compatibility.\n\ngas/\n\n\t* config/tc-i386.c (_i386_insn): Replace vex_encoding_vex2\n\twith vex_encoding_vex.\n\t(parse_insn): Likewise.\n\t* doc/c-i386.texi: Replace {vex2} with {vex}.  Update {vex}\n\tand {vex3} documentation.\n\t* testsuite/gas/i386/pseudos.s: Replace 3 {vex2} tests with\n\t{vex}.\n\t* testsuite/gas/i386/x86-64-pseudos.s: Likewise.\n\nopcodes/\n\n\t* i386-opc.tbl: Add {vex} pseudo prefix.\n\t* i386-tbl.h: Regenerated.",
    "tree": {
      "sha": "9bf46016eb0fbf13ee7dde413deed9aa4e6ef5f5",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/9bf46016eb0fbf13ee7dde413deed9aa4e6ef5f5"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/42e04b360158941f4d490a38cad14b11593854fa",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/42e04b360158941f4d490a38cad14b11593854fa",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/42e04b360158941f4d490a38cad14b11593854fa",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/42e04b360158941f4d490a38cad14b11593854fa/comments",
  "author": {
    "login": "hjl-tools",
    "id": 1072356,
    "node_id": "MDQ6VXNlcjEwNzIzNTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hjl-tools",
    "html_url": "https://github.com/hjl-tools",
    "followers_url": "https://api.github.com/users/hjl-tools/followers",
    "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}",
    "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions",
    "organizations_url": "https://api.github.com/users/hjl-tools/orgs",
    "repos_url": "https://api.github.com/users/hjl-tools/repos",
    "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hjl-tools/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "hjl-tools",
    "id": 1072356,
    "node_id": "MDQ6VXNlcjEwNzIzNTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hjl-tools",
    "html_url": "https://github.com/hjl-tools",
    "followers_url": "https://api.github.com/users/hjl-tools/followers",
    "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}",
    "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions",
    "organizations_url": "https://api.github.com/users/hjl-tools/orgs",
    "repos_url": "https://api.github.com/users/hjl-tools/repos",
    "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hjl-tools/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "26f42329caf1dcd4a410de61045208024156169f",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/26f42329caf1dcd4a410de61045208024156169f",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/26f42329caf1dcd4a410de61045208024156169f"
    }
  ],
  "stats": {
    "total": 51,
    "additions": 40,
    "deletions": 11
  },
  "files": [
    {
      "sha": "e3adaa722acc4e864fcaaeae74c81e78cb39f289",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 11,
      "deletions": 0,
      "changes": 11,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/42e04b360158941f4d490a38cad14b11593854fa/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/42e04b360158941f4d490a38cad14b11593854fa/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=42e04b360158941f4d490a38cad14b11593854fa",
      "patch": "@@ -1,3 +1,14 @@\n+2020-01-17  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\t* config/tc-i386.c (_i386_insn): Replace vex_encoding_vex2\n+\twith vex_encoding_vex.\n+\t(parse_insn): Likewise.\n+\t* doc/c-i386.texi: Replace {vex2} with {vex}.  Update {vex}\n+\tand {vex3} documentation.\n+\t* testsuite/gas/i386/pseudos.s: Replace 3 {vex2} tests with\n+\t{vex}.\n+\t* testsuite/gas/i386/x86-64-pseudos.s: Likewise.\n+\n 2020-01-16  Andre Vieira  <andre.simoesdiasvieira@arm.com>\n \n \tPR 25376"
    },
    {
      "sha": "8728725b82d49bb64d169269167a58fa103827bc",
      "filename": "gas/config/tc-i386.c",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/42e04b360158941f4d490a38cad14b11593854fa/gas/config/tc-i386.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/42e04b360158941f4d490a38cad14b11593854fa/gas/config/tc-i386.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/config/tc-i386.c?ref=42e04b360158941f4d490a38cad14b11593854fa",
      "patch": "@@ -419,7 +419,7 @@ struct _i386_insn\n     enum\n       {\n \tvex_encoding_default = 0,\n-\tvex_encoding_vex2,\n+\tvex_encoding_vex,\n \tvex_encoding_vex3,\n \tvex_encoding_evex\n       } vec_encoding;\n@@ -4722,8 +4722,8 @@ parse_insn (char *line, char *mnemonic)\n \t\t  i.dir_encoding = dir_encoding_store;\n \t\t  break;\n \t\tcase 0x4:\n-\t\t  /* {vex2} */\n-\t\t  i.vec_encoding = vex_encoding_vex2;\n+\t\t  /* {vex} */\n+\t\t  i.vec_encoding = vex_encoding_vex;\n \t\t  break;\n \t\tcase 0x5:\n \t\t  /* {vex3} */"
    },
    {
      "sha": "e8685dd046ff74fe1d21a32773bed3aab855e958",
      "filename": "gas/doc/c-i386.texi",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/42e04b360158941f4d490a38cad14b11593854fa/gas/doc/c-i386.texi",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/42e04b360158941f4d490a38cad14b11593854fa/gas/doc/c-i386.texi",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/doc/c-i386.texi?ref=42e04b360158941f4d490a38cad14b11593854fa",
      "patch": "@@ -758,10 +758,10 @@ Different encoding options can be specified via pseudo prefixes:\n @samp{@{store@}} -- prefer store-form instruction.\n \n @item\n-@samp{@{vex2@}} -- prefer 2-byte VEX prefix for VEX instruction.\n+@samp{@{vex@}} --  encode with VEX prefix.\n \n @item\n-@samp{@{vex3@}} -- prefer 3-byte VEX prefix for VEX instruction.\n+@samp{@{vex3@}} -- encode with 3-byte VEX prefix.\n \n @item\n @samp{@{evex@}} --  encode with EVEX prefix."
    },
    {
      "sha": "19900dd7e5999b60d1d879644d6ef89ff48d327e",
      "filename": "gas/testsuite/gas/i386/pseudos.s",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/42e04b360158941f4d490a38cad14b11593854fa/gas/testsuite/gas/i386/pseudos.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/42e04b360158941f4d490a38cad14b11593854fa/gas/testsuite/gas/i386/pseudos.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/pseudos.s?ref=42e04b360158941f4d490a38cad14b11593854fa",
      "patch": "@@ -6,9 +6,9 @@ _start:\n \t{vex3} {load} vmovaps %xmm7,%xmm2\n \t{vex3} {store} vmovaps %xmm7,%xmm2\n \tvmovaps %xmm7,%xmm2\n-\t{vex2} vmovaps %xmm7,%xmm2\n-\t{vex2} {load} vmovaps %xmm7,%xmm2\n-\t{vex2} {store} vmovaps %xmm7,%xmm2\n+\t{vex} vmovaps %xmm7,%xmm2\n+\t{vex} {load} vmovaps %xmm7,%xmm2\n+\t{vex} {store} vmovaps %xmm7,%xmm2\n \t{vex3} vmovaps (%eax),%xmm2\n \tvmovaps (%eax),%xmm2\n \t{vex2} vmovaps (%eax),%xmm2"
    },
    {
      "sha": "14b6c92b864c20b47f613e036dce60a2069cfbff",
      "filename": "gas/testsuite/gas/i386/x86-64-pseudos.s",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/42e04b360158941f4d490a38cad14b11593854fa/gas/testsuite/gas/i386/x86-64-pseudos.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/42e04b360158941f4d490a38cad14b11593854fa/gas/testsuite/gas/i386/x86-64-pseudos.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/x86-64-pseudos.s?ref=42e04b360158941f4d490a38cad14b11593854fa",
      "patch": "@@ -6,9 +6,9 @@ _start:\n \t{vex3} {load} vmovaps %xmm7,%xmm2\n \t{vex3} {store} vmovaps %xmm7,%xmm2\n \tvmovaps %xmm7,%xmm2\n-\t{vex2} vmovaps %xmm7,%xmm2\n-\t{vex2} {load} vmovaps %xmm7,%xmm2\n-\t{vex2} {store} vmovaps %xmm7,%xmm2\n+\t{vex} vmovaps %xmm7,%xmm2\n+\t{vex} {load} vmovaps %xmm7,%xmm2\n+\t{vex} {store} vmovaps %xmm7,%xmm2\n \t{vex3} vmovaps (%rax),%xmm2\n \tvmovaps (%rax),%xmm2\n \t{vex2} vmovaps (%rax),%xmm2"
    },
    {
      "sha": "e48e566cbc36f16b168c4f9cc3757c2f9f4509c5",
      "filename": "opcodes/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/42e04b360158941f4d490a38cad14b11593854fa/opcodes/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/42e04b360158941f4d490a38cad14b11593854fa/opcodes/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/ChangeLog?ref=42e04b360158941f4d490a38cad14b11593854fa",
      "patch": "@@ -1,3 +1,8 @@\n+2020-01-17  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\t* i386-opc.tbl: Add {vex} pseudo prefix.\n+\t* i386-tbl.h: Regenerated.\n+\n 2020-01-16  Andre Vieira  <andre.simoesdiasvieira@arm.com>\n \n \tPR 25376"
    },
    {
      "sha": "d8af259903248565b775a220bc270775eebb3208",
      "filename": "opcodes/i386-opc.tbl",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/42e04b360158941f4d490a38cad14b11593854fa/opcodes/i386-opc.tbl",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/42e04b360158941f4d490a38cad14b11593854fa/opcodes/i386-opc.tbl",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/i386-opc.tbl?ref=42e04b360158941f4d490a38cad14b11593854fa",
      "patch": "@@ -879,6 +879,7 @@ rex.wrxb, 0, 0x4f, None, 1, Cpu64, No_bSuf|No_wSuf|No_lSuf|No_sSuf|No_qSuf|No_ld\n {disp32}, 0, 0x1, None, 0, 0, No_bSuf|No_wSuf|No_lSuf|No_sSuf|No_qSuf|No_ldSuf|IsPrefix, { 0 }\n {load}, 0, 0x2, None, 0, 0, No_bSuf|No_wSuf|No_lSuf|No_sSuf|No_qSuf|No_ldSuf|IsPrefix, { 0 }\n {store}, 0, 0x3, None, 0, 0, No_bSuf|No_wSuf|No_lSuf|No_sSuf|No_qSuf|No_ldSuf|IsPrefix, { 0 }\n+{vex}, 0, 0x4, None, 0, 0, No_bSuf|No_wSuf|No_lSuf|No_sSuf|No_qSuf|No_ldSuf|IsPrefix, { 0 }\n {vex2}, 0, 0x4, None, 0, 0, No_bSuf|No_wSuf|No_lSuf|No_sSuf|No_qSuf|No_ldSuf|IsPrefix, { 0 }\n {vex3}, 0, 0x5, None, 0, 0, No_bSuf|No_wSuf|No_lSuf|No_sSuf|No_qSuf|No_ldSuf|IsPrefix, { 0 }\n {evex}, 0, 0x6, None, 0, 0, No_bSuf|No_wSuf|No_lSuf|No_sSuf|No_qSuf|No_ldSuf|IsPrefix, { 0 }"
    },
    {
      "sha": "758d92bcfd292918f7dce5c6700e4a56ddb9a423",
      "filename": "opcodes/i386-tbl.h",
      "status": "modified",
      "additions": 12,
      "deletions": 0,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/42e04b360158941f4d490a38cad14b11593854fa/opcodes/i386-tbl.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/42e04b360158941f4d490a38cad14b11593854fa/opcodes/i386-tbl.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/i386-tbl.h?ref=42e04b360158941f4d490a38cad14b11593854fa",
      "patch": "@@ -7600,6 +7600,18 @@ const insn_template i386_optab[] =\n       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },\n     { { { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n \t  0, 0, 0, 0, 0, 0 } } } },\n+  { \"{vex}\", 0x4, None, 0, 0,\n+    { { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 } },\n+    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0,\n+      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0,\n+      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },\n+    { { { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+\t  0, 0, 0, 0, 0, 0 } } } },\n   { \"{vex2}\", 0x4, None, 0, 0,\n     { { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n         0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,"
    }
  ]
}