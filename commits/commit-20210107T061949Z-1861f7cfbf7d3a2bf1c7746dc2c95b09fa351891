{
  "sha": "1861f7cfbf7d3a2bf1c7746dc2c95b09fa351891",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MTg2MWY3Y2ZiZjdkM2EyYmYxYzc3NDZkYzJjOTViMDlmYTM1MTg5MQ==",
  "commit": {
    "author": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-01-07T06:18:08Z"
    },
    "committer": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-01-07T06:19:49Z"
    },
    "message": "sim: cris: fix C tests with newer toolchains\n\nMake sure we include unistd.h for getpid prototypes to fix build\nwarnings/errors with newer compilers & C libraries.\n\nDoing that for close in openpf highlights these were using the\nwrong function -- need to use fclose on FILE*, not close.\n\nThese tests pass again with a cris-elf toolchain.",
    "tree": {
      "sha": "7c08075755cb46d35a4607a51444b9fdc3fbc8ef",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/7c08075755cb46d35a4607a51444b9fdc3fbc8ef"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/1861f7cfbf7d3a2bf1c7746dc2c95b09fa351891",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/1861f7cfbf7d3a2bf1c7746dc2c95b09fa351891",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/1861f7cfbf7d3a2bf1c7746dc2c95b09fa351891",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/1861f7cfbf7d3a2bf1c7746dc2c95b09fa351891/comments",
  "author": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "2652cfad8d9d6ab05fe6296802ec499682a00749",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/2652cfad8d9d6ab05fe6296802ec499682a00749",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/2652cfad8d9d6ab05fe6296802ec499682a00749"
    }
  ],
  "stats": {
    "total": 23,
    "additions": 21,
    "deletions": 2
  },
  "files": [
    {
      "sha": "641ad7ed976e8193492c3f1507e2f761d60d97d9",
      "filename": "sim/testsuite/sim/cris/ChangeLog",
      "status": "modified",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/1861f7cfbf7d3a2bf1c7746dc2c95b09fa351891/sim/testsuite/sim/cris/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/1861f7cfbf7d3a2bf1c7746dc2c95b09fa351891/sim/testsuite/sim/cris/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/sim/cris/ChangeLog?ref=1861f7cfbf7d3a2bf1c7746dc2c95b09fa351891",
      "patch": "@@ -1,3 +1,11 @@\n+2021-01-07  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* kill2.c: Include unistd.h.\n+\t* pipe1.c, sched1.c, sched2.c, sched3.c, sched4.c, sig5.c,\n+\tsig8.c: Likewise.\n+\t* openpf1.c (main): Change close to fclose.\n+\t* openpf2.c: Likewise.\n+\n 2016-01-04  Mike Frysinger  <vapier@gentoo.org>\n \n \t* asm/opterr1.ms: Update expected output."
    },
    {
      "sha": "0a79db0567a7f9227b43cb0612081aded118855f",
      "filename": "sim/testsuite/sim/cris/c/kill2.c",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/1861f7cfbf7d3a2bf1c7746dc2c95b09fa351891/sim/testsuite/sim/cris/c/kill2.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/1861f7cfbf7d3a2bf1c7746dc2c95b09fa351891/sim/testsuite/sim/cris/c/kill2.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/sim/cris/c/kill2.c?ref=1861f7cfbf7d3a2bf1c7746dc2c95b09fa351891",
      "patch": "@@ -7,6 +7,8 @@\n #include <stdlib.h>\n #include <sys/types.h>\n #include <signal.h>\n+#include <unistd.h>\n+\n int\n main (void)\n {"
    },
    {
      "sha": "e0d8e5c91409de22f8d8dc98a109e36a6edd96d3",
      "filename": "sim/testsuite/sim/cris/c/openpf1.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/1861f7cfbf7d3a2bf1c7746dc2c95b09fa351891/sim/testsuite/sim/cris/c/openpf1.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/1861f7cfbf7d3a2bf1c7746dc2c95b09fa351891/sim/testsuite/sim/cris/c/openpf1.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/sim/cris/c/openpf1.c?ref=1861f7cfbf7d3a2bf1c7746dc2c95b09fa351891",
      "patch": "@@ -27,7 +27,7 @@ int main (int argc, char *argv[])\n   f = fopen (fnam, \"rb\");\n   if (f == NULL)\n     abort ();\n-  close (f);\n+  fclose (f);\n \n   /* Cover another execution path.  */\n   if (fopen (\"/nonexistent\", \"rb\") != NULL"
    },
    {
      "sha": "50337b110d4cf786b88d18bfc8abb761a1304bd8",
      "filename": "sim/testsuite/sim/cris/c/openpf2.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/1861f7cfbf7d3a2bf1c7746dc2c95b09fa351891/sim/testsuite/sim/cris/c/openpf2.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/1861f7cfbf7d3a2bf1c7746dc2c95b09fa351891/sim/testsuite/sim/cris/c/openpf2.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/sim/cris/c/openpf2.c?ref=1861f7cfbf7d3a2bf1c7746dc2c95b09fa351891",
      "patch": "@@ -10,7 +10,7 @@ int main (int argc, char *argv[])\n   FILE *f = fopen (\"openpf2.c\", \"rb\");\n   if (f == NULL)\n     abort ();\n-  close (f);\n+  fclose (f);\n   printf (\"pass\\n\");\n   return 0;\n }"
    },
    {
      "sha": "735974b6cfa0ebb29201df6461f15bd4089d2226",
      "filename": "sim/testsuite/sim/cris/c/pipe1.c",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/1861f7cfbf7d3a2bf1c7746dc2c95b09fa351891/sim/testsuite/sim/cris/c/pipe1.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/1861f7cfbf7d3a2bf1c7746dc2c95b09fa351891/sim/testsuite/sim/cris/c/pipe1.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/sim/cris/c/pipe1.c?ref=1861f7cfbf7d3a2bf1c7746dc2c95b09fa351891",
      "patch": "@@ -11,6 +11,7 @@\n #include <sys/types.h>\n #include <sys/wait.h>\n #include <limits.h>\n+#include <unistd.h>\n \n int main (void)\n {"
    },
    {
      "sha": "1b778f4a40152927fb308ddbbc324bcf873189d1",
      "filename": "sim/testsuite/sim/cris/c/sched1.c",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/1861f7cfbf7d3a2bf1c7746dc2c95b09fa351891/sim/testsuite/sim/cris/c/sched1.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/1861f7cfbf7d3a2bf1c7746dc2c95b09fa351891/sim/testsuite/sim/cris/c/sched1.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/sim/cris/c/sched1.c?ref=1861f7cfbf7d3a2bf1c7746dc2c95b09fa351891",
      "patch": "@@ -5,6 +5,7 @@\n #include <sched.h>\n #include <stdio.h>\n #include <stdlib.h>\n+#include <unistd.h>\n \n int main (void)\n {"
    },
    {
      "sha": "f40a19a8085c1f5cd005dcb35cbb25a914bda14f",
      "filename": "sim/testsuite/sim/cris/c/sched2.c",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/1861f7cfbf7d3a2bf1c7746dc2c95b09fa351891/sim/testsuite/sim/cris/c/sched2.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/1861f7cfbf7d3a2bf1c7746dc2c95b09fa351891/sim/testsuite/sim/cris/c/sched2.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/sim/cris/c/sched2.c?ref=1861f7cfbf7d3a2bf1c7746dc2c95b09fa351891",
      "patch": "@@ -6,6 +6,7 @@\n #include <stdio.h>\n #include <stdlib.h>\n #include <string.h>\n+#include <unistd.h>\n \n int main (void)\n {"
    },
    {
      "sha": "2909a4b6c52f5a664717514e9f43e1429458833b",
      "filename": "sim/testsuite/sim/cris/c/sched3.c",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/1861f7cfbf7d3a2bf1c7746dc2c95b09fa351891/sim/testsuite/sim/cris/c/sched3.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/1861f7cfbf7d3a2bf1c7746dc2c95b09fa351891/sim/testsuite/sim/cris/c/sched3.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/sim/cris/c/sched3.c?ref=1861f7cfbf7d3a2bf1c7746dc2c95b09fa351891",
      "patch": "@@ -6,6 +6,7 @@\n #include <stdio.h>\n #include <errno.h>\n #include <stdlib.h>\n+#include <unistd.h>\n \n int main (void)\n {"
    },
    {
      "sha": "df372f217e8308e333bc67c9ffc9f33c86a41793",
      "filename": "sim/testsuite/sim/cris/c/sched4.c",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/1861f7cfbf7d3a2bf1c7746dc2c95b09fa351891/sim/testsuite/sim/cris/c/sched4.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/1861f7cfbf7d3a2bf1c7746dc2c95b09fa351891/sim/testsuite/sim/cris/c/sched4.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/sim/cris/c/sched4.c?ref=1861f7cfbf7d3a2bf1c7746dc2c95b09fa351891",
      "patch": "@@ -6,6 +6,7 @@\n #include <stdio.h>\n #include <errno.h>\n #include <stdlib.h>\n+#include <unistd.h>\n \n int main (void)\n {"
    },
    {
      "sha": "f80da2b69906825c8394470102fd151ab8af43b8",
      "filename": "sim/testsuite/sim/cris/c/sig5.c",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/1861f7cfbf7d3a2bf1c7746dc2c95b09fa351891/sim/testsuite/sim/cris/c/sig5.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/1861f7cfbf7d3a2bf1c7746dc2c95b09fa351891/sim/testsuite/sim/cris/c/sig5.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/sim/cris/c/sig5.c?ref=1861f7cfbf7d3a2bf1c7746dc2c95b09fa351891",
      "patch": "@@ -8,6 +8,8 @@\n #include <stdio.h>\n #include <sys/types.h>\n #include <signal.h>\n+#include <unistd.h>\n+\n int main (void)\n {\n   kill (getpid (), SIGBUS);"
    },
    {
      "sha": "ea2d7f5dc119a39756d3ee76c36d71c09801f1b4",
      "filename": "sim/testsuite/sim/cris/c/sig8.c",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/1861f7cfbf7d3a2bf1c7746dc2c95b09fa351891/sim/testsuite/sim/cris/c/sig8.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/1861f7cfbf7d3a2bf1c7746dc2c95b09fa351891/sim/testsuite/sim/cris/c/sig8.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/sim/cris/c/sig8.c?ref=1861f7cfbf7d3a2bf1c7746dc2c95b09fa351891",
      "patch": "@@ -10,6 +10,8 @@\n #include <stdio.h>\n #include <sys/types.h>\n #include <signal.h>\n+#include <unistd.h>\n+\n int main (void)\n {\n   signal (SIGALRM, SIG_IGN);"
    }
  ]
}