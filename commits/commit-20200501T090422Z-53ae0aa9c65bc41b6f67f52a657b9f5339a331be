{
  "sha": "53ae0aa9c65bc41b6f67f52a657b9f5339a331be",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NTNhZTBhYTljNjViYzQxYjZmNjdmNTJhNjU3YjlmNTMzOWEzMzFiZQ==",
  "commit": {
    "author": {
      "name": "Tom de Vries",
      "email": "tdevries@suse.de",
      "date": "2020-05-01T09:04:22Z"
    },
    "committer": {
      "name": "Tom de Vries",
      "email": "tdevries@suse.de",
      "date": "2020-05-01T09:04:22Z"
    },
    "message": "[gdb/testsuite] Fix Wunused-result warning in until-reverse.c\n\nWhen running test-case gdb.reverse/until-reverse.exp or\ngdb.reverse/until-precsave.exp with gcc-10, we run into a Wunused-result\nwarning:\n...\ngdb compile failed, gdb.reverse/until-reverse.c: In function 'main':\ngdb.reverse/until-reverse.c:40:14: warning: ignoring return value of \\\n  'malloc' declared with attribute 'warn_unused_result' [-Wunused-result]\n   40 |       (void) malloc (1);\n      |              ^~~~~~~~~~\n...\n\nFix this by using the result of malloc as argument to a free call.\n\nTested on x86_64-linux.\n\ngdb/testsuite/ChangeLog:\n\n2020-05-01  Tom de Vries  <tdevries@suse.de>\n\n\t* gdb.reverse/until-reverse.c (main): Fix Wunused-result warning.",
    "tree": {
      "sha": "5a76921e945c7d9d4ccb5d10fa23877316e569b4",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/5a76921e945c7d9d4ccb5d10fa23877316e569b4"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/53ae0aa9c65bc41b6f67f52a657b9f5339a331be",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/53ae0aa9c65bc41b6f67f52a657b9f5339a331be",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/53ae0aa9c65bc41b6f67f52a657b9f5339a331be",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/53ae0aa9c65bc41b6f67f52a657b9f5339a331be/comments",
  "author": {
    "login": "vries",
    "id": 4057235,
    "node_id": "MDQ6VXNlcjQwNTcyMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4057235?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vries",
    "html_url": "https://github.com/vries",
    "followers_url": "https://api.github.com/users/vries/followers",
    "following_url": "https://api.github.com/users/vries/following{/other_user}",
    "gists_url": "https://api.github.com/users/vries/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vries/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vries/subscriptions",
    "organizations_url": "https://api.github.com/users/vries/orgs",
    "repos_url": "https://api.github.com/users/vries/repos",
    "events_url": "https://api.github.com/users/vries/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vries/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "vries",
    "id": 4057235,
    "node_id": "MDQ6VXNlcjQwNTcyMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4057235?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vries",
    "html_url": "https://github.com/vries",
    "followers_url": "https://api.github.com/users/vries/followers",
    "following_url": "https://api.github.com/users/vries/following{/other_user}",
    "gists_url": "https://api.github.com/users/vries/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vries/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vries/subscriptions",
    "organizations_url": "https://api.github.com/users/vries/orgs",
    "repos_url": "https://api.github.com/users/vries/repos",
    "events_url": "https://api.github.com/users/vries/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vries/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "a2714d6cca1f1c7695f8dc84b49a4a51d1db86c8",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/a2714d6cca1f1c7695f8dc84b49a4a51d1db86c8",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/a2714d6cca1f1c7695f8dc84b49a4a51d1db86c8"
    }
  ],
  "stats": {
    "total": 7,
    "additions": 6,
    "deletions": 1
  },
  "files": [
    {
      "sha": "210499af06d4a983c4d1788c284c406ca0623c55",
      "filename": "gdb/testsuite/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/53ae0aa9c65bc41b6f67f52a657b9f5339a331be/gdb/testsuite/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/53ae0aa9c65bc41b6f67f52a657b9f5339a331be/gdb/testsuite/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/ChangeLog?ref=53ae0aa9c65bc41b6f67f52a657b9f5339a331be",
      "patch": "@@ -1,3 +1,7 @@\n+2020-05-01  Tom de Vries  <tdevries@suse.de>\n+\n+\t* gdb.reverse/until-reverse.c (main): Fix Wunused-result warning.\n+\n 2020-04-30  Hannes Domani  <ssbssa@yahoo.de>\n \n \tPR gdb/18706"
    },
    {
      "sha": "a8d8aed9aac686a8d76044c21bde045dd8faf294",
      "filename": "gdb/testsuite/gdb.reverse/until-reverse.c",
      "status": "modified",
      "additions": 2,
      "deletions": 1,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/53ae0aa9c65bc41b6f67f52a657b9f5339a331be/gdb/testsuite/gdb.reverse/until-reverse.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/53ae0aa9c65bc41b6f67f52a657b9f5339a331be/gdb/testsuite/gdb.reverse/until-reverse.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.reverse/until-reverse.c?ref=53ae0aa9c65bc41b6f67f52a657b9f5339a331be",
      "patch": "@@ -37,7 +37,8 @@ main (int argc, char **argv, char **envp)\n     {\n       /* We're used by a test that requires malloc, so make sure it is\n \t in the executable.  */\n-      (void) malloc (1);\n+      void *p = malloc (1);\n+      free (p);\n       return 1;\n     }\n "
    }
  ]
}