{
  "sha": "6c93cebf2dd6ed203efe01e2c696fbb2c44ff42d",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NmM5M2NlYmYyZGQ2ZWQyMDNlZmUwMWUyYzY5NmZiYjJjNDRmZjQyZA==",
  "commit": {
    "author": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2021-08-11T06:04:12Z"
    },
    "committer": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2021-08-11T10:16:43Z"
    },
    "message": "ldgram.y tidies\n\nI've been tripped up before thinking the \"end\" rule was the \"END\"\ntoken.  Let's use a better name.  The formatting changes are for\nconsistency within rules, and making it a little easier to visually\nseparate tokens from mid-rule actions.\n\n\t* ldgram.y (separator): Rename from \"end\".  Update uses.\n\t(statement): Formatting.  Move ';' match to beginning.\n\t(paren_script_name): Formatting.  Simplify.\n\t(must_be_exp, section): Formatting.",
    "tree": {
      "sha": "67bcec738b936a20c8bbe905027f2da053a9ed01",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/67bcec738b936a20c8bbe905027f2da053a9ed01"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/6c93cebf2dd6ed203efe01e2c696fbb2c44ff42d",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/6c93cebf2dd6ed203efe01e2c696fbb2c44ff42d",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/6c93cebf2dd6ed203efe01e2c696fbb2c44ff42d",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/6c93cebf2dd6ed203efe01e2c696fbb2c44ff42d/comments",
  "author": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "fb0afe4ccacebb4062a9428a32051f3e077dfa14",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/fb0afe4ccacebb4062a9428a32051f3e077dfa14",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/fb0afe4ccacebb4062a9428a32051f3e077dfa14"
    }
  ],
  "stats": {
    "total": 96,
    "additions": 55,
    "deletions": 41
  },
  "files": [
    {
      "sha": "77442818587661c9f8865106fe5ab15113f10429",
      "filename": "ld/ldgram.y",
      "status": "modified",
      "additions": 55,
      "deletions": 41,
      "changes": 96,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6c93cebf2dd6ed203efe01e2c696fbb2c44ff42d/ld/ldgram.y",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6c93cebf2dd6ed203efe01e2c696fbb2c44ff42d/ld/ldgram.y",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/ldgram.y?ref=6c93cebf2dd6ed203efe01e2c696fbb2c44ff42d",
      "patch": "@@ -422,7 +422,7 @@ sec_or_group_p1:\n statement_anywhere:\n \t\tENTRY '(' NAME ')'\n \t\t{ lang_add_entry ($3, false); }\n-\t|\tassignment end\n+\t|\tassignment separator\n \t|\tASSERT_K  {ldlex_expression ();} '(' exp ',' NAME ')'\n \t\t{ ldlex_popstate ();\n \t\t  lang_add_assignment (exp_assert ($4, $6)); }\n@@ -663,16 +663,15 @@ input_section_spec:\n \t;\n \n statement:\n-\t\tassignment end\n-\t|\tCREATE_OBJECT_SYMBOLS\n+\t';'\n+\t| assignment separator\n+\t| CREATE_OBJECT_SYMBOLS\n \t\t{\n-\t\tlang_add_attribute(lang_object_symbols_statement_enum);\n+\t\t  lang_add_attribute (lang_object_symbols_statement_enum);\n \t\t}\n-\t|\t';'\n-\t|\tCONSTRUCTORS\n+\t| CONSTRUCTORS\n \t\t{\n-\n-\t\t  lang_add_attribute(lang_constructors_statement_enum);\n+\t\t  lang_add_attribute (lang_constructors_statement_enum);\n \t\t}\n \t| SORT_BY_NAME '(' CONSTRUCTORS ')'\n \t\t{\n@@ -689,12 +688,19 @@ statement:\n \t\t{\n \t\t  lang_add_fill ($3);\n \t\t}\n-\t| ASSERT_K  {ldlex_expression ();} '(' exp ',' NAME ')' end\n-\t\t\t{ ldlex_popstate ();\n-\t\t\t  lang_add_assignment (exp_assert ($4, $6)); }\n+\t| ASSERT_K\n+\t\t{ ldlex_expression (); }\n+\t  '(' exp ',' NAME ')' separator\n+\t\t{\n+\t\t  ldlex_popstate ();\n+\t\t  lang_add_assignment (exp_assert ($4, $6));\n+\t\t}\n \t| INCLUDE filename\n-\t\t{ ldlex_script (); ldfile_open_command_file($2); }\n-\t\tstatement_list_opt END\n+\t\t{\n+\t\t  ldlex_script ();\n+\t\t  ldfile_open_command_file ($2);\n+\t\t}\n+\t  statement_list_opt END\n \t\t{ ldlex_popstate (); }\n \t;\n \n@@ -754,7 +760,7 @@ assign_op:\n \n \t;\n \n-end:\t';' | ','\n+separator:\t';' | ','\n \t;\n \n \n@@ -905,13 +911,13 @@ nocrossref_list:\n \t\t}\n \t;\n \n-paren_script_name:\n-\t\t{ ldlex_script (); } '(' NAME  { ldlex_popstate (); } ')'\n-\t\t\t{ $$ = $3; }\n+paren_script_name:\t{ ldlex_script (); }\n+\t\t'(' NAME ')'\n+\t\t\t{ ldlex_popstate (); $$ = $3; }\n \n-mustbe_exp:\t\t { ldlex_expression (); }\n+mustbe_exp:\t\t{ ldlex_expression (); }\n \t\texp\n-\t\t\t { ldlex_popstate (); $$=$2;}\n+\t\t\t{ ldlex_popstate (); $$ = $2; }\n \t;\n \n exp\t:\n@@ -1056,31 +1062,35 @@ sect_constraint:\n \t|\t{ $$ = 0; }\n \t;\n \n-section:\tNAME\t\t{ ldlex_expression(); }\n+section:\tNAME\n+\t\t\t{ ldlex_expression(); }\n \t\topt_exp_with_type\n \t\topt_at\n \t\topt_align\n \t\topt_align_with_input\n-\t\topt_subalign\t{ ldlex_popstate (); ldlex_script (); }\n+\t\topt_subalign\n+\t\t\t{ ldlex_popstate (); ldlex_script (); }\n \t\tsect_constraint\n \t\t'{'\n \t\t\t{\n-\t\t\t  lang_enter_output_section_statement($1, $3,\n-\t\t\t\t\t\t\t      sectype,\n-\t\t\t\t\t\t\t      $5, $7, $4, $9, $6);\n+\t\t\t  lang_enter_output_section_statement($1, $3, sectype,\n+\t\t\t\t\t\t\t      $5, $7, $4,\n+\t\t\t\t\t\t\t      $9, $6);\n \t\t\t}\n \t\tstatement_list_opt\n-\t\t'}' { ldlex_popstate (); ldlex_expression (); }\n+\t\t'}'\n+\t\t\t{ ldlex_popstate (); ldlex_expression (); }\n \t\tmemspec_opt memspec_at_opt phdr_opt fill_opt\n-\t\t{\n-\t\t  if (yychar == NAME)\n-\t\t    {\n-\t\t      yyclearin;\n-\t\t      ldlex_backup ();\n-\t\t    }\n-\t\t  ldlex_popstate ();\n-\t\t  lang_leave_output_section_statement ($18, $15, $17, $16);\n-\t\t}\n+\t\t\t{\n+\t\t\t  if (yychar == NAME)\n+\t\t\t    {\n+\t\t\t      yyclearin;\n+\t\t\t      ldlex_backup ();\n+\t\t\t    }\n+\t\t\t  ldlex_popstate ();\n+\t\t\t  lang_leave_output_section_statement ($18, $15,\n+\t\t\t\t\t\t\t       $17, $16);\n+\t\t\t}\n \t\topt_comma\n \t|\tOVERLAY\n \t\t\t{ ldlex_expression (); }\n@@ -1109,17 +1119,21 @@ section:\tNAME\t\t{ ldlex_expression(); }\n \t\t   svr3.ifile script.  It is not intended to be full\n \t\t   support.  I'm not even sure what GROUP is supposed\n \t\t   to mean.  */\n-\t\tGROUP { ldlex_expression (); }\n+\t\tGROUP\n+\t\t\t{ ldlex_expression (); }\n \t\topt_exp_with_type\n-\t\t{\n-\t\t  ldlex_popstate ();\n-\t\t  lang_add_assignment (exp_assign (\".\", $3, false));\n-\t\t}\n+\t\t\t{\n+\t\t\t  ldlex_popstate ();\n+\t\t\t  lang_add_assignment (exp_assign (\".\", $3, false));\n+\t\t\t}\n \t\t'{' sec_or_group_p1 '}'\n \t|\tINCLUDE filename\n-\t\t{ ldlex_script (); ldfile_open_command_file($2); }\n+\t\t\t{\n+\t\t\t  ldlex_script ();\n+\t\t\t  ldfile_open_command_file ($2);\n+\t\t\t}\n \t\tsec_or_group_p1 END\n-\t\t{ ldlex_popstate (); }\n+\t\t\t{ ldlex_popstate (); }\n \t;\n \n type:"
    }
  ]
}