{
  "sha": "a308b89de77e782b563fe5f712397848bfd4a897",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YTMwOGI4OWRlNzdlNzgyYjU2M2ZlNWY3MTIzOTc4NDhiZmQ0YTg5Nw==",
  "commit": {
    "author": {
      "name": "H.J. Lu",
      "email": "hjl.tools@gmail.com",
      "date": "2020-07-11T11:04:08Z"
    },
    "committer": {
      "name": "H.J. Lu",
      "email": "hjl.tools@gmail.com",
      "date": "2020-07-11T11:04:20Z"
    },
    "message": "x86: Support GNU_PROPERTY_X86_FEATURE_2_TMM\n\nSupport GNU_PROPERTY_X86_FEATURE_2_TMM in\n\nhttps://gitlab.com/x86-psABIs/x86-64-ABI/-/merge_requests/1\n\n #define GNU_PROPERTY_X86_FEATURE_2_TMM      (1U << 10)\n\nbinutils/\n\n\t* readelf.c (decode_x86_feature_2): Handle\n\tGNU_PROPERTY_X86_FEATURE_2_TMM.\n\ngas/\n\n\t* config/tc-i386.c (output_insn): Check i.xstate to set\n\tGNU_PROPERTY_X86_FEATURE_2_TMM.\n\t* testsuite/gas/i386/i386.exp: Run x86-64-property-7,\n\tx86-64-property-8 and x86-64-property-9.\n\t* testsuite/gas/i386/x86-64-property-7.d: New file.\n\t* testsuite/gas/i386/x86-64-property-7.s: Likewise.\n\t* testsuite/gas/i386/x86-64-property-8.d: Likewise.\n\t* testsuite/gas/i386/x86-64-property-8.s: Likewise.\n\t* testsuite/gas/i386/x86-64-property-9.d: Likewise.\n\t* testsuite/gas/i386/x86-64-property-9.s: Likewise.\n\ninclude/\n\n\t* elf/common.h (GNU_PROPERTY_X86_FEATURE_2_TMM): New.",
    "tree": {
      "sha": "6bd0ffcf8ece00258d36841317e4d6bfc7d4546e",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/6bd0ffcf8ece00258d36841317e4d6bfc7d4546e"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/a308b89de77e782b563fe5f712397848bfd4a897",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/a308b89de77e782b563fe5f712397848bfd4a897",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/a308b89de77e782b563fe5f712397848bfd4a897",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/a308b89de77e782b563fe5f712397848bfd4a897/comments",
  "author": {
    "login": "hjl-tools",
    "id": 1072356,
    "node_id": "MDQ6VXNlcjEwNzIzNTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hjl-tools",
    "html_url": "https://github.com/hjl-tools",
    "followers_url": "https://api.github.com/users/hjl-tools/followers",
    "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}",
    "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions",
    "organizations_url": "https://api.github.com/users/hjl-tools/orgs",
    "repos_url": "https://api.github.com/users/hjl-tools/repos",
    "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hjl-tools/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "hjl-tools",
    "id": 1072356,
    "node_id": "MDQ6VXNlcjEwNzIzNTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hjl-tools",
    "html_url": "https://github.com/hjl-tools",
    "followers_url": "https://api.github.com/users/hjl-tools/followers",
    "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}",
    "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions",
    "organizations_url": "https://api.github.com/users/hjl-tools/orgs",
    "repos_url": "https://api.github.com/users/hjl-tools/repos",
    "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hjl-tools/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "ee9cb95ea14cfc2856a1d89a636d50c14a487de2",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/ee9cb95ea14cfc2856a1d89a636d50c14a487de2",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/ee9cb95ea14cfc2856a1d89a636d50c14a487de2"
    }
  ],
  "stats": {
    "total": 66,
    "additions": 66,
    "deletions": 0
  },
  "files": [
    {
      "sha": "14917c7f574edd573ce439af0962174b8916153d",
      "filename": "binutils/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a308b89de77e782b563fe5f712397848bfd4a897/binutils/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a308b89de77e782b563fe5f712397848bfd4a897/binutils/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/ChangeLog?ref=a308b89de77e782b563fe5f712397848bfd4a897",
      "patch": "@@ -1,3 +1,8 @@\n+2020-07-11  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\t* readelf.c (decode_x86_feature_2): Handle\n+\tGNU_PROPERTY_X86_FEATURE_2_TMM.\n+\n 2020-07-10  Tom de Vries  <tdevries@suse.de>\n \n \t* dwarf.c (display_debug_lines_decoded): Don't emit meaningless"
    },
    {
      "sha": "2406304fe35a832ac53aa7b1a367f3f7afed4264",
      "filename": "binutils/readelf.c",
      "status": "modified",
      "additions": 3,
      "deletions": 0,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a308b89de77e782b563fe5f712397848bfd4a897/binutils/readelf.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a308b89de77e782b563fe5f712397848bfd4a897/binutils/readelf.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/readelf.c?ref=a308b89de77e782b563fe5f712397848bfd4a897",
      "patch": "@@ -18183,6 +18183,9 @@ decode_x86_feature_2 (unsigned int bitmask)\n \tcase GNU_PROPERTY_X86_FEATURE_2_ZMM:\n \t  printf (\"ZMM\");\n \t  break;\n+\tcase GNU_PROPERTY_X86_FEATURE_2_TMM:\n+\t  printf (\"TMM\");\n+\t  break;\n \tcase GNU_PROPERTY_X86_FEATURE_2_FXSR:\n \t  printf (\"FXSR\");\n \t  break;"
    },
    {
      "sha": "3371d7b8cfcaa7d419f0a62bae010643a3f3eb72",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 13,
      "deletions": 0,
      "changes": 13,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a308b89de77e782b563fe5f712397848bfd4a897/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a308b89de77e782b563fe5f712397848bfd4a897/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=a308b89de77e782b563fe5f712397848bfd4a897",
      "patch": "@@ -1,3 +1,16 @@\n+2020-07-11  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\t* config/tc-i386.c (output_insn): Check i.xstate to set\n+\tGNU_PROPERTY_X86_FEATURE_2_TMM.\n+\t* testsuite/gas/i386/i386.exp: Run x86-64-property-7,\n+\tx86-64-property-8 and x86-64-property-9.\n+\t* testsuite/gas/i386/x86-64-property-7.d: New file.\n+\t* testsuite/gas/i386/x86-64-property-7.s: Likewise.\n+\t* testsuite/gas/i386/x86-64-property-8.d: Likewise.\n+\t* testsuite/gas/i386/x86-64-property-8.s: Likewise.\n+\t* testsuite/gas/i386/x86-64-property-9.d: Likewise.\n+\t* testsuite/gas/i386/x86-64-property-9.s: Likewise.\n+\n 2020-07-10  H.J. Lu  <hongjiu.lu@intel.com>\n \n \t* config/tc-i386.c (_i386_insn): Remove has_regmmx, has_regxmm,"
    },
    {
      "sha": "18f685c8b1a7c1bff575db35e08e9938a7ded926",
      "filename": "gas/config/tc-i386.c",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a308b89de77e782b563fe5f712397848bfd4a897/gas/config/tc-i386.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a308b89de77e782b563fe5f712397848bfd4a897/gas/config/tc-i386.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/config/tc-i386.c?ref=a308b89de77e782b563fe5f712397848bfd4a897",
      "patch": "@@ -9183,6 +9183,10 @@ output_insn (void)\n \tx86_feature_2_used |= GNU_PROPERTY_X86_FEATURE_2_XSAVEOPT;\n       if (i.tm.cpu_flags.bitfield.cpuxsavec)\n \tx86_feature_2_used |= GNU_PROPERTY_X86_FEATURE_2_XSAVEC;\n+\n+      if ((i.xstate & xstate_tmm) == xstate_tmm\n+\t  || i.tm.cpu_flags.bitfield.cpuamx_tile)\n+\tx86_feature_2_used |= GNU_PROPERTY_X86_FEATURE_2_TMM;\n     }\n #endif\n "
    },
    {
      "sha": "27a425a7539aa880c9f45439487c7eae509af80a",
      "filename": "gas/testsuite/gas/i386/i386.exp",
      "status": "modified",
      "additions": 3,
      "deletions": 0,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a308b89de77e782b563fe5f712397848bfd4a897/gas/testsuite/gas/i386/i386.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a308b89de77e782b563fe5f712397848bfd4a897/gas/testsuite/gas/i386/i386.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/i386.exp?ref=a308b89de77e782b563fe5f712397848bfd4a897",
      "patch": "@@ -1217,6 +1217,9 @@ if [expr ([istarget \"i*86-*-*\"] || [istarget \"x86_64-*-*\"]) && [gas_64_check]] t\n \trun_dump_test \"x86-64-property-4\"\n \trun_dump_test \"x86-64-property-5\"\n \trun_dump_test \"x86-64-property-6\"\n+\trun_dump_test \"x86-64-property-7\"\n+\trun_dump_test \"x86-64-property-8\"\n+\trun_dump_test \"x86-64-property-9\"\n \n \tif {[istarget \"*-*-linux*\"]} then {\n \t    run_dump_test \"x86-64-align-branch-3\""
    },
    {
      "sha": "e938cc90da99b9fbd7e04461cf84654b0db1bf03",
      "filename": "gas/testsuite/gas/i386/x86-64-property-7.d",
      "status": "added",
      "additions": 9,
      "deletions": 0,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a308b89de77e782b563fe5f712397848bfd4a897/gas/testsuite/gas/i386/x86-64-property-7.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a308b89de77e782b563fe5f712397848bfd4a897/gas/testsuite/gas/i386/x86-64-property-7.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/x86-64-property-7.d?ref=a308b89de77e782b563fe5f712397848bfd4a897",
      "patch": "@@ -0,0 +1,9 @@\n+#name: x86-64 property 4\n+#as: -mx86-used-note=yes --generate-missing-build-notes=no\n+#readelf: -n\n+\n+Displaying notes found in: .note.gnu.property\n+[ \t]+Owner[ \t]+Data size[ \t]+Description\n+  GNU                  0x[0-9a-f]+\tNT_GNU_PROPERTY_TYPE_0\n+      Properties: x86 ISA used: <None>\n+\tx86 feature used: x86, TMM"
    },
    {
      "sha": "bfa255b688d55dbf45d526b5d560c5257cba078c",
      "filename": "gas/testsuite/gas/i386/x86-64-property-7.s",
      "status": "added",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a308b89de77e782b563fe5f712397848bfd4a897/gas/testsuite/gas/i386/x86-64-property-7.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a308b89de77e782b563fe5f712397848bfd4a897/gas/testsuite/gas/i386/x86-64-property-7.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/x86-64-property-7.s?ref=a308b89de77e782b563fe5f712397848bfd4a897",
      "patch": "@@ -0,0 +1,2 @@\n+\t.text\n+\ttdpbuud %tmm3, %tmm2, %tmm1"
    },
    {
      "sha": "e938cc90da99b9fbd7e04461cf84654b0db1bf03",
      "filename": "gas/testsuite/gas/i386/x86-64-property-8.d",
      "status": "added",
      "additions": 9,
      "deletions": 0,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a308b89de77e782b563fe5f712397848bfd4a897/gas/testsuite/gas/i386/x86-64-property-8.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a308b89de77e782b563fe5f712397848bfd4a897/gas/testsuite/gas/i386/x86-64-property-8.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/x86-64-property-8.d?ref=a308b89de77e782b563fe5f712397848bfd4a897",
      "patch": "@@ -0,0 +1,9 @@\n+#name: x86-64 property 4\n+#as: -mx86-used-note=yes --generate-missing-build-notes=no\n+#readelf: -n\n+\n+Displaying notes found in: .note.gnu.property\n+[ \t]+Owner[ \t]+Data size[ \t]+Description\n+  GNU                  0x[0-9a-f]+\tNT_GNU_PROPERTY_TYPE_0\n+      Properties: x86 ISA used: <None>\n+\tx86 feature used: x86, TMM"
    },
    {
      "sha": "23c270b9da0e9f7a8497184a938219f55b53eef1",
      "filename": "gas/testsuite/gas/i386/x86-64-property-8.s",
      "status": "added",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a308b89de77e782b563fe5f712397848bfd4a897/gas/testsuite/gas/i386/x86-64-property-8.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a308b89de77e782b563fe5f712397848bfd4a897/gas/testsuite/gas/i386/x86-64-property-8.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/x86-64-property-8.s?ref=a308b89de77e782b563fe5f712397848bfd4a897",
      "patch": "@@ -0,0 +1,2 @@\n+\t.text\n+\ttilerelease"
    },
    {
      "sha": "e938cc90da99b9fbd7e04461cf84654b0db1bf03",
      "filename": "gas/testsuite/gas/i386/x86-64-property-9.d",
      "status": "added",
      "additions": 9,
      "deletions": 0,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a308b89de77e782b563fe5f712397848bfd4a897/gas/testsuite/gas/i386/x86-64-property-9.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a308b89de77e782b563fe5f712397848bfd4a897/gas/testsuite/gas/i386/x86-64-property-9.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/x86-64-property-9.d?ref=a308b89de77e782b563fe5f712397848bfd4a897",
      "patch": "@@ -0,0 +1,9 @@\n+#name: x86-64 property 4\n+#as: -mx86-used-note=yes --generate-missing-build-notes=no\n+#readelf: -n\n+\n+Displaying notes found in: .note.gnu.property\n+[ \t]+Owner[ \t]+Data size[ \t]+Description\n+  GNU                  0x[0-9a-f]+\tNT_GNU_PROPERTY_TYPE_0\n+      Properties: x86 ISA used: <None>\n+\tx86 feature used: x86, TMM"
    },
    {
      "sha": "14d8c5d041bf389331691f4fd6a3715ac27ef4c2",
      "filename": "gas/testsuite/gas/i386/x86-64-property-9.s",
      "status": "added",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a308b89de77e782b563fe5f712397848bfd4a897/gas/testsuite/gas/i386/x86-64-property-9.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a308b89de77e782b563fe5f712397848bfd4a897/gas/testsuite/gas/i386/x86-64-property-9.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/x86-64-property-9.s?ref=a308b89de77e782b563fe5f712397848bfd4a897",
      "patch": "@@ -0,0 +1,2 @@\n+\t.text\n+\ttileloaddt1 (%rcx), %tmm5"
    },
    {
      "sha": "6a69a74b6f4c6845c3ac2baf14d4f7ad76ab7ed9",
      "filename": "include/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a308b89de77e782b563fe5f712397848bfd4a897/include/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a308b89de77e782b563fe5f712397848bfd4a897/include/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/include/ChangeLog?ref=a308b89de77e782b563fe5f712397848bfd4a897",
      "patch": "@@ -1,3 +1,7 @@\n+2020-07-11  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\t* elf/common.h (GNU_PROPERTY_X86_FEATURE_2_TMM): New.\n+\n 2020-07-09  John Baldwin  <jhb@FreeBSD.org>\n \n \t* elf/common.h (AT_FREEBSD_ARGC, AT_FREEBSD_ARGV, AT_FREEBSD_ENVC)"
    },
    {
      "sha": "2138868c9b90a82a04af6bb63057a201a47ce610",
      "filename": "include/elf/common.h",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a308b89de77e782b563fe5f712397848bfd4a897/include/elf/common.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a308b89de77e782b563fe5f712397848bfd4a897/include/elf/common.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/include/elf/common.h?ref=a308b89de77e782b563fe5f712397848bfd4a897",
      "patch": "@@ -846,6 +846,7 @@\n #define GNU_PROPERTY_X86_FEATURE_2_XSAVE\t(1U << 7)\n #define GNU_PROPERTY_X86_FEATURE_2_XSAVEOPT\t(1U << 8)\n #define GNU_PROPERTY_X86_FEATURE_2_XSAVEC\t(1U << 9)\n+#define GNU_PROPERTY_X86_FEATURE_2_TMM\t\t(1U << 10)\n \n /* AArch64 specific GNU PROPERTY.  */\n #define GNU_PROPERTY_AARCH64_FEATURE_1_AND\t0xc0000000"
    }
  ]
}