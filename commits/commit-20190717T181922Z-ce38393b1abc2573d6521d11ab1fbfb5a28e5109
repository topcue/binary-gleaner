{
  "sha": "ce38393b1abc2573d6521d11ab1fbfb5a28e5109",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6Y2UzODM5M2IxYWJjMjU3M2Q2NTIxZDExYWIxZmJmYjVhMjhlNTEwOQ==",
  "commit": {
    "author": {
      "name": "Tom Tromey",
      "email": "tom@tromey.com",
      "date": "2019-07-02T21:48:59Z"
    },
    "committer": {
      "name": "Tom Tromey",
      "email": "tom@tromey.com",
      "date": "2019-07-17T18:19:22Z"
    },
    "message": "Move TUI command window code\n\nLike the earlier change to the data window, this moves the TUI command\nwindow code to tui-command.[ch], and removes the old \"structuring\"\ncomments from tui-command.c.\n\ngdb/ChangeLog\n2019-07-17  Tom Tromey  <tom@tromey.com>\n\n\t* tui/tui.c: Update.\n\t* tui/tui-win.c (tui_cmd_window::do_make_visible_with_new_height)\n\t(tui_cmd_window::max_height): Move to tui-command.c.\n\t* tui/tui-layout.c: Update.\n\t* tui/tui-data.h (struct tui_cmd_window): Move to tui-command.h.\n\t* tui/tui-data.c (tui_cmd_window::clear_detail): Move to\n\ttui-command.c.\n\t* tui/tui-command.h (struct tui_cmd_window): Move from\n\ttui-data.h.\n\t* tui/tui-command.c: Remove \"structuring\" comments.\n\t(tui_cmd_window::clear_detail)\n\t(tui_cmd_window::do_make_visible_with_new_height)\n\t(tui_cmd_window::max_height): Move from elsewhere.",
    "tree": {
      "sha": "1101f7c88c15f39728a9af09c781b0e83af3c523",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/1101f7c88c15f39728a9af09c781b0e83af3c523"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/ce38393b1abc2573d6521d11ab1fbfb5a28e5109",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/ce38393b1abc2573d6521d11ab1fbfb5a28e5109",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/ce38393b1abc2573d6521d11ab1fbfb5a28e5109",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/ce38393b1abc2573d6521d11ab1fbfb5a28e5109/comments",
  "author": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "2d8b51cba307333b6a068296d9668cd01164de28",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/2d8b51cba307333b6a068296d9668cd01164de28",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/2d8b51cba307333b6a068296d9668cd01164de28"
    }
  ],
  "stats": {
    "total": 177,
    "additions": 96,
    "deletions": 81
  },
  "files": [
    {
      "sha": "ae1577259a09d9ce673d8298afd530a36ca81d3d",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 16,
      "deletions": 0,
      "changes": 16,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ce38393b1abc2573d6521d11ab1fbfb5a28e5109/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ce38393b1abc2573d6521d11ab1fbfb5a28e5109/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=ce38393b1abc2573d6521d11ab1fbfb5a28e5109",
      "patch": "@@ -1,3 +1,19 @@\n+2019-07-17  Tom Tromey  <tom@tromey.com>\n+\n+\t* tui/tui.c: Update.\n+\t* tui/tui-win.c (tui_cmd_window::do_make_visible_with_new_height)\n+\t(tui_cmd_window::max_height): Move to tui-command.c.\n+\t* tui/tui-layout.c: Update.\n+\t* tui/tui-data.h (struct tui_cmd_window): Move to tui-command.h.\n+\t* tui/tui-data.c (tui_cmd_window::clear_detail): Move to\n+\ttui-command.c.\n+\t* tui/tui-command.h (struct tui_cmd_window): Move from\n+\ttui-data.h.\n+\t* tui/tui-command.c: Remove \"structuring\" comments.\n+\t(tui_cmd_window::clear_detail)\n+\t(tui_cmd_window::do_make_visible_with_new_height)\n+\t(tui_cmd_window::max_height): Move from elsewhere.\n+\n 2019-07-17  Tom Tromey  <tom@tromey.com>\n \n \t* tui/tui-io.c (tui_dispatch_ctrl_char): Move from tui-command.c."
    },
    {
      "sha": "5af3484b9ece44902c1d60e6c154441dd37252a5",
      "filename": "gdb/tui/tui-command.c",
      "status": "modified",
      "additions": 25,
      "deletions": 6,
      "changes": 31,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ce38393b1abc2573d6521d11ab1fbfb5a28e5109/gdb/tui/tui-command.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ce38393b1abc2573d6521d11ab1fbfb5a28e5109/gdb/tui/tui-command.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/tui/tui-command.c?ref=ce38393b1abc2573d6521d11ab1fbfb5a28e5109",
      "patch": "@@ -27,15 +27,34 @@\n #include \"tui/tui-command.h\"\n \n #include \"gdb_curses.h\"\n-/*****************************************\n-** STATIC LOCAL FUNCTIONS FORWARD DECLS    **\n-******************************************/\n \n+/* See tui-command.h.  */\n+\n+void\n+tui_cmd_window::clear_detail ()\n+{\n+  wmove (handle, 0, 0);\n+}\n+\n+/* See tui-command.h.  */\n \n+void\n+tui_cmd_window::do_make_visible_with_new_height ()\n+{\n+#ifdef HAVE_WRESIZE\n+  wresize (handle, height, width);\n+#endif\n+  mvwin (handle, origin.y, origin.x);\n+  wmove (handle, 0, 0);\n+}\n \n-/*****************************************\n-** PUBLIC FUNCTIONS                        **\n-******************************************/\n+/* See tui-command.h.  */\n+\n+int\n+tui_cmd_window::max_height () const\n+{\n+  return tui_term_height () - 4;\n+}\n \n /* See tui-command.h.  */\n "
    },
    {
      "sha": "d2a8ab1903a89f34399c2d06fee915e7ba7d39d4",
      "filename": "gdb/tui/tui-command.h",
      "status": "modified",
      "additions": 50,
      "deletions": 0,
      "changes": 50,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ce38393b1abc2573d6521d11ab1fbfb5a28e5109/gdb/tui/tui-command.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ce38393b1abc2573d6521d11ab1fbfb5a28e5109/gdb/tui/tui-command.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/tui/tui-command.h?ref=ce38393b1abc2573d6521d11ab1fbfb5a28e5109",
      "patch": "@@ -22,6 +22,56 @@\n #ifndef TUI_TUI_COMMAND_H\n #define TUI_TUI_COMMAND_H\n \n+#include \"tui/tui-data.h\"\n+\n+/* The TUI command window.  */\n+struct tui_cmd_window : public tui_win_info\n+{\n+  tui_cmd_window ()\n+    : tui_win_info (CMD_WIN)\n+  {\n+    can_highlight = false;\n+  }\n+\n+  DISABLE_COPY_AND_ASSIGN (tui_cmd_window);\n+\n+  void clear_detail () override;\n+\n+  void make_visible (bool visible) override\n+  {\n+  }\n+\n+  int max_height () const override;\n+\n+  void refresh_window () override\n+  {\n+  }\n+\n+  const char *name () const override\n+  {\n+    return CMD_NAME;\n+  }\n+\n+  bool can_scroll () const override\n+  {\n+    return false;\n+  }\n+\n+  int start_line = 0;\n+\n+protected:\n+\n+  void do_scroll_vertical (int num_to_scroll) override\n+  {\n+  }\n+\n+  void do_scroll_horizontal (int num_to_scroll) override\n+  {\n+  }\n+\n+  void do_make_visible_with_new_height () override;\n+};\n+\n /* Refresh the command window.  */\n extern void tui_refresh_cmd_win (void);\n "
    },
    {
      "sha": "5e755168827c8b85cf900a04e0c630254fb34cf9",
      "filename": "gdb/tui/tui-data.c",
      "status": "modified",
      "additions": 0,
      "deletions": 8,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ce38393b1abc2573d6521d11ab1fbfb5a28e5109/gdb/tui/tui-data.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ce38393b1abc2573d6521d11ab1fbfb5a28e5109/gdb/tui/tui-data.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/tui/tui-data.c?ref=ce38393b1abc2573d6521d11ab1fbfb5a28e5109",
      "patch": "@@ -150,14 +150,6 @@ tui_source_window_base::clear_detail ()\n   horizontal_offset = 0;\n }\n \n-/* See tui-data.h.  */\n-\n-void\n-tui_cmd_window::clear_detail ()\n-{\n-  wmove (handle, 0, 0);\n-}\n-\n /* Accessor for the locator win info.  Answers a pointer to the static\n    locator win info struct.  */\n struct tui_locator_window *"
    },
    {
      "sha": "a847f2ada936f89c2cef94a58bca2a3bf6d632ee",
      "filename": "gdb/tui/tui-data.h",
      "status": "modified",
      "additions": 2,
      "deletions": 47,
      "changes": 49,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ce38393b1abc2573d6521d11ab1fbfb5a28e5109/gdb/tui/tui-data.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ce38393b1abc2573d6521d11ab1fbfb5a28e5109/gdb/tui/tui-data.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/tui/tui-data.h?ref=ce38393b1abc2573d6521d11ab1fbfb5a28e5109",
      "patch": "@@ -26,6 +26,8 @@\n #include \"gdb_curses.h\"\t/* For WINDOW.  */\n #include \"observable.h\"\n \n+struct tui_cmd_window;\n+\n /* This is a point definition.  */\n struct tui_point\n {\n@@ -454,53 +456,6 @@ struct tui_disasm_window : public tui_source_window_base\n   void do_scroll_vertical (int num_to_scroll) override;\n };\n \n-struct tui_cmd_window : public tui_win_info\n-{\n-  tui_cmd_window ()\n-    : tui_win_info (CMD_WIN)\n-  {\n-    can_highlight = false;\n-  }\n-\n-  DISABLE_COPY_AND_ASSIGN (tui_cmd_window);\n-\n-  void clear_detail () override;\n-\n-  void make_visible (bool visible) override\n-  {\n-  }\n-\n-  int max_height () const override;\n-\n-  void refresh_window () override\n-  {\n-  }\n-\n-  const char *name () const override\n-  {\n-    return CMD_NAME;\n-  }\n-\n-  bool can_scroll () const override\n-  {\n-    return false;\n-  }\n-\n-  int start_line = 0;\n-\n-protected:\n-\n-  void do_scroll_vertical (int num_to_scroll) override\n-  {\n-  }\n-\n-  void do_scroll_horizontal (int num_to_scroll) override\n-  {\n-  }\n-\n-  void do_make_visible_with_new_height () override;\n-};\n-\n extern int tui_win_is_auxiliary (enum tui_win_type win_type);\n \n "
    },
    {
      "sha": "2e67ed15238b6638807d0aa035a995004b37097a",
      "filename": "gdb/tui/tui-layout.c",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ce38393b1abc2573d6521d11ab1fbfb5a28e5109/gdb/tui/tui-layout.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ce38393b1abc2573d6521d11ab1fbfb5a28e5109/gdb/tui/tui-layout.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/tui/tui-layout.c?ref=ce38393b1abc2573d6521d11ab1fbfb5a28e5109",
      "patch": "@@ -28,6 +28,7 @@\n #include <ctype.h>\n \n #include \"tui/tui.h\"\n+#include \"tui/tui-command.h\"\n #include \"tui/tui-data.h\"\n #include \"tui/tui-wingeneral.h\"\n #include \"tui/tui-stack.h\""
    },
    {
      "sha": "124fdb11c7e6153af9444e27665f9ae67a62044b",
      "filename": "gdb/tui/tui-win.c",
      "status": "modified",
      "additions": 1,
      "deletions": 20,
      "changes": 21,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ce38393b1abc2573d6521d11ab1fbfb5a28e5109/gdb/tui/tui-win.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ce38393b1abc2573d6521d11ab1fbfb5a28e5109/gdb/tui/tui-win.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/tui/tui-win.c?ref=ce38393b1abc2573d6521d11ab1fbfb5a28e5109",
      "patch": "@@ -36,6 +36,7 @@\n \n #include \"tui/tui.h\"\n #include \"tui/tui-io.h\"\n+#include \"tui/tui-command.h\"\n #include \"tui/tui-data.h\"\n #include \"tui/tui-wingeneral.h\"\n #include \"tui/tui-stack.h\"\n@@ -1319,32 +1320,12 @@ tui_source_window_base::do_make_visible_with_new_height ()\n \n /* See tui-data.h.  */\n \n-void\n-tui_cmd_window::do_make_visible_with_new_height ()\n-{\n-#ifdef HAVE_WRESIZE\n-  wresize (handle, height, width);\n-#endif\n-  mvwin (handle, origin.y, origin.x);\n-  wmove (handle, 0, 0);\n-}\n-\n-/* See tui-data.h.  */\n-\n int\n tui_win_info::max_height () const\n {\n   return tui_term_height () - 2;\n }\n \n-/* See tui-data.h.  */\n-\n-int\n-tui_cmd_window::max_height () const\n-{\n-  return tui_term_height () - 4;\n-}\n-\n static int\n new_height_ok (struct tui_win_info *primary_win_info, \n \t       int new_height)"
    },
    {
      "sha": "22de9a70b82af73454a47190edffadf19332d386",
      "filename": "gdb/tui/tui.c",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ce38393b1abc2573d6521d11ab1fbfb5a28e5109/gdb/tui/tui.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ce38393b1abc2573d6521d11ab1fbfb5a28e5109/gdb/tui/tui.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/tui/tui.c?ref=ce38393b1abc2573d6521d11ab1fbfb5a28e5109",
      "patch": "@@ -23,6 +23,7 @@\n #include \"gdbcmd.h\"\n #include \"tui/tui.h\"\n #include \"tui/tui-hooks.h\"\n+#include \"tui/tui-command.h\"\n #include \"tui/tui-data.h\"\n #include \"tui/tui-layout.h\"\n #include \"tui/tui-io.h\""
    }
  ]
}