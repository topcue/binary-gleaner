{
  "sha": "b396d3a16efd205e4adceec4fe39153a1196a15a",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YjM5NmQzYTE2ZWZkMjA1ZTRhZGNlZWM0ZmUzOTE1M2ExMTk2YTE1YQ==",
  "commit": {
    "author": {
      "name": "Tom Tromey",
      "email": "tom@tromey.com",
      "date": "2021-04-23T01:51:54Z"
    },
    "committer": {
      "name": "Tom Tromey",
      "email": "tom@tromey.com",
      "date": "2021-04-23T01:51:54Z"
    },
    "message": "Introduce stamp file for hw-config.h\n\nThis adds a stamp file for hw-config.h, to avoid unnecessary rebuilds.\nIt also arranges to remove hw-config.h in \"mostlyclean\", because the\nfile is created by \"make\".\n\nsim/common/ChangeLog\n2021-04-22  Tom Tromey  <tom@tromey.com>\n\n\t* Make-common.in (stamp-hw): New target.\n\t(hw-config.h): Depend on stamp-hw.\n\t(mostlyclean): Remove stamp-hw and hw-config.h.",
    "tree": {
      "sha": "d393acde622600855f0b6c519c21c96bd576c0eb",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/d393acde622600855f0b6c519c21c96bd576c0eb"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/b396d3a16efd205e4adceec4fe39153a1196a15a",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/b396d3a16efd205e4adceec4fe39153a1196a15a",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/b396d3a16efd205e4adceec4fe39153a1196a15a",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/b396d3a16efd205e4adceec4fe39153a1196a15a/comments",
  "author": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "be866656a017ef667a775f89f95b96e36f9738ab",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/be866656a017ef667a775f89f95b96e36f9738ab",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/be866656a017ef667a775f89f95b96e36f9738ab"
    }
  ],
  "stats": {
    "total": 13,
    "additions": 11,
    "deletions": 2
  },
  "files": [
    {
      "sha": "f4225f92d677066e63950dc37273a13b75001581",
      "filename": "sim/common/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b396d3a16efd205e4adceec4fe39153a1196a15a/sim/common/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b396d3a16efd205e4adceec4fe39153a1196a15a/sim/common/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/common/ChangeLog?ref=b396d3a16efd205e4adceec4fe39153a1196a15a",
      "patch": "@@ -1,3 +1,9 @@\n+2021-04-22  Tom Tromey  <tom@tromey.com>\n+\n+\t* Make-common.in (stamp-hw): New target.\n+\t(hw-config.h): Depend on stamp-hw.\n+\t(mostlyclean): Remove stamp-hw and hw-config.h.\n+\n 2021-04-22  Tom Tromey  <tom@tromey.com>\n \n \t* Make-common.in (mostlyclean): Now an alias for clean, not"
    },
    {
      "sha": "ed3b171a6bfc568d687d088b6ce777bc3442abb8",
      "filename": "sim/common/Make-common.in",
      "status": "modified",
      "additions": 5,
      "deletions": 2,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b396d3a16efd205e4adceec4fe39153a1196a15a/sim/common/Make-common.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b396d3a16efd205e4adceec4fe39153a1196a15a/sim/common/Make-common.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/common/Make-common.in?ref=b396d3a16efd205e4adceec4fe39153a1196a15a",
      "patch": "@@ -437,7 +437,8 @@ $(all_object_files) : $(generated_files)\n @GMAKE_TRUE@-include $(patsubst %.o, $(DEPDIR)/%.Po, $(all_object_files))\n \n # FIXME This is one very simple-minded way of generating the file hw-config.h\n-hw-config.h: Makefile.in $(srccom)/Make-common.in config.status Makefile\n+hw-config.h: stamp-hw ; @true\n+stamp-hw: Makefile.in $(srccom)/Make-common.in config.status Makefile\n \trm -f tmp-hw.h\n \techo \"/* generated by Makefile */\" > tmp-hw.h\n \tsim_hw=\"$(SIM_HW)\"; \\\n@@ -451,7 +452,8 @@ hw-config.h: Makefile.in $(srccom)/Make-common.in config.status Makefile\n \tdone >> tmp-hw.h\n \techo \"  NULL,\" >> tmp-hw.h\n \techo \"};\" >> tmp-hw.h\n-\tmv tmp-hw.h hw-config.h\n+\t$(SHELL) $(srcroot)/move-if-change tmp-hw.h hw-config.h\n+\t@echo stamp > stamp-hw\n \n test-hw-events: $(srccom)/hw-events.c libsim.a\n \t$(CC) $(ALL_CFLAGS) -DMAIN -o test-hw-events$(EXEEXT) \\\n@@ -506,6 +508,7 @@ TAGS: force\n mostlyclean clean: $(SIM_EXTRA_CLEAN)\n \trm -f *.[oa] *~ core\n \trm -f run$(EXEEXT) libsim.a\n+\trm -f hw-config.h stamp-hw\n \trm -f gentmap targ-map.c targ-vals.h stamp-tvals\n \tif [ ! -f Make-common.in ] ; then \\\n \t\trm -f $(BUILT_SRC_FROM_COMMON) ; \\"
    }
  ]
}