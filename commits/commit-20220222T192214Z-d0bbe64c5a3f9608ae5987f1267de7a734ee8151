{
  "sha": "d0bbe64c5a3f9608ae5987f1267de7a734ee8151",
  "node_id": "C_kwDOANOeidoAKGQwYmJlNjRjNWEzZjk2MDhhZTU5ODdmMTI2N2RlN2E3MzRlZTgxNTE",
  "commit": {
    "author": {
      "name": "John Baldwin",
      "email": "jhb@FreeBSD.org",
      "date": "2022-02-22T19:22:14Z"
    },
    "committer": {
      "name": "John Baldwin",
      "email": "jhb@FreeBSD.org",
      "date": "2022-02-22T19:22:14Z"
    },
    "message": "fbsd-nat: Return nullptr rather than failing ::thread_name.\n\nptrace on FreeBSD cannot be used against running processes and instead\nfails with EBUSY.  This meant that 'info threads' would fail if any of\nthe threads were running (for example when using schedule-multiple=on\nin gdb.base/fork-running-state.exp).  Instead of throwing errors, just\nreturn nullptr as no thread name is better than causing info threads to\nfail completely.",
    "tree": {
      "sha": "0960d288fdfed3bcd112876bed7889028b1fa41d",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/0960d288fdfed3bcd112876bed7889028b1fa41d"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/d0bbe64c5a3f9608ae5987f1267de7a734ee8151",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/d0bbe64c5a3f9608ae5987f1267de7a734ee8151",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/d0bbe64c5a3f9608ae5987f1267de7a734ee8151",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/d0bbe64c5a3f9608ae5987f1267de7a734ee8151/comments",
  "author": {
    "login": "bsdjhb",
    "id": 8976613,
    "node_id": "MDQ6VXNlcjg5NzY2MTM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8976613?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bsdjhb",
    "html_url": "https://github.com/bsdjhb",
    "followers_url": "https://api.github.com/users/bsdjhb/followers",
    "following_url": "https://api.github.com/users/bsdjhb/following{/other_user}",
    "gists_url": "https://api.github.com/users/bsdjhb/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bsdjhb/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bsdjhb/subscriptions",
    "organizations_url": "https://api.github.com/users/bsdjhb/orgs",
    "repos_url": "https://api.github.com/users/bsdjhb/repos",
    "events_url": "https://api.github.com/users/bsdjhb/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bsdjhb/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "bsdjhb",
    "id": 8976613,
    "node_id": "MDQ6VXNlcjg5NzY2MTM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8976613?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bsdjhb",
    "html_url": "https://github.com/bsdjhb",
    "followers_url": "https://api.github.com/users/bsdjhb/followers",
    "following_url": "https://api.github.com/users/bsdjhb/following{/other_user}",
    "gists_url": "https://api.github.com/users/bsdjhb/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bsdjhb/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bsdjhb/subscriptions",
    "organizations_url": "https://api.github.com/users/bsdjhb/orgs",
    "repos_url": "https://api.github.com/users/bsdjhb/repos",
    "events_url": "https://api.github.com/users/bsdjhb/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bsdjhb/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "1188bfcfa981fd0f5007d667f9caefc24b8c7718",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/1188bfcfa981fd0f5007d667f9caefc24b8c7718",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/1188bfcfa981fd0f5007d667f9caefc24b8c7718"
    }
  ],
  "stats": {
    "total": 4,
    "additions": 2,
    "deletions": 2
  },
  "files": [
    {
      "sha": "cea3ce7d3840ec159e05086a9a7cb3df14d413f2",
      "filename": "gdb/fbsd-nat.c",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/d0bbe64c5a3f9608ae5987f1267de7a734ee8151/gdb/fbsd-nat.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/d0bbe64c5a3f9608ae5987f1267de7a734ee8151/gdb/fbsd-nat.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/fbsd-nat.c?ref=d0bbe64c5a3f9608ae5987f1267de7a734ee8151",
      "patch": "@@ -819,9 +819,9 @@ fbsd_nat_target::thread_name (struct thread_info *thr)\n      if a name has not been set explicitly.  Return a NULL name in\n      that case.  */\n   if (!fbsd_fetch_kinfo_proc (pid, &kp))\n-    perror_with_name (_(\"Failed to fetch process information\"));\n+    return nullptr;\n   if (ptrace (PT_LWPINFO, lwp, (caddr_t) &pl, sizeof pl) == -1)\n-    perror_with_name ((\"ptrace (PT_LWPINFO)\"));\n+    return nullptr;\n   if (strcmp (kp.ki_comm, pl.pl_tdname) == 0)\n     return NULL;\n   xsnprintf (buf, sizeof buf, \"%s\", pl.pl_tdname);"
    }
  ]
}