{
  "sha": "6d94535fc68e1fd06816c5685166ebcec56119ce",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NmQ5NDUzNWZjNjhlMWZkMDY4MTZjNTY4NTE2NmViY2VjNTYxMTljZQ==",
  "commit": {
    "author": {
      "name": "Tom Tromey",
      "email": "tom@tromey.com",
      "date": "2019-10-22T22:47:27Z"
    },
    "committer": {
      "name": "Tom Tromey",
      "email": "tom@tromey.com",
      "date": "2020-01-26T23:40:21Z"
    },
    "message": "Change some psymtab fields to bool\n\nThis changes a few fields in partial_symtab to have type bool.\n\ngdb/ChangeLog\n2020-01-26  Tom Tromey  <tom@tromey.com>\n\n\t* xcoffread.c (xcoff_psymtab_to_symtab_1): Update.\n\t* psymtab.c (psym_print_stats): Update.\n\t* psympriv.h (struct partial_symtab) <readin,\n\tpsymtabs_addrmap_supported, anonymous>: Now bool.\n\t* mdebugread.c (psymtab_to_symtab_1): Update.\n\t* dwarf2read.c (create_type_unit_group, create_partial_symtab)\n\t(build_type_psymtabs_reader, psymtab_to_symtab_1)\n\t(process_full_comp_unit, process_full_type_unit): Update.\n\t* dbxread.c (dbx_psymtab_to_symtab_1): Update.\n\t* ctfread.c (psymtab_to_symtab): Update.\n\nChange-Id: I206761d083493589049ea0bc785ed6542339234d",
    "tree": {
      "sha": "1d799652296048be6aa06b923cc4a2520bc653d6",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/1d799652296048be6aa06b923cc4a2520bc653d6"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/6d94535fc68e1fd06816c5685166ebcec56119ce",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/6d94535fc68e1fd06816c5685166ebcec56119ce",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/6d94535fc68e1fd06816c5685166ebcec56119ce",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/6d94535fc68e1fd06816c5685166ebcec56119ce/comments",
  "author": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "6f17252b76dbe8bedd32b6df6ce52af707bfb04b",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/6f17252b76dbe8bedd32b6df6ce52af707bfb04b",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/6f17252b76dbe8bedd32b6df6ce52af707bfb04b"
    }
  ],
  "stats": {
    "total": 47,
    "additions": 30,
    "deletions": 17
  },
  "files": [
    {
      "sha": "345a81c935df05a2a0fa08ee78765443fce2383a",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 13,
      "deletions": 0,
      "changes": 13,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6d94535fc68e1fd06816c5685166ebcec56119ce/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6d94535fc68e1fd06816c5685166ebcec56119ce/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=6d94535fc68e1fd06816c5685166ebcec56119ce",
      "patch": "@@ -1,3 +1,16 @@\n+2020-01-26  Tom Tromey  <tom@tromey.com>\n+\n+\t* xcoffread.c (xcoff_psymtab_to_symtab_1): Update.\n+\t* psymtab.c (psym_print_stats): Update.\n+\t* psympriv.h (struct partial_symtab) <readin,\n+\tpsymtabs_addrmap_supported, anonymous>: Now bool.\n+\t* mdebugread.c (psymtab_to_symtab_1): Update.\n+\t* dwarf2read.c (create_type_unit_group, create_partial_symtab)\n+\t(build_type_psymtabs_reader, psymtab_to_symtab_1)\n+\t(process_full_comp_unit, process_full_type_unit): Update.\n+\t* dbxread.c (dbx_psymtab_to_symtab_1): Update.\n+\t* ctfread.c (psymtab_to_symtab): Update.\n+\n 2020-01-26  Tom Tromey  <tom@tromey.com>\n \n \t* mdebugread.c (parse_partial_symbols): Use discard_psymtab."
    },
    {
      "sha": "c41d96f3e587b68fdbf362a007e6fc5921492455",
      "filename": "gdb/ctfread.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6d94535fc68e1fd06816c5685166ebcec56119ce/gdb/ctfread.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6d94535fc68e1fd06816c5685166ebcec56119ce/gdb/ctfread.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ctfread.c?ref=6d94535fc68e1fd06816c5685166ebcec56119ce",
      "patch": "@@ -1241,7 +1241,7 @@ psymtab_to_symtab (struct partial_symtab *pst)\n       set_symbol_address (ccp->of, sym, sym->linkage_name ());\n     }\n \n-  pst->readin = 1;\n+  pst->readin = true;\n }\n \n /* Expand partial symbol table PST into a full symbol table."
    },
    {
      "sha": "d4d7901e914885b404f08a06a371acb2989cc09d",
      "filename": "gdb/dbxread.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6d94535fc68e1fd06816c5685166ebcec56119ce/gdb/dbxread.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6d94535fc68e1fd06816c5685166ebcec56119ce/gdb/dbxread.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/dbxread.c?ref=6d94535fc68e1fd06816c5685166ebcec56119ce",
      "patch": "@@ -2108,7 +2108,7 @@ dbx_psymtab_to_symtab_1 (struct objfile *objfile, struct partial_symtab *pst)\n       read_ofile_symtab (objfile, pst);\n     }\n \n-  pst->readin = 1;\n+  pst->readin = true;\n }\n \n /* Read in all of the symbols for a given psymtab for real."
    },
    {
      "sha": "63944105edc1d88c059e1df63906b6b015159ade",
      "filename": "gdb/dwarf2read.c",
      "status": "modified",
      "additions": 6,
      "deletions": 6,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6d94535fc68e1fd06816c5685166ebcec56119ce/gdb/dwarf2read.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6d94535fc68e1fd06816c5685166ebcec56119ce/gdb/dwarf2read.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/dwarf2read.c?ref=6d94535fc68e1fd06816c5685166ebcec56119ce",
      "patch": "@@ -7945,7 +7945,7 @@ create_type_unit_group (struct dwarf2_cu *cu, sect_offset line_offset_struct)\n \tname = string_printf (\"<type_units_at_0x%x>\", line_offset);\n \n       pst = create_partial_symtab (per_cu, name.c_str ());\n-      pst->anonymous = 1;\n+      pst->anonymous = true;\n     }\n \n   tu_group->hash.dwo_unit = cu->dwo_unit;\n@@ -8029,7 +8029,7 @@ create_partial_symtab (struct dwarf2_per_cu_data *per_cu, const char *name)\n \n   pst = start_psymtab_common (objfile, name, 0);\n \n-  pst->psymtabs_addrmap_supported = 1;\n+  pst->psymtabs_addrmap_supported = true;\n \n   /* This is the glue that links PST into GDB's symbol API.  */\n   pst->read_symtab_private = per_cu;\n@@ -8241,7 +8241,7 @@ build_type_psymtabs_reader (const struct die_reader_specs *reader,\n \n   prepare_one_comp_unit (cu, type_unit_die, language_minimal);\n   pst = create_partial_symtab (per_cu, \"\");\n-  pst->anonymous = 1;\n+  pst->anonymous = true;\n \n   first_die = load_partial_dies (reader, info_ptr, 1);\n \n@@ -9720,7 +9720,7 @@ psymtab_to_symtab_1 (struct partial_symtab *pst)\n     {\n       /* It's an include file, no symbols to read for it.\n          Everything is in the parent symtab.  */\n-      pst->readin = 1;\n+      pst->readin = true;\n       return;\n     }\n \n@@ -10479,7 +10479,7 @@ process_full_comp_unit (struct dwarf2_per_cu_data *per_cu,\n     {\n       struct partial_symtab *pst = per_cu->v.psymtab;\n       pst->compunit_symtab = cust;\n-      pst->readin = 1;\n+      pst->readin = true;\n     }\n \n   /* Push it for inclusion processing later.  */\n@@ -10559,7 +10559,7 @@ process_full_type_unit (struct dwarf2_per_cu_data *per_cu,\n     {\n       struct partial_symtab *pst = per_cu->v.psymtab;\n       pst->compunit_symtab = cust;\n-      pst->readin = 1;\n+      pst->readin = true;\n     }\n \n   /* Not needed any more.  */"
    },
    {
      "sha": "f28c0b25cbfc6f71cb21fa8d9f3976c90862346a",
      "filename": "gdb/mdebugread.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6d94535fc68e1fd06816c5685166ebcec56119ce/gdb/mdebugread.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6d94535fc68e1fd06816c5685166ebcec56119ce/gdb/mdebugread.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/mdebugread.c?ref=6d94535fc68e1fd06816c5685166ebcec56119ce",
      "patch": "@@ -3862,7 +3862,7 @@ psymtab_to_symtab_1 (struct objfile *objfile,\n \n   if (pst->readin)\n     return;\n-  pst->readin = 1;\n+  pst->readin = true;\n \n   /* Read in all partial symtabs on which this one is dependent.\n      NOTE that we do have circular dependencies, sigh.  We solved"
    },
    {
      "sha": "ce28112439caf4c94295ebd2dc2fa606fa70fa9f",
      "filename": "gdb/psympriv.h",
      "status": "modified",
      "additions": 6,
      "deletions": 6,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6d94535fc68e1fd06816c5685166ebcec56119ce/gdb/psympriv.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6d94535fc68e1fd06816c5685166ebcec56119ce/gdb/psympriv.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/psympriv.h?ref=6d94535fc68e1fd06816c5685166ebcec56119ce",
      "patch": "@@ -239,21 +239,21 @@ struct partial_symtab\n   int statics_offset = 0;\n   int n_static_syms = 0;\n \n-  /* Non-zero if the symtab corresponding to this psymtab has been\n-     readin.  This is located here so that this structure packs better\n-     on 64-bit systems.  */\n+  /* True if the symtab corresponding to this psymtab has been readin.\n+     This is located here so that this structure packs better on\n+     64-bit systems.  */\n \n-  unsigned char readin = 0;\n+  bool readin = false;\n \n   /* True iff objfile->psymtabs_addrmap is properly populated for this\n      partial_symtab.  For discontiguous overlapping psymtabs is the only usable\n      info in PSYMTABS_ADDRMAP.  */\n \n-  unsigned char psymtabs_addrmap_supported = 0;\n+  bool psymtabs_addrmap_supported = false;\n \n   /* True if the name of this partial symtab is not a source file name.  */\n \n-  unsigned char anonymous = 0;\n+  bool anonymous = false;\n \n   /* A flag that is temporarily used when searching psymtabs.  */\n "
    },
    {
      "sha": "037ed19182d1f95a246d56cb196af37f06e89acb",
      "filename": "gdb/psymtab.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6d94535fc68e1fd06816c5685166ebcec56119ce/gdb/psymtab.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6d94535fc68e1fd06816c5685166ebcec56119ce/gdb/psymtab.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/psymtab.c?ref=6d94535fc68e1fd06816c5685166ebcec56119ce",
      "patch": "@@ -1005,7 +1005,7 @@ psym_print_stats (struct objfile *objfile)\n   i = 0;\n   for (partial_symtab *ps : require_partial_symbols (objfile, true))\n     {\n-      if (ps->readin == 0)\n+      if (!ps->readin)\n \ti++;\n     }\n   printf_filtered (_(\"  Number of psym tables (not yet expanded): %d\\n\"), i);"
    },
    {
      "sha": "27e49f755e8674b0e11e3f895c6d58ff2ff4a13f",
      "filename": "gdb/xcoffread.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6d94535fc68e1fd06816c5685166ebcec56119ce/gdb/xcoffread.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6d94535fc68e1fd06816c5685166ebcec56119ce/gdb/xcoffread.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/xcoffread.c?ref=6d94535fc68e1fd06816c5685166ebcec56119ce",
      "patch": "@@ -1859,7 +1859,7 @@ xcoff_psymtab_to_symtab_1 (struct objfile *objfile, struct partial_symtab *pst)\n       read_xcoff_symtab (objfile, pst);\n     }\n \n-  pst->readin = 1;\n+  pst->readin = true;\n }\n \n /* Read in all of the symbols for a given psymtab for real."
    }
  ]
}