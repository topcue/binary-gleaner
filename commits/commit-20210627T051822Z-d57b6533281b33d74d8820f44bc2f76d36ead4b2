{
  "sha": "d57b6533281b33d74d8820f44bc2f76d36ead4b2",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ZDU3YjY1MzMyODFiMzNkNzRkODgyMGY0NGJjMmY3NmQzNmVhZDRiMg==",
  "commit": {
    "author": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-06-26T14:43:27Z"
    },
    "committer": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-06-27T05:18:22Z"
    },
    "message": "sim: bfin: move pkg-config & SDL checks to common code\n\nThis reduces the unique logic in bfin/configure to make it easier to\n(eventually) unify it entirely.",
    "tree": {
      "sha": "1a3c993d8b7969571a6138da19c5f47feb37271e",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/1a3c993d8b7969571a6138da19c5f47feb37271e"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/d57b6533281b33d74d8820f44bc2f76d36ead4b2",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/d57b6533281b33d74d8820f44bc2f76d36ead4b2",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/d57b6533281b33d74d8820f44bc2f76d36ead4b2",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/d57b6533281b33d74d8820f44bc2f76d36ead4b2/comments",
  "author": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "f1fa7a3d88561cef54dd5cf9422c29a802af6ce3",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/f1fa7a3d88561cef54dd5cf9422c29a802af6ce3",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/f1fa7a3d88561cef54dd5cf9422c29a802af6ce3"
    }
  ],
  "stats": {
    "total": 1515,
    "additions": 319,
    "deletions": 1196
  },
  "files": [
    {
      "sha": "84adb1cf644e6bdb86d8b900f07798c74b52e8fd",
      "filename": "sim/ChangeLog",
      "status": "modified",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/d57b6533281b33d74d8820f44bc2f76d36ead4b2/sim/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/d57b6533281b33d74d8820f44bc2f76d36ead4b2/sim/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ChangeLog?ref=d57b6533281b33d74d8820f44bc2f76d36ead4b2",
      "patch": "@@ -1,3 +1,11 @@\n+2021-06-27  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* arch-subdir.mk.in: Move SDL_CFLAGS & SDL_LIBS from bfin/Makefile.in.\n+\t* m4/sim_ac_platform.m4: Call PKG_CHECK_MODULES and export SDL_CFLAGS\n+\tand SDL_LIBS.\n+\t* m4/sim_ac_toolchain.m4: Call PKG_PROG_PKG_CONFIG.\n+\t* aclocal.m4, configure, Makefile.in: Regenerate.\n+\n 2021-06-23  Mike Frysinger  <vapier@gentoo.org>\n \n \t* configure.ac (SIM_BUILD_TARGET): Simplify sed script."
    },
    {
      "sha": "6ac903b9a224ffcc647399ae8c8ae3a6af107048",
      "filename": "sim/Makefile.in",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/d57b6533281b33d74d8820f44bc2f76d36ead4b2/sim/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/d57b6533281b33d74d8820f44bc2f76d36ead4b2/sim/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/Makefile.in?ref=d57b6533281b33d74d8820f44bc2f76d36ead4b2",
      "patch": "@@ -199,6 +199,7 @@ am__aclocal_m4_deps = $(top_srcdir)/../config/acx.m4 \\\n \t$(top_srcdir)/../config/gettext-sister.m4 \\\n \t$(top_srcdir)/../config/lead-dot.m4 \\\n \t$(top_srcdir)/../config/override.m4 \\\n+\t$(top_srcdir)/../config/pkg.m4 \\\n \t$(top_srcdir)/../config/plugins.m4 \\\n \t$(top_srcdir)/../config/zlib.m4 $(top_srcdir)/../libtool.m4 \\\n \t$(top_srcdir)/../ltoptions.m4 $(top_srcdir)/../ltsugar.m4 \\\n@@ -702,11 +703,16 @@ PACKAGE_URL = @PACKAGE_URL@\n PACKAGE_VERSION = @PACKAGE_VERSION@\n PATH_SEPARATOR = @PATH_SEPARATOR@\n PKGVERSION = @PKGVERSION@\n+PKG_CONFIG = @PKG_CONFIG@\n+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@\n+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@\n POSUB = @POSUB@\n RANLIB = @RANLIB@\n RANLIB_FOR_BUILD = @RANLIB_FOR_BUILD@\n REPORT_BUGS_TEXI = @REPORT_BUGS_TEXI@\n REPORT_BUGS_TO = @REPORT_BUGS_TO@\n+SDL_CFLAGS = @SDL_CFLAGS@\n+SDL_LIBS = @SDL_LIBS@\n SED = @SED@\n SET_MAKE = @SET_MAKE@\n SHELL = @SHELL@"
    },
    {
      "sha": "a2b2bae447b8cee611ad784ac85e72496725a991",
      "filename": "sim/aclocal.m4",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/d57b6533281b33d74d8820f44bc2f76d36ead4b2/sim/aclocal.m4",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/d57b6533281b33d74d8820f44bc2f76d36ead4b2/sim/aclocal.m4",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/aclocal.m4?ref=d57b6533281b33d74d8820f44bc2f76d36ead4b2",
      "patch": "@@ -1172,6 +1172,7 @@ m4_include([../config/depstand.m4])\n m4_include([../config/gettext-sister.m4])\n m4_include([../config/lead-dot.m4])\n m4_include([../config/override.m4])\n+m4_include([../config/pkg.m4])\n m4_include([../config/plugins.m4])\n m4_include([../config/zlib.m4])\n m4_include([../libtool.m4])"
    },
    {
      "sha": "0689dbc29ed15e103028661bbe682e234a4d2dc7",
      "filename": "sim/arch-subdir.mk.in",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/d57b6533281b33d74d8820f44bc2f76d36ead4b2/sim/arch-subdir.mk.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/d57b6533281b33d74d8820f44bc2f76d36ead4b2/sim/arch-subdir.mk.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/arch-subdir.mk.in?ref=d57b6533281b33d74d8820f44bc2f76d36ead4b2",
      "patch": "@@ -49,6 +49,8 @@ zlibdir = @zlibdir@\n LIBINTL = @LIBINTL@\n LIBINTL_DEP = @LIBINTL_DEP@\n INTL_CFLAGS = @INCINTL@\n+SDL_CFLAGS = @SDL_CFLAGS@\n+SDL_LIBS = @SDL_LIBS@\n \n COMMON_LIBS = @LIBS@\n WARN_CFLAGS = @WARN_CFLAGS@"
    },
    {
      "sha": "d84d44f8e816f4b1d9dcca1b741e4030ae44d95c",
      "filename": "sim/bfin/ChangeLog",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/d57b6533281b33d74d8820f44bc2f76d36ead4b2/sim/bfin/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/d57b6533281b33d74d8820f44bc2f76d36ead4b2/sim/bfin/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/bfin/ChangeLog?ref=d57b6533281b33d74d8820f44bc2f76d36ead4b2",
      "patch": "@@ -1,3 +1,10 @@\n+2021-06-27  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* Makefile.in: Change to $(SDL_CFLAGS) & $(SDL_LIBS).\n+\t* configure.ac: Delete PKG_PROG_PKG_CONFIG &\n+\tPKG_CHECK_MODULES calls.\n+\t* aclocal.m4, configure: Regenerate.\n+\n 2021-06-24  Mike Frysinger  <vapier@gentoo.org>\n \n \t* interp.c (bfin_syscall): Set sc.arg5 & sc.arg6."
    },
    {
      "sha": "f61e1e1206f0c122fa1fdc271467b4b492f38726",
      "filename": "sim/bfin/Makefile.in",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/d57b6533281b33d74d8820f44bc2f76d36ead4b2/sim/bfin/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/d57b6533281b33d74d8820f44bc2f76d36ead4b2/sim/bfin/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/bfin/Makefile.in?ref=d57b6533281b33d74d8820f44bc2f76d36ead4b2",
      "patch": "@@ -59,8 +59,8 @@ SIM_EXTRA_HW_DEVICES = \\\n \tbfin_wp \\\n \teth_phy\n \n-SIM_EXTRA_CFLAGS = @SDL_CFLAGS@\n-SIM_EXTRA_LIBS = @SDL_LIBS@ -lm\n+SIM_EXTRA_CFLAGS = $(SDL_CFLAGS)\n+SIM_EXTRA_LIBS = $(SDL_LIBS) -lm\n \n ## COMMON_POST_CONFIG_FRAG\n "
    },
    {
      "sha": "bdbe880552f7e200bf1595b7f4c9a6ba03d78981",
      "filename": "sim/bfin/aclocal.m4",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/d57b6533281b33d74d8820f44bc2f76d36ead4b2/sim/bfin/aclocal.m4",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/d57b6533281b33d74d8820f44bc2f76d36ead4b2/sim/bfin/aclocal.m4",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/bfin/aclocal.m4?ref=d57b6533281b33d74d8820f44bc2f76d36ead4b2",
      "patch": "@@ -12,6 +12,5 @@\n # PARTICULAR PURPOSE.\n \n m4_ifndef([AC_CONFIG_MACRO_DIRS], [m4_defun([_AM_CONFIG_MACRO_DIRS], [])m4_defun([AC_CONFIG_MACRO_DIRS], [_AM_CONFIG_MACRO_DIRS($@)])])\n-m4_include([../../config/pkg.m4])\n m4_include([../m4/sim_ac_option_default_model.m4])\n m4_include([../m4/sim_ac_output.m4])"
    },
    {
      "sha": "bed0a3d277c1fdc2aa3954a91cd28b7ba15b9da2",
      "filename": "sim/bfin/configure",
      "status": "modified",
      "additions": 1,
      "deletions": 1180,
      "changes": 1181,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/d57b6533281b33d74d8820f44bc2f76d36ead4b2/sim/bfin/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/d57b6533281b33d74d8820f44bc2f76d36ead4b2/sim/bfin/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/bfin/configure?ref=d57b6533281b33d74d8820f44bc2f76d36ead4b2",
      "patch": "@@ -591,18 +591,6 @@ sim_scache\n sim_float\n sim_bitsize\n cgen_breaks\n-OBJEXT\n-EXEEXT\n-ac_ct_CC\n-CPPFLAGS\n-LDFLAGS\n-CFLAGS\n-CC\n-SDL_LIBS\n-SDL_CFLAGS\n-PKG_CONFIG_LIBDIR\n-PKG_CONFIG_PATH\n-PKG_CONFIG\n target_alias\n host_alias\n build_alias\n@@ -649,17 +637,7 @@ enable_sim_default_model\n '\n       ac_precious_vars='build_alias\n host_alias\n-target_alias\n-PKG_CONFIG\n-PKG_CONFIG_PATH\n-PKG_CONFIG_LIBDIR\n-SDL_CFLAGS\n-SDL_LIBS\n-CC\n-CFLAGS\n-LDFLAGS\n-LIBS\n-CPPFLAGS'\n+target_alias'\n \n \n # Initialize some variables set by options.\n@@ -1270,25 +1248,6 @@ Optional Features:\n   --enable-sim-default-model=model\n                           Specify default model to simulate\n \n-Some influential environment variables:\n-  PKG_CONFIG  path to pkg-config utility\n-  PKG_CONFIG_PATH\n-              directories to add to pkg-config's search path\n-  PKG_CONFIG_LIBDIR\n-              path overriding pkg-config's built-in search path\n-  SDL_CFLAGS  C compiler flags for SDL, overriding pkg-config\n-  SDL_LIBS    linker flags for SDL, overriding pkg-config\n-  CC          C compiler command\n-  CFLAGS      C compiler flags\n-  LDFLAGS     linker flags, e.g. -L<lib dir> if you have libraries in a\n-              nonstandard directory <lib dir>\n-  LIBS        libraries to pass to the linker, e.g. -l<library>\n-  CPPFLAGS    (Objective) C/C++ preprocessor flags, e.g. -I<include dir> if\n-              you have headers in a nonstandard directory <include dir>\n-\n-Use these variables to override the choices made by `configure' or to help\n-it to find libraries and programs with nonstandard names/locations.\n-\n Report bugs to the package provider.\n _ACEOF\n ac_status=$?\n@@ -1365,90 +1324,6 @@ fi\n ## ------------------------ ##\n ## Autoconf initialization. ##\n ## ------------------------ ##\n-\n-# ac_fn_c_try_compile LINENO\n-# --------------------------\n-# Try to compile conftest.$ac_ext, and return whether this succeeded.\n-ac_fn_c_try_compile ()\n-{\n-  as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n-  rm -f conftest.$ac_objext\n-  if { { ac_try=\"$ac_compile\"\n-case \"(($ac_try\" in\n-  *\\\"* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n-  *) ac_try_echo=$ac_try;;\n-esac\n-eval ac_try_echo=\"\\\"\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\"\"\n-$as_echo \"$ac_try_echo\"; } >&5\n-  (eval \"$ac_compile\") 2>conftest.err\n-  ac_status=$?\n-  if test -s conftest.err; then\n-    grep -v '^ *+' conftest.err >conftest.er1\n-    cat conftest.er1 >&5\n-    mv -f conftest.er1 conftest.err\n-  fi\n-  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n-  test $ac_status = 0; } && {\n-\t test -z \"$ac_c_werror_flag\" ||\n-\t test ! -s conftest.err\n-       } && test -s conftest.$ac_objext; then :\n-  ac_retval=0\n-else\n-  $as_echo \"$as_me: failed program was:\" >&5\n-sed 's/^/| /' conftest.$ac_ext >&5\n-\n-\tac_retval=1\n-fi\n-  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno\n-  as_fn_set_status $ac_retval\n-\n-} # ac_fn_c_try_compile\n-\n-# ac_fn_c_try_link LINENO\n-# -----------------------\n-# Try to link conftest.$ac_ext, and return whether this succeeded.\n-ac_fn_c_try_link ()\n-{\n-  as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n-  rm -f conftest.$ac_objext conftest$ac_exeext\n-  if { { ac_try=\"$ac_link\"\n-case \"(($ac_try\" in\n-  *\\\"* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n-  *) ac_try_echo=$ac_try;;\n-esac\n-eval ac_try_echo=\"\\\"\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\"\"\n-$as_echo \"$ac_try_echo\"; } >&5\n-  (eval \"$ac_link\") 2>conftest.err\n-  ac_status=$?\n-  if test -s conftest.err; then\n-    grep -v '^ *+' conftest.err >conftest.er1\n-    cat conftest.er1 >&5\n-    mv -f conftest.er1 conftest.err\n-  fi\n-  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n-  test $ac_status = 0; } && {\n-\t test -z \"$ac_c_werror_flag\" ||\n-\t test ! -s conftest.err\n-       } && test -s conftest$ac_exeext && {\n-\t test \"$cross_compiling\" = yes ||\n-\t test -x conftest$ac_exeext\n-       }; then :\n-  ac_retval=0\n-else\n-  $as_echo \"$as_me: failed program was:\" >&5\n-sed 's/^/| /' conftest.$ac_ext >&5\n-\n-\tac_retval=1\n-fi\n-  # Delete the IPA/IPO (Inter Procedural Analysis/Optimization) information\n-  # created by the PGI compiler (conftest_ipa8_conftest.oo), as it would\n-  # interfere with the next link command; also delete a directory that is\n-  # left behind by Apple's compiler.  We do this before executing the actions.\n-  rm -rf conftest.dSYM conftest_ipa8_conftest.oo\n-  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno\n-  as_fn_set_status $ac_retval\n-\n-} # ac_fn_c_try_link\n cat >config.log <<_ACEOF\n This file contains any messages produced by compilers while\n running configure, to aid debugging if configure makes a mistake.\n@@ -1820,1060 +1695,6 @@ fi\n \n \n \n-\n-\n-\n-\n-\n-\n-\n-if test \"x$ac_cv_env_PKG_CONFIG_set\" != \"xset\"; then\n-\tif test -n \"$ac_tool_prefix\"; then\n-  # Extract the first word of \"${ac_tool_prefix}pkg-config\", so it can be a program name with args.\n-set dummy ${ac_tool_prefix}pkg-config; ac_word=$2\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n-$as_echo_n \"checking for $ac_word... \" >&6; }\n-if ${ac_cv_path_PKG_CONFIG+:} false; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  case $PKG_CONFIG in\n-  [\\\\/]* | ?:[\\\\/]*)\n-  ac_cv_path_PKG_CONFIG=\"$PKG_CONFIG\" # Let the user override the test with a path.\n-  ;;\n-  *)\n-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \"$as_dir\" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_path_PKG_CONFIG=\"$as_dir/$ac_word$ac_exec_ext\"\n-    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-  ;;\n-esac\n-fi\n-PKG_CONFIG=$ac_cv_path_PKG_CONFIG\n-if test -n \"$PKG_CONFIG\"; then\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $PKG_CONFIG\" >&5\n-$as_echo \"$PKG_CONFIG\" >&6; }\n-else\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n-$as_echo \"no\" >&6; }\n-fi\n-\n-\n-fi\n-if test -z \"$ac_cv_path_PKG_CONFIG\"; then\n-  ac_pt_PKG_CONFIG=$PKG_CONFIG\n-  # Extract the first word of \"pkg-config\", so it can be a program name with args.\n-set dummy pkg-config; ac_word=$2\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n-$as_echo_n \"checking for $ac_word... \" >&6; }\n-if ${ac_cv_path_ac_pt_PKG_CONFIG+:} false; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  case $ac_pt_PKG_CONFIG in\n-  [\\\\/]* | ?:[\\\\/]*)\n-  ac_cv_path_ac_pt_PKG_CONFIG=\"$ac_pt_PKG_CONFIG\" # Let the user override the test with a path.\n-  ;;\n-  *)\n-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \"$as_dir\" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_path_ac_pt_PKG_CONFIG=\"$as_dir/$ac_word$ac_exec_ext\"\n-    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-  ;;\n-esac\n-fi\n-ac_pt_PKG_CONFIG=$ac_cv_path_ac_pt_PKG_CONFIG\n-if test -n \"$ac_pt_PKG_CONFIG\"; then\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_pt_PKG_CONFIG\" >&5\n-$as_echo \"$ac_pt_PKG_CONFIG\" >&6; }\n-else\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n-$as_echo \"no\" >&6; }\n-fi\n-\n-  if test \"x$ac_pt_PKG_CONFIG\" = x; then\n-    PKG_CONFIG=\"\"\n-  else\n-    case $cross_compiling:$ac_tool_warned in\n-yes:)\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet\" >&5\n-$as_echo \"$as_me: WARNING: using cross tools not prefixed with host triplet\" >&2;}\n-ac_tool_warned=yes ;;\n-esac\n-    PKG_CONFIG=$ac_pt_PKG_CONFIG\n-  fi\n-else\n-  PKG_CONFIG=\"$ac_cv_path_PKG_CONFIG\"\n-fi\n-\n-fi\n-if test -n \"$PKG_CONFIG\"; then\n-\t_pkg_min_version=0.9.0\n-\t{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking pkg-config is at least version $_pkg_min_version\" >&5\n-$as_echo_n \"checking pkg-config is at least version $_pkg_min_version... \" >&6; }\n-\tif $PKG_CONFIG --atleast-pkgconfig-version $_pkg_min_version; then\n-\t\t{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: yes\" >&5\n-$as_echo \"yes\" >&6; }\n-\telse\n-\t\t{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n-$as_echo \"no\" >&6; }\n-\t\tPKG_CONFIG=\"\"\n-\tfi\n-fi\n-ac_ext=c\n-ac_cpp='$CPP $CPPFLAGS'\n-ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n-ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n-ac_compiler_gnu=$ac_cv_c_compiler_gnu\n-if test -n \"$ac_tool_prefix\"; then\n-  # Extract the first word of \"${ac_tool_prefix}gcc\", so it can be a program name with args.\n-set dummy ${ac_tool_prefix}gcc; ac_word=$2\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n-$as_echo_n \"checking for $ac_word... \" >&6; }\n-if ${ac_cv_prog_CC+:} false; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  if test -n \"$CC\"; then\n-  ac_cv_prog_CC=\"$CC\" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \"$as_dir\" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_prog_CC=\"${ac_tool_prefix}gcc\"\n-    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-CC=$ac_cv_prog_CC\n-if test -n \"$CC\"; then\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $CC\" >&5\n-$as_echo \"$CC\" >&6; }\n-else\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n-$as_echo \"no\" >&6; }\n-fi\n-\n-\n-fi\n-if test -z \"$ac_cv_prog_CC\"; then\n-  ac_ct_CC=$CC\n-  # Extract the first word of \"gcc\", so it can be a program name with args.\n-set dummy gcc; ac_word=$2\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n-$as_echo_n \"checking for $ac_word... \" >&6; }\n-if ${ac_cv_prog_ac_ct_CC+:} false; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  if test -n \"$ac_ct_CC\"; then\n-  ac_cv_prog_ac_ct_CC=\"$ac_ct_CC\" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \"$as_dir\" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_prog_ac_ct_CC=\"gcc\"\n-    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-ac_ct_CC=$ac_cv_prog_ac_ct_CC\n-if test -n \"$ac_ct_CC\"; then\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_ct_CC\" >&5\n-$as_echo \"$ac_ct_CC\" >&6; }\n-else\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n-$as_echo \"no\" >&6; }\n-fi\n-\n-  if test \"x$ac_ct_CC\" = x; then\n-    CC=\"\"\n-  else\n-    case $cross_compiling:$ac_tool_warned in\n-yes:)\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet\" >&5\n-$as_echo \"$as_me: WARNING: using cross tools not prefixed with host triplet\" >&2;}\n-ac_tool_warned=yes ;;\n-esac\n-    CC=$ac_ct_CC\n-  fi\n-else\n-  CC=\"$ac_cv_prog_CC\"\n-fi\n-\n-if test -z \"$CC\"; then\n-          if test -n \"$ac_tool_prefix\"; then\n-    # Extract the first word of \"${ac_tool_prefix}cc\", so it can be a program name with args.\n-set dummy ${ac_tool_prefix}cc; ac_word=$2\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n-$as_echo_n \"checking for $ac_word... \" >&6; }\n-if ${ac_cv_prog_CC+:} false; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  if test -n \"$CC\"; then\n-  ac_cv_prog_CC=\"$CC\" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \"$as_dir\" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_prog_CC=\"${ac_tool_prefix}cc\"\n-    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-CC=$ac_cv_prog_CC\n-if test -n \"$CC\"; then\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $CC\" >&5\n-$as_echo \"$CC\" >&6; }\n-else\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n-$as_echo \"no\" >&6; }\n-fi\n-\n-\n-  fi\n-fi\n-if test -z \"$CC\"; then\n-  # Extract the first word of \"cc\", so it can be a program name with args.\n-set dummy cc; ac_word=$2\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n-$as_echo_n \"checking for $ac_word... \" >&6; }\n-if ${ac_cv_prog_CC+:} false; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  if test -n \"$CC\"; then\n-  ac_cv_prog_CC=\"$CC\" # Let the user override the test.\n-else\n-  ac_prog_rejected=no\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \"$as_dir\" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    if test \"$as_dir/$ac_word$ac_exec_ext\" = \"/usr/ucb/cc\"; then\n-       ac_prog_rejected=yes\n-       continue\n-     fi\n-    ac_cv_prog_CC=\"cc\"\n-    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-if test $ac_prog_rejected = yes; then\n-  # We found a bogon in the path, so make sure we never use it.\n-  set dummy $ac_cv_prog_CC\n-  shift\n-  if test $# != 0; then\n-    # We chose a different compiler from the bogus one.\n-    # However, it has the same basename, so the bogon will be chosen\n-    # first if we set CC to just the basename; use the full file name.\n-    shift\n-    ac_cv_prog_CC=\"$as_dir/$ac_word${1+' '}$@\"\n-  fi\n-fi\n-fi\n-fi\n-CC=$ac_cv_prog_CC\n-if test -n \"$CC\"; then\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $CC\" >&5\n-$as_echo \"$CC\" >&6; }\n-else\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n-$as_echo \"no\" >&6; }\n-fi\n-\n-\n-fi\n-if test -z \"$CC\"; then\n-  if test -n \"$ac_tool_prefix\"; then\n-  for ac_prog in cl.exe\n-  do\n-    # Extract the first word of \"$ac_tool_prefix$ac_prog\", so it can be a program name with args.\n-set dummy $ac_tool_prefix$ac_prog; ac_word=$2\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n-$as_echo_n \"checking for $ac_word... \" >&6; }\n-if ${ac_cv_prog_CC+:} false; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  if test -n \"$CC\"; then\n-  ac_cv_prog_CC=\"$CC\" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \"$as_dir\" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_prog_CC=\"$ac_tool_prefix$ac_prog\"\n-    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-CC=$ac_cv_prog_CC\n-if test -n \"$CC\"; then\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $CC\" >&5\n-$as_echo \"$CC\" >&6; }\n-else\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n-$as_echo \"no\" >&6; }\n-fi\n-\n-\n-    test -n \"$CC\" && break\n-  done\n-fi\n-if test -z \"$CC\"; then\n-  ac_ct_CC=$CC\n-  for ac_prog in cl.exe\n-do\n-  # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n-set dummy $ac_prog; ac_word=$2\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n-$as_echo_n \"checking for $ac_word... \" >&6; }\n-if ${ac_cv_prog_ac_ct_CC+:} false; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  if test -n \"$ac_ct_CC\"; then\n-  ac_cv_prog_ac_ct_CC=\"$ac_ct_CC\" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \"$as_dir\" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_prog_ac_ct_CC=\"$ac_prog\"\n-    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-ac_ct_CC=$ac_cv_prog_ac_ct_CC\n-if test -n \"$ac_ct_CC\"; then\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_ct_CC\" >&5\n-$as_echo \"$ac_ct_CC\" >&6; }\n-else\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n-$as_echo \"no\" >&6; }\n-fi\n-\n-\n-  test -n \"$ac_ct_CC\" && break\n-done\n-\n-  if test \"x$ac_ct_CC\" = x; then\n-    CC=\"\"\n-  else\n-    case $cross_compiling:$ac_tool_warned in\n-yes:)\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet\" >&5\n-$as_echo \"$as_me: WARNING: using cross tools not prefixed with host triplet\" >&2;}\n-ac_tool_warned=yes ;;\n-esac\n-    CC=$ac_ct_CC\n-  fi\n-fi\n-\n-fi\n-\n-\n-test -z \"$CC\" && { { $as_echo \"$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\" >&5\n-$as_echo \"$as_me: error: in \\`$ac_pwd':\" >&2;}\n-as_fn_error $? \"no acceptable C compiler found in \\$PATH\n-See \\`config.log' for more details\" \"$LINENO\" 5; }\n-\n-# Provide some information about the compiler.\n-$as_echo \"$as_me:${as_lineno-$LINENO}: checking for C compiler version\" >&5\n-set X $ac_compile\n-ac_compiler=$2\n-for ac_option in --version -v -V -qversion; do\n-  { { ac_try=\"$ac_compiler $ac_option >&5\"\n-case \"(($ac_try\" in\n-  *\\\"* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n-  *) ac_try_echo=$ac_try;;\n-esac\n-eval ac_try_echo=\"\\\"\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\"\"\n-$as_echo \"$ac_try_echo\"; } >&5\n-  (eval \"$ac_compiler $ac_option >&5\") 2>conftest.err\n-  ac_status=$?\n-  if test -s conftest.err; then\n-    sed '10a\\\n-... rest of stderr output deleted ...\n-         10q' conftest.err >conftest.er1\n-    cat conftest.er1 >&5\n-  fi\n-  rm -f conftest.er1 conftest.err\n-  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n-  test $ac_status = 0; }\n-done\n-\n-cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-\n-int\n-main ()\n-{\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-ac_clean_files_save=$ac_clean_files\n-ac_clean_files=\"$ac_clean_files a.out a.out.dSYM a.exe b.out\"\n-# Try to create an executable without -o first, disregard a.out.\n-# It will help us diagnose broken compilers, and finding out an intuition\n-# of exeext.\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether the C compiler works\" >&5\n-$as_echo_n \"checking whether the C compiler works... \" >&6; }\n-ac_link_default=`$as_echo \"$ac_link\" | sed 's/ -o *conftest[^ ]*//'`\n-\n-# The possible output files:\n-ac_files=\"a.out conftest.exe conftest a.exe a_out.exe b.out conftest.*\"\n-\n-ac_rmfiles=\n-for ac_file in $ac_files\n-do\n-  case $ac_file in\n-    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM | *.o | *.obj ) ;;\n-    * ) ac_rmfiles=\"$ac_rmfiles $ac_file\";;\n-  esac\n-done\n-rm -f $ac_rmfiles\n-\n-if { { ac_try=\"$ac_link_default\"\n-case \"(($ac_try\" in\n-  *\\\"* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n-  *) ac_try_echo=$ac_try;;\n-esac\n-eval ac_try_echo=\"\\\"\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\"\"\n-$as_echo \"$ac_try_echo\"; } >&5\n-  (eval \"$ac_link_default\") 2>&5\n-  ac_status=$?\n-  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n-  test $ac_status = 0; }; then :\n-  # Autoconf-2.13 could set the ac_cv_exeext variable to `no'.\n-# So ignore a value of `no', otherwise this would lead to `EXEEXT = no'\n-# in a Makefile.  We should not override ac_cv_exeext if it was cached,\n-# so that the user can short-circuit this test for compilers unknown to\n-# Autoconf.\n-for ac_file in $ac_files ''\n-do\n-  test -f \"$ac_file\" || continue\n-  case $ac_file in\n-    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM | *.o | *.obj )\n-\t;;\n-    [ab].out )\n-\t# We found the default executable, but exeext='' is most\n-\t# certainly right.\n-\tbreak;;\n-    *.* )\n-\tif test \"${ac_cv_exeext+set}\" = set && test \"$ac_cv_exeext\" != no;\n-\tthen :; else\n-\t   ac_cv_exeext=`expr \"$ac_file\" : '[^.]*\\(\\..*\\)'`\n-\tfi\n-\t# We set ac_cv_exeext here because the later test for it is not\n-\t# safe: cross compilers may not add the suffix if given an `-o'\n-\t# argument, so we may need to know it at that point already.\n-\t# Even if this section looks crufty: it has the advantage of\n-\t# actually working.\n-\tbreak;;\n-    * )\n-\tbreak;;\n-  esac\n-done\n-test \"$ac_cv_exeext\" = no && ac_cv_exeext=\n-\n-else\n-  ac_file=''\n-fi\n-if test -z \"$ac_file\"; then :\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n-$as_echo \"no\" >&6; }\n-$as_echo \"$as_me: failed program was:\" >&5\n-sed 's/^/| /' conftest.$ac_ext >&5\n-\n-{ { $as_echo \"$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\" >&5\n-$as_echo \"$as_me: error: in \\`$ac_pwd':\" >&2;}\n-as_fn_error 77 \"C compiler cannot create executables\n-See \\`config.log' for more details\" \"$LINENO\" 5; }\n-else\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: yes\" >&5\n-$as_echo \"yes\" >&6; }\n-fi\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for C compiler default output file name\" >&5\n-$as_echo_n \"checking for C compiler default output file name... \" >&6; }\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_file\" >&5\n-$as_echo \"$ac_file\" >&6; }\n-ac_exeext=$ac_cv_exeext\n-\n-rm -f -r a.out a.out.dSYM a.exe conftest$ac_cv_exeext b.out\n-ac_clean_files=$ac_clean_files_save\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for suffix of executables\" >&5\n-$as_echo_n \"checking for suffix of executables... \" >&6; }\n-if { { ac_try=\"$ac_link\"\n-case \"(($ac_try\" in\n-  *\\\"* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n-  *) ac_try_echo=$ac_try;;\n-esac\n-eval ac_try_echo=\"\\\"\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\"\"\n-$as_echo \"$ac_try_echo\"; } >&5\n-  (eval \"$ac_link\") 2>&5\n-  ac_status=$?\n-  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n-  test $ac_status = 0; }; then :\n-  # If both `conftest.exe' and `conftest' are `present' (well, observable)\n-# catch `conftest.exe'.  For instance with Cygwin, `ls conftest' will\n-# work properly (i.e., refer to `conftest.exe'), while it won't with\n-# `rm'.\n-for ac_file in conftest.exe conftest conftest.*; do\n-  test -f \"$ac_file\" || continue\n-  case $ac_file in\n-    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM | *.o | *.obj ) ;;\n-    *.* ) ac_cv_exeext=`expr \"$ac_file\" : '[^.]*\\(\\..*\\)'`\n-\t  break;;\n-    * ) break;;\n-  esac\n-done\n-else\n-  { { $as_echo \"$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\" >&5\n-$as_echo \"$as_me: error: in \\`$ac_pwd':\" >&2;}\n-as_fn_error $? \"cannot compute suffix of executables: cannot compile and link\n-See \\`config.log' for more details\" \"$LINENO\" 5; }\n-fi\n-rm -f conftest conftest$ac_cv_exeext\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_exeext\" >&5\n-$as_echo \"$ac_cv_exeext\" >&6; }\n-\n-rm -f conftest.$ac_ext\n-EXEEXT=$ac_cv_exeext\n-ac_exeext=$EXEEXT\n-cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#include <stdio.h>\n-int\n-main ()\n-{\n-FILE *f = fopen (\"conftest.out\", \"w\");\n- return ferror (f) || fclose (f) != 0;\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-ac_clean_files=\"$ac_clean_files conftest.out\"\n-# Check that the compiler produces executables we can run.  If not, either\n-# the compiler is broken, or we cross compile.\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether we are cross compiling\" >&5\n-$as_echo_n \"checking whether we are cross compiling... \" >&6; }\n-if test \"$cross_compiling\" != yes; then\n-  { { ac_try=\"$ac_link\"\n-case \"(($ac_try\" in\n-  *\\\"* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n-  *) ac_try_echo=$ac_try;;\n-esac\n-eval ac_try_echo=\"\\\"\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\"\"\n-$as_echo \"$ac_try_echo\"; } >&5\n-  (eval \"$ac_link\") 2>&5\n-  ac_status=$?\n-  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n-  test $ac_status = 0; }\n-  if { ac_try='./conftest$ac_cv_exeext'\n-  { { case \"(($ac_try\" in\n-  *\\\"* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n-  *) ac_try_echo=$ac_try;;\n-esac\n-eval ac_try_echo=\"\\\"\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\"\"\n-$as_echo \"$ac_try_echo\"; } >&5\n-  (eval \"$ac_try\") 2>&5\n-  ac_status=$?\n-  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n-  test $ac_status = 0; }; }; then\n-    cross_compiling=no\n-  else\n-    if test \"$cross_compiling\" = maybe; then\n-\tcross_compiling=yes\n-    else\n-\t{ { $as_echo \"$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\" >&5\n-$as_echo \"$as_me: error: in \\`$ac_pwd':\" >&2;}\n-as_fn_error $? \"cannot run C compiled programs.\n-If you meant to cross compile, use \\`--host'.\n-See \\`config.log' for more details\" \"$LINENO\" 5; }\n-    fi\n-  fi\n-fi\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $cross_compiling\" >&5\n-$as_echo \"$cross_compiling\" >&6; }\n-\n-rm -f conftest.$ac_ext conftest$ac_cv_exeext conftest.out\n-ac_clean_files=$ac_clean_files_save\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for suffix of object files\" >&5\n-$as_echo_n \"checking for suffix of object files... \" >&6; }\n-if ${ac_cv_objext+:} false; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-\n-int\n-main ()\n-{\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-rm -f conftest.o conftest.obj\n-if { { ac_try=\"$ac_compile\"\n-case \"(($ac_try\" in\n-  *\\\"* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n-  *) ac_try_echo=$ac_try;;\n-esac\n-eval ac_try_echo=\"\\\"\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\"\"\n-$as_echo \"$ac_try_echo\"; } >&5\n-  (eval \"$ac_compile\") 2>&5\n-  ac_status=$?\n-  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n-  test $ac_status = 0; }; then :\n-  for ac_file in conftest.o conftest.obj conftest.*; do\n-  test -f \"$ac_file\" || continue;\n-  case $ac_file in\n-    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM ) ;;\n-    *) ac_cv_objext=`expr \"$ac_file\" : '.*\\.\\(.*\\)'`\n-       break;;\n-  esac\n-done\n-else\n-  $as_echo \"$as_me: failed program was:\" >&5\n-sed 's/^/| /' conftest.$ac_ext >&5\n-\n-{ { $as_echo \"$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\" >&5\n-$as_echo \"$as_me: error: in \\`$ac_pwd':\" >&2;}\n-as_fn_error $? \"cannot compute suffix of object files: cannot compile\n-See \\`config.log' for more details\" \"$LINENO\" 5; }\n-fi\n-rm -f conftest.$ac_cv_objext conftest.$ac_ext\n-fi\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_objext\" >&5\n-$as_echo \"$ac_cv_objext\" >&6; }\n-OBJEXT=$ac_cv_objext\n-ac_objext=$OBJEXT\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether we are using the GNU C compiler\" >&5\n-$as_echo_n \"checking whether we are using the GNU C compiler... \" >&6; }\n-if ${ac_cv_c_compiler_gnu+:} false; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-\n-int\n-main ()\n-{\n-#ifndef __GNUC__\n-       choke me\n-#endif\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n-  ac_compiler_gnu=yes\n-else\n-  ac_compiler_gnu=no\n-fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-ac_cv_c_compiler_gnu=$ac_compiler_gnu\n-\n-fi\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_c_compiler_gnu\" >&5\n-$as_echo \"$ac_cv_c_compiler_gnu\" >&6; }\n-if test $ac_compiler_gnu = yes; then\n-  GCC=yes\n-else\n-  GCC=\n-fi\n-ac_test_CFLAGS=${CFLAGS+set}\n-ac_save_CFLAGS=$CFLAGS\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether $CC accepts -g\" >&5\n-$as_echo_n \"checking whether $CC accepts -g... \" >&6; }\n-if ${ac_cv_prog_cc_g+:} false; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  ac_save_c_werror_flag=$ac_c_werror_flag\n-   ac_c_werror_flag=yes\n-   ac_cv_prog_cc_g=no\n-   CFLAGS=\"-g\"\n-   cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-\n-int\n-main ()\n-{\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n-  ac_cv_prog_cc_g=yes\n-else\n-  CFLAGS=\"\"\n-      cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-\n-int\n-main ()\n-{\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n-\n-else\n-  ac_c_werror_flag=$ac_save_c_werror_flag\n-\t CFLAGS=\"-g\"\n-\t cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-\n-int\n-main ()\n-{\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n-  ac_cv_prog_cc_g=yes\n-fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-   ac_c_werror_flag=$ac_save_c_werror_flag\n-fi\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_g\" >&5\n-$as_echo \"$ac_cv_prog_cc_g\" >&6; }\n-if test \"$ac_test_CFLAGS\" = set; then\n-  CFLAGS=$ac_save_CFLAGS\n-elif test $ac_cv_prog_cc_g = yes; then\n-  if test \"$GCC\" = yes; then\n-    CFLAGS=\"-g -O2\"\n-  else\n-    CFLAGS=\"-g\"\n-  fi\n-else\n-  if test \"$GCC\" = yes; then\n-    CFLAGS=\"-O2\"\n-  else\n-    CFLAGS=\n-  fi\n-fi\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $CC option to accept ISO C89\" >&5\n-$as_echo_n \"checking for $CC option to accept ISO C89... \" >&6; }\n-if ${ac_cv_prog_cc_c89+:} false; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  ac_cv_prog_cc_c89=no\n-ac_save_CC=$CC\n-cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#include <stdarg.h>\n-#include <stdio.h>\n-struct stat;\n-/* Most of the following tests are stolen from RCS 5.7's src/conf.sh.  */\n-struct buf { int x; };\n-FILE * (*rcsopen) (struct buf *, struct stat *, int);\n-static char *e (p, i)\n-     char **p;\n-     int i;\n-{\n-  return p[i];\n-}\n-static char *f (char * (*g) (char **, int), char **p, ...)\n-{\n-  char *s;\n-  va_list v;\n-  va_start (v,p);\n-  s = g (p, va_arg (v,int));\n-  va_end (v);\n-  return s;\n-}\n-\n-/* OSF 4.0 Compaq cc is some sort of almost-ANSI by default.  It has\n-   function prototypes and stuff, but not '\\xHH' hex character constants.\n-   These don't provoke an error unfortunately, instead are silently treated\n-   as 'x'.  The following induces an error, until -std is added to get\n-   proper ANSI mode.  Curiously '\\x00'!='x' always comes out true, for an\n-   array size at least.  It's necessary to write '\\x00'==0 to get something\n-   that's true only with -std.  */\n-int osf4_cc_array ['\\x00' == 0 ? 1 : -1];\n-\n-/* IBM C 6 for AIX is almost-ANSI by default, but it replaces macro parameters\n-   inside strings and character constants.  */\n-#define FOO(x) 'x'\n-int xlc6_cc_array[FOO(a) == 'x' ? 1 : -1];\n-\n-int test (int i, double x);\n-struct s1 {int (*f) (int a);};\n-struct s2 {int (*f) (double a);};\n-int pairnames (int, char **, FILE *(*)(struct buf *, struct stat *, int), int, int);\n-int argc;\n-char **argv;\n-int\n-main ()\n-{\n-return f (e, argv, 0) != argv[0]  ||  f (e, argv, 1) != argv[1];\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-for ac_arg in '' -qlanglvl=extc89 -qlanglvl=ansi -std \\\n-\t-Ae \"-Aa -D_HPUX_SOURCE\" \"-Xc -D__EXTENSIONS__\"\n-do\n-  CC=\"$ac_save_CC $ac_arg\"\n-  if ac_fn_c_try_compile \"$LINENO\"; then :\n-  ac_cv_prog_cc_c89=$ac_arg\n-fi\n-rm -f core conftest.err conftest.$ac_objext\n-  test \"x$ac_cv_prog_cc_c89\" != \"xno\" && break\n-done\n-rm -f conftest.$ac_ext\n-CC=$ac_save_CC\n-\n-fi\n-# AC_CACHE_VAL\n-case \"x$ac_cv_prog_cc_c89\" in\n-  x)\n-    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: none needed\" >&5\n-$as_echo \"none needed\" >&6; } ;;\n-  xno)\n-    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: unsupported\" >&5\n-$as_echo \"unsupported\" >&6; } ;;\n-  *)\n-    CC=\"$CC $ac_cv_prog_cc_c89\"\n-    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_c89\" >&5\n-$as_echo \"$ac_cv_prog_cc_c89\" >&6; } ;;\n-esac\n-if test \"x$ac_cv_prog_cc_c89\" != xno; then :\n-\n-fi\n-\n-ac_ext=c\n-ac_cpp='$CPP $CPPFLAGS'\n-ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n-ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n-ac_compiler_gnu=$ac_cv_c_compiler_gnu\n-\n-\n-\n-pkg_failed=no\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for sdl\" >&5\n-$as_echo_n \"checking for sdl... \" >&6; }\n-\n-if test -n \"$SDL_CFLAGS\"; then\n-    pkg_cv_SDL_CFLAGS=\"$SDL_CFLAGS\"\n- elif test -n \"$PKG_CONFIG\"; then\n-    if test -n \"$PKG_CONFIG\" && \\\n-    { { $as_echo \"$as_me:${as_lineno-$LINENO}: \\$PKG_CONFIG --exists --print-errors \\\"sdl\\\"\"; } >&5\n-  ($PKG_CONFIG --exists --print-errors \"sdl\") 2>&5\n-  ac_status=$?\n-  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n-  test $ac_status = 0; }; then\n-  pkg_cv_SDL_CFLAGS=`$PKG_CONFIG --cflags \"sdl\" 2>/dev/null`\n-\t\t      test \"x$?\" != \"x0\" && pkg_failed=yes\n-else\n-  pkg_failed=yes\n-fi\n- else\n-    pkg_failed=untried\n-fi\n-if test -n \"$SDL_LIBS\"; then\n-    pkg_cv_SDL_LIBS=\"$SDL_LIBS\"\n- elif test -n \"$PKG_CONFIG\"; then\n-    if test -n \"$PKG_CONFIG\" && \\\n-    { { $as_echo \"$as_me:${as_lineno-$LINENO}: \\$PKG_CONFIG --exists --print-errors \\\"sdl\\\"\"; } >&5\n-  ($PKG_CONFIG --exists --print-errors \"sdl\") 2>&5\n-  ac_status=$?\n-  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n-  test $ac_status = 0; }; then\n-  pkg_cv_SDL_LIBS=`$PKG_CONFIG --libs \"sdl\" 2>/dev/null`\n-\t\t      test \"x$?\" != \"x0\" && pkg_failed=yes\n-else\n-  pkg_failed=yes\n-fi\n- else\n-    pkg_failed=untried\n-fi\n-\n-if test $pkg_failed = no; then\n-  pkg_save_LDFLAGS=\"$LDFLAGS\"\n-  LDFLAGS=\"$LDFLAGS $pkg_cv_SDL_LIBS\"\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-\n-int\n-main ()\n-{\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_link \"$LINENO\"; then :\n-\n-else\n-  pkg_failed=yes\n-fi\n-rm -f core conftest.err conftest.$ac_objext \\\n-    conftest$ac_exeext conftest.$ac_ext\n-  LDFLAGS=$pkg_save_LDFLAGS\n-fi\n-\n-\n-\n-if test $pkg_failed = yes; then\n-        { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n-$as_echo \"no\" >&6; }\n-\n-if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then\n-        _pkg_short_errors_supported=yes\n-else\n-        _pkg_short_errors_supported=no\n-fi\n-        if test $_pkg_short_errors_supported = yes; then\n-\t        SDL_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs \"sdl\" 2>&1`\n-        else\n-\t        SDL_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs \"sdl\" 2>&1`\n-        fi\n-\t# Put the nasty error message in config.log where it belongs\n-\techo \"$SDL_PKG_ERRORS\" >&5\n-\n-\t:\n-elif test $pkg_failed = untried; then\n-        { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n-$as_echo \"no\" >&6; }\n-\t:\n-else\n-\tSDL_CFLAGS=$pkg_cv_SDL_CFLAGS\n-\tSDL_LIBS=$pkg_cv_SDL_LIBS\n-        { $as_echo \"$as_me:${as_lineno-$LINENO}: result: yes\" >&5\n-$as_echo \"yes\" >&6; }\n-\n-\t{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for dlopen in -ldl\" >&5\n-$as_echo_n \"checking for dlopen in -ldl... \" >&6; }\n-if ${ac_cv_lib_dl_dlopen+:} false; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  ac_check_lib_save_LIBS=$LIBS\n-LIBS=\"-ldl  $LIBS\"\n-cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-\n-/* Override any GCC internal prototype to avoid an error.\n-   Use char because int might match the return type of a GCC\n-   builtin and then its argument prototype would still apply.  */\n-#ifdef __cplusplus\n-extern \"C\"\n-#endif\n-char dlopen ();\n-int\n-main ()\n-{\n-return dlopen ();\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_link \"$LINENO\"; then :\n-  ac_cv_lib_dl_dlopen=yes\n-else\n-  ac_cv_lib_dl_dlopen=no\n-fi\n-rm -f core conftest.err conftest.$ac_objext \\\n-    conftest$ac_exeext conftest.$ac_ext\n-LIBS=$ac_check_lib_save_LIBS\n-fi\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_dl_dlopen\" >&5\n-$as_echo \"$ac_cv_lib_dl_dlopen\" >&6; }\n-if test \"x$ac_cv_lib_dl_dlopen\" = xyes; then :\n-\n-\t\tSDL_CFLAGS=\"${SDL_CFLAGS} -DHAVE_SDL\"\n-\t\tSDL_LIBS=\"-ldl\"\n-\n-else\n-  SDL_CFLAGS= SDL_LIBS=\n-fi\n-\n-\n-fi\n-\n-\n-\n cgen_breaks=\"\"\n if grep CGEN_MAINT $srcdir/Makefile.in >/dev/null; then\n cgen_breaks=\"break cgen_rtx_error\";"
    },
    {
      "sha": "6cf5c487958485bf43be3c5eb1d89edafe2ef6fb",
      "filename": "sim/bfin/configure.ac",
      "status": "modified",
      "additions": 0,
      "deletions": 10,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/d57b6533281b33d74d8820f44bc2f76d36ead4b2/sim/bfin/configure.ac",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/d57b6533281b33d74d8820f44bc2f76d36ead4b2/sim/bfin/configure.ac",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/bfin/configure.ac?ref=d57b6533281b33d74d8820f44bc2f76d36ead4b2",
      "patch": "@@ -4,14 +4,4 @@ AC_CONFIG_MACRO_DIRS([../m4 ../.. ../../config])\n \n SIM_AC_OPTION_DEFAULT_MODEL(bf537)\n \n-PKG_PROG_PKG_CONFIG\n-PKG_CHECK_MODULES(SDL, sdl, [\n-\tAC_CHECK_LIB(dl, dlopen, [\n-\t\tSDL_CFLAGS=\"${SDL_CFLAGS} -DHAVE_SDL\"\n-\t\tSDL_LIBS=\"-ldl\"\n-\t\t], [SDL_CFLAGS= SDL_LIBS=])\n-\t], [:])\n-AC_SUBST(SDL_CFLAGS)\n-AC_SUBST(SDL_LIBS)\n-\n SIM_AC_OUTPUT"
    },
    {
      "sha": "85a72bfb56b71c98c8d1105d6cc371cd80883948",
      "filename": "sim/configure",
      "status": "modified",
      "additions": 282,
      "deletions": 3,
      "changes": 285,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/d57b6533281b33d74d8820f44bc2f76d36ead4b2/sim/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/d57b6533281b33d74d8820f44bc2f76d36ead4b2/sim/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/configure?ref=d57b6533281b33d74d8820f44bc2f76d36ead4b2",
      "patch": "@@ -694,6 +694,8 @@ am__isrc\n MAINT\n MAINTAINER_MODE_FALSE\n MAINTAINER_MODE_TRUE\n+SDL_LIBS\n+SDL_CFLAGS\n lt_cv_dlopen_libs\n OTOOL64\n OTOOL\n@@ -729,6 +731,9 @@ LIBINTL\n USE_NLS\n LIBOBJS\n C_DIALECT\n+PKG_CONFIG_LIBDIR\n+PKG_CONFIG_PATH\n+PKG_CONFIG\n RANLIB\n AR\n LDFLAGS_FOR_BUILD\n@@ -848,7 +853,12 @@ CFLAGS\n LDFLAGS\n LIBS\n CPPFLAGS\n-CPP'\n+CPP\n+PKG_CONFIG\n+PKG_CONFIG_PATH\n+PKG_CONFIG_LIBDIR\n+SDL_CFLAGS\n+SDL_LIBS'\n ac_subdirs_all='bfin\n bpf\n cris\n@@ -1546,6 +1556,13 @@ Some influential environment variables:\n   CPPFLAGS    (Objective) C/C++ preprocessor flags, e.g. -I<include dir> if\n               you have headers in a nonstandard directory <include dir>\n   CPP         C preprocessor\n+  PKG_CONFIG  path to pkg-config utility\n+  PKG_CONFIG_PATH\n+              directories to add to pkg-config's search path\n+  PKG_CONFIG_LIBDIR\n+              path overriding pkg-config's built-in search path\n+  SDL_CFLAGS  C compiler flags for SDL, overriding pkg-config\n+  SDL_LIBS    linker flags for SDL, overriding pkg-config\n \n Use these variables to override the choices made by `configure' or to help\n it to find libraries and programs with nonstandard names/locations.\n@@ -4717,6 +4734,126 @@ else\n fi\n \n \n+\n+\n+\n+\n+\n+\n+if test \"x$ac_cv_env_PKG_CONFIG_set\" != \"xset\"; then\n+\tif test -n \"$ac_tool_prefix\"; then\n+  # Extract the first word of \"${ac_tool_prefix}pkg-config\", so it can be a program name with args.\n+set dummy ${ac_tool_prefix}pkg-config; ac_word=$2\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n+$as_echo_n \"checking for $ac_word... \" >&6; }\n+if ${ac_cv_path_PKG_CONFIG+:} false; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  case $PKG_CONFIG in\n+  [\\\\/]* | ?:[\\\\/]*)\n+  ac_cv_path_PKG_CONFIG=\"$PKG_CONFIG\" # Let the user override the test with a path.\n+  ;;\n+  *)\n+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+    for ac_exec_ext in '' $ac_executable_extensions; do\n+  if as_fn_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_path_PKG_CONFIG=\"$as_dir/$ac_word$ac_exec_ext\"\n+    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+  done\n+IFS=$as_save_IFS\n+\n+  ;;\n+esac\n+fi\n+PKG_CONFIG=$ac_cv_path_PKG_CONFIG\n+if test -n \"$PKG_CONFIG\"; then\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $PKG_CONFIG\" >&5\n+$as_echo \"$PKG_CONFIG\" >&6; }\n+else\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+fi\n+\n+\n+fi\n+if test -z \"$ac_cv_path_PKG_CONFIG\"; then\n+  ac_pt_PKG_CONFIG=$PKG_CONFIG\n+  # Extract the first word of \"pkg-config\", so it can be a program name with args.\n+set dummy pkg-config; ac_word=$2\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n+$as_echo_n \"checking for $ac_word... \" >&6; }\n+if ${ac_cv_path_ac_pt_PKG_CONFIG+:} false; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  case $ac_pt_PKG_CONFIG in\n+  [\\\\/]* | ?:[\\\\/]*)\n+  ac_cv_path_ac_pt_PKG_CONFIG=\"$ac_pt_PKG_CONFIG\" # Let the user override the test with a path.\n+  ;;\n+  *)\n+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+    for ac_exec_ext in '' $ac_executable_extensions; do\n+  if as_fn_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_path_ac_pt_PKG_CONFIG=\"$as_dir/$ac_word$ac_exec_ext\"\n+    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+  done\n+IFS=$as_save_IFS\n+\n+  ;;\n+esac\n+fi\n+ac_pt_PKG_CONFIG=$ac_cv_path_ac_pt_PKG_CONFIG\n+if test -n \"$ac_pt_PKG_CONFIG\"; then\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_pt_PKG_CONFIG\" >&5\n+$as_echo \"$ac_pt_PKG_CONFIG\" >&6; }\n+else\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+fi\n+\n+  if test \"x$ac_pt_PKG_CONFIG\" = x; then\n+    PKG_CONFIG=\"\"\n+  else\n+    case $cross_compiling:$ac_tool_warned in\n+yes:)\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet\" >&5\n+$as_echo \"$as_me: WARNING: using cross tools not prefixed with host triplet\" >&2;}\n+ac_tool_warned=yes ;;\n+esac\n+    PKG_CONFIG=$ac_pt_PKG_CONFIG\n+  fi\n+else\n+  PKG_CONFIG=\"$ac_cv_path_PKG_CONFIG\"\n+fi\n+\n+fi\n+if test -n \"$PKG_CONFIG\"; then\n+\t_pkg_min_version=0.9.0\n+\t{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking pkg-config is at least version $_pkg_min_version\" >&5\n+$as_echo_n \"checking pkg-config is at least version $_pkg_min_version... \" >&6; }\n+\tif $PKG_CONFIG --atleast-pkgconfig-version $_pkg_min_version; then\n+\t\t{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: yes\" >&5\n+$as_echo \"yes\" >&6; }\n+\telse\n+\t\t{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+\t\tPKG_CONFIG=\"\"\n+\tfi\n+fi\n+\n # Require C11 or newer.  Autoconf-2.70 provides ac_cv_prog_cc_c11 when using\n # AC_PROG_CC, but we're still using Autoconf-2.69, and the newest it understands\n # is C99.  So handle it ourselves.\n@@ -12041,7 +12178,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 12044 \"configure\"\n+#line 12181 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -12147,7 +12284,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 12150 \"configure\"\n+#line 12287 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -12568,6 +12705,148 @@ fi\n \n \n \n+pkg_failed=no\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for sdl\" >&5\n+$as_echo_n \"checking for sdl... \" >&6; }\n+\n+if test -n \"$SDL_CFLAGS\"; then\n+    pkg_cv_SDL_CFLAGS=\"$SDL_CFLAGS\"\n+ elif test -n \"$PKG_CONFIG\"; then\n+    if test -n \"$PKG_CONFIG\" && \\\n+    { { $as_echo \"$as_me:${as_lineno-$LINENO}: \\$PKG_CONFIG --exists --print-errors \\\"sdl\\\"\"; } >&5\n+  ($PKG_CONFIG --exists --print-errors \"sdl\") 2>&5\n+  ac_status=$?\n+  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n+  test $ac_status = 0; }; then\n+  pkg_cv_SDL_CFLAGS=`$PKG_CONFIG --cflags \"sdl\" 2>/dev/null`\n+\t\t      test \"x$?\" != \"x0\" && pkg_failed=yes\n+else\n+  pkg_failed=yes\n+fi\n+ else\n+    pkg_failed=untried\n+fi\n+if test -n \"$SDL_LIBS\"; then\n+    pkg_cv_SDL_LIBS=\"$SDL_LIBS\"\n+ elif test -n \"$PKG_CONFIG\"; then\n+    if test -n \"$PKG_CONFIG\" && \\\n+    { { $as_echo \"$as_me:${as_lineno-$LINENO}: \\$PKG_CONFIG --exists --print-errors \\\"sdl\\\"\"; } >&5\n+  ($PKG_CONFIG --exists --print-errors \"sdl\") 2>&5\n+  ac_status=$?\n+  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n+  test $ac_status = 0; }; then\n+  pkg_cv_SDL_LIBS=`$PKG_CONFIG --libs \"sdl\" 2>/dev/null`\n+\t\t      test \"x$?\" != \"x0\" && pkg_failed=yes\n+else\n+  pkg_failed=yes\n+fi\n+ else\n+    pkg_failed=untried\n+fi\n+\n+if test $pkg_failed = no; then\n+  pkg_save_LDFLAGS=\"$LDFLAGS\"\n+  LDFLAGS=\"$LDFLAGS $pkg_cv_SDL_LIBS\"\n+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+\n+int\n+main ()\n+{\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+if ac_fn_c_try_link \"$LINENO\"; then :\n+\n+else\n+  pkg_failed=yes\n+fi\n+rm -f core conftest.err conftest.$ac_objext \\\n+    conftest$ac_exeext conftest.$ac_ext\n+  LDFLAGS=$pkg_save_LDFLAGS\n+fi\n+\n+\n+\n+if test $pkg_failed = yes; then\n+        { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+\n+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then\n+        _pkg_short_errors_supported=yes\n+else\n+        _pkg_short_errors_supported=no\n+fi\n+        if test $_pkg_short_errors_supported = yes; then\n+\t        SDL_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs \"sdl\" 2>&1`\n+        else\n+\t        SDL_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs \"sdl\" 2>&1`\n+        fi\n+\t# Put the nasty error message in config.log where it belongs\n+\techo \"$SDL_PKG_ERRORS\" >&5\n+\n+\t:\n+elif test $pkg_failed = untried; then\n+        { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+\t:\n+else\n+\tSDL_CFLAGS=$pkg_cv_SDL_CFLAGS\n+\tSDL_LIBS=$pkg_cv_SDL_LIBS\n+        { $as_echo \"$as_me:${as_lineno-$LINENO}: result: yes\" >&5\n+$as_echo \"yes\" >&6; }\n+\t  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for dlopen in -ldl\" >&5\n+$as_echo_n \"checking for dlopen in -ldl... \" >&6; }\n+if ${ac_cv_lib_dl_dlopen+:} false; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  ac_check_lib_save_LIBS=$LIBS\n+LIBS=\"-ldl  $LIBS\"\n+cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+\n+/* Override any GCC internal prototype to avoid an error.\n+   Use char because int might match the return type of a GCC\n+   builtin and then its argument prototype would still apply.  */\n+#ifdef __cplusplus\n+extern \"C\"\n+#endif\n+char dlopen ();\n+int\n+main ()\n+{\n+return dlopen ();\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+if ac_fn_c_try_link \"$LINENO\"; then :\n+  ac_cv_lib_dl_dlopen=yes\n+else\n+  ac_cv_lib_dl_dlopen=no\n+fi\n+rm -f core conftest.err conftest.$ac_objext \\\n+    conftest$ac_exeext conftest.$ac_ext\n+LIBS=$ac_check_lib_save_LIBS\n+fi\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_dl_dlopen\" >&5\n+$as_echo \"$ac_cv_lib_dl_dlopen\" >&6; }\n+if test \"x$ac_cv_lib_dl_dlopen\" = xyes; then :\n+      SDL_CFLAGS=\"${SDL_CFLAGS} -DHAVE_SDL\"\n+    SDL_LIBS=\"-ldl\"\n+\n+else\n+  SDL_CFLAGS= SDL_LIBS=\n+fi\n+\n+\n+fi\n+\n+\n+\n+\n \n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n $as_echo_n \"checking whether to enable maintainer-specific portions of Makefiles... \" >&6; }"
    },
    {
      "sha": "2a84a0130a332a4e8bc17210d8b145cff2612ba4",
      "filename": "sim/m4/sim_ac_platform.m4",
      "status": "modified",
      "additions": 9,
      "deletions": 0,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/d57b6533281b33d74d8820f44bc2f76d36ead4b2/sim/m4/sim_ac_platform.m4",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/d57b6533281b33d74d8820f44bc2f76d36ead4b2/sim/m4/sim_ac_platform.m4",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/m4/sim_ac_platform.m4?ref=d57b6533281b33d74d8820f44bc2f76d36ead4b2",
      "patch": "@@ -162,4 +162,13 @@ AC_CHECK_LIB(socket, bind)\n AC_CHECK_LIB(nsl, gethostbyname)\n AC_CHECK_LIB(m, fabs)\n AC_CHECK_LIB(m, log2)\n+\n+PKG_CHECK_MODULES(SDL, sdl, [dnl\n+  AC_CHECK_LIB(dl, dlopen, [dnl\n+    SDL_CFLAGS=\"${SDL_CFLAGS} -DHAVE_SDL\"\n+    SDL_LIBS=\"-ldl\"\n+    ], [SDL_CFLAGS= SDL_LIBS=])\n+  ], [:])\n+AC_SUBST(SDL_CFLAGS)\n+AC_SUBST(SDL_LIBS)\n ])"
    },
    {
      "sha": "fdd5406060729b13f992bf4363bc67f8e2b6e55f",
      "filename": "sim/m4/sim_ac_toolchain.m4",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/d57b6533281b33d74d8820f44bc2f76d36ead4b2/sim/m4/sim_ac_toolchain.m4",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/d57b6533281b33d74d8820f44bc2f76d36ead4b2/sim/m4/sim_ac_toolchain.m4",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/m4/sim_ac_toolchain.m4?ref=d57b6533281b33d74d8820f44bc2f76d36ead4b2",
      "patch": "@@ -49,6 +49,7 @@ AC_SUBST(LDFLAGS_FOR_BUILD)\n AC_SUBST(CFLAGS)\n AC_CHECK_TOOL(AR, ar)\n AC_PROG_RANLIB\n+PKG_PROG_PKG_CONFIG\n \n # Require C11 or newer.  Autoconf-2.70 provides ac_cv_prog_cc_c11 when using\n # AC_PROG_CC, but we're still using Autoconf-2.69, and the newest it understands"
    }
  ]
}