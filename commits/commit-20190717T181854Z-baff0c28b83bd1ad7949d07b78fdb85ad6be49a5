{
  "sha": "baff0c28b83bd1ad7949d07b78fdb85ad6be49a5",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YmFmZjBjMjhiODNiZDFhZDc5NDlkMDdiNzhmZGI4NWFkNmJlNDlhNQ==",
  "commit": {
    "author": {
      "name": "Tom Tromey",
      "email": "tom@tromey.com",
      "date": "2019-06-26T21:49:00Z"
    },
    "committer": {
      "name": "Tom Tromey",
      "email": "tom@tromey.com",
      "date": "2019-07-17T18:18:54Z"
    },
    "message": "Introduce tui_data_window::first_reg_element_no_inline\n\nThis changes tui_first_reg_element_no_inline to be a method on\ntui_data_window.  This again moves uses of the TUI_DATA_WIN global\nfrom this function into other functions that are already using the\nglobal.\n\ngdb/ChangeLog\n2019-07-17  Tom Tromey  <tom@tromey.com>\n\n\t* tui/tui-regs.h (tui_first_reg_element_no_inline): Don't\n\tdeclare.\n\t* tui/tui-regs.c (tui_data_window::first_reg_element_no_inline):\n\tRename from tui_first_reg_element_no_inline.\n\t(tui_display_reg_element_at_line)\n\t(tui_display_registers_from_line): Update.\n\t* tui/tui-data.h (struct tui_data_window)\n\t<first_reg_element_no_inline>: New method.",
    "tree": {
      "sha": "7e3da6262f4adf6ac57c8f85eb8f664a388cea4b",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/7e3da6262f4adf6ac57c8f85eb8f664a388cea4b"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/baff0c28b83bd1ad7949d07b78fdb85ad6be49a5",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/baff0c28b83bd1ad7949d07b78fdb85ad6be49a5",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/baff0c28b83bd1ad7949d07b78fdb85ad6be49a5",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/baff0c28b83bd1ad7949d07b78fdb85ad6be49a5/comments",
  "author": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "3b23c5f2662d3240cdc586d3d2e5fb6eb8cba4c7",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/3b23c5f2662d3240cdc586d3d2e5fb6eb8cba4c7",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/3b23c5f2662d3240cdc586d3d2e5fb6eb8cba4c7"
    }
  ],
  "stats": {
    "total": 32,
    "additions": 22,
    "deletions": 10
  },
  "files": [
    {
      "sha": "813c86d4c058f3b01ffe2a748630e7e91209d97c",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 11,
      "deletions": 0,
      "changes": 11,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/baff0c28b83bd1ad7949d07b78fdb85ad6be49a5/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/baff0c28b83bd1ad7949d07b78fdb85ad6be49a5/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=baff0c28b83bd1ad7949d07b78fdb85ad6be49a5",
      "patch": "@@ -1,3 +1,14 @@\n+2019-07-17  Tom Tromey  <tom@tromey.com>\n+\n+\t* tui/tui-regs.h (tui_first_reg_element_no_inline): Don't\n+\tdeclare.\n+\t* tui/tui-regs.c (tui_data_window::first_reg_element_no_inline):\n+\tRename from tui_first_reg_element_no_inline.\n+\t(tui_display_reg_element_at_line)\n+\t(tui_display_registers_from_line): Update.\n+\t* tui/tui-data.h (struct tui_data_window)\n+\t<first_reg_element_no_inline>: New method.\n+\n 2019-07-17  Tom Tromey  <tom@tromey.com>\n \n \t* tui/tui-windata.c (tui_display_data_from)"
    },
    {
      "sha": "676345c528a5826d579052034ebb0b8fb2983b66",
      "filename": "gdb/tui/tui-data.h",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/baff0c28b83bd1ad7949d07b78fdb85ad6be49a5/gdb/tui/tui-data.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/baff0c28b83bd1ad7949d07b78fdb85ad6be49a5/gdb/tui/tui-data.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/tui/tui-data.h?ref=baff0c28b83bd1ad7949d07b78fdb85ad6be49a5",
      "patch": "@@ -499,6 +499,10 @@ struct tui_data_window : public tui_win_info\n      elements there are, -1 is returned.  */\n   int line_from_reg_element_no (int element_no) const;\n \n+  /* Answer the index of the first element in line_no.  If line_no is\n+     past the register area (-1) is returned.  */\n+  int first_reg_element_no_inline (int line_no) const;\n+\n protected:\n \n   void do_scroll_vertical (int num_to_scroll) override;"
    },
    {
      "sha": "d005fe36c23083d5e493d63c6239712df0d46a17",
      "filename": "gdb/tui/tui-regs.c",
      "status": "modified",
      "additions": 7,
      "deletions": 9,
      "changes": 16,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/baff0c28b83bd1ad7949d07b78fdb85ad6be49a5/gdb/tui/tui-regs.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/baff0c28b83bd1ad7949d07b78fdb85ad6be49a5/gdb/tui/tui-regs.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/tui/tui-regs.c?ref=baff0c28b83bd1ad7949d07b78fdb85ad6be49a5",
      "patch": "@@ -103,16 +103,13 @@ tui_data_window::line_from_reg_element_no (int element_no) const\n     return (-1);\n }\n \n+/* See tui-data.h.  */\n \n-/* Answer the index of the first element in line_no.  If line_no is\n-   past the register area (-1) is returned.  */\n int\n-tui_first_reg_element_no_inline (int line_no)\n+tui_data_window::first_reg_element_no_inline (int line_no) const\n {\n-  if ((line_no * TUI_DATA_WIN->regs_column_count)\n-      <= TUI_DATA_WIN->regs_content.size ())\n-    return (((line_no + 1) * TUI_DATA_WIN->regs_column_count) \n-\t    - TUI_DATA_WIN->regs_column_count);\n+  if (line_no * regs_column_count <= regs_content.size ())\n+    return ((line_no + 1) * regs_column_count) - regs_column_count;\n   else\n     return (-1);\n }\n@@ -362,7 +359,8 @@ tui_display_reg_element_at_line (int start_element_no,\n \t     display at.  */\n \t  if (start_line_no > first_line_on_last_page)\n \t    element_no\n-\t      = tui_first_reg_element_no_inline (first_line_on_last_page);\n+\t      = (TUI_DATA_WIN->first_reg_element_no_inline\n+\t\t (first_line_on_last_page));\n \t}\n       tui_display_registers_from (element_no);\n     }\n@@ -399,7 +397,7 @@ tui_display_registers_from_line (int line_no,\n       else\n \tline = line_no;\n \n-      element_no = tui_first_reg_element_no_inline (line);\n+      element_no = TUI_DATA_WIN->first_reg_element_no_inline (line);\n       if (element_no < TUI_DATA_WIN->regs_content.size ())\n \ttui_display_reg_element_at_line (element_no, line);\n       else"
    },
    {
      "sha": "866af458e10e0ffbbc1e3a436c36b36ae4d45967",
      "filename": "gdb/tui/tui-regs.h",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/baff0c28b83bd1ad7949d07b78fdb85ad6be49a5/gdb/tui/tui-regs.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/baff0c28b83bd1ad7949d07b78fdb85ad6be49a5/gdb/tui/tui-regs.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/tui/tui-regs.h?ref=baff0c28b83bd1ad7949d07b78fdb85ad6be49a5",
      "patch": "@@ -29,6 +29,5 @@ extern void tui_show_registers (struct reggroup *group);\n extern void tui_display_registers_from (int);\n extern int tui_display_registers_from_line (int, int);\n extern int tui_first_reg_element_inline (int);\n-extern int tui_first_reg_element_no_inline (int lineno);\n \n #endif /* TUI_TUI_REGS_H */"
    }
  ]
}