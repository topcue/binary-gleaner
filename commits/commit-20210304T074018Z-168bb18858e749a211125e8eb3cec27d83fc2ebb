{
  "sha": "168bb18858e749a211125e8eb3cec27d83fc2ebb",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MTY4YmIxODg1OGU3NDlhMjExMTI1ZThlYjNjZWMyN2Q4M2ZjMmViYg==",
  "commit": {
    "author": {
      "name": "Libor Bukata",
      "email": "libor.bukata@oracle.com",
      "date": "2021-03-01T11:08:31Z"
    },
    "committer": {
      "name": "Libor Bukata",
      "email": "libor.bukata@oracle.com",
      "date": "2021-03-04T07:40:18Z"
    },
    "message": "GNU strip fails to set sh_link and sh_info on Solaris SPARC64\n\nThe patch adds a missing elf64_sparc_copy_solaris_special_section_fields\nfunction that enables to fill sh_link and sh_info fields in .SUNW_* sections.\nNote that elf64_sparc_copy_solaris_special_section_fields is empty since\nthe default handling is currently sufficient for GNU strip command.\n\nThis is a followup patch of the following upstream commits:\n\ncommit 5522f910cb539905d6adfdceab208ddfa5e84557\nAuthor: Nick Clifton <nickc@redhat.com>\nDate:   Fri Apr 29 09:24:42 2016 +0100\n\n    Enhance support for copying and stripping Solaris and ARM binaries.\n\ncommit 84865015459b4e9e8ac67f9b91617fbd856d5119\nAuthor: Nick Clifton <nickc@redhat.com>\nDate:   Thu Apr 14 12:04:09 2016 +0100\n\n    Fix copying Solaris binaries with objcopy.\n\ngdb/ChangeLog:\n\n2021-03-01  Libor Bukata <libor.bukata@oracle.com>\n\n        * bfd/elf64-sparc.c: Fix GNU strip on Solaris SPARC64.",
    "tree": {
      "sha": "889d29f31a9b1ac5b99a3abfaead5fd0bc6e0172",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/889d29f31a9b1ac5b99a3abfaead5fd0bc6e0172"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/168bb18858e749a211125e8eb3cec27d83fc2ebb",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/168bb18858e749a211125e8eb3cec27d83fc2ebb",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/168bb18858e749a211125e8eb3cec27d83fc2ebb",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/168bb18858e749a211125e8eb3cec27d83fc2ebb/comments",
  "author": {
    "login": "bukatlib",
    "id": 12395618,
    "node_id": "MDQ6VXNlcjEyMzk1NjE4",
    "avatar_url": "https://avatars.githubusercontent.com/u/12395618?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bukatlib",
    "html_url": "https://github.com/bukatlib",
    "followers_url": "https://api.github.com/users/bukatlib/followers",
    "following_url": "https://api.github.com/users/bukatlib/following{/other_user}",
    "gists_url": "https://api.github.com/users/bukatlib/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bukatlib/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bukatlib/subscriptions",
    "organizations_url": "https://api.github.com/users/bukatlib/orgs",
    "repos_url": "https://api.github.com/users/bukatlib/repos",
    "events_url": "https://api.github.com/users/bukatlib/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bukatlib/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "bukatlib",
    "id": 12395618,
    "node_id": "MDQ6VXNlcjEyMzk1NjE4",
    "avatar_url": "https://avatars.githubusercontent.com/u/12395618?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bukatlib",
    "html_url": "https://github.com/bukatlib",
    "followers_url": "https://api.github.com/users/bukatlib/followers",
    "following_url": "https://api.github.com/users/bukatlib/following{/other_user}",
    "gists_url": "https://api.github.com/users/bukatlib/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bukatlib/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bukatlib/subscriptions",
    "organizations_url": "https://api.github.com/users/bukatlib/orgs",
    "repos_url": "https://api.github.com/users/bukatlib/repos",
    "events_url": "https://api.github.com/users/bukatlib/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bukatlib/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "a2126563ea480602be0940652b870820127606b9",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/a2126563ea480602be0940652b870820127606b9",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/a2126563ea480602be0940652b870820127606b9"
    }
  ],
  "stats": {
    "total": 20,
    "additions": 20,
    "deletions": 0
  },
  "files": [
    {
      "sha": "1d4521dfcaea5bd3bf8f056816c0d4f0ef2b36fa",
      "filename": "bfd/elf64-sparc.c",
      "status": "modified",
      "additions": 20,
      "deletions": 0,
      "changes": 20,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/168bb18858e749a211125e8eb3cec27d83fc2ebb/bfd/elf64-sparc.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/168bb18858e749a211125e8eb3cec27d83fc2ebb/bfd/elf64-sparc.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/elf64-sparc.c?ref=168bb18858e749a211125e8eb3cec27d83fc2ebb",
      "patch": "@@ -1004,4 +1004,24 @@ const struct elf_size_info elf64_sparc_size_info =\n #undef elf_backend_static_tls_alignment\n #define elf_backend_static_tls_alignment\t16\n \n+#undef  elf_backend_strtab_flags\n+#define elf_backend_strtab_flags       SHF_STRINGS\n+\n+static bfd_boolean\n+elf64_sparc_copy_solaris_special_section_fields (const bfd *ibfd ATTRIBUTE_UNUSED,\n+                                  bfd *obfd ATTRIBUTE_UNUSED,\n+                                  const Elf_Internal_Shdr *isection ATTRIBUTE_UNUSED,\n+                                  Elf_Internal_Shdr *osection ATTRIBUTE_UNUSED)\n+{\n+  /* PR 19938: FIXME: Need to add code for setting the sh_info\n+     and sh_link fields of Solaris specific section types.  */\n+  return FALSE;\n+}\n+\n+#undef  elf_backend_copy_special_section_fields\n+#define elf_backend_copy_special_section_fields elf64_sparc_copy_solaris_special_section_fields\n+\n #include \"elf64-target.h\"\n+\n+#undef  elf_backend_strtab_flags\n+#undef  elf_backend_copy_special_section_fields"
    }
  ]
}