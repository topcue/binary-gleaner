{
  "sha": "74ea3b51c3b76fc0ccd46cc755e6e85e4570515b",
  "node_id": "C_kwDOANOeidoAKDc0ZWEzYjUxYzNiNzZmYzBjY2Q0NmNjNzU1ZTZlODVlNDU3MDUxNWI",
  "commit": {
    "author": {
      "name": "Andrew Burgess",
      "email": "andrew.burgess@embecosm.com",
      "date": "2021-09-29T09:26:59Z"
    },
    "committer": {
      "name": "Andrew Burgess",
      "email": "andrew.burgess@embecosm.com",
      "date": "2021-09-29T09:26:59Z"
    },
    "message": "gdb: fix build when libbacktrace and execinfo backtrace are not available\n\nIn this commit:\n\n  commit abbbd4a3e0ca51132e7fb31a43f896d29894dae0\n  Date:   Wed Aug 11 13:24:33 2021 +0100\n\n      gdb: use libbacktrace to create a better backtrace for fatal signals\n\nThe build of GDB was broken iff, the execinfo backtrace API is not\navailable, and, libbacktrace is either disabled, or not usable.  In\nthis case you'll see build errors like this:\n\n      CXX    bt-utils.o\n    /home/username/src/binutils-gdb/gdb/bt-utils.c: In function 'void gdb_internal_backtrace()':\n    /home/username/src/binutils-gdb/gdb/bt-utils.c:165:5: error: 'gdb_internal_backtrace_1' was not declared in this scope\n         gdb_internal_backtrace_1 ();\n         ^~~~~~~~~~~~~~~~~~~~~~~~\n\nThis commit fixes the issue by guarding the call to\ngdb_internal_backtrace_1 with '#ifdef GDB_PRINT_INTERNAL_BACKTRACE',\nwhich is only defined when one of the backtrace libraries are\navailable.",
    "tree": {
      "sha": "2c10aebbeb09924ba98f2f9f7199969515851515",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/2c10aebbeb09924ba98f2f9f7199969515851515"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/74ea3b51c3b76fc0ccd46cc755e6e85e4570515b",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/74ea3b51c3b76fc0ccd46cc755e6e85e4570515b",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/74ea3b51c3b76fc0ccd46cc755e6e85e4570515b",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/74ea3b51c3b76fc0ccd46cc755e6e85e4570515b/comments",
  "author": {
    "login": "T-J-Teru",
    "id": 475372,
    "node_id": "MDQ6VXNlcjQ3NTM3Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/475372?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/T-J-Teru",
    "html_url": "https://github.com/T-J-Teru",
    "followers_url": "https://api.github.com/users/T-J-Teru/followers",
    "following_url": "https://api.github.com/users/T-J-Teru/following{/other_user}",
    "gists_url": "https://api.github.com/users/T-J-Teru/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/T-J-Teru/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/T-J-Teru/subscriptions",
    "organizations_url": "https://api.github.com/users/T-J-Teru/orgs",
    "repos_url": "https://api.github.com/users/T-J-Teru/repos",
    "events_url": "https://api.github.com/users/T-J-Teru/events{/privacy}",
    "received_events_url": "https://api.github.com/users/T-J-Teru/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "T-J-Teru",
    "id": 475372,
    "node_id": "MDQ6VXNlcjQ3NTM3Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/475372?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/T-J-Teru",
    "html_url": "https://github.com/T-J-Teru",
    "followers_url": "https://api.github.com/users/T-J-Teru/followers",
    "following_url": "https://api.github.com/users/T-J-Teru/following{/other_user}",
    "gists_url": "https://api.github.com/users/T-J-Teru/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/T-J-Teru/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/T-J-Teru/subscriptions",
    "organizations_url": "https://api.github.com/users/T-J-Teru/orgs",
    "repos_url": "https://api.github.com/users/T-J-Teru/repos",
    "events_url": "https://api.github.com/users/T-J-Teru/events{/privacy}",
    "received_events_url": "https://api.github.com/users/T-J-Teru/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "4180173142185f0967dfefb131e4843a17779c86",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/4180173142185f0967dfefb131e4843a17779c86",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/4180173142185f0967dfefb131e4843a17779c86"
    }
  ],
  "stats": {
    "total": 2,
    "additions": 2,
    "deletions": 0
  },
  "files": [
    {
      "sha": "79e6e090d42856fa90e9b5219cfc66e9b9b5561d",
      "filename": "gdb/bt-utils.c",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/74ea3b51c3b76fc0ccd46cc755e6e85e4570515b/gdb/bt-utils.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/74ea3b51c3b76fc0ccd46cc755e6e85e4570515b/gdb/bt-utils.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/bt-utils.c?ref=74ea3b51c3b76fc0ccd46cc755e6e85e4570515b",
      "patch": "@@ -161,9 +161,11 @@ gdb_internal_backtrace ()\n \n   sig_write (_(\"----- Backtrace -----\\n\"));\n \n+#ifdef GDB_PRINT_INTERNAL_BACKTRACE\n   if (gdb_stderr->fd () > -1)\n     gdb_internal_backtrace_1 ();\n   else\n+#endif\n     sig_write (_(\"Backtrace unavailable\\n\"));\n \n   sig_write (\"---------------------\\n\");"
    }
  ]
}