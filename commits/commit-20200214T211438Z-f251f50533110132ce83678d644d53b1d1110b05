{
  "sha": "f251f50533110132ce83678d644d53b1d1110b05",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ZjI1MWY1MDUzMzExMDEzMmNlODM2NzhkNjQ0ZDUzYjFkMTExMGIwNQ==",
  "commit": {
    "author": {
      "name": "Tom Tromey",
      "email": "tom@tromey.com",
      "date": "2020-02-14T21:14:38Z"
    },
    "committer": {
      "name": "Tom Tromey",
      "email": "tom@tromey.com",
      "date": "2020-02-14T21:14:38Z"
    },
    "message": "Have testsuite find gdbserver in new location\n\nThis updates the gdb testsuite to look for gdbserver in its new\nlocation.  The old location is also checked for, on the theory that\nperhaps someone sets GDB to a full path for install testing.\n\ngdb/testsuite/ChangeLog\n2020-02-14  Tom Tromey  <tom@tromey.com>\n\n\t* lib/gdbserver-support.exp (find_gdbserver): Find gdbserver in\n\tbuild directory.\n\t* boards/gdbserver-base.exp: Update path to gdbserver.\n\nChange-Id: If03db762ba53882ddfaf2d2d516de14c3fa03938",
    "tree": {
      "sha": "df0286067321d7a43bc82893487c9720f63a95da",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/df0286067321d7a43bc82893487c9720f63a95da"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/f251f50533110132ce83678d644d53b1d1110b05",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/f251f50533110132ce83678d644d53b1d1110b05",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/f251f50533110132ce83678d644d53b1d1110b05",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/f251f50533110132ce83678d644d53b1d1110b05/comments",
  "author": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "e8217e61f5952ccfdabb0c4ee0c237a363e9bd99",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/e8217e61f5952ccfdabb0c4ee0c237a363e9bd99",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/e8217e61f5952ccfdabb0c4ee0c237a363e9bd99"
    }
  ],
  "stats": {
    "total": 22,
    "additions": 15,
    "deletions": 7
  },
  "files": [
    {
      "sha": "1a9203c26a253e2549740485bac527d2cd7ceac4",
      "filename": "gdb/testsuite/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f251f50533110132ce83678d644d53b1d1110b05/gdb/testsuite/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f251f50533110132ce83678d644d53b1d1110b05/gdb/testsuite/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/ChangeLog?ref=f251f50533110132ce83678d644d53b1d1110b05",
      "patch": "@@ -1,3 +1,9 @@\n+2020-02-14  Tom Tromey  <tom@tromey.com>\n+\n+\t* lib/gdbserver-support.exp (find_gdbserver): Find gdbserver in\n+\tbuild directory.\n+\t* boards/gdbserver-base.exp: Update path to gdbserver.\n+\n 2020-02-13  Tom de Vries  <tdevries@suse.de>\n \n \t* lib/ada.exp (gdb_compile_ada): Delete stale exec before compilation."
    },
    {
      "sha": "f27a2fdf9157e85ad8a9ab8214b8e3834e1db8ee",
      "filename": "gdb/testsuite/boards/gdbserver-base.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f251f50533110132ce83678d644d53b1d1110b05/gdb/testsuite/boards/gdbserver-base.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f251f50533110132ce83678d644d53b1d1110b05/gdb/testsuite/boards/gdbserver-base.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/boards/gdbserver-base.exp?ref=f251f50533110132ce83678d644d53b1d1110b05",
      "patch": "@@ -22,7 +22,7 @@ process_multilib_options \"\"\n set_board_info compiler \"[find_gcc]\"\n \n # Test the copy of gdbserver in the build directory.\n-set_board_info gdb_server_prog \"[pwd]/../gdbserver/gdbserver\"\n+set_board_info gdb_server_prog \"[pwd]/../../gdbserver/gdbserver\"\n \n # gdbserver does not intercept target file operations and perform them\n # on the host."
    },
    {
      "sha": "706bbeb9df4b856fac416a9767e8d72f1563e583",
      "filename": "gdb/testsuite/lib/gdbserver-support.exp",
      "status": "modified",
      "additions": 8,
      "deletions": 6,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f251f50533110132ce83678d644d53b1d1110b05/gdb/testsuite/lib/gdbserver-support.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f251f50533110132ce83678d644d53b1d1110b05/gdb/testsuite/lib/gdbserver-support.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/lib/gdbserver-support.exp?ref=f251f50533110132ce83678d644d53b1d1110b05",
      "patch": "@@ -138,13 +138,15 @@ proc find_gdbserver { } {\n     return [target_info gdb_server_prog]\n   }\n \n-  set gdbserver \"${GDB}server\"\n-  if { [file isdirectory $gdbserver] } {\n-    append gdbserver \"/gdbserver\"\n-  }\n+  set toplevel [file join [file dirname $GDB] .. gdbserver]\n+  foreach gdbserver [list \"${GDB}server\" $toplevel] {\n+      if { [file isdirectory $gdbserver] } {\n+\t  append gdbserver \"/gdbserver\"\n+      }\n \n-  if { [file executable $gdbserver] } {\n-    return $gdbserver\n+      if { [file executable $gdbserver] } {\n+\t  return $gdbserver\n+      }\n   }\n \n   return \"\""
    }
  ]
}