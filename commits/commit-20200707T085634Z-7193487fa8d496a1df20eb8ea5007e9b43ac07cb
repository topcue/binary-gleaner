{
  "sha": "7193487fa8d496a1df20eb8ea5007e9b43ac07cb",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NzE5MzQ4N2ZhOGQ0OTZhMWRmMjBlYjhlYTUwMDdlOWI0M2FjMDdjYg==",
  "commit": {
    "author": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2020-07-07T03:11:55Z"
    },
    "committer": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2020-07-07T08:56:34Z"
    },
    "message": "Use is_xcoff_format in ld testsuite\n\n\t* testsuite/ld-checks/checks.exp: Use is_xcoff_format.\n\t* testsuite/ld-powerpc/powerpc.exp: Likewise.\n\t* testsuite/ld-scripts/print-memory-usage.exp: Likewise.\n\t* testsuite/ld-srec/srec.exp: Likewise.\n\t* testsuite/ld-undefined/require-defined.exp: Likewise.\n\t* testsuite/ld-scripts/expr2.d: Likewise.\n\t* testsuite/ld-scripts/section-match-1.d: Only run for ELF.\n\t* testsuite/ld-elfvers/vers.exp: Delete dead code.\n\t* testsuite/ld-elfvsb/elfvsb.exp: Likewise.\n\t* testsuite/ld-elfweak/elfweak.exp: Likewise.",
    "tree": {
      "sha": "a911c9eac439c0baf41e0636fa40ca16061255ed",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/a911c9eac439c0baf41e0636fa40ca16061255ed"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/7193487fa8d496a1df20eb8ea5007e9b43ac07cb",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/7193487fa8d496a1df20eb8ea5007e9b43ac07cb",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/7193487fa8d496a1df20eb8ea5007e9b43ac07cb",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/7193487fa8d496a1df20eb8ea5007e9b43ac07cb/comments",
  "author": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "34e7979860c303d0c16e21e5033246277826c3a6",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/34e7979860c303d0c16e21e5033246277826c3a6",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/34e7979860c303d0c16e21e5033246277826c3a6"
    }
  ],
  "stats": {
    "total": 179,
    "additions": 63,
    "deletions": 116
  },
  "files": [
    {
      "sha": "67bf035bdaa8893e87a6ab08071025da6a45ed3c",
      "filename": "ld/ChangeLog",
      "status": "modified",
      "additions": 13,
      "deletions": 0,
      "changes": 13,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7193487fa8d496a1df20eb8ea5007e9b43ac07cb/ld/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7193487fa8d496a1df20eb8ea5007e9b43ac07cb/ld/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/ChangeLog?ref=7193487fa8d496a1df20eb8ea5007e9b43ac07cb",
      "patch": "@@ -1,3 +1,16 @@\n+2020-07-07  Alan Modra  <amodra@gmail.com>\n+\n+\t* testsuite/ld-checks/checks.exp: Use is_xcoff_format.\n+\t* testsuite/ld-powerpc/powerpc.exp: Likewise.\n+\t* testsuite/ld-scripts/print-memory-usage.exp: Likewise.\n+\t* testsuite/ld-srec/srec.exp: Likewise.\n+\t* testsuite/ld-undefined/require-defined.exp: Likewise.\n+\t* testsuite/ld-scripts/expr2.d: Likewise.\n+\t* testsuite/ld-scripts/section-match-1.d: Only run for ELF.\n+\t* testsuite/ld-elfvers/vers.exp: Delete dead code.\n+\t* testsuite/ld-elfvsb/elfvsb.exp: Likewise.\n+\t* testsuite/ld-elfweak/elfweak.exp: Likewise.\n+\n 2020-07-07  Alan Modra  <amodra@gmail.com>\n \n \t* emultempl/aix.em (gld${EMULATION_NAME}_find_exp_assignment): Handle"
    },
    {
      "sha": "fbda5e7f5e388a02401cdab0e797eee45d86454b",
      "filename": "ld/testsuite/ld-checks/checks.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 5,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7193487fa8d496a1df20eb8ea5007e9b43ac07cb/ld/testsuite/ld-checks/checks.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7193487fa8d496a1df20eb8ea5007e9b43ac07cb/ld/testsuite/ld-checks/checks.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-checks/checks.exp?ref=7193487fa8d496a1df20eb8ea5007e9b43ac07cb",
      "patch": "@@ -27,11 +27,8 @@ proc section_check {} {\n     global srcdir\n     global subdir\n \n-    # The usage of .lcomm in asm.s is incompatible with ia64 and ppc coff.\n-    if { [istarget ia64-*-*]\n-\t || [istarget powerpc*-*-aix*]\n-\t || [istarget powerpc-*-beos*]\n-\t || [istarget rs6000-*-*] } {\n+    # The usage of .lcomm in asm.s is incompatible with ia64 and ppc xcoff.\n+    if { [istarget ia64-*-*] || [is_xcoff_format] } {\n \treturn\n     }\n     set test \"check sections 1\""
    },
    {
      "sha": "82b79adf36dd11e7ea995290d9316413808fb6ed",
      "filename": "ld/testsuite/ld-elfvers/vers.exp",
      "status": "modified",
      "additions": 0,
      "deletions": 4,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7193487fa8d496a1df20eb8ea5007e9b43ac07cb/ld/testsuite/ld-elfvers/vers.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7193487fa8d496a1df20eb8ea5007e9b43ac07cb/ld/testsuite/ld-elfvers/vers.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-elfvers/vers.exp?ref=7193487fa8d496a1df20eb8ea5007e9b43ac07cb",
      "patch": "@@ -57,10 +57,6 @@ if { ![istarget hppa*64*-*-hpux*]\n     return\n }\n \n-if { [istarget rs6000*-*-aix*] || [istarget powerpc*-*-aix*] } {\n-    return\n-}\n-\n set diff diff\n set tmpdir tmpdir\n set VOBJDUMP_FLAGS --private-headers"
    },
    {
      "sha": "fda2416c6de4fed3eed3f94e28946fc3ec575bee",
      "filename": "ld/testsuite/ld-elfvsb/elfvsb.exp",
      "status": "modified",
      "additions": 34,
      "deletions": 92,
      "changes": 126,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7193487fa8d496a1df20eb8ea5007e9b43ac07cb/ld/testsuite/ld-elfvsb/elfvsb.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7193487fa8d496a1df20eb8ea5007e9b43ac07cb/ld/testsuite/ld-elfvsb/elfvsb.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-elfvsb/elfvsb.exp?ref=7193487fa8d496a1df20eb8ea5007e9b43ac07cb",
      "patch": "@@ -61,36 +61,6 @@ set SHCFLAG \"\"\n set shared_needs_pic \"no\"\n set COMPRESS_LDFLAG \"-Wl,--compress-debug-sections=zlib-gabi\"\n \n-if { [istarget rs6000*-*-aix*] || [istarget powerpc*-*-aix*] } {\n-\n-    # AIX shared libraries do not seem to support useful features,\n-    # like overriding the shared library function or letting the\n-    # shared library refer to objects defined in the main program.  We\n-    # avoid testing those features.\n-    set SHCFLAG \"-DXCOFF_TEST\"\n-\n-    # The AIX 3.2.5 loader appears to randomly fail when loading\n-    # shared libraries from NSF mounted partitions, so we avoid any\n-    # potential problems by using a local directory.\n-    catch {exec /bin/sh -c \"echo $$\"} pid\n-    set tmpdir /usr/tmp/ld.$pid\n-    catch \"exec mkdir $tmpdir\" exec_status\n-\n-    # On AIX, we need to explicitly export the symbols the shared\n-    # library is going to provide, and need.\n-    set file [open $tmpdir/xcoff.exp w]\n-    puts $file shlibvar1\n-    puts $file shlibvar2\n-    puts $file shlib_shlibvar1\n-    puts $file shlib_shlibvar2\n-    puts $file shlib_shlibcall\n-    puts $file shlib_shlibcalled\n-    puts $file shlib_checkfunptr1\n-    puts $file shlib_getfunptr1\n-    puts $file shlib_check\n-    close $file\n-}\n-\n if [istarget arm*-*-linux*] {\n     # On ARM section anchors can change the symbol pre-emptability for\n     # non-PIC shared libraries, causing these tests to fail.  Turn section\n@@ -137,11 +107,7 @@ proc visibility_test { visibility progname testname main sh1 sh2 dat args } {\n     if [llength $args] { set shldflags [lindex $args 0] } else { set shldflags \"\" }\n \n     # Build the shared library.\n-    # On AIX, we need to use an export file.\n     set shared -shared\n-    if { [istarget rs6000*-*-aix*] || [istarget powerpc*-*-aix*] } {\n-\tset shared \"-bM:SRE -bE:$tmpdir/xcoff.exp\"\n-    }\n     if { [is_elf_format] && [check_shared_lib_support] } {\n \tappend shared \" -Wl,-z,notext\"\n     }\n@@ -162,12 +128,7 @@ proc visibility_test { visibility progname testname main sh1 sh2 dat args } {\n \n     # Link against the shared library.  Use -rpath so that the\n     # dynamic linker can locate the shared library at runtime.\n-    # On AIX, we must include /lib in -rpath, as otherwise the loader\n-    # can not find -lc.\n     set rpath $tmpdir\n-    if { [istarget rs6000*-*-aix*] || [istarget powerpc*-*-aix*] } {\n-\tset rpath /lib:$tmpdir\n-    }\n     if ![ld_link $CC $tmpdir/$progname \"-Wl,-rpath,$rpath $tmpdir/$main $tmpdir/$progname.so\"] {\n \tif { [ string match $visibility \"hidden\" ]\n \t     && [regexp \"undefined reference to \\`\\.?visibility\\'\" $link_output]\n@@ -287,8 +248,6 @@ proc visibility_run {visibility} {\n \tif { ![ld_compile \"$CC -g $NOPIE_CFLAGS $PLT_CFLAGS $CFLAGS $SHCFLAG $VSBCFLAG\" $srcdir/$subdir/sh1.c $tmpdir/sh1np.o]\n \t     || ![ld_compile \"$CC -g $NOPIE_CFLAGS $PLT_CFLAGS $CFLAGS $SHCFLAG $VSBCFLAG\" $srcdir/$subdir/sh2.c $tmpdir/sh2np.o] } {\n \t    unresolved \"visibility ($visibility) (non PIC)\"\n-\t} else { if { [istarget rs6000*-*-aix*] || [istarget powerpc*-*-aix*] } {\n-\t    visibility_test $visibility vnp \"visibility ($visibility) (non PIC)\" mainnp.o sh1np.o sh2np.o xcoff\n \t} else {\n \t    # SunOS non PIC shared libraries don't permit some cases of\n \t    # overriding.\n@@ -371,7 +330,7 @@ proc visibility_run {visibility} {\n \t    visibility_test $visibility vnp \"visibility ($visibility) (non PIC, load offset)\" \\\n \t\tmainnp.o sh1np.o sh2np.o elfvsb \\\n \t\t\"-Wl,-T,$srcdir/$subdir/elf-offset.ld,--hash-style=sysv\"\n-\t} }\n+\t}\n \n \t# Now compile the code using -fpic.\n \n@@ -385,11 +344,7 @@ proc visibility_run {visibility} {\n \t\t    setup_xfail $target_triplet\n \t\t}\n \t    }\n-\t    if { [istarget rs6000*-*-aix*] || [istarget powerpc*-*-aix*] } {\n-\t\tvisibility_test $visibility vp \"visibility ($visibility)\" mainnp.o sh1p.o sh2p.o xcoff\n-\t    } else {\n-\t\tvisibility_test $visibility vp \"visibility ($visibility)\" mainnp.o sh1p.o sh2p.o elfvsb $COMPRESS_LDFLAG\n-\t    }\n+\t    visibility_test $visibility vp \"visibility ($visibility)\" mainnp.o sh1p.o sh2p.o elfvsb $COMPRESS_LDFLAG\n \t}\n     }}\n \n@@ -403,44 +358,40 @@ proc visibility_run {visibility} {\n     } else {\n \tif { [ remote_file host exists $tmpdir/sh1np.o ]\n \t     && [ remote_file host exists $tmpdir/sh2np.o ] } {\n-\t    if { [istarget rs6000*-*-aix*] || [istarget powerpc*-*-aix*] } {\n-\t\tvisibility_test $visibility vmpnp \"visibility ($visibility) (PIC main, non PIC so)\" mainp.o sh1np.o sh2np.o xcoff\n-\t    } else {\n-\t\t# SunOS non PIC shared libraries don't permit some cases of\n-\t\t# overriding.\n-\t\tif { [ string match $visibility \"protected\" ]\n-\t\t     || [ string match $visibility \"protected_undef_def\" ] } {\n-\t\t    if [ string match $support_protected \"no\" ] {\n-\t\t\tsetup_xfail $target_triplet\n-\t\t    }\n-\t\t}\n-\t\tif { ![ string match $visibility \"hidden_undef\" ]\n-\t\t     && ![ string match $visibility \"protected_undef\" ] } {\n-\t\t    setup_xfail \"ia64-*-linux*\"\n-\t\t    setup_xfail \"alpha*-*-linux*\"\n-\t\t}\n-\t\tif { ![ string match $visibility \"hidden\" ]\n-\t\t     && ![ string match $visibility \"hidden_undef\" ]\n-\t\t     && ![ string match $visibility \"hidden_undef_def\" ]\n-\t\t     && ![ string match $visibility \"protected_undef\" ] } {\n-\t\t    setup_xfail \"s390x-*-linux*\"\n-\t\t    if { [istarget sparc*-*-linux*] && [is_elf64 $tmpdir/mainp.o] } {\n-\t\t\tsetup_xfail \"sparc*-*-linux*\"\n-\t\t    }\n-\t\t}\n-\t\tif { [is_elf64 $tmpdir/mainp.o] } {\n-\t\t    setup_xfail \"x86_64-*-linux*\"\n-\t\t}\n-\t\tsetup_xfail \"x86_64-*-linux-gnux32\"\n-\t\tif { ![istarget hppa*64*-*-linux*] } {\n-\t\t    setup_xfail \"hppa*-*-linux*\"\n+\t    # SunOS non PIC shared libraries don't permit some cases of\n+\t    # overriding.\n+\t    if { [ string match $visibility \"protected\" ]\n+\t\t || [ string match $visibility \"protected_undef_def\" ] } {\n+\t\tif [ string match $support_protected \"no\" ] {\n+\t\t    setup_xfail $target_triplet\n \t\t}\n-\t\tif [ string match $shared_needs_pic \"yes\" ] {\n-\t\t    setup_xfail \"arm*-*-linux*\"\n+\t    }\n+\t    if { ![ string match $visibility \"hidden_undef\" ]\n+\t\t && ![ string match $visibility \"protected_undef\" ] } {\n+\t\tsetup_xfail \"ia64-*-linux*\"\n+\t\tsetup_xfail \"alpha*-*-linux*\"\n+\t    }\n+\t    if { ![ string match $visibility \"hidden\" ]\n+\t\t && ![ string match $visibility \"hidden_undef\" ]\n+\t\t && ![ string match $visibility \"hidden_undef_def\" ]\n+\t\t && ![ string match $visibility \"protected_undef\" ] } {\n+\t\tsetup_xfail \"s390x-*-linux*\"\n+\t\tif { [istarget sparc*-*-linux*] && [is_elf64 $tmpdir/mainp.o] } {\n+\t\t    setup_xfail \"sparc*-*-linux*\"\n \t\t}\n-\n-\t\tvisibility_test $visibility vmpnp \"visibility ($visibility) (PIC main, non PIC so)\" mainp.o sh1np.o sh2np.o elfvsb\n \t    }\n+\t    if { [is_elf64 $tmpdir/mainp.o] } {\n+\t\tsetup_xfail \"x86_64-*-linux*\"\n+\t    }\n+\t    setup_xfail \"x86_64-*-linux-gnux32\"\n+\t    if { ![istarget hppa*64*-*-linux*] } {\n+\t\tsetup_xfail \"hppa*-*-linux*\"\n+\t    }\n+\t    if [ string match $shared_needs_pic \"yes\" ] {\n+\t\tsetup_xfail \"arm*-*-linux*\"\n+\t    }\n+\n+\t    visibility_test $visibility vmpnp \"visibility ($visibility) (PIC main, non PIC so)\" mainp.o sh1np.o sh2np.o elfvsb\n \t} else {\n \t    unresolved \"visibility (PIC main, non PIC so)\"\n \t}\n@@ -453,11 +404,7 @@ proc visibility_run {visibility} {\n \t\t    setup_xfail $target_triplet\n \t\t}\n \t    }\n-\t    if { [istarget rs6000*-*-aix*] || [istarget powerpc*-*-aix*] } {\n-\t\tvisibility_test $visibility vmpp \"visibility ($visibility) (PIC main)\" mainp.o sh1p.o sh2p.o xcoff\n-\t    } else {\n-\t\tvisibility_test $visibility vmpp \"visibility ($visibility) (PIC main)\" mainp.o sh1p.o sh2p.o elfvsb\n-\t    }\n+\t    visibility_test $visibility vmpp \"visibility ($visibility) (PIC main)\" mainp.o sh1p.o sh2p.o elfvsb\n \t} else {\n \t    unresolved \"visibility ($visibility) (PIC main)\"\n \t}\n@@ -529,8 +476,3 @@ if { ![ld_compile \"$CC -g $CFLAGS\" $srcdir/$subdir/test.c tmpdir/test.o] } {\n \t}\n     }\n }\n-\n-if { [istarget rs6000*-*-aix*] || [istarget powerpc*-*-aix*] } {\n-    # Remove the temporary directory.\n-    catch \"exec rm -rf $tmpdir\" exec_status\n-}"
    },
    {
      "sha": "d3194796aaa0eddc0d2a25c3bbab6e5f221d58a2",
      "filename": "ld/testsuite/ld-elfweak/elfweak.exp",
      "status": "modified",
      "additions": 0,
      "deletions": 3,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7193487fa8d496a1df20eb8ea5007e9b43ac07cb/ld/testsuite/ld-elfweak/elfweak.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7193487fa8d496a1df20eb8ea5007e9b43ac07cb/ld/testsuite/ld-elfweak/elfweak.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-elfweak/elfweak.exp?ref=7193487fa8d496a1df20eb8ea5007e9b43ac07cb",
      "patch": "@@ -55,9 +55,6 @@ if {    ![istarget alpha*-*-linux*]\n      && ![istarget *-*-nacl*] } {\n     return\n }\n-if { [istarget rs6000*-*-aix*] || [istarget powerpc*-*-aix*] } {\n-    return\n-}\n \n set diff diff\n set tmpdir tmpdir"
    },
    {
      "sha": "de676b81765a2961bed666d31f9800e7b480861a",
      "filename": "ld/testsuite/ld-powerpc/powerpc.exp",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7193487fa8d496a1df20eb8ea5007e9b43ac07cb/ld/testsuite/ld-powerpc/powerpc.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7193487fa8d496a1df20eb8ea5007e9b43ac07cb/ld/testsuite/ld-powerpc/powerpc.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-powerpc/powerpc.exp?ref=7193487fa8d496a1df20eb8ea5007e9b43ac07cb",
      "patch": "@@ -70,10 +70,10 @@ if {[istarget \"*-*-vxworks\"]} {\n # is ELF, because we pass -melf32ppc to ld and powerpc-nto-ld wants\n # -melf32ppcnto.\n \n-if { [istarget \"*-*-macos*\"]\n+if { [is_xcoff_format]\n      || [istarget \"*-*-pe\"] || [istarget \"*-*-winnt*\"]\n-     || [istarget \"*-*-cygwin*\"] || [istarget \"*-*-aix*\"]\n-     || [istarget \"*-*-beos*\"] || [istarget \"*-*-lynxos*\"]\n+     || [istarget \"*-*-cygwin*\"]\n+     || [istarget \"*-*-lynxos*\"]\n      || [istarget \"*-*-nto*\"] } {\n     return\n }"
    },
    {
      "sha": "94fb5d3ae70303f183cd0014a6d3980391e7abde",
      "filename": "ld/testsuite/ld-scripts/expr2.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7193487fa8d496a1df20eb8ea5007e9b43ac07cb/ld/testsuite/ld-scripts/expr2.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7193487fa8d496a1df20eb8ea5007e9b43ac07cb/ld/testsuite/ld-scripts/expr2.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-scripts/expr2.d?ref=7193487fa8d496a1df20eb8ea5007e9b43ac07cb",
      "patch": "@@ -1,6 +1,6 @@\n # ld: -T expr2.t\n #nm: -B\n-#xfail: arm-*-*aout powerpc*-*-aix* rs6000-*-aix*\n+#xfail: arm-*-*aout [is_xcoff_format]\n \n #...\n .* D defined"
    },
    {
      "sha": "e38a7d5a2d54e11fb913a699413addb0318c3325",
      "filename": "ld/testsuite/ld-scripts/print-memory-usage.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 2,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7193487fa8d496a1df20eb8ea5007e9b43ac07cb/ld/testsuite/ld-scripts/print-memory-usage.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7193487fa8d496a1df20eb8ea5007e9b43ac07cb/ld/testsuite/ld-scripts/print-memory-usage.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-scripts/print-memory-usage.exp?ref=7193487fa8d496a1df20eb8ea5007e9b43ac07cb",
      "patch": "@@ -29,8 +29,7 @@ if { [istarget mips*-*-*]\n      || [istarget pdp11*-*-*]\n      || [istarget tic30*-*-*]\n      || [istarget tic54x*-*-*]\n-     || [istarget *-*-aix*]\n-     || [istarget *-*-xcoff*] } {\n+     || [is_xcoff_format] } {\n     return\n }\n "
    },
    {
      "sha": "4ee530b4086b9e49678ea9f63cbfcacb93b32b24",
      "filename": "ld/testsuite/ld-scripts/section-match-1.d",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7193487fa8d496a1df20eb8ea5007e9b43ac07cb/ld/testsuite/ld-scripts/section-match-1.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7193487fa8d496a1df20eb8ea5007e9b43ac07cb/ld/testsuite/ld-scripts/section-match-1.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-scripts/section-match-1.d?ref=7193487fa8d496a1df20eb8ea5007e9b43ac07cb",
      "patch": "@@ -1,8 +1,8 @@\n #source: section-match-1.s\n #ld: -T section-match-1.t\n #objdump: -s\n-#notarget: *-*-osf* *-*-aix* *-*-pe *-*-*aout *-*-ecoff *-*-netbsd *-*-vms h8300-*-* ns32k-*-* tic30-*-*\n-# This test uses arbitrary section names, which are not support by some\n+#target: [is_elf_format]\n+# This test uses arbitrary section names, which are not supported by some\n # file formats.  Also these section names must be present in the\n # output, not translated into some other name, eg .text\n "
    },
    {
      "sha": "13fc4e1fd7c7363222d97c9e478891709317f457",
      "filename": "ld/testsuite/ld-srec/srec.exp",
      "status": "modified",
      "additions": 6,
      "deletions": 2,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7193487fa8d496a1df20eb8ea5007e9b43ac07cb/ld/testsuite/ld-srec/srec.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7193487fa8d496a1df20eb8ea5007e9b43ac07cb/ld/testsuite/ld-srec/srec.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-srec/srec.exp?ref=7193487fa8d496a1df20eb8ea5007e9b43ac07cb",
      "patch": "@@ -384,7 +384,9 @@ setup_xfail \"mips*-*-irix5*\" \"mips*-*-irix6*\" \"mips*-*-linux*\"\n \n # The S-record linker doesn't do the magic TOC handling that XCOFF\n # linkers do.\n-setup_xfail \"*-*-aix*\" \"*-*-xcoff*\"\n+if [is_xcoff_format] {\n+    setup_xfail *-*-*\n+}\n \n # The S-record linker is not supported for ARC.\n setup_xfail \"arc*-*-*\"\n@@ -454,7 +456,9 @@ if ![ld_compile \"$CXX $CXXFLAGS -fno-exceptions\" $srcdir/$subdir/sr3.cc tmpdir/s\n # See above.\n setup_xfail \"i*86-*-aout*\"\n setup_xfail \"mips*-*-irix5*\" \"mips*-*-irix6*\" \"mips*-*-linux*\"\n-setup_xfail \"*-*-aix*\" \"*-*-xcoff*\"\n+if [is_xcoff_format] {\n+    setup_xfail *-*-*\n+}\n setup_xfail \"arc*-*-*\"\n setup_xfail \"arm*-*-*\"\n setup_xfail \"v850*-*-elf\""
    },
    {
      "sha": "dceb6518e5ee6d71d67d1a622b18807a298ee2a8",
      "filename": "ld/testsuite/ld-undefined/require-defined.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 2,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7193487fa8d496a1df20eb8ea5007e9b43ac07cb/ld/testsuite/ld-undefined/require-defined.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7193487fa8d496a1df20eb8ea5007e9b43ac07cb/ld/testsuite/ld-undefined/require-defined.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-undefined/require-defined.exp?ref=7193487fa8d496a1df20eb8ea5007e9b43ac07cb",
      "patch": "@@ -35,9 +35,8 @@ if { [istarget \"powerpcle-*-*\"] \\\n      || [istarget \"cris-axis-elf\"] \\\n      || [istarget \"ns32k-*-*\"] \\\n      || [istarget \"*-*-coff\"] \\\n-     || [istarget \"*-*-xcoff\"] \\\n      || [istarget \"*-*-*aout*\"] \\\n-     || [istarget \"*-*-*aix*\"] } {\n+     || [is_xcoff_format] } {\n     unsupported \"require-defined testing\"\n     return\n }"
    }
  ]
}