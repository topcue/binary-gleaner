{
  "sha": "acdf84a65400f416c60a0c9c14953ba5a73fb0cd",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YWNkZjg0YTY1NDAwZjQxNmM2MGEwYzljMTQ5NTNiYTVhNzNmYjBjZA==",
  "commit": {
    "author": {
      "name": "Pedro Alves",
      "email": "palves@redhat.com",
      "date": "2020-01-10T20:05:42Z"
    },
    "committer": {
      "name": "Pedro Alves",
      "email": "palves@redhat.com",
      "date": "2020-01-10T20:05:42Z"
    },
    "message": "Make \"show remote exec-file\" inferior-aware\n\nThe \"set remote exec-file\" setting is per-inferior, but the \"show\nremote exec-file\" command always shows the last set exec-file,\nirrespective of the current inferior.  E.g.:\n\n # Set inferior 1's exec-file:\n (gdb) set remote exec-file prog1\n\n # Add inferior 2, switch to it, and set its exec-file:\n (gdb) add-inferior\n Added inferior 2\n (gdb) inferior 2\n (gdb) set remote exec-file prog2\n\n # Switch back to inferior 1, and show its exec-file:\n (gdb) inferior 1\n (gdb) show remote exec-file\n prog2\n ^^^^^ should show \"prog1\" instead here.\n\ngdb/ChangeLog:\n2020-01-10  Pedro Alves  <palves@redhat.com>\n\n\t* remote.c (show_remote_exec_file): Show the current inferior's\n\texec-file instead of the command variable's value.\n\ngdb/testsuite/ChangeLog:\n2020-01-10  Pedro Alves  <palves@redhat.com>\n\n\t* gdb.base/remote-exec-file.exp: New file.",
    "tree": {
      "sha": "dd3479b1bcc98cbd01a9ffa73900cb905622308c",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/dd3479b1bcc98cbd01a9ffa73900cb905622308c"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/acdf84a65400f416c60a0c9c14953ba5a73fb0cd",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/acdf84a65400f416c60a0c9c14953ba5a73fb0cd",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/acdf84a65400f416c60a0c9c14953ba5a73fb0cd",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/acdf84a65400f416c60a0c9c14953ba5a73fb0cd/comments",
  "author": {
    "login": "palves",
    "id": 1202913,
    "node_id": "MDQ6VXNlcjEyMDI5MTM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1202913?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/palves",
    "html_url": "https://github.com/palves",
    "followers_url": "https://api.github.com/users/palves/followers",
    "following_url": "https://api.github.com/users/palves/following{/other_user}",
    "gists_url": "https://api.github.com/users/palves/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/palves/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/palves/subscriptions",
    "organizations_url": "https://api.github.com/users/palves/orgs",
    "repos_url": "https://api.github.com/users/palves/repos",
    "events_url": "https://api.github.com/users/palves/events{/privacy}",
    "received_events_url": "https://api.github.com/users/palves/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "palves",
    "id": 1202913,
    "node_id": "MDQ6VXNlcjEyMDI5MTM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1202913?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/palves",
    "html_url": "https://github.com/palves",
    "followers_url": "https://api.github.com/users/palves/followers",
    "following_url": "https://api.github.com/users/palves/following{/other_user}",
    "gists_url": "https://api.github.com/users/palves/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/palves/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/palves/subscriptions",
    "organizations_url": "https://api.github.com/users/palves/orgs",
    "repos_url": "https://api.github.com/users/palves/repos",
    "events_url": "https://api.github.com/users/palves/events{/privacy}",
    "received_events_url": "https://api.github.com/users/palves/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "ec506636cc0c56d4229b00d5e439c0610970f84d",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/ec506636cc0c56d4229b00d5e439c0610970f84d",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/ec506636cc0c56d4229b00d5e439c0610970f84d"
    }
  ],
  "stats": {
    "total": 57,
    "additions": 56,
    "deletions": 1
  },
  "files": [
    {
      "sha": "af46e69fb305d768d59050aa716724290b7e1257",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/acdf84a65400f416c60a0c9c14953ba5a73fb0cd/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/acdf84a65400f416c60a0c9c14953ba5a73fb0cd/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=acdf84a65400f416c60a0c9c14953ba5a73fb0cd",
      "patch": "@@ -1,3 +1,8 @@\n+2020-01-10  Pedro Alves  <palves@redhat.com>\n+\n+\t* remote.c (show_remote_exec_file): Show the current inferior's\n+\texec-file instead of the command variable's value.\n+\n 2020-01-10  Pedro Alves  <palves@redhat.com>\n \n \t* record-full.c (record_full_resume_ptid): New global."
    },
    {
      "sha": "539b27ebd29133f2603286ae230346526c245cfe",
      "filename": "gdb/remote.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/acdf84a65400f416c60a0c9c14953ba5a73fb0cd/gdb/remote.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/acdf84a65400f416c60a0c9c14953ba5a73fb0cd/gdb/remote.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/remote.c?ref=acdf84a65400f416c60a0c9c14953ba5a73fb0cd",
      "patch": "@@ -1268,7 +1268,7 @@ static void\n show_remote_exec_file (struct ui_file *file, int from_tty,\n \t\t       struct cmd_list_element *cmd, const char *value)\n {\n-  fprintf_filtered (file, \"%s\\n\", remote_exec_file_var);\n+  fprintf_filtered (file, \"%s\\n\", get_remote_exec_file ());\n }\n \n static int"
    },
    {
      "sha": "4b38c214daf52f5a0c5668cff23bce99d8c31664",
      "filename": "gdb/testsuite/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/acdf84a65400f416c60a0c9c14953ba5a73fb0cd/gdb/testsuite/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/acdf84a65400f416c60a0c9c14953ba5a73fb0cd/gdb/testsuite/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/ChangeLog?ref=acdf84a65400f416c60a0c9c14953ba5a73fb0cd",
      "patch": "@@ -1,3 +1,7 @@\n+2020-01-10  Pedro Alves  <palves@redhat.com>\n+\n+\t* gdb.base/remote-exec-file.exp: New file.\n+\n 2020-01-10  Pedro Alves  <palves@redhat.com>\n \n \t* gdb.base/fork-running-state.exp (do_test): Adjust expected"
    },
    {
      "sha": "277e40521e6ee2d6415375c7493b7e170858d7ba",
      "filename": "gdb/testsuite/gdb.base/remote-exec-file.exp",
      "status": "added",
      "additions": 46,
      "deletions": 0,
      "changes": 46,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/acdf84a65400f416c60a0c9c14953ba5a73fb0cd/gdb/testsuite/gdb.base/remote-exec-file.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/acdf84a65400f416c60a0c9c14953ba5a73fb0cd/gdb/testsuite/gdb.base/remote-exec-file.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/remote-exec-file.exp?ref=acdf84a65400f416c60a0c9c14953ba5a73fb0cd",
      "patch": "@@ -0,0 +1,46 @@\n+# Copyright 2019-2020 Free Software Foundation, Inc.\n+\n+# This program is free software; you can redistribute it and/or modify\n+# it under the terms of the GNU General Public License as published by\n+# the Free Software Foundation; either version 3 of the License, or\n+# (at your option) any later version.\n+#\n+# This program is distributed in the hope that it will be useful,\n+# but WITHOUT ANY WARRANTY; without even the implied warranty of\n+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+# GNU General Public License for more details.\n+#\n+# You should have received a copy of the GNU General Public License\n+# along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+\n+# Check that \"show remote exec-file\" displays each inferior's\n+# exec-file.  Regression test for a bug where \"show remote exec-file\"\n+# would show the last exec-file set, irrespective of the current\n+# inferior.\n+\n+clean_restart\n+\n+# Set remote exec-file in inferior 1.\n+with_test_prefix \"set inf 1\" {\n+    gdb_test_no_output \"set remote exec-file prog1\"\n+}\n+\n+# Set remote exec-file in inferior 2.\n+with_test_prefix \"set inf 2\" {\n+    gdb_test \"add-inferior\" \"Added inferior 2\" \"add inferior 2\"\n+    gdb_test \"inferior 2\" \"Switching to inferior 2.*\"\n+    gdb_test_no_output \"set remote exec-file prog2\"\n+}\n+\n+# Check that \"show remote exec-file\" diplays each inferior's\n+# exec-file.\n+\n+with_test_prefix \"show inf 1\" {\n+    gdb_test \"inferior 1\" \"Switching to inferior 1.*\"\n+    gdb_test \"show remote exec-file\" \"prog1\"\n+}\n+\n+with_test_prefix \"show inf 2\" {\n+    gdb_test \"inferior 2\" \"Switching to inferior 2.*\"\n+    gdb_test \"show remote exec-file\" \"prog2\"\n+}"
    }
  ]
}