{
  "sha": "bf4ba07ca61793a1faf81c0447ba97fdc6639b50",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YmY0YmEwN2NhNjE3OTNhMWZhZjgxYzA0NDdiYTk3ZmRjNjYzOWI1MA==",
  "commit": {
    "author": {
      "name": "Jan Beulich",
      "email": "jbeulich@suse.com",
      "date": "2020-07-21T12:20:11Z"
    },
    "committer": {
      "name": "Jan Beulich",
      "email": "jbeulich@suse.com",
      "date": "2020-07-21T12:20:11Z"
    },
    "message": "Revert \"x86: Don't display eiz with no scale\"\n\nThis reverts commit 04c662e2b66bedd050f97adec19afe0fcfce9ea7.\nIn my underlying suggestion I neglected the fact that in those\ncases (,%eiz,1) is the only visible indication that 32-bit\naddressing is in effect.",
    "tree": {
      "sha": "feaeb55588e260ba937d85653caaa2bb30ef759a",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/feaeb55588e260ba937d85653caaa2bb30ef759a"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/bf4ba07ca61793a1faf81c0447ba97fdc6639b50",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/bf4ba07ca61793a1faf81c0447ba97fdc6639b50",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/bf4ba07ca61793a1faf81c0447ba97fdc6639b50",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/bf4ba07ca61793a1faf81c0447ba97fdc6639b50/comments",
  "author": {
    "login": "jbeulich",
    "id": 5610135,
    "node_id": "MDQ6VXNlcjU2MTAxMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5610135?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jbeulich",
    "html_url": "https://github.com/jbeulich",
    "followers_url": "https://api.github.com/users/jbeulich/followers",
    "following_url": "https://api.github.com/users/jbeulich/following{/other_user}",
    "gists_url": "https://api.github.com/users/jbeulich/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jbeulich/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jbeulich/subscriptions",
    "organizations_url": "https://api.github.com/users/jbeulich/orgs",
    "repos_url": "https://api.github.com/users/jbeulich/repos",
    "events_url": "https://api.github.com/users/jbeulich/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jbeulich/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "jbeulich",
    "id": 5610135,
    "node_id": "MDQ6VXNlcjU2MTAxMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5610135?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jbeulich",
    "html_url": "https://github.com/jbeulich",
    "followers_url": "https://api.github.com/users/jbeulich/followers",
    "following_url": "https://api.github.com/users/jbeulich/following{/other_user}",
    "gists_url": "https://api.github.com/users/jbeulich/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jbeulich/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jbeulich/subscriptions",
    "organizations_url": "https://api.github.com/users/jbeulich/orgs",
    "repos_url": "https://api.github.com/users/jbeulich/repos",
    "events_url": "https://api.github.com/users/jbeulich/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jbeulich/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "2b42b0415aee13f1939b395c3693e679d16d0a70",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/2b42b0415aee13f1939b395c3693e679d16d0a70",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/2b42b0415aee13f1939b395c3693e679d16d0a70"
    }
  ],
  "stats": {
    "total": 39,
    "additions": 25,
    "deletions": 14
  },
  "files": [
    {
      "sha": "4ac6ea29a615a01357d38b76d3f52c0271cd51e4",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/bf4ba07ca61793a1faf81c0447ba97fdc6639b50/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/bf4ba07ca61793a1faf81c0447ba97fdc6639b50/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=bf4ba07ca61793a1faf81c0447ba97fdc6639b50",
      "patch": "@@ -1,3 +1,10 @@\n+2020-07-21  Jan Beulich  <jbeulich@suse.com>\n+\n+\t* testsuite/gas/i386/evex-no-scale-64.d,\n+\ttestsuite/gas/i386/addr32.d,\n+\ttestsuite/gas/i386/x86-64-addr32-intel.d,\n+\ttestsuite/gas/i386/x86-64-addr32.d: Adjust expectations.\n+\n 2020-07-21  Cooper Qu  <cooper.qu@linux.alibaba.com>\n \n \t* config/tc-csky.c (md_begin): Fix tests of arch and mach flags."
    },
    {
      "sha": "578eb8d55f9b6eee1ab8fbe6356f0fd84f9f62de",
      "filename": "gas/testsuite/gas/i386/evex-no-scale-64.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/bf4ba07ca61793a1faf81c0447ba97fdc6639b50/gas/testsuite/gas/i386/evex-no-scale-64.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/bf4ba07ca61793a1faf81c0447ba97fdc6639b50/gas/testsuite/gas/i386/evex-no-scale-64.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/evex-no-scale-64.d?ref=bf4ba07ca61793a1faf81c0447ba97fdc6639b50",
      "patch": "@@ -11,6 +11,6 @@ Disassembly of section .text:\n  +[a-f0-9]+:\t62 f1 7c 48 28 04 05 40 00 00 00 \tvmovaps 0x40\\(,%rax,1\\),%zmm0\n  +[a-f0-9]+:\t62 f1 7c 48 28 04 25 40 00 00 00 \tvmovaps 0x40,%zmm0\n  +[a-f0-9]+:\t67 62 f1 7c 48 28 04 05 40 00 00 00 \tvmovaps 0x40\\(,%eax,1\\),%zmm0\n- +[a-f0-9]+:\t67 62 f1 7c 48 28 04 25 40 00 00 00 \tvmovaps 0x40,%zmm0\n+ +[a-f0-9]+:\t67 62 f1 7c 48 28 04 25 40 00 00 00 \tvmovaps 0x40\\(,%eiz,1\\),%zmm0\n  +[a-f0-9]+:\t62 f1 7c 48 28 04 25 40 00 00 00 \tvmovaps 0x40,%zmm0\n #pass"
    },
    {
      "sha": "0988457b34c5e4e5691ee59105f17ade3588415d",
      "filename": "gas/testsuite/gas/i386/x86-64-addr32-intel.d",
      "status": "modified",
      "additions": 6,
      "deletions": 6,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/bf4ba07ca61793a1faf81c0447ba97fdc6639b50/gas/testsuite/gas/i386/x86-64-addr32-intel.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/bf4ba07ca61793a1faf81c0447ba97fdc6639b50/gas/testsuite/gas/i386/x86-64-addr32-intel.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/x86-64-addr32-intel.d?ref=bf4ba07ca61793a1faf81c0447ba97fdc6639b50",
      "patch": "@@ -11,25 +11,25 @@ Disassembly of section .text:\n [ \t]*[a-f0-9]+:\t67 48 8d 80 00 00 00 00[ \t]+lea[ \t]+rax,\\[eax\\+0x0\\].*\n [ \t]*[a-f0-9]+:\t67 49 8d 80 00 00 00 00[ \t]+lea[ \t]+rax,\\[r8d\\+0x0\\].*\n [ \t]*[a-f0-9]+:\t67 48 8d 05 00 00 00 00[ \t]+lea[ \t]+rax,\\[eip\\+0x0\\].*\n-[ \t]*[a-f0-9]+:\t67 48 8d 04 25 00 00 00 00 \tlea[ ]+rax,ds:0x0\t.*\n+[ \t]*[a-f0-9]+:\t67 48 8d 04 25 00 00 00 00 \tlea[ ]+rax,\\[eiz\\*1\\+0x0\\].*\n [ \t]*[a-f0-9]+:\t67 a0 98 08 60 00    \taddr32 mov al,ds:0x600898\n [ \t]*[a-f0-9]+:\t67 66 a1 98 08 60 00 \taddr32 mov ax,ds:0x600898\n [ \t]*[a-f0-9]+:\t67 a1 98 08 60 00    \taddr32 mov eax,ds:0x600898\n [ \t]*[a-f0-9]+:\t67 48 a1 98 08 60 00 \taddr32 mov rax,ds:0x600898\n [ \t]*[a-f0-9]+:\t67 48 a1 98 08 80 00 \taddr32 mov rax,ds:0x800898\n-[ \t]*[a-f0-9]+:\t67 48 8b 1c 25 98 08 80 00 \tmov[ ]+rbx,QWORD PTR ds:0x800898\n+[ \t]*[a-f0-9]+:\t67 48 8b 1c 25 98 08 80 00 \tmov[ ]+rbx,QWORD PTR \\[eiz\\*1\\+0x800898\\]\n [ \t]*[a-f0-9]+:\t67 48 a1 ef cd ab 89 \taddr32 mov rax,ds:0x89abcdef\n-[ \t]*[a-f0-9]+:\t67 48 8b 1c 25 ef cd ab 89 \tmov[ ]+rbx,QWORD PTR ds:0x89abcdef\n+[ \t]*[a-f0-9]+:\t67 48 8b 1c 25 ef cd ab 89 \tmov[ ]+rbx,QWORD PTR \\[eiz\\*1\\+0x89abcdef\\]\n [ \t]*[a-f0-9]+:\t67 48 b8 ef cd ab 89 00 00 00 00 \taddr32 movabs rax,0x89abcdef\n [ \t]*[a-f0-9]+:\t67 48 bb ef cd ab 89 00 00 00 00 \taddr32 movabs rbx,0x89abcdef\n [ \t]*[a-f0-9]+:\t67 a2 98 08 60 00    \taddr32 mov ds:0x600898,al\n [ \t]*[a-f0-9]+:\t67 66 a3 98 08 60 00 \taddr32 mov ds:0x600898,ax\n [ \t]*[a-f0-9]+:\t67 a3 98 08 60 00    \taddr32 mov ds:0x600898,eax\n [ \t]*[a-f0-9]+:\t67 48 a3 98 08 60 00 \taddr32 mov ds:0x600898,rax\n [ \t]*[a-f0-9]+:\t67 48 a3 98 08 80 00 \taddr32 mov ds:0x800898,rax\n-[ \t]*[a-f0-9]+:\t67 48 89 1c 25 98 08 80 00 \tmov[ ]+QWORD PTR ds:0x800898,rbx\n+[ \t]*[a-f0-9]+:\t67 48 89 1c 25 98 08 80 00 \tmov[ ]+QWORD PTR \\[eiz\\*1\\+0x800898\\],rbx\n [ \t]*[a-f0-9]+:\t67 48 a3 ef cd ab 89 \taddr32 mov ds:0x89abcdef,rax\n-[ \t]*[a-f0-9]+:\t67 48 89 1c 25 ef cd ab 89 \tmov[ ]+QWORD PTR ds:0x89abcdef,rbx\n-[ \t]*[a-f0-9]+:\t67 89 04 25 11 22 33 ff \tmov[ ]+DWORD PTR ds:0xff332211,eax\n+[ \t]*[a-f0-9]+:\t67 48 89 1c 25 ef cd ab 89 \tmov[ ]+QWORD PTR \\[eiz\\*1\\+0x89abcdef\\],rbx\n+[ \t]*[a-f0-9]+:\t67 89 04 25 11 22 33 ff \tmov[ ]+DWORD PTR \\[eiz\\*1\\+0xff332211\\],eax\n [ \t]*[a-f0-9]+:\t67 89 04 65 11 22 33 ff \tmov[ ]+DWORD PTR \\[eiz\\*2\\+0xff332211\\],eax\n #pass"
    },
    {
      "sha": "d9481a7439ec363a18ec7050367fba0e485eaff6",
      "filename": "gas/testsuite/gas/i386/x86-64-addr32.d",
      "status": "modified",
      "additions": 6,
      "deletions": 6,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/bf4ba07ca61793a1faf81c0447ba97fdc6639b50/gas/testsuite/gas/i386/x86-64-addr32.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/bf4ba07ca61793a1faf81c0447ba97fdc6639b50/gas/testsuite/gas/i386/x86-64-addr32.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/x86-64-addr32.d?ref=bf4ba07ca61793a1faf81c0447ba97fdc6639b50",
      "patch": "@@ -10,25 +10,25 @@ Disassembly of section .text:\n [ \t]*[a-f0-9]+:\t67 48 8d 80 00 00 00 00[ \t]+lea[ \t]+0x0\\(%eax\\),%rax.*\n [ \t]*[a-f0-9]+:\t67 49 8d 80 00 00 00 00[ \t]+lea[ \t]+0x0\\(%r8d\\),%rax.*\n [ \t]*[a-f0-9]+:\t67 48 8d 05 00 00 00 00[ \t]+lea[ \t]+0x0\\(%eip\\),%rax.*\n-[ \t]*[a-f0-9]+:\t67 48 8d 04 25 00 00 00 00[ \t]+lea[ ]+0x0,%rax.*\n+[ \t]*[a-f0-9]+:\t67 48 8d 04 25 00 00 00 00[ \t]+lea[ ]+0x0\\(,%eiz,1\\),%rax.*\n [ \t]*[a-f0-9]+:\t67 a0 98 08 60 00    \taddr32 mov 0x600898,%al\n [ \t]*[a-f0-9]+:\t67 66 a1 98 08 60 00 \taddr32 mov 0x600898,%ax\n [ \t]*[a-f0-9]+:\t67 a1 98 08 60 00    \taddr32 mov 0x600898,%eax\n [ \t]*[a-f0-9]+:\t67 48 a1 98 08 60 00 \taddr32 mov 0x600898,%rax\n [ \t]*[a-f0-9]+:\t67 48 a1 98 08 80 00 \taddr32 mov 0x800898,%rax\n-[ \t]*[a-f0-9]+:\t67 48 8b 1c 25 98 08 80 00 \tmov[ ]+0x800898,%rbx\n+[ \t]*[a-f0-9]+:\t67 48 8b 1c 25 98 08 80 00 \tmov[ ]+0x800898\\(,%eiz,1\\),%rbx\n [ \t]*[a-f0-9]+:\t67 48 a1 ef cd ab 89 \taddr32 mov 0x89abcdef,%rax\n-[ \t]*[a-f0-9]+:\t67 48 8b 1c 25 ef cd ab 89 \tmov[ ]+0x89abcdef,%rbx\n+[ \t]*[a-f0-9]+:\t67 48 8b 1c 25 ef cd ab 89 \tmov[ ]+0x89abcdef\\(,%eiz,1\\),%rbx\n [ \t]*[a-f0-9]+:\t67 48 b8 ef cd ab 89 00 00 00 00 \taddr32 movabs \\$0x89abcdef,%rax\n [ \t]*[a-f0-9]+:\t67 48 bb ef cd ab 89 00 00 00 00 \taddr32 movabs \\$0x89abcdef,%rbx\n [ \t]*[a-f0-9]+:\t67 a2 98 08 60 00    \taddr32 mov %al,0x600898\n [ \t]*[a-f0-9]+:\t67 66 a3 98 08 60 00 \taddr32 mov %ax,0x600898\n [ \t]*[a-f0-9]+:\t67 a3 98 08 60 00    \taddr32 mov %eax,0x600898\n [ \t]*[a-f0-9]+:\t67 48 a3 98 08 60 00 \taddr32 mov %rax,0x600898\n [ \t]*[a-f0-9]+:\t67 48 a3 98 08 80 00 \taddr32 mov %rax,0x800898\n-[ \t]*[a-f0-9]+:\t67 48 89 1c 25 98 08 80 00 \tmov[ ]+%rbx,0x800898\n+[ \t]*[a-f0-9]+:\t67 48 89 1c 25 98 08 80 00 \tmov[ ]+%rbx,0x800898\\(,%eiz,1\\)\n [ \t]*[a-f0-9]+:\t67 48 a3 ef cd ab 89 \taddr32 mov %rax,0x89abcdef\n-[ \t]*[a-f0-9]+:\t67 48 89 1c 25 ef cd ab 89 \tmov[ ]+%rbx,0x89abcdef\n-[ \t]*[a-f0-9]+:\t67 89 04 25 11 22 33 ff \tmov[ ]+%eax,0xff332211\n+[ \t]*[a-f0-9]+:\t67 48 89 1c 25 ef cd ab 89 \tmov[ ]+%rbx,0x89abcdef\\(,%eiz,1\\)\n+[ \t]*[a-f0-9]+:\t67 89 04 25 11 22 33 ff \tmov[ ]+%eax,0xff332211\\(,%eiz,1\\)\n [ \t]*[a-f0-9]+:\t67 89 04 65 11 22 33 ff \tmov[ ]+%eax,0xff332211\\(,%eiz,2\\)\n #pass"
    },
    {
      "sha": "94e92b09239c06d0237fb99ab32abac6a0dc3b0c",
      "filename": "opcodes/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/bf4ba07ca61793a1faf81c0447ba97fdc6639b50/opcodes/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/bf4ba07ca61793a1faf81c0447ba97fdc6639b50/opcodes/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/ChangeLog?ref=bf4ba07ca61793a1faf81c0447ba97fdc6639b50",
      "patch": "@@ -1,3 +1,7 @@\n+2020-07-21  Jan Beulich  <jbeulich@suse.com>\n+\n+\t* i386-dis.c (OP_E_memory): Revert previous change.\n+\n 2020-07-15  H.J. Lu  <hongjiu.lu@intel.com>\n \n \tPR gas/26237"
    },
    {
      "sha": "cd8a9a8d752f7f0e825556c460f0bd8890939214",
      "filename": "opcodes/i386-dis.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/bf4ba07ca61793a1faf81c0447ba97fdc6639b50/opcodes/i386-dis.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/bf4ba07ca61793a1faf81c0447ba97fdc6639b50/opcodes/i386-dis.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/i386-dis.c?ref=bf4ba07ca61793a1faf81c0447ba97fdc6639b50",
      "patch": "@@ -11818,7 +11818,7 @@ OP_E_memory (int bytemode, int sizeflag)\n \t\t  /* Without base nor index registers, zero-extend the\n \t\t     lower 32-bit displacement to 64 bits.  */\n \t\t  disp = (unsigned int) disp;\n-\t\t  needindex = scale;\n+\t\t  needindex = 1;\n \t\t}\n \t      needaddr32 = 1;\n \t    }"
    }
  ]
}