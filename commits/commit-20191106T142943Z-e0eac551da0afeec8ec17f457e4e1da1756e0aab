{
  "sha": "e0eac551da0afeec8ec17f457e4e1da1756e0aab",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ZTBlYWM1NTFkYTBhZmVlYzhlYzE3ZjQ1N2U0ZTFkYTE3NTZlMGFhYg==",
  "commit": {
    "author": {
      "name": "Tom Tromey",
      "email": "tom@tromey.com",
      "date": "2019-10-27T21:50:54Z"
    },
    "committer": {
      "name": "Tom Tromey",
      "email": "tom@tromey.com",
      "date": "2019-11-06T14:29:43Z"
    },
    "message": "Remove some includes of readline.h\n\nI went through most of the spots that include readline.h and, when\nappropriate, either removed the include or changed it to include\ntilde.h.\n\nNote that remote-sim.c and bsd-kvm.c could probably include tilde.h\ninstead, but I did not change these.  I think I can't build the\nlatter, and I didn't want to set up a sim build for the former.\n\nTested by rebuilding.\n\ngdb/ChangeLog\n2019-11-06  Tom Tromey  <tom@tromey.com>\n\n\t* tui/tui-interp.c: Don't include readline.h.\n\t* tui/tui-hooks.c: Don't include readline.h.\n\t* symmisc.c: Include tilde.h, not readline.h.\n\t* symfile.c: Include tilde.h, not readline.h.\n\t* source.c: Include tilde.h, not readline.h.\n\t* solib.c: Include tilde.h, not readline.h.\n\t* psymtab.c: Include tilde.h, not readline.h.\n\t* exec.c: Include tilde.h, not readline.h.\n\t* corelow.c: Include tilde.h, not readline.h.\n\t* cli/cli-dump.c: Include tilde.h, not readline.h.\n\t* cli/cli-cmds.c: Don't include readline.h.\n\nChange-Id: I60487a190c43128b800ef77517d1ab42957571d7",
    "tree": {
      "sha": "b9c7c2fdfaba4c497ab45124f37d8169c5111e82",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/b9c7c2fdfaba4c497ab45124f37d8169c5111e82"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/e0eac551da0afeec8ec17f457e4e1da1756e0aab",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/e0eac551da0afeec8ec17f457e4e1da1756e0aab",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/e0eac551da0afeec8ec17f457e4e1da1756e0aab",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/e0eac551da0afeec8ec17f457e4e1da1756e0aab/comments",
  "author": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "75802ccb60bfece30005d85de983181afe4e5306",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/75802ccb60bfece30005d85de983181afe4e5306",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/75802ccb60bfece30005d85de983181afe4e5306"
    }
  ],
  "stats": {
    "total": 37,
    "additions": 22,
    "deletions": 15
  },
  "files": [
    {
      "sha": "048c2dd484369a037d7233a83e2f28104bf8383b",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 14,
      "deletions": 0,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e0eac551da0afeec8ec17f457e4e1da1756e0aab/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e0eac551da0afeec8ec17f457e4e1da1756e0aab/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=e0eac551da0afeec8ec17f457e4e1da1756e0aab",
      "patch": "@@ -1,3 +1,17 @@\n+2019-11-06  Tom Tromey  <tom@tromey.com>\n+\n+\t* tui/tui-interp.c: Don't include readline.h.\n+\t* tui/tui-hooks.c: Don't include readline.h.\n+\t* symmisc.c: Include tilde.h, not readline.h.\n+\t* symfile.c: Include tilde.h, not readline.h.\n+\t* source.c: Include tilde.h, not readline.h.\n+\t* solib.c: Include tilde.h, not readline.h.\n+\t* psymtab.c: Include tilde.h, not readline.h.\n+\t* exec.c: Include tilde.h, not readline.h.\n+\t* corelow.c: Include tilde.h, not readline.h.\n+\t* cli/cli-dump.c: Include tilde.h, not readline.h.\n+\t* cli/cli-cmds.c: Don't include readline.h.\n+\n 2019-11-05  Tom Tromey  <tom@tromey.com>\n \n \t* tui/tui-disasm.c (struct tui_asm_line) <addr_size>: New member."
    },
    {
      "sha": "409240c118ca3d6bd8646b386855862e27c9e31e",
      "filename": "gdb/cli/cli-cmds.c",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e0eac551da0afeec8ec17f457e4e1da1756e0aab/gdb/cli/cli-cmds.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e0eac551da0afeec8ec17f457e4e1da1756e0aab/gdb/cli/cli-cmds.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/cli/cli-cmds.c?ref=e0eac551da0afeec8ec17f457e4e1da1756e0aab",
      "patch": "@@ -19,7 +19,6 @@\n \n #include \"defs.h\"\n #include \"arch-utils.h\"\n-#include \"readline/readline.h\"\n #include \"readline/tilde.h\"\n #include \"completer.h\"\n #include \"target.h\"\t/* For baud_rate, remote_debug and remote_timeout.  */"
    },
    {
      "sha": "7c4f63be06d38ab0c76370e6b0f76a91f74f0b9d",
      "filename": "gdb/cli/cli-dump.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e0eac551da0afeec8ec17f457e4e1da1756e0aab/gdb/cli/cli-dump.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e0eac551da0afeec8ec17f457e4e1da1756e0aab/gdb/cli/cli-dump.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/cli/cli-dump.c?ref=e0eac551da0afeec8ec17f457e4e1da1756e0aab",
      "patch": "@@ -26,7 +26,7 @@\n #include \"completer.h\"\n #include <ctype.h>\n #include \"target.h\"\n-#include \"readline/readline.h\"\n+#include \"readline/tilde.h\"\n #include \"gdbcore.h\"\n #include \"cli/cli-utils.h\"\n #include \"gdb_bfd.h\""
    },
    {
      "sha": "fa1661ee61ddc8f689136f4fd88f9168efb8dcab",
      "filename": "gdb/corelow.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e0eac551da0afeec8ec17f457e4e1da1756e0aab/gdb/corelow.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e0eac551da0afeec8ec17f457e4e1da1756e0aab/gdb/corelow.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/corelow.c?ref=e0eac551da0afeec8ec17f457e4e1da1756e0aab",
      "patch": "@@ -35,7 +35,7 @@\n #include \"regset.h\"\n #include \"symfile.h\"\n #include \"exec.h\"\n-#include \"readline/readline.h\"\n+#include \"readline/tilde.h\"\n #include \"solib.h\"\n #include \"filenames.h\"\n #include \"progspace.h\""
    },
    {
      "sha": "efc504eca47fd9a7128940087a2f1c204577e6fd",
      "filename": "gdb/exec.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e0eac551da0afeec8ec17f457e4e1da1756e0aab/gdb/exec.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e0eac551da0afeec8ec17f457e4e1da1756e0aab/gdb/exec.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/exec.c?ref=e0eac551da0afeec8ec17f457e4e1da1756e0aab",
      "patch": "@@ -38,7 +38,7 @@\n #include \"source.h\"\n \n #include <fcntl.h>\n-#include \"readline/readline.h\"\n+#include \"readline/tilde.h\"\n #include \"gdbcore.h\"\n \n #include <ctype.h>"
    },
    {
      "sha": "67e3e36aa9ee98b2351b50b83ec51721ebd40c98",
      "filename": "gdb/psymtab.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e0eac551da0afeec8ec17f457e4e1da1756e0aab/gdb/psymtab.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e0eac551da0afeec8ec17f457e4e1da1756e0aab/gdb/psymtab.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/psymtab.c?ref=e0eac551da0afeec8ec17f457e4e1da1756e0aab",
      "patch": "@@ -28,7 +28,7 @@\n #include \"gdbtypes.h\"\n #include \"ui-out.h\"\n #include \"command.h\"\n-#include \"readline/readline.h\"\n+#include \"readline/tilde.h\"\n #include \"gdb_regex.h\"\n #include \"dictionary.h\"\n #include \"language.h\""
    },
    {
      "sha": "400fddedb62c82c3305ee88098466424888de4ab",
      "filename": "gdb/solib.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e0eac551da0afeec8ec17f457e4e1da1756e0aab/gdb/solib.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e0eac551da0afeec8ec17f457e4e1da1756e0aab/gdb/solib.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/solib.c?ref=e0eac551da0afeec8ec17f457e4e1da1756e0aab",
      "patch": "@@ -39,7 +39,7 @@\n #include \"exec.h\"\n #include \"solist.h\"\n #include \"observable.h\"\n-#include \"readline/readline.h\"\n+#include \"readline/tilde.h\"\n #include \"remote.h\"\n #include \"solib.h\"\n #include \"interps.h\""
    },
    {
      "sha": "d9cd5f32caf68e70fbb99d4e08f2a9ced945966f",
      "filename": "gdb/source.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e0eac551da0afeec8ec17f457e4e1da1756e0aab/gdb/source.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e0eac551da0afeec8ec17f457e4e1da1756e0aab/gdb/source.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/source.c?ref=e0eac551da0afeec8ec17f457e4e1da1756e0aab",
      "patch": "@@ -40,7 +40,7 @@\n #include \"filenames.h\"\t\t/* for DOSish file names */\n #include \"completer.h\"\n #include \"ui-out.h\"\n-#include \"readline/readline.h\"\n+#include \"readline/tilde.h\"\n #include \"gdbsupport/enum-flags.h\"\n #include \"gdbsupport/scoped_fd.h\"\n #include <algorithm>"
    },
    {
      "sha": "e6b34bc6b79deaeaaa1af05d6e88842df65a97da",
      "filename": "gdb/symfile.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e0eac551da0afeec8ec17f457e4e1da1756e0aab/gdb/symfile.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e0eac551da0afeec8ec17f457e4e1da1756e0aab/gdb/symfile.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/symfile.c?ref=e0eac551da0afeec8ec17f457e4e1da1756e0aab",
      "patch": "@@ -44,7 +44,7 @@\n #include \"completer.h\"\n #include \"bcache.h\"\n #include \"hashtab.h\"\n-#include \"readline/readline.h\"\n+#include \"readline/tilde.h\"\n #include \"block.h\"\n #include \"observable.h\"\n #include \"exec.h\""
    },
    {
      "sha": "24ee255f6b643103c1236e764c8153fd092cb963",
      "filename": "gdb/symmisc.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e0eac551da0afeec8ec17f457e4e1da1756e0aab/gdb/symmisc.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e0eac551da0afeec8ec17f457e4e1da1756e0aab/gdb/symmisc.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/symmisc.c?ref=e0eac551da0afeec8ec17f457e4e1da1756e0aab",
      "patch": "@@ -36,7 +36,7 @@\n #include \"typeprint.h\"\n #include \"gdbcmd.h\"\n #include \"source.h\"\n-#include \"readline/readline.h\"\n+#include \"readline/tilde.h\"\n \n #include \"psymtab.h\"\n "
    },
    {
      "sha": "bb96f4d9bbd8e7ac3618f0c718e6e598ef72a21a",
      "filename": "gdb/tui/tui-hooks.c",
      "status": "modified",
      "additions": 0,
      "deletions": 5,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e0eac551da0afeec8ec17f457e4e1da1756e0aab/gdb/tui/tui-hooks.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e0eac551da0afeec8ec17f457e4e1da1756e0aab/gdb/tui/tui-hooks.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/tui/tui-hooks.c?ref=e0eac551da0afeec8ec17f457e4e1da1756e0aab",
      "patch": "@@ -49,11 +49,6 @@\n \n #include \"gdb_curses.h\"\n \n-/* This redefines CTRL if it is not already defined, so it must come\n-   after terminal state releated include files like <term.h> and\n-   \"gdb_curses.h\".  */\n-#include \"readline/readline.h\"\n-\n static void\n tui_new_objfile_hook (struct objfile* objfile)\n {"
    },
    {
      "sha": "bc8fde363bf80144ed21604179455b4d6262c9e8",
      "filename": "gdb/tui/tui-interp.c",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e0eac551da0afeec8ec17f457e4e1da1756e0aab/gdb/tui/tui-interp.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e0eac551da0afeec8ec17f457e4e1da1756e0aab/gdb/tui/tui-interp.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/tui/tui-interp.c?ref=e0eac551da0afeec8ec17f457e4e1da1756e0aab",
      "patch": "@@ -26,7 +26,6 @@\n #include \"ui-out.h\"\n #include \"cli-out.h\"\n #include \"tui/tui-data.h\"\n-#include \"readline/readline.h\"\n #include \"tui/tui-win.h\"\n #include \"tui/tui.h\"\n #include \"tui/tui-io.h\""
    }
  ]
}