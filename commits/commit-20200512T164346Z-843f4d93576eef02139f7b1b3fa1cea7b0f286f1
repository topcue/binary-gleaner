{
  "sha": "843f4d93576eef02139f7b1b3fa1cea7b0f286f1",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ODQzZjRkOTM1NzZlZWYwMjEzOWY3YjFiM2ZhMWNlYTdiMGYyODZmMQ==",
  "commit": {
    "author": {
      "name": "Andrew Burgess",
      "email": "andrew.burgess@embecosm.com",
      "date": "2020-05-12T16:38:17Z"
    },
    "committer": {
      "name": "Andrew Burgess",
      "email": "andrew.burgess@embecosm.com",
      "date": "2020-05-12T16:43:46Z"
    },
    "message": "gdb/testsuite: Disable path and duplicate checks when parallel testing\n\nThis commit disables the recently added checking for paths in test\nnames, and for duplicate test names, when the gdb tests are run in\nparallel.\n\nWhen running the gdb tests in parallel the extra result count lines\nproduced cause the dg-extract-results scripts to exit with an error.\n\nThe patches for the dg-extract-results scripts have been posted to the\ngcc-patches mailing list here:\n\nhttps://gcc.gnu.org/pipermail/gcc-patches/2020-May/545562.html\n\nOnce they are merged there then these changes can be merged over to\nbinutils-gdb, and this commit can be reverted.\n\ngdb/testsuite/ChangeLog:\n\n\t* lib/check-test-names.exp: Disable when testing is being run in\n\tparallel.",
    "tree": {
      "sha": "169eaca622b1c9c1b161a866fb0cfecc4e971469",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/169eaca622b1c9c1b161a866fb0cfecc4e971469"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/843f4d93576eef02139f7b1b3fa1cea7b0f286f1",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/843f4d93576eef02139f7b1b3fa1cea7b0f286f1",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/843f4d93576eef02139f7b1b3fa1cea7b0f286f1",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/843f4d93576eef02139f7b1b3fa1cea7b0f286f1/comments",
  "author": {
    "login": "T-J-Teru",
    "id": 475372,
    "node_id": "MDQ6VXNlcjQ3NTM3Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/475372?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/T-J-Teru",
    "html_url": "https://github.com/T-J-Teru",
    "followers_url": "https://api.github.com/users/T-J-Teru/followers",
    "following_url": "https://api.github.com/users/T-J-Teru/following{/other_user}",
    "gists_url": "https://api.github.com/users/T-J-Teru/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/T-J-Teru/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/T-J-Teru/subscriptions",
    "organizations_url": "https://api.github.com/users/T-J-Teru/orgs",
    "repos_url": "https://api.github.com/users/T-J-Teru/repos",
    "events_url": "https://api.github.com/users/T-J-Teru/events{/privacy}",
    "received_events_url": "https://api.github.com/users/T-J-Teru/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "T-J-Teru",
    "id": 475372,
    "node_id": "MDQ6VXNlcjQ3NTM3Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/475372?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/T-J-Teru",
    "html_url": "https://github.com/T-J-Teru",
    "followers_url": "https://api.github.com/users/T-J-Teru/followers",
    "following_url": "https://api.github.com/users/T-J-Teru/following{/other_user}",
    "gists_url": "https://api.github.com/users/T-J-Teru/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/T-J-Teru/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/T-J-Teru/subscriptions",
    "organizations_url": "https://api.github.com/users/T-J-Teru/orgs",
    "repos_url": "https://api.github.com/users/T-J-Teru/repos",
    "events_url": "https://api.github.com/users/T-J-Teru/events{/privacy}",
    "received_events_url": "https://api.github.com/users/T-J-Teru/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "02ff80c296ea525e1c89fe3bd41e29cc249595f0",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/02ff80c296ea525e1c89fe3bd41e29cc249595f0",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/02ff80c296ea525e1c89fe3bd41e29cc249595f0"
    }
  ],
  "stats": {
    "total": 25,
    "additions": 25,
    "deletions": 0
  },
  "files": [
    {
      "sha": "98cff4690333b1fdfde65a1084a954cfb3ac38df",
      "filename": "gdb/testsuite/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/843f4d93576eef02139f7b1b3fa1cea7b0f286f1/gdb/testsuite/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/843f4d93576eef02139f7b1b3fa1cea7b0f286f1/gdb/testsuite/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/ChangeLog?ref=843f4d93576eef02139f7b1b3fa1cea7b0f286f1",
      "patch": "@@ -1,3 +1,8 @@\n+2020-05-12  Andrew Burgess  <andrew.burgess@embecosm.com>\n+\n+\t* lib/check-test-names.exp: Disable when testing is being run in\n+\tparallel.\n+\n 2020-05-12  Tom de Vries  <tdevries@suse.de>\n \n \t* gdb.base/jit-elf.exp: Fix string concat."
    },
    {
      "sha": "79139adea7af8119213cef396206ce714a979991",
      "filename": "gdb/testsuite/lib/check-test-names.exp",
      "status": "modified",
      "additions": 20,
      "deletions": 0,
      "changes": 20,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/843f4d93576eef02139f7b1b3fa1cea7b0f286f1/gdb/testsuite/lib/check-test-names.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/843f4d93576eef02139f7b1b3fa1cea7b0f286f1/gdb/testsuite/lib/check-test-names.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/lib/check-test-names.exp?ref=843f4d93576eef02139f7b1b3fa1cea7b0f286f1",
      "patch": "@@ -18,6 +18,26 @@\n # name.  When a test includes the path in its test name it is harder\n # to compare results between two runs of GDB from different trees.\n \n+# This is a short term hack (12-May-2020).  If we are running tests in\n+# parallel then we need support in the contrib/dg-extract-results.*\n+# scripts to merge the new result types generated by this file back\n+# into the single unified summary file.  If this support is not in\n+# place then the dg-extract-results script will exit with an error.\n+#\n+# The script changes need to first be merged into the gcc repository,\n+# then copied over to the binutils-gdb repository.  The required\n+# changes have been posted to the gcc list here:\n+#\n+# https://gcc.gnu.org/pipermail/gcc-patches/2020-May/545562.html\n+#\n+# But until these are merged into binutils-gdb the extra checks\n+# offered by this file can only be done when the tests are not running\n+# in parallel.\n+if {[info exists GDB_PARALLEL]} {\n+    # Don't load this file.\n+    return\n+}\n+\n namespace eval ::CheckTestNames {\n     # An associative array of all test names to the number of times each\n     # name is seen.  Used to detect duplicate test names."
    }
  ]
}