{
  "sha": "55e8aae79a341ce777565dade196e47773b53274",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NTVlOGFhZTc5YTM0MWNlNzc3NTY1ZGFkZTE5NmU0Nzc3M2I1MzI3NA==",
  "commit": {
    "author": {
      "name": "Srinath Parvathaneni",
      "email": "srinath.parvathaneni@arm.com",
      "date": "2019-01-14T10:35:50Z"
    },
    "committer": {
      "name": "Nick Clifton",
      "email": "nickc@redhat.com",
      "date": "2019-01-14T10:35:50Z"
    },
    "message": "Implement the assembly instructions yield, wfe, wfi and sev for ARMv6T2 in both ARM mode and Thumb mode.\n\n\t* config/tc-arm.c (arm_ext_v6k_v6t2): Define.\n\t(insns) [ARM_VARIANT]: Modified.\n\t(insns) [THUMB_VARIANT]: To implement few ARMv6K instructions\n\tin ARMv6T2 as well.\n\t* testsuite/gas/arm/archv6t2-1.d: New test.\n\t* testsuite/gas/arm/archv6t2-1.s: Likewise.\n\t* testsuite/gas/arm/archv6t2-2.d: Likewise.",
    "tree": {
      "sha": "a612486a502e2eb83198668e24c7d4f6223418b4",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/a612486a502e2eb83198668e24c7d4f6223418b4"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/55e8aae79a341ce777565dade196e47773b53274",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/55e8aae79a341ce777565dade196e47773b53274",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/55e8aae79a341ce777565dade196e47773b53274",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/55e8aae79a341ce777565dade196e47773b53274/comments",
  "author": null,
  "committer": {
    "login": "nickclifton",
    "id": 31441682,
    "node_id": "MDQ6VXNlcjMxNDQxNjgy",
    "avatar_url": "https://avatars.githubusercontent.com/u/31441682?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nickclifton",
    "html_url": "https://github.com/nickclifton",
    "followers_url": "https://api.github.com/users/nickclifton/followers",
    "following_url": "https://api.github.com/users/nickclifton/following{/other_user}",
    "gists_url": "https://api.github.com/users/nickclifton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nickclifton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nickclifton/subscriptions",
    "organizations_url": "https://api.github.com/users/nickclifton/orgs",
    "repos_url": "https://api.github.com/users/nickclifton/repos",
    "events_url": "https://api.github.com/users/nickclifton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nickclifton/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "4ea904edb7b04ad526bd8a5401729a6c1f5a982f",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/4ea904edb7b04ad526bd8a5401729a6c1f5a982f",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/4ea904edb7b04ad526bd8a5401729a6c1f5a982f"
    }
  ],
  "stats": {
    "total": 46,
    "additions": 44,
    "deletions": 2
  },
  "files": [
    {
      "sha": "abc092310718234fa0ae74ef8009f4f3db394b9b",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 10,
      "deletions": 0,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/55e8aae79a341ce777565dade196e47773b53274/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/55e8aae79a341ce777565dade196e47773b53274/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=55e8aae79a341ce777565dade196e47773b53274",
      "patch": "@@ -1,3 +1,13 @@\n+2019-01-14  Srinath Parvathaneni  <srinath.parvathaneni@arm.com>\n+\n+\t* config/tc-arm.c (arm_ext_v6k_v6t2): Define.\n+\t(insns) [ARM_VARIANT]: Modified.\n+\t(insns) [THUMB_VARIANT]: To implement few ARMv6K instructions\n+\tin ARMv6T2 as well.\n+\t* testsuite/gas/arm/archv6t2-1.d: New test.\n+\t* testsuite/gas/arm/archv6t2-1.s: Likewise.\n+\t* testsuite/gas/arm/archv6t2-2.d: Likewise.\n+\n 2019-01-11  Alan Modra  <amodra@gmail.com>\n \n \tPR 23963"
    },
    {
      "sha": "da5dd25fcf2807b8e173e923331026f5dd82cb9b",
      "filename": "gas/config/tc-arm.c",
      "status": "modified",
      "additions": 5,
      "deletions": 2,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/55e8aae79a341ce777565dade196e47773b53274/gas/config/tc-arm.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/55e8aae79a341ce777565dade196e47773b53274/gas/config/tc-arm.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/config/tc-arm.c?ref=55e8aae79a341ce777565dade196e47773b53274",
      "patch": "@@ -204,6 +204,9 @@ static const arm_feature_set arm_ext_v5j = ARM_FEATURE_CORE_LOW (ARM_EXT_V5J);\n static const arm_feature_set arm_ext_v6 = ARM_FEATURE_CORE_LOW (ARM_EXT_V6);\n static const arm_feature_set arm_ext_v6k = ARM_FEATURE_CORE_LOW (ARM_EXT_V6K);\n static const arm_feature_set arm_ext_v6t2 = ARM_FEATURE_CORE_LOW (ARM_EXT_V6T2);\n+/* Only for compatability of hint instructions.  */\n+static const arm_feature_set arm_ext_v6k_v6t2 =\n+  ARM_FEATURE_CORE_LOW (ARM_EXT_V6K | ARM_EXT_V6T2);\n static const arm_feature_set arm_ext_v6_notm =\n   ARM_FEATURE_CORE_LOW (ARM_EXT_V6_NOTM);\n static const arm_feature_set arm_ext_v6_dsp =\n@@ -19994,9 +19997,9 @@ static const struct asm_opcode insns[] =\n  TCE(\"usat16\",\t6e00f30, f3a00000, 3, (RRnpc, I15, RRnpc),\t   usat16, t_usat16),\n \n #undef  ARM_VARIANT\n-#define ARM_VARIANT   & arm_ext_v6k\n+#define ARM_VARIANT   & arm_ext_v6k_v6t2\n #undef  THUMB_VARIANT\n-#define THUMB_VARIANT & arm_ext_v6k\n+#define THUMB_VARIANT & arm_ext_v6k_v6t2\n \n  tCE(\"yield\",\t320f001, _yield,    0, (), noargs, t_hint),\n  tCE(\"wfe\",\t320f002, _wfe,      0, (), noargs, t_hint),"
    },
    {
      "sha": "a4b4c34f5d32019b266a8276a65153298c1d4921",
      "filename": "gas/testsuite/gas/arm/archv6t2-1.d",
      "status": "added",
      "additions": 12,
      "deletions": 0,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/55e8aae79a341ce777565dade196e47773b53274/gas/testsuite/gas/arm/archv6t2-1.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/55e8aae79a341ce777565dade196e47773b53274/gas/testsuite/gas/arm/archv6t2-1.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/arm/archv6t2-1.d?ref=55e8aae79a341ce777565dade196e47773b53274",
      "patch": "@@ -0,0 +1,12 @@\n+# name: ARMv6T2 THUMB mode\n+# as: -march=armv6t2 -mthumb\n+# source: archv6t2-1.s\n+# objdump: -dr --prefix-addresses --show-raw-insn\n+\n+.*: +file format .*arm.*\n+\n+Disassembly of section .text:\n+0[0-9a-f]+ <[^>]+> bf10      \tyield\n+0[0-9a-f]+ <[^>]+> bf20      \twfe\n+0[0-9a-f]+ <[^>]+> bf30      \twfi\n+0[0-9a-f]+ <[^>]+> bf40      \tsev"
    },
    {
      "sha": "b621bbeab25b1a8b2eeedfb3c135764c23271999",
      "filename": "gas/testsuite/gas/arm/archv6t2-1.s",
      "status": "added",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/55e8aae79a341ce777565dade196e47773b53274/gas/testsuite/gas/arm/archv6t2-1.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/55e8aae79a341ce777565dade196e47773b53274/gas/testsuite/gas/arm/archv6t2-1.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/arm/archv6t2-1.s?ref=55e8aae79a341ce777565dade196e47773b53274",
      "patch": "@@ -0,0 +1,5 @@\n+\t.text\n+\tyield\n+\twfe\n+\twfi\n+\tsev"
    },
    {
      "sha": "0617bfc26238a8f9fd8f3aeeabd00cc83384953b",
      "filename": "gas/testsuite/gas/arm/archv6t2-2.d",
      "status": "added",
      "additions": 12,
      "deletions": 0,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/55e8aae79a341ce777565dade196e47773b53274/gas/testsuite/gas/arm/archv6t2-2.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/55e8aae79a341ce777565dade196e47773b53274/gas/testsuite/gas/arm/archv6t2-2.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/arm/archv6t2-2.d?ref=55e8aae79a341ce777565dade196e47773b53274",
      "patch": "@@ -0,0 +1,12 @@\n+# name: ARMv6T2 ARM mode\n+# as: -march=armv6t2\n+# source: archv6t2-1.s\n+# objdump: -dr --prefix-addresses --show-raw-insn\n+\n+.*: +file format .*arm.*\n+\n+Disassembly of section .text:\n+0[0-9a-f]+ <[^>]+> e320f001 \tyield\n+0[0-9a-f]+ <[^>]+> e320f002 \twfe\n+0[0-9a-f]+ <[^>]+> e320f003 \twfi\n+0[0-9a-f]+ <[^>]+> e320f004 \tsev"
    }
  ]
}