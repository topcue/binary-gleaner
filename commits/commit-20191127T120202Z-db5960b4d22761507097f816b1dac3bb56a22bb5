{
  "sha": "db5960b4d22761507097f816b1dac3bb56a22bb5",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ZGI1OTYwYjRkMjI3NjE1MDcwOTdmODE2YjFkYWMzYmI1NmEyMmJiNQ==",
  "commit": {
    "author": {
      "name": "Andrew Burgess",
      "email": "andrew.burgess@embecosm.com",
      "date": "2019-10-03T21:12:09Z"
    },
    "committer": {
      "name": "Andrew Burgess",
      "email": "andrew.burgess@embecosm.com",
      "date": "2019-11-27T12:02:02Z"
    },
    "message": "gdb/mi: Add -symbol-info-modules command\n\nAdd '-symbol-info-modules', an MI version of the CLI 'info modules'\ncommand.\n\ngdb/ChangeLog:\n\n\t* mi/mi-cmds.c (mi_cmds): Add 'symbol-info-modules' entry.\n\t* mi/mi-cmds.h (mi_cmd_symbol_info_modules): Declare.\n\t* mi/mi-symbol-cmds.c (mi_cmd_symbol_info_modules): New function.\n\t* NEWS: Mention new MI command.\n\ngdb/testsuite/ChangeLog:\n\n\t* gdb.mi/mi-fortran-modules-2.f90: New file.\n\t* gdb.mi/mi-fortran-modules.exp: New file.\n\t* gdb.mi/mi-fortran-modules.f90: New file.\n\ngdb/doc/ChangeLog:\n\n\t* doc/gdb.texinfo (GDB/MI Symbol Query): Document new MI command\n\t-symbol-info-modules.\n\nChange-Id: Ibc618010d1d5f36ae8a8baba4fb9d9d724e62b0f",
    "tree": {
      "sha": "211f7ccc6e5dd273b2c1f93e4dfc0a94f9e75d10",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/211f7ccc6e5dd273b2c1f93e4dfc0a94f9e75d10"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/db5960b4d22761507097f816b1dac3bb56a22bb5",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/db5960b4d22761507097f816b1dac3bb56a22bb5",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/db5960b4d22761507097f816b1dac3bb56a22bb5",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/db5960b4d22761507097f816b1dac3bb56a22bb5/comments",
  "author": {
    "login": "T-J-Teru",
    "id": 475372,
    "node_id": "MDQ6VXNlcjQ3NTM3Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/475372?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/T-J-Teru",
    "html_url": "https://github.com/T-J-Teru",
    "followers_url": "https://api.github.com/users/T-J-Teru/followers",
    "following_url": "https://api.github.com/users/T-J-Teru/following{/other_user}",
    "gists_url": "https://api.github.com/users/T-J-Teru/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/T-J-Teru/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/T-J-Teru/subscriptions",
    "organizations_url": "https://api.github.com/users/T-J-Teru/orgs",
    "repos_url": "https://api.github.com/users/T-J-Teru/repos",
    "events_url": "https://api.github.com/users/T-J-Teru/events{/privacy}",
    "received_events_url": "https://api.github.com/users/T-J-Teru/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "T-J-Teru",
    "id": 475372,
    "node_id": "MDQ6VXNlcjQ3NTM3Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/475372?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/T-J-Teru",
    "html_url": "https://github.com/T-J-Teru",
    "followers_url": "https://api.github.com/users/T-J-Teru/followers",
    "following_url": "https://api.github.com/users/T-J-Teru/following{/other_user}",
    "gists_url": "https://api.github.com/users/T-J-Teru/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/T-J-Teru/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/T-J-Teru/subscriptions",
    "organizations_url": "https://api.github.com/users/T-J-Teru/orgs",
    "repos_url": "https://api.github.com/users/T-J-Teru/repos",
    "events_url": "https://api.github.com/users/T-J-Teru/events{/privacy}",
    "received_events_url": "https://api.github.com/users/T-J-Teru/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "7dc42066097ca6188ecd2c505d865e68d84998ee",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/7dc42066097ca6188ecd2c505d865e68d84998ee",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/7dc42066097ca6188ecd2c505d865e68d84998ee"
    }
  ],
  "stats": {
    "total": 286,
    "additions": 286,
    "deletions": 0
  },
  "files": [
    {
      "sha": "6544661677d06f5bbb3e2b129d3fe668ce5a79a0",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/db5960b4d22761507097f816b1dac3bb56a22bb5/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/db5960b4d22761507097f816b1dac3bb56a22bb5/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=db5960b4d22761507097f816b1dac3bb56a22bb5",
      "patch": "@@ -1,3 +1,10 @@\n+2019-11-27  Andrew Burgess  <andrew.burgess@embecosm.com>\n+\n+\t* mi/mi-cmds.c (mi_cmds): Add 'symbol-info-modules' entry.\n+\t* mi/mi-cmds.h (mi_cmd_symbol_info_modules): Declare.\n+\t* mi/mi-symbol-cmds.c (mi_cmd_symbol_info_modules): New function.\n+\t* NEWS: Mention new MI command.\n+\n 2019-11-27  Andrew Burgess  <andrew.burgess@embecosm.com>\n \n \t* mi/mi-cmds.c (mi_cmds): Add '-symbol-info-functions',"
    },
    {
      "sha": "cf8c41cf8229cd9db3efc2503a8521584d283c50",
      "filename": "gdb/NEWS",
      "status": "modified",
      "additions": 3,
      "deletions": 0,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/db5960b4d22761507097f816b1dac3bb56a22bb5/gdb/NEWS",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/db5960b4d22761507097f816b1dac3bb56a22bb5/gdb/NEWS",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/NEWS?ref=db5960b4d22761507097f816b1dac3bb56a22bb5",
      "patch": "@@ -370,6 +370,9 @@ focus, winheight, +, -, >, <\n   These commands are the MI equivalent of the CLI commands 'info\n   functions', 'info types', and 'info variables' respectively.\n \n+-symbol-info-modules, this is the MI equivalent of the CLI 'info\n+  modules' command.\n+\n * Other MI changes\n \n  ** The default version of the MI interpreter is now 3 (-i=mi3)."
    },
    {
      "sha": "288953826b9092bcbe441af7eb38fd7e659e5904",
      "filename": "gdb/doc/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/db5960b4d22761507097f816b1dac3bb56a22bb5/gdb/doc/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/db5960b4d22761507097f816b1dac3bb56a22bb5/gdb/doc/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/doc/ChangeLog?ref=db5960b4d22761507097f816b1dac3bb56a22bb5",
      "patch": "@@ -1,3 +1,8 @@\n+2019-11-27  Andrew Burgess  <andrew.burgess@embecosm.com>\n+\n+\t* doc/gdb.texinfo (GDB/MI Symbol Query): Document new MI command\n+\t-symbol-info-modules.\n+\n 2019-11-27  Andrew Burgess  <andrew.burgess@embecosm.com>\n \n \t* doc/gdb.texinfo (GDB/MI Symbol Query): Document new MI command"
    },
    {
      "sha": "478c95b643e5e6277e887a745161df5b354b4990",
      "filename": "gdb/doc/gdb.texinfo",
      "status": "modified",
      "additions": 54,
      "deletions": 0,
      "changes": 54,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/db5960b4d22761507097f816b1dac3bb56a22bb5/gdb/doc/gdb.texinfo",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/db5960b4d22761507097f816b1dac3bb56a22bb5/gdb/doc/gdb.texinfo",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/doc/gdb.texinfo?ref=db5960b4d22761507097f816b1dac3bb56a22bb5",
      "patch": "@@ -33995,6 +33995,60 @@ The corresponding @value{GDBN} command is @samp{info functions}.\n @end group\n @end smallexample\n \n+@subheading The @code{-symbol-info-modules} Command\n+@findex -symbol-info-modules\n+@anchor{-symbol-info-modules}\n+\n+@subsubheading Synopsis\n+\n+@smallexample\n+ -symbol-info-modules [--name @var{name_regexp}]\n+@end smallexample\n+\n+@noindent\n+Return a list containing the names of all known Fortran modules.  The\n+modules are grouped by source file, and shown with the line number on\n+which each modules is defined.\n+\n+The option @code{--name} allows the modules returned to be filtered\n+based the name of the module.\n+\n+@subsubheading @value{GDBN} Command\n+\n+The corresponding @value{GDBN} command is @samp{info modules}.\n+\n+@subsubheading Example\n+@smallexample\n+@group\n+(gdb)\n+-symbol-info-modules\n+^done,symbols=\n+  @{debug=\n+    [@{filename=\"/project/gdb/testsuite/gdb.mi/mi-fortran-modules-2.f90\",\n+      fullname=\"/project/gdb/testsuite/gdb.mi/mi-fortran-modules-2.f90\",\n+      symbols=[@{line=\"16\",name=\"mod1\"@},\n+               @{line=\"22\",name=\"mod2\"@}]@},\n+     @{filename=\"/project/gdb/testsuite/gdb.mi/mi-fortran-modules.f90\",\n+      fullname=\"/project/gdb/testsuite/gdb.mi/mi-fortran-modules.f90\",\n+      symbols=[@{line=\"16\",name=\"mod3\"@},\n+               @{line=\"22\",name=\"modmany\"@},\n+               @{line=\"26\",name=\"moduse\"@}]@}]@}\n+@end group\n+@group\n+(gdb)\n+-symbol-info-modules --name mod[123]\n+^done,symbols=\n+  @{debug=\n+    [@{filename=\"/project/gdb/testsuite/gdb.mi/mi-fortran-modules-2.f90\",\n+      fullname=\"/project/gdb/testsuite/gdb.mi/mi-fortran-modules-2.f90\",\n+      symbols=[@{line=\"16\",name=\"mod1\"@},\n+               @{line=\"22\",name=\"mod2\"@}]@},\n+     @{filename=\"/project/gdb/testsuite/gdb.mi/mi-fortran-modules.f90\",\n+      fullname=\"/project/gdb/testsuite/gdb.mi/mi-fortran-modules.f90\",\n+      symbols=[@{line=\"16\",name=\"mod3\"@}]@}]@}\n+@end group\n+@end smallexample\n+\n @subheading The @code{-symbol-info-types} Command\n @findex -symbol-info-types\n @anchor{-symbol-info-types}"
    },
    {
      "sha": "85c15ec5357ad3c6a43fe2c7fcf4c7415184aacf",
      "filename": "gdb/mi/mi-cmds.c",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/db5960b4d22761507097f816b1dac3bb56a22bb5/gdb/mi/mi-cmds.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/db5960b4d22761507097f816b1dac3bb56a22bb5/gdb/mi/mi-cmds.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/mi/mi-cmds.c?ref=db5960b4d22761507097f816b1dac3bb56a22bb5",
      "patch": "@@ -154,6 +154,7 @@ static struct mi_cmd mi_cmds[] =\n   DEF_MI_CMD_MI (\"symbol-info-functions\", mi_cmd_symbol_info_functions),\n   DEF_MI_CMD_MI (\"symbol-info-variables\", mi_cmd_symbol_info_variables),\n   DEF_MI_CMD_MI (\"symbol-info-types\", mi_cmd_symbol_info_types),\n+  DEF_MI_CMD_MI (\"symbol-info-modules\", mi_cmd_symbol_info_modules),\n   DEF_MI_CMD_CLI (\"target-attach\", \"attach\", 1),\n   DEF_MI_CMD_MI (\"target-detach\", mi_cmd_target_detach),\n   DEF_MI_CMD_CLI (\"target-disconnect\", \"disconnect\", 0),"
    },
    {
      "sha": "30de780286b1f49df3590c09ebf66b59cc12f324",
      "filename": "gdb/mi/mi-cmds.h",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/db5960b4d22761507097f816b1dac3bb56a22bb5/gdb/mi/mi-cmds.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/db5960b4d22761507097f816b1dac3bb56a22bb5/gdb/mi/mi-cmds.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/mi/mi-cmds.h?ref=db5960b4d22761507097f816b1dac3bb56a22bb5",
      "patch": "@@ -95,6 +95,7 @@ extern mi_cmd_argv_ftype mi_cmd_stack_list_variables;\n extern mi_cmd_argv_ftype mi_cmd_stack_select_frame;\n extern mi_cmd_argv_ftype mi_cmd_symbol_list_lines;\n extern mi_cmd_argv_ftype mi_cmd_symbol_info_functions;\n+extern mi_cmd_argv_ftype mi_cmd_symbol_info_modules;\n extern mi_cmd_argv_ftype mi_cmd_symbol_info_types;\n extern mi_cmd_argv_ftype mi_cmd_symbol_info_variables;\n extern mi_cmd_argv_ftype mi_cmd_target_detach;"
    },
    {
      "sha": "10dd273f338102bbc99b386a2fcf27af8b2676e0",
      "filename": "gdb/mi/mi-symbol-cmds.c",
      "status": "modified",
      "additions": 37,
      "deletions": 0,
      "changes": 37,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/db5960b4d22761507097f816b1dac3bb56a22bb5/gdb/mi/mi-symbol-cmds.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/db5960b4d22761507097f816b1dac3bb56a22bb5/gdb/mi/mi-symbol-cmds.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/mi/mi-symbol-cmds.c?ref=db5960b4d22761507097f816b1dac3bb56a22bb5",
      "patch": "@@ -224,6 +224,43 @@ mi_cmd_symbol_info_functions (const char *command, char **argv, int argc)\n   mi_info_functions_or_variables (FUNCTIONS_DOMAIN, argv, argc);\n }\n \n+/* Implement -symbol-inf-modules command.  */\n+\n+void\n+mi_cmd_symbol_info_modules (const char *command, char **argv, int argc)\n+{\n+  const char *regexp = nullptr;\n+\n+  enum opt\n+    {\n+     NAME_REGEXP_OPT\n+    };\n+  static const struct mi_opt opts[] =\n+  {\n+    {\"-name\", NAME_REGEXP_OPT, 1},\n+    { 0, 0, 0 }\n+  };\n+\n+  int oind = 0;\n+  char *oarg = nullptr;\n+\n+  while (1)\n+    {\n+      int opt = mi_getopt (\"-symbol-info-modules\", argc, argv, opts,\n+\t\t\t   &oind, &oarg);\n+      if (opt < 0)\n+\tbreak;\n+      switch ((enum opt) opt)\n+\t{\n+\tcase NAME_REGEXP_OPT:\n+\t  regexp = oarg;\n+\t  break;\n+\t}\n+    }\n+\n+  mi_symbol_info (MODULES_DOMAIN, regexp, nullptr, true);\n+}\n+\n /* Implement -symbol-info-types command.  */\n \n void"
    },
    {
      "sha": "93e94f8b334d031a3233d3588e8bf7d3e830422e",
      "filename": "gdb/testsuite/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/db5960b4d22761507097f816b1dac3bb56a22bb5/gdb/testsuite/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/db5960b4d22761507097f816b1dac3bb56a22bb5/gdb/testsuite/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/ChangeLog?ref=db5960b4d22761507097f816b1dac3bb56a22bb5",
      "patch": "@@ -1,3 +1,9 @@\n+2019-11-27  Andrew Burgess  <andrew.burgess@embecosm.com>\n+\n+\t* gdb.mi/mi-fortran-modules-2.f90: New file.\n+\t* gdb.mi/mi-fortran-modules.exp: New file.\n+\t* gdb.mi/mi-fortran-modules.f90: New file.\n+\n 2019-11-27  Andrew Burgess  <andrew.burgess@embecosm.com>\n \n \t* gdb.mi/mi-sym-info-1.c: New file."
    },
    {
      "sha": "690d54dde8c08cbc5d375f4a0bc4cd785c88c31a",
      "filename": "gdb/testsuite/gdb.mi/mi-fortran-modules-2.f90",
      "status": "added",
      "additions": 33,
      "deletions": 0,
      "changes": 33,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/db5960b4d22761507097f816b1dac3bb56a22bb5/gdb/testsuite/gdb.mi/mi-fortran-modules-2.f90",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/db5960b4d22761507097f816b1dac3bb56a22bb5/gdb/testsuite/gdb.mi/mi-fortran-modules-2.f90",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.mi/mi-fortran-modules-2.f90?ref=db5960b4d22761507097f816b1dac3bb56a22bb5",
      "patch": "@@ -0,0 +1,33 @@\n+! Copyright 2009-2019 Free Software Foundation, Inc.\n+!\n+! This program is free software; you can redistribute it and/or modify\n+! it under the terms of the GNU General Public License as published by\n+! the Free Software Foundation; either version 3 of the License, or\n+! (at your option) any later version.\n+!\n+! This program is distributed in the hope that it will be useful,\n+! but WITHOUT ANY WARRANTY; without even the implied warranty of\n+! MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+! GNU General Public License for more details.\n+!\n+! You should have received a copy of the GNU General Public License\n+! along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+\n+module mod1\n+  integer :: var_i = 1\n+  integer :: var_const\n+  parameter (var_const = 20)\n+contains\n+  subroutine check_all\n+    if (var_i .ne. 1) call abort\n+    if (var_const .ne. 20) call abort\n+  end subroutine check_all\n+end module mod1\n+\n+module mod2\n+  integer :: var_i = 2\n+contains\n+    subroutine check_var_i\n+    if (var_i .ne. 2) call abort\n+  end subroutine check_var_i\n+end module mod2"
    },
    {
      "sha": "640bb12642d5ecdbe611d1a251633815ba554f84",
      "filename": "gdb/testsuite/gdb.mi/mi-fortran-modules.exp",
      "status": "added",
      "additions": 52,
      "deletions": 0,
      "changes": 52,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/db5960b4d22761507097f816b1dac3bb56a22bb5/gdb/testsuite/gdb.mi/mi-fortran-modules.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/db5960b4d22761507097f816b1dac3bb56a22bb5/gdb/testsuite/gdb.mi/mi-fortran-modules.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.mi/mi-fortran-modules.exp?ref=db5960b4d22761507097f816b1dac3bb56a22bb5",
      "patch": "@@ -0,0 +1,52 @@\n+# Copyright 2019 Free Software Foundation, Inc.\n+\n+# This program is free software; you can redistribute it and/or modify\n+# it under the terms of the GNU General Public License as published by\n+# the Free Software Foundation; either version 3 of the License, or\n+# (at your option) any later version.\n+#\n+# This program is distributed in the hope that it will be useful,\n+# but WITHOUT ANY WARRANTY; without even the implied warranty of\n+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+# GNU General Public License for more details.\n+#\n+# You should have received a copy of the GNU General Public License\n+# along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+\n+# Test -symbol-info-modules, listing Fortran modules.\n+\n+load_lib fortran.exp\n+load_lib mi-support.exp\n+set MIFLAGS \"-i=mi\"\n+\n+standard_testfile \"mi-fortran-modules.f90\" \"mi-fortran-modules-2.f90\"\n+\n+if {[prepare_for_testing \"failed to prepare\" ${testfile} \\\n+\t [list $srcfile $srcfile2] {debug f90}]} {\n+    return -1\n+}\n+\n+gdb_exit\n+if {[mi_gdb_start]} {\n+    continue\n+}\n+\n+mi_run_to_main\n+\n+mi_gdb_test \"101-symbol-info-modules\" \\\n+    \"101\\\\^done,symbols=\\{debug=\\\\\\[\\{filename=\\\"\\[^\\\"\\]+$srcfile2\\\",fullname=\\\"\\[^\\\"\\]+$srcfile2\\\",symbols=\\\\\\[\\{line=\\\"16\\\",name=\\\"mod1\\\"\\},\\{line=\\\"27\\\",name=\\\"mod2\\\"\\}\\\\\\]\\},\\{filename=\\\"\\[^\\\"\\]+$srcfile\\\",fullname=\\\"\\[^\\\"\\]+$srcfile\\\",symbols=\\\\\\[\\{line=\\\"16\\\",name=\\\"mod3\\\"\\},\\{line=\\\"32\\\",name=\\\"modmany\\\"\\},\\{line=\\\"41\\\",name=\\\"moduse\\\"\\}\\\\\\]\\}\\\\\\]\\}\" \\\n+    \"-symbol-info-modules\"\n+\n+mi_gdb_test \"102-symbol-info-modules --name mod\\[123\\]\" \\\n+    \"102\\\\^done,symbols=\\{debug=\\\\\\[\\{filename=\\\"\\[^\\\"\\]+$srcfile2\\\",fullname=\\\"\\[^\\\"\\]+$srcfile2\\\",symbols=\\\\\\[\\{line=\\\"16\\\",name=\\\"mod1\\\"\\},\\{line=\\\"27\\\",name=\\\"mod2\\\"\\}\\\\\\]\\},\\{filename=\\\"\\[^\\\"\\]+$srcfile\\\",fullname=\\\"\\[^\\\"\\]+$srcfile\\\",symbols=\\\\\\[\\{line=\\\"16\\\",name=\\\"mod3\\\"\\}\\\\\\]\\}\\\\\\]\\}\" \\\n+    \"-symbol-info-modules --name mod\\[123\\]\"\n+\n+mi_gdb_test \"103-symbol-info-modules --name moduse\" \\\n+    \"103\\\\^done,symbols=\\{debug=\\\\\\[\\{filename=\\\"\\[^\\\"\\]+$srcfile\\\",fullname=\\\"\\[^\\\"\\]+$srcfile\\\",symbols=\\\\\\[\\{line=\\\"41\\\",name=\\\"moduse\\\"\\}\\\\\\]\\}\\\\\\]\\}\" \\\n+    \"-symbol-info-modules --name moduse\"\n+\n+\n+\n+\n+\n+"
    },
    {
      "sha": "d2546270c6eb4a797131d9bc3880f11f4f6df22f",
      "filename": "gdb/testsuite/gdb.mi/mi-fortran-modules.f90",
      "status": "added",
      "additions": 87,
      "deletions": 0,
      "changes": 87,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/db5960b4d22761507097f816b1dac3bb56a22bb5/gdb/testsuite/gdb.mi/mi-fortran-modules.f90",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/db5960b4d22761507097f816b1dac3bb56a22bb5/gdb/testsuite/gdb.mi/mi-fortran-modules.f90",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.mi/mi-fortran-modules.f90?ref=db5960b4d22761507097f816b1dac3bb56a22bb5",
      "patch": "@@ -0,0 +1,87 @@\n+! Copyright 2009-2019 Free Software Foundation, Inc.\n+! \n+! This program is free software; you can redistribute it and/or modify\n+! it under the terms of the GNU General Public License as published by\n+! the Free Software Foundation; either version 3 of the License, or\n+! (at your option) any later version.\n+! \n+! This program is distributed in the hope that it will be useful,\n+! but WITHOUT ANY WARRANTY; without even the implied warranty of\n+! MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+! GNU General Public License for more details.\n+! \n+! You should have received a copy of the GNU General Public License\n+! along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+\n+module mod3\n+  integer :: mod2 = 3\n+  integer :: mod1 = 3\n+  integer :: var_i = 3\n+contains\n+  subroutine check_all\n+    if (mod2 .ne. 3) call abort\n+    if (mod1 .ne. 3) call abort\n+    if (var_i .ne. 3) call abort\n+  end subroutine check_all\n+\n+  subroutine check_mod2\n+    if (mod2 .ne. 3) call abort\n+  end subroutine check_mod2\n+end module mod3\n+\n+module modmany\n+  integer :: var_a = 10, var_b = 11, var_c = 12, var_i = 14\n+contains\n+  subroutine check_some\n+    if (var_a .ne. 10) call abort\n+    if (var_b .ne. 11) call abort\n+  end subroutine check_some\n+end module modmany\n+\n+module moduse\n+  integer :: var_x = 30, var_y = 31\n+contains\n+  subroutine check_all\n+    if (var_x .ne. 30) call abort\n+    if (var_y .ne. 31) call abort\n+  end subroutine check_all\n+\n+  subroutine check_var_x\n+    if (var_x .ne. 30) call abort\n+  end subroutine check_var_x\n+end module moduse\n+\n+subroutine sub1\n+  use mod1\n+  if (var_i .ne. 1) call abort\n+  var_i = var_i                         ! i-is-1\n+end subroutine sub1\n+\n+subroutine sub2\n+  use mod2\n+  if (var_i .ne. 2) call abort\n+  var_i = var_i                         ! i-is-2\n+end subroutine sub2\n+\n+subroutine sub3\n+  use mod3\n+  var_i = var_i                         ! i-is-3\n+end subroutine sub3\n+\n+program module\n+\n+  use modmany, only: var_b, var_d => var_c, var_i\n+  use moduse, var_z => var_y\n+\n+  call sub1\n+  call sub2\n+  call sub3\n+\n+  if (var_b .ne. 11) call abort\n+  if (var_d .ne. 12) call abort\n+  if (var_i .ne. 14) call abort\n+  if (var_x .ne. 30) call abort\n+  if (var_z .ne. 31) call abort\n+  var_b = var_b                         ! a-b-c-d\n+\n+end program module"
    }
  ]
}