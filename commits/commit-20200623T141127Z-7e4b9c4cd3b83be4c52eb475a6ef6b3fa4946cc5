{
  "sha": "7e4b9c4cd3b83be4c52eb475a6ef6b3fa4946cc5",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6N2U0YjljNGNkM2I4M2JlNGM1MmViNDc1YTZlZjZiM2ZhNDk0NmNjNQ==",
  "commit": {
    "author": {
      "name": "Gary Benson",
      "email": "gbenson@redhat.com",
      "date": "2020-06-23T14:11:27Z"
    },
    "committer": {
      "name": "Gary Benson",
      "email": "gbenson@redhat.com",
      "date": "2020-06-23T14:11:27Z"
    },
    "message": "Improve -Wunused-value testcase build failures fix\n\nThis commit improves upon my previous -Wunused-value fix by\nreplacing the various dummy variables with casts to void, as\nsuggested by Pedro.\n\ngdb/testsuite/ChangeLog:\n\n\t* gdb.cp/namespace.cc: Improve -Wunused-value fix.\n\t* gdb.cp/nsimport.cc: Likewise.\n\t* gdb.cp/nsnested.cc: Likewise.\n\t* gdb.cp/nsnoimports.cc: Likewise.\n\t* gdb.cp/nsusing.cc: Likewise.\n\t* gdb.cp/smartp.cc: Likewise.\n\t* gdb.python/py-pp-integral.c: Likewise.\n\t* gdb.python/py-pp-re-notag.c: Likewise.",
    "tree": {
      "sha": "fb62f897dfad0df116835b33a89e8b0e9bb05cb8",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/fb62f897dfad0df116835b33a89e8b0e9bb05cb8"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/7e4b9c4cd3b83be4c52eb475a6ef6b3fa4946cc5",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/7e4b9c4cd3b83be4c52eb475a6ef6b3fa4946cc5",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/7e4b9c4cd3b83be4c52eb475a6ef6b3fa4946cc5",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/7e4b9c4cd3b83be4c52eb475a6ef6b3fa4946cc5/comments",
  "author": null,
  "committer": null,
  "parents": [
    {
      "sha": "80fda85ca18ee287c826a90b09c5cb8e20fd4d54",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/80fda85ca18ee287c826a90b09c5cb8e20fd4d54",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/80fda85ca18ee287c826a90b09c5cb8e20fd4d54"
    }
  ],
  "stats": {
    "total": 82,
    "additions": 47,
    "deletions": 35
  },
  "files": [
    {
      "sha": "18d19470d5b313a06a4e8714d835d3824c8638ac",
      "filename": "gdb/testsuite/ChangeLog",
      "status": "modified",
      "additions": 12,
      "deletions": 0,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7e4b9c4cd3b83be4c52eb475a6ef6b3fa4946cc5/gdb/testsuite/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7e4b9c4cd3b83be4c52eb475a6ef6b3fa4946cc5/gdb/testsuite/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/ChangeLog?ref=7e4b9c4cd3b83be4c52eb475a6ef6b3fa4946cc5",
      "patch": "@@ -1,3 +1,15 @@\n+2020-06-23  Gary Benson <gbenson@redhat.com>\n+\t    Pedro Alves  <palves@redhat.com>\n+\n+\t* gdb.cp/namespace.cc: Improve -Wunused-value fix.\n+\t* gdb.cp/nsimport.cc: Likewise.\n+\t* gdb.cp/nsnested.cc: Likewise.\n+\t* gdb.cp/nsnoimports.cc: Likewise.\n+\t* gdb.cp/nsusing.cc: Likewise.\n+\t* gdb.cp/smartp.cc: Likewise.\n+\t* gdb.python/py-pp-integral.c: Likewise.\n+\t* gdb.python/py-pp-re-notag.c: Likewise.\n+\n 2020-06-23  Gary Benson <gbenson@redhat.com>\n \n \t* gdb.cp/namespace.cc: Avoid build failure with -Wunused-value."
    },
    {
      "sha": "8c78a7e9da641e6736f630df193ee603fff5daf3",
      "filename": "gdb/testsuite/gdb.cp/namespace.cc",
      "status": "modified",
      "additions": 11,
      "deletions": 11,
      "changes": 22,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7e4b9c4cd3b83be4c52eb475a6ef6b3fa4946cc5/gdb/testsuite/gdb.cp/namespace.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7e4b9c4cd3b83be4c52eb475a6ef6b3fa4946cc5/gdb/testsuite/gdb.cp/namespace.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.cp/namespace.cc?ref=7e4b9c4cd3b83be4c52eb475a6ef6b3fa4946cc5",
      "patch": "@@ -150,22 +150,22 @@ namespace C\n       // plan to have GDB try to print out, just to make sure that the\n       // compiler and I agree which ones should be legal!  It's easy\n       // to screw up when testing the boundaries of namespace stuff.\n-      int unused1 = c;\n+      (void) c;\n       //cc;\n-      int unused2 = C::cc;\n-      int unused3 = cd;\n+      (void) C::cc;\n+      (void) cd;\n       //C::D::cd;\n-      int unused4 = E::cde;\n-      int unused5 = shadow;\n+      (void) E::cde;\n+      (void) shadow;\n       //E::ce;\n-      int unused6 = cX;\n-      int unused7 = F::cXf;\n-      int unused8 = F::cXfX;\n-      int unused9 = X;\n-      int unusedA = G::Xg;\n+      (void) cX;\n+      (void) F::cXf;\n+      (void) F::cXfX;\n+      (void) X;\n+      (void) G::Xg;\n       //cXOtherFile;\n       //XOtherFile;\n-      int unusedB = G::XgX;\n+      (void) G::XgX;\n \n       return;\n     }"
    },
    {
      "sha": "92a10907f9e66cd7b9c578141fd36c7895d98aef",
      "filename": "gdb/testsuite/gdb.cp/nsimport.cc",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7e4b9c4cd3b83be4c52eb475a6ef6b3fa4946cc5/gdb/testsuite/gdb.cp/nsimport.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7e4b9c4cd3b83be4c52eb475a6ef6b3fa4946cc5/gdb/testsuite/gdb.cp/nsimport.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.cp/nsimport.cc?ref=7e4b9c4cd3b83be4c52eb475a6ef6b3fa4946cc5",
      "patch": "@@ -13,8 +13,8 @@ namespace{\n \n int main()\n {\n-  int unused1 = x;\n-  int unused2 = xx;\n-  int unused3 = xxx;\n+  (void) x;\n+  (void) xx;\n+  (void) xxx;\n   return 0;\n }"
    },
    {
      "sha": "ec992b23e84f81859309692e8b32a7040350f577",
      "filename": "gdb/testsuite/gdb.cp/nsnested.cc",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7e4b9c4cd3b83be4c52eb475a6ef6b3fa4946cc5/gdb/testsuite/gdb.cp/nsnested.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7e4b9c4cd3b83be4c52eb475a6ef6b3fa4946cc5/gdb/testsuite/gdb.cp/nsnested.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.cp/nsnested.cc?ref=7e4b9c4cd3b83be4c52eb475a6ef6b3fa4946cc5",
      "patch": "@@ -15,7 +15,7 @@ namespace C\n     int\n     second()\n     {\n-      int unused = ab;\n+      (void) ab;\n       return 0;\n     }\n   }"
    },
    {
      "sha": "e3ea8744fd7f73870b234205ee9caa5fd73460b1",
      "filename": "gdb/testsuite/gdb.cp/nsnoimports.cc",
      "status": "modified",
      "additions": 6,
      "deletions": 6,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7e4b9c4cd3b83be4c52eb475a6ef6b3fa4946cc5/gdb/testsuite/gdb.cp/nsnoimports.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7e4b9c4cd3b83be4c52eb475a6ef6b3fa4946cc5/gdb/testsuite/gdb.cp/nsnoimports.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.cp/nsnoimports.cc?ref=7e4b9c4cd3b83be4c52eb475a6ef6b3fa4946cc5",
      "patch": "@@ -18,9 +18,9 @@ namespace A\n     }\n \n     int first(){\n-      int unused1 = _a;\n-      int unused2 = ab;\n-      int unused3 = C::abc;\n+      (void) _a;\n+      (void) ab;\n+      (void) C::abc;\n       return C::second();\n     }\n   }\n@@ -30,8 +30,8 @@ namespace A\n int\n main()\n {\n-  int unused1 = A::_a;\n-  int unused2 = A::B::ab;\n-  int unused3 = A::B::C::abc;\n+  (void) A::_a;\n+  (void) A::B::ab;\n+  (void) A::B::C::abc;\n   return A::B::first();\n }"
    },
    {
      "sha": "fa5c9d01f5940ce59bd550298e339d571bfc25bb",
      "filename": "gdb/testsuite/gdb.cp/nsusing.cc",
      "status": "modified",
      "additions": 6,
      "deletions": 6,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7e4b9c4cd3b83be4c52eb475a6ef6b3fa4946cc5/gdb/testsuite/gdb.cp/nsusing.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7e4b9c4cd3b83be4c52eb475a6ef6b3fa4946cc5/gdb/testsuite/gdb.cp/nsusing.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.cp/nsusing.cc?ref=7e4b9c4cd3b83be4c52eb475a6ef6b3fa4946cc5",
      "patch": "@@ -35,7 +35,7 @@ namespace L\n   using namespace J;\n   int marker8 ()\n   {\n-    int unused = jx;\n+    (void) jx;\n     return K::marker9 ();\n   }\n }\n@@ -53,7 +53,7 @@ namespace I\n   int marker7 ()\n   {\n     using namespace G::H;\n-    int unused = ghx;\n+    (void) ghx;\n     return L::marker8 ();\n   }\n }\n@@ -69,7 +69,7 @@ namespace E\n using namespace E::F;\n int marker6 ()\n {\n-  int unused = efx;\n+  (void) efx;\n   return I::marker7 ();\n }\n \n@@ -92,7 +92,7 @@ namespace D\n using namespace C;\n int marker5 ()\n {\n-  int unused = cc;\n+  (void) cc;\n   return marker6 ();\n }\n \n@@ -110,7 +110,7 @@ int marker3 ()\n int marker2 ()\n {\n   namespace B = A;\n-  int unused = B::_a;\n+  (void) B::_a;\n   return marker3 ();\n }\n \n@@ -134,6 +134,6 @@ int marker1 ()\n int main ()\n {\n   using namespace A;\n-  int unused = _a;\n+  (void) _a;\n   return marker1 ();\n }"
    },
    {
      "sha": "eaae77fc8ca14527304a093b2810dc95e34e6ba3",
      "filename": "gdb/testsuite/gdb.cp/smartp.cc",
      "status": "modified",
      "additions": 4,
      "deletions": 4,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7e4b9c4cd3b83be4c52eb475a6ef6b3fa4946cc5/gdb/testsuite/gdb.cp/smartp.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7e4b9c4cd3b83be4c52eb475a6ef6b3fa4946cc5/gdb/testsuite/gdb.cp/smartp.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.cp/smartp.cc?ref=7e4b9c4cd3b83be4c52eb475a6ef6b3fa4946cc5",
      "patch": "@@ -131,12 +131,12 @@ int main(){\n   sp3->foo(1);\n   sp3->foo('a');\n \n-  int unused1 = sp4->a;\n-  int unused2 = sp4->b;\n+  (void) sp4->a;\n+  (void) sp4->b;\n \n   Type4 *mt4p = &mt4;\n-  int unused3 = mt4p->a;\n-  int unused4 = mt4p->b;\n+  (void) mt4p->a;\n+  (void) mt4p->b;\n \n   A a;\n   B b;"
    },
    {
      "sha": "cd7c914d41a283c677fd25b210b6677c612b097a",
      "filename": "gdb/testsuite/gdb.python/py-pp-integral.c",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7e4b9c4cd3b83be4c52eb475a6ef6b3fa4946cc5/gdb/testsuite/gdb.python/py-pp-integral.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7e4b9c4cd3b83be4c52eb475a6ef6b3fa4946cc5/gdb/testsuite/gdb.python/py-pp-integral.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.python/py-pp-integral.c?ref=7e4b9c4cd3b83be4c52eb475a6ef6b3fa4946cc5",
      "patch": "@@ -17,10 +17,10 @@\n \n typedef long time_t;\n \n-static time_t\n+static void\n tick_tock (time_t *t)\n {\n-  return *t++;\n+  (void) *t++;\n }\n \n int"
    },
    {
      "sha": "cd7c914d41a283c677fd25b210b6677c612b097a",
      "filename": "gdb/testsuite/gdb.python/py-pp-re-notag.c",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7e4b9c4cd3b83be4c52eb475a6ef6b3fa4946cc5/gdb/testsuite/gdb.python/py-pp-re-notag.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7e4b9c4cd3b83be4c52eb475a6ef6b3fa4946cc5/gdb/testsuite/gdb.python/py-pp-re-notag.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.python/py-pp-re-notag.c?ref=7e4b9c4cd3b83be4c52eb475a6ef6b3fa4946cc5",
      "patch": "@@ -17,10 +17,10 @@\n \n typedef long time_t;\n \n-static time_t\n+static void\n tick_tock (time_t *t)\n {\n-  return *t++;\n+  (void) *t++;\n }\n \n int"
    }
  ]
}