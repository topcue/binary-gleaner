{
  "sha": "05f68f52ef0dc3cc52ee5886509a83f159224eb8",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MDVmNjhmNTJlZjBkYzNjYzUyZWU1ODg2NTA5YTgzZjE1OTIyNGViOA==",
  "commit": {
    "author": {
      "name": "Tom de Vries",
      "email": "tdevries@suse.de",
      "date": "2021-02-11T20:03:03Z"
    },
    "committer": {
      "name": "Tom de Vries",
      "email": "tdevries@suse.de",
      "date": "2021-02-11T20:03:03Z"
    },
    "message": "[gdb/symtab] Handle DW_FORM_strx in form_requires_reprocessing\n\nWhen running test-case gdb.dwarf2/fission-mix.exp using gcc-11, I run into:\n...\n(gdb) file fission-mix^M\nReading symbols from fission-mix...^M\nsrc/gdb/dwarf2/attribute.h:258: internal-error: \\\n  void attribute::set_unsigned_reprocess(ULONGEST): \\\n  Assertion `form_requires_reprocessing ()' failed.^M\n...\n\nThis happens when calling set_unsigned_reprocess on an attribute with form\nDW_FORM_strx.  The assert triggers because DW_FORM_strx is not listed in\nform_requires_reprocessing.\n\nFix this by adding DW_FORM_strx in form_requires_reprocessing.\n\nTested on x86_64-linux.\n\ngdb/ChangeLog:\n\n2021-02-11  Tom de Vries  <tdevries@suse.de>\n\n\tPR symtab/27353\n\t* dwarf2/attribute.c (attribute::form_requires_reprocessing):\n\tReturn true for DW_FORM_strx.",
    "tree": {
      "sha": "5f72c7c63860320c9324de5d931b02a7a3d31b49",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/5f72c7c63860320c9324de5d931b02a7a3d31b49"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/05f68f52ef0dc3cc52ee5886509a83f159224eb8",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/05f68f52ef0dc3cc52ee5886509a83f159224eb8",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/05f68f52ef0dc3cc52ee5886509a83f159224eb8",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/05f68f52ef0dc3cc52ee5886509a83f159224eb8/comments",
  "author": {
    "login": "vries",
    "id": 4057235,
    "node_id": "MDQ6VXNlcjQwNTcyMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4057235?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vries",
    "html_url": "https://github.com/vries",
    "followers_url": "https://api.github.com/users/vries/followers",
    "following_url": "https://api.github.com/users/vries/following{/other_user}",
    "gists_url": "https://api.github.com/users/vries/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vries/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vries/subscriptions",
    "organizations_url": "https://api.github.com/users/vries/orgs",
    "repos_url": "https://api.github.com/users/vries/repos",
    "events_url": "https://api.github.com/users/vries/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vries/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "vries",
    "id": 4057235,
    "node_id": "MDQ6VXNlcjQwNTcyMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4057235?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vries",
    "html_url": "https://github.com/vries",
    "followers_url": "https://api.github.com/users/vries/followers",
    "following_url": "https://api.github.com/users/vries/following{/other_user}",
    "gists_url": "https://api.github.com/users/vries/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vries/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vries/subscriptions",
    "organizations_url": "https://api.github.com/users/vries/orgs",
    "repos_url": "https://api.github.com/users/vries/repos",
    "events_url": "https://api.github.com/users/vries/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vries/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "b260f8d60c24fb541b9b4635ed31e30e6acd6b7a",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/b260f8d60c24fb541b9b4635ed31e30e6acd6b7a",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/b260f8d60c24fb541b9b4635ed31e30e6acd6b7a"
    }
  ],
  "stats": {
    "total": 9,
    "additions": 8,
    "deletions": 1
  },
  "files": [
    {
      "sha": "ff44b8b66787a0bd5f71f380072b578a8134bd66",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/05f68f52ef0dc3cc52ee5886509a83f159224eb8/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/05f68f52ef0dc3cc52ee5886509a83f159224eb8/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=05f68f52ef0dc3cc52ee5886509a83f159224eb8",
      "patch": "@@ -1,3 +1,9 @@\n+2021-02-11  Tom de Vries  <tdevries@suse.de>\n+\n+\tPR symtab/27353\n+\t* dwarf2/attribute.c (attribute::form_requires_reprocessing):\n+\tReturn true for DW_FORM_strx.\n+\n 2021-02-11  Tom Tromey  <tromey@adacore.com>\n \n \tPR gdb/27383:"
    },
    {
      "sha": "3205b0f7d29af5401fe62395e1330ba8ce1ef0a2",
      "filename": "gdb/dwarf2/attribute.c",
      "status": "modified",
      "additions": 2,
      "deletions": 1,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/05f68f52ef0dc3cc52ee5886509a83f159224eb8/gdb/dwarf2/attribute.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/05f68f52ef0dc3cc52ee5886509a83f159224eb8/gdb/dwarf2/attribute.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/dwarf2/attribute.c?ref=05f68f52ef0dc3cc52ee5886509a83f159224eb8",
      "patch": "@@ -192,7 +192,8 @@ attribute::form_is_unsigned () const\n bool\n attribute::form_requires_reprocessing () const\n {\n-  return (form == DW_FORM_strx1\n+  return (form == DW_FORM_strx\n+\t  || form == DW_FORM_strx1\n \t  || form == DW_FORM_strx2\n \t  || form == DW_FORM_strx3\n \t  || form == DW_FORM_strx4"
    }
  ]
}