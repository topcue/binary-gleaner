{
  "sha": "3f3c36087ec4667e285b487e668da73614993828",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6M2YzYzM2MDg3ZWM0NjY3ZTI4NWI0ODdlNjY4ZGE3MzYxNDk5MzgyOA==",
  "commit": {
    "author": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2020-05-22T22:35:14Z"
    },
    "committer": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2020-05-23T05:26:07Z"
    },
    "message": "ar many_files test\n\nThis tests for the issue fixed with git commit 0490dd41ae.\n\n\t* testsuite/binutils-all/ar.exp (many_files): New test.",
    "tree": {
      "sha": "0f0787a305a31d9ebc2cc11a03c554836390e549",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/0f0787a305a31d9ebc2cc11a03c554836390e549"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/3f3c36087ec4667e285b487e668da73614993828",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/3f3c36087ec4667e285b487e668da73614993828",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/3f3c36087ec4667e285b487e668da73614993828",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/3f3c36087ec4667e285b487e668da73614993828/comments",
  "author": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "a3d674e0226291747cbfac9c73250e5193c06a57",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/a3d674e0226291747cbfac9c73250e5193c06a57",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/a3d674e0226291747cbfac9c73250e5193c06a57"
    }
  ],
  "stats": {
    "total": 60,
    "additions": 60,
    "deletions": 0
  },
  "files": [
    {
      "sha": "f607c6369c84ee7323262a559293bccec19a1891",
      "filename": "binutils/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3f3c36087ec4667e285b487e668da73614993828/binutils/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3f3c36087ec4667e285b487e668da73614993828/binutils/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/ChangeLog?ref=3f3c36087ec4667e285b487e668da73614993828",
      "patch": "@@ -1,3 +1,7 @@\n+2020-05-23  Alan Modra  <amodra@gmail.com>\n+\n+\t* testsuite/binutils-all/ar.exp (many_files): New test.\n+\n 2020-05-21  Alan Modra  <amodra@gmail.com>\n \n \t* addr2line.c: Replace \"if (x) free (x)\" with \"free (x)\" throughout."
    },
    {
      "sha": "bf30b016c7b5ce495843c50a44bc5b9225665f3b",
      "filename": "binutils/testsuite/binutils-all/ar.exp",
      "status": "modified",
      "additions": 56,
      "deletions": 0,
      "changes": 56,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3f3c36087ec4667e285b487e668da73614993828/binutils/testsuite/binutils-all/ar.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3f3c36087ec4667e285b487e668da73614993828/binutils/testsuite/binutils-all/ar.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/testsuite/binutils-all/ar.exp?ref=3f3c36087ec4667e285b487e668da73614993828",
      "patch": "@@ -649,6 +649,61 @@ proc extract_an_element { } {\n     pass $testname\n }\n \n+proc many_files { } {\n+    global AR\n+    global AS\n+    global srcdir\n+    global subdir\n+\n+    set testname \"ar many files\"\n+\n+    set ofiles {}\n+    set max_file 150\n+    for { set i 0 } { $i < $max_file } { incr i } {\n+\tset sfile \"tmpdir/d-$i.s\"\n+\tif [catch { set ofd [open $sfile w] } x] {\n+\t    perror \"$x\"\n+\t    unresolved $testname\n+\t    return\n+\t}\n+\n+\tputs $ofd \" .globl data_sym$i\"\n+\tputs $ofd \" .data\"\n+\tputs $ofd \"data_sym$i:\"\n+\tputs $ofd \" .long $i\"\n+\tclose $ofd\n+\n+\tset ofile \"tmpdir/d-$i.o\"\n+\tif ![binutils_assemble $sfile $ofile] {\n+\t    unresolved $testname\n+\t    return\n+\t}\n+\n+\tset objfile $ofile\n+\tif [is_remote host] {\n+\t    remote_file host delete $sfile\n+\t    set objfile [remote_download host $ofile]\n+\t    remote_file build delete $ofile\n+\t}\n+\tremote_file build delete $sfile\n+\tlappend ofiles $objfile\n+    }\n+\n+    set archive tmpdir/many.a\n+    remote_file host delete $archive\n+\n+    set got [binutils_run $AR \"cr $archive $ofiles\"]\n+    if ![string match \"\" $got] {\n+\tfail $testname\n+\treturn\n+    }\n+\n+    remote_file host delete $archive\n+    eval remote_file host delete $ofiles\n+\n+    pass $testname\n+}\n+\n # Run the tests.\n \n # Only run the bfdtest checks if the programs exist.  Since these\n@@ -670,6 +725,7 @@ delete_an_element\n move_an_element\n empty_archive\n extract_an_element\n+many_files\n \n if { [is_elf_format] && [supports_gnu_unique] } {\n     unique_symbol"
    }
  ]
}