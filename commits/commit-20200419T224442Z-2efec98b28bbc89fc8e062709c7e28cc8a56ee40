{
  "sha": "2efec98b28bbc89fc8e062709c7e28cc8a56ee40",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MmVmZWM5OGIyOGJiYzg5ZmM4ZTA2MjcwOWM3ZTI4Y2M4YTU2ZWU0MA==",
  "commit": {
    "author": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2020-04-18T06:27:07Z"
    },
    "committer": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2020-04-19T22:44:42Z"
    },
    "message": "PowerPC64: remove empty .rela.dyn (.rela.branch_lt)\n\nStripping .rela.branch_lt is easy enough but messes with the\ntestsuite due to stub symbols (that use section id) changing.  Tests\nthat run on more than one target variant can be tricky to fix, this\nrenaming happened to work.\n\nbfd/\n\t* elf64-ppc.c (ppc64_elf_size_stubs): Strip relbrlt too.\nld/\n\t* testsuite/ld-powerpc/tlsopt5.s: Rename foo to aaaaa.\n\t* testsuite/ld-powerpc/tlsopt5.d: Adjust to suit.\n\t* testsuite/ld-powerpc/tlsopt6.d: Likewise.",
    "tree": {
      "sha": "4c52288432a90138eab7e5d15ac38d6d7ee49cda",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/4c52288432a90138eab7e5d15ac38d6d7ee49cda"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/2efec98b28bbc89fc8e062709c7e28cc8a56ee40",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/2efec98b28bbc89fc8e062709c7e28cc8a56ee40",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/2efec98b28bbc89fc8e062709c7e28cc8a56ee40",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/2efec98b28bbc89fc8e062709c7e28cc8a56ee40/comments",
  "author": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "45e1f031e823abf0fb233b3da6da099417e65bd8",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/45e1f031e823abf0fb233b3da6da099417e65bd8",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/45e1f031e823abf0fb233b3da6da099417e65bd8"
    }
  ],
  "stats": {
    "total": 40,
    "additions": 26,
    "deletions": 14
  },
  "files": [
    {
      "sha": "f88e8831828e7112cac8bd9ea0ef8f3ab1c27c63",
      "filename": "bfd/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2efec98b28bbc89fc8e062709c7e28cc8a56ee40/bfd/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2efec98b28bbc89fc8e062709c7e28cc8a56ee40/bfd/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/ChangeLog?ref=2efec98b28bbc89fc8e062709c7e28cc8a56ee40",
      "patch": "@@ -1,3 +1,7 @@\n+2020-04-20  Alan Modra  <amodra@gmail.com>\n+\n+\t* elf64-ppc.c (ppc64_elf_size_stubs): Strip relbrlt too.\n+\n 2020-04-18  Alan Modra  <amodra@gmail.com>\n \n \t* section.c (bfd_is_const_section): Correct test for special"
    },
    {
      "sha": "53e5d913e5de0fda63d51b31a9e0739eba4a4d71",
      "filename": "bfd/elf64-ppc.c",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2efec98b28bbc89fc8e062709c7e28cc8a56ee40/bfd/elf64-ppc.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2efec98b28bbc89fc8e062709c7e28cc8a56ee40/bfd/elf64-ppc.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/elf64-ppc.c?ref=2efec98b28bbc89fc8e062709c7e28cc8a56ee40",
      "patch": "@@ -13772,6 +13772,8 @@ ppc64_elf_size_stubs (struct bfd_link_info *info)\n     }\n \n   maybe_strip_output (info, htab->brlt);\n+  if (htab->relbrlt != NULL)\n+    maybe_strip_output (info, htab->relbrlt);\n   if (htab->glink_eh_frame != NULL)\n     maybe_strip_output (info, htab->glink_eh_frame);\n "
    },
    {
      "sha": "dffd363494d99f14e14e983bf9acc58d40e80a22",
      "filename": "ld/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2efec98b28bbc89fc8e062709c7e28cc8a56ee40/ld/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2efec98b28bbc89fc8e062709c7e28cc8a56ee40/ld/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/ChangeLog?ref=2efec98b28bbc89fc8e062709c7e28cc8a56ee40",
      "patch": "@@ -1,3 +1,9 @@\n+2020-04-20  Alan Modra  <amodra@gmail.com>\n+\n+\t* testsuite/ld-powerpc/tlsopt5.s: Rename foo to aaaaa.\n+\t* testsuite/ld-powerpc/tlsopt5.d: Adjust to suit.\n+\t* testsuite/ld-powerpc/tlsopt6.d: Likewise.\n+\n 2020-04-18  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n \n \t* testsuite/ld-elf/warn1.d: Don't xfail on 64-bit Solaris/SPARC."
    },
    {
      "sha": "0fcb79821b83fd9958aa5c291c1c8f249ee5f3d5",
      "filename": "ld/testsuite/ld-powerpc/tlsopt5.d",
      "status": "modified",
      "additions": 6,
      "deletions": 6,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2efec98b28bbc89fc8e062709c7e28cc8a56ee40/ld/testsuite/ld-powerpc/tlsopt5.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2efec98b28bbc89fc8e062709c7e28cc8a56ee40/ld/testsuite/ld-powerpc/tlsopt5.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-powerpc/tlsopt5.d?ref=2efec98b28bbc89fc8e062709c7e28cc8a56ee40",
      "patch": "@@ -8,9 +8,9 @@\n \n Disassembly of section \\.text:\n \n-.* <.*\\.plt_call\\.foo>:\n+.* <.*\\.plt_call\\.aaaaa>:\n .*:\t(18 00 41 f8|f8 41 00 18) \tstd     r2,24\\(r1\\)\n-.*:\t(28 80 82 e9|e9 82 80 28) \tld      r12,-32728\\(r2\\)\n+.*:\t(30 80 82 e9|e9 82 80 30) \tld      r12,-32720\\(r2\\)\n .*:\t(a6 03 89 7d|7d 89 03 a6) \tmtctr   r12\n .*:\t(20 04 80 4e|4e 80 04 20) \tbctr\n \t\\.\\.\\.\n@@ -26,7 +26,7 @@ Disassembly of section \\.text:\n .*:\t(a6 02 08 7c|7c 08 02 a6) \tmflr    r0\n .*:\t(08 00 01 f8|f8 01 00 08) \tstd     r0,8\\(r1\\)\n .*:\t(18 00 41 f8|f8 41 00 18) \tstd     r2,24\\(r1\\)\n-.*:\t(30 80 82 e9|e9 82 80 30) \tld      r12,-32720\\(r2\\)\n+.*:\t(28 80 82 e9|e9 82 80 28) \tld      r12,-32728\\(r2\\)\n .*:\t(a6 03 89 7d|7d 89 03 a6) \tmtctr   r12\n .*:\t(21 04 80 4e|4e 80 04 21) \tbctrl\n .*:\t(18 00 41 e8|e8 41 00 18) \tld      r2,24\\(r1\\)\n@@ -39,7 +39,7 @@ Disassembly of section \\.text:\n .*:\t(08 80 62 38|38 62 80 08) \taddi    r3,r2,-32760\n .*:\t(9d ff ff 4b|4b ff ff 9d) \tbl      .* <.*\\.plt_call\\.__tls_get_addr_opt@@GLIBC_2\\.22>\n .*:\t(00 00 00 60|60 00 00 00) \tnop\n-.*:\t(75 ff ff 4b|4b ff ff 75) \tbl      .* <.*\\.plt_call\\.foo>\n+.*:\t(75 ff ff 4b|4b ff ff 75) \tbl      .* <.*\\.plt_call\\.aaaaa>\n .*:\t(18 00 41 e8|e8 41 00 18) \tld      r2,24\\(r1\\)\n .*:\t(00 00 00 60|60 00 00 00) \tnop\n .*\n@@ -61,8 +61,8 @@ Disassembly of section \\.text:\n .*:\t(08 00 6b e9|e9 6b 00 08) \tld      r11,8\\(r11\\)\n .*:\t(20 04 80 4e|4e 80 04 20) \tbctr\n \n-.* <foo@plt>:\n+.* <__tls_get_addr_opt@plt>:\n .*\t(c8 ff ff 4b|4b ff ff c8) \tb       .*\n \n-.* <__tls_get_addr_opt@plt>:\n+.* <aaaaa@plt>:\n .*:\t(c4 ff ff 4b|4b ff ff c4) \tb       .*"
    },
    {
      "sha": "004279a5bda132ef2e0ce02312ec3e9f0fc518b9",
      "filename": "ld/testsuite/ld-powerpc/tlsopt5.s",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2efec98b28bbc89fc8e062709c7e28cc8a56ee40/ld/testsuite/ld-powerpc/tlsopt5.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2efec98b28bbc89fc8e062709c7e28cc8a56ee40/ld/testsuite/ld-powerpc/tlsopt5.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-powerpc/tlsopt5.s?ref=2efec98b28bbc89fc8e062709c7e28cc8a56ee40",
      "patch": "@@ -1,10 +1,10 @@\n  .globl _start\n- .weak foo\n+ .weak aaaaa\n _start:\n  .cfi_startproc\n  addi 3,2,gd@got@tlsgd\n  bl __tls_get_addr(gd@tlsgd)\n  nop\n- bl foo\n+ bl aaaaa\n  nop\n  .cfi_endproc"
    },
    {
      "sha": "4ca64092c1d464c91413de1a60f2fc8459cea472",
      "filename": "ld/testsuite/ld-powerpc/tlsopt6.d",
      "status": "modified",
      "additions": 6,
      "deletions": 6,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2efec98b28bbc89fc8e062709c7e28cc8a56ee40/ld/testsuite/ld-powerpc/tlsopt6.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2efec98b28bbc89fc8e062709c7e28cc8a56ee40/ld/testsuite/ld-powerpc/tlsopt6.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-powerpc/tlsopt6.d?ref=2efec98b28bbc89fc8e062709c7e28cc8a56ee40",
      "patch": "@@ -8,9 +8,9 @@\n \n Disassembly of section \\.text:\n \n-.* <.*\\.plt_call\\.foo>:\n+.* <.*\\.plt_call\\.aaaaa>:\n .*:\t(18 00 41 f8|f8 41 00 18) \tstd     r2,24\\(r1\\)\n-.*:\t(28 80 82 e9|e9 82 80 28) \tld      r12,-32728\\(r2\\)\n+.*:\t(30 80 82 e9|e9 82 80 30) \tld      r12,-32720\\(r2\\)\n .*:\t(a6 03 89 7d|7d 89 03 a6) \tmtctr   r12\n .*:\t(20 04 80 4e|4e 80 04 20) \tbctr\n \t\\.\\.\\.\n@@ -35,7 +35,7 @@ Disassembly of section \\.text:\n .*:\t(f8 ff 61 f9|f9 61 ff f8) \tstd     r11,-8\\(r1\\)\n .*:\t(a1 ff 21 f8|f8 21 ff a1) \tstdu    r1,-96\\(r1\\)\n .*:\t(18 00 41 f8|f8 41 00 18) \tstd     r2,24\\(r1\\)\n-.*:\t(30 80 82 e9|e9 82 80 30) \tld      r12,-32720\\(r2\\)\n+.*:\t(28 80 82 e9|e9 82 80 28) \tld      r12,-32728\\(r2\\)\n .*:\t(a6 03 89 7d|7d 89 03 a6) \tmtctr   r12\n .*:\t(21 04 80 4e|4e 80 04 21) \tbctrl\n .*:\t(18 00 41 e8|e8 41 00 18) \tld      r2,24\\(r1\\)\n@@ -57,7 +57,7 @@ Disassembly of section \\.text:\n .*:\t(08 80 62 38|38 62 80 08) \taddi    r3,r2,-32760\n .*:\t(5d ff ff 4b|4b ff ff 5d) \tbl      .* <.*\\.plt_call\\.__tls_get_addr_opt@@GLIBC_2\\.22>\n .*:\t(00 00 00 60|60 00 00 00) \tnop\n-.*:\t(35 ff ff 4b|4b ff ff 35) \tbl      .* <.*\\.plt_call\\.foo>\n+.*:\t(35 ff ff 4b|4b ff ff 35) \tbl      .* <.*\\.plt_call\\.aaaaa>\n .*:\t(18 00 41 e8|e8 41 00 18) \tld      r2,24\\(r1\\)\n .*:\t(00 00 00 60|60 00 00 00) \tnop\n .*\n@@ -79,8 +79,8 @@ Disassembly of section \\.text:\n .*:\t(08 00 6b e9|e9 6b 00 08) \tld      r11,8\\(r11\\)\n .*:\t(20 04 80 4e|4e 80 04 20) \tbctr\n \n-.* <foo@plt>:\n+.* <__tls_get_addr_opt@plt>:\n .*\t(c8 ff ff 4b|4b ff ff c8) \tb       .*\n \n-.* <__tls_get_addr_opt@plt>:\n+.* <aaaaa@plt>:\n .*:\t(c4 ff ff 4b|4b ff ff c4) \tb       .*"
    }
  ]
}