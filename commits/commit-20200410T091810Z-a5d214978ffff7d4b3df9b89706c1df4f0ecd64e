{
  "sha": "a5d214978ffff7d4b3df9b89706c1df4f0ecd64e",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YTVkMjE0OTc4ZmZmZjdkNGIzZGY5Yjg5NzA2YzFkZjRmMGVjZDY0ZQ==",
  "commit": {
    "author": {
      "name": "Rainer Orth",
      "email": "ro@CeBiTec.Uni-Bielefeld.DE",
      "date": "2020-04-10T09:18:10Z"
    },
    "committer": {
      "name": "Rainer Orth",
      "email": "ro@CeBiTec.Uni-Bielefeld.DE",
      "date": "2020-04-10T09:18:10Z"
    },
    "message": "ld: xfail several shared (non PIC) tests on Solaris\n\nThree ld tests currently FAIL on Solaris/SPARC:\n\nFAIL: shared (non PIC)\nFAIL: shared (non PIC, load offset)\nFAIL: shared (PIC main, non PIC so)\n\nall of them in the same way:\n\n/var/gcc/binutils/sparcv7/obj/binutils/ld/tmpdir/ld/collect-ld: read-only\nsegment has dynamic relocations\n\nGiven that Solaris defaults to -z text, this is to be expected, thus\nthis patch xfail's them.\n\nTested on sparc-sun-solaris2.11 and sparcv9-sun-solaris2.11.\n\n\t* testsuite/ld-shared/shared.exp: Remove dangling comments.\n\txfail shared non PIC tests on Solaris.",
    "tree": {
      "sha": "3eb35d5cd7dd86eb68e606702e8ee35c9ac35204",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/3eb35d5cd7dd86eb68e606702e8ee35c9ac35204"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/a5d214978ffff7d4b3df9b89706c1df4f0ecd64e",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/a5d214978ffff7d4b3df9b89706c1df4f0ecd64e",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/a5d214978ffff7d4b3df9b89706c1df4f0ecd64e",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/a5d214978ffff7d4b3df9b89706c1df4f0ecd64e/comments",
  "author": {
    "login": "rorth",
    "id": 3930951,
    "node_id": "MDQ6VXNlcjM5MzA5NTE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3930951?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rorth",
    "html_url": "https://github.com/rorth",
    "followers_url": "https://api.github.com/users/rorth/followers",
    "following_url": "https://api.github.com/users/rorth/following{/other_user}",
    "gists_url": "https://api.github.com/users/rorth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rorth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rorth/subscriptions",
    "organizations_url": "https://api.github.com/users/rorth/orgs",
    "repos_url": "https://api.github.com/users/rorth/repos",
    "events_url": "https://api.github.com/users/rorth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rorth/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "rorth",
    "id": 3930951,
    "node_id": "MDQ6VXNlcjM5MzA5NTE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3930951?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rorth",
    "html_url": "https://github.com/rorth",
    "followers_url": "https://api.github.com/users/rorth/followers",
    "following_url": "https://api.github.com/users/rorth/following{/other_user}",
    "gists_url": "https://api.github.com/users/rorth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rorth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rorth/subscriptions",
    "organizations_url": "https://api.github.com/users/rorth/orgs",
    "repos_url": "https://api.github.com/users/rorth/repos",
    "events_url": "https://api.github.com/users/rorth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rorth/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "71ea2b6be8228759230cef7d5a7ab0b45b77c26c",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/71ea2b6be8228759230cef7d5a7ab0b45b77c26c",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/71ea2b6be8228759230cef7d5a7ab0b45b77c26c"
    }
  ],
  "stats": {
    "total": 15,
    "additions": 11,
    "deletions": 4
  },
  "files": [
    {
      "sha": "06e7f5de2aa5529e0f6e18374175d5c7271de551",
      "filename": "ld/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a5d214978ffff7d4b3df9b89706c1df4f0ecd64e/ld/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a5d214978ffff7d4b3df9b89706c1df4f0ecd64e/ld/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/ChangeLog?ref=a5d214978ffff7d4b3df9b89706c1df4f0ecd64e",
      "patch": "@@ -1,3 +1,8 @@\n+2020-04-10  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n+\n+\t* testsuite/ld-shared/shared.exp: Remove dangling comments.\n+\txfail shared non PIC tests on Solaris.\n+\n 2020-04-09  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n \n \t* testsuite/ld-elf/shared.exp: Add -Av9 to AFLAGS_PIC on sparc*-*-*."
    },
    {
      "sha": "32cdbe8a417d08c5a5906bd792e335f8a70efd97",
      "filename": "ld/testsuite/ld-shared/shared.exp",
      "status": "modified",
      "additions": 6,
      "deletions": 4,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a5d214978ffff7d4b3df9b89706c1df4f0ecd64e/ld/testsuite/ld-shared/shared.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a5d214978ffff7d4b3df9b89706c1df4f0ecd64e/ld/testsuite/ld-shared/shared.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-shared/shared.exp?ref=a5d214978ffff7d4b3df9b89706c1df4f0ecd64e",
      "patch": "@@ -222,8 +222,8 @@ if ![ld_compile \"$CC $CFLAGS $SHCFLAG\" $srcdir/$subdir/main.c $tmpdir/mainnp.o]\n     } else { if { [istarget rs6000*-*-aix*] || [istarget powerpc*-*-aix*] } {\n \tshared_test shnp \"shared (nonPIC)\" mainnp.o sh1np.o sh2np.o xcoff\n     } else {\n-\t# SunOS non PIC shared libraries don't permit some cases of\n-\t# overriding.\n+\t# Solaris defaults to -z text.\n+\tsetup_xfail \"*-*-solaris2*\"\n \tsetup_xfail \"ia64-*-linux*\"\n \tsetup_xfail \"alpha*-*-linux*\"\n \tsetup_xfail \"powerpc64*-*-*\"\n@@ -268,6 +268,8 @@ if ![ld_compile \"$CC $CFLAGS $SHCFLAG\" $srcdir/$subdir/main.c $tmpdir/mainnp.o]\n \t    setup_xfail \"arm*-*-linux*\"\n \t}\n \tsetup_xfail \"aarch64*-*-linux*\"\n+\t# Solaris defaults to -z text.\n+\tsetup_xfail \"*-*-solaris2*\"\n \tshared_test shnp \"shared (non PIC, load offset)\" \\\n \t\tmainnp.o sh1np.o sh2np.o shared \\\n \t\t\"-Wl,-T,$srcdir/$subdir/elf-offset.ld,--hash-style=sysv\"\n@@ -301,8 +303,8 @@ if ![ld_compile \"$CC $CFLAGS $SHCFLAG $picflag\" $srcdir/$subdir/main.c $tmpdir/m\n         if { [istarget rs6000*-*-aix*] || [istarget powerpc*-*-aix*] } {\n \t    shared_test shmpnp \"shared (PIC main, non PIC so)\" mainp.o sh1np.o sh2np.o xcoff\n \t} else {\n-\t    # SunOS non PIC shared libraries don't permit some cases of\n-\t    # overriding.\n+\t    # Solaris defaults to -z text.\n+\t    setup_xfail \"*-*-solaris2*\"\n \t    setup_xfail \"ia64-*-linux*\"\n \t    setup_xfail \"alpha*-*-linux*\"\n \t    setup_xfail \"powerpc64*-*-*\""
    }
  ]
}