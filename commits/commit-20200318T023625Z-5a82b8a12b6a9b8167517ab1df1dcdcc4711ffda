{
  "sha": "5a82b8a12b6a9b8167517ab1df1dcdcc4711ffda",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NWE4MmI4YTEyYjZhOWI4MTY3NTE3YWIxZGYxZGNkY2M0NzExZmZkYQ==",
  "commit": {
    "author": {
      "name": "Kamil Rytarowski",
      "email": "n54@gmx.com",
      "date": "2020-03-17T13:38:23Z"
    },
    "committer": {
      "name": "Kamil Rytarowski",
      "email": "n54@gmx.com",
      "date": "2020-03-18T02:36:25Z"
    },
    "message": "Namespace the reg class to avoid clashes with OS headers\n\nFix build issues on NetBSD where the reg symbol exists in public headers.\n\nregformats/regdef.h:22:8: error: redefinition struct\n struct reg\n        ^~~\n/usr/include/amd64/reg.h:51:8: note: previous definition struct\n struct reg {\n        ^~~\n\ngdb/ChangeLog:\n\n\t* regformats/regdef.h: Put reg in gdb namespace.\n\ngdbserver/ChangeLog:\n\n\t* regcache.cc (find_register_by_number): Update.\n\t* tdesc.cc (init_target_desc): Likewise.\n\t* tdesc.h (target_desc::reg_defs): Likewise.",
    "tree": {
      "sha": "9efbd9f8a6b74b3cc36ce38a04e7e92bea65dcbb",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/9efbd9f8a6b74b3cc36ce38a04e7e92bea65dcbb"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/5a82b8a12b6a9b8167517ab1df1dcdcc4711ffda",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/5a82b8a12b6a9b8167517ab1df1dcdcc4711ffda",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/5a82b8a12b6a9b8167517ab1df1dcdcc4711ffda",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/5a82b8a12b6a9b8167517ab1df1dcdcc4711ffda/comments",
  "author": {
    "login": "krytarowski",
    "id": 6665730,
    "node_id": "MDQ6VXNlcjY2NjU3MzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6665730?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/krytarowski",
    "html_url": "https://github.com/krytarowski",
    "followers_url": "https://api.github.com/users/krytarowski/followers",
    "following_url": "https://api.github.com/users/krytarowski/following{/other_user}",
    "gists_url": "https://api.github.com/users/krytarowski/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/krytarowski/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/krytarowski/subscriptions",
    "organizations_url": "https://api.github.com/users/krytarowski/orgs",
    "repos_url": "https://api.github.com/users/krytarowski/repos",
    "events_url": "https://api.github.com/users/krytarowski/events{/privacy}",
    "received_events_url": "https://api.github.com/users/krytarowski/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "krytarowski",
    "id": 6665730,
    "node_id": "MDQ6VXNlcjY2NjU3MzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6665730?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/krytarowski",
    "html_url": "https://github.com/krytarowski",
    "followers_url": "https://api.github.com/users/krytarowski/followers",
    "following_url": "https://api.github.com/users/krytarowski/following{/other_user}",
    "gists_url": "https://api.github.com/users/krytarowski/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/krytarowski/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/krytarowski/subscriptions",
    "organizations_url": "https://api.github.com/users/krytarowski/orgs",
    "repos_url": "https://api.github.com/users/krytarowski/repos",
    "events_url": "https://api.github.com/users/krytarowski/events{/privacy}",
    "received_events_url": "https://api.github.com/users/krytarowski/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "fb516a69133999df3e30fccb7c4f5759eb1090eb",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/fb516a69133999df3e30fccb7c4f5759eb1090eb",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/fb516a69133999df3e30fccb7c4f5759eb1090eb"
    }
  ],
  "stats": {
    "total": 20,
    "additions": 17,
    "deletions": 3
  },
  "files": [
    {
      "sha": "84964dc00ac3b39e92aaa52cdf28abf73a52bba7",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5a82b8a12b6a9b8167517ab1df1dcdcc4711ffda/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5a82b8a12b6a9b8167517ab1df1dcdcc4711ffda/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=5a82b8a12b6a9b8167517ab1df1dcdcc4711ffda",
      "patch": "@@ -1,3 +1,7 @@\n+2020-03-17  Kamil Rytarowski  <n54@gmx.com>\n+\n+\t* regformats/regdef.h: Put reg in gdb namespace.\n+\n 2020-03-17  Kamil Rytarowski  <n54@gmx.com>\n \n \t* i386-bsd-nat.c (gdb_ptrace): New."
    },
    {
      "sha": "ed9aeb7af4b8232b8c7de1a8ba1c830ab7922b7a",
      "filename": "gdb/regformats/regdef.h",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5a82b8a12b6a9b8167517ab1df1dcdcc4711ffda/gdb/regformats/regdef.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5a82b8a12b6a9b8167517ab1df1dcdcc4711ffda/gdb/regformats/regdef.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/regformats/regdef.h?ref=5a82b8a12b6a9b8167517ab1df1dcdcc4711ffda",
      "patch": "@@ -19,6 +19,8 @@\n #ifndef REGFORMATS_REGDEF_H\n #define REGFORMATS_REGDEF_H\n \n+namespace gdb {\n+\n struct reg\n {\n   reg (int _offset)\n@@ -60,4 +62,6 @@ struct reg\n   }\n };\n \n+} /* namespace gdb */\n+\n #endif /* REGFORMATS_REGDEF_H */"
    },
    {
      "sha": "ea8a079fbf276bfa9c03852cb83d7011524ca607",
      "filename": "gdbserver/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5a82b8a12b6a9b8167517ab1df1dcdcc4711ffda/gdbserver/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5a82b8a12b6a9b8167517ab1df1dcdcc4711ffda/gdbserver/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/ChangeLog?ref=5a82b8a12b6a9b8167517ab1df1dcdcc4711ffda",
      "patch": "@@ -1,3 +1,9 @@\n+2020-03-17  Kamil Rytarowski  <n54@gmx.com>\n+\n+\t* regcache.cc (find_register_by_number): Update.\n+\t* tdesc.cc (init_target_desc): Likewise.\n+\t* tdesc.h (target_desc::reg_defs): Likewise.\n+\n 2020-03-12  Tom Tromey  <tom@tromey.com>\n \n \t* configure: Rebuild."
    },
    {
      "sha": "6c0af95b34ec4f2e2fc832d547a1a7eeff686ecc",
      "filename": "gdbserver/regcache.cc",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5a82b8a12b6a9b8167517ab1df1dcdcc4711ffda/gdbserver/regcache.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5a82b8a12b6a9b8167517ab1df1dcdcc4711ffda/gdbserver/regcache.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/regcache.cc?ref=5a82b8a12b6a9b8167517ab1df1dcdcc4711ffda",
      "patch": "@@ -198,7 +198,7 @@ regcache_cpy (struct regcache *dst, struct regcache *src)\n \n /* Return a reference to the description of register N.  */\n \n-static const struct reg &\n+static const struct gdb::reg &\n find_register_by_number (const struct target_desc *tdesc, int n)\n {\n   return tdesc->reg_defs[n];"
    },
    {
      "sha": "8d97defb9b5968c34968c47c178c739d2e7b5869",
      "filename": "gdbserver/tdesc.cc",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5a82b8a12b6a9b8167517ab1df1dcdcc4711ffda/gdbserver/tdesc.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5a82b8a12b6a9b8167517ab1df1dcdcc4711ffda/gdbserver/tdesc.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/tdesc.cc?ref=5a82b8a12b6a9b8167517ab1df1dcdcc4711ffda",
      "patch": "@@ -75,7 +75,7 @@ init_target_desc (struct target_desc *tdesc,\n \tgdb_assert (regnum == 0 || regnum >= tdesc->reg_defs.size ());\n \n \tif (regnum != 0)\n-\t  tdesc->reg_defs.resize (regnum, reg (offset));\n+\t  tdesc->reg_defs.resize (regnum, gdb::reg (offset));\n \n \ttdesc->reg_defs.emplace_back (treg->name.c_str (), offset,\n \t\t\t\t      treg->bitsize);"
    },
    {
      "sha": "f9ca478ff6db3813a80be5096ec2adb26640cec7",
      "filename": "gdbserver/tdesc.h",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5a82b8a12b6a9b8167517ab1df1dcdcc4711ffda/gdbserver/tdesc.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5a82b8a12b6a9b8167517ab1df1dcdcc4711ffda/gdbserver/tdesc.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/tdesc.h?ref=5a82b8a12b6a9b8167517ab1df1dcdcc4711ffda",
      "patch": "@@ -31,7 +31,7 @@ struct target_desc : tdesc_element\n {\n   /* A vector of elements of register definitions that\n      describe the inferior's register set.  */\n-  std::vector<struct reg> reg_defs;\n+  std::vector<struct gdb::reg> reg_defs;\n \n   /* The register cache size, in bytes.  */\n   int registers_size;"
    }
  ]
}