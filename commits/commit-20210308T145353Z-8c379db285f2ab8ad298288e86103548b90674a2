{
  "sha": "8c379db285f2ab8ad298288e86103548b90674a2",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6OGMzNzlkYjI4NWYyYWI4YWQyOTgyODhlODYxMDM1NDhiOTA2NzRhMg==",
  "commit": {
    "author": {
      "name": "Tom Tromey",
      "email": "tromey@adacore.com",
      "date": "2021-03-08T14:48:20Z"
    },
    "committer": {
      "name": "Tom Tromey",
      "email": "tromey@adacore.com",
      "date": "2021-03-08T14:53:53Z"
    },
    "message": "Enable maintainer mode for sim\n\nThe sim's recently switch to using Automake caused a build failure for\nme, because I didn't have the correct auto* tools in my path.\nHowever, the rule in the tree is that this is not needed in general.\nThis patch adds a call to AM_MAINTAINER_MODE, to align the sim with\nthe way the rest of the tree works here.\n\nsim/ChangeLog\n2021-03-08  Tom Tromey  <tromey@adacore.com>\n\n\t* aclocal.m4, configure, Makefile.in: Rebuild.\n\t* configure.ac: Use AM_MAINTAINER_MODE.",
    "tree": {
      "sha": "14504cb5bf2105511a8c457141ccb0f79edf66ba",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/14504cb5bf2105511a8c457141ccb0f79edf66ba"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/8c379db285f2ab8ad298288e86103548b90674a2",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/8c379db285f2ab8ad298288e86103548b90674a2",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/8c379db285f2ab8ad298288e86103548b90674a2",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/8c379db285f2ab8ad298288e86103548b90674a2/comments",
  "author": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "3dd93bf837b10e01864d7d223ae9d3f9b92df74e",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/3dd93bf837b10e01864d7d223ae9d3f9b92df74e",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/3dd93bf837b10e01864d7d223ae9d3f9b92df74e"
    }
  ],
  "stats": {
    "total": 96,
    "additions": 80,
    "deletions": 16
  },
  "files": [
    {
      "sha": "7e99a06f51cce0998b5346fa806d97b42225a738",
      "filename": "sim/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8c379db285f2ab8ad298288e86103548b90674a2/sim/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8c379db285f2ab8ad298288e86103548b90674a2/sim/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ChangeLog?ref=8c379db285f2ab8ad298288e86103548b90674a2",
      "patch": "@@ -1,3 +1,8 @@\n+2021-03-08  Tom Tromey  <tromey@adacore.com>\n+\n+\t* aclocal.m4, configure, Makefile.in: Rebuild.\n+\t* configure.ac: Use AM_MAINTAINER_MODE.\n+\n 2021-03-07  Mike Frysinger  <vapier@gentoo.org>\n \n \t* configure.ac (AC_CONFIG_FILES): Delete testsuite/Makefile."
    },
    {
      "sha": "85849f2745cfb108175d712e229f36f0d9077c62",
      "filename": "sim/Makefile.in",
      "status": "modified",
      "additions": 4,
      "deletions": 3,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8c379db285f2ab8ad298288e86103548b90674a2/sim/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8c379db285f2ab8ad298288e86103548b90674a2/sim/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/Makefile.in?ref=8c379db285f2ab8ad298288e86103548b90674a2",
      "patch": "@@ -224,6 +224,7 @@ LDFLAGS = @LDFLAGS@\n LIBOBJS = @LIBOBJS@\n LIBS = @LIBS@\n LTLIBOBJS = @LTLIBOBJS@\n+MAINT = @MAINT@\n MAKEINFO = @MAKEINFO@\n MKDIR_P = @MKDIR_P@\n OBJEXT = @OBJEXT@\n@@ -308,7 +309,7 @@ all: all-recursive\n .SUFFIXES:\n am--refresh: Makefile\n \t@:\n-$(srcdir)/Makefile.in:  $(srcdir)/Makefile.am $(srcdir)/testsuite/local.mk $(am__configure_deps)\n+$(srcdir)/Makefile.in: @MAINTAINER_MODE_TRUE@ $(srcdir)/Makefile.am $(srcdir)/testsuite/local.mk $(am__configure_deps)\n \t@for dep in $?; do \\\n \t  case '$(am__configure_deps)' in \\\n \t    *$$dep*) \\\n@@ -335,9 +336,9 @@ $(srcdir)/testsuite/local.mk $(am__empty):\n $(top_builddir)/config.status: $(top_srcdir)/configure $(CONFIG_STATUS_DEPENDENCIES)\n \t$(SHELL) ./config.status --recheck\n \n-$(top_srcdir)/configure:  $(am__configure_deps)\n+$(top_srcdir)/configure: @MAINTAINER_MODE_TRUE@ $(am__configure_deps)\n \t$(am__cd) $(srcdir) && $(AUTOCONF)\n-$(ACLOCAL_M4):  $(am__aclocal_m4_deps)\n+$(ACLOCAL_M4): @MAINTAINER_MODE_TRUE@ $(am__aclocal_m4_deps)\n \t$(am__cd) $(srcdir) && $(ACLOCAL) $(ACLOCAL_AMFLAGS)\n $(am__aclocal_m4_deps):\n "
    },
    {
      "sha": "e01194da383f4df3151417aa42d97e0d9dc3f89c",
      "filename": "sim/aclocal.m4",
      "status": "modified",
      "additions": 33,
      "deletions": 13,
      "changes": 46,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8c379db285f2ab8ad298288e86103548b90674a2/sim/aclocal.m4",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8c379db285f2ab8ad298288e86103548b90674a2/sim/aclocal.m4",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/aclocal.m4?ref=8c379db285f2ab8ad298288e86103548b90674a2",
      "patch": "@@ -626,24 +626,41 @@ if test x\"${install_sh+set}\" != xset; then\n fi\n AC_SUBST([install_sh])])\n \n-# Copyright (C) 2003-2017 Free Software Foundation, Inc.\n+# Add --enable-maintainer-mode option to configure.         -*- Autoconf -*-\n+# From Jim Meyering\n+\n+# Copyright (C) 1996-2017 Free Software Foundation, Inc.\n #\n # This file is free software; the Free Software Foundation\n # gives unlimited permission to copy and/or distribute it,\n # with or without modifications, as long as this notice is preserved.\n \n-# Check whether the underlying file-system supports filenames\n-# with a leading dot.  For instance MS-DOS doesn't.\n-AC_DEFUN([AM_SET_LEADING_DOT],\n-[rm -rf .tst 2>/dev/null\n-mkdir .tst 2>/dev/null\n-if test -d .tst; then\n-  am__leading_dot=.\n-else\n-  am__leading_dot=_\n-fi\n-rmdir .tst 2>/dev/null\n-AC_SUBST([am__leading_dot])])\n+# AM_MAINTAINER_MODE([DEFAULT-MODE])\n+# ----------------------------------\n+# Control maintainer-specific portions of Makefiles.\n+# Default is to disable them, unless 'enable' is passed literally.\n+# For symmetry, 'disable' may be passed as well.  Anyway, the user\n+# can override the default with the --enable/--disable switch.\n+AC_DEFUN([AM_MAINTAINER_MODE],\n+[m4_case(m4_default([$1], [disable]),\n+       [enable], [m4_define([am_maintainer_other], [disable])],\n+       [disable], [m4_define([am_maintainer_other], [enable])],\n+       [m4_define([am_maintainer_other], [enable])\n+        m4_warn([syntax], [unexpected argument to AM@&t@_MAINTAINER_MODE: $1])])\n+AC_MSG_CHECKING([whether to enable maintainer-specific portions of Makefiles])\n+  dnl maintainer-mode's default is 'disable' unless 'enable' is passed\n+  AC_ARG_ENABLE([maintainer-mode],\n+    [AS_HELP_STRING([--]am_maintainer_other[-maintainer-mode],\n+      am_maintainer_other[ make rules and dependencies not useful\n+      (and sometimes confusing) to the casual installer])],\n+    [USE_MAINTAINER_MODE=$enableval],\n+    [USE_MAINTAINER_MODE=]m4_if(am_maintainer_other, [enable], [no], [yes]))\n+  AC_MSG_RESULT([$USE_MAINTAINER_MODE])\n+  AM_CONDITIONAL([MAINTAINER_MODE], [test $USE_MAINTAINER_MODE = yes])\n+  MAINT=$MAINTAINER_MODE_TRUE\n+  AC_SUBST([MAINT])dnl\n+]\n+)\n \n # Check to see how 'make' treats includes.\t            -*- Autoconf -*-\n \n@@ -1150,3 +1167,6 @@ AC_SUBST([am__tar])\n AC_SUBST([am__untar])\n ]) # _AM_PROG_TAR\n \n+m4_include([../config/depstand.m4])\n+m4_include([../config/lead-dot.m4])\n+m4_include([../config/override.m4])"
    },
    {
      "sha": "707a1cc6c023363510bdbcd3ebbe7c17464d6569",
      "filename": "sim/configure",
      "status": "modified",
      "additions": 37,
      "deletions": 0,
      "changes": 37,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8c379db285f2ab8ad298288e86103548b90674a2/sim/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8c379db285f2ab8ad298288e86103548b90674a2/sim/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/configure?ref=8c379db285f2ab8ad298288e86103548b90674a2",
      "patch": "@@ -640,6 +640,9 @@ am__isrc\n INSTALL_DATA\n INSTALL_SCRIPT\n INSTALL_PROGRAM\n+MAINT\n+MAINTAINER_MODE_FALSE\n+MAINTAINER_MODE_TRUE\n target_os\n target_vendor\n target_cpu\n@@ -693,6 +696,7 @@ SHELL'\n ac_subst_files=''\n ac_user_opts='\n enable_option_checking\n+enable_maintainer_mode\n enable_silent_rules\n enable_dependency_tracking\n enable_sim\n@@ -1356,6 +1360,9 @@ Optional Features:\n   --disable-option-checking  ignore unrecognized --enable/--with options\n   --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)\n   --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]\n+  --enable-maintainer-mode\n+                          enable make rules and dependencies not useful (and\n+                          sometimes confusing) to the casual installer\n   --enable-silent-rules   less verbose build output (undo: \"make V=1\")\n   --disable-silent-rules  verbose build output (undo: \"make V=0\")\n   --enable-dependency-tracking\n@@ -1882,6 +1889,9 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n \n \n \n+\n+\n+\n ac_aux_dir=\n for ac_dir in \"$srcdir\" \"$srcdir/..\" \"$srcdir/../..\"; do\n   if test -f \"$ac_dir/install-sh\"; then\n@@ -2023,6 +2033,29 @@ test -n \"$target_alias\" &&\n   program_prefix=${target_alias}-\n \n \n+\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+$as_echo_n \"checking whether to enable maintainer-specific portions of Makefiles... \" >&6; }\n+    # Check whether --enable-maintainer-mode was given.\n+if test \"${enable_maintainer_mode+set}\" = set; then :\n+  enableval=$enable_maintainer_mode; USE_MAINTAINER_MODE=$enableval\n+else\n+  USE_MAINTAINER_MODE=no\n+fi\n+\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $USE_MAINTAINER_MODE\" >&5\n+$as_echo \"$USE_MAINTAINER_MODE\" >&6; }\n+   if test $USE_MAINTAINER_MODE = yes; then\n+  MAINTAINER_MODE_TRUE=\n+  MAINTAINER_MODE_FALSE='#'\n+else\n+  MAINTAINER_MODE_TRUE='#'\n+  MAINTAINER_MODE_FALSE=\n+fi\n+\n+  MAINT=$MAINTAINER_MODE_TRUE\n+\n+\n am__api_version='1.15'\n \n # Find a good install program.  We prefer a C program (faster),\n@@ -5097,6 +5130,10 @@ LIBOBJS=$ac_libobjs\n LTLIBOBJS=$ac_ltlibobjs\n \n \n+if test -z \"${MAINTAINER_MODE_TRUE}\" && test -z \"${MAINTAINER_MODE_FALSE}\"; then\n+  as_fn_error $? \"conditional \\\"MAINTAINER_MODE\\\" was never defined.\n+Usually this means the macro was only invoked conditionally.\" \"$LINENO\" 5\n+fi\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking that generated files are newer than configure\" >&5\n $as_echo_n \"checking that generated files are newer than configure... \" >&6; }\n    if test -n \"$am_sleep_pid\"; then"
    },
    {
      "sha": "709bd3ea9dc22f51cd5c00e0caa7dde383894248",
      "filename": "sim/configure.ac",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8c379db285f2ab8ad298288e86103548b90674a2/sim/configure.ac",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8c379db285f2ab8ad298288e86103548b90674a2/sim/configure.ac",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/configure.ac?ref=8c379db285f2ab8ad298288e86103548b90674a2",
      "patch": "@@ -7,6 +7,7 @@ AC_INIT([sim], [0],\n \n AC_CANONICAL_SYSTEM\n \n+AM_MAINTAINER_MODE\n AM_INIT_AUTOMAKE\n \n AC_PROG_CC"
    }
  ]
}