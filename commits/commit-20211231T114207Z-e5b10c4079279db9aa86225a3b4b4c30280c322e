{
  "sha": "e5b10c4079279db9aa86225a3b4b4c30280c322e",
  "node_id": "C_kwDOANOeidoAKGU1YjEwYzQwNzkyNzlkYjlhYTg2MjI1YTNiNGI0YzMwMjgwYzMyMmU",
  "commit": {
    "author": {
      "name": "Tamar Christina",
      "email": "tamar.christina@arm.com",
      "date": "2021-12-31T11:42:07Z"
    },
    "committer": {
      "name": "Tamar Christina",
      "email": "tamar.christina@arm.com",
      "date": "2021-12-31T11:42:07Z"
    },
    "message": "ld: fix coff PE SEH\n\nCOFF_WITH_pex64 and COFF_WITH_peAArch64 can't be true at the same time.\nThat means that two conditionals that control the sorting of the .pdata section\nbecame a falsum.\n\nThe testsuite doesn't catch this because the linker does the sorting and to link\nyou require library support from the unwinder so we can't test from binutils in\nisolation.\n\nbfd/ChangeLog:\n\n2021-12-31  Tamar Christina  <tamar.christina@arm.com>\n\n\tPR ld/28682\n\t* peXXigen.c: Fix conditional.",
    "tree": {
      "sha": "60fc29354f1d122d28856a115e01e0c663f5e4d5",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/60fc29354f1d122d28856a115e01e0c663f5e4d5"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/e5b10c4079279db9aa86225a3b4b4c30280c322e",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/e5b10c4079279db9aa86225a3b4b4c30280c322e",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/e5b10c4079279db9aa86225a3b4b4c30280c322e",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/e5b10c4079279db9aa86225a3b4b4c30280c322e/comments",
  "author": {
    "login": "TamarChristinaArm",
    "id": 48126768,
    "node_id": "MDQ6VXNlcjQ4MTI2NzY4",
    "avatar_url": "https://avatars.githubusercontent.com/u/48126768?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/TamarChristinaArm",
    "html_url": "https://github.com/TamarChristinaArm",
    "followers_url": "https://api.github.com/users/TamarChristinaArm/followers",
    "following_url": "https://api.github.com/users/TamarChristinaArm/following{/other_user}",
    "gists_url": "https://api.github.com/users/TamarChristinaArm/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/TamarChristinaArm/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/TamarChristinaArm/subscriptions",
    "organizations_url": "https://api.github.com/users/TamarChristinaArm/orgs",
    "repos_url": "https://api.github.com/users/TamarChristinaArm/repos",
    "events_url": "https://api.github.com/users/TamarChristinaArm/events{/privacy}",
    "received_events_url": "https://api.github.com/users/TamarChristinaArm/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "TamarChristinaArm",
    "id": 48126768,
    "node_id": "MDQ6VXNlcjQ4MTI2NzY4",
    "avatar_url": "https://avatars.githubusercontent.com/u/48126768?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/TamarChristinaArm",
    "html_url": "https://github.com/TamarChristinaArm",
    "followers_url": "https://api.github.com/users/TamarChristinaArm/followers",
    "following_url": "https://api.github.com/users/TamarChristinaArm/following{/other_user}",
    "gists_url": "https://api.github.com/users/TamarChristinaArm/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/TamarChristinaArm/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/TamarChristinaArm/subscriptions",
    "organizations_url": "https://api.github.com/users/TamarChristinaArm/orgs",
    "repos_url": "https://api.github.com/users/TamarChristinaArm/repos",
    "events_url": "https://api.github.com/users/TamarChristinaArm/events{/privacy}",
    "received_events_url": "https://api.github.com/users/TamarChristinaArm/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "2e91308fb4b2d19c66203fcc2d8c43241fd101dd",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/2e91308fb4b2d19c66203fcc2d8c43241fd101dd",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/2e91308fb4b2d19c66203fcc2d8c43241fd101dd"
    }
  ],
  "stats": {
    "total": 4,
    "additions": 2,
    "deletions": 2
  },
  "files": [
    {
      "sha": "48e52b0904609fe3ff80b76a8f3b8ca7df1c780b",
      "filename": "bfd/peXXigen.c",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e5b10c4079279db9aa86225a3b4b4c30280c322e/bfd/peXXigen.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e5b10c4079279db9aa86225a3b4b4c30280c322e/bfd/peXXigen.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/peXXigen.c?ref=e5b10c4079279db9aa86225a3b4b4c30280c322e",
      "patch": "@@ -3088,7 +3088,7 @@ _bfd_XX_get_symbol_info (bfd * abfd, asymbol *symbol, symbol_info *ret)\n   coff_get_symbol_info (abfd, symbol, ret);\n }\n \n-#if !defined(COFF_WITH_pep) && defined(COFF_WITH_pex64) && defined(COFF_WITH_peAArch64)\n+#if !defined(COFF_WITH_pep) && (defined(COFF_WITH_pex64) || defined(COFF_WITH_peAArch64))\n static int\n sort_x64_pdata (const void *l, const void *r)\n {\n@@ -4516,7 +4516,7 @@ _bfd_XXi_final_link_postscript (bfd * abfd, struct coff_final_link_info *pfinfo)\n \n /* If there is a .pdata section and we have linked pdata finally, we\n      need to sort the entries ascending.  */\n-#if !defined(COFF_WITH_pep) && defined(COFF_WITH_pex64) && defined(COFF_WITH_peAArch64)\n+#if !defined(COFF_WITH_pep) && (defined(COFF_WITH_pex64) || defined(COFF_WITH_peAArch64))\n   {\n     asection *sec = bfd_get_section_by_name (abfd, \".pdata\");\n "
    }
  ]
}