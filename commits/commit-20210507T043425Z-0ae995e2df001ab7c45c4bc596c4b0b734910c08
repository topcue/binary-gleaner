{
  "sha": "0ae995e2df001ab7c45c4bc596c4b0b734910c08",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MGFlOTk1ZTJkZjAwMWFiN2M0NWM0YmM1OTZjNGIwYjczNDkxMGMwOA==",
  "commit": {
    "author": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-05-07T04:26:36Z"
    },
    "committer": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-05-07T04:34:25Z"
    },
    "message": "sim: m32c: fix warnings about mixing code & decls\n\nAdd scope braces to a bunch of the generated sections to avoid compiler\nwarnings about mixing code & variable declarations.",
    "tree": {
      "sha": "d5dd7809954072111312b2eb027d8571f0263866",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/d5dd7809954072111312b2eb027d8571f0263866"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/0ae995e2df001ab7c45c4bc596c4b0b734910c08",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/0ae995e2df001ab7c45c4bc596c4b0b734910c08",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/0ae995e2df001ab7c45c4bc596c4b0b734910c08",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/0ae995e2df001ab7c45c4bc596c4b0b734910c08/comments",
  "author": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "a5884035977f95b09c28d4bb2276ac4869930e96",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/a5884035977f95b09c28d4bb2276ac4869930e96",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/a5884035977f95b09c28d4bb2276ac4869930e96"
    }
  ],
  "stats": {
    "total": 32,
    "additions": 31,
    "deletions": 1
  },
  "files": [
    {
      "sha": "aedcb6a22a80c442cfef1ba90c40190cfd77fb64",
      "filename": "sim/m32c/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/0ae995e2df001ab7c45c4bc596c4b0b734910c08/sim/m32c/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/0ae995e2df001ab7c45c4bc596c4b0b734910c08/sim/m32c/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/m32c/ChangeLog?ref=0ae995e2df001ab7c45c4bc596c4b0b734910c08",
      "patch": "@@ -1,3 +1,8 @@\n+2021-05-07  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* m32c.opc: Add scope braces around a few segments.\n+\t* r8c.opc: Likewise.\n+\n 2021-05-07  Mike Frysinger  <vapier@gentoo.org>\n \n \t* Makefile.in: Delete safe-fgets."
    },
    {
      "sha": "d19aaf00e1e9b80d59e151729ccee91dbf82ae22",
      "filename": "sim/m32c/m32c.opc",
      "status": "modified",
      "additions": 12,
      "deletions": 1,
      "changes": 13,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/0ae995e2df001ab7c45c4bc596c4b0b734910c08/sim/m32c/m32c.opc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/0ae995e2df001ab7c45c4bc596c4b0b734910c08/sim/m32c/m32c.opc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/m32c/m32c.opc?ref=0ae995e2df001ab7c45c4bc596c4b0b734910c08",
      "patch": "@@ -1348,12 +1348,14 @@ next_opcode:\n \n   /** 1101 sss1 ss01 1dst\t\tMOVA src,dest */\n \n+  {\n   static reg_id map[8] = { r2r0, r3r1, a0, a1 };\n   prefix (0, 0, 0);\n   sc = decode_src23 (sss, ss, 1);\n   if (!sc.mem || !map[dst])\n     UNSUPPORTED();\n   put_reg (map[dst], sc.u.addr);\n+  }\n \n   /** 0000 0001 1011 ddd0 dd hl 1110\tMOVdir R0L,dest */\n \n@@ -1562,6 +1564,7 @@ next_opcode:\n \n   /** 1000 1110\t\t\t\tPOPM dest */\n \n+  {\n   static int map[] = { r0, r1, r2, r3, a0, a1, sb, fb };\n   prefix (0, 0, 0);\n   imm = IMM(1);\n@@ -1580,18 +1583,22 @@ next_opcode:\n \tput_reg (map[a], v);\n \tput_reg (sp, get_reg (sp) + 4);\n       }\n+  }\n \n   /** 1010 111w\t\t\t\tPUSH.size #IMM */\n \n+  {\n+  int a;\n   prefix (0, 0, 0);\n   imm = IMM(w+1);\n   tprintf(\"push%s: %x\\n\", w ? \"hi\" : \"qi\", imm);\n-  int a = get_reg (sp) - 2;\n+  a = get_reg (sp) - 2;\n   if (w)\n     mem_put_hi (a, imm);\n   else\n     mem_put_qi (a, imm);\n   put_reg (sp, a);\n+  }\n \n   /** 1100 sss w ss00 1110\t\tPUSH.size src */\n \n@@ -1647,6 +1654,7 @@ next_opcode:\n \n   /** 1000 1111\t\t\t\tPUSHM src */\n \n+  {\n   static int map[] = { fb, sb, a1, a0, r3, r2, r1, r0 };\n   imm = IMM(1);\n   tprintf(\"pushm: %x\\n\", imm);\n@@ -1664,6 +1672,7 @@ next_opcode:\n \tv = get_reg (map[a]);\n \tmem_put_hi (get_reg (sp), v);\n       }\n+  }\n \n   /** 1001 1110\t\t\t\tREIT */\n \n@@ -1676,6 +1685,7 @@ next_opcode:\n \n   /** 1011 1000 010w 0011\t\tRMPA.size */\n \n+  {\n   int count = get_reg (r3);\n   int list1 = get_reg (a0);\n   int list2 = get_reg (a1);\n@@ -1705,6 +1715,7 @@ next_opcode:\n   put_reg (a1, list2);\n   put_reg (r2r0, (int)(sum & 0xffffffffU));\n   put_reg (r1, (int)(sum >> 32));\n+  }\n \n   /** 1011 ddd w dd10 1110\t\tROLC.size dest */\n "
    },
    {
      "sha": "6645ff8b3067e554412ee9450e4b1f9be8491269",
      "filename": "sim/m32c/r8c.opc",
      "status": "modified",
      "additions": 14,
      "deletions": 0,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/0ae995e2df001ab7c45c4bc596c4b0b734910c08/sim/m32c/r8c.opc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/0ae995e2df001ab7c45c4bc596c4b0b734910c08/sim/m32c/r8c.opc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/m32c/r8c.opc?ref=0ae995e2df001ab7c45c4bc596c4b0b734910c08",
      "patch": "@@ -588,6 +588,7 @@ decode_r8c (void)\n \n   /* w = width, i = immediate, c = carry, s = subtract */\n \n+  {\n   int src = i ? IMM(w) : get_reg (w ? r1 : r0h);\n   int dest = get_reg (w ? r0 : r0l);\n   int res;\n@@ -622,6 +623,7 @@ decode_r8c (void)\n   set_szc (res, w+1, c);\n \n   put_reg (w ? r0 : r0l, res);\n+  }\n \n   /** 1010 1dst            DEC.B dest */\n \n@@ -980,9 +982,11 @@ decode_r8c (void)\n \n   /** 1110 1011 0reg 1src  MOVA src,dest */\n \n+  {\n   static reg_id map[] = { r0, r1, r2, r3, a0, a1, 0, 0 };\n   sc = decode_srcdest4 (8 + src, 0);\n   put_reg (map[reg], sc.u.addr);\n+  }\n \n   /** 0111 1100 10hl dest  MOVdir R0L,dest */\n \n@@ -1158,6 +1162,7 @@ decode_r8c (void)\n \n   /** 1110 1101            POPM dest */\n \n+  {\n   static int map[] = { r0, r1, r2, r3, a0, a1, sb, fb };\n   imm = IMM(0);\n   tprintf(\"popm: %x\\n\", imm);\n@@ -1168,6 +1173,7 @@ decode_r8c (void)\n \tput_reg (map[a], v);\n \tput_reg (sp, get_reg (sp) + 2);\n       }\n+  }\n \n   /** 0111 110w 1110 0010  PUSH.size:G #IMM */\n \n@@ -1233,6 +1239,7 @@ decode_r8c (void)\n \n   /** 1110 1100            PUSHM src */\n \n+  {\n   static int map[] = { fb, sb, a1, a0, r3, r2, r1, r0 };\n   imm = IMM(0);\n   tprintf(\"pushm: %x\\n\", imm);\n@@ -1243,6 +1250,7 @@ decode_r8c (void)\n \tv = get_reg (map[a]);\n \tmem_put_hi (get_reg (sp), v);\n       }\n+  }\n \n   /** 1111 1011            REIT */\n \n@@ -1257,6 +1265,7 @@ decode_r8c (void)\n \n   /** 0111 110w 1111 0001  RMPA.size */\n \n+  {\n   int count = get_reg (r3);\n   int list1 = get_reg (a0);\n   int list2 = get_reg (a1);\n@@ -1285,6 +1294,7 @@ decode_r8c (void)\n   put_reg (a0, list1);\n   put_reg (a1, list2);\n   put_reg (w ? r2r0 : r0, sum);\n+  }\n \n   /** 0111 011w 1010 dest  ROLC.size dest */\n \n@@ -1370,6 +1380,7 @@ decode_r8c (void)\n \n   /** 0111 110w 1110 100b  SMOVB.size */\n \n+  {\n   int count = get_reg (r3);\n   int s1 = get_reg (a0) + (get_reg (r1h) << 16);\n   int s2 = get_reg (a1);\n@@ -1395,9 +1406,11 @@ decode_r8c (void)\n   put_reg (a0, s1 & 0xffff);\n   put_reg (a1, s2);\n   put_reg (r1h, s1 >> 16);\n+  }\n \n   /** 0111 110w 1110 1010  SSTR.size */\n \n+  {\n   int count = get_reg (r3);\n   int s1 = get_reg (a1);\n   v = get_reg (w ? r0 : r0l);\n@@ -1418,6 +1431,7 @@ decode_r8c (void)\n     }\n   put_reg (r3, count);\n   put_reg (a1, s1);\n+  }\n \n   /** 0111 1011 1src dest  STC src,dest */\n "
    }
  ]
}