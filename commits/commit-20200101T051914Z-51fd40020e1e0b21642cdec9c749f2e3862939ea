{
  "sha": "51fd40020e1e0b21642cdec9c749f2e3862939ea",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NTFmZDQwMDIwZTFlMGIyMTY0MmNkZWM5Yzc0OWYyZTM4NjI5MzllYQ==",
  "commit": {
    "author": {
      "name": "Joel Brobecker",
      "email": "brobecker@adacore.com",
      "date": "2020-01-01T05:19:14Z"
    },
    "committer": {
      "name": "Joel Brobecker",
      "email": "brobecker@adacore.com",
      "date": "2020-01-01T05:19:14Z"
    },
    "message": "gdb/copyright.py: Adapt after move of gnulib from gdb to toplevel\n\ngdb/ChangeLog:\n\n\t* copyright.py: Adapt after move of gnulib directory from gdb\n\tdirectory to toplevel directory.",
    "tree": {
      "sha": "30bdd1e3ba767962ea28941a712b87d567f636d3",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/30bdd1e3ba767962ea28941a712b87d567f636d3"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/51fd40020e1e0b21642cdec9c749f2e3862939ea",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/51fd40020e1e0b21642cdec9c749f2e3862939ea",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/51fd40020e1e0b21642cdec9c749f2e3862939ea",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/51fd40020e1e0b21642cdec9c749f2e3862939ea/comments",
  "author": {
    "login": "brobecke",
    "id": 11981700,
    "node_id": "MDQ6VXNlcjExOTgxNzAw",
    "avatar_url": "https://avatars.githubusercontent.com/u/11981700?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/brobecke",
    "html_url": "https://github.com/brobecke",
    "followers_url": "https://api.github.com/users/brobecke/followers",
    "following_url": "https://api.github.com/users/brobecke/following{/other_user}",
    "gists_url": "https://api.github.com/users/brobecke/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/brobecke/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/brobecke/subscriptions",
    "organizations_url": "https://api.github.com/users/brobecke/orgs",
    "repos_url": "https://api.github.com/users/brobecke/repos",
    "events_url": "https://api.github.com/users/brobecke/events{/privacy}",
    "received_events_url": "https://api.github.com/users/brobecke/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "brobecke",
    "id": 11981700,
    "node_id": "MDQ6VXNlcjExOTgxNzAw",
    "avatar_url": "https://avatars.githubusercontent.com/u/11981700?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/brobecke",
    "html_url": "https://github.com/brobecke",
    "followers_url": "https://api.github.com/users/brobecke/followers",
    "following_url": "https://api.github.com/users/brobecke/following{/other_user}",
    "gists_url": "https://api.github.com/users/brobecke/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/brobecke/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/brobecke/subscriptions",
    "organizations_url": "https://api.github.com/users/brobecke/orgs",
    "repos_url": "https://api.github.com/users/brobecke/repos",
    "events_url": "https://api.github.com/users/brobecke/events{/privacy}",
    "received_events_url": "https://api.github.com/users/brobecke/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "5fb651f2ddd54a1d3da6fcd172d9fab81893bbf9",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/5fb651f2ddd54a1d3da6fcd172d9fab81893bbf9",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/5fb651f2ddd54a1d3da6fcd172d9fab81893bbf9"
    }
  ],
  "stats": {
    "total": 20,
    "additions": 13,
    "deletions": 7
  },
  "files": [
    {
      "sha": "02dff2b35a2ef97d10591223e9d6e3977664dd75",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51fd40020e1e0b21642cdec9c749f2e3862939ea/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51fd40020e1e0b21642cdec9c749f2e3862939ea/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=51fd40020e1e0b21642cdec9c749f2e3862939ea",
      "patch": "@@ -1,3 +1,8 @@\n+2020-01-01  Joel Brobecker  <brobecker@adacore.com>\n+\n+\t* copyright.py: Adapt after move of gnulib directory from gdb\n+\tdirectory to toplevel directory.\n+\n 2020-01-01  Joel Brobecker  <brobecker@adacore.com>\n \n \t* copyright.py (main): Exit if run from the wrong directory."
    },
    {
      "sha": "e6feb376a92f375469a84a655e1b7b7515cea8f0",
      "filename": "gdb/copyright.py",
      "status": "modified",
      "additions": 8,
      "deletions": 7,
      "changes": 15,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51fd40020e1e0b21642cdec9c749f2e3862939ea/gdb/copyright.py",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51fd40020e1e0b21642cdec9c749f2e3862939ea/gdb/copyright.py",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/copyright.py?ref=51fd40020e1e0b21642cdec9c749f2e3862939ea",
      "patch": "@@ -45,7 +45,7 @@ def get_update_list():\n     the files are relative to that root directory.\n     \"\"\"\n     result = []\n-    for gdb_dir in ('gdb', 'sim', 'include/gdb'):\n+    for gdb_dir in ('gdb', 'gnulib', 'sim', 'include/gdb'):\n         for root, dirs, files in os.walk(gdb_dir, topdown=True):\n             for dirname in dirs:\n                 reldirname = \"%s/%s\" % (root, dirname)\n@@ -80,7 +80,7 @@ def update_files(update_list):\n     os.environ['UPDATE_COPYRIGHT_USE_INTERVALS'] = '2'\n \n     # Perform the update, and save the output in a string.\n-    update_cmd = ['bash', 'gdb/gnulib/import/extra/update-copyright']\n+    update_cmd = ['bash', 'gnulib/import/extra/update-copyright']\n     update_cmd += update_list\n \n     p = subprocess.Popen(update_cmd, stdout=subprocess.PIPE,\n@@ -142,13 +142,14 @@ def may_have_copyright_notice(filename):\n \n def main ():\n     \"\"\"The main subprogram.\"\"\"\n-    if not os.path.isfile(\"gnulib/import/extra/update-copyright\"):\n-        print \"Error: This script must be called from the gdb directory.\"\n-        sys.exit(1)\n-\n     root_dir = os.path.dirname(os.getcwd())\n     os.chdir(root_dir)\n \n+    if not (os.path.isdir('gdb') and\n+            os.path.isfile(\"gnulib/import/extra/update-copyright\")):\n+        print \"Error: This script must be called from the gdb directory.\"\n+        sys.exit(1)\n+\n     update_list = get_update_list()\n     update_files (update_list)\n \n@@ -185,7 +186,7 @@ def main ():\n EXCLUDE_LIST = (\n     'gdb/nat/glibc_thread_db.h',\n     'gdb/CONTRIBUTE',\n-    'gdb/gnulib/import'\n+    'gnulib/import'\n )\n \n # Files which should not be modified, either because they are"
    }
  ]
}