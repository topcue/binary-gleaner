{
  "sha": "7e96e219a4fc703282ea5b0cc8845a96c01ca030",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6N2U5NmUyMTlhNGZjNzAzMjgyZWE1YjBjYzg4NDVhOTZjMDFjYTAzMA==",
  "commit": {
    "author": {
      "name": "Robert Suchanek",
      "email": "robert.suchanek@mips.com",
      "date": "2019-04-09T09:30:26Z"
    },
    "committer": {
      "name": "Chenghua Xu",
      "email": "paul.hua.gm@gmail.com",
      "date": "2019-04-09T09:56:48Z"
    },
    "message": "[MIPS] Add RDHWR with the SEL field for MIPS R6.\n\nIn Release 6 of the MIPS architecture [1], instruction RDHWR supports\na 3rd operand to serve as the 3-bit select field for the hardware\nregister.\n\n[1] \"MIPS Architecture for Programmers Volume II-A: The MIPS32\n    Instruction Set Manual\", Imagination Technologies Ltd., Document\n    Number: MD00086, Revision 6.06, December 15, 2016, Section 3.2\n    \"Alphabetical List of Instructions\", pp. 332-334\n\nopcodes/\n\t* mips-opc.c (mips_builtin_opcodes): Add RDHWR rt rd sel.\n\ngas/\n\t* testsuite/gas/mips/mips.exp: Run hwr-names test.\n\t* testsuite/gas/mips/hwr-names.s: Add test cases for RDHWR with\n\tthe SEL field.\n\t* testsuite/gas/mips/mipsr6@hwr-names.d: New file.",
    "tree": {
      "sha": "5407cdb45929c212b56e239ccf81dc933894fb61",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/5407cdb45929c212b56e239ccf81dc933894fb61"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/7e96e219a4fc703282ea5b0cc8845a96c01ca030",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/7e96e219a4fc703282ea5b0cc8845a96c01ca030",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/7e96e219a4fc703282ea5b0cc8845a96c01ca030",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/7e96e219a4fc703282ea5b0cc8845a96c01ca030/comments",
  "author": null,
  "committer": {
    "login": "ChenghuaXu",
    "id": 87753117,
    "node_id": "MDQ6VXNlcjg3NzUzMTE3",
    "avatar_url": "https://avatars.githubusercontent.com/u/87753117?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ChenghuaXu",
    "html_url": "https://github.com/ChenghuaXu",
    "followers_url": "https://api.github.com/users/ChenghuaXu/followers",
    "following_url": "https://api.github.com/users/ChenghuaXu/following{/other_user}",
    "gists_url": "https://api.github.com/users/ChenghuaXu/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ChenghuaXu/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ChenghuaXu/subscriptions",
    "organizations_url": "https://api.github.com/users/ChenghuaXu/orgs",
    "repos_url": "https://api.github.com/users/ChenghuaXu/repos",
    "events_url": "https://api.github.com/users/ChenghuaXu/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ChenghuaXu/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "2b0c8b019996b23fb4717687f5e7ac8c5620c089",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/2b0c8b019996b23fb4717687f5e7ac8c5620c089",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/2b0c8b019996b23fb4717687f5e7ac8c5620c089"
    }
  ],
  "stats": {
    "total": 76,
    "additions": 76,
    "deletions": 0
  },
  "files": [
    {
      "sha": "354aae195d750d409c0545e2a13a79210ade5a30",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7e96e219a4fc703282ea5b0cc8845a96c01ca030/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7e96e219a4fc703282ea5b0cc8845a96c01ca030/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=7e96e219a4fc703282ea5b0cc8845a96c01ca030",
      "patch": "@@ -1,3 +1,10 @@\n+2019-04-09  Robert Suchanek  <robert.suchanek@mips.com>\n+\n+\t* testsuite/gas/mips/mips.exp: Run hwr-names test.\n+\t* testsuite/gas/mips/hwr-names.s: Add test cases for RDHWR with\n+\tthe SEL field.\n+\t* testsuite/gas/mips/mipsr6@hwr-names.d: New file.\n+\n 2019-04-08  H.J. Lu  <hongjiu.lu@intel.com>\n \n \t* config/tc-i386.c (output_insn): Support"
    },
    {
      "sha": "41e7b49dcb81dd53962190f0f2f36cb8ba39ce87",
      "filename": "gas/testsuite/gas/mips/hwr-names.s",
      "status": "modified",
      "additions": 11,
      "deletions": 0,
      "changes": 11,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7e96e219a4fc703282ea5b0cc8845a96c01ca030/gas/testsuite/gas/mips/hwr-names.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7e96e219a4fc703282ea5b0cc8845a96c01ca030/gas/testsuite/gas/mips/hwr-names.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/mips/hwr-names.s?ref=7e96e219a4fc703282ea5b0cc8845a96c01ca030",
      "patch": "@@ -40,5 +40,16 @@ text_label:\n \trdhwr\t$0, $30\n \trdhwr\t$0, $31\n \n+\t.ifdef r6\n+\trdhwr\t$0, $4, 0\n+\trdhwr\t$0, $4, 1\n+\trdhwr\t$0, $4, 2\n+\trdhwr\t$0, $4, 3\n+\trdhwr\t$0, $4, 4\n+\trdhwr\t$0, $4, 5\n+\trdhwr\t$0, $4, 6\n+\trdhwr\t$0, $4, 7\n+\t.endif\n+\n # Force at least 8 (non-delay-slot) zero bytes, to make 'objdump' print ...\n       .space  8"
    },
    {
      "sha": "a009c6eae3de5542509c426419ba354647971147",
      "filename": "gas/testsuite/gas/mips/mips.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7e96e219a4fc703282ea5b0cc8845a96c01ca030/gas/testsuite/gas/mips/mips.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7e96e219a4fc703282ea5b0cc8845a96c01ca030/gas/testsuite/gas/mips/mips.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/mips/mips.exp?ref=7e96e219a4fc703282ea5b0cc8845a96c01ca030",
      "patch": "@@ -1342,6 +1342,8 @@ if { [istarget mips*-*-vxworks*] } {\n     run_dump_test \"hwr-names-numeric\"\n     run_dump_test \"hwr-names-mips32r2\"\n     run_dump_test \"hwr-names-mips64r2\"\n+    run_dump_test_arches \"hwr-names\"\t[mips_arch_list_matching mips32r6 \\\n+\t\t\t\t\t    !micromipsr6]\n \n     run_dump_test \"ldstla-32\"\n     run_dump_test \"ldstla-32-mips3\""
    },
    {
      "sha": "e44a120c384ced9059ac66a315fd4a999aa63679",
      "filename": "gas/testsuite/gas/mips/mipsr6@hwr-names.d",
      "status": "added",
      "additions": 51,
      "deletions": 0,
      "changes": 51,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7e96e219a4fc703282ea5b0cc8845a96c01ca030/gas/testsuite/gas/mips/mipsr6@hwr-names.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7e96e219a4fc703282ea5b0cc8845a96c01ca030/gas/testsuite/gas/mips/mipsr6@hwr-names.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/mips/mipsr6@hwr-names.d?ref=7e96e219a4fc703282ea5b0cc8845a96c01ca030",
      "patch": "@@ -0,0 +1,51 @@\n+#objdump: -dr --prefix-addresses --show-raw-insn -mmips:isa32r6 -M gpr-names=numeric,hwr-names=mips32r6\n+#name: MIPS HWR disassembly (mips32r6)\n+#as: -32\n+#source: hwr-names.s\n+\n+# Check objdump's handling of -M hwr-names=foo options.\n+\n+.*: +file format .*mips.*\n+\n+Disassembly of section .text:\n+0+0000 <[^>]*> 7c00003b \trdhwr\t\\$0,hwr_cpunum\n+0+0004 <[^>]*> 7c00083b \trdhwr\t\\$0,hwr_synci_step\n+0+0008 <[^>]*> 7c00103b \trdhwr\t\\$0,hwr_cc\n+0+000c <[^>]*> 7c00183b \trdhwr\t\\$0,hwr_ccres\n+0+0010 <[^>]*> 7c00203b \trdhwr\t\\$0,\\$4\n+0+0014 <[^>]*> 7c00283b \trdhwr\t\\$0,\\$5\n+0+0018 <[^>]*> 7c00303b \trdhwr\t\\$0,\\$6\n+0+001c <[^>]*> 7c00383b \trdhwr\t\\$0,\\$7\n+0+0020 <[^>]*> 7c00403b \trdhwr\t\\$0,\\$8\n+0+0024 <[^>]*> 7c00483b \trdhwr\t\\$0,\\$9\n+0+0028 <[^>]*> 7c00503b \trdhwr\t\\$0,\\$10\n+0+002c <[^>]*> 7c00583b \trdhwr\t\\$0,\\$11\n+0+0030 <[^>]*> 7c00603b \trdhwr\t\\$0,\\$12\n+0+0034 <[^>]*> 7c00683b \trdhwr\t\\$0,\\$13\n+0+0038 <[^>]*> 7c00703b \trdhwr\t\\$0,\\$14\n+0+003c <[^>]*> 7c00783b \trdhwr\t\\$0,\\$15\n+0+0040 <[^>]*> 7c00803b \trdhwr\t\\$0,\\$16\n+0+0044 <[^>]*> 7c00883b \trdhwr\t\\$0,\\$17\n+0+0048 <[^>]*> 7c00903b \trdhwr\t\\$0,\\$18\n+0+004c <[^>]*> 7c00983b \trdhwr\t\\$0,\\$19\n+0+0050 <[^>]*> 7c00a03b \trdhwr\t\\$0,\\$20\n+0+0054 <[^>]*> 7c00a83b \trdhwr\t\\$0,\\$21\n+0+0058 <[^>]*> 7c00b03b \trdhwr\t\\$0,\\$22\n+0+005c <[^>]*> 7c00b83b \trdhwr\t\\$0,\\$23\n+0+0060 <[^>]*> 7c00c03b \trdhwr\t\\$0,\\$24\n+0+0064 <[^>]*> 7c00c83b \trdhwr\t\\$0,\\$25\n+0+0068 <[^>]*> 7c00d03b \trdhwr\t\\$0,\\$26\n+0+006c <[^>]*> 7c00d83b \trdhwr\t\\$0,\\$27\n+0+0070 <[^>]*> 7c00e03b \trdhwr\t\\$0,\\$28\n+0+0074 <[^>]*> 7c00e83b \trdhwr\t\\$0,\\$29\n+0+0078 <[^>]*> 7c00f03b \trdhwr\t\\$0,\\$30\n+0+007c <[^>]*> 7c00f83b \trdhwr\t\\$0,\\$31\n+0+0080 <[^>]*> 7c00203b \trdhwr\t\\$0,\\$4\n+0+0084 <[^>]*> 7c00207b \trdhwr\t\\$0,\\$4,1\n+0+0088 <[^>]*> 7c0020bb \trdhwr\t\\$0,\\$4,2\n+0+008c <[^>]*> 7c0020fb \trdhwr\t\\$0,\\$4,3\n+0+0090 <[^>]*> 7c00213b \trdhwr\t\\$0,\\$4,4\n+0+0094 <[^>]*> 7c00217b \trdhwr\t\\$0,\\$4,5\n+0+0098 <[^>]*> 7c0021bb \trdhwr\t\\$0,\\$4,6\n+0+009c <[^>]*> 7c0021fb \trdhwr\t\\$0,\\$4,7\n+\t\\.\\.\\."
    },
    {
      "sha": "b6d4de3ab7e7aef4e0b15a77aae2243d709ecaca",
      "filename": "opcodes/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7e96e219a4fc703282ea5b0cc8845a96c01ca030/opcodes/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7e96e219a4fc703282ea5b0cc8845a96c01ca030/opcodes/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/ChangeLog?ref=7e96e219a4fc703282ea5b0cc8845a96c01ca030",
      "patch": "@@ -1,3 +1,7 @@\n+2019-04-09  Robert Suchanek  <robert.suchanek@mips.com>\n+\n+\t* mips-opc.c (mips_builtin_opcodes): Add RDHWR rt rd sel.\n+\n 2019-04-08  H.J. Lu  <hongjiu.lu@intel.com>\n \n \t* i386-opc.tbl: Consolidate AVX512 BF16 entries."
    },
    {
      "sha": "91f60275f31da7092549097877e2384376bfa845",
      "filename": "opcodes/mips-opc.c",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7e96e219a4fc703282ea5b0cc8845a96c01ca030/opcodes/mips-opc.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7e96e219a4fc703282ea5b0cc8845a96c01ca030/opcodes/mips-opc.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/mips-opc.c?ref=7e96e219a4fc703282ea5b0cc8845a96c01ca030",
      "patch": "@@ -1781,6 +1781,7 @@ const struct mips_opcode mips_builtin_opcodes[] =\n {\"remu\",\t\t\"d,v,t\",\t0,    (int) M_REMU_3,\tINSN_MACRO,\t\t0,\t\tI1,\t\t0,\tI37 },\n {\"remu\",\t\t\"d,v,I\",\t0,    (int) M_REMU_3I,\tINSN_MACRO,\t\t0,\t\tI1,\t\t0,\tI37 },\n {\"rdhwr\",\t\t\"t,K\",\t\t0x7c00003b, 0xffe007ff, WR_1,\t\t\t0,\t\tI33,\t\t0,\t0 },\n+{\"rdhwr\",\t\t\"t,K,+O\",\t0x7c00003b, 0xffe0063f, WR_1,\t\t\t0,\t\tI37,\t\t0,\t0 },\n {\"rdpgpr\",\t\t\"d,w\",\t\t0x41400000, 0xffe007ff, WR_1,\t\t\t0,\t\tI33,\t\t0,\t0 },\n /* rfe is moved below as it now conflicts with tlbgp */\n {\"rnas.qh\",\t\t\"X,Q\",\t\t0x78200025, 0xfc20f83f,\tWR_1|RD_2|FP_D,\t\tRD_MACC,\t0,\t\tMX,\t0 },"
    }
  ]
}