{
  "sha": "4748764aaba89b8515cbf8918dc0ada840cdfab7",
  "node_id": "C_kwDOANOeidoAKDQ3NDg3NjRhYWJhODliODUxNWNiZjg5MThkYzBhZGE4NDBjZGZhYjc",
  "commit": {
    "author": {
      "name": "jiawei",
      "email": "jiawei@iscas.ac.cn",
      "date": "2021-12-23T06:19:58Z"
    },
    "committer": {
      "name": "Nelson Chu",
      "email": "nelson.chu@sifive.com",
      "date": "2021-12-28T04:14:32Z"
    },
    "message": "ld: Fix testcase errors due to -shared not support.\n\nReviewed-by: Jim Wilson <jim.wilson.gcc@gmail.com>\n\nld/ChangeLog:\n\n        * testsuite/ld-ctf/ctf.exp: Add shared lib check.\n        * testsuite/ld-plugin/lto.exp: Add lto shared check.",
    "tree": {
      "sha": "7d88f2ca49ce6e3d1d7bdb7729f62636ef7658f4",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/7d88f2ca49ce6e3d1d7bdb7729f62636ef7658f4"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/4748764aaba89b8515cbf8918dc0ada840cdfab7",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/4748764aaba89b8515cbf8918dc0ada840cdfab7",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/4748764aaba89b8515cbf8918dc0ada840cdfab7",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/4748764aaba89b8515cbf8918dc0ada840cdfab7/comments",
  "author": {
    "login": "pz9115",
    "id": 43362020,
    "node_id": "MDQ6VXNlcjQzMzYyMDIw",
    "avatar_url": "https://avatars.githubusercontent.com/u/43362020?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pz9115",
    "html_url": "https://github.com/pz9115",
    "followers_url": "https://api.github.com/users/pz9115/followers",
    "following_url": "https://api.github.com/users/pz9115/following{/other_user}",
    "gists_url": "https://api.github.com/users/pz9115/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pz9115/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pz9115/subscriptions",
    "organizations_url": "https://api.github.com/users/pz9115/orgs",
    "repos_url": "https://api.github.com/users/pz9115/repos",
    "events_url": "https://api.github.com/users/pz9115/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pz9115/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": null,
  "parents": [
    {
      "sha": "d4ff0c5d0065bf4f180524022b10f4b4a3e2c378",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/d4ff0c5d0065bf4f180524022b10f4b4a3e2c378",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/d4ff0c5d0065bf4f180524022b10f4b4a3e2c378"
    }
  ],
  "stats": {
    "total": 7,
    "additions": 6,
    "deletions": 1
  },
  "files": [
    {
      "sha": "7f540072bf9160caac541cb396e5d27e7130dc15",
      "filename": "ld/testsuite/ld-ctf/ctf.exp",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4748764aaba89b8515cbf8918dc0ada840cdfab7/ld/testsuite/ld-ctf/ctf.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4748764aaba89b8515cbf8918dc0ada840cdfab7/ld/testsuite/ld-ctf/ctf.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-ctf/ctf.exp?ref=4748764aaba89b8515cbf8918dc0ada840cdfab7",
      "patch": "@@ -28,6 +28,11 @@ if ![is_elf_format] {\n     return 0\n }\n \n+if ![check_shared_lib_support] {\n+    unsupported \"CTF needs shared lib support\"\n+    return 0\n+}\n+\n if {[info exists env(LC_ALL)]} {\n     set old_lc_all $env(LC_ALL)\n }"
    },
    {
      "sha": "e63e79165311abc089777bab0db49f4bbf79f22e",
      "filename": "ld/testsuite/ld-plugin/lto.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4748764aaba89b8515cbf8918dc0ada840cdfab7/ld/testsuite/ld-plugin/lto.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4748764aaba89b8515cbf8918dc0ada840cdfab7/ld/testsuite/ld-plugin/lto.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-plugin/lto.exp?ref=4748764aaba89b8515cbf8918dc0ada840cdfab7",
      "patch": "@@ -233,7 +233,7 @@ set lto_link_tests [list \\\n    [list [list \"nm\" \"$plug_opt\" \"pr26389.d\"]]] \\\n ]\n \n-if { [at_least_gcc_version 10 0] } {\n+if { [at_least_gcc_version 10 0] && [check_lto_shared_available] } {\n     set lto_link_tests [concat $lto_link_tests [list \\\n \t[list \"pr25355.o\" \\\n \t \"\" \\"
    }
  ]
}