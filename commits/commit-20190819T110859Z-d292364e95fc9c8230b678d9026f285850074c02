{
  "sha": "d292364e95fc9c8230b678d9026f285850074c02",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ZDI5MjM2NGU5NWZjOWM4MjMwYjY3OGQ5MDI2ZjI4NTg1MDA3NGMwMg==",
  "commit": {
    "author": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2019-08-19T10:54:35Z"
    },
    "committer": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2019-08-19T11:08:59Z"
    },
    "message": "PR24898, An out-of-bounds read occured in display_data\n\nGiven 32-bit pointers and a 64-bit bfd_size_type, it is relatively\neasy to construct a value of augmentation_data_len (eg. 0x100000000)\nthat won't fail pointer checks but will print without bounds.\n\n\tPR 24898\n\t* dwarf.c (display_debug_frames): Use the read_cie check and error\n\tfor augmentation data length.",
    "tree": {
      "sha": "5a4c285984e140319dfbc82ad9fa6d468fd0baf9",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/5a4c285984e140319dfbc82ad9fa6d468fd0baf9"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/d292364e95fc9c8230b678d9026f285850074c02",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/d292364e95fc9c8230b678d9026f285850074c02",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/d292364e95fc9c8230b678d9026f285850074c02",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/d292364e95fc9c8230b678d9026f285850074c02/comments",
  "author": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "903b777ddeb4c11a7de12cab59124e777614edec",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/903b777ddeb4c11a7de12cab59124e777614edec",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/903b777ddeb4c11a7de12cab59124e777614edec"
    }
  ],
  "stats": {
    "total": 18,
    "additions": 12,
    "deletions": 6
  },
  "files": [
    {
      "sha": "f629282e47f0dce41d21de6f8b6bc44bbd268ccb",
      "filename": "binutils/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/d292364e95fc9c8230b678d9026f285850074c02/binutils/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/d292364e95fc9c8230b678d9026f285850074c02/binutils/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/ChangeLog?ref=d292364e95fc9c8230b678d9026f285850074c02",
      "patch": "@@ -1,3 +1,9 @@\n+2019-08-19  Alan Modra  <amodra@gmail.com>\n+\n+\tPR 24898\n+\t* dwarf.c (display_debug_frames): Use the read_cie check and error\n+\tfor augmentation data length.\n+\n 2019-08-17  Alan Modra  <amodra@gmail.com>\n \n \tPR 24911"
    },
    {
      "sha": "e792a17018cc908bdc2af1ca397822cfad0e0260",
      "filename": "binutils/dwarf.c",
      "status": "modified",
      "additions": 6,
      "deletions": 6,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/d292364e95fc9c8230b678d9026f285850074c02/binutils/dwarf.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/d292364e95fc9c8230b678d9026f285850074c02/binutils/dwarf.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/dwarf.c?ref=d292364e95fc9c8230b678d9026f285850074c02",
      "patch": "@@ -7822,18 +7822,18 @@ display_debug_frames (struct dwarf_section *section,\n \t    {\n \t      READ_ULEB (augmentation_data_len);\n \t      augmentation_data = start;\n-\t      start += augmentation_data_len;\n \t      /* PR 17512 file: 722-8446-0.004 and PR 22386.  */\n-\t      if (start >= end\n-\t\t  || ((bfd_signed_vma) augmentation_data_len) < 0\n-\t\t  || augmentation_data > start)\n+\t      if (augmentation_data_len > (bfd_size_type) (end - start))\n \t\t{\n-\t\t  warn (_(\"Corrupt augmentation data length: 0x%s\\n\"),\n-\t\t\tdwarf_vmatoa (\"x\", augmentation_data_len));\n+\t\t  warn (_(\"Augmentation data too long: 0x%s, \"\n+\t\t\t  \"expected at most %#lx\\n\"),\n+\t\t\tdwarf_vmatoa (\"x\", augmentation_data_len),\n+\t\t\t(unsigned long) (end - start));\n \t\t  start = end;\n \t\t  augmentation_data = NULL;\n \t\t  augmentation_data_len = 0;\n \t\t}\n+\t      start += augmentation_data_len;\n \t    }\n \n \t  printf (\"\\n%08lx %s %s FDE cie=%08lx pc=\","
    }
  ]
}