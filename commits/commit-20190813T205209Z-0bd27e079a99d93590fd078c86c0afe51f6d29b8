{
  "sha": "0bd27e079a99d93590fd078c86c0afe51f6d29b8",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MGJkMjdlMDc5YTk5ZDkzNTkwZmQwNzhjODZjMGFmZTUxZjZkMjliOA==",
  "commit": {
    "author": {
      "name": "Tom Tromey",
      "email": "tom@tromey.com",
      "date": "2019-07-05T23:18:18Z"
    },
    "committer": {
      "name": "Tom Tromey",
      "email": "tom@tromey.com",
      "date": "2019-08-13T20:52:09Z"
    },
    "message": "Change tui_show_source_content to be a method\n\nThis changes tui_show_source_content to be a method on\ntui_source_window_base.\n\ngdb/ChangeLog\n2019-08-13  Tom Tromey  <tom@tromey.com>\n\n\t* tui/tui-winsource.h (struct tui_source_window_base)\n\t<show_source_content>: Declare.\n\t(tui_show_source_content): Don't declare.\n\t* tui/tui-winsource.c (tui_update_source_window_as_is): Update.\n\t(tui_source_window_base::show_source_content): Rename from\n\ttui_show_source_content.\n\t(tui_source_window_base::refresh_all): Update.\n\t* tui/tui-layout.c (show_source_disasm_command)\n\t(show_source_or_disasm_and_command): Update.",
    "tree": {
      "sha": "82c6857e20b0f781d66633e9f18b52efd2450056",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/82c6857e20b0f781d66633e9f18b52efd2450056"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/0bd27e079a99d93590fd078c86c0afe51f6d29b8",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/0bd27e079a99d93590fd078c86c0afe51f6d29b8",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/0bd27e079a99d93590fd078c86c0afe51f6d29b8",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/0bd27e079a99d93590fd078c86c0afe51f6d29b8/comments",
  "author": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "b4ef5aeb3a1880490f9441655d9de74727c9063a",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/b4ef5aeb3a1880490f9441655d9de74727c9063a",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/b4ef5aeb3a1880490f9441655d9de74727c9063a"
    }
  ],
  "stats": {
    "total": 39,
    "additions": 26,
    "deletions": 13
  },
  "files": [
    {
      "sha": "a43a8f33c481b3dc1ee2a1cee0012da0bef2a28b",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 12,
      "deletions": 0,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/0bd27e079a99d93590fd078c86c0afe51f6d29b8/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/0bd27e079a99d93590fd078c86c0afe51f6d29b8/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=0bd27e079a99d93590fd078c86c0afe51f6d29b8",
      "patch": "@@ -1,3 +1,15 @@\n+2019-08-13  Tom Tromey  <tom@tromey.com>\n+\n+\t* tui/tui-winsource.h (struct tui_source_window_base)\n+\t<show_source_content>: Declare.\n+\t(tui_show_source_content): Don't declare.\n+\t* tui/tui-winsource.c (tui_update_source_window_as_is): Update.\n+\t(tui_source_window_base::show_source_content): Rename from\n+\ttui_show_source_content.\n+\t(tui_source_window_base::refresh_all): Update.\n+\t* tui/tui-layout.c (show_source_disasm_command)\n+\t(show_source_or_disasm_and_command): Update.\n+\n 2019-08-13  Tom Tromey  <tom@tromey.com>\n \n \t* tui/tui-winsource.c (tui_erase_source_content)"
    },
    {
      "sha": "3683835954d0edce2e9dc919c98e8ee508af250e",
      "filename": "gdb/tui/tui-layout.c",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/0bd27e079a99d93590fd078c86c0afe51f6d29b8/gdb/tui/tui-layout.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/0bd27e079a99d93590fd078c86c0afe51f6d29b8/gdb/tui/tui-layout.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/tui/tui-layout.c?ref=0bd27e079a99d93590fd078c86c0afe51f6d29b8",
      "patch": "@@ -520,7 +520,7 @@ show_source_disasm_command (void)\n   struct tui_locator_window *locator = tui_locator_win_info_ptr ();\n   gdb_assert (locator != nullptr);\n \n-  tui_show_source_content (TUI_SRC_WIN);\n+  TUI_SRC_WIN->show_source_content ();\n   if (TUI_DISASM_WIN == NULL)\n     tui_win_list[DISASSEM_WIN] = new tui_disasm_window ();\n   TUI_DISASM_WIN->reset (asm_height,\n@@ -536,7 +536,7 @@ show_source_disasm_command (void)\n   TUI_DISASM_WIN->m_has_locator = true;\n   locator->make_visible (true);\n   tui_show_locator_content ();\n-  tui_show_source_content (TUI_DISASM_WIN);\n+  TUI_DISASM_WIN->show_source_content ();\n \n   if (TUI_CMD_WIN == NULL)\n     tui_win_list[CMD_WIN] = new tui_cmd_window ();\n@@ -664,7 +664,7 @@ show_source_or_disasm_and_command (enum tui_layout_type layout_type)\n   win_info->m_has_locator = true;\n   locator->make_visible (true);\n   tui_show_locator_content ();\n-  tui_show_source_content (win_info);\n+  win_info->show_source_content ();\n \n   if (TUI_CMD_WIN == NULL)\n     tui_win_list[CMD_WIN] = new tui_cmd_window ();"
    },
    {
      "sha": "bccc345fed91c01c92687793b5613c25fc410e27",
      "filename": "gdb/tui/tui-winsource.c",
      "status": "modified",
      "additions": 9,
      "deletions": 9,
      "changes": 18,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/0bd27e079a99d93590fd078c86c0afe51f6d29b8/gdb/tui/tui-winsource.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/0bd27e079a99d93590fd078c86c0afe51f6d29b8/gdb/tui/tui-winsource.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/tui/tui-winsource.c?ref=0bd27e079a99d93590fd078c86c0afe51f6d29b8",
      "patch": "@@ -105,7 +105,7 @@ tui_update_source_window_as_is (struct tui_source_window_base *win_info,\n   else\n     {\n       tui_update_breakpoint_info (win_info, nullptr, false);\n-      tui_show_source_content (win_info);\n+      win_info->show_source_content ();\n       tui_update_exec_info (win_info);\n       if (win_info->type == SRC_WIN)\n \t{\n@@ -275,20 +275,20 @@ tui_show_source_line (struct tui_source_window_base *win_info, int lineno)\n }\n \n void\n-tui_show_source_content (struct tui_source_window_base *win_info)\n+tui_source_window_base::show_source_content ()\n {\n-  if (!win_info->content.empty ())\n+  if (!content.empty ())\n     {\n       int lineno;\n \n-      for (lineno = 1; lineno <= win_info->content.size (); lineno++)\n-        tui_show_source_line (win_info, lineno);\n+      for (lineno = 1; lineno <= content.size (); lineno++)\n+        tui_show_source_line (this, lineno);\n     }\n   else\n-    tui_erase_source_content (win_info);\n+    tui_erase_source_content (this);\n \n-  win_info->check_and_display_highlight_if_needed ();\n-  win_info->refresh_window ();\n+  check_and_display_highlight_if_needed ();\n+  refresh_window ();\n }\n \n /* See tui-data.h.  */\n@@ -332,7 +332,7 @@ tui_source_window_base::reset (int height, int width,\n void\n tui_source_window_base::refresh_all ()\n {\n-  tui_show_source_content (this);\n+  show_source_content ();\n   check_and_display_highlight_if_needed ();\n   tui_erase_exec_info_content (this);\n   tui_update_exec_info (this);"
    },
    {
      "sha": "8c76322d0692c36d7477a5f7b3a95022a3b72fde",
      "filename": "gdb/tui/tui-winsource.h",
      "status": "modified",
      "additions": 2,
      "deletions": 1,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/0bd27e079a99d93590fd078c86c0afe51f6d29b8/gdb/tui/tui-winsource.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/0bd27e079a99d93590fd078c86c0afe51f6d29b8/gdb/tui/tui-winsource.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/tui/tui-winsource.h?ref=0bd27e079a99d93590fd078c86c0afe51f6d29b8",
      "patch": "@@ -89,6 +89,8 @@ struct tui_source_window_base : public tui_win_info\n   void reset (int height, int width,\n \t      int origin_x, int origin_y) override;\n \n+  void show_source_content ();\n+\n   /* Does the locator belong to this window?  */\n   bool m_has_locator = false;\n   /* Execution information window.  */\n@@ -139,7 +141,6 @@ extern void tui_update_source_windows_with_line (struct symtab *,\n \t\t\t\t\t\t int);\n extern void tui_clear_source_content (struct tui_source_window_base *);\n extern void tui_erase_source_content (struct tui_source_window_base *);\n-extern void tui_show_source_content (struct tui_source_window_base *);\n extern void tui_set_exec_info_content (struct tui_source_window_base *);\n extern void tui_show_exec_info_content (struct tui_source_window_base *);\n extern void tui_erase_exec_info_content (struct tui_source_window_base *);"
    }
  ]
}