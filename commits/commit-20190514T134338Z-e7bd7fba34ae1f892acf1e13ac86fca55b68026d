{
  "sha": "e7bd7fba34ae1f892acf1e13ac86fca55b68026d",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ZTdiZDdmYmEzNGFlMWY4OTJhY2YxZTEzYWM4NmZjYTU1YjY4MDI2ZA==",
  "commit": {
    "author": {
      "name": "Tom Tromey",
      "email": "tromey@adacore.com",
      "date": "2019-05-13T15:35:19Z"
    },
    "committer": {
      "name": "Tom Tromey",
      "email": "tromey@adacore.com",
      "date": "2019-05-14T13:43:38Z"
    },
    "message": "Add file name styling to \"info sharedlibrary\"\n\nThis changes \"info sharedlibrary\" to add styling to the file name.\n\nTested on x86-64 Fedora 29.\n\ngdb/ChangeLog\n2019-05-14  Tom Tromey  <tromey@adacore.com>\n\n\t* solib.c (info_sharedlibrary_command): Style the file name.\n\ngdb/testsuite/ChangeLog\n2019-05-14  Tom Tromey  <tromey@adacore.com>\n\n\t* gdb.base/info-shared.exp (check_info_shared): Add \"info shared\"\n\tstyling test.",
    "tree": {
      "sha": "b1135d9729888763958d69420a735d78210b8ac5",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/b1135d9729888763958d69420a735d78210b8ac5"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/e7bd7fba34ae1f892acf1e13ac86fca55b68026d",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/e7bd7fba34ae1f892acf1e13ac86fca55b68026d",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/e7bd7fba34ae1f892acf1e13ac86fca55b68026d",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/e7bd7fba34ae1f892acf1e13ac86fca55b68026d/comments",
  "author": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "35015cd193be5e603ed31c14472d2d9d17e14e7a",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/35015cd193be5e603ed31c14472d2d9d17e14e7a",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/35015cd193be5e603ed31c14472d2d9d17e14e7a"
    }
  ],
  "stats": {
    "total": 35,
    "additions": 34,
    "deletions": 1
  },
  "files": [
    {
      "sha": "095a6c2d6350a8afd4d831db0f8a27230d656819",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e7bd7fba34ae1f892acf1e13ac86fca55b68026d/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e7bd7fba34ae1f892acf1e13ac86fca55b68026d/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=e7bd7fba34ae1f892acf1e13ac86fca55b68026d",
      "patch": "@@ -1,3 +1,7 @@\n+2019-05-14  Tom Tromey  <tromey@adacore.com>\n+\n+\t* solib.c (info_sharedlibrary_command): Style the file name.\n+\n 2019-05-14  Alan Hayward  <alan.hayward@arm.com>\n \n \t* aarch64-tdep.c (aarch64_vnh_type): Add half view."
    },
    {
      "sha": "e0b1a921f82c3247e45e27cdd1a60f5db85a01ea",
      "filename": "gdb/solib.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e7bd7fba34ae1f892acf1e13ac86fca55b68026d/gdb/solib.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e7bd7fba34ae1f892acf1e13ac86fca55b68026d/gdb/solib.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/solib.c?ref=e7bd7fba34ae1f892acf1e13ac86fca55b68026d",
      "patch": "@@ -1104,7 +1104,7 @@ info_sharedlibrary_command (const char *pattern, int from_tty)\n \telse\n \t  uiout->field_string (\"syms-read\", so->symbols_loaded ? \"Yes\" : \"No\");\n \n-\tuiout->field_string (\"name\", so->so_name);\n+\tuiout->field_string (\"name\", so->so_name, ui_out_style_kind::FILE);\n \n \tuiout->text (\"\\n\");\n       }"
    },
    {
      "sha": "071c638e531faaa3f70404a952ec12ada85505eb",
      "filename": "gdb/testsuite/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e7bd7fba34ae1f892acf1e13ac86fca55b68026d/gdb/testsuite/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e7bd7fba34ae1f892acf1e13ac86fca55b68026d/gdb/testsuite/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/ChangeLog?ref=e7bd7fba34ae1f892acf1e13ac86fca55b68026d",
      "patch": "@@ -1,3 +1,8 @@\n+2019-05-14  Tom Tromey  <tromey@adacore.com>\n+\n+\t* gdb.base/info-shared.exp (check_info_shared): Add \"info shared\"\n+\tstyling test.\n+\n 2019-05-14  Tom de Vries  <tdevries@suse.de>\n \n \t* gdb.dwarf2/dw2-skip-prologue.S (.debug_loc): Fix base address"
    },
    {
      "sha": "e1314bf5dd79515749815adb012fdfcae6a6267d",
      "filename": "gdb/testsuite/gdb.base/info-shared.exp",
      "status": "modified",
      "additions": 24,
      "deletions": 0,
      "changes": 24,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e7bd7fba34ae1f892acf1e13ac86fca55b68026d/gdb/testsuite/gdb.base/info-shared.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e7bd7fba34ae1f892acf1e13ac86fca55b68026d/gdb/testsuite/gdb.base/info-shared.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/info-shared.exp?ref=e7bd7fba34ae1f892acf1e13ac86fca55b68026d",
      "patch": "@@ -144,3 +144,27 @@ check_info_shared \"info sharedlibrary #7\" 0 1\n # Run to the last stop and check that both libraries are gone.\n gdb_continue_to_breakpoint \"library unload #2\" \"\\\\.?stop .*\"\n check_info_shared \"info sharedlibrary #8\" 0 0\n+\n+with_test_prefix styled {\n+    save_vars { env(TERM) } {\n+\t# We need an ANSI-capable terminal to get the output.\n+\tsetenv TERM ansi\n+\n+\tclean_restart $testfile\n+\n+\tgdb_test_no_output \"set style enabled off\"\n+\tif {![runto_main]} {\n+\t    return 0\n+\t}\n+\tgdb_breakpoint \"stop\"\n+\tgdb_continue_to_breakpoint \"library load #1\" \"\\\\.?stop .*\"\n+\n+\t# Simple test for \"info sharedlibrary\" styling.  Look for styled\n+\t# addresses and file name.\n+\tset addr \"\\033\\\\\\[34m${hex}\\033\\\\\\[m\"\n+\tset sofile \"\\033\\\\\\[32m\\[^\\033\\]+\\033\\\\\\[m\"\n+\tgdb_test_no_output \"set style enabled on\"\n+\tgdb_test \"info sharedlibrary\" \\\n+\t    \"$addr\\[ \\t\\]+$addr.*$sofile\\r\\n.*\"\n+    }\n+}"
    }
  ]
}