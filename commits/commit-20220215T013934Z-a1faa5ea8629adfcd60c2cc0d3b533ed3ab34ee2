{
  "sha": "a1faa5ea8629adfcd60c2cc0d3b533ed3ab34ee2",
  "node_id": "C_kwDOANOeidoAKGExZmFhNWVhODYyOWFkZmNkNjBjMmNjMGQzYjUzM2VkM2FiMzRlZTI",
  "commit": {
    "author": {
      "name": "H.J. Lu",
      "email": "hjl.tools@gmail.com",
      "date": "2022-02-15T00:02:45Z"
    },
    "committer": {
      "name": "H.J. Lu",
      "email": "hjl.tools@gmail.com",
      "date": "2022-02-15T01:39:34Z"
    },
    "message": "Revert \"PR28824, relro security issues, x86 keep COMMONPAGESIZE relro\"\n\nThis reverts commit 31b4d3a16f200bf04db8439a63b72bba7af4e1be.",
    "tree": {
      "sha": "b9f08d64f4f3f0b63f8b3829b455a041a5edbc43",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/b9f08d64f4f3f0b63f8b3829b455a041a5edbc43"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/a1faa5ea8629adfcd60c2cc0d3b533ed3ab34ee2",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/a1faa5ea8629adfcd60c2cc0d3b533ed3ab34ee2",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/a1faa5ea8629adfcd60c2cc0d3b533ed3ab34ee2",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/a1faa5ea8629adfcd60c2cc0d3b533ed3ab34ee2/comments",
  "author": {
    "login": "hjl-tools",
    "id": 1072356,
    "node_id": "MDQ6VXNlcjEwNzIzNTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hjl-tools",
    "html_url": "https://github.com/hjl-tools",
    "followers_url": "https://api.github.com/users/hjl-tools/followers",
    "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}",
    "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions",
    "organizations_url": "https://api.github.com/users/hjl-tools/orgs",
    "repos_url": "https://api.github.com/users/hjl-tools/repos",
    "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hjl-tools/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "hjl-tools",
    "id": 1072356,
    "node_id": "MDQ6VXNlcjEwNzIzNTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hjl-tools",
    "html_url": "https://github.com/hjl-tools",
    "followers_url": "https://api.github.com/users/hjl-tools/followers",
    "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}",
    "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions",
    "organizations_url": "https://api.github.com/users/hjl-tools/orgs",
    "repos_url": "https://api.github.com/users/hjl-tools/repos",
    "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hjl-tools/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "62e2e6d120fc2e374da5f36a4218a38cea857004",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/62e2e6d120fc2e374da5f36a4218a38cea857004",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/62e2e6d120fc2e374da5f36a4218a38cea857004"
    }
  ],
  "stats": {
    "total": 11,
    "additions": 1,
    "deletions": 10
  },
  "files": [
    {
      "sha": "f75521cecea7367fa4463e54742874ce28ca113b",
      "filename": "ld/emultempl/elf-x86.em",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a1faa5ea8629adfcd60c2cc0d3b533ed3ab34ee2/ld/emultempl/elf-x86.em",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a1faa5ea8629adfcd60c2cc0d3b533ed3ab34ee2/ld/emultempl/elf-x86.em",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/emultempl/elf-x86.em?ref=a1faa5ea8629adfcd60c2cc0d3b533ed3ab34ee2",
      "patch": "@@ -33,7 +33,6 @@ static struct elf_linker_x86_params params;\n static void\n elf_x86_create_output_section_statements (void)\n {\n-  config.relro_use_commonpagesize = true;\n   _bfd_elf_linker_x86_set_options (&link_info, &params);\n }\n "
    },
    {
      "sha": "f3086bf30dee354bf4f5e1329bf0ebaec2a939e3",
      "filename": "ld/ld.h",
      "status": "modified",
      "additions": 0,
      "deletions": 4,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a1faa5ea8629adfcd60c2cc0d3b533ed3ab34ee2/ld/ld.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a1faa5ea8629adfcd60c2cc0d3b533ed3ab34ee2/ld/ld.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/ld.h?ref=a1faa5ea8629adfcd60c2cc0d3b533ed3ab34ee2",
      "patch": "@@ -276,10 +276,6 @@ typedef struct\n   /* If set, code and non-code sections should never be in one segment.  */\n   bool separate_code;\n \n-  /* TRUE if the end of the relro segment should be aligned to\n-     COMMONPAGESIZE rather than MAXPAGESIZE.  */\n-  bool relro_use_commonpagesize;\n-\n   /* The rpath separation character.  Usually ':'.  */\n   char rpath_separator;\n "
    },
    {
      "sha": "c18b8284ca513830ed7ab198ae1ca4cffee14f04",
      "filename": "ld/ldexp.c",
      "status": "modified",
      "additions": 1,
      "deletions": 4,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a1faa5ea8629adfcd60c2cc0d3b533ed3ab34ee2/ld/ldexp.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a1faa5ea8629adfcd60c2cc0d3b533ed3ab34ee2/ld/ldexp.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/ldexp.c?ref=a1faa5ea8629adfcd60c2cc0d3b533ed3ab34ee2",
      "patch": "@@ -485,10 +485,7 @@ fold_segment_align (etree_value_type *lhs)\n \t      seg->base = expld.result.value;\n \t      seg->commonpagesize = commonpage;\n \t      seg->maxpagesize = maxpage;\n-\t      if (config.relro_use_commonpagesize)\n-\t\tseg->relropagesize = commonpage;\n-\t      else\n-\t\tseg->relropagesize = maxpage;\n+\t      seg->relropagesize = maxpage;\n \t      seg->relro_end = 0;\n \t    }\n \t  else"
    },
    {
      "sha": "a99ff15ac6bee23984d9c8bb70d2c586a710150b",
      "filename": "ld/testsuite/ld-x86-64/pr18176.d",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a1faa5ea8629adfcd60c2cc0d3b533ed3ab34ee2/ld/testsuite/ld-x86-64/pr18176.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a1faa5ea8629adfcd60c2cc0d3b533ed3ab34ee2/ld/testsuite/ld-x86-64/pr18176.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-x86-64/pr18176.d?ref=a1faa5ea8629adfcd60c2cc0d3b533ed3ab34ee2",
      "patch": "@@ -3,7 +3,6 @@\n #ld: -melf_x86_64 -shared -z relro -T pr18176.t -z max-page-size=0x200000 -z common-page-size=0x1000 $NO_DT_RELR_LDFLAGS\n #readelf: -l --wide\n #target: x86_64-*-linux*\n-#xfail: *-*-*\n \n #...\n   GNU_RELRO      0x04bd17 0x000000000024bd17 0x000000000024bd17 0x0022e9 0x0022e9 R   0x1"
    }
  ]
}