{
  "sha": "053af8c9034f92d6e36a1180655ba22a65c56437",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MDUzYWY4YzkwMzRmOTJkNmUzNmExMTgwNjU1YmEyMmE2NWM1NjQzNw==",
  "commit": {
    "author": {
      "name": "Nick Clifton",
      "email": "nickc@redhat.com",
      "date": "2019-01-07T13:18:53Z"
    },
    "committer": {
      "name": "Nick Clifton",
      "email": "nickc@redhat.com",
      "date": "2019-01-07T13:18:53Z"
    },
    "message": "Sync libiberty sources with master version in gcc repository.  Updated stabs demangling and cxxfilt tests to match.\n\n\tPR 24044\n\t* stabs.c (parse_stab_argtypes): Remove call to\n\tcplus_mangle_opcode.\n\t* testsuite/binutils-all/cxxfilt.exp: Replace tests of v2 encoding\n\twith v3 encoding.  Add escape for known failures.",
    "tree": {
      "sha": "db84dd302b9ca61a6c15a37f3c1b53167a9eac9a",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/db84dd302b9ca61a6c15a37f3c1b53167a9eac9a"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/053af8c9034f92d6e36a1180655ba22a65c56437",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/053af8c9034f92d6e36a1180655ba22a65c56437",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/053af8c9034f92d6e36a1180655ba22a65c56437",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/053af8c9034f92d6e36a1180655ba22a65c56437/comments",
  "author": {
    "login": "nickclifton",
    "id": 31441682,
    "node_id": "MDQ6VXNlcjMxNDQxNjgy",
    "avatar_url": "https://avatars.githubusercontent.com/u/31441682?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nickclifton",
    "html_url": "https://github.com/nickclifton",
    "followers_url": "https://api.github.com/users/nickclifton/followers",
    "following_url": "https://api.github.com/users/nickclifton/following{/other_user}",
    "gists_url": "https://api.github.com/users/nickclifton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nickclifton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nickclifton/subscriptions",
    "organizations_url": "https://api.github.com/users/nickclifton/orgs",
    "repos_url": "https://api.github.com/users/nickclifton/repos",
    "events_url": "https://api.github.com/users/nickclifton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nickclifton/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "nickclifton",
    "id": 31441682,
    "node_id": "MDQ6VXNlcjMxNDQxNjgy",
    "avatar_url": "https://avatars.githubusercontent.com/u/31441682?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nickclifton",
    "html_url": "https://github.com/nickclifton",
    "followers_url": "https://api.github.com/users/nickclifton/followers",
    "following_url": "https://api.github.com/users/nickclifton/following{/other_user}",
    "gists_url": "https://api.github.com/users/nickclifton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nickclifton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nickclifton/subscriptions",
    "organizations_url": "https://api.github.com/users/nickclifton/orgs",
    "repos_url": "https://api.github.com/users/nickclifton/repos",
    "events_url": "https://api.github.com/users/nickclifton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nickclifton/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "ef8df4caec24669a11680aa1a696d470fb6177ba",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/ef8df4caec24669a11680aa1a696d470fb6177ba",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/ef8df4caec24669a11680aa1a696d470fb6177ba"
    }
  ],
  "stats": {
    "total": 8145,
    "additions": 133,
    "deletions": 8012
  },
  "files": [
    {
      "sha": "f3066c08e184c872dbe58a67f911718e9b53ad40",
      "filename": "ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/053af8c9034f92d6e36a1180655ba22a65c56437/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/053af8c9034f92d6e36a1180655ba22a65c56437/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ChangeLog?ref=053af8c9034f92d6e36a1180655ba22a65c56437",
      "patch": "@@ -1,3 +1,7 @@\n+2019-01-07  Nick Clifton  <nickc@redhat.com>\n+\n+\t* libiberty: Merge from gcc.\n+\n 2019-01-03  \u0414\u0438\u043b\u044f\u043d \u041f\u0430\u043b\u0430\u0443\u0437\u043e\u0432  <dilyan.palauzov@aegee.org>\n \n \t* configure.ac: Don't configure readline if --with-system-readline is"
    },
    {
      "sha": "35fca3b58ea1c2d68decb34b8a870574462b5ae7",
      "filename": "binutils/ChangeLog",
      "status": "modified",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/053af8c9034f92d6e36a1180655ba22a65c56437/binutils/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/053af8c9034f92d6e36a1180655ba22a65c56437/binutils/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/ChangeLog?ref=053af8c9034f92d6e36a1180655ba22a65c56437",
      "patch": "@@ -1,3 +1,11 @@\n+2019-01-07  Nick Clifton  <nickc@redhat.com>\n+\n+\tPR 24044\n+\t* stabs.c (parse_stab_argtypes): Remove call to\n+\tcplus_mangle_opcode.\n+\t* testsuite/binutils-all/cxxfilt.exp: Replace tests of v2 encoding\n+\twith v3 encoding.  Add escape for known failures.\n+\n 2018-12-25  Yoshinori Sato <ysato@users.sourceforge.jp>\n \t* readelf.c (get_machine_flags): Add RXv3 output.\n "
    },
    {
      "sha": "e84aa6f1ac5b0b53a2d86ac7b8b9b853cc90f390",
      "filename": "binutils/stabs.c",
      "status": "modified",
      "additions": 7,
      "deletions": 19,
      "changes": 26,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/053af8c9034f92d6e36a1180655ba22a65c56437/binutils/stabs.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/053af8c9034f92d6e36a1180655ba22a65c56437/binutils/stabs.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/stabs.c?ref=053af8c9034f92d6e36a1180655ba22a65c56437",
      "patch": "@@ -3037,27 +3037,15 @@ parse_stab_argtypes (void *dhandle, struct stab_handle *info,\n \t  && fieldname[1] == 'p'\n \t  && (fieldname[2] == '$' || fieldname[2] == '.'))\n \t{\n-\t  const char *opname;\n-\n-\t  opname = cplus_mangle_opname (fieldname + 3, 0);\n-\t  if (opname == NULL)\n-\t    {\n-\t      fprintf (stderr, _(\"No mangling for \\\"%s\\\"\\n\"), fieldname);\n-\t      return DEBUG_TYPE_NULL;\n-\t    }\n-\t  mangled_name_len += strlen (opname);\n-\t  physname = (char *) xmalloc (mangled_name_len);\n-\t  strncpy (physname, fieldname, 3);\n-\t  strcpy (physname + 3, opname);\n+\t  /* Opname selection is no longer supported by libiberty's demangler.  */\n+\t  return DEBUG_TYPE_NULL;\n \t}\n+\n+      physname = (char *) xmalloc (mangled_name_len);\n+      if (is_constructor)\n+\tphysname[0] = '\\0';\n       else\n-\t{\n-\t  physname = (char *) xmalloc (mangled_name_len);\n-\t  if (is_constructor)\n-\t    physname[0] = '\\0';\n-\t  else\n-\t    strcpy (physname, fieldname);\n-\t}\n+\tstrcpy (physname, fieldname);\n \n       physname_len = strlen (physname);\n       strcat (physname, buf);"
    },
    {
      "sha": "203a7039e581138bf25c93046889d8fb5897377a",
      "filename": "binutils/testsuite/binutils-all/cxxfilt.exp",
      "status": "modified",
      "additions": 29,
      "deletions": 5,
      "changes": 34,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/053af8c9034f92d6e36a1180655ba22a65c56437/binutils/testsuite/binutils-all/cxxfilt.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/053af8c9034f92d6e36a1180655ba22a65c56437/binutils/testsuite/binutils-all/cxxfilt.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/testsuite/binutils-all/cxxfilt.exp?ref=053af8c9034f92d6e36a1180655ba22a65c56437",
      "patch": "@@ -14,6 +14,30 @@\n # along with this program; if not, write to the Free Software\n # Foundation, Inc., 51 Franklin Street - Fifth Floor, Boston, MA 02110-1301, USA.\n \n+# For some reason cxxfilt is not working on the following targets.\n+# FIXME: Investigate why.\n+if { [istarget \"cris*-*-*\"] || \\\n+     [istarget \"cr16-*-*\"] || \\\n+     [istarget \"crx*-*-*\"] || \\\n+     [istarget \"epiphany-*-*\"] || \\\n+     [istarget \"ip2k-*-*\"] || \\\n+     [istarget \"metag-*-*\"] || \\\n+     [istarget \"mn10200-*-*\"] || \\\n+     [istarget \"mn10300-*-*\"] || \\\n+     [istarget \"ns32k-*-*\"] || \\\n+     [istarget \"pdp11-*-*\"] || \\\n+     [istarget \"rl78-*-*\"] || \\\n+     [istarget \"rx-*-*\"] || \\\n+     [istarget \"sh-*-*\"] || \\\n+     [istarget \"tic4*-*-*\"] || \\\n+     [istarget \"tic54*-*-*\"] || \\\n+     [istarget \"v850-*-*\"] || \\\n+     [istarget \"z8k-*-*\"] || \\\n+     [istarget \"*-*-cygwin\"] || \\\n+     [istarget \"*-*-mingw32\"] } then {\n+    return\n+}\n+\n proc test_cxxfilt {options mangled_string demangled_string} {\n     global CXXFILT\n     global CXXFILTFLAGS\n@@ -32,12 +56,12 @@ proc test_cxxfilt {options mangled_string demangled_string} {\n \n # Mangled and demangled strings stolen from libiberty/testsuite/demangle-expected.\n test_cxxfilt {} \\\n-    \"AddAlignment__9ivTSolverUiP12ivInteractorP7ivTGlue\" \\\n-    \"ivTSolver::AddAlignment(unsigned int, ivInteractor ., ivTGlue .)*\"\n+    \"_Z1fIvJiELb0EEvPDOT1_EFT_DpT0_E\" \\\n+    \"void f.void, int, false.(void (.)(int) noexcept(false))*\"\n \n-test_cxxfilt {--format=lucid} \\\n-    \"__ct__12strstreambufFPFl_PvPFPv_v\" \\\n-    \"strstreambuf..(strstreambuf|_ct)(void .(.)(long), void (.)(void .))*\"\n+test_cxxfilt {--format=gnu-v3} \\\n+    \"_Z14int_if_addableI1YERiP1AIXszpldecvPT_Li0EdecvS4_Li0EEE\" \\\n+    \"int& int_if_addable.Y.(A.sizeof ((.((Y.)(0))).(.((Y.)(0))))..)*\"\n \n test_cxxfilt {--no-recurse-limit} \\\n     \"Z3fooiPiPS_PS0_PS1_PS2_PS3_PS4_PS5_PS6_PS7_PS8_PS9_PSA_PSB_PSC_\" \\"
    },
    {
      "sha": "436fb96255ce5b895ad86dd8d077e7b3a869f7cd",
      "filename": "libiberty/ChangeLog",
      "status": "modified",
      "additions": 22,
      "deletions": 18,
      "changes": 40,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/053af8c9034f92d6e36a1180655ba22a65c56437/libiberty/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/053af8c9034f92d6e36a1180655ba22a65c56437/libiberty/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/libiberty/ChangeLog?ref=053af8c9034f92d6e36a1180655ba22a65c56437",
      "patch": "@@ -1,3 +1,17 @@\n+2019-01-01  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tUpdate copyright years.\n+\n+2018-12-22  Jason Merrill  <jason@redhat.com>\n+\n+\tRemove support for demangling GCC 2.x era mangling schemes.\n+\t* cplus-dem.c: Remove cplus_mangle_opname, cplus_demangle_opname,\n+\tinternal_cplus_demangle, and all subroutines.\n+\t(libiberty_demanglers): Remove entries for ancient GNU (pre-3.0),\n+\tLucid, ARM, HP, and EDG demangling styles.\n+\t(cplus_demangle): Remove 'work' variable.  Don't call\n+\tinternal_cplus_demangle.\n+\n 2018-12-07  Nick Clifton  <nickc@redhat.com>\n \n \tPR 87681\n@@ -63,28 +77,18 @@\n \n \t* cplus-dem.c (remember_Btype): Don't call memcpy with LEN==0.\n \n-2018-08-01  Richard Earnshaw  <rearnsha@arm.com>\n-\n-\tCopy over from GCC\n-\t2018-07-26  Martin Liska  <mliska@suse.cz>\n+2018-07-26  Martin Liska  <mliska@suse.cz>\n \n-        PR lto/86548\n+\tPR lto/86548\n \t* make-temp-file.c (TEMP_FILE): Remove leading 'cc'.\n \t(make_temp_file): Call make_temp_file_with_prefix with\n-        first argument set to NULL.\n+\tfirst argument set to NULL.\n \t(make_temp_file_with_prefix): Support also prefix.\n \n-2018-07-18  Eli Zaretskii  <eliz@gnu.org>\n-\n-\tPR gdb/23434\n-\t* libiberty/simple-object-elf.c (ENOTSUP): If not defined by\n-        errno.h, redirect ENOTSUP to ENOSYS.\n+2018-07-19  Eli Zaretskii  <eliz@gnu.org>\n \n-2018-06-19  Simon Marchi  <simon.marchi@ericsson.com>\n-\n-\t* configure.ac: Remove AC_PREREQ.\n-\t* configure: Re-generate.\n-\t* config.in: Re-generate.\n+\t* simple-object-elf.c (ENOTSUP): If not defined by errno.h, redirect\n+\tto ENOSYS.\n \n 2018-05-30  Jan Hubicka  <hubicka@ucw.cz>\n \n@@ -987,8 +991,8 @@\n \t* functions.texi: Regenerate.\n \n 2014-12-11  Uros Bizjak  <ubizjak@gmail.com>\n-            Ben Elliston  <bje@au.ibm.com>\n-            Manuel Lopez-Ibanez  <manu@gcc.gnu.org>\n+\t    Ben Elliston  <bje@au.ibm.com>\n+\t    Manuel Lopez-Ibanez  <manu@gcc.gnu.org>\n \n \t* xvasprintf.c: New file.\n \t* vprintf-support.h: Likewise."
    },
    {
      "sha": "afceed2a1a751155fcfa4cbccd4e12e3f0377c34",
      "filename": "libiberty/cplus-dem.c",
      "status": "modified",
      "additions": 5,
      "deletions": 4581,
      "changes": 4586,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/053af8c9034f92d6e36a1180655ba22a65c56437/libiberty/cplus-dem.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/053af8c9034f92d6e36a1180655ba22a65c56437/libiberty/cplus-dem.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/libiberty/cplus-dem.c?ref=053af8c9034f92d6e36a1180655ba22a65c56437"
    },
    {
      "sha": "3723b7a90f1d5bc60b34cd8cfd3364539cb9aa40",
      "filename": "libiberty/testsuite/demangle-expected",
      "status": "modified",
      "additions": 58,
      "deletions": 3389,
      "changes": 3447,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/053af8c9034f92d6e36a1180655ba22a65c56437/libiberty/testsuite/demangle-expected",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/053af8c9034f92d6e36a1180655ba22a65c56437/libiberty/testsuite/demangle-expected",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/libiberty/testsuite/demangle-expected?ref=053af8c9034f92d6e36a1180655ba22a65c56437"
    }
  ]
}