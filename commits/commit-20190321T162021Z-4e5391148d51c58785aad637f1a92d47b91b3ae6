{
  "sha": "4e5391148d51c58785aad637f1a92d47b91b3ae6",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NGU1MzkxMTQ4ZDUxYzU4Nzg1YWFkNjM3ZjFhOTJkNDdiOTFiM2FlNg==",
  "commit": {
    "author": {
      "name": "Sudakshina Das",
      "email": "sudi.das@arm.com",
      "date": "2019-03-21T16:20:21Z"
    },
    "committer": {
      "name": "Sudakshina Das",
      "email": "sudi.das@arm.com",
      "date": "2019-03-21T16:20:21Z"
    },
    "message": "[BFD, AArch64, x86] Improve warning for --force-bti\n\nThe AArch64 linker option to turn on BTI (--force-bti) warns in case there are\ninput objects which have a missing GNU NOTE section for BTI. This patch is trying\nto improve the warnings that come out.\n\nIn order to do so, I propose adding a new argument to elf_merge_gnu_properties\nand the backend function merge_gnu_properties. This new argument makes sure\nthat we now pass both the objects along with the properties to which they\nbelong to. The x86 backend function has also been updated to match this\nchange.\n\n*** bfd/ChangeLog ***\n\n2019-03-21  Sudakshina Das  <sudi.das@arm.com>\n\n\t* elf-bfd.h (struct elf_backend_data): Add argument to\n\tmerge_gnu_properties.\n\t* elf-properties.c (elf_merge_gnu_properties): Add argument to\n\titself and while calling bed->merge_gnu_properties.\n\t(elf_merge_gnu_property_list): Update the calls for\n\telf_merge_gnu_properties.\n\t* elfnn-aarch64.c (elfNN_aarch64_merge_gnu_properties): Update handling\n\tof --force-bti warning and add argument.\n\t* elfxx-aarch64.c (_bfd_aarch64_elf_link_setup_gnu_properties): Add\n\twarning.\n\t* elfxx-x86.c (_bfd_x86_elf_merge_gnu_properties): Add argument.\n\t* elfxx-x86.h (_bfd_x86_elf_merge_gnu_properties): Likewise in\n\tdeclaration.\n\n*** ld/ChangeLog ***\n\n2019-03-21  Sudakshina Das  <sudi.das@arm.com>\n\n\t* testsuite/ld-aarch64/aarch64-elf.exp: Add new test.\n\t* testsuite/ld-aarch64/bti-plt-1.s: Add .ifdef for PAC note section.\n\t* testsuite/ld-aarch64/bti-plt-6.d: Update warning.\n\t* testsuite/ld-aarch64/bti-plt-7.d: Likewise.\n\t* testsuite/ld-aarch64/bti-warn.d: New test.",
    "tree": {
      "sha": "39854d98236b1aa76c3ecc067dd66c430804e4da",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/39854d98236b1aa76c3ecc067dd66c430804e4da"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/4e5391148d51c58785aad637f1a92d47b91b3ae6",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/4e5391148d51c58785aad637f1a92d47b91b3ae6",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/4e5391148d51c58785aad637f1a92d47b91b3ae6",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/4e5391148d51c58785aad637f1a92d47b91b3ae6/comments",
  "author": {
    "login": "sudakshina-das-arm",
    "id": 28538945,
    "node_id": "MDQ6VXNlcjI4NTM4OTQ1",
    "avatar_url": "https://avatars.githubusercontent.com/u/28538945?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/sudakshina-das-arm",
    "html_url": "https://github.com/sudakshina-das-arm",
    "followers_url": "https://api.github.com/users/sudakshina-das-arm/followers",
    "following_url": "https://api.github.com/users/sudakshina-das-arm/following{/other_user}",
    "gists_url": "https://api.github.com/users/sudakshina-das-arm/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/sudakshina-das-arm/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sudakshina-das-arm/subscriptions",
    "organizations_url": "https://api.github.com/users/sudakshina-das-arm/orgs",
    "repos_url": "https://api.github.com/users/sudakshina-das-arm/repos",
    "events_url": "https://api.github.com/users/sudakshina-das-arm/events{/privacy}",
    "received_events_url": "https://api.github.com/users/sudakshina-das-arm/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "sudakshina-das-arm",
    "id": 28538945,
    "node_id": "MDQ6VXNlcjI4NTM4OTQ1",
    "avatar_url": "https://avatars.githubusercontent.com/u/28538945?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/sudakshina-das-arm",
    "html_url": "https://github.com/sudakshina-das-arm",
    "followers_url": "https://api.github.com/users/sudakshina-das-arm/followers",
    "following_url": "https://api.github.com/users/sudakshina-das-arm/following{/other_user}",
    "gists_url": "https://api.github.com/users/sudakshina-das-arm/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/sudakshina-das-arm/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sudakshina-das-arm/subscriptions",
    "organizations_url": "https://api.github.com/users/sudakshina-das-arm/orgs",
    "repos_url": "https://api.github.com/users/sudakshina-das-arm/repos",
    "events_url": "https://api.github.com/users/sudakshina-das-arm/events{/privacy}",
    "received_events_url": "https://api.github.com/users/sudakshina-das-arm/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "f84bd4655c17b3ee59b73bd33ec91f75bd58546c",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/f84bd4655c17b3ee59b73bd33ec91f75bd58546c",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/f84bd4655c17b3ee59b73bd33ec91f75bd58546c"
    }
  ],
  "stats": {
    "total": 111,
    "additions": 93,
    "deletions": 18
  },
  "files": [
    {
      "sha": "31ffadf24f5525f5cf22429f731908aea7e8c5d0",
      "filename": "bfd/ChangeLog",
      "status": "modified",
      "additions": 16,
      "deletions": 0,
      "changes": 16,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4e5391148d51c58785aad637f1a92d47b91b3ae6/bfd/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4e5391148d51c58785aad637f1a92d47b91b3ae6/bfd/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/ChangeLog?ref=4e5391148d51c58785aad637f1a92d47b91b3ae6",
      "patch": "@@ -1,3 +1,19 @@\n+2019-03-21  Sudakshina Das  <sudi.das@arm.com>\n+\n+\t* elf-bfd.h (struct elf_backend_data): Add argument to\n+\tmerge_gnu_properties.\n+\t* elf-properties.c (elf_merge_gnu_properties): Add argument to\n+\titself and while calling bed->merge_gnu_properties.\n+\t(elf_merge_gnu_property_list): Update the calls for\n+\telf_merge_gnu_properties.\n+\t* elfnn-aarch64.c (elfNN_aarch64_merge_gnu_properties): Update handling\n+\tof --force-bti warning and add argument.\n+\t* elfxx-aarch64.c (_bfd_aarch64_elf_link_setup_gnu_properties): Add\n+\twarning.\n+\t* elfxx-x86.c (_bfd_x86_elf_merge_gnu_properties): Add argument.\n+\t* elfxx-x86.h (_bfd_x86_elf_merge_gnu_properties): Likewise in\n+\tdeclaration.\n+\n 2019-03-20  Sudakshina Das  <sudi.das@arm.com>\n \n \t* elfxx-aarch64.c (_bfd_aarch64_elf_link_fixup_gnu_properties): Define."
    },
    {
      "sha": "0d12f4533acec02d57cfe51cd3c8912dfb33fecd",
      "filename": "bfd/elf-bfd.h",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4e5391148d51c58785aad637f1a92d47b91b3ae6/bfd/elf-bfd.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4e5391148d51c58785aad637f1a92d47b91b3ae6/bfd/elf-bfd.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/elf-bfd.h?ref=4e5391148d51c58785aad637f1a92d47b91b3ae6",
      "patch": "@@ -1473,7 +1473,7 @@ struct elf_backend_data\n \t\t\t\t\t\t  unsigned int);\n \n   /* Merge GNU properties.  Return TRUE if property is updated.  */\n-  bfd_boolean (*merge_gnu_properties) (struct bfd_link_info *, bfd *,\n+  bfd_boolean (*merge_gnu_properties) (struct bfd_link_info *, bfd *, bfd *,\n \t\t\t\t       elf_property *, elf_property *);\n \n   /* Set up GNU properties.  */"
    },
    {
      "sha": "94ef2351cb632828c66127907137e7d523cb719d",
      "filename": "bfd/elf-properties.c",
      "status": "modified",
      "additions": 4,
      "deletions": 4,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4e5391148d51c58785aad637f1a92d47b91b3ae6/bfd/elf-properties.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4e5391148d51c58785aad637f1a92d47b91b3ae6/bfd/elf-properties.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/elf-properties.c?ref=4e5391148d51c58785aad637f1a92d47b91b3ae6",
      "patch": "@@ -198,7 +198,7 @@ _bfd_elf_parse_gnu_properties (bfd *abfd, Elf_Internal_Note *note)\n    with ABFD.  */\n \n static bfd_boolean\n-elf_merge_gnu_properties (struct bfd_link_info *info, bfd *abfd,\n+elf_merge_gnu_properties (struct bfd_link_info *info, bfd *abfd, bfd *bbfd,\n \t\t\t  elf_property *aprop, elf_property *bprop)\n {\n   const struct elf_backend_data *bed = get_elf_backend_data (abfd);\n@@ -207,7 +207,7 @@ elf_merge_gnu_properties (struct bfd_link_info *info, bfd *abfd,\n   if (bed->merge_gnu_properties != NULL\n       && pr_type >= GNU_PROPERTY_LOPROC\n       && pr_type < GNU_PROPERTY_LOUSER)\n-    return bed->merge_gnu_properties (info, abfd, aprop, bprop);\n+    return bed->merge_gnu_properties (info, abfd, bbfd, aprop, bprop);\n \n   switch (pr_type)\n     {\n@@ -289,7 +289,7 @@ elf_merge_gnu_property_list (struct bfd_link_info *info, bfd *first_pbfd,\n \t\t\t\t\t   TRUE);\n \t/* Pass NULL to elf_merge_gnu_properties for the property which\n \t   isn't on *LISTP.  */\n-\telf_merge_gnu_properties (info, first_pbfd, &p->property, pr);\n+\telf_merge_gnu_properties (info, first_pbfd, abfd, &p->property, pr);\n \tif (p->property.pr_kind == property_remove)\n \t  {\n \t    if (info->has_map_file)\n@@ -365,7 +365,7 @@ elf_merge_gnu_property_list (struct bfd_link_info *info, bfd *first_pbfd,\n       else\n \tnumber_p = FALSE;\n \n-      if (elf_merge_gnu_properties (info, first_pbfd, NULL, &p->property))\n+      if (elf_merge_gnu_properties (info, first_pbfd, abfd, NULL, &p->property))\n \t{\n \t  if (p->property.pr_type == GNU_PROPERTY_NO_COPY_ON_PROTECTED)\n \t    elf_has_no_copy_on_protected (first_pbfd) = TRUE;"
    },
    {
      "sha": "57a723d547734b4a4b5074fb7c90811e9bd56184",
      "filename": "bfd/elfnn-aarch64.c",
      "status": "modified",
      "additions": 17,
      "deletions": 8,
      "changes": 25,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4e5391148d51c58785aad637f1a92d47b91b3ae6/bfd/elfnn-aarch64.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4e5391148d51c58785aad637f1a92d47b91b3ae6/bfd/elfnn-aarch64.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/elfnn-aarch64.c?ref=4e5391148d51c58785aad637f1a92d47b91b3ae6",
      "patch": "@@ -9968,7 +9968,7 @@ elfNN_aarch64_link_setup_gnu_properties (struct bfd_link_info *info)\n    for the effect of GNU properties of the output_bfd.  */\n static bfd_boolean\n elfNN_aarch64_merge_gnu_properties (struct bfd_link_info *info,\n-\t\t\t\t       bfd *abfd,\n+\t\t\t\t       bfd *abfd, bfd *bbfd,\n \t\t\t\t       elf_property *aprop,\n \t\t\t\t       elf_property *bprop)\n {\n@@ -9977,17 +9977,26 @@ elfNN_aarch64_merge_gnu_properties (struct bfd_link_info *info,\n \n   /* If output has been marked with BTI using command line argument, give out\n      warning if necessary.  */\n-  if ((prop & GNU_PROPERTY_AARCH64_FEATURE_1_BTI)\n+  /* Properties are merged per type, hence only check for warnings when merging\n+     GNU_PROPERTY_AARCH64_FEATURE_1_AND.  */\n+  if (((aprop && aprop->pr_type == GNU_PROPERTY_AARCH64_FEATURE_1_AND)\n+\t|| (bprop && bprop->pr_type == GNU_PROPERTY_AARCH64_FEATURE_1_AND))\n+      && (prop & GNU_PROPERTY_AARCH64_FEATURE_1_BTI)\n       && (!elf_aarch64_tdata (info->output_bfd)->no_bti_warn))\n     {\n       if ((aprop && !(aprop->u.number & GNU_PROPERTY_AARCH64_FEATURE_1_BTI))\n-\t  || (bprop && !(bprop->u.number & GNU_PROPERTY_AARCH64_FEATURE_1_BTI))\n-\t  /* If either property is NULL, it means its bfd did not have any\n-\t     property.  */\n-\t  || !aprop || !bprop)\n+\t   || !aprop)\n \t{\n-\t  _bfd_error_handler (_(\"warning: BTI turned on by --force-bti when \"\n-\t\t\t\t\"all inputs do not have BTI in NOTE section.\"));\n+\t  _bfd_error_handler (_(\"%pB: warning: BTI turned on by --force-bti when \"\n+\t\t\t\t\"all inputs do not have BTI in NOTE section.\"),\n+\t\t\t      abfd);\n+\t}\n+      if ((bprop && !(bprop->u.number & GNU_PROPERTY_AARCH64_FEATURE_1_BTI))\n+\t   || !bprop)\n+\t{\n+\t  _bfd_error_handler (_(\"%pB: warning: BTI turned on by --force-bti when \"\n+\t\t\t\t\"all inputs do not have BTI in NOTE section.\"),\n+\t\t\t      bbfd);\n \t}\n     }\n "
    },
    {
      "sha": "d16f2ecc1ff53f6667993162bcd2d69889ec2585",
      "filename": "bfd/elfxx-aarch64.c",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4e5391148d51c58785aad637f1a92d47b91b3ae6/bfd/elfxx-aarch64.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4e5391148d51c58785aad637f1a92d47b91b3ae6/bfd/elfxx-aarch64.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/elfxx-aarch64.c?ref=4e5391148d51c58785aad637f1a92d47b91b3ae6",
      "patch": "@@ -719,6 +719,11 @@ _bfd_aarch64_elf_link_setup_gnu_properties (struct bfd_link_info *info,\n       prop = _bfd_elf_get_property (ebfd,\n \t\t\t\t    GNU_PROPERTY_AARCH64_FEATURE_1_AND,\n \t\t\t\t    4);\n+      if (gnu_prop & GNU_PROPERTY_AARCH64_FEATURE_1_BTI\n+\t  && !(prop->u.number & GNU_PROPERTY_AARCH64_FEATURE_1_BTI))\n+\t    _bfd_error_handler (_(\"%pB: warning: BTI turned on by --force-bti \"\n+\t\t\t\t  \"when all inputs do not have BTI in NOTE \"\n+\t\t\t\t  \"section.\"), ebfd);\n       prop->u.number |= gnu_prop;\n       prop->pr_kind = property_number;\n "
    },
    {
      "sha": "5703b5f389a0fafd4a086c22c357d060a6c042a1",
      "filename": "bfd/elfxx-x86.c",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4e5391148d51c58785aad637f1a92d47b91b3ae6/bfd/elfxx-x86.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4e5391148d51c58785aad637f1a92d47b91b3ae6/bfd/elfxx-x86.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/elfxx-x86.c?ref=4e5391148d51c58785aad637f1a92d47b91b3ae6",
      "patch": "@@ -2401,6 +2401,7 @@ _bfd_x86_elf_parse_gnu_properties (bfd *abfd, unsigned int type,\n bfd_boolean\n _bfd_x86_elf_merge_gnu_properties (struct bfd_link_info *info,\n \t\t\t\t   bfd *abfd ATTRIBUTE_UNUSED,\n+\t\t\t\t   bfd *bbfd ATTRIBUTE_UNUSED,\n \t\t\t\t   elf_property *aprop,\n \t\t\t\t   elf_property *bprop)\n {"
    },
    {
      "sha": "4df2173a5842f92b691e4680156bad70e2043507",
      "filename": "bfd/elfxx-x86.h",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4e5391148d51c58785aad637f1a92d47b91b3ae6/bfd/elfxx-x86.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4e5391148d51c58785aad637f1a92d47b91b3ae6/bfd/elfxx-x86.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/elfxx-x86.h?ref=4e5391148d51c58785aad637f1a92d47b91b3ae6",
      "patch": "@@ -691,7 +691,7 @@ extern enum elf_property_kind _bfd_x86_elf_parse_gnu_properties\n   (bfd *, unsigned int, bfd_byte *, unsigned int);\n \n extern bfd_boolean _bfd_x86_elf_merge_gnu_properties\n-  (struct bfd_link_info *, bfd *, elf_property *, elf_property *);\n+  (struct bfd_link_info *, bfd *, bfd *, elf_property *, elf_property *);\n \n extern void _bfd_x86_elf_link_fixup_gnu_properties\n   (struct bfd_link_info *, elf_property_list **);"
    },
    {
      "sha": "2853c0990edf59a58ea99811bf70cdf6532ba3de",
      "filename": "ld/ChangeLog",
      "status": "modified",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4e5391148d51c58785aad637f1a92d47b91b3ae6/ld/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4e5391148d51c58785aad637f1a92d47b91b3ae6/ld/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/ChangeLog?ref=4e5391148d51c58785aad637f1a92d47b91b3ae6",
      "patch": "@@ -1,3 +1,11 @@\n+2019-03-21  Sudakshina Das  <sudi.das@arm.com>\n+\n+\t* testsuite/ld-aarch64/aarch64-elf.exp: Add new test.\n+\t* testsuite/ld-aarch64/bti-plt-1.s: Add .ifdef for PAC note section.\n+\t* testsuite/ld-aarch64/bti-plt-6.d: Update warning.\n+\t* testsuite/ld-aarch64/bti-plt-7.d: Likewise.\n+\t* testsuite/ld-aarch64/bti-warn.d: New test.\n+\n 2019-03-21  Alan Modra  <amodra@gmail.com>\n \n \t* testsuite/ld-elf/fini2.s: Reduce alignment."
    },
    {
      "sha": "ba3ce36191f49b2ce25880b7a61408b6e8875884",
      "filename": "ld/testsuite/ld-aarch64/aarch64-elf.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4e5391148d51c58785aad637f1a92d47b91b3ae6/ld/testsuite/ld-aarch64/aarch64-elf.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4e5391148d51c58785aad637f1a92d47b91b3ae6/ld/testsuite/ld-aarch64/aarch64-elf.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-aarch64/aarch64-elf.exp?ref=4e5391148d51c58785aad637f1a92d47b91b3ae6",
      "patch": "@@ -407,3 +407,5 @@ run_dump_test \"pac-plt-1\"\n run_dump_test \"pac-plt-2\"\n run_dump_test \"bti-pac-plt-1\"\n run_dump_test \"bti-pac-plt-2\"\n+\n+run_dump_test \"bti-warn\""
    },
    {
      "sha": "8bb39c44f8de4d2f7a24172e730b36742cb9b926",
      "filename": "ld/testsuite/ld-aarch64/bti-plt-1.s",
      "status": "modified",
      "additions": 17,
      "deletions": 0,
      "changes": 17,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4e5391148d51c58785aad637f1a92d47b91b3ae6/ld/testsuite/ld-aarch64/bti-plt-1.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4e5391148d51c58785aad637f1a92d47b91b3ae6/ld/testsuite/ld-aarch64/bti-plt-1.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-aarch64/bti-plt-1.s?ref=4e5391148d51c58785aad637f1a92d47b91b3ae6",
      "patch": "@@ -21,3 +21,20 @@ _start:\n \t.p2align 3\n 5:\n .endif\n+.ifdef __property_pac__\n+\t.section \".note.gnu.property\", \"a\"\n+\t.p2align 3\n+\t.long 1f - 0f\t\t/* name length */\n+\t.long 5f - 2f\t\t/* data length */\n+\t.long 5\t\t\t/* note type */\n+0:\t.asciz \"GNU\"\t\t/* vendor name */\n+1:\n+\t.p2align 3\n+2:\t.long 0xc0000000\t/* pr_type.  */\n+\t.long 4f - 3f\t\t/* pr_datasz.  */\n+3:\n+\t.long 0x2\t\t/* PAC.  */\n+4:\n+\t.p2align 3\n+5:\n+.endif"
    },
    {
      "sha": "30d225d4dec80ab454da15787023a1096c73606b",
      "filename": "ld/testsuite/ld-aarch64/bti-plt-6.d",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4e5391148d51c58785aad637f1a92d47b91b3ae6/ld/testsuite/ld-aarch64/bti-plt-6.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4e5391148d51c58785aad637f1a92d47b91b3ae6/ld/testsuite/ld-aarch64/bti-plt-6.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-aarch64/bti-plt-6.d?ref=4e5391148d51c58785aad637f1a92d47b91b3ae6",
      "patch": "@@ -1,9 +1,9 @@\n #name: Warn with one missing GNU NOTE BTI input\n-#source: property-bti-pac1.s\n #source: property-bti-pac2.s\n+#source: property-bti-pac1.s\n #as: -mabi=lp64 -defsym __property_pac__=1\n #ld: -shared --force-bti\n-#warning: .*: warning: BTI turned on by --force-bti.*$\n+#warning: .*property-bti-pac2.*: warning: BTI turned on by --force-bti.*$\n #readelf: -n\n \n # Should warn about the missing input BTI NOTE but should"
    },
    {
      "sha": "e8fa0d3a09163bae08d87620c718b5c765462b32",
      "filename": "ld/testsuite/ld-aarch64/bti-plt-7.d",
      "status": "modified",
      "additions": 3,
      "deletions": 2,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4e5391148d51c58785aad637f1a92d47b91b3ae6/ld/testsuite/ld-aarch64/bti-plt-7.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4e5391148d51c58785aad637f1a92d47b91b3ae6/ld/testsuite/ld-aarch64/bti-plt-7.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-aarch64/bti-plt-7.d?ref=4e5391148d51c58785aad637f1a92d47b91b3ae6",
      "patch": "@@ -1,9 +1,10 @@\n #name: Warn when neither inputs has GNU NOTE BTI\n-#source: property-bti-pac1.s\n+#source: property-bti-pac2.s\n #source: plt_mapping_symbol.s\n #as: -mabi=lp64\n #ld: -shared --force-bti\n-#warning: .*: warning: BTI turned on by --force-bti.*$\n+#warning: .*plt_mapping_symbol.*: warning: BTI turned on by --force-bti.*\n+#warning: .*property-bti-pac2.*: warning: BTI turned on by --force-bti.*\n #readelf: -n\n \n # Should warn about the missing input BTI NOTE but should"
    },
    {
      "sha": "c2edccf15f11ee06c09143b763837dbb950ba946",
      "filename": "ld/testsuite/ld-aarch64/bti-warn.d",
      "status": "added",
      "additions": 16,
      "deletions": 0,
      "changes": 16,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4e5391148d51c58785aad637f1a92d47b91b3ae6/ld/testsuite/ld-aarch64/bti-warn.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4e5391148d51c58785aad637f1a92d47b91b3ae6/ld/testsuite/ld-aarch64/bti-warn.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-aarch64/bti-warn.d?ref=4e5391148d51c58785aad637f1a92d47b91b3ae6",
      "patch": "@@ -0,0 +1,16 @@\n+#name: Warn when both have GNU prop but neither BTI\n+#source: property-bti-pac2.s\n+#source: bti-plt-1.s\n+#as: -mabi=lp64 --defsym __guard_property_bti__=1 --defsym __property_pac__=1\n+#ld: -shared --force-bti\n+#warning: .*property-bti-pac2.*: warning: BTI turned on by --force-bti.*\n+#warning: .*bti-plt-1.*: warning: BTI turned on by --force-bti.*\n+#readelf: -n\n+\n+# Should warn about the missing input BTI NOTE but should\n+# still mark output as BTI\n+\n+Displaying notes found in: .note.gnu.property\n+  Owner                 Data size\tDescription\n+  GNU                  0x00000010\tNT_GNU_PROPERTY_TYPE_0\n+      Properties: AArch64 feature: BTI, PAC"
    }
  ]
}