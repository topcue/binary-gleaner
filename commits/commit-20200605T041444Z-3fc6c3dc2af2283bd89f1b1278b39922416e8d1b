{
  "sha": "3fc6c3dc2af2283bd89f1b1278b39922416e8d1b",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6M2ZjNmMzZGMyYWYyMjgzYmQ4OWYxYjEyNzhiMzk5MjI0MTZlOGQxYg==",
  "commit": {
    "author": {
      "name": "Nelson Chu",
      "email": "nelson.chu@sifive.com",
      "date": "2020-05-29T07:31:46Z"
    },
    "committer": {
      "name": "Nelson Chu",
      "email": "nelson.chu@sifive.com",
      "date": "2020-06-05T04:14:44Z"
    },
    "message": "RISC-V: Don't generate the ELF privilege attributes when no CSR are used.\n\n\tgas/\n\t* config/tc-riscv.c (explicit_csr): New static boolean.\n\tUsed to indicate CSR are explictly used.\n\t(riscv_ip): Set explicit_csr to TRUE if any CSR is used.\n\t(riscv_write_out_attrs): If we already have set elf priv\n\tattributes, then generate them.  Otherwise, don't generate\n\tthem when no CSR are used.\n\n\t* testsuite/gas/riscv/attribute-01.d: Remove the priv attributes.\n\t* testsuite/gas/riscv/attribute-02.d: Likewise.\n\t* testsuite/gas/riscv/attribute-03.d: Likewise.\n\t* testsuite/gas/riscv/attribute-04.d: Likewise.\n\t* testsuite/gas/riscv/attribute-05.d: Likewise.\n\t* testsuite/gas/riscv/attribute-06.d: Likewise.\n\t* testsuite/gas/riscv/attribute-07.d: Likewise.\n\t* testsuite/gas/riscv/attribute-08.d: Likewise.\n\t* testsuite/gas/riscv/attribute-09.d: Likewise.\n\t* testsuite/gas/riscv/attribute-10.d: Likewise.\n\t* testsuite/gas/riscv/attribute-unknown.d: Likewise.\n\t* testsuite/gas/riscv/attribute-11.s: New testcase.\n\t* testsuite/gas/riscv/attribute-11.d: New testcase.  The CSR is\n\tused, so we should output the ELF priv attributes.\n\t* testsuite/gas/riscv/attribute-12.d: New testcase.  The CSR is\n\tused, so output the priv attributes according to the -mpriv-spec.\n\t* testsuite/gas/riscv/attribute-13.d: New testcase.  The CSR isn't\n\tused, so ignore the -mpriv-spec setting.\n\n\tld/\n\t* testsuite/ld-riscv-elf/attr-merge-arch-01.d: Likewise.\n\t* testsuite/ld-riscv-elf/attr-merge-arch-02.d: Likewise.\n\t* testsuite/ld-riscv-elf/attr-merge-arch-03.d: Likewise.\n\t* testsuite/ld-riscv-elf/attr-merge-stack-align.d: Likewise.\n\t* testsuite/ld-riscv-elf/attr-merge-strict-align-01.d: Likewise.\n\t* testsuite/ld-riscv-elf/attr-merge-strict-align-02.d: Likewise.\n\t* testsuite/ld-riscv-elf/attr-merge-strict-align-03.d: Likewise.\n\t* testsuite/ld-riscv-elf/attr-merge-strict-align-04.d: Likewise.\n\t* testsuite/ld-riscv-elf/attr-merge-strict-align-05.d: Likewise.\n\t* testsuite/ld-riscv-elf/call-relax.d: Add -mno-arch-attr.",
    "tree": {
      "sha": "6c08c01a0b1b35f343db32e2093c01b8abd59923",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/6c08c01a0b1b35f343db32e2093c01b8abd59923"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/comments",
  "author": null,
  "committer": null,
  "parents": [
    {
      "sha": "a975c88e6549c508ec86658e6816d7b8f16af13c",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/a975c88e6549c508ec86658e6816d7b8f16af13c",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/a975c88e6549c508ec86658e6816d7b8f16af13c"
    }
  ],
  "stats": {
    "total": 132,
    "additions": 75,
    "deletions": 57
  },
  "files": [
    {
      "sha": "14d10799f0b9aa199bdc7a061eff523a7a05b6a7",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 27,
      "deletions": 0,
      "changes": 27,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=3fc6c3dc2af2283bd89f1b1278b39922416e8d1b",
      "patch": "@@ -1,3 +1,30 @@\n+2020-06-05  Nelson Chu  <nelson.chu@sifive.com>\n+\n+\t* config/tc-riscv.c (explicit_csr): New static boolean.\n+\tUsed to indicate CSR are explictly used.\n+\t(riscv_ip): Set explicit_csr to TRUE if any CSR is used.\n+\t(riscv_write_out_attrs): If we already have set elf priv\n+\tattributes, then generate them.  Otherwise, don't generate\n+\tthem when no CSR are used.\n+\t* testsuite/gas/riscv/attribute-01.d: Remove the priv attributes.\n+\t* testsuite/gas/riscv/attribute-02.d: Likewise.\n+\t* testsuite/gas/riscv/attribute-03.d: Likewise.\n+\t* testsuite/gas/riscv/attribute-04.d: Likewise.\n+\t* testsuite/gas/riscv/attribute-05.d: Likewise.\n+\t* testsuite/gas/riscv/attribute-06.d: Likewise.\n+\t* testsuite/gas/riscv/attribute-07.d: Likewise.\n+\t* testsuite/gas/riscv/attribute-08.d: Likewise.\n+\t* testsuite/gas/riscv/attribute-09.d: Likewise.\n+\t* testsuite/gas/riscv/attribute-10.d: Likewise.\n+\t* testsuite/gas/riscv/attribute-unknown.d: Likewise.\n+\t* testsuite/gas/riscv/attribute-11.s: New testcase.\n+\t* testsuite/gas/riscv/attribute-11.d: New testcase.  The CSR is\n+\tused, so we should output the ELF priv attributes.\n+\t* testsuite/gas/riscv/attribute-12.d: New testcase.  The CSR is\n+\tused, so output the priv attributes according to the -mpriv-spec.\n+\t* testsuite/gas/riscv/attribute-13.d: New testcase.  The CSR isn't\n+\tused, so ignore the -mpriv-spec setting.\n+\n 2020-06-04  H.J. Lu  <hongjiu.lu@intel.com>\n \n \t* config/tc-ip2k. (ip2k_apply_fix): Pass endianness to"
    },
    {
      "sha": "cc77dbf6c00a3c9fe769da654b657e0d276d6736",
      "filename": "gas/config/tc-riscv.c",
      "status": "modified",
      "additions": 9,
      "deletions": 0,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/gas/config/tc-riscv.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/gas/config/tc-riscv.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/config/tc-riscv.c?ref=3fc6c3dc2af2283bd89f1b1278b39922416e8d1b",
      "patch": "@@ -374,6 +374,9 @@ static bfd_boolean start_assemble = FALSE;\n /* Indicate ELF attributes are explictly set.  */\n static bfd_boolean explicit_attr = FALSE;\n \n+/* Indicate CSR are explictly used.  */\n+static bfd_boolean explicit_csr = FALSE;\n+\n /* Macros for encoding relaxation state for RVC branches and far jumps.  */\n #define RELAX_BRANCH_ENCODE(uncond, rvc, length)\t\\\n   ((relax_substateT) \t\t\t\t\t\\\n@@ -2212,6 +2215,7 @@ riscv_ip (char *str, struct riscv_cl_insn *ip, expressionS *imm_expr,\n \n \t    case 'E':\t\t/* Control register.  */\n \t      insn_with_csr = TRUE;\n+\t      explicit_csr = TRUE;\n \t      if (reg_lookup (&s, RCLASS_CSR, &regno))\n \t\tINSERT_OPERAND (CSR, *ip, regno);\n \t      else\n@@ -3605,6 +3609,11 @@ riscv_write_out_attrs (void)\n       && !riscv_set_default_priv_spec (NULL))\n     return;\n \n+  /* If we already have set elf priv attributes, then generate them.\n+     Otherwise, don't generate them when no CSR are used.  */\n+  if (!explicit_csr)\n+    return;\n+\n   /* Re-write priv attributes by default_priv_spec.  */\n   priv_str = riscv_get_priv_spec_name (default_priv_spec);\n   p = priv_str;"
    },
    {
      "sha": "2e19e09abf29eb413af405917e1aa76a4f3ec748",
      "filename": "gas/testsuite/gas/riscv/attribute-01.d",
      "status": "modified",
      "additions": 0,
      "deletions": 3,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/gas/testsuite/gas/riscv/attribute-01.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/gas/testsuite/gas/riscv/attribute-01.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/riscv/attribute-01.d?ref=3fc6c3dc2af2283bd89f1b1278b39922416e8d1b",
      "patch": "@@ -4,6 +4,3 @@\n Attribute Section: riscv\n File Attributes\n   Tag_RISCV_arch: \"rv32i2p0_m2p0_a2p0_f2p0_d2p0\"\n-  Tag_RISCV_priv_spec: [0-9_\\\"].*\n-  Tag_RISCV_priv_spec_minor: [0-9_\\\"].*\n-#..."
    },
    {
      "sha": "ae0195e9a2ca69fd6b2031b118b4234125a13960",
      "filename": "gas/testsuite/gas/riscv/attribute-02.d",
      "status": "modified",
      "additions": 0,
      "deletions": 3,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/gas/testsuite/gas/riscv/attribute-02.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/gas/testsuite/gas/riscv/attribute-02.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/riscv/attribute-02.d?ref=3fc6c3dc2af2283bd89f1b1278b39922416e8d1b",
      "patch": "@@ -4,6 +4,3 @@\n Attribute Section: riscv\n File Attributes\n   Tag_RISCV_arch: \"rv32i2p0_m2p0_a2p0_f2p0_d2p0_xargle0p0\"\n-  Tag_RISCV_priv_spec: [0-9_\\\"].*\n-  Tag_RISCV_priv_spec_minor: [0-9_\\\"].*\n-#..."
    },
    {
      "sha": "9916ff6e927a3773aea8be7c247dfc1dd23d09b6",
      "filename": "gas/testsuite/gas/riscv/attribute-03.d",
      "status": "modified",
      "additions": 0,
      "deletions": 3,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/gas/testsuite/gas/riscv/attribute-03.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/gas/testsuite/gas/riscv/attribute-03.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/riscv/attribute-03.d?ref=3fc6c3dc2af2283bd89f1b1278b39922416e8d1b",
      "patch": "@@ -4,6 +4,3 @@\n Attribute Section: riscv\n File Attributes\n   Tag_RISCV_arch: \"rv32i2p0_m2p0_a2p0_f2p0_d2p0_xargle0p0_xfoo0p0\"\n-  Tag_RISCV_priv_spec: [0-9_\\\"].*\n-  Tag_RISCV_priv_spec_minor: [0-9_\\\"].*\n-#..."
    },
    {
      "sha": "408464d01ce07673b8a6e2f1d4711558311e6b55",
      "filename": "gas/testsuite/gas/riscv/attribute-04.d",
      "status": "modified",
      "additions": 0,
      "deletions": 3,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/gas/testsuite/gas/riscv/attribute-04.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/gas/testsuite/gas/riscv/attribute-04.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/riscv/attribute-04.d?ref=3fc6c3dc2af2283bd89f1b1278b39922416e8d1b",
      "patch": "@@ -4,6 +4,3 @@\n Attribute Section: riscv\n File Attributes\n   Tag_RISCV_arch: \"rv32i2p0_m2p0_a2p0_f2p0_d2p0\"\n-  Tag_RISCV_priv_spec: [0-9_\\\"].*\n-  Tag_RISCV_priv_spec_minor: [0-9_\\\"].*\n-#..."
    },
    {
      "sha": "a2dd9fbb97ed5d29628fee74fa0e00f6783a29cb",
      "filename": "gas/testsuite/gas/riscv/attribute-06.d",
      "status": "modified",
      "additions": 0,
      "deletions": 3,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/gas/testsuite/gas/riscv/attribute-06.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/gas/testsuite/gas/riscv/attribute-06.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/riscv/attribute-06.d?ref=3fc6c3dc2af2283bd89f1b1278b39922416e8d1b",
      "patch": "@@ -4,6 +4,3 @@\n Attribute Section: riscv\n File Attributes\n   Tag_RISCV_arch: \"rv32i2p0\"\n-  Tag_RISCV_priv_spec: [0-9_\\\"].*\n-  Tag_RISCV_priv_spec_minor: [0-9_\\\"].*\n-#..."
    },
    {
      "sha": "342a53752ce61f12669a809138763bd9c9f2fb6e",
      "filename": "gas/testsuite/gas/riscv/attribute-07.d",
      "status": "modified",
      "additions": 0,
      "deletions": 3,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/gas/testsuite/gas/riscv/attribute-07.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/gas/testsuite/gas/riscv/attribute-07.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/riscv/attribute-07.d?ref=3fc6c3dc2af2283bd89f1b1278b39922416e8d1b",
      "patch": "@@ -4,6 +4,3 @@\n Attribute Section: riscv\n File Attributes\n   Tag_RISCV_arch: \"rv64i2p0\"\n-  Tag_RISCV_priv_spec: [0-9_\\\"].*\n-  Tag_RISCV_priv_spec_minor: [0-9_\\\"].*\n-#..."
    },
    {
      "sha": "c10ac0ca353b489e04b10379a89593c150c6c740",
      "filename": "gas/testsuite/gas/riscv/attribute-08.d",
      "status": "modified",
      "additions": 0,
      "deletions": 3,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/gas/testsuite/gas/riscv/attribute-08.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/gas/testsuite/gas/riscv/attribute-08.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/riscv/attribute-08.d?ref=3fc6c3dc2af2283bd89f1b1278b39922416e8d1b",
      "patch": "@@ -4,6 +4,3 @@\n Attribute Section: riscv\n File Attributes\n   Tag_RISCV_arch: \"rv32e1p9\"\n-  Tag_RISCV_priv_spec: [0-9_\\\"].*\n-  Tag_RISCV_priv_spec_minor: [0-9_\\\"].*\n-#..."
    },
    {
      "sha": "cad1713b0a0af579236346a350455b83d5a55755",
      "filename": "gas/testsuite/gas/riscv/attribute-09.d",
      "status": "modified",
      "additions": 0,
      "deletions": 3,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/gas/testsuite/gas/riscv/attribute-09.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/gas/testsuite/gas/riscv/attribute-09.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/riscv/attribute-09.d?ref=3fc6c3dc2af2283bd89f1b1278b39922416e8d1b",
      "patch": "@@ -4,6 +4,3 @@\n Attribute Section: riscv\n File Attributes\n   Tag_RISCV_arch: \"rv32i2p1_m2p0_zicsr0p0\"\n-  Tag_RISCV_priv_spec: [0-9_\\\"].*\n-  Tag_RISCV_priv_spec_minor: [0-9_\\\"].*\n-#..."
    },
    {
      "sha": "ba903d172750624ada4bef1ee1e38fb408c46915",
      "filename": "gas/testsuite/gas/riscv/attribute-10.d",
      "status": "modified",
      "additions": 0,
      "deletions": 3,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/gas/testsuite/gas/riscv/attribute-10.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/gas/testsuite/gas/riscv/attribute-10.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/riscv/attribute-10.d?ref=3fc6c3dc2af2283bd89f1b1278b39922416e8d1b",
      "patch": "@@ -4,6 +4,3 @@\n Attribute Section: riscv\n File Attributes\n   Tag_RISCV_arch: \"rv32i2p1_m2p0_a2p1_f2p2_d2p2_c2p0_zicsr2p0\"\n-  Tag_RISCV_priv_spec: [0-9_\\\"].*\n-  Tag_RISCV_priv_spec_minor: [0-9_\\\"].*\n-#..."
    },
    {
      "sha": "4bd66f0bb2912afd100904261e5e6a32b4fbd2b1",
      "filename": "gas/testsuite/gas/riscv/attribute-11.d",
      "status": "added",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/gas/testsuite/gas/riscv/attribute-11.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/gas/testsuite/gas/riscv/attribute-11.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/riscv/attribute-11.d?ref=3fc6c3dc2af2283bd89f1b1278b39922416e8d1b",
      "patch": "@@ -0,0 +1,8 @@\n+#as: -march-attr\n+#readelf: -A\n+#source: attribute-11.s\n+Attribute Section: riscv\n+File Attributes\n+  Tag_RISCV_arch: [a-zA-Z0-9_\\\"].*\n+  Tag_RISCV_priv_spec: [0-9_\\\"].*\n+#..."
    },
    {
      "sha": "81099b27ca1857d28a4ce8d5811466c9cc2d08e1",
      "filename": "gas/testsuite/gas/riscv/attribute-11.s",
      "status": "added",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/gas/testsuite/gas/riscv/attribute-11.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/gas/testsuite/gas/riscv/attribute-11.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/riscv/attribute-11.s?ref=3fc6c3dc2af2283bd89f1b1278b39922416e8d1b",
      "patch": "@@ -0,0 +1 @@\n+\tcsrr a0, 0x0"
    },
    {
      "sha": "980b36cada6032974b292b5d37e742f61bd0957e",
      "filename": "gas/testsuite/gas/riscv/attribute-12.d",
      "status": "added",
      "additions": 9,
      "deletions": 0,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/gas/testsuite/gas/riscv/attribute-12.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/gas/testsuite/gas/riscv/attribute-12.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/riscv/attribute-12.d?ref=3fc6c3dc2af2283bd89f1b1278b39922416e8d1b",
      "patch": "@@ -0,0 +1,9 @@\n+#as: -march-attr -mpriv-spec=1.9.1\n+#readelf: -A\n+#source: attribute-11.s\n+Attribute Section: riscv\n+File Attributes\n+  Tag_RISCV_arch: [a-zA-Z0-9_\\\"].*\n+  Tag_RISCV_priv_spec: 1\n+  Tag_RISCV_priv_spec_minor: 9\n+  Tag_RISCV_priv_spec_revision: 1"
    },
    {
      "sha": "b8dfe3a7dee0b78f77ff73ffceffe3d6cd734f89",
      "filename": "gas/testsuite/gas/riscv/attribute-13.d",
      "status": "added",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/gas/testsuite/gas/riscv/attribute-13.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/gas/testsuite/gas/riscv/attribute-13.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/riscv/attribute-13.d?ref=3fc6c3dc2af2283bd89f1b1278b39922416e8d1b",
      "patch": "@@ -0,0 +1,6 @@\n+#as: -march-attr -mpriv-spec=1.9.1\n+#readelf: -A\n+#source: empty.s\n+Attribute Section: riscv\n+File Attributes\n+  Tag_RISCV_arch: [a-zA-Z0-9_\\\"].*"
    },
    {
      "sha": "667f21acfc1dd9c34ed76657d8bbef8e6185936d",
      "filename": "gas/testsuite/gas/riscv/attribute-unknown.d",
      "status": "modified",
      "additions": 0,
      "deletions": 3,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/gas/testsuite/gas/riscv/attribute-unknown.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/gas/testsuite/gas/riscv/attribute-unknown.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/riscv/attribute-unknown.d?ref=3fc6c3dc2af2283bd89f1b1278b39922416e8d1b",
      "patch": "@@ -4,8 +4,5 @@\n Attribute Section: riscv\n File Attributes\n   Tag_RISCV_arch: [a-zA-Z0-9_\\\"].*\n-  Tag_RISCV_priv_spec: [0-9_\\\"].*\n-  Tag_RISCV_priv_spec_minor: [0-9_\\\"].*\n-#...\n   Tag_unknown_255: \"test\"\n   Tag_unknown_256: 123 \\(0x7b\\)"
    },
    {
      "sha": "5b6805a31bc4a17b41c4f618716428aa2a487957",
      "filename": "ld/ChangeLog",
      "status": "modified",
      "additions": 14,
      "deletions": 0,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/ld/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/ld/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/ChangeLog?ref=3fc6c3dc2af2283bd89f1b1278b39922416e8d1b",
      "patch": "@@ -1,3 +1,17 @@\n+2020-06-05  Nelson Chu  <nelson.chu@sifive.com>\n+\n+\t* testsuite/ld-riscv-elf/attr-merge-arch-01.d: The CSR isn't used,\n+\tso ignore the -mpriv-spec setting.\n+\t* testsuite/ld-riscv-elf/attr-merge-arch-02.d: Likewise.\n+\t* testsuite/ld-riscv-elf/attr-merge-arch-03.d: Likewise.\n+\t* testsuite/ld-riscv-elf/attr-merge-stack-align.d: Likewise.\n+\t* testsuite/ld-riscv-elf/attr-merge-strict-align-01.d: Likewise.\n+\t* testsuite/ld-riscv-elf/attr-merge-strict-align-02.d: Likewise.\n+\t* testsuite/ld-riscv-elf/attr-merge-strict-align-03.d: Likewise.\n+\t* testsuite/ld-riscv-elf/attr-merge-strict-align-04.d: Likewise.\n+\t* testsuite/ld-riscv-elf/attr-merge-strict-align-05.d: Likewise.\n+\t* testsuite/ld-riscv-elf/call-relax.d: Add -mno-arch-attr.\n+\n 2020-06-04  H.J. Lu  <hongjiu.lu@intel.com>\n \n \tPR ld/26080"
    },
    {
      "sha": "5baaba4c16f9545cd25dfd59fadfbbf0869dedeb",
      "filename": "ld/testsuite/ld-riscv-elf/attr-merge-arch-01.d",
      "status": "modified",
      "additions": 0,
      "deletions": 3,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/ld/testsuite/ld-riscv-elf/attr-merge-arch-01.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/ld/testsuite/ld-riscv-elf/attr-merge-arch-01.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-riscv-elf/attr-merge-arch-01.d?ref=3fc6c3dc2af2283bd89f1b1278b39922416e8d1b",
      "patch": "@@ -7,6 +7,3 @@\n Attribute Section: riscv\n File Attributes\n   Tag_RISCV_arch: \"rv32i2p0_m2p0\"\n-  Tag_RISCV_priv_spec: [0-9_\\\"].*\n-  Tag_RISCV_priv_spec_minor: [0-9_\\\"].*\n-#..."
    },
    {
      "sha": "a7d79a1ea2bf7bf0dd44eb3105228a7e8dcdd555",
      "filename": "ld/testsuite/ld-riscv-elf/attr-merge-arch-02.d",
      "status": "modified",
      "additions": 0,
      "deletions": 3,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/ld/testsuite/ld-riscv-elf/attr-merge-arch-02.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/ld/testsuite/ld-riscv-elf/attr-merge-arch-02.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-riscv-elf/attr-merge-arch-02.d?ref=3fc6c3dc2af2283bd89f1b1278b39922416e8d1b",
      "patch": "@@ -7,6 +7,3 @@\n Attribute Section: riscv\n File Attributes\n   Tag_RISCV_arch: \"rv32i2p0_m2p0\"\n-  Tag_RISCV_priv_spec: [0-9_\\\"].*\n-  Tag_RISCV_priv_spec_minor: [0-9_\\\"].*\n-#..."
    },
    {
      "sha": "d46dee808de3637e268c0014e6b304ee23e8d4a0",
      "filename": "ld/testsuite/ld-riscv-elf/attr-merge-arch-03.d",
      "status": "modified",
      "additions": 0,
      "deletions": 3,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/ld/testsuite/ld-riscv-elf/attr-merge-arch-03.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/ld/testsuite/ld-riscv-elf/attr-merge-arch-03.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-riscv-elf/attr-merge-arch-03.d?ref=3fc6c3dc2af2283bd89f1b1278b39922416e8d1b",
      "patch": "@@ -7,6 +7,3 @@\n Attribute Section: riscv\n File Attributes\n   Tag_RISCV_arch: \"rv32i2p0_m2p0_xbar2p0_xfoo2p0\"\n-  Tag_RISCV_priv_spec: [0-9_\\\"].*\n-  Tag_RISCV_priv_spec_minor: [0-9_\\\"].*\n-#..."
    },
    {
      "sha": "e4d965a3e996613c23224ca1ec94841192578726",
      "filename": "ld/testsuite/ld-riscv-elf/attr-merge-stack-align.d",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/ld/testsuite/ld-riscv-elf/attr-merge-stack-align.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/ld/testsuite/ld-riscv-elf/attr-merge-stack-align.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-riscv-elf/attr-merge-stack-align.d?ref=3fc6c3dc2af2283bd89f1b1278b39922416e8d1b",
      "patch": "@@ -8,6 +8,4 @@ Attribute Section: riscv\n File Attributes\n   Tag_RISCV_stack_align: 16-bytes\n   Tag_RISCV_arch: [a-zA-Z0-9_\\\"].*\n-  Tag_RISCV_priv_spec: [0-9_\\\"].*\n-  Tag_RISCV_priv_spec_minor: [0-9_\\\"].*\n #..."
    },
    {
      "sha": "10399307bbbe8d9a72b28d0fbf018832350ad424",
      "filename": "ld/testsuite/ld-riscv-elf/attr-merge-strict-align-01.d",
      "status": "modified",
      "additions": 0,
      "deletions": 3,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/ld/testsuite/ld-riscv-elf/attr-merge-strict-align-01.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/ld/testsuite/ld-riscv-elf/attr-merge-strict-align-01.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-riscv-elf/attr-merge-strict-align-01.d?ref=3fc6c3dc2af2283bd89f1b1278b39922416e8d1b",
      "patch": "@@ -8,6 +8,3 @@ Attribute Section: riscv\n File Attributes\n   Tag_RISCV_arch: [a-zA-Z0-9_\\\"].*\n   Tag_RISCV_unaligned_access: Unaligned access\n-  Tag_RISCV_priv_spec: [0-9_\\\"].*\n-  Tag_RISCV_priv_spec_minor: [0-9_\\\"].*\n-#..."
    },
    {
      "sha": "12ca1c4dd31a294c96025537b618ddfed16c9e48",
      "filename": "ld/testsuite/ld-riscv-elf/attr-merge-strict-align-02.d",
      "status": "modified",
      "additions": 0,
      "deletions": 3,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/ld/testsuite/ld-riscv-elf/attr-merge-strict-align-02.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/ld/testsuite/ld-riscv-elf/attr-merge-strict-align-02.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-riscv-elf/attr-merge-strict-align-02.d?ref=3fc6c3dc2af2283bd89f1b1278b39922416e8d1b",
      "patch": "@@ -8,6 +8,3 @@ Attribute Section: riscv\n File Attributes\n   Tag_RISCV_arch: [a-zA-Z0-9_\\\"].*\n   Tag_RISCV_unaligned_access: Unaligned access\n-  Tag_RISCV_priv_spec: [0-9_\\\"].*\n-  Tag_RISCV_priv_spec_minor: [0-9_\\\"].*\n-#..."
    },
    {
      "sha": "e41351da0112b5d96e241778006afd3fe449e88b",
      "filename": "ld/testsuite/ld-riscv-elf/attr-merge-strict-align-03.d",
      "status": "modified",
      "additions": 0,
      "deletions": 3,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/ld/testsuite/ld-riscv-elf/attr-merge-strict-align-03.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/ld/testsuite/ld-riscv-elf/attr-merge-strict-align-03.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-riscv-elf/attr-merge-strict-align-03.d?ref=3fc6c3dc2af2283bd89f1b1278b39922416e8d1b",
      "patch": "@@ -8,6 +8,3 @@ Attribute Section: riscv\n File Attributes\n   Tag_RISCV_arch: [a-zA-Z0-9_\\\"].*\n   Tag_RISCV_unaligned_access: Unaligned access\n-  Tag_RISCV_priv_spec: [0-9_\\\"].*\n-  Tag_RISCV_priv_spec_minor: [0-9_\\\"].*\n-#..."
    },
    {
      "sha": "ac2a766cfcaaea2ac0cd56cfa71bd6911e8f5958",
      "filename": "ld/testsuite/ld-riscv-elf/attr-merge-strict-align-04.d",
      "status": "modified",
      "additions": 0,
      "deletions": 3,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/ld/testsuite/ld-riscv-elf/attr-merge-strict-align-04.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/ld/testsuite/ld-riscv-elf/attr-merge-strict-align-04.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-riscv-elf/attr-merge-strict-align-04.d?ref=3fc6c3dc2af2283bd89f1b1278b39922416e8d1b",
      "patch": "@@ -7,6 +7,3 @@\n Attribute Section: riscv\n File Attributes\n   Tag_RISCV_arch: [a-zA-Z0-9_\\\"].*\n-  Tag_RISCV_priv_spec: [0-9_\\\"].*\n-  Tag_RISCV_priv_spec_minor: [0-9_\\\"].*\n-#..."
    },
    {
      "sha": "608c05e8c38b12466eb82a330d054e7bbce45c96",
      "filename": "ld/testsuite/ld-riscv-elf/attr-merge-strict-align-05.d",
      "status": "modified",
      "additions": 0,
      "deletions": 3,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/ld/testsuite/ld-riscv-elf/attr-merge-strict-align-05.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/ld/testsuite/ld-riscv-elf/attr-merge-strict-align-05.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-riscv-elf/attr-merge-strict-align-05.d?ref=3fc6c3dc2af2283bd89f1b1278b39922416e8d1b",
      "patch": "@@ -8,6 +8,3 @@ Attribute Section: riscv\n File Attributes\n   Tag_RISCV_arch: [a-zA-Z0-9_\\\"].*\n   Tag_RISCV_unaligned_access: Unaligned access\n-  Tag_RISCV_priv_spec: [0-9_\\\"].*\n-  Tag_RISCV_priv_spec_minor: [0-9_\\\"].*\n-#..."
    },
    {
      "sha": "597ff67535353415653fa3942459b096298b2163",
      "filename": "ld/testsuite/ld-riscv-elf/call-relax.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/ld/testsuite/ld-riscv-elf/call-relax.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3fc6c3dc2af2283bd89f1b1278b39922416e8d1b/ld/testsuite/ld-riscv-elf/call-relax.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-riscv-elf/call-relax.d?ref=3fc6c3dc2af2283bd89f1b1278b39922416e8d1b",
      "patch": "@@ -3,7 +3,7 @@\n #source: call-relax-1.s\n #source: call-relax-2.s\n #source: call-relax-3.s\n-#as: -march=rv32ic\n+#as: -march=rv32ic -mno-arch-attr\n #ld: -melf32lriscv\n #objdump: -d\n #pass"
    }
  ]
}