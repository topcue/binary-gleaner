{
  "sha": "d3cbca38dfdd29d919a74d72d7c4608864c68f63",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ZDNjYmNhMzhkZmRkMjlkOTE5YTc0ZDcyZDdjNDYwODg2NGM2OGY2Mw==",
  "commit": {
    "author": {
      "name": "Changbin Du",
      "email": "changbin.du@gmail.com",
      "date": "2021-03-25T11:02:23Z"
    },
    "committer": {
      "name": "Andrew Burgess",
      "email": "andrew.burgess@embecosm.com",
      "date": "2021-03-25T11:10:02Z"
    },
    "message": "gdb/riscv: fix creating breakpoints at invalid addresses\n\nTo allow breakpoints to be created at invalid addresses,\ntarget_read_code is used instead of read_code.  This was fixed in\ncommit:\n\n  commit c01660c625766e848195285cc20581b9ed7ecfe2\n  Date:   Wed Apr 17 00:31:43 2019 +0100\n\n      gdb/riscv: Allow breakpoints to be created at invalid addresses\n\nUnfortunately, the call to read_code was left in by mistake.  The\nresult is that GDB will fail when trying to create the breakpoint,\nrather than when trying to install the breakpoint (as is the case with\nother targets).\n\nThis commit fixes this mistake and removes the offending call to\nread_code.\n\ngdb/ChangeLog:\n\n\t* riscv-tdep.c (riscv_breakpoint_kind_from_pc): Remove call to\n\tread_code.",
    "tree": {
      "sha": "e32b5bbb3f66e9ff8ab313d6fcfc8f66900922ba",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/e32b5bbb3f66e9ff8ab313d6fcfc8f66900922ba"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/d3cbca38dfdd29d919a74d72d7c4608864c68f63",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/d3cbca38dfdd29d919a74d72d7c4608864c68f63",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/d3cbca38dfdd29d919a74d72d7c4608864c68f63",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/d3cbca38dfdd29d919a74d72d7c4608864c68f63/comments",
  "author": {
    "login": "changbindu",
    "id": 1779967,
    "node_id": "MDQ6VXNlcjE3Nzk5Njc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1779967?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/changbindu",
    "html_url": "https://github.com/changbindu",
    "followers_url": "https://api.github.com/users/changbindu/followers",
    "following_url": "https://api.github.com/users/changbindu/following{/other_user}",
    "gists_url": "https://api.github.com/users/changbindu/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/changbindu/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/changbindu/subscriptions",
    "organizations_url": "https://api.github.com/users/changbindu/orgs",
    "repos_url": "https://api.github.com/users/changbindu/repos",
    "events_url": "https://api.github.com/users/changbindu/events{/privacy}",
    "received_events_url": "https://api.github.com/users/changbindu/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "T-J-Teru",
    "id": 475372,
    "node_id": "MDQ6VXNlcjQ3NTM3Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/475372?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/T-J-Teru",
    "html_url": "https://github.com/T-J-Teru",
    "followers_url": "https://api.github.com/users/T-J-Teru/followers",
    "following_url": "https://api.github.com/users/T-J-Teru/following{/other_user}",
    "gists_url": "https://api.github.com/users/T-J-Teru/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/T-J-Teru/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/T-J-Teru/subscriptions",
    "organizations_url": "https://api.github.com/users/T-J-Teru/orgs",
    "repos_url": "https://api.github.com/users/T-J-Teru/repos",
    "events_url": "https://api.github.com/users/T-J-Teru/events{/privacy}",
    "received_events_url": "https://api.github.com/users/T-J-Teru/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "efa30ac3c504d24c55733a627abe49bd0368cf67",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/efa30ac3c504d24c55733a627abe49bd0368cf67",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/efa30ac3c504d24c55733a627abe49bd0368cf67"
    }
  ],
  "stats": {
    "total": 6,
    "additions": 5,
    "deletions": 1
  },
  "files": [
    {
      "sha": "0de5a9d1597f5d6eea26cd677bc749bd91a75db0",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/d3cbca38dfdd29d919a74d72d7c4608864c68f63/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/d3cbca38dfdd29d919a74d72d7c4608864c68f63/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=d3cbca38dfdd29d919a74d72d7c4608864c68f63",
      "patch": "@@ -1,3 +1,8 @@\n+2021-03-24  Changbin Du  <changbin.du@gmail.com>\n+\n+\t* riscv-tdep.c (riscv_breakpoint_kind_from_pc): Remove call to\n+\tread_code.\n+\n 2021-03-24  Simon Marchi  <simon.marchi@polymtl.ca>\n \n \t* target.h (current_top_target): Remove, make callers use the"
    },
    {
      "sha": "c17839968465e4fd8b4a0bb8a6f7b6e0bc7aac14",
      "filename": "gdb/riscv-tdep.c",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/d3cbca38dfdd29d919a74d72d7c4608864c68f63/gdb/riscv-tdep.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/d3cbca38dfdd29d919a74d72d7c4608864c68f63/gdb/riscv-tdep.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/riscv-tdep.c?ref=d3cbca38dfdd29d919a74d72d7c4608864c68f63",
      "patch": "@@ -706,7 +706,6 @@ riscv_breakpoint_kind_from_pc (struct gdbarch *gdbarch, CORE_ADDR *pcptr)\n \t     user.  */\n \t  if (target_read_code (*pcptr, buf, 1) == -1)\n \t    buf[0] = 0;\n-\t  read_code (*pcptr, buf, 1);\n \t}\n \n       if (riscv_debug_breakpoints)"
    }
  ]
}