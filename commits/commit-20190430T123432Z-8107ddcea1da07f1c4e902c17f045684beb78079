{
  "sha": "8107ddcea1da07f1c4e902c17f045684beb78079",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ODEwN2RkY2VhMWRhMDdmMWM0ZTkwMmMxN2YwNDU2ODRiZWI3ODA3OQ==",
  "commit": {
    "author": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2019-04-28T23:47:05Z"
    },
    "committer": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2019-04-30T12:34:32Z"
    },
    "message": "Work around gcc9 warning bug\n\n\t* wrstabs.c (stab_start_class_type): Add assert to work around\n\tgcc9 warning.  Tidy.",
    "tree": {
      "sha": "0af9356c84cbd77dc78706b422a11ff51a8da3d8",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/0af9356c84cbd77dc78706b422a11ff51a8da3d8"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/8107ddcea1da07f1c4e902c17f045684beb78079",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/8107ddcea1da07f1c4e902c17f045684beb78079",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/8107ddcea1da07f1c4e902c17f045684beb78079",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/8107ddcea1da07f1c4e902c17f045684beb78079/comments",
  "author": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "06ddcada14d90c4da28f9585801aaae48304d8ea",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/06ddcada14d90c4da28f9585801aaae48304d8ea",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/06ddcada14d90c4da28f9585801aaae48304d8ea"
    }
  ],
  "stats": {
    "total": 27,
    "additions": 14,
    "deletions": 13
  },
  "files": [
    {
      "sha": "364fddb2399090039e0ec089a6cc3793208e697d",
      "filename": "binutils/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8107ddcea1da07f1c4e902c17f045684beb78079/binutils/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8107ddcea1da07f1c4e902c17f045684beb78079/binutils/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/ChangeLog?ref=8107ddcea1da07f1c4e902c17f045684beb78079",
      "patch": "@@ -1,3 +1,8 @@\n+2019-04-30  Alan Modra  <amodra@gmail.com>\n+\n+\t* wrstabs.c (stab_start_class_type): Add assert to work around\n+\tgcc9 warning.  Tidy.\n+\n 2019-04-24  Nick Clifton  <nickc@redhat.com>\n \n \t* objcopy.c (strip_main): Do not enable note merging by default if"
    },
    {
      "sha": "3e941dcefd5816fa3a54ce9fe4fb8544b06d0a6a",
      "filename": "binutils/wrstabs.c",
      "status": "modified",
      "additions": 9,
      "deletions": 13,
      "changes": 22,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8107ddcea1da07f1c4e902c17f045684beb78079/binutils/wrstabs.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8107ddcea1da07f1c4e902c17f045684beb78079/binutils/wrstabs.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/wrstabs.c?ref=8107ddcea1da07f1c4e902c17f045684beb78079",
      "patch": "@@ -1440,18 +1440,15 @@ stab_end_struct_type (void *p)\n /* Start outputting a class.  */\n \n static bfd_boolean\n-stab_start_class_type (void *p, const char *tag, unsigned int id, bfd_boolean structp, unsigned int size, bfd_boolean vptr, bfd_boolean ownvptr)\n+stab_start_class_type (void *p, const char *tag, unsigned int id,\n+\t\t       bfd_boolean structp, unsigned int size,\n+\t\t       bfd_boolean vptr, bfd_boolean ownvptr)\n {\n   struct stab_write_handle *info = (struct stab_write_handle *) p;\n-  bfd_boolean definition;\n-  char *vstring;\n+  bfd_boolean definition = FALSE;\n+  char *vstring = NULL;\n \n-  if (! vptr || ownvptr)\n-    {\n-      definition = FALSE;\n-      vstring = NULL;\n-    }\n-  else\n+  if (vptr && !ownvptr)\n     {\n       definition = info->type_stack->definition;\n       vstring = stab_pop_type (info);\n@@ -1472,17 +1469,16 @@ stab_start_class_type (void *p, const char *tag, unsigned int id, bfd_boolean st\n \t}\n       else\n \t{\n+\t  assert (vstring);\n \t  vtable = (char *) xmalloc (strlen (vstring) + 3);\n \t  sprintf (vtable, \"~%%%s\", vstring);\n \t  free (vstring);\n+\t  if (definition)\n+\t    info->type_stack->definition = TRUE;\n \t}\n-\n       info->type_stack->vtable = vtable;\n     }\n \n-  if (definition)\n-    info->type_stack->definition = TRUE;\n-\n   return TRUE;\n }\n "
    }
  ]
}