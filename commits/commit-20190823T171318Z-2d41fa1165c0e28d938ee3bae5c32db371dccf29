{
  "sha": "2d41fa1165c0e28d938ee3bae5c32db371dccf29",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MmQ0MWZhMTE2NWMwZTI4ZDkzOGVlM2JhZTVjMzJkYjM3MWRjY2YyOQ==",
  "commit": {
    "author": {
      "name": "Sergio Durigan Junior",
      "email": "sergiodj@redhat.com",
      "date": "2019-08-21T20:22:45Z"
    },
    "committer": {
      "name": "Sergio Durigan Junior",
      "email": "sergiodj@redhat.com",
      "date": "2019-08-23T17:13:18Z"
    },
    "message": "Move gdb-dlfcn.[ch] to gdbsupport/\n\nI need to use 'gdb_dlopen' inside 'gdbsupport/', but it's not yet\nsupported there.  This commit moves 'gdb-dlfcn.[ch]' to 'gdbsupport/',\nwhich makes it available also on gdbserver.\n\ngdb/ChangeLog:\n2019-08-23  Sergio Durigan Junior  <sergiodj@redhat.com>\n\n\t* configure.ac: Don't check for 'dlfcn.h' (moved to\n\tgdbsupport/common.m4).\n\t* Makefile.in (COMMON_SFILES): Move 'gdb-dlfcn.c' to\n\t'gdbsupport/'.\n\t(HFILES_NO_SRCDIR): Likewise, for 'gdb-dlfcn.h'.\n\t* compile/compile-c-support.c: Include\n\t'gdbsupport/gdb-dlfcn.h'.\n\t* gdbsupport/common.m4: Check for 'dlfcn.h'.\n\t* gdb-dlfcn.c: Move to...\n\t* gdbsupport/gdb-dlfcn.c: ... here.\n\t* gdb-dlfcn.h: Move to...\n\t* gdbsupport/gdb-dlfcn.h: ... here.\n\ngdb/gdbserver/ChangeLog:\n2019-08-23  Sergio Durigan Junior  <sergiodj@redhat.com>\n\n\t* Makefile.in (SFILES): Add 'gdbsupport/gdb-dlfcn.c'.\n\t(OBS): Add 'gdbsupport/gdb-dlfcn.o'.\n\t* config.in: Regenerate.\n\t* configure: Regenerate.",
    "tree": {
      "sha": "f712ad14b44c800d0de74b8da60c0c888fb23db5",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/f712ad14b44c800d0de74b8da60c0c888fb23db5"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/2d41fa1165c0e28d938ee3bae5c32db371dccf29",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/2d41fa1165c0e28d938ee3bae5c32db371dccf29",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/2d41fa1165c0e28d938ee3bae5c32db371dccf29",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/2d41fa1165c0e28d938ee3bae5c32db371dccf29/comments",
  "author": null,
  "committer": null,
  "parents": [
    {
      "sha": "de8af80891ff0eee61cd219b316e176e9ae88e91",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/de8af80891ff0eee61cd219b316e176e9ae88e91",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/de8af80891ff0eee61cd219b316e176e9ae88e91"
    }
  ],
  "stats": {
    "total": 50,
    "additions": 38,
    "deletions": 12
  },
  "files": [
    {
      "sha": "1d8524978949c575dbf356282f8461379bfd3d57",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 15,
      "deletions": 0,
      "changes": 15,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2d41fa1165c0e28d938ee3bae5c32db371dccf29/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2d41fa1165c0e28d938ee3bae5c32db371dccf29/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=2d41fa1165c0e28d938ee3bae5c32db371dccf29",
      "patch": "@@ -1,3 +1,18 @@\n+2019-08-23  Sergio Durigan Junior  <sergiodj@redhat.com>\n+\n+\t* configure.ac: Don't check for 'dlfcn.h' (moved to\n+\tgdbsupport/common.m4).\n+\t* Makefile.in (COMMON_SFILES): Move 'gdb-dlfcn.c' to\n+\t'gdbsupport/'.\n+\t(HFILES_NO_SRCDIR): Likewise, for 'gdb-dlfcn.h'.\n+\t* compile/compile-c-support.c: Include\n+\t'gdbsupport/gdb-dlfcn.h'.\n+\t* gdbsupport/common.m4: Check for 'dlfcn.h'.\n+\t* gdb-dlfcn.c: Move to...\n+\t* gdbsupport/gdb-dlfcn.c: ... here.\n+\t* gdb-dlfcn.h: Move to...\n+\t* gdbsupport/gdb-dlfcn.h: ... here.\n+\n 2019-08-23  Sandra Loosemore  <sandra@codesourcery.com>\n \n \t* nios2-tdep.c (struct reg_value): Improve comments.  Make"
    },
    {
      "sha": "e7e26a44a0cb951c1cf16fd99743795e6f4874e8",
      "filename": "gdb/Makefile.in",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2d41fa1165c0e28d938ee3bae5c32db371dccf29/gdb/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2d41fa1165c0e28d938ee3bae5c32db371dccf29/gdb/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/Makefile.in?ref=2d41fa1165c0e28d938ee3bae5c32db371dccf29",
      "patch": "@@ -964,6 +964,7 @@ COMMON_SFILES = \\\n \tgdbsupport/filestuff.c \\\n \tgdbsupport/format.c \\\n \tgdbsupport/job-control.c \\\n+\tgdbsupport/gdb-dlfcn.c \\\n \tgdbsupport/gdb_tilde_expand.c \\\n \tgdbsupport/gdb_vecs.c \\\n \tgdbsupport/netstuff.c \\\n@@ -1028,7 +1029,6 @@ COMMON_SFILES = \\\n \tframe-unwind.c \\\n \tgcore.c \\\n \tgdb_bfd.c \\\n-\tgdb-dlfcn.c \\\n \tgdb_obstack.c \\\n \tgdb_regex.c \\\n \tgdb_usleep.c \\\n@@ -1262,7 +1262,6 @@ HFILES_NO_SRCDIR = \\\n \tgcore.h \\\n \tgdb_bfd.h \\\n \tgdb_curses.h \\\n-\tgdb-dlfcn.h \\\n \tgdb_expat.h \\\n \tgdb_obstack.h \\\n \tgdb_proc_service.h \\\n@@ -1460,6 +1459,7 @@ HFILES_NO_SRCDIR = \\\n \tgdbsupport/environ.h \\\n \tgdbsupport/fileio.h \\\n \tgdbsupport/format.h \\\n+\tgdbsupport/gdb-dlfcn.h \\\n \tgdbsupport/gdb_assert.h \\\n \tgdbsupport/gdb_tilde_expand.h \\\n \tgdbsupport/gdb_locale.h \\"
    },
    {
      "sha": "9de827a72c1979afb8fa0b806a1e5dd42a909561",
      "filename": "gdb/compile/compile-c-support.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2d41fa1165c0e28d938ee3bae5c32db371dccf29/gdb/compile/compile-c-support.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2d41fa1165c0e28d938ee3bae5c32db371dccf29/gdb/compile/compile-c-support.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/compile/compile-c-support.c?ref=2d41fa1165c0e28d938ee3bae5c32db371dccf29",
      "patch": "@@ -22,12 +22,12 @@\n #include \"compile-c.h\"\n #include \"compile-cplus.h\"\n #include \"compile.h\"\n-#include \"gdb-dlfcn.h\"\n #include \"c-lang.h\"\n #include \"macrotab.h\"\n #include \"macroscope.h\"\n #include \"regcache.h\"\n #include \"gdbsupport/function-view.h\"\n+#include \"gdbsupport/gdb-dlfcn.h\"\n #include \"gdbsupport/preprocessor.h\"\n #include \"gdbarch.h\"\n "
    },
    {
      "sha": "22a5f6051d47ba83d192fcc5c2644baf318cbb91",
      "filename": "gdb/configure",
      "status": "modified",
      "additions": 2,
      "deletions": 3,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2d41fa1165c0e28d938ee3bae5c32db371dccf29/gdb/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2d41fa1165c0e28d938ee3bae5c32db371dccf29/gdb/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/configure?ref=2d41fa1165c0e28d938ee3bae5c32db371dccf29",
      "patch": "@@ -12024,8 +12024,7 @@ for ac_header in nlist.h machine/reg.h poll.h sys/poll.h proc_service.h \\\n \t\t  sys/file.h sys/filio.h sys/ioctl.h sys/param.h \\\n \t\t  sys/resource.h sys/procfs.h sys/ptrace.h ptrace.h \\\n \t\t  sys/reg.h sys/debugreg.h sys/select.h \\\n-\t\t  termios.h elf_hp.h \\\n-\t\t  dlfcn.h\n+\t\t  termios.h elf_hp.h\n do :\n   as_ac_Header=`$as_echo \"ac_cv_header_$ac_header\" | $as_tr_sh`\n ac_fn_c_check_header_mongrel \"$LINENO\" \"$ac_header\" \"$as_ac_Header\" \"$ac_includes_default\"\n@@ -13516,7 +13515,7 @@ $as_echo \"#define HAVE_LANGINFO_CODESET 1\" >>confdefs.h\n   fi\n \n \n-  for ac_header in linux/perf_event.h locale.h memory.h signal.h \t\t   sys/resource.h sys/socket.h \t\t   sys/un.h sys/wait.h \t\t   thread_db.h wait.h \t\t   termios.h\n+  for ac_header in linux/perf_event.h locale.h memory.h signal.h \t\t   sys/resource.h sys/socket.h \t\t   sys/un.h sys/wait.h \t\t   thread_db.h wait.h \t\t   termios.h \t\t   dlfcn.h\n do :\n   as_ac_Header=`$as_echo \"ac_cv_header_$ac_header\" | $as_tr_sh`\n ac_fn_c_check_header_mongrel \"$LINENO\" \"$ac_header\" \"$as_ac_Header\" \"$ac_includes_default\""
    },
    {
      "sha": "9da8818fb5ce9513c31ed8e6cb6afdc9620448f8",
      "filename": "gdb/configure.ac",
      "status": "modified",
      "additions": 1,
      "deletions": 2,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2d41fa1165c0e28d938ee3bae5c32db371dccf29/gdb/configure.ac",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2d41fa1165c0e28d938ee3bae5c32db371dccf29/gdb/configure.ac",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/configure.ac?ref=2d41fa1165c0e28d938ee3bae5c32db371dccf29",
      "patch": "@@ -1308,8 +1308,7 @@ AC_CHECK_HEADERS([nlist.h machine/reg.h poll.h sys/poll.h proc_service.h \\\n \t\t  sys/file.h sys/filio.h sys/ioctl.h sys/param.h \\\n \t\t  sys/resource.h sys/procfs.h sys/ptrace.h ptrace.h \\\n \t\t  sys/reg.h sys/debugreg.h sys/select.h \\\n-\t\t  termios.h elf_hp.h \\\n-\t\t  dlfcn.h])\n+\t\t  termios.h elf_hp.h])\n AC_CHECK_HEADERS(sys/user.h, [], [],\n [#if HAVE_SYS_PARAM_H\n # include <sys/param.h>"
    },
    {
      "sha": "faafdfd967077365997081dc097f784cbdbe2438",
      "filename": "gdb/gdbserver/ChangeLog",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2d41fa1165c0e28d938ee3bae5c32db371dccf29/gdb/gdbserver/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2d41fa1165c0e28d938ee3bae5c32db371dccf29/gdb/gdbserver/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/gdbserver/ChangeLog?ref=2d41fa1165c0e28d938ee3bae5c32db371dccf29",
      "patch": "@@ -1,3 +1,10 @@\n+2019-08-23  Sergio Durigan Junior  <sergiodj@redhat.com>\n+\n+\t* Makefile.in (SFILES): Add 'gdbsupport/gdb-dlfcn.c'.\n+\t(OBS): Add 'gdbsupport/gdb-dlfcn.o'.\n+\t* config.in: Regenerate.\n+\t* configure: Regenerate.\n+\n 2019-08-15  Tom Tromey  <tromey@adacore.com>\n \n \t* target.c (target_write_memory): Use gdb::byte_vector."
    },
    {
      "sha": "ca0a4cbd10f5f3c465774474f9f28a7774e32ab8",
      "filename": "gdb/gdbserver/Makefile.in",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2d41fa1165c0e28d938ee3bae5c32db371dccf29/gdb/gdbserver/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2d41fa1165c0e28d938ee3bae5c32db371dccf29/gdb/gdbserver/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/gdbserver/Makefile.in?ref=2d41fa1165c0e28d938ee3bae5c32db371dccf29",
      "patch": "@@ -210,6 +210,7 @@ SFILES = \\\n \t$(srcdir)/gdbsupport/fileio.c \\\n \t$(srcdir)/gdbsupport/filestuff.c \\\n \t$(srcdir)/gdbsupport/job-control.c \\\n+\t$(srcdir)/gdbsupport/gdb-dlfcn.c \\\n \t$(srcdir)/gdbsupport/gdb_tilde_expand.c \\\n \t$(srcdir)/gdbsupport/gdb_vecs.c \\\n \t$(srcdir)/gdbsupport/netstuff.c \\\n@@ -255,6 +256,7 @@ OBS = \\\n \tgdbsupport/fileio.o \\\n \tgdbsupport/filestuff.o \\\n \tgdbsupport/format.o \\\n+\tgdbsupport/gdb-dlfcn.o \\\n \tgdbsupport/gdb_tilde_expand.o \\\n \tgdbsupport/gdb_vecs.o \\\n \tgdbsupport/netstuff.o \\"
    },
    {
      "sha": "f05e9be48ad7254a4964ab424616eacc65857ee6",
      "filename": "gdb/gdbserver/config.in",
      "status": "modified",
      "additions": 3,
      "deletions": 0,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2d41fa1165c0e28d938ee3bae5c32db371dccf29/gdb/gdbserver/config.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2d41fa1165c0e28d938ee3bae5c32db371dccf29/gdb/gdbserver/config.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/gdbserver/config.in?ref=2d41fa1165c0e28d938ee3bae5c32db371dccf29",
      "patch": "@@ -90,6 +90,9 @@\n /* Define to 1 if you have the `dladdr' function. */\n #undef HAVE_DLADDR\n \n+/* Define to 1 if you have the <dlfcn.h> header file. */\n+#undef HAVE_DLFCN_H\n+\n /* Define to 1 if the system has the type `Elf32_auxv_t'. */\n #undef HAVE_ELF32_AUXV_T\n "
    },
    {
      "sha": "692cb0f30828916589db3171b0d7f3e4fb8f227d",
      "filename": "gdb/gdbserver/configure",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2d41fa1165c0e28d938ee3bae5c32db371dccf29/gdb/gdbserver/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2d41fa1165c0e28d938ee3bae5c32db371dccf29/gdb/gdbserver/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/gdbserver/configure?ref=2d41fa1165c0e28d938ee3bae5c32db371dccf29",
      "patch": "@@ -6807,7 +6807,7 @@ $as_echo \"#define HAVE_LANGINFO_CODESET 1\" >>confdefs.h\n   fi\n \n \n-  for ac_header in linux/perf_event.h locale.h memory.h signal.h \t\t   sys/resource.h sys/socket.h \t\t   sys/un.h sys/wait.h \t\t   thread_db.h wait.h \t\t   termios.h\n+  for ac_header in linux/perf_event.h locale.h memory.h signal.h \t\t   sys/resource.h sys/socket.h \t\t   sys/un.h sys/wait.h \t\t   thread_db.h wait.h \t\t   termios.h \t\t   dlfcn.h\n do :\n   as_ac_Header=`$as_echo \"ac_cv_header_$ac_header\" | $as_tr_sh`\n ac_fn_c_check_header_mongrel \"$LINENO\" \"$ac_header\" \"$as_ac_Header\" \"$ac_includes_default\""
    },
    {
      "sha": "903889463f10115e338bf8b18976d9d817b19ddc",
      "filename": "gdb/gdbsupport/common.m4",
      "status": "modified",
      "additions": 2,
      "deletions": 1,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2d41fa1165c0e28d938ee3bae5c32db371dccf29/gdb/gdbsupport/common.m4",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2d41fa1165c0e28d938ee3bae5c32db371dccf29/gdb/gdbsupport/common.m4",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/gdbsupport/common.m4?ref=2d41fa1165c0e28d938ee3bae5c32db371dccf29",
      "patch": "@@ -29,7 +29,8 @@ AC_DEFUN([GDB_AC_COMMON], [\n \t\t   sys/resource.h sys/socket.h dnl\n \t\t   sys/un.h sys/wait.h dnl\n \t\t   thread_db.h wait.h dnl\n-\t\t   termios.h)\n+\t\t   termios.h dnl\n+\t\t   dlfcn.h)\n \n   AC_CHECK_FUNCS([fdwalk getrlimit pipe pipe2 socketpair sigaction])\n "
    },
    {
      "sha": "921f10f3d81ed15e5d23e8faed06f3407cf42efd",
      "filename": "gdb/gdbsupport/gdb-dlfcn.c",
      "status": "renamed",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2d41fa1165c0e28d938ee3bae5c32db371dccf29/gdb/gdbsupport/gdb-dlfcn.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2d41fa1165c0e28d938ee3bae5c32db371dccf29/gdb/gdbsupport/gdb-dlfcn.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/gdbsupport/gdb-dlfcn.c?ref=2d41fa1165c0e28d938ee3bae5c32db371dccf29",
      "patch": "@@ -17,7 +17,7 @@\n    You should have received a copy of the GNU General Public License\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.  */\n \n-#include \"defs.h\"\n+#include \"common-defs.h\"\n #include \"gdb-dlfcn.h\"\n \n #ifdef HAVE_DLFCN_H",
      "previous_filename": "gdb/gdb-dlfcn.c"
    },
    {
      "sha": "6a39d38941acf63a0b0802f72e8b085642408f5f",
      "filename": "gdb/gdbsupport/gdb-dlfcn.h",
      "status": "renamed",
      "additions": 0,
      "deletions": 0,
      "changes": 0,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2d41fa1165c0e28d938ee3bae5c32db371dccf29/gdb/gdbsupport/gdb-dlfcn.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2d41fa1165c0e28d938ee3bae5c32db371dccf29/gdb/gdbsupport/gdb-dlfcn.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/gdbsupport/gdb-dlfcn.h?ref=2d41fa1165c0e28d938ee3bae5c32db371dccf29",
      "previous_filename": "gdb/gdb-dlfcn.h"
    },
    {
      "sha": "5fef03700c1fbe689c98091e1f4e16d2035e9bab",
      "filename": "gdb/jit.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2d41fa1165c0e28d938ee3bae5c32db371dccf29/gdb/jit.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2d41fa1165c0e28d938ee3bae5c32db371dccf29/gdb/jit.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/jit.c?ref=2d41fa1165c0e28d938ee3bae5c32db371dccf29",
      "patch": "@@ -36,7 +36,7 @@\n #include \"symfile.h\"\n #include \"symtab.h\"\n #include \"target.h\"\n-#include \"gdb-dlfcn.h\"\n+#include \"gdbsupport/gdb-dlfcn.h\"\n #include <sys/stat.h>\n #include \"gdb_bfd.h\"\n #include \"readline/tilde.h\""
    }
  ]
}