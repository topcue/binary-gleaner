{
  "sha": "c2015ce4a4019ab9b026f13c33a7f55e8e0d77a0",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YzIwMTVjZTRhNDAxOWFiOWIwMjZmMTNjMzNhN2Y1NWU4ZTBkNzdhMA==",
  "commit": {
    "author": {
      "name": "Andrew Burgess",
      "email": "andrew.burgess@embecosm.com",
      "date": "2020-08-26T13:05:45Z"
    },
    "committer": {
      "name": "Andrew Burgess",
      "email": "andrew.burgess@embecosm.com",
      "date": "2020-08-27T15:32:40Z"
    },
    "message": "gdb/testsuite: make test names unique in gdb.arch/*.exp\n\nMake the test names unique in gdb.arch/*.exp by either modifying the\ntest names or using with_test_prefix.\n\nI have also fixed a typo 'forth' -> 'fourth' throughout gdb.arch/*.\n\nFinally, I replaced code like this:\n\n  gdb_test \"break [gdb_get_line_number \"first breakpoint here\"]\" \\\n           \"Breakpoint .* at .*${srcfile}.*\" \\\n           \"set first breakpoint in main\"\n\nWith this:\n\n  gdb_breakpoint [gdb_get_line_number \"first breakpoint here\"]\n\nIn those files that I was already modifying for the other reasons\ngiven above.\n\ngdb/testsuite/ChangeLog:\n\n\t* gdb.arch/amd64-byte.exp: Make test names unique, use\n\tgdb_breakpoint, and fix typo 'forth' -> 'fourth'.\n\t* gdb.arch/amd64-dword.exp: Likewise.\n\t* gdb.arch/amd64-pseudo.c: Fix typo 'forth' -> 'fourth'.\n\t* gdb.arch/amd64-stap-special-operands.exp: Make test names\n\tunique.\n\t* gdb.arch/amd64-tailcall-ret.exp: Likewise.\n\t* gdb.arch/amd64-word.exp: Make test names unique, use\n\tgdb_breakpoint, and fix typo 'forth' -> 'fourth'.\n\t* gdb.arch/i386-byte.exp: Make test names unique, use\n\tgdb_breakpoint.\n\t* gdb.arch/i386-word.exp: Likewise.",
    "tree": {
      "sha": "47a3c633c37f32a59584395d72e8713e3c534cf2",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/47a3c633c37f32a59584395d72e8713e3c534cf2"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/c2015ce4a4019ab9b026f13c33a7f55e8e0d77a0",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/c2015ce4a4019ab9b026f13c33a7f55e8e0d77a0",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/c2015ce4a4019ab9b026f13c33a7f55e8e0d77a0",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/c2015ce4a4019ab9b026f13c33a7f55e8e0d77a0/comments",
  "author": {
    "login": "T-J-Teru",
    "id": 475372,
    "node_id": "MDQ6VXNlcjQ3NTM3Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/475372?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/T-J-Teru",
    "html_url": "https://github.com/T-J-Teru",
    "followers_url": "https://api.github.com/users/T-J-Teru/followers",
    "following_url": "https://api.github.com/users/T-J-Teru/following{/other_user}",
    "gists_url": "https://api.github.com/users/T-J-Teru/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/T-J-Teru/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/T-J-Teru/subscriptions",
    "organizations_url": "https://api.github.com/users/T-J-Teru/orgs",
    "repos_url": "https://api.github.com/users/T-J-Teru/repos",
    "events_url": "https://api.github.com/users/T-J-Teru/events{/privacy}",
    "received_events_url": "https://api.github.com/users/T-J-Teru/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "T-J-Teru",
    "id": 475372,
    "node_id": "MDQ6VXNlcjQ3NTM3Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/475372?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/T-J-Teru",
    "html_url": "https://github.com/T-J-Teru",
    "followers_url": "https://api.github.com/users/T-J-Teru/followers",
    "following_url": "https://api.github.com/users/T-J-Teru/following{/other_user}",
    "gists_url": "https://api.github.com/users/T-J-Teru/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/T-J-Teru/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/T-J-Teru/subscriptions",
    "organizations_url": "https://api.github.com/users/T-J-Teru/orgs",
    "repos_url": "https://api.github.com/users/T-J-Teru/repos",
    "events_url": "https://api.github.com/users/T-J-Teru/events{/privacy}",
    "received_events_url": "https://api.github.com/users/T-J-Teru/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "9e7ed8b080afa19fff25244913594f95af282657",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/9e7ed8b080afa19fff25244913594f95af282657",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/9e7ed8b080afa19fff25244913594f95af282657"
    }
  ],
  "stats": {
    "total": 389,
    "additions": 203,
    "deletions": 186
  },
  "files": [
    {
      "sha": "8da561ea65000e85ba797ee8dd8e69f8e1a3de3e",
      "filename": "gdb/testsuite/ChangeLog",
      "status": "modified",
      "additions": 15,
      "deletions": 0,
      "changes": 15,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c2015ce4a4019ab9b026f13c33a7f55e8e0d77a0/gdb/testsuite/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c2015ce4a4019ab9b026f13c33a7f55e8e0d77a0/gdb/testsuite/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/ChangeLog?ref=c2015ce4a4019ab9b026f13c33a7f55e8e0d77a0",
      "patch": "@@ -1,3 +1,18 @@\n+2020-08-27  Andrew Burgess  <andrew.burgess@embecosm.com>\n+\n+\t* gdb.arch/amd64-byte.exp: Make test names unique, use\n+\tgdb_breakpoint, and fix typo 'forth' -> 'fourth'.\n+\t* gdb.arch/amd64-dword.exp: Likewise.\n+\t* gdb.arch/amd64-pseudo.c: Fix typo 'forth' -> 'fourth'.\n+\t* gdb.arch/amd64-stap-special-operands.exp: Make test names\n+\tunique.\n+\t* gdb.arch/amd64-tailcall-ret.exp: Likewise.\n+\t* gdb.arch/amd64-word.exp: Make test names unique, use\n+\tgdb_breakpoint, and fix typo 'forth' -> 'fourth'.\n+\t* gdb.arch/i386-byte.exp: Make test names unique, use\n+\tgdb_breakpoint.\n+\t* gdb.arch/i386-word.exp: Likewise.\n+\n 2020-08-25  Shahab Vahedi  <shahab@synopsys.com>\n \n \t* gdb.arch/arc-tdesc-cpu.xml: Use new feature names."
    },
    {
      "sha": "19cf5ff1a89c40184e33ea70db989e7ebf5c2624",
      "filename": "gdb/testsuite/gdb.arch/amd64-byte.exp",
      "status": "modified",
      "additions": 56,
      "deletions": 56,
      "changes": 112,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c2015ce4a4019ab9b026f13c33a7f55e8e0d77a0/gdb/testsuite/gdb.arch/amd64-byte.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c2015ce4a4019ab9b026f13c33a7f55e8e0d77a0/gdb/testsuite/gdb.arch/amd64-byte.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.arch/amd64-byte.exp?ref=c2015ce4a4019ab9b026f13c33a7f55e8e0d77a0",
      "patch": "@@ -61,73 +61,73 @@ set byte_regs(16) bh\n set byte_regs(17) ch\n set byte_regs(18) dh\n \n-gdb_test \"break [gdb_get_line_number \"first breakpoint here\"]\" \\\n-         \"Breakpoint .* at .*${srcfile}.*\" \\\n-         \"set first breakpoint in main\"\n+gdb_breakpoint [gdb_get_line_number \"first breakpoint here\"]\n gdb_continue_to_breakpoint \"continue to first breakpoint in main\"\n \n-for { set r 1 } { $r <= 6  } { incr r } {\n-    gdb_test \"print/x \\$$byte_regs($r)\" \\\n-        \".. = 0x[format %x $r]1\" \\\n-        \"check contents of %$byte_regs($r)\"\n+with_test_prefix \"at first bp\" {\n+    for { set r 1 } { $r <= 6  } { incr r } {\n+\tgdb_test \"print/x \\$$byte_regs($r)\" \\\n+\t    \".. = 0x[format %x $r]1\" \\\n+\t    \"check contents of %$byte_regs($r)\"\n+    }\n+\n+    for { set r 1 } { $r <= 4  } { incr r } {\n+\tset h [expr $r + 14]\n+\tgdb_test \"print/x \\$$byte_regs($h)\" \\\n+\t    \".. = 0x[format %x $r]2\" \\\n+\t    \"check contents of %$byte_regs($h)\"\n+    }\n }\n \n-for { set r 1 } { $r <= 4  } { incr r } {\n-    set h [expr $r + 14]\n-    gdb_test \"print/x \\$$byte_regs($h)\" \\\n-        \".. = 0x[format %x $r]2\" \\\n-        \"check contents of %$byte_regs($h)\"\n-}\n-\n-gdb_test \"break [gdb_get_line_number \"second breakpoint here\"]\" \\\n-         \"Breakpoint .* at .*${srcfile}.*\" \\\n-         \"set second breakpoint in main\"\n+gdb_breakpoint [gdb_get_line_number \"second breakpoint here\"]\n gdb_continue_to_breakpoint \"continue to second breakpoint in main\"\n \n-for { set r 7 } { $r <= 14  } { incr r } {\n-    gdb_test \"print/x \\$$byte_regs($r)\" \\\n-        \".. = 0x[format %x $r]1\" \\\n-        \"check contents of %$byte_regs($r)\"\n-}\n-\n-for { set r 1 } { $r <= 6  } { incr r } {\n-  gdb_test \"set var \\$$byte_regs($r) = $r\" \"\" \"set %$byte_regs($r)\"\n-}\n-\n-for { set r 1 } { $r <= 4  } { incr r } {\n-  set h [expr $r + 14]\n-  gdb_test \"set var \\$$byte_regs($h) = $h\" \"\" \"set %$byte_regs($h)\"\n+with_test_prefix \"at second bp\" {\n+    for { set r 7 } { $r <= 14  } { incr r } {\n+\tgdb_test \"print/x \\$$byte_regs($r)\" \\\n+\t    \".. = 0x[format %x $r]1\" \\\n+\t    \"check contents of %$byte_regs($r)\"\n+    }\n+\n+    for { set r 1 } { $r <= 6  } { incr r } {\n+\tgdb_test \"set var \\$$byte_regs($r) = $r\" \"\" \"set %$byte_regs($r)\"\n+    }\n+\n+    for { set r 1 } { $r <= 4  } { incr r } {\n+\tset h [expr $r + 14]\n+\tgdb_test \"set var \\$$byte_regs($h) = $h\" \"\" \"set %$byte_regs($h)\"\n+    }\n }\n \n-gdb_test \"break [gdb_get_line_number \"third breakpoint here\"]\" \\\n-         \"Breakpoint .* at .*${srcfile}.*\" \\\n-         \"set third breakpoint in main\"\n+gdb_breakpoint [gdb_get_line_number \"third breakpoint here\"]\n gdb_continue_to_breakpoint \"continue to third breakpoint in main\"\n \n-for { set r 1 } { $r <= 6  } { incr r } {\n-    gdb_test \"print \\$$byte_regs($r)\" \\\n-        \".. = $r\" \\\n-        \"check contents of %$byte_regs($r)\"\n-}\n-\n-for { set r 1 } { $r <= 4  } { incr r } {\n-    set h [expr $r + 14]\n-    gdb_test \"print \\$$byte_regs($h)\" \\\n-        \".. = $h\" \\\n-        \"check contents of %$byte_regs($h)\"\n-}\n-\n-for { set r 7 } { $r <= 14  } { incr r } {\n-  gdb_test \"set var \\$$byte_regs($r) = $r\" \"\" \"set %$byte_regs($r)\"\n+with_test_prefix \"at third bp\" {\n+    for { set r 1 } { $r <= 6  } { incr r } {\n+\tgdb_test \"print \\$$byte_regs($r)\" \\\n+\t    \".. = $r\" \\\n+\t    \"check contents of %$byte_regs($r)\"\n+    }\n+\n+    for { set r 1 } { $r <= 4  } { incr r } {\n+\tset h [expr $r + 14]\n+\tgdb_test \"print \\$$byte_regs($h)\" \\\n+\t    \".. = $h\" \\\n+\t    \"check contents of %$byte_regs($h)\"\n+    }\n+\n+    for { set r 7 } { $r <= 14  } { incr r } {\n+\tgdb_test \"set var \\$$byte_regs($r) = $r\" \"\" \"set %$byte_regs($r)\"\n+    }\n }\n \n-gdb_test \"break [gdb_get_line_number \"forth breakpoint here\"]\" \\\n-         \"Breakpoint .* at .*${srcfile}.*\" \\\n-         \"set forth breakpoint in main\"\n-gdb_continue_to_breakpoint \"continue to forth breakpoint in main\"\n+gdb_breakpoint [gdb_get_line_number \"fourth breakpoint here\"]\n+gdb_continue_to_breakpoint \"continue to fourth breakpoint in main\"\n \n-for { set r 7 } { $r <= 14  } { incr r } {\n-    gdb_test \"print \\$$byte_regs($r)\" \\\n-        \".. = $r\" \\\n-        \"check contents of %$byte_regs($r)\"\n+with_test_prefix \"at fourth bp\" {\n+    for { set r 7 } { $r <= 14  } { incr r } {\n+\tgdb_test \"print \\$$byte_regs($r)\" \\\n+\t    \".. = $r\" \\\n+\t    \"check contents of %$byte_regs($r)\"\n+    }\n }"
    },
    {
      "sha": "f2841aafafa03b4ce4afe6e4a31effae76838c90",
      "filename": "gdb/testsuite/gdb.arch/amd64-dword.exp",
      "status": "modified",
      "additions": 38,
      "deletions": 38,
      "changes": 76,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c2015ce4a4019ab9b026f13c33a7f55e8e0d77a0/gdb/testsuite/gdb.arch/amd64-dword.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c2015ce4a4019ab9b026f13c33a7f55e8e0d77a0/gdb/testsuite/gdb.arch/amd64-dword.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.arch/amd64-dword.exp?ref=c2015ce4a4019ab9b026f13c33a7f55e8e0d77a0",
      "patch": "@@ -58,56 +58,56 @@ set dword_regs(12) r13d\n set dword_regs(13) r14d\n set dword_regs(14) r15d\n \n-gdb_test \"break [gdb_get_line_number \"first breakpoint here\"]\" \\\n-         \"Breakpoint .* at .*${srcfile}.*\" \\\n-         \"set first breakpoint in main\"\n+gdb_breakpoint [gdb_get_line_number \"first breakpoint here\"]\n gdb_continue_to_breakpoint \"continue to first breakpoint in main\"\n \n-for { set r 1 } { $r <= 6  } { incr r } {\n-    set hexr [format %x $r]\n-    gdb_test \"print/x \\$$dword_regs($r)\" \\\n-\t\".. = 0x${hexr}4${hexr}3${hexr}2${hexr}1\" \\\n-        \"check contents of %$dword_regs($r)\"\n+with_test_prefix \"at first bp\" {\n+    for { set r 1 } { $r <= 6  } { incr r } {\n+\tset hexr [format %x $r]\n+\tgdb_test \"print/x \\$$dword_regs($r)\" \\\n+\t    \".. = 0x${hexr}4${hexr}3${hexr}2${hexr}1\" \\\n+\t    \"check contents of %$dword_regs($r)\"\n+    }\n }\n \n-gdb_test \"break [gdb_get_line_number \"second breakpoint here\"]\" \\\n-         \"Breakpoint .* at .*${srcfile}.*\" \\\n-         \"set second breakpoint in main\"\n+gdb_breakpoint [gdb_get_line_number \"second breakpoint here\"]\n gdb_continue_to_breakpoint \"continue to second breakpoint in main\"\n \n-for { set r 7 } { $r <= $nr_regs  } { incr r } {\n-    set hexr [format %x $r]\n-    gdb_test \"print/x \\$$dword_regs($r)\" \\\n-\t\".. = 0x${hexr}4${hexr}3${hexr}2${hexr}1\" \\\n-        \"check contents of %$dword_regs($r)\"\n+with_test_prefix \"at second bp\" {\n+    for { set r 7 } { $r <= $nr_regs  } { incr r } {\n+\tset hexr [format %x $r]\n+\tgdb_test \"print/x \\$$dword_regs($r)\" \\\n+\t    \".. = 0x${hexr}4${hexr}3${hexr}2${hexr}1\" \\\n+\t    \"check contents of %$dword_regs($r)\"\n+    }\n+\n+    for { set r 1 } { $r <= 6  } { incr r } {\n+\tgdb_test \"set var \\$$dword_regs($r) = $r\" \"\" \"set %$dword_regs($r)\"\n+    }\n }\n \n-for { set r 1 } { $r <= 6  } { incr r } {\n-  gdb_test \"set var \\$$dword_regs($r) = $r\" \"\" \"set %$dword_regs($r)\"\n-}\n-\n-gdb_test \"break [gdb_get_line_number \"third breakpoint here\"]\" \\\n-         \"Breakpoint .* at .*${srcfile}.*\" \\\n-         \"set third breakpoint in main\"\n+gdb_breakpoint [gdb_get_line_number \"third breakpoint here\"]\n gdb_continue_to_breakpoint \"continue to third breakpoint in main\"\n \n-for { set r 1 } { $r <= 6  } { incr r } {\n-    gdb_test \"print \\$$dword_regs($r)\" \\\n-        \".. = $r\" \\\n-        \"check contents of %$dword_regs($r)\"\n-}\n+with_test_prefix \"at third bp\" {\n+    for { set r 1 } { $r <= 6  } { incr r } {\n+\tgdb_test \"print \\$$dword_regs($r)\" \\\n+\t    \".. = $r\" \\\n+\t    \"check contents of %$dword_regs($r)\"\n+    }\n \n-for { set r 7 } { $r <= $nr_regs  } { incr r } {\n-  gdb_test \"set var \\$$dword_regs($r) = $r\" \"\" \"set %$dword_regs($r)\"\n+    for { set r 7 } { $r <= $nr_regs  } { incr r } {\n+\tgdb_test \"set var \\$$dword_regs($r) = $r\" \"\" \"set %$dword_regs($r)\"\n+    }\n }\n \n-gdb_test \"break [gdb_get_line_number \"forth breakpoint here\"]\" \\\n-         \"Breakpoint .* at .*${srcfile}.*\" \\\n-         \"set forth breakpoint in main\"\n-gdb_continue_to_breakpoint \"continue to forth breakpoint in main\"\n+gdb_breakpoint [gdb_get_line_number \"fourth breakpoint here\"]\n+gdb_continue_to_breakpoint \"continue to fourth breakpoint in main\"\n \n-for { set r 7 } { $r <= $nr_regs  } { incr r } {\n-    gdb_test \"print \\$$dword_regs($r)\" \\\n-        \".. = $r\" \\\n-        \"check contents of %$dword_regs($r)\"\n+with_test_prefix \"at fourth bp\" {\n+    for { set r 7 } { $r <= $nr_regs  } { incr r } {\n+\tgdb_test \"print \\$$dword_regs($r)\" \\\n+\t    \".. = $r\" \\\n+\t    \"check contents of %$dword_regs($r)\"\n+    }\n }"
    },
    {
      "sha": "50bb15eaa306b1fe5f121dc213280b952e6ca8c9",
      "filename": "gdb/testsuite/gdb.arch/amd64-pseudo.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c2015ce4a4019ab9b026f13c33a7f55e8e0d77a0/gdb/testsuite/gdb.arch/amd64-pseudo.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c2015ce4a4019ab9b026f13c33a7f55e8e0d77a0/gdb/testsuite/gdb.arch/amd64-pseudo.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.arch/amd64-pseudo.c?ref=c2015ce4a4019ab9b026f13c33a7f55e8e0d77a0",
      "patch": "@@ -118,7 +118,7 @@ main (int argc, char **argv)\n \t    a temp to build %0.  */\n \t \"r\" (r8), \"r\" (r9), \"r\" (r10), \"r\" (r11),\n \t \"r\" (r12), \"r\" (r13), \"r\" (r14), \"r\" (r15));\n-  puts (\"Bye!\"); /* forth breakpoint here */\n+  puts (\"Bye!\"); /* fourth breakpoint here */\n \n   return 0;\n }"
    },
    {
      "sha": "1e2ce1959f9075e53a680cd3f5ec1f482a203dc4",
      "filename": "gdb/testsuite/gdb.arch/amd64-stap-special-operands.exp",
      "status": "modified",
      "additions": 8,
      "deletions": 6,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c2015ce4a4019ab9b026f13c33a7f55e8e0d77a0/gdb/testsuite/gdb.arch/amd64-stap-special-operands.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c2015ce4a4019ab9b026f13c33a7f55e8e0d77a0/gdb/testsuite/gdb.arch/amd64-stap-special-operands.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.arch/amd64-stap-special-operands.exp?ref=c2015ce4a4019ab9b026f13c33a7f55e8e0d77a0",
      "patch": "@@ -19,13 +19,15 @@ if { ![istarget \"x86_64-*-*\"] || ![is_lp64_target] } {\n }\n \n proc test_probe { probe_name } {\n-    if { ![runto \"-pstap $probe_name\"] } {\n-\tfail \"run to probe $probe_name\"\n-\treturn\n+    with_test_prefix \"probe: ${probe_name}\" {\n+\tif { ![runto \"-pstap $probe_name\"] } {\n+\t    fail \"run to probe $probe_name\"\n+\t    return\n+\t}\n+\n+\tgdb_test \"print \\$_probe_argc\" \" = 1\"\n+\tgdb_test \"print \\$_probe_arg0\" \" = 10\"\n     }\n-\n-    gdb_test \"print \\$_probe_argc\" \" = 1\"\n-    gdb_test \"print \\$_probe_arg0\" \" = 10\"\n }\n \n standard_testfile amd64-stap-triplet.S"
    },
    {
      "sha": "60c9a5041767cbb999c325313e32576890069c3c",
      "filename": "gdb/testsuite/gdb.arch/amd64-tailcall-ret.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c2015ce4a4019ab9b026f13c33a7f55e8e0d77a0/gdb/testsuite/gdb.arch/amd64-tailcall-ret.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c2015ce4a4019ab9b026f13c33a7f55e8e0d77a0/gdb/testsuite/gdb.arch/amd64-tailcall-ret.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.arch/amd64-tailcall-ret.exp?ref=c2015ce4a4019ab9b026f13c33a7f55e8e0d77a0",
      "patch": "@@ -34,11 +34,11 @@ if ![runto_main] {\n }\n \n gdb_breakpoint \"g\"\n-gdb_continue_to_breakpoint \"g\" \".* v = 2;\"\n+gdb_continue_to_breakpoint \"first time in g\" \".* v = 2;\"\n \n gdb_test \"return\" { f \\(\\); /\\* second \\*/} \"return\" \\\n          {Make g return now\\? \\(y or n\\) } \"y\"\n \n-gdb_continue_to_breakpoint \"g\" \".* v = 2;\"\n+gdb_continue_to_breakpoint \"second time in g\" \".* v = 2;\"\n \n gdb_test \"finish\" \" v = 3;\""
    },
    {
      "sha": "9f5e5d7e9cc802a1e101ec14eb2e24ab411a9dd4",
      "filename": "gdb/testsuite/gdb.arch/amd64-word.exp",
      "status": "modified",
      "additions": 38,
      "deletions": 38,
      "changes": 76,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c2015ce4a4019ab9b026f13c33a7f55e8e0d77a0/gdb/testsuite/gdb.arch/amd64-word.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c2015ce4a4019ab9b026f13c33a7f55e8e0d77a0/gdb/testsuite/gdb.arch/amd64-word.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.arch/amd64-word.exp?ref=c2015ce4a4019ab9b026f13c33a7f55e8e0d77a0",
      "patch": "@@ -58,56 +58,56 @@ set word_regs(12) r13w\n set word_regs(13) r14w\n set word_regs(14) r15w\n \n-gdb_test \"break [gdb_get_line_number \"first breakpoint here\"]\" \\\n-         \"Breakpoint .* at .*${srcfile}.*\" \\\n-         \"set first breakpoint in main\"\n+gdb_breakpoint [gdb_get_line_number \"first breakpoint here\"]\n gdb_continue_to_breakpoint \"continue to first breakpoint in main\"\n \n-for { set r 1 } { $r <= 6  } { incr r } {\n-    set hexr [format %x $r]\n-    gdb_test \"print/x \\$$word_regs($r)\" \\\n-        \".. = 0x${hexr}2${hexr}1\" \\\n-        \"check contents of %$word_regs($r)\"\n+with_test_prefix \"at first bp\" {\n+    for { set r 1 } { $r <= 6  } { incr r } {\n+\tset hexr [format %x $r]\n+\tgdb_test \"print/x \\$$word_regs($r)\" \\\n+\t    \".. = 0x${hexr}2${hexr}1\" \\\n+\t    \"check contents of %$word_regs($r)\"\n+    }\n }\n \n-gdb_test \"break [gdb_get_line_number \"second breakpoint here\"]\" \\\n-         \"Breakpoint .* at .*${srcfile}.*\" \\\n-         \"set second breakpoint in main\"\n+gdb_breakpoint [gdb_get_line_number \"second breakpoint here\"]\n gdb_continue_to_breakpoint \"continue to second breakpoint in main\"\n \n-for { set r 7 } { $r <= $nr_regs  } { incr r } {\n-    set hexr [format %x $r]\n-    gdb_test \"print/x \\$$word_regs($r)\" \\\n-        \".. = 0x${hexr}2${hexr}1\" \\\n-        \"check contents of %$word_regs($r)\"\n+with_test_prefix \"at second bp\" {\n+    for { set r 7 } { $r <= $nr_regs  } { incr r } {\n+\tset hexr [format %x $r]\n+\tgdb_test \"print/x \\$$word_regs($r)\" \\\n+\t    \".. = 0x${hexr}2${hexr}1\" \\\n+\t    \"check contents of %$word_regs($r)\"\n+    }\n+\n+    for { set r 1 } { $r <= 6  } { incr r } {\n+\tgdb_test \"set var \\$$word_regs($r) = $r\" \"\" \"set %$word_regs($r)\"\n+    }\n }\n \n-for { set r 1 } { $r <= 6  } { incr r } {\n-  gdb_test \"set var \\$$word_regs($r) = $r\" \"\" \"set %$word_regs($r)\"\n-}\n-\n-gdb_test \"break [gdb_get_line_number \"third breakpoint here\"]\" \\\n-         \"Breakpoint .* at .*${srcfile}.*\" \\\n-         \"set third breakpoint in main\"\n+gdb_breakpoint [gdb_get_line_number \"third breakpoint here\"]\n gdb_continue_to_breakpoint \"continue to third breakpoint in main\"\n \n-for { set r 1 } { $r <= 6  } { incr r } {\n-    gdb_test \"print \\$$word_regs($r)\" \\\n-        \".. = $r\" \\\n-        \"check contents of %$word_regs($r)\"\n-}\n+with_test_prefix \"at third bp\" {\n+    for { set r 1 } { $r <= 6  } { incr r } {\n+\tgdb_test \"print \\$$word_regs($r)\" \\\n+\t    \".. = $r\" \\\n+\t    \"check contents of %$word_regs($r)\"\n+    }\n \n-for { set r 7 } { $r <= $nr_regs  } { incr r } {\n-  gdb_test \"set var \\$$word_regs($r) = $r\" \"\" \"set %$word_regs($r)\"\n+    for { set r 7 } { $r <= $nr_regs  } { incr r } {\n+\tgdb_test \"set var \\$$word_regs($r) = $r\" \"\" \"set %$word_regs($r)\"\n+    }\n }\n \n-gdb_test \"break [gdb_get_line_number \"forth breakpoint here\"]\" \\\n-         \"Breakpoint .* at .*${srcfile}.*\" \\\n-         \"set forth breakpoint in main\"\n-gdb_continue_to_breakpoint \"continue to forth breakpoint in main\"\n+gdb_breakpoint [gdb_get_line_number \"fourth breakpoint here\"]\n+gdb_continue_to_breakpoint \"continue to fourth breakpoint in main\"\n \n-for { set r 7 } { $r <= $nr_regs  } { incr r } {\n-    gdb_test \"print \\$$word_regs($r)\" \\\n-        \".. = $r\" \\\n-        \"check contents of %$word_regs($r)\"\n+with_test_prefix \"at fourth bp\" {\n+    for { set r 7 } { $r <= $nr_regs  } { incr r } {\n+\tgdb_test \"print \\$$word_regs($r)\" \\\n+\t    \".. = $r\" \\\n+\t    \"check contents of %$word_regs($r)\"\n+    }\n }"
    },
    {
      "sha": "8903346158f9f9d4792fc7341334777f6397402e",
      "filename": "gdb/testsuite/gdb.arch/i386-byte.exp",
      "status": "modified",
      "additions": 28,
      "deletions": 28,
      "changes": 56,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c2015ce4a4019ab9b026f13c33a7f55e8e0d77a0/gdb/testsuite/gdb.arch/i386-byte.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c2015ce4a4019ab9b026f13c33a7f55e8e0d77a0/gdb/testsuite/gdb.arch/i386-byte.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.arch/i386-byte.exp?ref=c2015ce4a4019ab9b026f13c33a7f55e8e0d77a0",
      "patch": "@@ -51,38 +51,38 @@ set byte_regs(6) bh\n set byte_regs(7) ch\n set byte_regs(8) dh\n \n-gdb_test \"break [gdb_get_line_number \"first breakpoint here\"]\" \\\n-         \"Breakpoint .* at .*${srcfile}.*\" \\\n-         \"set first breakpoint in main\"\n+gdb_breakpoint [gdb_get_line_number \"first breakpoint here\"]\n gdb_continue_to_breakpoint \"continue to first breakpoint in main\"\n \n-for { set r 1 } { $r <= 4  } { incr r } {\n-    gdb_test \"print/x \\$$byte_regs($r)\" \\\n-        \".. = 0x[format %x $r]1\" \\\n-        \"check contents of %$byte_regs($r)\"\n-    set h [expr $r + 4]\n-    gdb_test \"print/x \\$$byte_regs($h)\" \\\n-        \".. = 0x[format %x $r]2\" \\\n-        \"check contents of %$byte_regs($h)\"\n+with_test_prefix \"at first bp\" {\n+    for { set r 1 } { $r <= 4  } { incr r } {\n+\tgdb_test \"print/x \\$$byte_regs($r)\" \\\n+\t    \".. = 0x[format %x $r]1\" \\\n+\t    \"check contents of %$byte_regs($r)\"\n+\tset h [expr $r + 4]\n+\tgdb_test \"print/x \\$$byte_regs($h)\" \\\n+\t    \".. = 0x[format %x $r]2\" \\\n+\t    \"check contents of %$byte_regs($h)\"\n+    }\n+\n+    for { set r 1 } { $r <= 4  } { incr r } {\n+\tgdb_test \"set var \\$$byte_regs($r) = $r\" \"\" \"set %$byte_regs($r)\"\n+\tset h [expr $r + 4]\n+\tgdb_test \"set var \\$$byte_regs($h) = $h\" \"\" \"set %$byte_regs($h)\"\n+    }\n }\n \n-for { set r 1 } { $r <= 4  } { incr r } {\n-  gdb_test \"set var \\$$byte_regs($r) = $r\" \"\" \"set %$byte_regs($r)\"\n-  set h [expr $r + 4]\n-  gdb_test \"set var \\$$byte_regs($h) = $h\" \"\" \"set %$byte_regs($h)\"\n-}\n-\n-gdb_test \"break [gdb_get_line_number \"second breakpoint here\"]\" \\\n-         \"Breakpoint .* at .*${srcfile}.*\" \\\n-         \"set second breakpoint in main\"\n+gdb_breakpoint [gdb_get_line_number \"second breakpoint here\"]\n gdb_continue_to_breakpoint \"continue to second breakpoint in main\"\n \n-for { set r 1 } { $r <= 4  } { incr r } {\n-    gdb_test \"print \\$$byte_regs($r)\" \\\n-        \".. = $r\" \\\n-        \"check contents of %$byte_regs($r)\"\n-    set h [expr $r + 4]\n-    gdb_test \"print \\$$byte_regs($h)\" \\\n-        \".. = $h\" \\\n-        \"check contents of %$byte_regs($h)\"\n+with_test_prefix \"at second bp\" {\n+    for { set r 1 } { $r <= 4  } { incr r } {\n+\tgdb_test \"print \\$$byte_regs($r)\" \\\n+\t    \".. = $r\" \\\n+\t    \"check contents of %$byte_regs($r)\"\n+\tset h [expr $r + 4]\n+\tgdb_test \"print \\$$byte_regs($h)\" \\\n+\t    \".. = $h\" \\\n+\t    \"check contents of %$byte_regs($h)\"\n+    }\n }"
    },
    {
      "sha": "55c2ea62af07bd5916ada72c371c976e4abb240e",
      "filename": "gdb/testsuite/gdb.arch/i386-word.exp",
      "status": "modified",
      "additions": 17,
      "deletions": 17,
      "changes": 34,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c2015ce4a4019ab9b026f13c33a7f55e8e0d77a0/gdb/testsuite/gdb.arch/i386-word.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c2015ce4a4019ab9b026f13c33a7f55e8e0d77a0/gdb/testsuite/gdb.arch/i386-word.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.arch/i386-word.exp?ref=c2015ce4a4019ab9b026f13c33a7f55e8e0d77a0",
      "patch": "@@ -47,28 +47,28 @@ set word_regs(2) bx\n set word_regs(3) cx\n set word_regs(4) dx\n \n-gdb_test \"break [gdb_get_line_number \"first breakpoint here\"]\" \\\n-         \"Breakpoint .* at .*${srcfile}.*\" \\\n-         \"set first breakpoint in main\"\n+gdb_breakpoint [gdb_get_line_number \"first breakpoint here\"]\n gdb_continue_to_breakpoint \"continue to first breakpoint in main\"\n \n-for { set r 1 } { $r <= 4  } { incr r } {\n-    gdb_test \"print/x \\$$word_regs($r)\" \\\n-        \".. = 0x[format %x $r]2[format %x $r]1\" \\\n-        \"check contents of %$word_regs($r)\"\n-}\n+with_test_prefix \"at first bp\" {\n+    for { set r 1 } { $r <= 4  } { incr r } {\n+\tgdb_test \"print/x \\$$word_regs($r)\" \\\n+\t    \".. = 0x[format %x $r]2[format %x $r]1\" \\\n+\t    \"check contents of %$word_regs($r)\"\n+    }\n \n-for { set r 1 } { $r <= 4  } { incr r } {\n-  gdb_test \"set var \\$$word_regs($r) = $r\" \"\" \"set %$word_regs($r)\"\n+    for { set r 1 } { $r <= 4  } { incr r } {\n+\tgdb_test \"set var \\$$word_regs($r) = $r\" \"\" \"set %$word_regs($r)\"\n+    }\n }\n \n-gdb_test \"break [gdb_get_line_number \"second breakpoint here\"]\" \\\n-         \"Breakpoint .* at .*${srcfile}.*\" \\\n-         \"set second breakpoint in main\"\n+gdb_breakpoint [gdb_get_line_number \"second breakpoint here\"]\n gdb_continue_to_breakpoint \"continue to second breakpoint in main\"\n \n-for { set r 1 } { $r <= 4  } { incr r } {\n-    gdb_test \"print \\$$word_regs($r)\" \\\n-        \".. = $r\" \\\n-        \"check contents of %$word_regs($r)\"\n+with_test_prefix \"at second bp\" {\n+    for { set r 1 } { $r <= 4  } { incr r } {\n+\tgdb_test \"print \\$$word_regs($r)\" \\\n+\t    \".. = $r\" \\\n+\t    \"check contents of %$word_regs($r)\"\n+    }\n }"
    }
  ]
}