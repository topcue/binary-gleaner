{
  "sha": "f59f89789fc17166ee05491e5c430706c9b7c18e",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ZjU5Zjg5Nzg5ZmMxNzE2NmVlMDU0OTFlNWM0MzA3MDZjOWI3YzE4ZQ==",
  "commit": {
    "author": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2019-12-09T10:17:04Z"
    },
    "committer": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2019-12-09T22:31:12Z"
    },
    "message": "Delete duplicate struct objdump_disasm_info field\n\nobjdump_disasm_info.sec duplicates disassemble_info.section\n\n\t* objdump.c (struct objdump_disasm_info): Delete \"sec\".\n\t(find_symbol_for_address): Use inf->section rather than aux->sec.\n\t(objdump_print_addr, disassemble_bytes): Likewise.\n\t(disassemble_section): Don't set aux->sec.",
    "tree": {
      "sha": "a605c016e35f2b2f4f3655e262c5b4662fc332cb",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/a605c016e35f2b2f4f3655e262c5b4662fc332cb"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/f59f89789fc17166ee05491e5c430706c9b7c18e",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/f59f89789fc17166ee05491e5c430706c9b7c18e",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/f59f89789fc17166ee05491e5c430706c9b7c18e",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/f59f89789fc17166ee05491e5c430706c9b7c18e/comments",
  "author": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "e7c22a69acb04edce2838b8fbe028b7159c87f47",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/e7c22a69acb04edce2838b8fbe028b7159c87f47",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/e7c22a69acb04edce2838b8fbe028b7159c87f47"
    }
  ],
  "stats": {
    "total": 18,
    "additions": 12,
    "deletions": 6
  },
  "files": [
    {
      "sha": "b1ecef23d4319bcb994c68b55fa338e7ee889bfc",
      "filename": "binutils/ChangeLog",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f59f89789fc17166ee05491e5c430706c9b7c18e/binutils/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f59f89789fc17166ee05491e5c430706c9b7c18e/binutils/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/ChangeLog?ref=f59f89789fc17166ee05491e5c430706c9b7c18e",
      "patch": "@@ -1,3 +1,10 @@\n+2019-12-10  Alan Modra  <amodra@gmail.com>\n+\n+\t* objdump.c (struct objdump_disasm_info): Delete \"sec\".\n+\t(find_symbol_for_address): Use inf->section rather than aux->sec.\n+\t(objdump_print_addr, disassemble_bytes): Likewise.\n+\t(disassemble_section): Don't set aux->sec.\n+\n 2019-12-08  Alan Modra  <amodra@gmail.com>\n \n \t* testsuite/lib/binutils-common.exp (regexp_diff): Support #?REGEXP."
    },
    {
      "sha": "d48a73ac4a7b53ba1d8aedcc645fda13e23f2394",
      "filename": "binutils/objdump.c",
      "status": "modified",
      "additions": 5,
      "deletions": 6,
      "changes": 11,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f59f89789fc17166ee05491e5c430706c9b7c18e/binutils/objdump.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f59f89789fc17166ee05491e5c430706c9b7c18e/binutils/objdump.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/objdump.c?ref=f59f89789fc17166ee05491e5c430706c9b7c18e",
      "patch": "@@ -147,7 +147,6 @@ static int include_path_count;\n struct objdump_disasm_info\n {\n   bfd *              abfd;\n-  asection *         sec;\n   bfd_boolean        require_sec;\n   arelent **         dynrelbuf;\n   long               dynrelcount;\n@@ -1078,7 +1077,7 @@ find_symbol_for_address (bfd_vma vma,\n \n   aux = (struct objdump_disasm_info *) inf->application_data;\n   abfd = aux->abfd;\n-  sec = aux->sec;\n+  sec = inf->section;\n   opb = inf->octets_per_byte;\n \n   /* Perform a binary search looking for the closest symbol to the\n@@ -1342,7 +1341,8 @@ objdump_print_addr (bfd_vma vma,\n \n       if (display_file_offsets)\n \tinf->fprintf_func (inf->stream, _(\" (File Offset: 0x%lx)\"),\n-\t\t\t   (long int)(aux->sec->filepos + (vma - aux->sec->vma)));\n+\t\t\t   (long int) (inf->section->filepos\n+\t\t\t\t       + (vma - inf->section->vma)));\n       return;\n     }\n \n@@ -1362,7 +1362,7 @@ objdump_print_addr (bfd_vma vma,\n   if (!skip_find)\n     sym = find_symbol_for_address (vma, inf, NULL);\n \n-  objdump_print_addr_with_sym (aux->abfd, aux->sec, sym, vma, inf,\n+  objdump_print_addr_with_sym (aux->abfd, inf->section, sym, vma, inf,\n \t\t\t       skip_zeroes);\n }\n \n@@ -1871,7 +1871,7 @@ disassemble_bytes (struct disassemble_info * inf,\n   SFILE sfile;\n \n   aux = (struct objdump_disasm_info *) inf->application_data;\n-  section = aux->sec;\n+  section = inf->section;\n \n   sfile.alloc = 120;\n   sfile.buffer = (char *) xmalloc (sfile.alloc);\n@@ -2384,7 +2384,6 @@ disassemble_section (bfd *abfd, asection *section, void *inf)\n       return;\n     }\n \n-  paux->sec = section;\n   pinfo->buffer = data;\n   pinfo->buffer_vma = section->vma;\n   pinfo->buffer_length = datasize;"
    }
  ]
}