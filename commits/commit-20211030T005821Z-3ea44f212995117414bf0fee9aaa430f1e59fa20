{
  "sha": "3ea44f212995117414bf0fee9aaa430f1e59fa20",
  "node_id": "C_kwDOANOeidoAKDNlYTQ0ZjIxMjk5NTExNzQxNGJmMGZlZTlhYWE0MzBmMWU1OWZhMjA",
  "commit": {
    "author": {
      "name": "Aaron Merey",
      "email": "amerey@redhat.com",
      "date": "2021-10-30T00:49:29Z"
    },
    "committer": {
      "name": "Aaron Merey",
      "email": "amerey@redhat.com",
      "date": "2021-10-30T00:58:21Z"
    },
    "message": "gdb.texinfo: Expand documentation for debuginfod\n\nAdd section describing GDB's usage of debuginfod.\n\nRefer to this new section in the description of the '--with-debuginfod'\nconfigure option.\n\nMention debuginfod in the 'Separate Debug Files' section.",
    "tree": {
      "sha": "c6c655ff78cc738eea5c00b2f7533ff641181bfb",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/c6c655ff78cc738eea5c00b2f7533ff641181bfb"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/3ea44f212995117414bf0fee9aaa430f1e59fa20",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/3ea44f212995117414bf0fee9aaa430f1e59fa20",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/3ea44f212995117414bf0fee9aaa430f1e59fa20",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/3ea44f212995117414bf0fee9aaa430f1e59fa20/comments",
  "author": {
    "login": "aaronmerey",
    "id": 28735867,
    "node_id": "MDQ6VXNlcjI4NzM1ODY3",
    "avatar_url": "https://avatars.githubusercontent.com/u/28735867?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/aaronmerey",
    "html_url": "https://github.com/aaronmerey",
    "followers_url": "https://api.github.com/users/aaronmerey/followers",
    "following_url": "https://api.github.com/users/aaronmerey/following{/other_user}",
    "gists_url": "https://api.github.com/users/aaronmerey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/aaronmerey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/aaronmerey/subscriptions",
    "organizations_url": "https://api.github.com/users/aaronmerey/orgs",
    "repos_url": "https://api.github.com/users/aaronmerey/repos",
    "events_url": "https://api.github.com/users/aaronmerey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/aaronmerey/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "aaronmerey",
    "id": 28735867,
    "node_id": "MDQ6VXNlcjI4NzM1ODY3",
    "avatar_url": "https://avatars.githubusercontent.com/u/28735867?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/aaronmerey",
    "html_url": "https://github.com/aaronmerey",
    "followers_url": "https://api.github.com/users/aaronmerey/followers",
    "following_url": "https://api.github.com/users/aaronmerey/following{/other_user}",
    "gists_url": "https://api.github.com/users/aaronmerey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/aaronmerey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/aaronmerey/subscriptions",
    "organizations_url": "https://api.github.com/users/aaronmerey/orgs",
    "repos_url": "https://api.github.com/users/aaronmerey/repos",
    "events_url": "https://api.github.com/users/aaronmerey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/aaronmerey/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "7811fa5995fcb68d30edc0f53d8823c011a12854",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/7811fa5995fcb68d30edc0f53d8823c011a12854",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/7811fa5995fcb68d30edc0f53d8823c011a12854"
    }
  ],
  "stats": {
    "total": 97,
    "additions": 90,
    "deletions": 7
  },
  "files": [
    {
      "sha": "e0b065e96638c274590cbd07aab6831e27f68084",
      "filename": "gdb/doc/gdb.texinfo",
      "status": "modified",
      "additions": 90,
      "deletions": 7,
      "changes": 97,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3ea44f212995117414bf0fee9aaa430f1e59fa20/gdb/doc/gdb.texinfo",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3ea44f212995117414bf0fee9aaa430f1e59fa20/gdb/doc/gdb.texinfo",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/doc/gdb.texinfo?ref=3ea44f212995117414bf0fee9aaa430f1e59fa20",
      "patch": "@@ -184,6 +184,7 @@ software in general.  We will miss him.\n                                  the operating system\n * Trace File Format::\t\tGDB trace file format\n * Index Section Format::        .gdb_index section format\n+* Debuginfod::                  Download debugging resources with @code{debuginfod}\n * Man Pages::\t\t\tManual pages\n * Copying::\t\t\tGNU General Public License says\n                                 how you can copy and share GDB\n@@ -21402,7 +21403,9 @@ For the ``build ID'' method, @value{GDBN} looks in the\n a file named @file{@var{nn}/@var{nnnnnnnn}.debug}, where @var{nn} are the\n first 2 hex characters of the build ID bit string, and @var{nnnnnnnn}\n are the rest of the bit string.  (Real build ID strings are 32 or more\n-hex characters, not 10.)\n+hex characters, not 10.)  @value{GDBN} can automatically query\n+@code{debuginfod} servers using build IDs in order to download separate debug\n+files that cannot be found locally.  For more information see @ref{Debuginfod}.\n @end itemize\n \n So, for example, suppose you ask @value{GDBN} to debug\n@@ -21423,6 +21426,10 @@ debug information files, in the indicated order:\n @file{/usr/lib/debug/usr/bin/ls.debug}.\n @end itemize\n \n+If the debug file still has not been found and @code{debuginfod}\n+(@pxref{Debuginfod}) is enabled, @value{GDBN} will attempt to download the\n+file from @code{debuginfod} servers.\n+\n @anchor{debug-file-directory}\n Global debugging info directories default to what is set by @value{GDBN}\n configure option @option{--with-separate-debug-dir}.  During @value{GDBN} run\n@@ -38754,12 +38761,12 @@ Use the curses library instead of the termcap library, for text-mode\n terminal operations.\n \n @item --with-debuginfod\n-Build @value{GDBN} with libdebuginfod, the debuginfod client library.\n-Used to automatically fetch source files and separate debug files from\n-debuginfod servers using the associated executable's build ID. Enabled\n-by default if libdebuginfod is installed and found at configure time.\n-debuginfod is packaged with elfutils, starting with version 0.178. You\n-can get the latest version from `https://sourceware.org/elfutils/'.\n+Build @value{GDBN} with @file{libdebuginfod}, the @code{debuginfod} client\n+library.  Used to automatically fetch ELF, DWARF and source files from\n+@code{debuginfod} servers using build IDs associated with any missing\n+files.  Enabled by default if @file{libdebuginfod} is installed and found\n+at configure time.  For more information regarding @code{debuginfod} see\n+@ref{Debuginfod}.\n \n @item --with-libunwind-ia64\n Use the libunwind library for unwinding function call stack on ia64\n@@ -47080,6 +47087,82 @@ switch (die->tag)\n   @}\n @end smallexample\n \n+@node Debuginfod\n+@appendix Download debugging resources with Debuginfod\n+@cindex debuginfod\n+\n+@code{debuginfod} is an HTTP server for distributing ELF, DWARF and source\n+files.\n+\n+With the @code{debuginfod} client library, @file{libdebuginfod}, @value{GDBN}\n+can query servers using the build IDs associated with missing debug info,\n+executables and source files in order to download them on demand.\n+\n+For instructions on building @value{GDBN} with @file{libdebuginfod},\n+@pxref{Configure Options,,--with-debuginfod}.  @code{debuginfod} is packaged\n+with @code{elfutils}, starting with version 0.178.  See\n+@uref{https://sourceware.org/elfutils/Debuginfod.html} for more information\n+regarding @code{debuginfod}.\n+\n+@menu\n+* Debuginfod Settings::\t\tConfiguring debuginfod with @value{GDBN}\n+@end menu\n+\n+@node Debuginfod Settings\n+@section Debuginfod Settings\n+\n+@value{GDBN} provides the following commands for configuring @code{debuginfod}.\n+\n+@table @code\n+@kindex set debuginfod\n+@anchor{set debuginfod}\n+@item set debuginfod\n+@itemx set debuginfod on\n+@cindex enable debuginfod\n+@value{GDBN} will attempt to query @code{debuginfod} servers when missing debug\n+info or source files.\n+\n+@item set debuginfod off\n+@value{GDBN} will not attempt to query @code{debuginfod} servers when missing\n+debug info or source files.  By default, @code{debuginfod} is set to @code{off}\n+for non-interactive sessions.\n+\n+@item set debuginfod ask\n+@value{GDBN} will prompt the user to enable or disable @code{debuginfod} before\n+attempting to perform the next query.  By default, @code{debuginfod} is set to\n+@code{ask} for interactive sessions.\n+\n+@kindex show debuginfod status\n+@item show debuginfod status\n+Show whether @code{debuginfod} is set to @code{on}, @code{off} or @code{ask}.\n+\n+@kindex set debuginfod urls\n+@cindex configure debuginfod URLs\n+@item set debuginfod urls\n+@itemx set debuginfod urls @var{urls}\n+Set the space-separated list of URLs that @code{debuginfod} will attempt to\n+query.  Only @code{http://}, @code{https://} and @code{file://} protocols\n+should be used.  The default value of @code{debuginfod urls} is copied from\n+the @var{DEBUGINFOD_URLS} environment variable.\n+\n+@kindex show debuginfod urls\n+@item show debuginfod urls\n+Display the list of URLs that @code{debuginfod} will attempt to query.\n+\n+@kindex set debuginfod verbose\n+@cindex debuginfod verbosity\n+@item set debuginfod verbose\n+@itemx set debuginfod verbose @var{n}\n+Enable or disable @code{debuginfod}-related output.  Use a non-zero value\n+to enable and @code{0} to disable.  @code{debuginfod} output is shown by\n+default.\n+\n+@kindex show debuginfod verbose\n+@item show debuginfod verbose\n+Show the current verbosity setting.\n+\n+@end table\n+\n @node Man Pages\n @appendix Manual pages\n @cindex Man pages"
    }
  ]
}