{
  "sha": "05192282ca19f8f5c201f630caed68b1632e2619",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MDUxOTIyODJjYTE5ZjhmNWMyMDFmNjMwY2FlZDY4YjE2MzJlMjYxOQ==",
  "commit": {
    "author": {
      "name": "Tom Tromey",
      "email": "tromey@adacore.com",
      "date": "2019-08-14T20:01:57Z"
    },
    "committer": {
      "name": "Tom Tromey",
      "email": "tromey@adacore.com",
      "date": "2019-08-15T13:37:31Z"
    },
    "message": "Fix CU overrun in scan_unit_for_symbols\n\nA customer program had a DWARF CU that consisted of just a CU DIE,\nwithout any children.  In this situation, scan_unit_for_symbols will\ntry to read past the end of the current CU, and will take use the\nfirst bytes of the next CU as an abbrev, printing an error message.\n\nThis patch fixes the bug by changing scan_unit_for_symbols to stop at\nthe end of the CU rather than the end of the .debug_info section.\n\nbfd/ChangeLog\n2019-08-15  Tom Tromey  <tromey@adacore.com>\n\n\t* dwarf2.c (scan_unit_for_symbols): Check for end of CU, not end\n\tof section.",
    "tree": {
      "sha": "94c70d92e366e3d1aed20206a153d8be1e77d1f7",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/94c70d92e366e3d1aed20206a153d8be1e77d1f7"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/05192282ca19f8f5c201f630caed68b1632e2619",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/05192282ca19f8f5c201f630caed68b1632e2619",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/05192282ca19f8f5c201f630caed68b1632e2619",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/05192282ca19f8f5c201f630caed68b1632e2619/comments",
  "author": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "6485977b899b2780c575ff1d34ccfa7fa950e492",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/6485977b899b2780c575ff1d34ccfa7fa950e492",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/6485977b899b2780c575ff1d34ccfa7fa950e492"
    }
  ],
  "stats": {
    "total": 7,
    "additions": 6,
    "deletions": 1
  },
  "files": [
    {
      "sha": "ad750bcd9a29449b273ffcf8d3d5523cbba8fdc6",
      "filename": "bfd/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/05192282ca19f8f5c201f630caed68b1632e2619/bfd/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/05192282ca19f8f5c201f630caed68b1632e2619/bfd/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/ChangeLog?ref=05192282ca19f8f5c201f630caed68b1632e2619",
      "patch": "@@ -1,3 +1,8 @@\n+2019-08-15  Tom Tromey  <tromey@adacore.com>\n+\n+\t* dwarf2.c (scan_unit_for_symbols): Check for end of CU, not end\n+\tof section.\n+\n 2019-08-14  Alan Modra  <amodra@gmail.com>\n \n \tPR 24623"
    },
    {
      "sha": "d56244b8ff02d461edb57a401ba2eb3fbb317cd9",
      "filename": "bfd/dwarf2.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/05192282ca19f8f5c201f630caed68b1632e2619/bfd/dwarf2.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/05192282ca19f8f5c201f630caed68b1632e2619/bfd/dwarf2.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/dwarf2.c?ref=05192282ca19f8f5c201f630caed68b1632e2619",
      "patch": "@@ -3072,7 +3072,7 @@ scan_unit_for_symbols (struct comp_unit *unit)\n {\n   bfd *abfd = unit->abfd;\n   bfd_byte *info_ptr = unit->first_child_die_ptr;\n-  bfd_byte *info_ptr_end = unit->stash->info_ptr_end;\n+  bfd_byte *info_ptr_end = unit->end_ptr;\n   int nesting_level = 0;\n   struct nest_funcinfo {\n     struct funcinfo *func;"
    }
  ]
}