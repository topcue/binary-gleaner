{
  "sha": "8ef6decbc1f3a5965fff70289e2bdccae3f9aa3c",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6OGVmNmRlY2JjMWYzYTU5NjVmZmY3MDI4OWUyYmRjY2FlM2Y5YWEzYw==",
  "commit": {
    "author": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2019-10-15T12:34:14Z"
    },
    "committer": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2019-10-16T00:33:34Z"
    },
    "message": "qsort: tc-xtensa.c tidy\n\nNot much to see here, just reduce the number of calls to S_GET_VALUE\nand symbol_symbolS in the comparison functions.\n\n\t* config/tc-xtensa.c (xg_order_trampoline_chain_entry): Don't\n\tcall S_GET_VALUE multiple times for a symbol.  Rearrange code\n\tso it is obvious what is the primary sort key.\n\t(xg_order_trampoline_chain): Similarly.",
    "tree": {
      "sha": "e20a037c9de93b42f9ec7ead0a97dcbcfcadd89b",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/e20a037c9de93b42f9ec7ead0a97dcbcfcadd89b"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/8ef6decbc1f3a5965fff70289e2bdccae3f9aa3c",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/8ef6decbc1f3a5965fff70289e2bdccae3f9aa3c",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/8ef6decbc1f3a5965fff70289e2bdccae3f9aa3c",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/8ef6decbc1f3a5965fff70289e2bdccae3f9aa3c/comments",
  "author": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "d9f06fca198cd11bbfd8c03e389a75f5d735b3a4",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/d9f06fca198cd11bbfd8c03e389a75f5d735b3a4",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/d9f06fca198cd11bbfd8c03e389a75f5d735b3a4"
    }
  ],
  "stats": {
    "total": 55,
    "additions": 33,
    "deletions": 22
  },
  "files": [
    {
      "sha": "ac2e3d75aa211023119687eb5421b5f26ed26c2a",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8ef6decbc1f3a5965fff70289e2bdccae3f9aa3c/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8ef6decbc1f3a5965fff70289e2bdccae3f9aa3c/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=8ef6decbc1f3a5965fff70289e2bdccae3f9aa3c",
      "patch": "@@ -1,3 +1,10 @@\n+2019-10-16  Alan Modra  <amodra@gmail.com>\n+\n+\t* config/tc-xtensa.c (xg_order_trampoline_chain_entry): Don't\n+\tcall S_GET_VALUE multiple times for a symbol.  Rearrange code\n+\tso it is obvious what is the primary sort key.\n+\t(xg_order_trampoline_chain): Similarly.\n+\n 2019-10-15  Alan Modra  <amodra@gmail.com>\n \n \t* config/tc-nds32.c (nds32_set_section_relocs): Use relocs and n"
    },
    {
      "sha": "60f9563585a99c3befa7a601a7687ec8dacf1476",
      "filename": "gas/config/tc-xtensa.c",
      "status": "modified",
      "additions": 26,
      "deletions": 22,
      "changes": 48,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8ef6decbc1f3a5965fff70289e2bdccae3f9aa3c/gas/config/tc-xtensa.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8ef6decbc1f3a5965fff70289e2bdccae3f9aa3c/gas/config/tc-xtensa.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/config/tc-xtensa.c?ref=8ef6decbc1f3a5965fff70289e2bdccae3f9aa3c",
      "patch": "@@ -7584,14 +7584,17 @@ static int xg_order_trampoline_chain_entry (const void *a, const void *b)\n   const struct trampoline_chain_entry *pa = a;\n   const struct trampoline_chain_entry *pb = b;\n \n-  if (pa->sym == pb->sym ||\n-      S_GET_VALUE (pa->sym) == S_GET_VALUE (pb->sym))\n-    if (pa->offset == pb->offset)\n-      return 0;\n-    else\n-      return pa->offset < pb->offset ? -1 : 1;\n-  else\n-    return S_GET_VALUE (pa->sym) < S_GET_VALUE (pb->sym) ? -1 : 1;\n+  if (pa->sym != pb->sym)\n+    {\n+      valueT aval = S_GET_VALUE (pa->sym);\n+      valueT bval = S_GET_VALUE (pb->sym);\n+\n+      if (aval != bval)\n+\treturn aval < bval ? -1 : 1;\n+    }\n+  if (pa->offset != pb->offset)\n+    return pa->offset < pb->offset ? -1 : 1;\n+  return 0;\n }\n \n static void xg_sort_trampoline_chain (struct trampoline_chain *tc)\n@@ -7674,23 +7677,24 @@ static int xg_order_trampoline_chain (const void *a, const void *b)\n   const struct trampoline_chain_entry *pb = &_pb->target;\n   symbolS *s1 = pa->sym;\n   symbolS *s2 = pb->sym;\n-  symbolS *tmp;\n \n-  tmp = symbol_symbolS (s1);\n-  if (tmp)\n-    s1 = tmp;\n+  if (s1 != s2)\n+    {\n+      symbolS *tmp = symbol_symbolS (s1);\n+      if (tmp)\n+\ts1 = tmp;\n \n-  tmp = symbol_symbolS (s2);\n-  if (tmp)\n-    s2 = tmp;\n+      tmp = symbol_symbolS (s2);\n+      if (tmp)\n+\ts2 = tmp;\n \n-  if (s1 == s2)\n-    if (pa->offset == pb->offset)\n-      return 0;\n-    else\n-      return pa->offset < pb->offset ? -1 : 1;\n-  else\n-    return s1 < s2 ? -1 : 1;\n+      if (s1 != s2)\n+\treturn s1 < s2 ? -1 : 1;\n+    }\n+\n+  if (pa->offset != pb->offset)\n+    return pa->offset < pb->offset ? -1 : 1;\n+  return 0;\n }\n \n static struct trampoline_chain *"
    }
  ]
}