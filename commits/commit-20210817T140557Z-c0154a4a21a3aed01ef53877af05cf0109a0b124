{
  "sha": "c0154a4a21a3aed01ef53877af05cf0109a0b124",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YzAxNTRhNGEyMWEzYWVkMDFlZjUzODc3YWYwNWNmMDEwOWEwYjEyNA==",
  "commit": {
    "author": {
      "name": "H.J. Lu",
      "email": "hjl.tools@gmail.com",
      "date": "2021-08-16T23:17:25Z"
    },
    "committer": {
      "name": "H.J. Lu",
      "email": "hjl.tools@gmail.com",
      "date": "2021-08-17T14:05:57Z"
    },
    "message": "gdb: Don't assume r_ldsomap when r_version > 1 on Linux\n\nThe r_ldsomap field is specific to Solaris (part of librtld_db), and\nshould never be accessed for Linux.  glibc is planning to add a field\nto support multiple namespaces.  But there will be no r_ldsomap when\nr_version is bumped to 2.  Add linux_[ilp32|lp64]_fetch_link_map_offsets\nto set r_ldsomap_offset to -1 and use them for Linux targets.\n\nBug: https://sourceware.org/bugzilla/show_bug.cgi?id=28236",
    "tree": {
      "sha": "206fc433b66b3caa20711524ec3beff97a4c8eb3",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/206fc433b66b3caa20711524ec3beff97a4c8eb3"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/c0154a4a21a3aed01ef53877af05cf0109a0b124",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/c0154a4a21a3aed01ef53877af05cf0109a0b124",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/c0154a4a21a3aed01ef53877af05cf0109a0b124",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/c0154a4a21a3aed01ef53877af05cf0109a0b124/comments",
  "author": {
    "login": "hjl-tools",
    "id": 1072356,
    "node_id": "MDQ6VXNlcjEwNzIzNTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hjl-tools",
    "html_url": "https://github.com/hjl-tools",
    "followers_url": "https://api.github.com/users/hjl-tools/followers",
    "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}",
    "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions",
    "organizations_url": "https://api.github.com/users/hjl-tools/orgs",
    "repos_url": "https://api.github.com/users/hjl-tools/repos",
    "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hjl-tools/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "hjl-tools",
    "id": 1072356,
    "node_id": "MDQ6VXNlcjEwNzIzNTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hjl-tools",
    "html_url": "https://github.com/hjl-tools",
    "followers_url": "https://api.github.com/users/hjl-tools/followers",
    "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}",
    "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions",
    "organizations_url": "https://api.github.com/users/hjl-tools/orgs",
    "repos_url": "https://api.github.com/users/hjl-tools/repos",
    "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hjl-tools/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "4eb629d50d449a079d3f5e22f26f45855939164f",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/4eb629d50d449a079d3f5e22f26f45855939164f",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/4eb629d50d449a079d3f5e22f26f45855939164f"
    }
  ],
  "stats": {
    "total": 129,
    "additions": 97,
    "deletions": 32
  },
  "files": [
    {
      "sha": "b1225438d9d53fded48b1977cba53affcf49028b",
      "filename": "gdb/aarch64-linux-tdep.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/aarch64-linux-tdep.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/aarch64-linux-tdep.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/aarch64-linux-tdep.c?ref=c0154a4a21a3aed01ef53877af05cf0109a0b124",
      "patch": "@@ -1795,7 +1795,7 @@ aarch64_linux_init_abi (struct gdbarch_info info, struct gdbarch *gdbarch)\n   linux_init_abi (info, gdbarch, 1);\n \n   set_solib_svr4_fetch_link_map_offsets (gdbarch,\n-\t\t\t\t\t svr4_lp64_fetch_link_map_offsets);\n+\t\t\t\t\t linux_lp64_fetch_link_map_offsets);\n \n   /* Enable TLS support.  */\n   set_gdbarch_fetch_tls_load_module_address (gdbarch,"
    },
    {
      "sha": "0a00fc1f310c5f951a89c4a333a15b2243514b93",
      "filename": "gdb/alpha-linux-tdep.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/alpha-linux-tdep.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/alpha-linux-tdep.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/alpha-linux-tdep.c?ref=c0154a4a21a3aed01ef53877af05cf0109a0b124",
      "patch": "@@ -374,7 +374,7 @@ alpha_linux_init_abi (struct gdbarch_info info, struct gdbarch *gdbarch)\n   set_gdbarch_skip_trampoline_code (gdbarch, find_solib_trampoline_target);\n \n   set_solib_svr4_fetch_link_map_offsets\n-    (gdbarch, svr4_lp64_fetch_link_map_offsets);\n+    (gdbarch, linux_lp64_fetch_link_map_offsets);\n \n   /* Enable TLS support.  */\n   set_gdbarch_fetch_tls_load_module_address (gdbarch,"
    },
    {
      "sha": "715add8a7b0603fd3568089061844ba62a22270a",
      "filename": "gdb/amd64-linux-tdep.c",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/amd64-linux-tdep.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/amd64-linux-tdep.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/amd64-linux-tdep.c?ref=c0154a4a21a3aed01ef53877af05cf0109a0b124",
      "patch": "@@ -2042,7 +2042,7 @@ amd64_linux_init_abi (struct gdbarch_info info, struct gdbarch *gdbarch)\n \n   /* GNU/Linux uses SVR4-style shared libraries.  */\n   set_solib_svr4_fetch_link_map_offsets\n-    (gdbarch, svr4_lp64_fetch_link_map_offsets);\n+    (gdbarch, linux_lp64_fetch_link_map_offsets);\n \n   /* Register DTrace handlers.  */\n   set_gdbarch_dtrace_parse_probe_argument (gdbarch, amd64_dtrace_parse_probe_argument);\n@@ -2256,7 +2256,7 @@ amd64_x32_linux_init_abi (struct gdbarch_info info, struct gdbarch *gdbarch)\n \n   /* GNU/Linux uses SVR4-style shared libraries.  */\n   set_solib_svr4_fetch_link_map_offsets\n-    (gdbarch, svr4_ilp32_fetch_link_map_offsets);\n+    (gdbarch, linux_ilp32_fetch_link_map_offsets);\n }\n \n void _initialize_amd64_linux_tdep ();"
    },
    {
      "sha": "448fa370a36199a437711bebc9d17b942405056d",
      "filename": "gdb/arc-linux-tdep.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/arc-linux-tdep.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/arc-linux-tdep.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/arc-linux-tdep.c?ref=c0154a4a21a3aed01ef53877af05cf0109a0b124",
      "patch": "@@ -732,7 +732,7 @@ arc_linux_init_osabi (struct gdbarch_info info, struct gdbarch *gdbarch)\n   /* GNU/Linux uses SVR4-style shared libraries, with 32-bit ints, longs\n      and pointers (ILP32).  */\n   set_solib_svr4_fetch_link_map_offsets (gdbarch,\n-\t\t\t\t\t svr4_ilp32_fetch_link_map_offsets);\n+\t\t\t\t\t linux_ilp32_fetch_link_map_offsets);\n }\n \n /* Suppress warning from -Wmissing-prototypes.  */"
    },
    {
      "sha": "c0dfc5fcf3e1a5da5f168fda5e9d7c28bbd47ca8",
      "filename": "gdb/arm-linux-tdep.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/arm-linux-tdep.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/arm-linux-tdep.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/arm-linux-tdep.c?ref=c0154a4a21a3aed01ef53877af05cf0109a0b124",
      "patch": "@@ -1763,7 +1763,7 @@ arm_linux_init_abi (struct gdbarch_info info,\n   tdep->jb_elt_size = ARM_LINUX_JB_ELEMENT_SIZE;\n \n   set_solib_svr4_fetch_link_map_offsets\n-    (gdbarch, svr4_ilp32_fetch_link_map_offsets);\n+    (gdbarch, linux_ilp32_fetch_link_map_offsets);\n \n   /* Single stepping.  */\n   set_gdbarch_software_single_step (gdbarch, arm_linux_software_single_step);"
    },
    {
      "sha": "68a12dbe0e9e762f3e364373bf298552b492926a",
      "filename": "gdb/cris-linux-tdep.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/cris-linux-tdep.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/cris-linux-tdep.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/cris-linux-tdep.c?ref=c0154a4a21a3aed01ef53877af05cf0109a0b124",
      "patch": "@@ -43,7 +43,7 @@ cris_linux_init_abi (struct gdbarch_info info, struct gdbarch *gdbarch)\n \t\t\t\t\t       svr4_fetch_objfile_link_map);\n \n   set_solib_svr4_fetch_link_map_offsets (gdbarch,\n-\t\t\t\t\t svr4_ilp32_fetch_link_map_offsets);\n+\t\t\t\t\t linux_ilp32_fetch_link_map_offsets);\n \n }\n "
    },
    {
      "sha": "3a52a87b647ba87f80fc04fbb37be059d68d3ee3",
      "filename": "gdb/csky-linux-tdep.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/csky-linux-tdep.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/csky-linux-tdep.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/csky-linux-tdep.c?ref=c0154a4a21a3aed01ef53877af05cf0109a0b124",
      "patch": "@@ -239,7 +239,7 @@ csky_linux_init_abi (struct gdbarch_info info, struct gdbarch *gdbarch)\n   set_gdbarch_skip_trampoline_code (gdbarch, find_solib_trampoline_target);\n   set_gdbarch_skip_solib_resolver (gdbarch, glibc_skip_solib_resolver);\n   set_solib_svr4_fetch_link_map_offsets (gdbarch,\n-\t\t\t\t\t svr4_ilp32_fetch_link_map_offsets);\n+\t\t\t\t\t linux_ilp32_fetch_link_map_offsets);\n \n   /* Enable TLS support.  */\n   set_gdbarch_fetch_tls_load_module_address (gdbarch,"
    },
    {
      "sha": "52c642f0c7f8d80099f225e32f3d237b1ff9627f",
      "filename": "gdb/hppa-linux-tdep.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/hppa-linux-tdep.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/hppa-linux-tdep.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/hppa-linux-tdep.c?ref=c0154a4a21a3aed01ef53877af05cf0109a0b124",
      "patch": "@@ -501,7 +501,7 @@ hppa_linux_init_abi (struct gdbarch_info info, struct gdbarch *gdbarch)\n \n   /* GNU/Linux uses SVR4-style shared libraries.  */\n   set_solib_svr4_fetch_link_map_offsets\n-    (gdbarch, svr4_ilp32_fetch_link_map_offsets);\n+    (gdbarch, linux_ilp32_fetch_link_map_offsets);\n \n   tdep->in_solib_call_trampoline = hppa_in_solib_call_trampoline;\n   set_gdbarch_skip_trampoline_code (gdbarch, hppa_skip_trampoline_code);"
    },
    {
      "sha": "1c065eecb4dbd405324a111e953c12b9eb170252",
      "filename": "gdb/i386-linux-tdep.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/i386-linux-tdep.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/i386-linux-tdep.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/i386-linux-tdep.c?ref=c0154a4a21a3aed01ef53877af05cf0109a0b124",
      "patch": "@@ -1044,7 +1044,7 @@ i386_linux_init_abi (struct gdbarch_info info, struct gdbarch *gdbarch)\n   /* GNU/Linux uses SVR4-style shared libraries.  */\n   set_gdbarch_skip_trampoline_code (gdbarch, find_solib_trampoline_target);\n   set_solib_svr4_fetch_link_map_offsets\n-    (gdbarch, svr4_ilp32_fetch_link_map_offsets);\n+    (gdbarch, linux_ilp32_fetch_link_map_offsets);\n \n   /* GNU/Linux uses the dynamic linker included in the GNU C Library.  */\n   set_gdbarch_skip_solib_resolver (gdbarch, glibc_skip_solib_resolver);"
    },
    {
      "sha": "71767ddf83e980d2d1d900cbe9ec54ff45f9d743",
      "filename": "gdb/ia64-linux-tdep.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/ia64-linux-tdep.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/ia64-linux-tdep.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ia64-linux-tdep.c?ref=c0154a4a21a3aed01ef53877af05cf0109a0b124",
      "patch": "@@ -237,7 +237,7 @@ ia64_linux_init_abi (struct gdbarch_info info, struct gdbarch *gdbarch)\n   set_gdbarch_skip_trampoline_code (gdbarch, find_solib_trampoline_target);\n \n   set_solib_svr4_fetch_link_map_offsets\n-    (gdbarch, svr4_lp64_fetch_link_map_offsets);\n+    (gdbarch, linux_lp64_fetch_link_map_offsets);\n \n   /* Enable TLS support.  */\n   set_gdbarch_fetch_tls_load_module_address (gdbarch,"
    },
    {
      "sha": "ae2f7c14f6d3ea187a89a7e83ae83f156a2e7488",
      "filename": "gdb/linux-tdep.c",
      "status": "modified",
      "additions": 60,
      "deletions": 0,
      "changes": 60,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/linux-tdep.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/linux-tdep.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/linux-tdep.c?ref=c0154a4a21a3aed01ef53877af05cf0109a0b124",
      "patch": "@@ -41,6 +41,7 @@\n #include \"gdbsupport/gdb_optional.h\"\n #include \"gcore.h\"\n #include \"gcore-elf.h\"\n+#include \"solib-svr4.h\"\n \n #include <ctype.h>\n \n@@ -2724,3 +2725,62 @@ more information about this file, refer to the manpage of proc(5) and core(5).\")\n \t\t\t   NULL, show_dump_excluded_mappings,\n \t\t\t   &setlist, &showlist);\n }\n+\n+/* Fetch (and possibly build) an appropriate `link_map_offsets' for\n+   ILP32/LP64 Linux systems which don't have the r_ldsomap field.  */\n+\n+link_map_offsets *\n+linux_ilp32_fetch_link_map_offsets ()\n+{\n+  static link_map_offsets lmo;\n+  static link_map_offsets *lmp = nullptr;\n+\n+  if (lmp == nullptr)\n+    {\n+      lmp = &lmo;\n+\n+      lmo.r_version_offset = 0;\n+      lmo.r_version_size = 4;\n+      lmo.r_map_offset = 4;\n+      lmo.r_brk_offset = 8;\n+      lmo.r_ldsomap_offset = -1;\n+\n+      /* Everything we need is in the first 20 bytes.  */\n+      lmo.link_map_size = 20;\n+      lmo.l_addr_offset = 0;\n+      lmo.l_name_offset = 4;\n+      lmo.l_ld_offset = 8;\n+      lmo.l_next_offset = 12;\n+      lmo.l_prev_offset = 16;\n+    }\n+\n+  return lmp;\n+}\n+\n+link_map_offsets *\n+linux_lp64_fetch_link_map_offsets ()\n+{\n+  static link_map_offsets lmo;\n+  static link_map_offsets *lmp = nullptr;\n+\n+  if (lmp == nullptr)\n+    {\n+      lmp = &lmo;\n+\n+      lmo.r_version_offset = 0;\n+      lmo.r_version_size = 4;\n+      lmo.r_map_offset = 8;\n+      lmo.r_brk_offset = 16;\n+      lmo.r_ldsomap_offset = -1;\n+\n+      /* Everything we need is in the first 40 bytes.  */\n+      lmo.link_map_size = 40;\n+      lmo.l_addr_offset = 0;\n+      lmo.l_name_offset = 8;\n+      lmo.l_ld_offset = 16;\n+      lmo.l_next_offset = 24;\n+      lmo.l_prev_offset = 32;\n+    }\n+\n+  return lmp;\n+}"
    },
    {
      "sha": "b5c1184bb099ea697ac5e206880bc937533f2eb3",
      "filename": "gdb/linux-tdep.h",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/linux-tdep.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/linux-tdep.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/linux-tdep.h?ref=c0154a4a21a3aed01ef53877af05cf0109a0b124",
      "patch": "@@ -98,4 +98,9 @@ extern CORE_ADDR linux_get_hwcap (struct target_ops *target);\n    error, 0 is returned.  */\n extern CORE_ADDR linux_get_hwcap2 (struct target_ops *target);\n \n+/* Fetch (and possibly build) an appropriate `struct link_map_offsets'\n+   for ILP32 and LP64 Linux systems.  */\n+extern struct link_map_offsets *linux_ilp32_fetch_link_map_offsets ();\n+extern struct link_map_offsets *linux_lp64_fetch_link_map_offsets ();\n+\n #endif /* linux-tdep.h */"
    },
    {
      "sha": "af0b5c01d044fba822438bfd4f00f909e6ca6acd",
      "filename": "gdb/m32r-linux-tdep.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/m32r-linux-tdep.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/m32r-linux-tdep.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/m32r-linux-tdep.c?ref=c0154a4a21a3aed01ef53877af05cf0109a0b124",
      "patch": "@@ -461,7 +461,7 @@ m32r_linux_init_abi (struct gdbarch_info info, struct gdbarch *gdbarch)\n   /* GNU/Linux uses SVR4-style shared libraries.  */\n   set_gdbarch_skip_trampoline_code (gdbarch, find_solib_trampoline_target);\n   set_solib_svr4_fetch_link_map_offsets\n-    (gdbarch, svr4_ilp32_fetch_link_map_offsets);\n+    (gdbarch, linux_ilp32_fetch_link_map_offsets);\n \n   /* Core file support.  */\n   set_gdbarch_iterate_over_regset_sections"
    },
    {
      "sha": "ad4d75adb4df0f402bc07aba423d2ba615220a72",
      "filename": "gdb/m68k-linux-tdep.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/m68k-linux-tdep.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/m68k-linux-tdep.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/m68k-linux-tdep.c?ref=c0154a4a21a3aed01ef53877af05cf0109a0b124",
      "patch": "@@ -408,7 +408,7 @@ m68k_linux_init_abi (struct gdbarch_info info, struct gdbarch *gdbarch)\n \n   /* GNU/Linux uses SVR4-style shared libraries.  */\n   set_solib_svr4_fetch_link_map_offsets (gdbarch,\n-\t\t\t\t\t svr4_ilp32_fetch_link_map_offsets);\n+\t\t\t\t\t linux_ilp32_fetch_link_map_offsets);\n \n   /* GNU/Linux uses the dynamic linker included in the GNU C Library.  */\n   set_gdbarch_skip_solib_resolver (gdbarch, glibc_skip_solib_resolver);"
    },
    {
      "sha": "e9ce7cd7fe063fb93c8a4cde45822ca0d9508f3b",
      "filename": "gdb/microblaze-linux-tdep.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/microblaze-linux-tdep.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/microblaze-linux-tdep.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/microblaze-linux-tdep.c?ref=c0154a4a21a3aed01ef53877af05cf0109a0b124",
      "patch": "@@ -124,7 +124,7 @@ microblaze_linux_init_abi (struct gdbarch_info info,\n \n   /* Shared library handling.  */\n   set_solib_svr4_fetch_link_map_offsets (gdbarch,\n-\t\t\t\t\t svr4_ilp32_fetch_link_map_offsets);\n+\t\t\t\t\t linux_ilp32_fetch_link_map_offsets);\n \n   /* Trampolines.  */\n   tramp_frame_prepend_unwinder (gdbarch,"
    },
    {
      "sha": "ce287f6a3540bcbb77b3d4f733fb4456264f2154",
      "filename": "gdb/mips-linux-tdep.c",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/mips-linux-tdep.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/mips-linux-tdep.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/mips-linux-tdep.c?ref=c0154a4a21a3aed01ef53877af05cf0109a0b124",
      "patch": "@@ -1542,7 +1542,7 @@ mips_linux_init_abi (struct gdbarch_info info,\n \tset_gdbarch_get_longjmp_target (gdbarch,\n \t\t\t\t\tmips_linux_get_longjmp_target);\n \tset_solib_svr4_fetch_link_map_offsets\n-\t  (gdbarch, svr4_ilp32_fetch_link_map_offsets);\n+\t  (gdbarch, linux_ilp32_fetch_link_map_offsets);\n \ttramp_frame_prepend_unwinder (gdbarch, &micromips_linux_o32_sigframe);\n \ttramp_frame_prepend_unwinder (gdbarch,\n \t\t\t\t      &micromips_linux_o32_rt_sigframe);\n@@ -1554,7 +1554,7 @@ mips_linux_init_abi (struct gdbarch_info info,\n \tset_gdbarch_get_longjmp_target (gdbarch,\n \t\t\t\t\tmips_linux_get_longjmp_target);\n \tset_solib_svr4_fetch_link_map_offsets\n-\t  (gdbarch, svr4_ilp32_fetch_link_map_offsets);\n+\t  (gdbarch, linux_ilp32_fetch_link_map_offsets);\n \tset_gdbarch_long_double_bit (gdbarch, 128);\n \t/* These floatformats should probably be renamed.  MIPS uses\n \t   the same 128-bit IEEE floating point format that IA-64 uses,\n@@ -1570,7 +1570,7 @@ mips_linux_init_abi (struct gdbarch_info info,\n \tset_gdbarch_get_longjmp_target (gdbarch,\n \t\t\t\t\tmips64_linux_get_longjmp_target);\n \tset_solib_svr4_fetch_link_map_offsets\n-\t  (gdbarch, svr4_lp64_fetch_link_map_offsets);\n+\t  (gdbarch, linux_lp64_fetch_link_map_offsets);\n \tset_gdbarch_long_double_bit (gdbarch, 128);\n \t/* These floatformats should probably be renamed.  MIPS uses\n \t   the same 128-bit IEEE floating point format that IA-64 uses,"
    },
    {
      "sha": "7c68d1116c53ac3b5d5a446bfd530ca6395f66b8",
      "filename": "gdb/mn10300-linux-tdep.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/mn10300-linux-tdep.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/mn10300-linux-tdep.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/mn10300-linux-tdep.c?ref=c0154a4a21a3aed01ef53877af05cf0109a0b124",
      "patch": "@@ -709,7 +709,7 @@ am33_linux_init_osabi (struct gdbarch_info info, struct gdbarch *gdbarch)\n   set_gdbarch_iterate_over_regset_sections\n     (gdbarch, am33_iterate_over_regset_sections);\n   set_solib_svr4_fetch_link_map_offsets\n-    (gdbarch, svr4_ilp32_fetch_link_map_offsets);\n+    (gdbarch, linux_ilp32_fetch_link_map_offsets);\n \n   tramp_frame_prepend_unwinder (gdbarch, &am33_linux_sigframe);\n   tramp_frame_prepend_unwinder (gdbarch, &am33_linux_rt_sigframe);"
    },
    {
      "sha": "bd86146c878abc74aa679b430cbce397b1949a73",
      "filename": "gdb/nios2-linux-tdep.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/nios2-linux-tdep.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/nios2-linux-tdep.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/nios2-linux-tdep.c?ref=c0154a4a21a3aed01ef53877af05cf0109a0b124",
      "patch": "@@ -226,7 +226,7 @@ nios2_linux_init_abi (struct gdbarch_info info, struct gdbarch *gdbarch)\n   set_gdbarch_skip_solib_resolver (gdbarch, glibc_skip_solib_resolver);\n \n   set_solib_svr4_fetch_link_map_offsets (gdbarch,\n-\t\t\t\t\t svr4_ilp32_fetch_link_map_offsets);\n+\t\t\t\t\t linux_ilp32_fetch_link_map_offsets);\n   /* Enable TLS support.  */\n   set_gdbarch_fetch_tls_load_module_address (gdbarch,\n \t\t\t\t\t     svr4_fetch_objfile_link_map);"
    },
    {
      "sha": "2ad55f0d9ec8c663cf587238ed2607e7adce4d9a",
      "filename": "gdb/or1k-linux-tdep.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/or1k-linux-tdep.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/or1k-linux-tdep.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/or1k-linux-tdep.c?ref=c0154a4a21a3aed01ef53877af05cf0109a0b124",
      "patch": "@@ -143,7 +143,7 @@ or1k_linux_init_abi (struct gdbarch_info info, struct gdbarch *gdbarch)\n   linux_init_abi (info, gdbarch, 0);\n \n   set_solib_svr4_fetch_link_map_offsets (gdbarch,\n-\t\t\t\t\t svr4_ilp32_fetch_link_map_offsets);\n+\t\t\t\t\t linux_ilp32_fetch_link_map_offsets);\n \n   /* GNU/Linux uses SVR4-style shared libraries.  */\n   set_gdbarch_skip_trampoline_code (gdbarch, find_solib_trampoline_target);"
    },
    {
      "sha": "e62f45a35d80b28919d157790e83e5d9aacc725d",
      "filename": "gdb/ppc-linux-tdep.c",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/ppc-linux-tdep.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/ppc-linux-tdep.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ppc-linux-tdep.c?ref=c0154a4a21a3aed01ef53877af05cf0109a0b124",
      "patch": "@@ -2035,7 +2035,7 @@ ppc_linux_init_abi (struct gdbarch_info info,\n       /* Shared library handling.  */\n       set_gdbarch_skip_trampoline_code (gdbarch, ppc_skip_trampoline_code);\n       set_solib_svr4_fetch_link_map_offsets\n-\t(gdbarch, svr4_ilp32_fetch_link_map_offsets);\n+\t(gdbarch, linux_ilp32_fetch_link_map_offsets);\n \n       /* Setting the correct XML syscall filename.  */\n       set_xml_syscall_file_name (gdbarch, XML_SYSCALL_FILENAME_PPC);\n@@ -2087,7 +2087,7 @@ ppc_linux_init_abi (struct gdbarch_info info,\n       /* Shared library handling.  */\n       set_gdbarch_skip_trampoline_code (gdbarch, ppc64_skip_trampoline_code);\n       set_solib_svr4_fetch_link_map_offsets\n-\t(gdbarch, svr4_lp64_fetch_link_map_offsets);\n+\t(gdbarch, linux_lp64_fetch_link_map_offsets);\n \n       /* Setting the correct XML syscall filename.  */\n       set_xml_syscall_file_name (gdbarch, XML_SYSCALL_FILENAME_PPC64);"
    },
    {
      "sha": "7351e1901d6cc8a1defa9a51c904d6513c44b3d2",
      "filename": "gdb/riscv-linux-tdep.c",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/riscv-linux-tdep.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/riscv-linux-tdep.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/riscv-linux-tdep.c?ref=c0154a4a21a3aed01ef53877af05cf0109a0b124",
      "patch": "@@ -187,8 +187,8 @@ riscv_linux_init_abi (struct gdbarch_info info, struct gdbarch *gdbarch)\n \n   set_solib_svr4_fetch_link_map_offsets (gdbarch,\n \t\t\t\t\t (riscv_isa_xlen (gdbarch) == 4\n-\t\t\t\t\t  ? svr4_ilp32_fetch_link_map_offsets\n-\t\t\t\t\t  : svr4_lp64_fetch_link_map_offsets));\n+\t\t\t\t\t  ? linux_ilp32_fetch_link_map_offsets\n+\t\t\t\t\t  : linux_lp64_fetch_link_map_offsets));\n \n   /* GNU/Linux uses SVR4-style shared libraries.  */\n   set_gdbarch_skip_trampoline_code (gdbarch, find_solib_trampoline_target);"
    },
    {
      "sha": "04e3fc640d26e9a36d40c24053cb5142564b9c46",
      "filename": "gdb/s390-linux-tdep.c",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/s390-linux-tdep.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/s390-linux-tdep.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/s390-linux-tdep.c?ref=c0154a4a21a3aed01ef53877af05cf0109a0b124",
      "patch": "@@ -1158,7 +1158,7 @@ s390_linux_init_abi_31 (struct gdbarch_info info, struct gdbarch *gdbarch)\n   s390_linux_init_abi_any (info, gdbarch);\n \n   set_solib_svr4_fetch_link_map_offsets (gdbarch,\n-\t\t\t\t\t svr4_ilp32_fetch_link_map_offsets);\n+\t\t\t\t\t linux_ilp32_fetch_link_map_offsets);\n   set_xml_syscall_file_name (gdbarch, XML_SYSCALL_FILENAME_S390);\n }\n \n@@ -1174,7 +1174,7 @@ s390_linux_init_abi_64 (struct gdbarch_info info, struct gdbarch *gdbarch)\n   s390_linux_init_abi_any (info, gdbarch);\n \n   set_solib_svr4_fetch_link_map_offsets (gdbarch,\n-\t\t\t\t\t svr4_lp64_fetch_link_map_offsets);\n+\t\t\t\t\t linux_lp64_fetch_link_map_offsets);\n   set_xml_syscall_file_name (gdbarch, XML_SYSCALL_FILENAME_S390X);\n }\n "
    },
    {
      "sha": "8315d46fddf84ef56e5c984429acd84de676d306",
      "filename": "gdb/sh-linux-tdep.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/sh-linux-tdep.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/sh-linux-tdep.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/sh-linux-tdep.c?ref=c0154a4a21a3aed01ef53877af05cf0109a0b124",
      "patch": "@@ -189,7 +189,7 @@ sh_linux_init_abi (struct gdbarch_info info, struct gdbarch *gdbarch)\n   /* GNU/Linux uses SVR4-style shared libraries.  */\n   set_gdbarch_skip_trampoline_code (gdbarch, find_solib_trampoline_target);\n   set_solib_svr4_fetch_link_map_offsets\n-    (gdbarch, svr4_ilp32_fetch_link_map_offsets);\n+    (gdbarch, linux_ilp32_fetch_link_map_offsets);\n   set_gdbarch_skip_solib_resolver (gdbarch, glibc_skip_solib_resolver);\n \n   set_gdbarch_fetch_tls_load_module_address (gdbarch,"
    },
    {
      "sha": "4ad77e24d82c62b608ad58a4a9f7b2561d472496",
      "filename": "gdb/sparc-linux-tdep.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/sparc-linux-tdep.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/sparc-linux-tdep.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/sparc-linux-tdep.c?ref=c0154a4a21a3aed01ef53877af05cf0109a0b124",
      "patch": "@@ -436,7 +436,7 @@ sparc32_linux_init_abi (struct gdbarch_info info, struct gdbarch *gdbarch)\n   /* GNU/Linux has SVR4-style shared libraries...  */\n   set_gdbarch_skip_trampoline_code (gdbarch, find_solib_trampoline_target);\n   set_solib_svr4_fetch_link_map_offsets\n-    (gdbarch, svr4_ilp32_fetch_link_map_offsets);\n+    (gdbarch, linux_ilp32_fetch_link_map_offsets);\n \n   /* ...which means that we need some special handling when doing\n      prologue analysis.  */"
    },
    {
      "sha": "e63fa87c69b3b1422c9b40f7781308d83783a2a0",
      "filename": "gdb/sparc64-linux-tdep.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/sparc64-linux-tdep.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/sparc64-linux-tdep.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/sparc64-linux-tdep.c?ref=c0154a4a21a3aed01ef53877af05cf0109a0b124",
      "patch": "@@ -383,7 +383,7 @@ sparc64_linux_init_abi (struct gdbarch_info info, struct gdbarch *gdbarch)\n   /* GNU/Linux has SVR4-style shared libraries...  */\n   set_gdbarch_skip_trampoline_code (gdbarch, find_solib_trampoline_target);\n   set_solib_svr4_fetch_link_map_offsets\n-    (gdbarch, svr4_lp64_fetch_link_map_offsets);\n+    (gdbarch, linux_lp64_fetch_link_map_offsets);\n \n   /* ...which means that we need some special handling when doing\n      prologue analysis.  */"
    },
    {
      "sha": "353497a3434e5392df9bf251d5613b95eae5dd0a",
      "filename": "gdb/tilegx-linux-tdep.c",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/tilegx-linux-tdep.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/tilegx-linux-tdep.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/tilegx-linux-tdep.c?ref=c0154a4a21a3aed01ef53877af05cf0109a0b124",
      "patch": "@@ -121,10 +121,10 @@ tilegx_linux_init_abi (struct gdbarch_info info, struct gdbarch *gdbarch)\n   /* GNU/Linux uses SVR4-style shared libraries.  */\n   if (arch_size == 32)\n     set_solib_svr4_fetch_link_map_offsets (gdbarch,\n-\t\t\t\t\t   svr4_ilp32_fetch_link_map_offsets);\n+\t\t\t\t\t   linux_ilp32_fetch_link_map_offsets);\n   else\n     set_solib_svr4_fetch_link_map_offsets (gdbarch,\n-\t\t\t\t\t   svr4_lp64_fetch_link_map_offsets);\n+\t\t\t\t\t   linux_lp64_fetch_link_map_offsets);\n \n   /* Enable TLS support.  */\n   set_gdbarch_fetch_tls_load_module_address (gdbarch,"
    },
    {
      "sha": "c9e2519b1e71107bc141dba3d8ce91755e5faf6e",
      "filename": "gdb/xtensa-linux-tdep.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/xtensa-linux-tdep.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0154a4a21a3aed01ef53877af05cf0109a0b124/gdb/xtensa-linux-tdep.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/xtensa-linux-tdep.c?ref=c0154a4a21a3aed01ef53877af05cf0109a0b124",
      "patch": "@@ -113,7 +113,7 @@ xtensa_linux_init_abi (struct gdbarch_info info, struct gdbarch *gdbarch)\n   linux_init_abi (info, gdbarch, 0);\n \n   set_solib_svr4_fetch_link_map_offsets\n-    (gdbarch, svr4_ilp32_fetch_link_map_offsets);\n+    (gdbarch, linux_ilp32_fetch_link_map_offsets);\n \n   set_gdbarch_gdb_signal_from_target (gdbarch,\n \t\t\t\t      xtensa_linux_gdb_signal_from_target);"
    }
  ]
}