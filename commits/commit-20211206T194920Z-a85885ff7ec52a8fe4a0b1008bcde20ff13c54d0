{
  "sha": "a85885ff7ec52a8fe4a0b1008bcde20ff13c54d0",
  "node_id": "C_kwDOANOeidoAKGE4NTg4NWZmN2VjNTJhOGZlNGEwYjEwMDhiY2RlMjBmZjEzYzU0ZDA",
  "commit": {
    "author": {
      "name": "Carl Love",
      "email": "cel@us.ibm.com",
      "date": "2021-11-19T18:33:51Z"
    },
    "committer": {
      "name": "Carl Love",
      "email": "cel@us.ibm.com",
      "date": "2021-12-06T19:49:20Z"
    },
    "message": "gdb: Add PowerPC support to gdb.dwarf2/frame-inlined-in-outer-frame\n\nThis patch adds an #elif defined for PowerPC to setup the exit_0 macro.\nThis patch addes the needed macro definitionald logic to handle both elfV1\nand elfV2.\n\nThe patch has been successfully tested on both PowerPC BE, Powerpc LE and\nX86_64 with no regressions.",
    "tree": {
      "sha": "dc1cc1632e4b93d1692c8789f0d4a58e2b31b77d",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/dc1cc1632e4b93d1692c8789f0d4a58e2b31b77d"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/a85885ff7ec52a8fe4a0b1008bcde20ff13c54d0",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/a85885ff7ec52a8fe4a0b1008bcde20ff13c54d0",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/a85885ff7ec52a8fe4a0b1008bcde20ff13c54d0",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/a85885ff7ec52a8fe4a0b1008bcde20ff13c54d0/comments",
  "author": {
    "login": "carlelove",
    "id": 86435705,
    "node_id": "MDQ6VXNlcjg2NDM1NzA1",
    "avatar_url": "https://avatars.githubusercontent.com/u/86435705?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/carlelove",
    "html_url": "https://github.com/carlelove",
    "followers_url": "https://api.github.com/users/carlelove/followers",
    "following_url": "https://api.github.com/users/carlelove/following{/other_user}",
    "gists_url": "https://api.github.com/users/carlelove/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/carlelove/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/carlelove/subscriptions",
    "organizations_url": "https://api.github.com/users/carlelove/orgs",
    "repos_url": "https://api.github.com/users/carlelove/repos",
    "events_url": "https://api.github.com/users/carlelove/events{/privacy}",
    "received_events_url": "https://api.github.com/users/carlelove/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "carlelove",
    "id": 86435705,
    "node_id": "MDQ6VXNlcjg2NDM1NzA1",
    "avatar_url": "https://avatars.githubusercontent.com/u/86435705?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/carlelove",
    "html_url": "https://github.com/carlelove",
    "followers_url": "https://api.github.com/users/carlelove/followers",
    "following_url": "https://api.github.com/users/carlelove/following{/other_user}",
    "gists_url": "https://api.github.com/users/carlelove/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/carlelove/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/carlelove/subscriptions",
    "organizations_url": "https://api.github.com/users/carlelove/orgs",
    "repos_url": "https://api.github.com/users/carlelove/repos",
    "events_url": "https://api.github.com/users/carlelove/events{/privacy}",
    "received_events_url": "https://api.github.com/users/carlelove/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "b082698c5cb9c076628476b132a140ca78e9c03b",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/b082698c5cb9c076628476b132a140ca78e9c03b",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/b082698c5cb9c076628476b132a140ca78e9c03b"
    }
  ],
  "stats": {
    "total": 24,
    "additions": 24,
    "deletions": 0
  },
  "files": [
    {
      "sha": "224b50b20a5aaccc11820d2f0bf7138fc3cc25c2",
      "filename": "gdb/testsuite/gdb.dwarf2/frame-inlined-in-outer-frame.S",
      "status": "modified",
      "additions": 24,
      "deletions": 0,
      "changes": 24,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a85885ff7ec52a8fe4a0b1008bcde20ff13c54d0/gdb/testsuite/gdb.dwarf2/frame-inlined-in-outer-frame.S",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a85885ff7ec52a8fe4a0b1008bcde20ff13c54d0/gdb/testsuite/gdb.dwarf2/frame-inlined-in-outer-frame.S",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.dwarf2/frame-inlined-in-outer-frame.S?ref=a85885ff7ec52a8fe4a0b1008bcde20ff13c54d0",
      "patch": "@@ -65,6 +65,16 @@\n \tswi 0x0\n .endm\n \n+#elif defined __powerpc64__\n+\n+# define RETURN_ADDRESS_REGNO 65\n+\n+.macro exit_0\n+\tli 0, __NR_exit  /* r0 - contains system call number */\n+\tli 3, 0          /* r3 - contains first argument for sys call */\n+\tsc\n+.endm\n+\n #else\n # error \"Unsupported architecture\"\n #endif\n@@ -90,6 +100,20 @@\n    16 }\n */\n \n+#if defined __powerpc64__\n+#  if _CALL_ELF == 2\n+.abiversion 2   /* Tell gdb what ELF version to use. */\n+#  else\n+.abiversion 1   /* Tell gdb what ELF version to use. */\n+.align 2\n+.section \".opd\", \"aw\"\n+.align 3\n+.quad ._start,.TOC.@tocbase,0\n+.previous\n+.type ._start,@function\n+._start:\n+#  endif\n+#endif\n .global _start\n _start:\n .cfi_startproc"
    }
  ]
}