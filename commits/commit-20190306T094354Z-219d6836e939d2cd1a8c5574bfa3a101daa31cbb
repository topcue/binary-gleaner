{
  "sha": "219d6836e939d2cd1a8c5574bfa3a101daa31cbb",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MjE5ZDY4MzZlOTM5ZDJjZDFhOGM1NTc0YmZhM2ExMDFkYWEzMWNiYg==",
  "commit": {
    "author": {
      "name": "Nick Clifton",
      "email": "nickc@redhat.com",
      "date": "2019-03-06T09:43:15Z"
    },
    "committer": {
      "name": "Nick Clifton",
      "email": "nickc@redhat.com",
      "date": "2019-03-06T09:43:54Z"
    },
    "message": "Fix a segmentation fault triggered by disassembling an EFi file with source included.\n\n\t* dwarf2.c (_bfd_dwarf2_find_symbol_bias): Check for a NULL symbol\n\ttable pointer.\n\t* coffgen.c (coff_find_nearest_line_with_names): Do not call\n\t_bfd_dwarf2_find_symbol_bias if there is no symbol table available.\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1685727",
    "tree": {
      "sha": "fcb558dbeef3a07afaa31f7b5ea54561d7e37e3c",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/fcb558dbeef3a07afaa31f7b5ea54561d7e37e3c"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/219d6836e939d2cd1a8c5574bfa3a101daa31cbb",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/219d6836e939d2cd1a8c5574bfa3a101daa31cbb",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/219d6836e939d2cd1a8c5574bfa3a101daa31cbb",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/219d6836e939d2cd1a8c5574bfa3a101daa31cbb/comments",
  "author": {
    "login": "nickclifton",
    "id": 31441682,
    "node_id": "MDQ6VXNlcjMxNDQxNjgy",
    "avatar_url": "https://avatars.githubusercontent.com/u/31441682?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nickclifton",
    "html_url": "https://github.com/nickclifton",
    "followers_url": "https://api.github.com/users/nickclifton/followers",
    "following_url": "https://api.github.com/users/nickclifton/following{/other_user}",
    "gists_url": "https://api.github.com/users/nickclifton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nickclifton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nickclifton/subscriptions",
    "organizations_url": "https://api.github.com/users/nickclifton/orgs",
    "repos_url": "https://api.github.com/users/nickclifton/repos",
    "events_url": "https://api.github.com/users/nickclifton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nickclifton/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "nickclifton",
    "id": 31441682,
    "node_id": "MDQ6VXNlcjMxNDQxNjgy",
    "avatar_url": "https://avatars.githubusercontent.com/u/31441682?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nickclifton",
    "html_url": "https://github.com/nickclifton",
    "followers_url": "https://api.github.com/users/nickclifton/followers",
    "following_url": "https://api.github.com/users/nickclifton/following{/other_user}",
    "gists_url": "https://api.github.com/users/nickclifton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nickclifton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nickclifton/subscriptions",
    "organizations_url": "https://api.github.com/users/nickclifton/orgs",
    "repos_url": "https://api.github.com/users/nickclifton/repos",
    "events_url": "https://api.github.com/users/nickclifton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nickclifton/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "aa3cfbda2f2af71044949b5692ce51cafb023d13",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/aa3cfbda2f2af71044949b5692ce51cafb023d13",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/aa3cfbda2f2af71044949b5692ce51cafb023d13"
    }
  ],
  "stats": {
    "total": 14,
    "additions": 11,
    "deletions": 3
  },
  "files": [
    {
      "sha": "15a5a999e103d1028feda28521ee7fd7cb7eba5b",
      "filename": "bfd/ChangeLog",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/219d6836e939d2cd1a8c5574bfa3a101daa31cbb/bfd/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/219d6836e939d2cd1a8c5574bfa3a101daa31cbb/bfd/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/ChangeLog?ref=219d6836e939d2cd1a8c5574bfa3a101daa31cbb",
      "patch": "@@ -1,3 +1,10 @@\n+2019-03-06  Nick Clifton  <nickc@redhat.com>\n+\n+\t* dwarf2.c (_bfd_dwarf2_find_symbol_bias): Check for a NULL symbol\n+\ttable pointer.\n+\t* coffgen.c (coff_find_nearest_line_with_names): Do not call\n+\t_bfd_dwarf2_find_symbol_bias if there is no symbol table available.\n+\n 2019-03-01  Andreas Krebbel  <krebbel@linux.ibm.com>\n \n \tThis reverts commit 5a12586d44fa8d5dfc74cbca4f2f36a273a16335."
    },
    {
      "sha": "5f5c5f67a455549ffd26da535aac19f4e394e497",
      "filename": "bfd/coffgen.c",
      "status": "modified",
      "additions": 3,
      "deletions": 2,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/219d6836e939d2cd1a8c5574bfa3a101daa31cbb/bfd/coffgen.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/219d6836e939d2cd1a8c5574bfa3a101daa31cbb/bfd/coffgen.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/coffgen.c?ref=219d6836e939d2cd1a8c5574bfa3a101daa31cbb",
      "patch": "@@ -2294,7 +2294,7 @@ coff_find_nearest_line_with_names (bfd *abfd,\n      information.  So try again, using a bias against the address sought.  */\n   if (coff_data (abfd)->dwarf2_find_line_info != NULL)\n     {\n-      bfd_signed_vma bias;\n+      bfd_signed_vma bias = 0;\n \n       /* Create a cache of the result for the next call.  */\n       if (sec_data == NULL && section->owner == abfd)\n@@ -2306,10 +2306,11 @@ coff_find_nearest_line_with_names (bfd *abfd,\n \n       if (sec_data != NULL && sec_data->saved_bias)\n \tbias = sec_data->saved_bias;\n-      else\n+      else if (symbols)\n \t{\n \t  bias = _bfd_dwarf2_find_symbol_bias (symbols,\n \t\t\t\t\t       & coff_data (abfd)->dwarf2_find_line_info);\n+\n \t  if (sec_data)\n \t    {\n \t      sec_data->saved_bias = TRUE;"
    },
    {
      "sha": "56557bbc81f84d301a2225c2bd4f49ed19d386a6",
      "filename": "bfd/dwarf2.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/219d6836e939d2cd1a8c5574bfa3a101daa31cbb/bfd/dwarf2.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/219d6836e939d2cd1a8c5574bfa3a101daa31cbb/bfd/dwarf2.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/dwarf2.c?ref=219d6836e939d2cd1a8c5574bfa3a101daa31cbb",
      "patch": "@@ -4472,7 +4472,7 @@ _bfd_dwarf2_find_symbol_bias (asymbol ** symbols, void ** pinfo)\n \n   stash = (struct dwarf2_debug *) *pinfo;\n \n-  if (stash == NULL)\n+  if (stash == NULL || symbols == NULL)\n     return 0;\n \n   for (unit = stash->all_comp_units; unit; unit = unit->next_unit)"
    }
  ]
}