{
  "sha": "8cd0e5e93145699736a370b271ff03f3f41670b0",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6OGNkMGU1ZTkzMTQ1Njk5NzM2YTM3MGIyNzFmZjAzZjNmNDE2NzBiMA==",
  "commit": {
    "author": {
      "name": "Tamar Christina",
      "email": "tamar.christina@arm.com",
      "date": "2020-01-10T13:48:57Z"
    },
    "committer": {
      "name": "Tamar Christina",
      "email": "tamar.christina@arm.com",
      "date": "2020-01-10T13:51:08Z"
    },
    "message": "AArch64: Revert setting of elf class in linker stub.\n\nThis changes the fix to PR 25210 by removing the ELF class change.\nAs it turns out the correct change was only the change in compress.c.\n\nEverything else is unneeded and setting the elf class is making the linker\nbehave very oddly under LTO.  The first stub is correctly written out but for\nthe rest the suddenly don't have a pointer to the stub section anymore.\n\nThis caused SPEC to fail as the program would branch to the stub and it wouldn't\nbe filled in.\n\nCommitted to master under the trivial rule as this is partially reverting a previous commit.\n\nbfd/ChangeLog:\n\n\tPR 25210\n\t* elfnn-aarch64.c (_bfd_aarch64_create_stub_section): Remove elfclass.",
    "tree": {
      "sha": "3ebe13adc19996dc2946c7372922d5eb51c8d7a6",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/3ebe13adc19996dc2946c7372922d5eb51c8d7a6"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/8cd0e5e93145699736a370b271ff03f3f41670b0",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/8cd0e5e93145699736a370b271ff03f3f41670b0",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/8cd0e5e93145699736a370b271ff03f3f41670b0",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/8cd0e5e93145699736a370b271ff03f3f41670b0/comments",
  "author": {
    "login": "TamarChristinaArm",
    "id": 48126768,
    "node_id": "MDQ6VXNlcjQ4MTI2NzY4",
    "avatar_url": "https://avatars.githubusercontent.com/u/48126768?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/TamarChristinaArm",
    "html_url": "https://github.com/TamarChristinaArm",
    "followers_url": "https://api.github.com/users/TamarChristinaArm/followers",
    "following_url": "https://api.github.com/users/TamarChristinaArm/following{/other_user}",
    "gists_url": "https://api.github.com/users/TamarChristinaArm/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/TamarChristinaArm/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/TamarChristinaArm/subscriptions",
    "organizations_url": "https://api.github.com/users/TamarChristinaArm/orgs",
    "repos_url": "https://api.github.com/users/TamarChristinaArm/repos",
    "events_url": "https://api.github.com/users/TamarChristinaArm/events{/privacy}",
    "received_events_url": "https://api.github.com/users/TamarChristinaArm/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "TamarChristinaArm",
    "id": 48126768,
    "node_id": "MDQ6VXNlcjQ4MTI2NzY4",
    "avatar_url": "https://avatars.githubusercontent.com/u/48126768?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/TamarChristinaArm",
    "html_url": "https://github.com/TamarChristinaArm",
    "followers_url": "https://api.github.com/users/TamarChristinaArm/followers",
    "following_url": "https://api.github.com/users/TamarChristinaArm/following{/other_user}",
    "gists_url": "https://api.github.com/users/TamarChristinaArm/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/TamarChristinaArm/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/TamarChristinaArm/subscriptions",
    "organizations_url": "https://api.github.com/users/TamarChristinaArm/orgs",
    "repos_url": "https://api.github.com/users/TamarChristinaArm/repos",
    "events_url": "https://api.github.com/users/TamarChristinaArm/events{/privacy}",
    "received_events_url": "https://api.github.com/users/TamarChristinaArm/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "ec4181f289f167663ed32483340d249a802321e5",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/ec4181f289f167663ed32483340d249a802321e5",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/ec4181f289f167663ed32483340d249a802321e5"
    }
  ],
  "stats": {
    "total": 9,
    "additions": 5,
    "deletions": 4
  },
  "files": [
    {
      "sha": "2aba654826d0025e9655e5f6521e39c8278ca4fb",
      "filename": "bfd/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8cd0e5e93145699736a370b271ff03f3f41670b0/bfd/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8cd0e5e93145699736a370b271ff03f3f41670b0/bfd/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/ChangeLog?ref=8cd0e5e93145699736a370b271ff03f3f41670b0",
      "patch": "@@ -1,3 +1,8 @@\n+2020-01-10  Tamar Christina  <tamar.christina@arm.com>\n+\n+\tPR 25210\n+\t* elfnn-aarch64.c (_bfd_aarch64_create_stub_section): Remove elfclass.\n+\n 2020-01-10  Alan Modra  <amodra@gmail.com>\n \n \t* coff-alpha.c (alpha_ecoff_object_p): Calculate size in bfd_size_type."
    },
    {
      "sha": "5fabcd8f6462730aef10ec942b594d589759994e",
      "filename": "bfd/elfnn-aarch64.c",
      "status": "modified",
      "additions": 0,
      "deletions": 4,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8cd0e5e93145699736a370b271ff03f3f41670b0/bfd/elfnn-aarch64.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8cd0e5e93145699736a370b271ff03f3f41670b0/bfd/elfnn-aarch64.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/elfnn-aarch64.c?ref=8cd0e5e93145699736a370b271ff03f3f41670b0",
      "patch": "@@ -3177,10 +3177,6 @@ _bfd_aarch64_create_stub_section (asection *section,\n   if (s_name == NULL)\n     return NULL;\n \n-  /* PR 25210.  Set the right class on the stub_bfd.  */\n-  elf_elfheader (htab->stub_bfd)->e_ident[EI_CLASS] = ELFCLASSNN;\n-  BFD_ASSERT (ELFCLASSNN == get_elf_backend_data (htab->stub_bfd)->s->elfclass);\n-\n   memcpy (s_name, section->name, namelen);\n   memcpy (s_name + namelen, STUB_SUFFIX, sizeof (STUB_SUFFIX));\n   return (*htab->add_stub_section) (s_name, section);"
    }
  ]
}