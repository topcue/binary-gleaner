{
  "sha": "d3d1cc7b13b4b1f11862d6b58174c81536fb3340",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ZDNkMWNjN2IxM2I0YjFmMTE4NjJkNmI1ODE3NGM4MTUzNmZiMzM0MA==",
  "commit": {
    "author": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2020-06-05T06:48:47Z"
    },
    "committer": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2020-06-05T06:52:46Z"
    },
    "message": "bpf stack smashing detected\n\n\t* cgen-dis.c (hash_insn_array): Increase size of buf.  Assert\n\tsize is large enough.",
    "tree": {
      "sha": "fb7b535ae50079e5879e4fdd3679a3af3f001a2f",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/fb7b535ae50079e5879e4fdd3679a3af3f001a2f"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/d3d1cc7b13b4b1f11862d6b58174c81536fb3340",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/d3d1cc7b13b4b1f11862d6b58174c81536fb3340",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/d3d1cc7b13b4b1f11862d6b58174c81536fb3340",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/d3d1cc7b13b4b1f11862d6b58174c81536fb3340/comments",
  "author": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "8eca5c7d9f2855a4af7dc3d213abb5760cca31cb",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/8eca5c7d9f2855a4af7dc3d213abb5760cca31cb",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/8eca5c7d9f2855a4af7dc3d213abb5760cca31cb"
    }
  ],
  "stats": {
    "total": 16,
    "additions": 11,
    "deletions": 5
  },
  "files": [
    {
      "sha": "86e381acc976f7865af7d5a54d22ab427f511f74",
      "filename": "opcodes/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/d3d1cc7b13b4b1f11862d6b58174c81536fb3340/opcodes/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/d3d1cc7b13b4b1f11862d6b58174c81536fb3340/opcodes/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/ChangeLog?ref=d3d1cc7b13b4b1f11862d6b58174c81536fb3340",
      "patch": "@@ -1,3 +1,8 @@\n+2020-06-05  Alan Modra  <amodra@gmail.com>\n+\n+\t* cgen-dis.c (hash_insn_array): Increase size of buf.  Assert\n+\tsize is large enough.\n+\n 2020-06-04  Jose E. Marchesi  <jose.marchesi@oracle.com>\n \n \t* disassemble.c (disassemble_init_for_target): Set endian_code for"
    },
    {
      "sha": "377c93cfab338f1a383001f1748903c10460395f",
      "filename": "opcodes/cgen-dis.c",
      "status": "modified",
      "additions": 6,
      "deletions": 5,
      "changes": 11,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/d3d1cc7b13b4b1f11862d6b58174c81536fb3340/opcodes/cgen-dis.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/d3d1cc7b13b4b1f11862d6b58174c81536fb3340/opcodes/cgen-dis.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/cgen-dis.c?ref=d3d1cc7b13b4b1f11862d6b58174c81536fb3340",
      "patch": "@@ -24,6 +24,7 @@\n #include \"bfd.h\"\n #include \"symcat.h\"\n #include \"opcode/cgen.h\"\n+#include \"disassemble.h\"\n \n static CGEN_INSN_LIST *  hash_insn_array        (CGEN_CPU_DESC, const CGEN_INSN *, int, int, CGEN_INSN_LIST **, CGEN_INSN_LIST *);\n static CGEN_INSN_LIST *  hash_insn_list         (CGEN_CPU_DESC, const CGEN_INSN_LIST *, CGEN_INSN_LIST **, CGEN_INSN_LIST *);\n@@ -110,9 +111,10 @@ hash_insn_array (CGEN_CPU_DESC cd,\n   for (i = count - 1; i >= 0; --i, ++hentbuf)\n     {\n       unsigned int hash;\n-      char buf [4];\n+      char buf [8];\n       unsigned long value;\n       const CGEN_INSN *insn = &insns[i];\n+      size_t size;\n \n       if (! (* cd->dis_hash_p) (insn))\n \tcontinue;\n@@ -121,10 +123,9 @@ hash_insn_array (CGEN_CPU_DESC cd,\n \t to hash on, so set both up.  */\n \n       value = CGEN_INSN_BASE_VALUE (insn);\n-      bfd_put_bits ((bfd_vma) value,\n-\t\t    buf,\n-\t\t    CGEN_INSN_MASK_BITSIZE (insn),\n-\t\t    big_p);\n+      size = CGEN_INSN_MASK_BITSIZE (insn);\n+      OPCODES_ASSERT (size <= sizeof (buf) * 8);\n+      bfd_put_bits ((bfd_vma) value, buf, size, big_p);\n       hash = (* cd->dis_hash) (buf, value);\n       add_insn_to_hash_chain (hentbuf, insn, htable, hash);\n     }"
    }
  ]
}