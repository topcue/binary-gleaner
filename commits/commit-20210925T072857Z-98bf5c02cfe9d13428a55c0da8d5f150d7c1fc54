{
  "sha": "98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
  "node_id": "C_kwDOANOeidoAKDk4YmY1YzAyY2ZlOWQxMzQyOGE1NWMwZGE4ZDVmMTUwZDdjMWZjNTQ",
  "commit": {
    "author": {
      "name": "Tom de Vries",
      "email": "tdevries@suse.de",
      "date": "2021-09-25T07:28:57Z"
    },
    "committer": {
      "name": "Tom de Vries",
      "email": "tdevries@suse.de",
      "date": "2021-09-25T07:28:57Z"
    },
    "message": "[gdb/testsuite] Minimize gdb restarts\n\nMinimize gdb restarts, applying the following rules:\n- don't use prepare_for_testing unless necessary\n- don't use clean_restart unless necessary\n\nAlso, if possible, replace build_for_executable + clean_restart\nwith prepare_for_testing for brevity.\n\nTouches 68 test-cases.\n\nTested on x86_64-linux.",
    "tree": {
      "sha": "dd14355db3a17a81c81669abf4ad792fb733615e",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/dd14355db3a17a81c81669abf4ad792fb733615e"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/comments",
  "author": {
    "login": "vries",
    "id": 4057235,
    "node_id": "MDQ6VXNlcjQwNTcyMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4057235?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vries",
    "html_url": "https://github.com/vries",
    "followers_url": "https://api.github.com/users/vries/followers",
    "following_url": "https://api.github.com/users/vries/following{/other_user}",
    "gists_url": "https://api.github.com/users/vries/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vries/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vries/subscriptions",
    "organizations_url": "https://api.github.com/users/vries/orgs",
    "repos_url": "https://api.github.com/users/vries/repos",
    "events_url": "https://api.github.com/users/vries/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vries/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "vries",
    "id": 4057235,
    "node_id": "MDQ6VXNlcjQwNTcyMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4057235?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vries",
    "html_url": "https://github.com/vries",
    "followers_url": "https://api.github.com/users/vries/followers",
    "following_url": "https://api.github.com/users/vries/following{/other_user}",
    "gists_url": "https://api.github.com/users/vries/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vries/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vries/subscriptions",
    "organizations_url": "https://api.github.com/users/vries/orgs",
    "repos_url": "https://api.github.com/users/vries/repos",
    "events_url": "https://api.github.com/users/vries/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vries/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "99d0d99649c12b2bdccaeb788d5d0f0d0dff4d5d",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/99d0d99649c12b2bdccaeb788d5d0f0d0dff4d5d",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/99d0d99649c12b2bdccaeb788d5d0f0d0dff4d5d"
    }
  ],
  "stats": {
    "total": 160,
    "additions": 45,
    "deletions": 115
  },
  "files": [
    {
      "sha": "1a748694e370f0bfb1a14806ebabbacbf88bf7a8",
      "filename": "gdb/testsuite/gdb.arch/amd64-init-x87-values.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.arch/amd64-init-x87-values.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.arch/amd64-init-x87-values.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.arch/amd64-init-x87-values.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -27,7 +27,7 @@ standard_testfile .S\n set options [list debug \\\n \t\t additional_flags=-static \\\n \t\t additional_flags=-nostartfiles]\n-if { [prepare_for_testing \"failed to prepare\" ${testfile} ${srcfile} $options] } {\n+if { [build_executable \"failed to prepare\" ${testfile} ${srcfile} $options] } {\n     return -1\n }\n "
    },
    {
      "sha": "9dec5bc96c649d80f1bef4ff44f2a2b4ccae4b77",
      "filename": "gdb/testsuite/gdb.base/access-mem-running.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/access-mem-running.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/access-mem-running.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/access-mem-running.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -17,7 +17,7 @@\n \n standard_testfile\n \n-if {[prepare_for_testing \"failed to prepare\" $testfile $srcfile {debug}] == -1} {\n+if {[build_executable \"failed to prepare\" $testfile $srcfile {debug}] == -1} {\n     return -1\n }\n "
    },
    {
      "sha": "85161fa7c55fd1968259a2f9136d4773beb5d056",
      "filename": "gdb/testsuite/gdb.base/attach-pie-noexec.exp",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/attach-pie-noexec.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/attach-pie-noexec.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/attach-pie-noexec.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -24,7 +24,6 @@ if { [prepare_for_testing \"failed to prepare\" $executable \"\" [list debug pie]] }\n     return -1\n }\n \n-clean_restart $executable\n set arch \"\"\n set test \"show architecture\"\n gdb_test_multiple $test $test {"
    },
    {
      "sha": "c0c1fa284531860adf466fcf8b0c0fab55f0863c",
      "filename": "gdb/testsuite/gdb.base/bp-cmds-continue-ctrl-c.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/bp-cmds-continue-ctrl-c.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/bp-cmds-continue-ctrl-c.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/bp-cmds-continue-ctrl-c.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -32,7 +32,7 @@ if [target_info exists gdb,nointerrupts] {\n \n standard_testfile\n \n-if {[prepare_for_testing \"failed to prepare\" $testfile $srcfile debug]} {\n+if {[build_executable \"failed to prepare\" $testfile $srcfile debug]} {\n     return -1\n }\n "
    },
    {
      "sha": "c454f4c9a115d2379ff1353a15e41c011c0b1efc",
      "filename": "gdb/testsuite/gdb.base/bt-selected-frame.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/bt-selected-frame.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/bt-selected-frame.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/bt-selected-frame.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -17,7 +17,7 @@\n \n standard_testfile\n \n-if { [prepare_for_testing \"failed to prepare\" $testfile $srcfile debug] } {\n+if { [build_executable \"failed to prepare\" $testfile $srcfile debug] } {\n     return -1\n }\n "
    },
    {
      "sha": "d7183d18bcdb815fd05b71c10e319a90a53cd28f",
      "filename": "gdb/testsuite/gdb.base/catch-syscall.exp",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/catch-syscall.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/catch-syscall.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/catch-syscall.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -26,7 +26,6 @@ if  { [prepare_for_testing \"failed to prepare\" $testfile ${testfile}.c] } {\n }\n \n # Check target supports catch syscall or not.\n-clean_restart $binfile\n if ![runto_main] then {\n     fail \"can't run to main\"\n     return"
    },
    {
      "sha": "5bcc7e76cf00da46aeefdaef6d603d8ec0d2c2c0",
      "filename": "gdb/testsuite/gdb.base/condbreak.exp",
      "status": "modified",
      "additions": 0,
      "deletions": 3,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/condbreak.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/condbreak.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/condbreak.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -32,9 +32,6 @@ if [get_compiler_info] {\n     return -1\n }\n \n-clean_restart ${binfile}\n-\n-\n set bp_location1  [gdb_get_line_number \"set breakpoint 1 here\"]\n set bp_location6  [gdb_get_line_number \"set breakpoint 6 here\"]\n set bp_location8  [gdb_get_line_number \"set breakpoint 8 here\" $srcfile2]"
    },
    {
      "sha": "c434c11f45faf2529c1247e42421c7a470e596f0",
      "filename": "gdb/testsuite/gdb.base/cvexpr.exp",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/cvexpr.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/cvexpr.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/cvexpr.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -31,8 +31,6 @@ proc do_test {dir options} {\n \treturn 0\n     }\n \n-    clean_restart ${binfile}\n-\n     gdb_test_no_output \"set print sevenbit-strings\"\n     gdb_test_no_output \"set print address off\"\n     gdb_test_no_output \"set width 0\""
    },
    {
      "sha": "58a5560cc5c5c14b70154dc8ff0064b1fdba18d9",
      "filename": "gdb/testsuite/gdb.base/dprintf-bp-same-addr.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/dprintf-bp-same-addr.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/dprintf-bp-same-addr.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/dprintf-bp-same-addr.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -17,7 +17,7 @@\n \n standard_testfile\n \n-if [prepare_for_testing \"failed to prepare\" \\\n+if [build_executable \"failed to prepare\" \\\n     ${testfile} ${srcfile} {debug}] {\n     return -1\n }"
    },
    {
      "sha": "aa06a5bee527ef3ec5bb5677c34551673a89e816",
      "filename": "gdb/testsuite/gdb.base/dprintf-detach.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/dprintf-detach.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/dprintf-detach.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/dprintf-detach.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -28,7 +28,7 @@ if { [use_gdb_stub] } then {\n standard_testfile\n set escapedbinfile [string_to_regexp ${binfile}]\n \n-if [prepare_for_testing \"failed to prepare for dprintf-detach\" \\\n+if [build_executable \"failed to prepare for dprintf-detach\" \\\n     ${testfile} ${srcfile} {debug}] {\n     return -1\n }"
    },
    {
      "sha": "5516925b8b426648e42a5f2cef9c5acc921559b1",
      "filename": "gdb/testsuite/gdb.base/duplicate-bp.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/duplicate-bp.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/duplicate-bp.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/duplicate-bp.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -15,7 +15,7 @@\n \n standard_testfile\n \n-if { [prepare_for_testing \"failed to prepare\" ${testfile}] } {\n+if { [build_executable \"failed to prepare\" ${testfile}] } {\n     return -1\n }\n "
    },
    {
      "sha": "051aeb76fa68bd5682f1ee244a3edad79534f6e5",
      "filename": "gdb/testsuite/gdb.base/fork-print-inferior-events.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/fork-print-inferior-events.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/fork-print-inferior-events.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/fork-print-inferior-events.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -34,7 +34,7 @@ if [gdb_debug_enabled] {\n \n standard_testfile\n \n-if { [prepare_for_testing \"failed to prepare\" $testfile $srcfile debug] } {\n+if { [build_executable \"failed to prepare\" $testfile $srcfile debug] } {\n     return -1\n }\n "
    },
    {
      "sha": "346d2296c5d425224310472fdc0724303f9f39d9",
      "filename": "gdb/testsuite/gdb.base/frameapply.exp",
      "status": "modified",
      "additions": 0,
      "deletions": 3,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/frameapply.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/frameapply.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/frameapply.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -24,9 +24,6 @@ if { [prepare_for_testing \"failed to prepare\" ${testfile}] } {\n     return -1\n }\n \n-clean_restart ${binfile}\n-\n-\n if ![runto setup_done] then {\n     fail \"can't run to setup_done\"\n     return 0"
    },
    {
      "sha": "6c2bfc37d85ee52738b84653034cb1846c767a92",
      "filename": "gdb/testsuite/gdb.base/gcore-relro-pie.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/gcore-relro-pie.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/gcore-relro-pie.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/gcore-relro-pie.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -19,7 +19,7 @@\n \n standard_testfile\n \n-if {[prepare_for_testing \"failed to prepare\" $testfile $srcfile \\\n+if {[build_executable \"failed to prepare\" $testfile $srcfile \\\n \t {debug pie \"ldflags=-Wl,-z,relro\"}]} {\n     return -1\n }"
    },
    {
      "sha": "bb635cb10452b062a7445b6499e12cbe6198ab39",
      "filename": "gdb/testsuite/gdb.base/gcore-tls-pie.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/gcore-tls-pie.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/gcore-tls-pie.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/gcore-tls-pie.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -23,7 +23,7 @@ if { [have_fuse_ld_gold] == 0} {\n     return -1\n }\n \n-if {[prepare_for_testing \"failed to prepare\" $testfile $srcfile \\\n+if {[build_executable \"failed to prepare\" $testfile $srcfile \\\n \t {debug pie \"ldflags=-fuse-ld=gold\"}]} {\n     return -1\n }"
    },
    {
      "sha": "8dd35ad80bd76cb94b0ef5af0c8c8a6e03f4900c",
      "filename": "gdb/testsuite/gdb.base/index-cache.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/index-cache.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/index-cache.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/index-cache.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -18,7 +18,7 @@\n \n standard_testfile\n \n-if { [prepare_for_testing \"failed to prepare\" $testfile $srcfile \\\n+if { [build_executable \"failed to prepare\" $testfile $srcfile \\\n \t  {debug additional_flags=-Wl,--build-id}] } {\n     return\n }"
    },
    {
      "sha": "fe3f4c550d767f081b839661dd96b807e9912fb0",
      "filename": "gdb/testsuite/gdb.base/info_minsym.exp",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/info_minsym.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/info_minsym.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/info_minsym.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -27,8 +27,6 @@ if {[prepare_for_testing \"failed to prepare\" $testfile $srcfile {c}]} {\n     return -1\n }\n \n-clean_restart ${testfile}\n-\n gdb_test_no_output \"info variables -q -t int minsym\" \\\n     \"minsym variables do not match type\"\n gdb_test_no_output \"info functions -q -t int minsym\" \\"
    },
    {
      "sha": "c6f242b9d03197ee2cab7a00e2b96780a6f7b0c1",
      "filename": "gdb/testsuite/gdb.base/info_qt.exp",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/info_qt.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/info_qt.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/info_qt.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -27,8 +27,6 @@ if { [prepare_for_testing \"failed to prepare\" ${testfile}] } {\n     return -1\n }\n \n-clean_restart ${binfile}\n-\n if ![runto setup_done] then {\n     fail \"can't run to setup_done\"\n     return 0"
    },
    {
      "sha": "0e14d5a2f92bdde5cc04d35ab061620f1de52af6",
      "filename": "gdb/testsuite/gdb.base/killed-outside.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/killed-outside.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/killed-outside.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/killed-outside.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -80,7 +80,7 @@ proc test {cmds_after_kill} {\n     }\n }\n \n-if {[prepare_for_testing \"failed to prepare\" $testfile $srcfile] == -1} {\n+if {[build_executable \"failed to prepare\" $testfile $srcfile] == -1} {\n     return -1\n }\n "
    },
    {
      "sha": "6844b87084e3cb3fc59bbf4983f7fbc432581627",
      "filename": "gdb/testsuite/gdb.base/list.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/list.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/list.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/list.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -21,7 +21,7 @@ standard_testfile list0.c list1.c\n # Need to download the header to the host.\n gdb_remote_download host ${srcdir}/${subdir}/list0.h\n \n-if {[prepare_for_testing \"failed to prepare\" $testfile [list $srcfile $srcfile2] \\\n+if {[build_executable \"failed to prepare\" $testfile [list $srcfile $srcfile2] \\\n \t {debug}]} {\n     return -1\n }"
    },
    {
      "sha": "cc25b2e63ff353aa98719880eb6311240194065e",
      "filename": "gdb/testsuite/gdb.base/many-headers.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/many-headers.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/many-headers.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/many-headers.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -26,7 +26,7 @@ if { [target_info gdb_protocol] != \"\" } {\n \n standard_testfile\n \n-if {[prepare_for_testing \"failed to prepare\" $testfile $srcfile debug]} {\n+if {[build_executable \"failed to prepare\" $testfile $srcfile debug]} {\n     return -1\n }\n "
    },
    {
      "sha": "72f817e3a3aa5c2ff576daab1ddc51aa4a59946b",
      "filename": "gdb/testsuite/gdb.base/msym-lang.exp",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/msym-lang.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/msym-lang.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/msym-lang.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -20,6 +20,4 @@ if {[prepare_for_testing \"failed to prepare\" $testfile [list $srcfile $srcfile2]\n     return -1\n }\n \n-clean_restart ${testfile}\n-\n gdb_test \"info func foo\" \".* foo\\\\(\\\\).* foo\\\\(\\\\).*\""
    },
    {
      "sha": "34db7c02a6a703205dfe095dbf2287122881b6e2",
      "filename": "gdb/testsuite/gdb.base/noreturn-finish.exp",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/noreturn-finish.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/noreturn-finish.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/noreturn-finish.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -46,6 +46,4 @@ proc noreturn_finish_test { } {\n    }\n }\n \n-clean_restart ${binfile}\n-\n noreturn_finish_test"
    },
    {
      "sha": "294223988aa225abbb7ca337f00445e03b383fc3",
      "filename": "gdb/testsuite/gdb.base/noreturn-return.exp",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/noreturn-return.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/noreturn-return.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/noreturn-return.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -46,6 +46,4 @@ proc noreturn_test { } {\n    }\n }\n \n-clean_restart ${binfile}\n-\n noreturn_test"
    },
    {
      "sha": "5ab65213003cb64046738fed2e653d64cad1f674",
      "filename": "gdb/testsuite/gdb.base/pie-fork.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/pie-fork.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/pie-fork.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/pie-fork.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -20,7 +20,7 @@ standard_testfile\n \n set opts [list debug pie]\n \n-if [prepare_for_testing \"failed to prepare\" $testfile $srcfile $opts] {\n+if [build_executable \"failed to prepare\" $testfile $srcfile $opts] {\n     return\n }\n "
    },
    {
      "sha": "b3d04a97e9d613fe0102fa6f9371ec3d9be6ee9c",
      "filename": "gdb/testsuite/gdb.base/random-signal.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/random-signal.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/random-signal.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/random-signal.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -26,7 +26,7 @@ if [target_info exists gdb,nointerrupts] {\n \n standard_testfile\n \n-if {[prepare_for_testing \"failed to prepare\" $testfile $srcfile debug]} {\n+if {[build_executable \"failed to prepare\" $testfile $srcfile debug]} {\n     return -1\n }\n "
    },
    {
      "sha": "597e46ac8963bf22f4b82c7d09fcdde7db308d2f",
      "filename": "gdb/testsuite/gdb.base/reread-readsym.exp",
      "status": "modified",
      "additions": 0,
      "deletions": 3,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/reread-readsym.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/reread-readsym.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/reread-readsym.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -46,9 +46,6 @@ if {[prepare_for_testing \"failed to prepare\" $testfile $srcfile debug]} {\n     return -1\n }\n \n-# Start with a fresh gdb.\n-clean_restart ${testfile}\n-\n # Using the source command to read commands from a file is important,\n # otherwise section data is freed and reallocated using the same\n # memory locations and the bug is not exposed."
    },
    {
      "sha": "e848f2730e70875e5d2c5bc53fdcc8dafb1dbf0e",
      "filename": "gdb/testsuite/gdb.base/share-env-with-gdbserver.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/share-env-with-gdbserver.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/share-env-with-gdbserver.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/share-env-with-gdbserver.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -23,7 +23,7 @@ if { [use_gdb_stub] } {\n \n standard_testfile\n \n-if { [prepare_for_testing \"failed to prepare\" $testfile $srcfile debug] } {\n+if { [build_executable \"failed to prepare\" $testfile $srcfile debug] } {\n     return -1\n }\n "
    },
    {
      "sha": "5181ce89383b4f9ed3e20a86f9bacca7e3f22b1b",
      "filename": "gdb/testsuite/gdb.base/stack-protector.exp",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/stack-protector.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/stack-protector.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/stack-protector.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -44,8 +44,6 @@ proc simple_func_break_test { protection } {\n \treturn -1\n     }\n \n-    clean_restart ${binfile}\n-\n     if { ![runto_main] } then {\n \tfail \"can't run to main\"\n \treturn -1"
    },
    {
      "sha": "a78ad534f286c8e9cad7b2c118f3d7808d468081",
      "filename": "gdb/testsuite/gdb.base/startup-with-shell.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/startup-with-shell.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/startup-with-shell.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/startup-with-shell.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -30,7 +30,7 @@ if { [is_remote target] } {\n \n standard_testfile\n \n-if { [prepare_for_testing \"failed to prepare\" $testfile $srcfile debug] } {\n+if { [build_executable \"failed to prepare\" $testfile $srcfile debug] } {\n     return -1\n }\n "
    },
    {
      "sha": "d9a47d36d739b4c3b9436c3b928a25e4f7c08f70",
      "filename": "gdb/testsuite/gdb.base/step-over-exit.exp",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/step-over-exit.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/step-over-exit.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/step-over-exit.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -35,8 +35,6 @@ if {[prepare_for_testing \"failed to prepare\" $testfile $srcfile debug]} {\n     return -1\n }\n \n-# Start with a fresh gdb.\n-clean_restart ${testfile}\n if ![runto_main] {\n     fail \"can't run to main\"\n     return -1"
    },
    {
      "sha": "33adda7b5f82a6ee7a89d4c02eab2a9b3869b55c",
      "filename": "gdb/testsuite/gdb.base/watchpoint-hw-attach.exp",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/watchpoint-hw-attach.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/watchpoint-hw-attach.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/watchpoint-hw-attach.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -30,8 +30,6 @@ if {[prepare_for_testing \"failed to prepare\" $testfile $srcfile debug]} {\n     return -1\n }\n \n-clean_restart $binfile\n-\n if ![runto_main] {\n     untested \"can't run to main\"\n     return -1"
    },
    {
      "sha": "90baf3e1f2323baf9c517d36f215f64b87b78663",
      "filename": "gdb/testsuite/gdb.base/whatis.exp",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/whatis.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.base/whatis.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/whatis.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -51,8 +51,6 @@ proc do_test {dir options} {\n \treturn 0\n     }\n \n-    clean_restart ${binfile}\n-\n     #\n     # Test whatis command with basic C types\n     #"
    },
    {
      "sha": "7d021a7ed8c3597ce5897293bdbccb518de7e167",
      "filename": "gdb/testsuite/gdb.cp/cplusfuncs.exp",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.cp/cplusfuncs.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.cp/cplusfuncs.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.cp/cplusfuncs.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -581,8 +581,6 @@ proc do_tests {} {\n     global binfile\n     global dm_type_int_star\n \n-    clean_restart $binfile\n-\n     gdb_test_no_output \"set width 0\"\n \n     runto_main"
    },
    {
      "sha": "e806662b31d03757c94327d4d71f1c37b4bb432c",
      "filename": "gdb/testsuite/gdb.cp/rvalue-ref-params.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.cp/rvalue-ref-params.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.cp/rvalue-ref-params.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.cp/rvalue-ref-params.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -20,7 +20,7 @@ if {[skip_cplus_tests]} { continue }\n \n standard_testfile .cc\n \n-if {[prepare_for_testing $testfile.exp $testfile $srcfile \\\n+if {[build_executable $testfile.exp $testfile $srcfile \\\n     {debug c++ additional_flags=\"-std=gnu++11\"}] == -1} {\n     return -1\n }"
    },
    {
      "sha": "3c8e286a1f205647373639572690f3ea8a4d4c5e",
      "filename": "gdb/testsuite/gdb.cp/static-typedef-print.exp",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.cp/static-typedef-print.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.cp/static-typedef-print.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.cp/static-typedef-print.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -25,8 +25,6 @@ if {[prepare_for_testing \"failed to prepare\" $testfile $srcfile {debug c++}]} {\n     return -1\n }\n \n-clean_restart $testfile\n-\n if ![runto_main] {\n     untested \"could not run to main\"\n     return -1"
    },
    {
      "sha": "7edc1640c45740c3b10df760a186975aa508ba85",
      "filename": "gdb/testsuite/gdb.cp/typedef-base.exp",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.cp/typedef-base.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.cp/typedef-base.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.cp/typedef-base.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -27,8 +27,6 @@ if {[prepare_for_testing \"failed to prepare\" $testfile $srcfile {debug c++}]} {\n     return -1\n }\n \n-clean_restart $testfile\n-\n if ![runto_main] {\n     untested \"could not run to main\"\n     return -1"
    },
    {
      "sha": "9351985319346e7d13078f1dc91886d234c90f8d",
      "filename": "gdb/testsuite/gdb.dwarf2/dw2-icycle.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.dwarf2/dw2-icycle.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.dwarf2/dw2-icycle.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.dwarf2/dw2-icycle.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -24,7 +24,7 @@ if {![dwarf2_support]} {\n \n standard_testfile .S main.c\n \n-if { [prepare_for_testing \"failed to prepare\" ${testfile} \\\n+if { [build_executable \"failed to prepare\" ${testfile} \\\n \t  [list $srcfile $srcfile2] {nodebug}] } {\n     return -1\n }"
    },
    {
      "sha": "dab19d0c4314eafffd12c5b421125b07ee90bf98",
      "filename": "gdb/testsuite/gdb.dwarf2/enqueued-cu-base-addr.exp",
      "status": "modified",
      "additions": 0,
      "deletions": 8,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.dwarf2/enqueued-cu-base-addr.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.dwarf2/enqueued-cu-base-addr.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.dwarf2/enqueued-cu-base-addr.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -27,12 +27,6 @@ standard_testfile main.c .S\n set executable ${testfile}\n set asm_file [standard_output_file ${srcfile2}]\n \n-# We need to know the size of integer types in order to write some of the\n-# debugging info we'd like to generate.\n-if [prepare_for_testing \"failed to prepare\" ${testfile} ${srcfile}] {\n-    return -1\n-}\n-\n # Create the DWARF.\n Dwarf::assemble $asm_file {\n     global srcdir subdir srcfile\n@@ -83,8 +77,6 @@ if { [prepare_for_testing \"failed to prepare\" ${testfile} \\\n     return -1\n }\n \n-clean_restart ${binfile}\n-\n # Expand cu1.  This will enqueue cu2.\n gdb_test \"ptype foo\" \"type = int\"\n "
    },
    {
      "sha": "082a09dbcfe7cab6d101a2c8b54e00019454867e",
      "filename": "gdb/testsuite/gdb.dwarf2/fission-absolute-dwo.exp",
      "status": "modified",
      "additions": 0,
      "deletions": 4,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.dwarf2/fission-absolute-dwo.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.dwarf2/fission-absolute-dwo.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.dwarf2/fission-absolute-dwo.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -27,10 +27,6 @@ if {![dwarf2_support]} {\n \n standard_testfile .c -dw.S\n \n-if { [prepare_for_testing \"failed to prepare\" ${testfile} ${srcfile}] } {\n-    return -1\n-}\n-\n set asm_file [standard_output_file $srcfile2]\n Dwarf::assemble $asm_file {\n     global srcfile binfile objdir"
    },
    {
      "sha": "8faa6eaee31c39c4c0e0c96f4019c4bbec1a92fb",
      "filename": "gdb/testsuite/gdb.dwarf2/fission-relative-dwo.exp",
      "status": "modified",
      "additions": 0,
      "deletions": 4,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.dwarf2/fission-relative-dwo.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.dwarf2/fission-relative-dwo.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.dwarf2/fission-relative-dwo.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -25,10 +25,6 @@ if {![dwarf2_support]} {\n \n standard_testfile .c -dw.S\n \n-if { [prepare_for_testing \"failed to prepare\" ${testfile} ${srcfile}] } {\n-    return -1\n-}\n-\n set asm_file [standard_output_file $srcfile2]\n Dwarf::assemble $asm_file {\n     global srcfile gdb_test_file_name"
    },
    {
      "sha": "8200a0ca284bcf9c442a16b10ce71e1b56f2d6ce",
      "filename": "gdb/testsuite/gdb.fortran/array-slices.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.fortran/array-slices.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.fortran/array-slices.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.fortran/array-slices.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -38,7 +38,7 @@ if {[skip_fortran_tests]} { return -1 }\n standard_testfile \".f90\"\n load_lib fortran.exp\n \n-if {[prepare_for_testing ${testfile}.exp ${testfile} ${srcfile} \\\n+if {[build_executable ${testfile}.exp ${testfile} ${srcfile} \\\n \t {debug f90}]} {\n     return -1\n }"
    },
    {
      "sha": "f679529478a446b8d3c986fb2794dd0c0a3526d8",
      "filename": "gdb/testsuite/gdb.fortran/nested-funcs-2.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.fortran/nested-funcs-2.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.fortran/nested-funcs-2.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.fortran/nested-funcs-2.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -20,7 +20,7 @@ load_lib \"fortran.exp\"\n \n standard_testfile \".f90\"\n \n-if {[prepare_for_testing ${testfile}.exp ${testfile} \\\n+if {[build_executable ${testfile}.exp ${testfile} \\\n \t ${srcfile} {debug f90}]} {\n     return -1\n }"
    },
    {
      "sha": "d41443a88b0f4d7ff816c9030803e448c8f38484",
      "filename": "gdb/testsuite/gdb.fortran/subarray.exp",
      "status": "modified",
      "additions": 0,
      "deletions": 5,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.fortran/subarray.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.fortran/subarray.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.fortran/subarray.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -27,11 +27,6 @@ if {[prepare_for_testing \"failed to prepare\" $testfile $srcfile {debug f90}]} {\n     return -1\n }\n \n-gdb_exit\n-gdb_start\n-gdb_reinitialize_dir $srcdir/$subdir\n-gdb_load ${binfile}\n-\n if ![fortran_runto_main] then {\n     perror \"couldn't run to main\"\n     continue"
    },
    {
      "sha": "670205fff769c26bce6bc062b76af5118a25c108",
      "filename": "gdb/testsuite/gdb.gdb/unittest.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.gdb/unittest.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.gdb/unittest.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.gdb/unittest.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -24,7 +24,7 @@ set do_xml_test [expr ![gdb_skip_xml_test]]\n \n standard_testfile\n \n-if {[prepare_for_testing \"failed to prepare\" $testfile $srcfile debug]} {\n+if {[build_executable \"failed to prepare\" $testfile $srcfile debug]} {\n     return -1\n }\n "
    },
    {
      "sha": "fc1fa411ee3b91e9bbe3c2d79bea26cb70e92b72",
      "filename": "gdb/testsuite/gdb.mi/mi-fortran-modules.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.mi/mi-fortran-modules.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.mi/mi-fortran-modules.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.mi/mi-fortran-modules.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -23,7 +23,7 @@ set MIFLAGS \"-i=mi\"\n \n standard_testfile \"mi-fortran-modules.f90\" \"mi-fortran-modules-2.f90\"\n \n-if {[prepare_for_testing \"failed to prepare\" ${testfile} \\\n+if {[build_executable \"failed to prepare\" ${testfile} \\\n \t [list $srcfile2 $srcfile] {debug f90}]} {\n     return -1\n }"
    },
    {
      "sha": "7451af6595224bb0ba5a107eacaa6c581ac150ea",
      "filename": "gdb/testsuite/gdb.mi/mi-info-sources.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.mi/mi-info-sources.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.mi/mi-info-sources.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.mi/mi-info-sources.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -20,7 +20,7 @@ set MIFLAGS \"-i=mi\"\n \n standard_testfile .c -base.c\n \n-if {[prepare_for_testing $testfile.exp $testfile \\\n+if {[build_executable $testfile.exp $testfile \\\n \t [list $srcfile $srcfile2] debug]} {\n     untested $testfile.exp\n     return -1"
    },
    {
      "sha": "dacbdd8962d707d22a327c01386fc160f7d26e6d",
      "filename": "gdb/testsuite/gdb.mi/mi-linespec-err-cp.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.mi/mi-linespec-err-cp.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.mi/mi-linespec-err-cp.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.mi/mi-linespec-err-cp.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -27,7 +27,7 @@ set MIFLAGS \"-i=mi\"\n standard_testfile .cc\n set exefile $testfile\n \n-if {[prepare_for_testing \"failed to prepare\" $exefile $srcfile {debug c++}]} {\n+if {[build_executable \"failed to prepare\" $exefile $srcfile {debug c++}]} {\n     return -1\n }\n "
    },
    {
      "sha": "5eb720119899d6b0071d5889dde9a0f2a9c597d4",
      "filename": "gdb/testsuite/gdb.mi/mi-sym-info.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.mi/mi-sym-info.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.mi/mi-sym-info.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.mi/mi-sym-info.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -28,7 +28,7 @@ set MIFLAGS \"-i=mi\"\n \n standard_testfile mi-sym-info-1.c mi-sym-info-2.c\n \n-if {[prepare_for_testing \"failed to prepare\" ${testfile} \\\n+if {[build_executable \"failed to prepare\" ${testfile} \\\n \t [list $srcfile $srcfile2] {debug}]} {\n     return -1\n }"
    },
    {
      "sha": "cc8b22a6f3c8e5829c692d216044f7bd6d5e97f3",
      "filename": "gdb/testsuite/gdb.multi/info-threads.exp",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.multi/info-threads.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.multi/info-threads.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.multi/info-threads.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -24,8 +24,6 @@ if { [prepare_for_testing \"failed to prepare\" ${testfile} ${srcfile} {pthreads d\n     return -1\n }\n \n-clean_restart ${testfile}\n-\n if { ![runto_main] } then {\n     return -1\n }"
    },
    {
      "sha": "c1c77917e4541e51e901bde96f04251eac558706",
      "filename": "gdb/testsuite/gdb.multi/multi-arch.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.multi/multi-arch.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.multi/multi-arch.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.multi/multi-arch.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -52,7 +52,7 @@ if [istarget \"s390*-*-*\"] {\n     set march2 \"-m32\"\n }\n \n-if { [prepare_for_testing \"failed to prepare\" ${exec1} \"${srcfile1}\" \\\n+if { [build_executable \"failed to prepare\" ${exec1} \"${srcfile1}\" \\\n \t  [list debug additional_flags=${march1}]] } {\n     return -1\n }\n@@ -70,7 +70,7 @@ if [istarget \"aarch64*-*-*\"] {\n     lappend options \"additional_flags=${march2}\"\n }\n \n-if { [prepare_for_testing \"failed to prepare\" ${exec2} \"${srcfile2}\" \\\n+if { [build_executable \"failed to prepare\" ${exec2} \"${srcfile2}\" \\\n \t $options]} {\n     return -1\n }"
    },
    {
      "sha": "6eda6fafb5bccc4ab29545305e63a7f24c4f21e3",
      "filename": "gdb/testsuite/gdb.multi/multi-re-run.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.multi/multi-re-run.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.multi/multi-re-run.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.multi/multi-re-run.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -31,14 +31,14 @@ set srcfile2 multi-re-run-2.c\n set binfile2 [standard_output_file ${exec2}]\n \n with_test_prefix \"exec1\" {\n-    if { [prepare_for_testing \"failed to prepare\" ${exec1} \"${srcfile1}\" \\\n+    if { [build_executable \"failed to prepare\" ${exec1} \"${srcfile1}\" \\\n \t      [list pthreads debug]] } {\n \treturn -1\n     }\n }\n \n with_test_prefix \"exec2\" {\n-    if { [prepare_for_testing \"failed to prepare\" ${exec2} \"${srcfile2}\" \\\n+    if { [build_executable \"failed to prepare\" ${exec2} \"${srcfile2}\" \\\n \t      [list pthreads debug]] } {\n \treturn -1\n     }"
    },
    {
      "sha": "69ff07bea28a0f24c274ec2b21a1f2e8b67a6b28",
      "filename": "gdb/testsuite/gdb.multi/run-only-second-inf.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.multi/run-only-second-inf.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.multi/run-only-second-inf.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.multi/run-only-second-inf.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -24,7 +24,7 @@ if {[use_gdb_stub]} {\n     return 0\n }\n \n-if {[prepare_for_testing \"failed to prepare\" $testfile $srcfile {debug}]} {\n+if {[build_executable \"failed to prepare\" $testfile $srcfile {debug}]} {\n     return -1\n }\n "
    },
    {
      "sha": "e1755f9a6891dc859fbf7edd644f9e625d16b239",
      "filename": "gdb/testsuite/gdb.multi/tids-gid-reset.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 1,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.multi/tids-gid-reset.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.multi/tids-gid-reset.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.multi/tids-gid-reset.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -22,7 +22,8 @@\n \n standard_testfile\n \n-if { [prepare_for_testing \"failed to prepare\" ${testfile} ${srcfile} {pthreads debug}] } {\n+if { [build_executable \"failed to prepare\" ${testfile} ${srcfile} \\\n+\t  {pthreads debug}] } {\n     return -1\n }\n "
    },
    {
      "sha": "1bf04c509c061b32d82534e76a12233e704c28f4",
      "filename": "gdb/testsuite/gdb.multi/tids.exp",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.multi/tids.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.multi/tids.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.multi/tids.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -31,8 +31,6 @@ if { [prepare_for_testing \"failed to prepare\" ${testfile} ${srcfile} {pthreads d\n     return -1\n }\n \n-clean_restart ${testfile}\n-\n if { ![runto_main] } then {\n     return -1\n }"
    },
    {
      "sha": "e68986bdfa778a6f3db4e7fe46537848fbad519a",
      "filename": "gdb/testsuite/gdb.python/py-infthread.exp",
      "status": "modified",
      "additions": 0,
      "deletions": 3,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.python/py-infthread.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.python/py-infthread.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.python/py-infthread.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -24,9 +24,6 @@ if { [prepare_for_testing \"failed to prepare\" ${testfile} ${srcfile}] } {\n     return -1\n }\n \n-# Start with a fresh gdb.\n-clean_restart ${testfile}\n-\n # Skip all tests if Python scripting is not enabled.\n if { [skip_python_tests] } { continue }\n "
    },
    {
      "sha": "bab3b88a194c260287b505a1ae50085e77b06f9a",
      "filename": "gdb/testsuite/gdb.server/connect-stopped-target.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.server/connect-stopped-target.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.server/connect-stopped-target.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.server/connect-stopped-target.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -27,7 +27,7 @@ if {[skip_gdbserver_tests]} {\n standard_testfile\n set executable ${testfile}\n \n-if {[prepare_for_testing \"failed to prepare\" $testfile $srcfile debug]} {\n+if {[build_executable \"failed to prepare\" $testfile $srcfile debug]} {\n     return -1\n }\n "
    },
    {
      "sha": "27c09b234e263c21cb3e753e89c1cb7528090179",
      "filename": "gdb/testsuite/gdb.server/exit-multiple-threads.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.server/exit-multiple-threads.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.server/exit-multiple-threads.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.server/exit-multiple-threads.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -135,7 +135,7 @@ foreach_with_prefix test { exit signal } {\n     set func \"run_${test}_test\"\n \n     set executable \"$binfile-${test}\"\n-    if [prepare_for_testing \"failed to prepare\" $executable $srcfile \\\n+    if [build_executable \"failed to prepare\" $executable $srcfile \\\n \t    [list debug pthreads additional_flags=-D${def}]] {\n \treturn -1\n     }"
    },
    {
      "sha": "7c96c9bc3219b642a0aeae53511151885894c00b",
      "filename": "gdb/testsuite/gdb.server/run-without-local-binary.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.server/run-without-local-binary.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.server/run-without-local-binary.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.server/run-without-local-binary.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -21,7 +21,7 @@ if {[skip_gdbserver_tests]} {\n \n standard_testfile normal.c\n \n-if {[prepare_for_testing \"failed to prepare\" $testfile $srcfile debug]} {\n+if {[build_executable \"failed to prepare\" $testfile $srcfile debug]} {\n     return -1\n }\n "
    },
    {
      "sha": "b2fef9fca6addea1087cd467fdc629079b2efb38",
      "filename": "gdb/testsuite/gdb.threads/access-mem-running-thread-exit.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.threads/access-mem-running-thread-exit.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.threads/access-mem-running-thread-exit.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.threads/access-mem-running-thread-exit.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -35,7 +35,7 @@\n \n standard_testfile\n \n-if {[prepare_for_testing \"failed to prepare\" $testfile $srcfile {debug pthreads}] == -1} {\n+if {[build_executable \"failed to prepare\" $testfile $srcfile {debug pthreads}] == -1} {\n     return -1\n }\n "
    },
    {
      "sha": "255e48350aa52402fc6f50b84dbe34e6c415ef33",
      "filename": "gdb/testsuite/gdb.threads/attach-many-short-lived-threads.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 3,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.threads/attach-many-short-lived-threads.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.threads/attach-many-short-lived-threads.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.threads/attach-many-short-lived-threads.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -62,8 +62,6 @@ proc test {} {\n     global gdb_prompt\n     global decimal\n \n-    clean_restart ${binfile}\n-\n     set test_spawn_id [spawn_wait_for_attach $binfile]\n     set testpid [spawn_id_get_pid $test_spawn_id]\n \n@@ -170,7 +168,8 @@ proc test {} {\n # failure.\n set options { \"additional_flags=-DTIMEOUT=$timeout\" debug pthreads }\n \n-if {[prepare_for_testing \"failed to prepare\" $testfile $srcfile $options] == -1} {\n+if {[prepare_for_testing \"failed to prepare\" $testfile $srcfile \\\n+\t $options] == -1} {\n     return -1\n }\n "
    },
    {
      "sha": "de398241ecfd8b0fcea461063627075be92956ed",
      "filename": "gdb/testsuite/gdb.threads/break-while-running.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.threads/break-while-running.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.threads/break-while-running.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.threads/break-while-running.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -24,7 +24,7 @@\n \n standard_testfile\n \n-if {[prepare_for_testing \"failed to prepare\" $testfile $srcfile {debug pthreads}] == -1} {\n+if {[build_executable \"failed to prepare\" $testfile $srcfile {debug pthreads}] == -1} {\n     return -1\n }\n "
    },
    {
      "sha": "2232857ef30390d5c3cb575377f4c2bd3ddd73ce",
      "filename": "gdb/testsuite/gdb.threads/clone-attach-detach.exp",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.threads/clone-attach-detach.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.threads/clone-attach-detach.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.threads/clone-attach-detach.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -33,8 +33,6 @@ if [prepare_for_testing \"failed to prepare\" $testfile $srcfile {debug}] {\n     return -1\n }\n \n-clean_restart ${binfile}\n-\n set test_spawn_id [spawn_wait_for_attach $binfile]\n set testpid [spawn_id_get_pid $test_spawn_id]\n "
    },
    {
      "sha": "d168f6b3e29a2a39e224596e7054122b853d189a",
      "filename": "gdb/testsuite/gdb.threads/next-bp-other-thread.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 1,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.threads/next-bp-other-thread.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.threads/next-bp-other-thread.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.threads/next-bp-other-thread.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -20,7 +20,8 @@\n \n standard_testfile\n \n-if {[prepare_for_testing \"failed to prepare\" $testfile $srcfile {debug pthreads}] == -1} {\n+if {[build_executable \"failed to prepare\" $testfile $srcfile \\\n+\t {debug pthreads}] == -1} {\n     return -1\n }\n "
    },
    {
      "sha": "f5dc7fe6e7406e447a3443243933ddc1e255be7e",
      "filename": "gdb/testsuite/gdb.threads/signal-sigtrap.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 1,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.threads/signal-sigtrap.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.threads/signal-sigtrap.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.threads/signal-sigtrap.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -23,7 +23,8 @@ if [target_info exists gdb,nosignals] {\n     return -1\n }\n \n-if {[prepare_for_testing \"failed to prepare\" $testfile $srcfile {debug pthreads}]} {\n+if {[build_executable \"failed to prepare\" $testfile $srcfile \\\n+\t {debug pthreads}]} {\n     return -1\n }\n "
    },
    {
      "sha": "c6c6ccef0288c339419186e6bdffafc3f07b90d8",
      "filename": "gdb/testsuite/gdb.threads/step-bg-decr-pc-switch-thread.exp",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.threads/step-bg-decr-pc-switch-thread.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.threads/step-bg-decr-pc-switch-thread.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.threads/step-bg-decr-pc-switch-thread.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -34,8 +34,6 @@ if {[prepare_for_testing \"failed to prepare\" $testfile $srcfile {debug pthreads}\n     return -1\n }\n \n-clean_restart $binfile\n-\n if ![runto_main] {\n     continue\n }"
    },
    {
      "sha": "8ac1f5b2ceb92f9123a8ebbcf356bebdef2a39ac",
      "filename": "gdb/testsuite/gdb.threads/tid-reuse.exp",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.threads/tid-reuse.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.threads/tid-reuse.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.threads/tid-reuse.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -22,8 +22,6 @@ if {[prepare_for_testing \"failed to prepare\" $testfile $srcfile { debug pthreads\n     return -1\n }\n \n-clean_restart ${binfile}\n-\n if ![runto_main] {\n     fail \"can't run to main\"\n     return -1"
    },
    {
      "sha": "0fadfa66b13f15866ce691f7908ddbc8501d101a",
      "filename": "gdb/testsuite/gdb.trace/qtro.exp",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.trace/qtro.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54/gdb/testsuite/gdb.trace/qtro.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.trace/qtro.exp?ref=98bf5c02cfe9d13428a55c0da8d5f150d7c1fc54",
      "patch": "@@ -25,7 +25,6 @@ standard_testfile\n if {[prepare_for_testing \"failed to prepare\" $testfile $srcfile {debug nopie}]} {\n     return -1\n }\n-clean_restart $testfile\n \n if ![runto_main] {\n     fail \"can't run to main to check for trace support\""
    }
  ]
}