{
  "sha": "07d9937a201b2ff66b4ca98eac70581fd17c1aa0",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MDdkOTkzN2EyMDFiMmZmNjZiNGNhOThlYWM3MDU4MWZkMTdjMWFhMA==",
  "commit": {
    "author": {
      "name": "Tom Tromey",
      "email": "tom@tromey.com",
      "date": "2020-12-11T16:33:36Z"
    },
    "committer": {
      "name": "Tom Tromey",
      "email": "tom@tromey.com",
      "date": "2020-12-11T16:33:42Z"
    },
    "message": "install_variable cannot fail\n\nI noticed that install_variable will never return false, so this patch\nchanges the return type to void.  I couldn't find a spot in history\nwhere it did return false, maybe it's always been like this.\n\ngdb/ChangeLog\n2020-12-11  Tom Tromey  <tom@tromey.com>\n\n\t* varobj.c (varobj_create): Update.\n\t(install_variable): Return void.",
    "tree": {
      "sha": "c60008a2ceff63010174a85481a2318d80dc6b85",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/c60008a2ceff63010174a85481a2318d80dc6b85"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/07d9937a201b2ff66b4ca98eac70581fd17c1aa0",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/07d9937a201b2ff66b4ca98eac70581fd17c1aa0",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/07d9937a201b2ff66b4ca98eac70581fd17c1aa0",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/07d9937a201b2ff66b4ca98eac70581fd17c1aa0/comments",
  "author": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "1345dee2805220742355b331934c2cdedf7669c6",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/1345dee2805220742355b331934c2cdedf7669c6",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/1345dee2805220742355b331934c2cdedf7669c6"
    }
  ],
  "stats": {
    "total": 17,
    "additions": 8,
    "deletions": 9
  },
  "files": [
    {
      "sha": "a3d977dc604506f5cc1b4ffefef5d108e0fcf2e1",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/07d9937a201b2ff66b4ca98eac70581fd17c1aa0/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/07d9937a201b2ff66b4ca98eac70581fd17c1aa0/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=07d9937a201b2ff66b4ca98eac70581fd17c1aa0",
      "patch": "@@ -1,3 +1,8 @@\n+2020-12-11  Tom Tromey  <tom@tromey.com>\n+\n+\t* varobj.c (varobj_create): Update.\n+\t(install_variable): Return void.\n+\n 2020-12-11  Tom Tromey  <tom@tromey.com>\n \n \t* varobj.c (instantiate_pretty_printer): Use gdbpy_ref."
    },
    {
      "sha": "19a90c7119613f158f697c49fd8f23eac3ecc1ff",
      "filename": "gdb/varobj.c",
      "status": "modified",
      "additions": 3,
      "deletions": 9,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/07d9937a201b2ff66b4ca98eac70581fd17c1aa0/gdb/varobj.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/07d9937a201b2ff66b4ca98eac70581fd17c1aa0/gdb/varobj.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/varobj.c?ref=07d9937a201b2ff66b4ca98eac70581fd17c1aa0",
      "patch": "@@ -142,7 +142,7 @@ static int delete_variable (struct varobj *, bool);\n \n static void delete_variable_1 (int *, struct varobj *, bool, bool);\n \n-static bool install_variable (struct varobj *);\n+static void install_variable (struct varobj *);\n \n static void uninstall_variable (struct varobj *);\n \n@@ -390,11 +390,7 @@ varobj_create (const char *objname,\n   if ((var != NULL) && (objname != NULL))\n     {\n       var->obj_name = objname;\n-\n-      /* If a varobj name is duplicated, the install will fail so\n-\t we must cleanup.  */\n-      if (!install_variable (var.get ()))\n-\treturn NULL;\n+      install_variable (var.get ());\n     }\n \n   return var.release ();\n@@ -1733,7 +1729,7 @@ delete_variable_1 (int *delcountp, struct varobj *var, bool only_children_p,\n }\n \n /* Install the given variable VAR with the object name VAR->OBJ_NAME.  */\n-static bool\n+static void\n install_variable (struct varobj *var)\n {\n   hashval_t hash = htab_hash_string (var->obj_name.c_str ());\n@@ -1749,8 +1745,6 @@ install_variable (struct varobj *var)\n   /* If root, add varobj to root list.  */\n   if (is_root_p (var))\n     rootlist.push_front (var->root);\n-\n-  return true;\t\t\t/* OK */\n }\n \n /* Uninstall the object VAR.  */"
    }
  ]
}