{
  "sha": "77791f9c21ec05423db6724a3be543f2cb6e5822",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6Nzc3OTFmOWMyMWVjMDU0MjNkYjY3MjRhM2JlNTQzZjJjYjZlNTgyMg==",
  "commit": {
    "author": {
      "name": "Andrew Burgess",
      "email": "andrew.burgess@embecosm.com",
      "date": "2021-07-26T16:29:05Z"
    },
    "committer": {
      "name": "Andrew Burgess",
      "email": "andrew.burgess@embecosm.com",
      "date": "2021-07-28T08:38:32Z"
    },
    "message": "gdb: fix missing space in some info variables output\n\nFixes PR gdb/28121.  When a user declares an array like this:\n\n  int * const foo_1[3];\n\nAnd in GDB the user does this:\n\n  (gdb) info variables foo\n  All variables matching regular expression \"foo\":\n\n  File test.c:\n  1:\tint * constfoo_1[3];\n\nNotice the missing space between 'const' and 'foo_1'.  This is fixed\nin c_type_print_varspec_prefix (c-typeprint.c) by passing through the\nflag that indicates if a trailing space is needed, rather than hard\ncoding the flag to false as we currently do.\n\nBug: https://sourceware.org/bugzilla/show_bug.cgi?id=28121",
    "tree": {
      "sha": "8a107efc10f07f11b0360e600d91fada075cce93",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/8a107efc10f07f11b0360e600d91fada075cce93"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/77791f9c21ec05423db6724a3be543f2cb6e5822",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/77791f9c21ec05423db6724a3be543f2cb6e5822",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/77791f9c21ec05423db6724a3be543f2cb6e5822",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/77791f9c21ec05423db6724a3be543f2cb6e5822/comments",
  "author": {
    "login": "T-J-Teru",
    "id": 475372,
    "node_id": "MDQ6VXNlcjQ3NTM3Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/475372?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/T-J-Teru",
    "html_url": "https://github.com/T-J-Teru",
    "followers_url": "https://api.github.com/users/T-J-Teru/followers",
    "following_url": "https://api.github.com/users/T-J-Teru/following{/other_user}",
    "gists_url": "https://api.github.com/users/T-J-Teru/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/T-J-Teru/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/T-J-Teru/subscriptions",
    "organizations_url": "https://api.github.com/users/T-J-Teru/orgs",
    "repos_url": "https://api.github.com/users/T-J-Teru/repos",
    "events_url": "https://api.github.com/users/T-J-Teru/events{/privacy}",
    "received_events_url": "https://api.github.com/users/T-J-Teru/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "T-J-Teru",
    "id": 475372,
    "node_id": "MDQ6VXNlcjQ3NTM3Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/475372?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/T-J-Teru",
    "html_url": "https://github.com/T-J-Teru",
    "followers_url": "https://api.github.com/users/T-J-Teru/followers",
    "following_url": "https://api.github.com/users/T-J-Teru/following{/other_user}",
    "gists_url": "https://api.github.com/users/T-J-Teru/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/T-J-Teru/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/T-J-Teru/subscriptions",
    "organizations_url": "https://api.github.com/users/T-J-Teru/orgs",
    "repos_url": "https://api.github.com/users/T-J-Teru/repos",
    "events_url": "https://api.github.com/users/T-J-Teru/events{/privacy}",
    "received_events_url": "https://api.github.com/users/T-J-Teru/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "ad14ab00eb89cccd32815ee7ebb6104aa7db040f",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/ad14ab00eb89cccd32815ee7ebb6104aa7db040f",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/ad14ab00eb89cccd32815ee7ebb6104aa7db040f"
    }
  ],
  "stats": {
    "total": 28,
    "additions": 24,
    "deletions": 4
  },
  "files": [
    {
      "sha": "741541749b350d7d7c444b3ca1bfc1cf203bc86f",
      "filename": "gdb/c-typeprint.c",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/77791f9c21ec05423db6724a3be543f2cb6e5822/gdb/c-typeprint.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/77791f9c21ec05423db6724a3be543f2cb6e5822/gdb/c-typeprint.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/c-typeprint.c?ref=77791f9c21ec05423db6724a3be543f2cb6e5822",
      "patch": "@@ -436,8 +436,8 @@ c_type_print_varspec_prefix (struct type *type,\n \n     case TYPE_CODE_ARRAY:\n       c_type_print_varspec_prefix (TYPE_TARGET_TYPE (type),\n-\t\t\t\t   stream, show, 0, 0, language, flags,\n-\t\t\t\t   podata);\n+\t\t\t\t   stream, show, 0, need_post_space,\n+\t\t\t\t   language, flags, podata);\n       if (passed_a_ptr)\n \tfprintf_filtered (stream, \"(\");\n       break;"
    },
    {
      "sha": "b66ce98abaf61b0e72b97646feb339cf4c787d6d",
      "filename": "gdb/testsuite/gdb.base/info-var-f1.c",
      "status": "modified",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/77791f9c21ec05423db6724a3be543f2cb6e5822/gdb/testsuite/gdb.base/info-var-f1.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/77791f9c21ec05423db6724a3be543f2cb6e5822/gdb/testsuite/gdb.base/info-var-f1.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/info-var-f1.c?ref=77791f9c21ec05423db6724a3be543f2cb6e5822",
      "patch": "@@ -15,6 +15,14 @@\n \n #include \"info-var.h\"\n \n+/* Some array variables.  */\n+int * const foo_1[3];\n+const int *foo_2[3];\n+int *foo_3[3];\n+int const foo_4[3];\n+const int foo_5[3];\n+int foo_6[3];\n+\n static int f1_var = -3;\n \n int"
    },
    {
      "sha": "9e54654356857724c2bd02e9cdfbcf9141ce6d14",
      "filename": "gdb/testsuite/gdb.base/info-var.exp",
      "status": "modified",
      "additions": 14,
      "deletions": 2,
      "changes": 16,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/77791f9c21ec05423db6724a3be543f2cb6e5822/gdb/testsuite/gdb.base/info-var.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/77791f9c21ec05423db6724a3be543f2cb6e5822/gdb/testsuite/gdb.base/info-var.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/info-var.exp?ref=77791f9c21ec05423db6724a3be543f2cb6e5822",
      "patch": "@@ -31,7 +31,13 @@ gdb_test \"info variables\" \\\n \t \"All defined variables:\" \\\n \t \"\" \\\n \t \"File .*${srcfile}:\" \\\n-\t \"18:\\[ \\t\\]+static int f1_var;\" \\\n+\t \"19:\\\\s+int \\\\* const foo_1\\\\\\[3\\\\\\];\" \\\n+\t \"20:\\\\s+const int \\\\*foo_2\\\\\\[3\\\\\\];\" \\\n+\t \"21:\\\\s+int \\\\*foo_3\\\\\\[3\\\\\\];\" \\\n+\t \"22:\\\\s+const int foo_4\\\\\\[3\\\\\\];\" \\\n+\t \"23:\\\\s+const int foo_5\\\\\\[3\\\\\\];\" \\\n+\t \"24:\\\\s+int foo_6\\\\\\[3\\\\\\];\" \\\n+\t \"26:\\\\s+static int f1_var;\" \\\n \t \"\" \\\n \t \"File .*${srcfile2}:\" \\\n \t \"18:\\[ \\t\\]+int global_var;\" \\\n@@ -48,7 +54,13 @@ gdb_test \"info variables -n\" \\\n \t \"All defined variables:\" \\\n \t \"\" \\\n \t \"File .*${srcfile}:\" \\\n-\t \"18:\\[ \\t\\]+static int f1_var;\" \\\n+\t \"19:\\\\s+int \\\\* const foo_1\\\\\\[3\\\\\\];\" \\\n+\t \"20:\\\\s+const int \\\\*foo_2\\\\\\[3\\\\\\];\" \\\n+\t \"21:\\\\s+int \\\\*foo_3\\\\\\[3\\\\\\];\" \\\n+\t \"22:\\\\s+const int foo_4\\\\\\[3\\\\\\];\" \\\n+\t \"23:\\\\s+const int foo_5\\\\\\[3\\\\\\];\" \\\n+\t \"24:\\\\s+int foo_6\\\\\\[3\\\\\\];\" \\\n+\t \"26:\\\\s+static int f1_var;\" \\\n \t \"\" \\\n \t \"File .*${srcfile2}:\" \\\n \t \"18:\\[ \\t\\]+int global_var;\" \\"
    }
  ]
}