{
  "sha": "51e36a3aaada574336217a83aaeba32424eee537",
  "node_id": "C_kwDOANOeidoAKDUxZTM2YTNhYWFkYTU3NDMzNjIxN2E4M2FhZWJhMzI0MjRlZWU1Mzc",
  "commit": {
    "author": {
      "name": "Simon Marchi",
      "email": "simon.marchi@polymtl.ca",
      "date": "2021-09-27T01:08:36Z"
    },
    "committer": {
      "name": "Simon Marchi",
      "email": "simon.marchi@polymtl.ca",
      "date": "2021-10-29T20:44:45Z"
    },
    "message": "gdb: remove TYPE_FIELD_DWARF_BLOCK\n\nRemove TYPE_FIELD_DWARF_BLOCK, replace with type::field +\nfield::loc_dwarf_block.\n\nChange-Id: I10af9410bb5f46d342b8358a7956998c7e804b64",
    "tree": {
      "sha": "85851a5d75ca59a1fa5d74e6395e3d37c6d9fc1f",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/85851a5d75ca59a1fa5d74e6395e3d37c6d9fc1f"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/51e36a3aaada574336217a83aaeba32424eee537",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/51e36a3aaada574336217a83aaeba32424eee537",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/51e36a3aaada574336217a83aaeba32424eee537",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/51e36a3aaada574336217a83aaeba32424eee537/comments",
  "author": {
    "login": "simark",
    "id": 1758287,
    "node_id": "MDQ6VXNlcjE3NTgyODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1758287?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/simark",
    "html_url": "https://github.com/simark",
    "followers_url": "https://api.github.com/users/simark/followers",
    "following_url": "https://api.github.com/users/simark/following{/other_user}",
    "gists_url": "https://api.github.com/users/simark/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/simark/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/simark/subscriptions",
    "organizations_url": "https://api.github.com/users/simark/orgs",
    "repos_url": "https://api.github.com/users/simark/repos",
    "events_url": "https://api.github.com/users/simark/events{/privacy}",
    "received_events_url": "https://api.github.com/users/simark/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "simark",
    "id": 1758287,
    "node_id": "MDQ6VXNlcjE3NTgyODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1758287?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/simark",
    "html_url": "https://github.com/simark",
    "followers_url": "https://api.github.com/users/simark/followers",
    "following_url": "https://api.github.com/users/simark/following{/other_user}",
    "gists_url": "https://api.github.com/users/simark/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/simark/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/simark/subscriptions",
    "organizations_url": "https://api.github.com/users/simark/orgs",
    "repos_url": "https://api.github.com/users/simark/repos",
    "events_url": "https://api.github.com/users/simark/events{/privacy}",
    "received_events_url": "https://api.github.com/users/simark/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "e06c3e112eefd357b2531b53d0d8e87619fceb95",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/e06c3e112eefd357b2531b53d0d8e87619fceb95",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/e06c3e112eefd357b2531b53d0d8e87619fceb95"
    }
  ],
  "stats": {
    "total": 7,
    "additions": 3,
    "deletions": 4
  },
  "files": [
    {
      "sha": "00934d9a4bc85c9612a2896d6da7f2b5cfbb858e",
      "filename": "gdb/gdbtypes.c",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51e36a3aaada574336217a83aaeba32424eee537/gdb/gdbtypes.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51e36a3aaada574336217a83aaeba32424eee537/gdb/gdbtypes.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/gdbtypes.c?ref=51e36a3aaada574336217a83aaeba32424eee537",
      "patch": "@@ -2591,7 +2591,7 @@ resolve_dynamic_struct (struct type *type,\n \t  struct dwarf2_property_baton baton;\n \t  baton.property_type\n \t    = lookup_pointer_type (resolved_type->field (i).type ());\n-\t  baton.locexpr = *TYPE_FIELD_DWARF_BLOCK (resolved_type, i);\n+\t  baton.locexpr = *resolved_type->field (i).loc_dwarf_block ();\n \n \t  struct dynamic_prop prop;\n \t  prop.set_locexpr (&baton);\n@@ -5577,7 +5577,7 @@ copy_type_recursive (struct objfile *objfile,\n \t      break;\n             case FIELD_LOC_KIND_DWARF_BLOCK:\n               new_type->field (i).set_loc_dwarf_block\n-\t\t(TYPE_FIELD_DWARF_BLOCK (type, i));\n+\t\t(type->field (i).loc_dwarf_block ());\n               break;\n \t    default:\n \t      internal_error (__FILE__, __LINE__,"
    },
    {
      "sha": "5284a4c3a030bd7b8d02132fdbfb753bc94bab73",
      "filename": "gdb/gdbtypes.h",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51e36a3aaada574336217a83aaeba32424eee537/gdb/gdbtypes.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51e36a3aaada574336217a83aaeba32424eee537/gdb/gdbtypes.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/gdbtypes.h?ref=51e36a3aaada574336217a83aaeba32424eee537",
      "patch": "@@ -2128,7 +2128,6 @@ extern void set_type_vptr_basetype (struct type *, struct type *);\n #define FIELD_ARTIFICIAL(thisfld) ((thisfld).artificial)\n #define FIELD_BITSIZE(thisfld) ((thisfld).bitsize)\n \n-#define TYPE_FIELD_DWARF_BLOCK(thistype, n) ((thistype)->field (n).loc_dwarf_block ())\n #define TYPE_FIELD_ARTIFICIAL(thistype, n) FIELD_ARTIFICIAL((thistype)->field (n))\n #define TYPE_FIELD_BITSIZE(thistype, n) FIELD_BITSIZE((thistype)->field (n))\n #define TYPE_FIELD_PACKED(thistype, n) (FIELD_BITSIZE((thistype)->field (n))!=0)"
    },
    {
      "sha": "187c10595acbf6a82b747089baba774b96e0e7cb",
      "filename": "gdb/gnu-v3-abi.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/51e36a3aaada574336217a83aaeba32424eee537/gdb/gnu-v3-abi.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/51e36a3aaada574336217a83aaeba32424eee537/gdb/gnu-v3-abi.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/gnu-v3-abi.c?ref=51e36a3aaada574336217a83aaeba32424eee537",
      "patch": "@@ -469,7 +469,7 @@ gnuv3_baseclass_offset (struct type *type, int index,\n       struct dwarf2_property_baton baton;\n       baton.property_type\n \t= lookup_pointer_type (type->field (index).type ());\n-      baton.locexpr = *TYPE_FIELD_DWARF_BLOCK (type, index);\n+      baton.locexpr = *type->field (index).loc_dwarf_block ();\n \n       struct dynamic_prop prop;\n       prop.set_locexpr (&baton);"
    }
  ]
}