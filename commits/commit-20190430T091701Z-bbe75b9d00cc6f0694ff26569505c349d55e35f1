{
  "sha": "bbe75b9d00cc6f0694ff26569505c349d55e35f1",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YmJlNzViOWQwMGNjNmYwNjk0ZmYyNjU2OTUwNWMzNDlkNTVlMzVmMQ==",
  "commit": {
    "author": {
      "name": "Andrew Burgess",
      "email": "andrew.burgess@embecosm.com",
      "date": "2019-02-16T16:39:29Z"
    },
    "committer": {
      "name": "Andrew Burgess",
      "email": "andrew.burgess@embecosm.com",
      "date": "2019-04-30T09:17:01Z"
    },
    "message": "gdb/fortran: Print 'void' type in lower case\n\nFor a program compiled with gfortran the base type names are written\nas lower cases in the DWARF, and so GDB will display them as lower\ncase.  Additionally, in most places where GDB supplies its own type\nnames (for example all of the types defined in f-lang.c in\n`build_fortran_types`), the type names are all lower case.\n\nAn exception to this is where GDB prints the void type for Fortran.\nIn this case GDB uses upper case.\n\nI'm not aware of any reason why this type should merit special\nattention, and it looks our of place when printing types, so this\ncommit changes from 'VOID' to 'void' to match all the other types.\n\ngdb/ChangeLog:\n\n\t* f-lang.c (build_fortran_types): Change name of void type to\n\tlower case.\n\t* f-typeprint.c (f_type_print_base): Print the name of the void\n\ttype, rather than a fixed string.\n\t* f-valprint.c (f_decorations): Use lower case void string.\n\ngdb/testsuite/ChangeLog:\n\n\t* gdb.fortran/exprs.exp (test_convenience_variables): Expect lower\n\tcase void string.",
    "tree": {
      "sha": "832a194eb5b6d357635f22cd129b6c0802ff783e",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/832a194eb5b6d357635f22cd129b6c0802ff783e"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/bbe75b9d00cc6f0694ff26569505c349d55e35f1",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/bbe75b9d00cc6f0694ff26569505c349d55e35f1",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/bbe75b9d00cc6f0694ff26569505c349d55e35f1",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/bbe75b9d00cc6f0694ff26569505c349d55e35f1/comments",
  "author": {
    "login": "T-J-Teru",
    "id": 475372,
    "node_id": "MDQ6VXNlcjQ3NTM3Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/475372?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/T-J-Teru",
    "html_url": "https://github.com/T-J-Teru",
    "followers_url": "https://api.github.com/users/T-J-Teru/followers",
    "following_url": "https://api.github.com/users/T-J-Teru/following{/other_user}",
    "gists_url": "https://api.github.com/users/T-J-Teru/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/T-J-Teru/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/T-J-Teru/subscriptions",
    "organizations_url": "https://api.github.com/users/T-J-Teru/orgs",
    "repos_url": "https://api.github.com/users/T-J-Teru/repos",
    "events_url": "https://api.github.com/users/T-J-Teru/events{/privacy}",
    "received_events_url": "https://api.github.com/users/T-J-Teru/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "T-J-Teru",
    "id": 475372,
    "node_id": "MDQ6VXNlcjQ3NTM3Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/475372?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/T-J-Teru",
    "html_url": "https://github.com/T-J-Teru",
    "followers_url": "https://api.github.com/users/T-J-Teru/followers",
    "following_url": "https://api.github.com/users/T-J-Teru/following{/other_user}",
    "gists_url": "https://api.github.com/users/T-J-Teru/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/T-J-Teru/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/T-J-Teru/subscriptions",
    "organizations_url": "https://api.github.com/users/T-J-Teru/orgs",
    "repos_url": "https://api.github.com/users/T-J-Teru/repos",
    "events_url": "https://api.github.com/users/T-J-Teru/events{/privacy}",
    "received_events_url": "https://api.github.com/users/T-J-Teru/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "1db455a76c39e2be6a8a9613b7a19439f24722d0",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/1db455a76c39e2be6a8a9613b7a19439f24722d0",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/1db455a76c39e2be6a8a9613b7a19439f24722d0"
    }
  ],
  "stats": {
    "total": 25,
    "additions": 21,
    "deletions": 4
  },
  "files": [
    {
      "sha": "f0e152006a5ed9936d82f6fa0a78253bd82715f2",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/bbe75b9d00cc6f0694ff26569505c349d55e35f1/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/bbe75b9d00cc6f0694ff26569505c349d55e35f1/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=bbe75b9d00cc6f0694ff26569505c349d55e35f1",
      "patch": "@@ -1,3 +1,11 @@\n+2019-04-30  Andrew Burgess  <andrew.burgess@embecosm.com>\n+\n+\t* f-lang.c (build_fortran_types): Change name of void type to\n+\tlower case.\n+\t* f-typeprint.c (f_type_print_base): Print the name of the void\n+\ttype, rather than a fixed string.\n+\t* f-valprint.c (f_decorations): Use lower case void string.\n+\n 2019-04-30  Andrew Burgess  <andrew.burgess@embecosm.com>\n \t    Chris January  <chris.january@arm.com>\n "
    },
    {
      "sha": "9da6fdb3e1c35744ac9dc6fc48f84b2ca769a1ad",
      "filename": "gdb/f-lang.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/bbe75b9d00cc6f0694ff26569505c349d55e35f1/gdb/f-lang.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/bbe75b9d00cc6f0694ff26569505c349d55e35f1/gdb/f-lang.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/f-lang.c?ref=bbe75b9d00cc6f0694ff26569505c349d55e35f1",
      "patch": "@@ -689,7 +689,7 @@ build_fortran_types (struct gdbarch *gdbarch)\n     = GDBARCH_OBSTACK_ZALLOC (gdbarch, struct builtin_f_type);\n \n   builtin_f_type->builtin_void\n-    = arch_type (gdbarch, TYPE_CODE_VOID, TARGET_CHAR_BIT, \"VOID\");\n+    = arch_type (gdbarch, TYPE_CODE_VOID, TARGET_CHAR_BIT, \"void\");\n \n   builtin_f_type->builtin_character\n     = arch_type (gdbarch, TYPE_CODE_CHAR, TARGET_CHAR_BIT, \"character\");"
    },
    {
      "sha": "26ea90141358d8c107f8e92156a20f1ae10e4ae6",
      "filename": "gdb/f-typeprint.c",
      "status": "modified",
      "additions": 5,
      "deletions": 1,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/bbe75b9d00cc6f0694ff26569505c349d55e35f1/gdb/f-typeprint.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/bbe75b9d00cc6f0694ff26569505c349d55e35f1/gdb/f-typeprint.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/f-typeprint.c?ref=bbe75b9d00cc6f0694ff26569505c349d55e35f1",
      "patch": "@@ -328,7 +328,11 @@ f_type_print_base (struct type *type, struct ui_file *stream, int show,\n       break;\n \n     case TYPE_CODE_VOID:\n-      fprintfi_filtered (level, stream, \"VOID\");\n+      {\n+\tgdbarch *gdbarch = get_type_arch (type);\n+\tstruct type *void_type = builtin_f_type (gdbarch)->builtin_void;\n+\tfprintfi_filtered (level, stream, \"%s\", TYPE_NAME (void_type));\n+      }\n       break;\n \n     case TYPE_CODE_UNDEF:"
    },
    {
      "sha": "264416ec5408e1c763ad40b21af7c8966d854a6d",
      "filename": "gdb/f-valprint.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/bbe75b9d00cc6f0694ff26569505c349d55e35f1/gdb/f-valprint.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/bbe75b9d00cc6f0694ff26569505c349d55e35f1/gdb/f-valprint.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/f-valprint.c?ref=bbe75b9d00cc6f0694ff26569505c349d55e35f1",
      "patch": "@@ -199,7 +199,7 @@ static const struct generic_val_print_decorations f_decorations =\n   \")\",\n   \".TRUE.\",\n   \".FALSE.\",\n-  \"VOID\",\n+  \"void\",\n   \"{\",\n   \"}\"\n };"
    },
    {
      "sha": "23047c155baa1ab40ad0afc1c6e381cb41162ff9",
      "filename": "gdb/testsuite/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/bbe75b9d00cc6f0694ff26569505c349d55e35f1/gdb/testsuite/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/bbe75b9d00cc6f0694ff26569505c349d55e35f1/gdb/testsuite/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/ChangeLog?ref=bbe75b9d00cc6f0694ff26569505c349d55e35f1",
      "patch": "@@ -1,3 +1,8 @@\n+2019-04-30  Andrew Burgess  <andrew.burgess@embecosm.com>\n+\n+\t* gdb.fortran/exprs.exp (test_convenience_variables): Expect lower\n+\tcase void string.\n+\n 2019-04-30  Andrew Burgess  <andrew.burgess@embecosm.com>\n \n \t* gdb.fortran/complex.exp: Expand."
    },
    {
      "sha": "8649d0b246dbfaa0544fd314130b99344e7b4201",
      "filename": "gdb/testsuite/gdb.fortran/exprs.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/bbe75b9d00cc6f0694ff26569505c349d55e35f1/gdb/testsuite/gdb.fortran/exprs.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/bbe75b9d00cc6f0694ff26569505c349d55e35f1/gdb/testsuite/gdb.fortran/exprs.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.fortran/exprs.exp?ref=bbe75b9d00cc6f0694ff26569505c349d55e35f1",
      "patch": "@@ -141,7 +141,7 @@ proc test_convenience_variables {} {\n     gdb_test \"print (\\$foo = 32) + 4\"\t\" = 36\" \\\n \t\"Use convenience variable assignment in arithmetic expression\"\n \n-    gdb_test \"print \\$bar\"\t\t\" = VOID\" \\\n+    gdb_test \"print \\$bar\"\t\t\" = void\" \\\n \t\"Print contents of uninitialized convenience variable\"\n }\n "
    }
  ]
}