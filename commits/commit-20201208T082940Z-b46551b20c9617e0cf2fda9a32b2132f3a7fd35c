{
  "sha": "b46551b20c9617e0cf2fda9a32b2132f3a7fd35c",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YjQ2NTUxYjIwYzk2MTdlMGNmMmZkYTlhMzJiMjEzMmYzYTdmZDM1Yw==",
  "commit": {
    "author": {
      "name": "Tom de Vries",
      "email": "tdevries@suse.de",
      "date": "2020-12-08T08:29:40Z"
    },
    "committer": {
      "name": "Tom de Vries",
      "email": "tdevries@suse.de",
      "date": "2020-12-08T08:29:40Z"
    },
    "message": "[gdb/testsuite] Simplify gdb.arch/amd64-gs_base.exp\n\nRedo fix committed in commit 67748e0f66 \"[gdb/testsuite] Make\ngdb.arch/amd64-gs_base.exp unsupported for i386\" using is_amd64_regs_target.\n\nTested on x86_64-linux.\n\ngdb/testsuite/ChangeLog:\n\n2020-12-08  Tom de Vries  <tdevries@suse.de>\n\n\t* gdb.arch/amd64-gs_base.exp: Undo commit 67748e0f66, reimplement\n\tusing is_amd64_regs_target.",
    "tree": {
      "sha": "f014a554f2d32ecb15d15e0e4624624d3334c2ec",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/f014a554f2d32ecb15d15e0e4624624d3334c2ec"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/b46551b20c9617e0cf2fda9a32b2132f3a7fd35c",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/b46551b20c9617e0cf2fda9a32b2132f3a7fd35c",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/b46551b20c9617e0cf2fda9a32b2132f3a7fd35c",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/b46551b20c9617e0cf2fda9a32b2132f3a7fd35c/comments",
  "author": {
    "login": "vries",
    "id": 4057235,
    "node_id": "MDQ6VXNlcjQwNTcyMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4057235?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vries",
    "html_url": "https://github.com/vries",
    "followers_url": "https://api.github.com/users/vries/followers",
    "following_url": "https://api.github.com/users/vries/following{/other_user}",
    "gists_url": "https://api.github.com/users/vries/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vries/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vries/subscriptions",
    "organizations_url": "https://api.github.com/users/vries/orgs",
    "repos_url": "https://api.github.com/users/vries/repos",
    "events_url": "https://api.github.com/users/vries/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vries/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "vries",
    "id": 4057235,
    "node_id": "MDQ6VXNlcjQwNTcyMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4057235?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vries",
    "html_url": "https://github.com/vries",
    "followers_url": "https://api.github.com/users/vries/followers",
    "following_url": "https://api.github.com/users/vries/following{/other_user}",
    "gists_url": "https://api.github.com/users/vries/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vries/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vries/subscriptions",
    "organizations_url": "https://api.github.com/users/vries/orgs",
    "repos_url": "https://api.github.com/users/vries/repos",
    "events_url": "https://api.github.com/users/vries/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vries/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "8439f446a1f2cbb69bb09535e99d166f94a7fdb4",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/8439f446a1f2cbb69bb09535e99d166f94a7fdb4",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/8439f446a1f2cbb69bb09535e99d166f94a7fdb4"
    }
  ],
  "stats": {
    "total": 33,
    "additions": 7,
    "deletions": 26
  },
  "files": [
    {
      "sha": "dcbb9b273b34d6ae85693c374f410db7e4396398",
      "filename": "gdb/testsuite/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b46551b20c9617e0cf2fda9a32b2132f3a7fd35c/gdb/testsuite/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b46551b20c9617e0cf2fda9a32b2132f3a7fd35c/gdb/testsuite/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/ChangeLog?ref=b46551b20c9617e0cf2fda9a32b2132f3a7fd35c",
      "patch": "@@ -1,3 +1,8 @@\n+2020-12-08  Tom de Vries  <tdevries@suse.de>\n+\n+\t* gdb.arch/amd64-gs_base.exp: Undo commit 67748e0f66, reimplement\n+\tusing is_amd64_regs_target.\n+\n 2020-12-08  Tom de Vries  <tdevries@suse.de>\n \n \t* gdb.ada/mi_task_arg.exp: Accept <optimized out> as valid value of"
    },
    {
      "sha": "a5cf98d2cc07d58524f3b57319923d49670352fe",
      "filename": "gdb/testsuite/gdb.arch/amd64-gs_base.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 26,
      "changes": 28,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b46551b20c9617e0cf2fda9a32b2132f3a7fd35c/gdb/testsuite/gdb.arch/amd64-gs_base.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b46551b20c9617e0cf2fda9a32b2132f3a7fd35c/gdb/testsuite/gdb.arch/amd64-gs_base.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.arch/amd64-gs_base.exp?ref=b46551b20c9617e0cf2fda9a32b2132f3a7fd35c",
      "patch": "@@ -15,7 +15,7 @@\n \n standard_testfile\n \n-if { ![istarget \"x86_64-*linux*\"] } then {\n+if { ![is_amd64_regs_target] } then {\n     verbose \"Untested x86_64 fs_base and gs_base tests.\"\n     return\n }\n@@ -30,31 +30,6 @@ if ![runto_main] {\n     return -1\n }\n \n-# Test the presence of fs_base and gs_base on the system\n-# register group and values.\n-#\n-set ws \"\\[\\t \\]+\"\n-set info_reg_out [multi_line \"info register sys\" \\\n-          \"fs_base${ws}$hex${ws}$decimal\"\\\n-          \"gs_base${ws}$hex${ws}$decimal\"\\\n-          \"orig_rax${ws}$hex${ws}\\[-\\]$decimal\" ]\n-set info_reg_out_m32 [multi_line \"info register sys\" \\\n-          \"orig_eax${ws}$hex${ws}\\[-\\]$decimal\" ]\n-\n-set supported 0\n-gdb_test_multiple \"info register sys\" \"\" {\n-    -re -wrap $info_reg_out {\n-\tset supported 1\n-    }\n-    -re -wrap $info_reg_out_m32 {\n-    }\n-}\n-\n-if { ! $supported } {\n-    unsupported \"target does not support fs_base and gs_base\"\n-    return -1\n-}\n-\n gdb_test \"print /x \\$fs_base\" \"= $hex\" \"print fs_base\"\n gdb_test \"print /x \\$gs_base\" \"= $hex\" \"print gs_base\"\n \n@@ -64,6 +39,7 @@ gdb_test \"print \\$gs_base = 3\" \"= 3\" \"set gs_base\"\n # Test the presence of fs_base and gs_base on the system\n # register group and values.\n #\n+set ws \"\\[\\t \\]+\"\n set info_reg_out [multi_line \"info register sys\" \\\n           \"fs_base${ws}0x2${ws}2\"\\\n           \"gs_base${ws}0x3${ws}3\"\\"
    }
  ]
}