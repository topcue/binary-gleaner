{
  "sha": "8610e0fd93ea253f9beb9ebb6e50e8807ed83327",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ODYxMGUwZmQ5M2VhMjUzZjliZWI5ZWJiNmU1MGU4ODA3ZWQ4MzMyNw==",
  "commit": {
    "author": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2019-10-09T10:55:25Z"
    },
    "committer": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2019-10-09T11:23:16Z"
    },
    "message": "PR25081, Discrepancy between VMA and LMA after ALIGN\n\nThe testcase in the PR has two empty output sections, .sec1 with an\nALIGN and symbol assignment, and .sec2 just with an empty input\nsection.  The symbol assignment results in .sec1 being kept, but\nbecause it is empty this section doesn't take space from the memory\nregion as you might expect from the ALIGN.  Instead the next section\n.sec2, has vma/lma as if .sec1 wasn't present.  However, .sec2 is\ndiscarded and os->ignored set, which unfortunately meant that dot\nwasn't set from .sec2 vma.  That in turn results in .sec2 lma being\nset incorrectly.  That vma/lma difference is then propagated to\n.sec3 where it is seen as an overlap.\n\n\tPR 25081\n\t* ldlang.c (lang_size_sections_1): Set lma from section vma\n\trather than dot.",
    "tree": {
      "sha": "21ce4146445fcdc917052e396ba0e5050b483a95",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/21ce4146445fcdc917052e396ba0e5050b483a95"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/8610e0fd93ea253f9beb9ebb6e50e8807ed83327",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/8610e0fd93ea253f9beb9ebb6e50e8807ed83327",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/8610e0fd93ea253f9beb9ebb6e50e8807ed83327",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/8610e0fd93ea253f9beb9ebb6e50e8807ed83327/comments",
  "author": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "6d9d6da48e84a65871a9d72fa785105d603990a6",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/6d9d6da48e84a65871a9d72fa785105d603990a6",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/6d9d6da48e84a65871a9d72fa785105d603990a6"
    }
  ],
  "stats": {
    "total": 8,
    "additions": 7,
    "deletions": 1
  },
  "files": [
    {
      "sha": "d3d045c8f4d9c6c374546663da609597a9663ed6",
      "filename": "ld/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8610e0fd93ea253f9beb9ebb6e50e8807ed83327/ld/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8610e0fd93ea253f9beb9ebb6e50e8807ed83327/ld/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/ChangeLog?ref=8610e0fd93ea253f9beb9ebb6e50e8807ed83327",
      "patch": "@@ -1,3 +1,9 @@\n+2019-10-09  Alan Modra  <amodra@gmail.com>\n+\n+\tPR 25081\n+\t* ldlang.c (lang_size_sections_1): Set lma from section vma\n+\trather than dot.\n+\n 2019-10-08  Alan Modra  <amodra@gmail.com>\n \n \t* testsuite/ld-powerpc/localgot.s,"
    },
    {
      "sha": "df7f65948636a24a1fd26602af65189e0a1a7dfb",
      "filename": "ld/ldlang.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8610e0fd93ea253f9beb9ebb6e50e8807ed83327/ld/ldlang.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8610e0fd93ea253f9beb9ebb6e50e8807ed83327/ld/ldlang.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/ldlang.c?ref=8610e0fd93ea253f9beb9ebb6e50e8807ed83327",
      "patch": "@@ -5691,7 +5691,7 @@ lang_size_sections_1\n \t\t    /* Otherwise, keep the same lma to vma relationship\n \t\t       as the previous section.  */\n \t\t    else\n-\t\t      lma = dot + last->lma - last->vma;\n+\t\t      lma = os->bfd_section->vma + last->lma - last->vma;\n \n \t\t    if (section_alignment > 0)\n \t\t      lma = align_power (lma, section_alignment);"
    }
  ]
}