{
  "sha": "5164c11714c92ba7690d4f93de6be6a90f460220",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NTE2NGMxMTcxNGM5MmJhNzY5MGQ0ZjkzZGU2YmU2YTkwZjQ2MDIyMA==",
  "commit": {
    "author": {
      "name": "Simon Marchi",
      "email": "simon.marchi@polymtl.ca",
      "date": "2020-10-31T12:30:59Z"
    },
    "committer": {
      "name": "Simon Marchi",
      "email": "simon.marchi@polymtl.ca",
      "date": "2020-10-31T12:30:59Z"
    },
    "message": "gdbsupport: replace AC_TRY_COMPILE in ptrace.m4\n\nReplace AC_TRY_COMPILE with AC_COMPILE_IFELSE + AC_LANG_PROGRAM.\n\nAll the changes in the generated configure files are insignificant\nwhitespace changes.\n\ngdb/ChangeLog:\n\n\t* configure: Re-generate.\n\ngdbserver/ChangeLog:\n\n\t* configure: Re-generate.\n\ngdbsupport/ChangeLog:\n\n\t* configure: Re-generate.\n\t* ptrace.m4: Replace AC_TRY_COMPILE with AC_COMPILE_IFELSE +\n\tAC_LANG_PROGRAM.\n\nChange-Id: Ia782b5477fe49dad04e68c0f41c6d8ab3fde5bf0",
    "tree": {
      "sha": "2f616d6805b100c55f6090ddb2e834a763299c4c",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/2f616d6805b100c55f6090ddb2e834a763299c4c"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/5164c11714c92ba7690d4f93de6be6a90f460220",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/5164c11714c92ba7690d4f93de6be6a90f460220",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/5164c11714c92ba7690d4f93de6be6a90f460220",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/5164c11714c92ba7690d4f93de6be6a90f460220/comments",
  "author": {
    "login": "simark",
    "id": 1758287,
    "node_id": "MDQ6VXNlcjE3NTgyODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1758287?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/simark",
    "html_url": "https://github.com/simark",
    "followers_url": "https://api.github.com/users/simark/followers",
    "following_url": "https://api.github.com/users/simark/following{/other_user}",
    "gists_url": "https://api.github.com/users/simark/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/simark/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/simark/subscriptions",
    "organizations_url": "https://api.github.com/users/simark/orgs",
    "repos_url": "https://api.github.com/users/simark/repos",
    "events_url": "https://api.github.com/users/simark/events{/privacy}",
    "received_events_url": "https://api.github.com/users/simark/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "simark",
    "id": 1758287,
    "node_id": "MDQ6VXNlcjE3NTgyODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1758287?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/simark",
    "html_url": "https://github.com/simark",
    "followers_url": "https://api.github.com/users/simark/followers",
    "following_url": "https://api.github.com/users/simark/following{/other_user}",
    "gists_url": "https://api.github.com/users/simark/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/simark/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/simark/subscriptions",
    "organizations_url": "https://api.github.com/users/simark/orgs",
    "repos_url": "https://api.github.com/users/simark/repos",
    "events_url": "https://api.github.com/users/simark/events{/privacy}",
    "received_events_url": "https://api.github.com/users/simark/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "b6fb30eda72b7fc3a6214ed2787f80971f66810d",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/b6fb30eda72b7fc3a6214ed2787f80971f66810d",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/b6fb30eda72b7fc3a6214ed2787f80971f66810d"
    }
  ],
  "stats": {
    "total": 75,
    "additions": 57,
    "deletions": 18
  },
  "files": [
    {
      "sha": "46e1302069e2078be0841b6d733a8d993ee12489",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5164c11714c92ba7690d4f93de6be6a90f460220/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5164c11714c92ba7690d4f93de6be6a90f460220/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=5164c11714c92ba7690d4f93de6be6a90f460220",
      "patch": "@@ -2,6 +2,10 @@\n \n \t* configure: Re-generate.\n \n+2020-10-31  Simon Marchi  <simon.marchi@polymtl.ca>\n+\n+\t* configure: Re-generate.\n+\n 2020-10-31  Simon Marchi  <simon.marchi@polymtl.ca>\n \n \t* acinclude.m4: Modernize."
    },
    {
      "sha": "65904baf8045bbe2030b96e71cf07d5f8e79642d",
      "filename": "gdb/configure",
      "status": "modified",
      "additions": 6,
      "deletions": 1,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5164c11714c92ba7690d4f93de6be6a90f460220/gdb/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5164c11714c92ba7690d4f93de6be6a90f460220/gdb/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/configure?ref=5164c11714c92ba7690d4f93de6be6a90f460220",
      "patch": "@@ -15166,11 +15166,12 @@ if ${gdb_cv_func_ptrace_ret+:} false; then :\n else\n   cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n /* end confdefs.h.  */\n-$gdb_ptrace_headers\n+\u00a0$gdb_ptrace_headers\n int\n main ()\n {\n extern long ptrace (enum __ptrace_request, ...);\n+\n   ;\n   return 0;\n }\n@@ -15185,6 +15186,7 @@ int\n main ()\n {\n extern int ptrace ();\n+\n   ;\n   return 0;\n }\n@@ -15223,6 +15225,7 @@ int\n main ()\n {\n extern long ptrace (enum __ptrace_request, ...);\n+\n   ;\n   return 0;\n }\n@@ -15241,6 +15244,7 @@ int\n main ()\n {\n extern $gdb_cv_func_ptrace_ret ptrace ($gdb_arg1, $gdb_arg2, $gdb_arg3, $gdb_arg4);\n+\n   ;\n   return 0;\n }\n@@ -15260,6 +15264,7 @@ int\n main ()\n {\n extern $gdb_cv_func_ptrace_ret ptrace ($gdb_arg1, $gdb_arg2, $gdb_arg3, $gdb_arg4, $gdb_arg5);\n+\n   ;\n   return 0;\n }"
    },
    {
      "sha": "8975cc9140695a689af8fb3ce16898ecb1c248bd",
      "filename": "gdbserver/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5164c11714c92ba7690d4f93de6be6a90f460220/gdbserver/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5164c11714c92ba7690d4f93de6be6a90f460220/gdbserver/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/ChangeLog?ref=5164c11714c92ba7690d4f93de6be6a90f460220",
      "patch": "@@ -2,6 +2,10 @@\n \n \t* configure: Re-generate.\n \n+2020-10-31  Simon Marchi  <simon.marchi@polymtl.ca>\n+\n+\t* configure: Re-generate.\n+\n 2020-10-31  Simon Marchi  <simon.marchi@polymtl.ca>\n \n \t* configure.ac: Modernize."
    },
    {
      "sha": "3980ae76230755186a9205043c317c9083a95653",
      "filename": "gdbserver/configure",
      "status": "modified",
      "additions": 6,
      "deletions": 1,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5164c11714c92ba7690d4f93de6be6a90f460220/gdbserver/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5164c11714c92ba7690d4f93de6be6a90f460220/gdbserver/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/configure?ref=5164c11714c92ba7690d4f93de6be6a90f460220",
      "patch": "@@ -9448,11 +9448,12 @@ if ${gdb_cv_func_ptrace_ret+:} false; then :\n else\n   cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n /* end confdefs.h.  */\n-$gdb_ptrace_headers\n+\u00a0$gdb_ptrace_headers\n int\n main ()\n {\n extern long ptrace (enum __ptrace_request, ...);\n+\n   ;\n   return 0;\n }\n@@ -9467,6 +9468,7 @@ int\n main ()\n {\n extern int ptrace ();\n+\n   ;\n   return 0;\n }\n@@ -9505,6 +9507,7 @@ int\n main ()\n {\n extern long ptrace (enum __ptrace_request, ...);\n+\n   ;\n   return 0;\n }\n@@ -9523,6 +9526,7 @@ int\n main ()\n {\n extern $gdb_cv_func_ptrace_ret ptrace ($gdb_arg1, $gdb_arg2, $gdb_arg3, $gdb_arg4);\n+\n   ;\n   return 0;\n }\n@@ -9542,6 +9546,7 @@ int\n main ()\n {\n extern $gdb_cv_func_ptrace_ret ptrace ($gdb_arg1, $gdb_arg2, $gdb_arg3, $gdb_arg4, $gdb_arg5);\n+\n   ;\n   return 0;\n }"
    },
    {
      "sha": "634b7c7913bf6b5829ae40439c04ac5858ae57cc",
      "filename": "gdbsupport/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5164c11714c92ba7690d4f93de6be6a90f460220/gdbsupport/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5164c11714c92ba7690d4f93de6be6a90f460220/gdbsupport/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbsupport/ChangeLog?ref=5164c11714c92ba7690d4f93de6be6a90f460220",
      "patch": "@@ -1,3 +1,9 @@\n+2020-10-31  Simon Marchi  <simon.marchi@polymtl.ca>\n+\n+\t* configure: Re-generate.\n+\t* ptrace.m4: Replace AC_TRY_COMPILE with AC_COMPILE_IFELSE +\n+\tAC_LANG_PROGRAM.\n+\n 2020-10-31  Simon Marchi  <simon.marchi@polymtl.ca>\n \n \t* configure: Re-generate."
    },
    {
      "sha": "904403d13f1227d7a6b48fb65b5156d5463298df",
      "filename": "gdbsupport/configure",
      "status": "modified",
      "additions": 6,
      "deletions": 1,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5164c11714c92ba7690d4f93de6be6a90f460220/gdbsupport/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5164c11714c92ba7690d4f93de6be6a90f460220/gdbsupport/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbsupport/configure?ref=5164c11714c92ba7690d4f93de6be6a90f460220",
      "patch": "@@ -10017,11 +10017,12 @@ if ${gdb_cv_func_ptrace_ret+:} false; then :\n else\n   cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n /* end confdefs.h.  */\n-$gdb_ptrace_headers\n+\u00a0$gdb_ptrace_headers\n int\n main ()\n {\n extern long ptrace (enum __ptrace_request, ...);\n+\n   ;\n   return 0;\n }\n@@ -10036,6 +10037,7 @@ int\n main ()\n {\n extern int ptrace ();\n+\n   ;\n   return 0;\n }\n@@ -10074,6 +10076,7 @@ int\n main ()\n {\n extern long ptrace (enum __ptrace_request, ...);\n+\n   ;\n   return 0;\n }\n@@ -10092,6 +10095,7 @@ int\n main ()\n {\n extern $gdb_cv_func_ptrace_ret ptrace ($gdb_arg1, $gdb_arg2, $gdb_arg3, $gdb_arg4);\n+\n   ;\n   return 0;\n }\n@@ -10111,6 +10115,7 @@ int\n main ()\n {\n extern $gdb_cv_func_ptrace_ret ptrace ($gdb_arg1, $gdb_arg2, $gdb_arg3, $gdb_arg4, $gdb_arg5);\n+\n   ;\n   return 0;\n }"
    },
    {
      "sha": "9f49cf6165bc544715e466973eb61c9a301ffb1c",
      "filename": "gdbsupport/ptrace.m4",
      "status": "modified",
      "additions": 25,
      "deletions": 15,
      "changes": 40,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5164c11714c92ba7690d4f93de6be6a90f460220/gdbsupport/ptrace.m4",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5164c11714c92ba7690d4f93de6be6a90f460220/gdbsupport/ptrace.m4",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbsupport/ptrace.m4?ref=5164c11714c92ba7690d4f93de6be6a90f460220",
      "patch": "@@ -37,13 +37,17 @@ gdb_ptrace_headers='\n AC_CACHE_CHECK(\n   [return type of ptrace],\n   [gdb_cv_func_ptrace_ret],\n-  [AC_TRY_COMPILE(\n-     [$gdb_ptrace_headers],\n-     [extern long ptrace (enum __ptrace_request, ...);],\n-     [gdb_cv_func_ptrace_ret='long'],\n-     [AC_TRY_COMPILE(\n+  [AC_COMPILE_IFELSE(\n+    \u00a0[AC_LANG_PROGRAM(\n \t[$gdb_ptrace_headers],\n-\t[extern int ptrace ();],\n+\t[extern long ptrace (enum __ptrace_request, ...);]\n+      )],\n+     [gdb_cv_func_ptrace_ret='long'],\n+     [AC_COMPILE_IFELSE(\n+\t[AC_LANG_PROGRAM(\n+\t   [$gdb_ptrace_headers],\n+\t   [extern int ptrace ();]\n+\t )],\n \t[gdb_cv_func_ptrace_ret='int'],\n \t[gdb_cv_func_ptrace_ret='long']\n       )]\n@@ -60,25 +64,31 @@ AC_DEFINE_UNQUOTED(\n AC_CACHE_CHECK(\n   [types of arguments for ptrace],\n   [gdb_cv_func_ptrace_args],\n-  [AC_TRY_COMPILE(\n-     [$gdb_ptrace_headers],\n-     [extern long ptrace (enum __ptrace_request, ...);],\n+  [AC_COMPILE_IFELSE(\n+     [AC_LANG_PROGRAM(\n+\t[$gdb_ptrace_headers],\n+\t[extern long ptrace (enum __ptrace_request, ...);]\n+      )],\n      [gdb_cv_func_ptrace_args='enum __ptrace_request,int,long,long'],\n      [for gdb_arg1 in 'int' 'long'; do\n \tfor gdb_arg2 in 'pid_t' 'int' 'long'; do\n \t  for gdb_arg3 in 'int *' 'caddr_t' 'int' 'long' 'void *'; do\n \t    for gdb_arg4 in 'int' 'long' 'void *'; do\n-\t      AC_TRY_COMPILE(\n-\t\t[$gdb_ptrace_headers],\n-\t\t[extern $gdb_cv_func_ptrace_ret ptrace ($gdb_arg1, $gdb_arg2, $gdb_arg3, $gdb_arg4);],\n+\t      AC_COMPILE_IFELSE(\n+\t\t[AC_LANG_PROGRAM(\n+\t\t   [$gdb_ptrace_headers],\n+\t\t   [extern $gdb_cv_func_ptrace_ret ptrace ($gdb_arg1, $gdb_arg2, $gdb_arg3, $gdb_arg4);]\n+\t\t )],\n \t\t[gdb_cv_func_ptrace_args=\"$gdb_arg1,$gdb_arg2,$gdb_arg3,$gdb_arg4\";\n \t\t break 4;]\n \t      )\n \n \t      for gdb_arg5 in 'int *' 'int' 'long'; do\n-\t\tAC_TRY_COMPILE(\n-\t\t  [$gdb_ptrace_headers],\n-\t\t  [extern $gdb_cv_func_ptrace_ret ptrace ($gdb_arg1, $gdb_arg2, $gdb_arg3, $gdb_arg4, $gdb_arg5);],\n+\t\tAC_COMPILE_IFELSE(\n+\t\t  [AC_LANG_PROGRAM(\n+\t\t     [$gdb_ptrace_headers],\n+\t\t     [extern $gdb_cv_func_ptrace_ret ptrace ($gdb_arg1, $gdb_arg2, $gdb_arg3, $gdb_arg4, $gdb_arg5);]\n+\t\t   )],\n \t\t  [gdb_cv_func_ptrace_args=\"$gdb_arg1,$gdb_arg2,$gdb_arg3,$gdb_arg4,$gdb_arg5\";\n \t\t   break 5;]\n \t\t)"
    }
  ]
}