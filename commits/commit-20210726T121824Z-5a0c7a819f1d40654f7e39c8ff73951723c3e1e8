{
  "sha": "5a0c7a819f1d40654f7e39c8ff73951723c3e1e8",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NWEwYzdhODE5ZjFkNDA2NTRmN2UzOWM4ZmY3Mzk1MTcyM2MzZTFlOA==",
  "commit": {
    "author": {
      "name": "Andrea Corallo",
      "email": "andrea.corallo@arm.com",
      "date": "2021-06-04T08:17:17Z"
    },
    "committer": {
      "name": "Andrea Corallo",
      "email": "andrea.corallo@arm.com",
      "date": "2021-07-26T12:18:24Z"
    },
    "message": "PATCH [6/10] arm: Add -march=armv8.1-m.main+pacbti flag\n\ngas/\n2021-06-11  Andrea Corallo  <andrea.corallo@arm.com>\n\n\t* config/tc-arm.c (pacbti_ext): Define.\n\t(BAD_PACBTI): New macro.\n\t(armv8_1m_main_ext_table): Add 'pacbti' extension.\n\ninclude/\n2021-06-11  Andrea Corallo  <andrea.corallo@arm.com>\n\n\t* opcode/arm.h (ARM_EXT3_PACBTI, ARM_AEXT3_V8_1M_MAIN_PACBTI): New\n\tmacro.",
    "tree": {
      "sha": "a9902db320b9c7ef772f77ad6ab599b56841113e",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/a9902db320b9c7ef772f77ad6ab599b56841113e"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/5a0c7a819f1d40654f7e39c8ff73951723c3e1e8",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/5a0c7a819f1d40654f7e39c8ff73951723c3e1e8",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/5a0c7a819f1d40654f7e39c8ff73951723c3e1e8",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/5a0c7a819f1d40654f7e39c8ff73951723c3e1e8/comments",
  "author": {
    "login": "AndreaCorallo",
    "id": 6765576,
    "node_id": "MDQ6VXNlcjY3NjU1NzY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6765576?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/AndreaCorallo",
    "html_url": "https://github.com/AndreaCorallo",
    "followers_url": "https://api.github.com/users/AndreaCorallo/followers",
    "following_url": "https://api.github.com/users/AndreaCorallo/following{/other_user}",
    "gists_url": "https://api.github.com/users/AndreaCorallo/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/AndreaCorallo/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/AndreaCorallo/subscriptions",
    "organizations_url": "https://api.github.com/users/AndreaCorallo/orgs",
    "repos_url": "https://api.github.com/users/AndreaCorallo/repos",
    "events_url": "https://api.github.com/users/AndreaCorallo/events{/privacy}",
    "received_events_url": "https://api.github.com/users/AndreaCorallo/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "AndreaCorallo",
    "id": 6765576,
    "node_id": "MDQ6VXNlcjY3NjU1NzY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6765576?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/AndreaCorallo",
    "html_url": "https://github.com/AndreaCorallo",
    "followers_url": "https://api.github.com/users/AndreaCorallo/followers",
    "following_url": "https://api.github.com/users/AndreaCorallo/following{/other_user}",
    "gists_url": "https://api.github.com/users/AndreaCorallo/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/AndreaCorallo/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/AndreaCorallo/subscriptions",
    "organizations_url": "https://api.github.com/users/AndreaCorallo/orgs",
    "repos_url": "https://api.github.com/users/AndreaCorallo/repos",
    "events_url": "https://api.github.com/users/AndreaCorallo/events{/privacy}",
    "received_events_url": "https://api.github.com/users/AndreaCorallo/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "2c6ccfcfdde1d4c1cbec86a1355bce09314e9b84",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/2c6ccfcfdde1d4c1cbec86a1355bce09314e9b84",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/2c6ccfcfdde1d4c1cbec86a1355bce09314e9b84"
    }
  ],
  "stats": {
    "total": 11,
    "additions": 11,
    "deletions": 0
  },
  "files": [
    {
      "sha": "3ec353abf789201e9575dd898568c0d9c350d349",
      "filename": "gas/config/tc-arm.c",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5a0c7a819f1d40654f7e39c8ff73951723c3e1e8/gas/config/tc-arm.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5a0c7a819f1d40654f7e39c8ff73951723c3e1e8/gas/config/tc-arm.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/config/tc-arm.c?ref=5a0c7a819f1d40654f7e39c8ff73951723c3e1e8",
      "patch": "@@ -365,6 +365,8 @@ static const arm_feature_set fpu_neon_ext_v8_1 =\n   ARM_FEATURE_COPROC (FPU_NEON_EXT_RDMA);\n static const arm_feature_set fpu_neon_ext_dotprod =\n   ARM_FEATURE_COPROC (FPU_NEON_EXT_DOTPROD);\n+static const arm_feature_set pacbti_ext =\n+  ARM_FEATURE_CORE_HIGH_HIGH (ARM_EXT3_PACBTI);\n \n static int mfloat_abi_opt = -1;\n /* Architecture feature bits selected by the last -mcpu/-march or .cpu/.arch\n@@ -945,6 +947,7 @@ struct asm_opcode\n \t\t\t  \"and source operands makes instruction UNPREDICTABLE\")\n #define BAD_EL_TYPE\t_(\"bad element type for instruction\")\n #define MVE_BAD_QREG\t_(\"MVE vector register Q[0..7] expected\")\n+#define BAD_PACBTI\t_(\"selected processor does not support PACBTI extention\")\n \n static htab_t  arm_ops_hsh;\n static htab_t  arm_cond_hsh;\n@@ -31934,6 +31937,7 @@ static const struct arm_ext_table armv8_1m_main_ext_table[] =\n \t\t\tARM_EXT2_FP16_INST | ARM_EXT2_MVE | ARM_EXT2_MVE_FP,\n \t\t\tFPU_VFP_V5_SP_D16 | FPU_VFP_EXT_FP16 | FPU_VFP_EXT_FMA)),\n   CDE_EXTENSIONS,\n+  ARM_ADD (\"pacbti\", ARM_FEATURE_CORE_HIGH_HIGH (ARM_AEXT3_V8_1M_MAIN_PACBTI)),\n   { NULL, 0, ARM_ARCH_NONE, ARM_ARCH_NONE }\n };\n "
    },
    {
      "sha": "4a6044f6f68ddb317d870f8a4ffb700641ee1d24",
      "filename": "include/opcode/arm.h",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5a0c7a819f1d40654f7e39c8ff73951723c3e1e8/include/opcode/arm.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5a0c7a819f1d40654f7e39c8ff73951723c3e1e8/include/opcode/arm.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/include/opcode/arm.h?ref=5a0c7a819f1d40654f7e39c8ff73951723c3e1e8",
      "patch": "@@ -90,6 +90,11 @@\n #define ARM_EXT2_CDE7\t     0x40000000 /* Using CDE coproc 7.\t   */\n #define ARM_EXT2_V8R\t     0x80000000\t/* Arm V8R.\t               */\n \n+#define ARM_EXT3_PACBTI\t     0x00000001 /* Arm v8-M Mainline Pointer\n+\t\t\t\t\t   Authentication and Branch\n+\t\t\t\t\t   Target Identification\n+\t\t\t\t\t   Extension.  */\n+\n /* Co-processor space extensions.  */\n #define ARM_CEXT_XSCALE\t     0x00000001\t/* Allow MIA etc.\t \t   */\n #define ARM_CEXT_MAVERICK    0x00000002\t/* Use Cirrus/DSP coprocessor.\t   */\n@@ -197,6 +202,8 @@\n #define ARM_AEXT2_V8_1M_MAIN\t(ARM_AEXT2_V8M_MAIN | ARM_EXT2_V8_1M_MAIN     \\\n \t\t\t\t\t\t    | ARM_EXT2_FP16_INST)\n \n+#define ARM_AEXT3_V8_1M_MAIN_PACBTI\t(ARM_AEXT2_V8M_MAIN | ARM_EXT3_PACBTI)\n+\n /* Processors with specific extensions in the co-processor space.  */\n #define ARM_ARCH_XSCALE\tARM_FEATURE_LOW (ARM_AEXT_V5TE, ARM_CEXT_XSCALE)\n #define ARM_ARCH_IWMMXT\t\\"
    }
  ]
}