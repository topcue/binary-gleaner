{
  "sha": "aa1b9bdef2a66205e34b0a62c80d8b1b70268825",
  "node_id": "C_kwDOANOeidoAKGFhMWI5YmRlZjJhNjYyMDVlMzRiMGE2MmM4MGQ4YjFiNzAyNjg4MjU",
  "commit": {
    "author": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-11-22T01:36:40Z"
    },
    "committer": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-11-26T18:27:34Z"
    },
    "message": "sim: testsuite: punt unused toolchain variables\n\nThese haven't been used in over 20 years.  The sim testsuite used to\nrun these tools itself directly, but back in ~1999 it switched to the\ndejagnu helpers (e.g. target_assemble & target_link), and the dejagnu\nlogic only utilizes XXX_FOR_TARGET variables.  Punt them here to avoid\nconfusion with dead code.",
    "tree": {
      "sha": "ad952b6cddb817aabaf23a9b1fc060c033fd45ca",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/ad952b6cddb817aabaf23a9b1fc060c033fd45ca"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/aa1b9bdef2a66205e34b0a62c80d8b1b70268825",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/aa1b9bdef2a66205e34b0a62c80d8b1b70268825",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/aa1b9bdef2a66205e34b0a62c80d8b1b70268825",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/aa1b9bdef2a66205e34b0a62c80d8b1b70268825/comments",
  "author": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "61a5375b842e24b6f492efda7eb213b6e6cf677d",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/61a5375b842e24b6f492efda7eb213b6e6cf677d",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/61a5375b842e24b6f492efda7eb213b6e6cf677d"
    }
  ],
  "stats": {
    "total": 47,
    "additions": 3,
    "deletions": 44
  },
  "files": [
    {
      "sha": "c167e10a7f354713bc92c70bd3492151dd13acfe",
      "filename": "sim/testsuite/config/default.exp",
      "status": "modified",
      "additions": 0,
      "deletions": 37,
      "changes": 37,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/aa1b9bdef2a66205e34b0a62c80d8b1b70268825/sim/testsuite/config/default.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/aa1b9bdef2a66205e34b0a62c80d8b1b70268825/sim/testsuite/config/default.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/config/default.exp?ref=aa1b9bdef2a66205e34b0a62c80d8b1b70268825",
      "patch": "@@ -2,41 +2,4 @@\n \n load_lib sim-defs.exp\n \n-global AS\n-if ![info exists AS] {\n-    set AS [findfile $base_dir/../../gas/as-new $base_dir/../../gas/as-new \\\n-\t\t     [transform as]]\n-}\n-\n-global ASFLAGS\n-if ![info exists ASFLAGS] {\n-    set ASFLAGS \"\"\n-}\n-\n-# Compilation is achieved with sim_compile ... so we don't check $CC here.\n-\n-global CFLAGS\n-if ![info exists CFLAGS] {\n-    set CFLAGS \"\"\n-}\n-\n-global LD\n-if ![info exists LD] {\n-    set LD [findfile $base_dir/../../ld/ld-new $base_dir/../../ld/ld-new \\\n-\t\t     [transform ld]]\n-}\n-\n-global LDFLAGS\n-if ![info exists LDFLAGS] {\n-    set LDFLAGS \"\"\n-}\n-\n-# The path to the simulator is obtained with [board_info host sim],\n-# so we don't check $SIM here.\n-\n-global SIMFLAGS\n-if ![info exists SIMFLAGS] {\n-    set SIMFLAGS \"\"\n-}\n-\n sim_init"
    },
    {
      "sha": "24371d96bc42d1fb66b878bb4bd681f2362d9094",
      "filename": "sim/testsuite/cris/hw/rv-n-cris/rvc.exp",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/aa1b9bdef2a66205e34b0a62c80d8b1b70268825/sim/testsuite/cris/hw/rv-n-cris/rvc.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/aa1b9bdef2a66205e34b0a62c80d8b1b70268825/sim/testsuite/cris/hw/rv-n-cris/rvc.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/cris/hw/rv-n-cris/rvc.exp?ref=aa1b9bdef2a66205e34b0a62c80d8b1b70268825",
      "patch": "@@ -21,7 +21,6 @@\n proc sim_has_rv_and_cris {} {\n     global srcdir\n     global subdir\n-    global SIMFLAGS\n     global global_as_options\n     global global_ld_options\n     global global_sim_options"
    },
    {
      "sha": "adf1369fc62ef3a49c2d4df5238f4d9443dd03e6",
      "filename": "sim/testsuite/lib/sim-defs.exp",
      "status": "modified",
      "additions": 3,
      "deletions": 6,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/aa1b9bdef2a66205e34b0a62c80d8b1b70268825/sim/testsuite/lib/sim-defs.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/aa1b9bdef2a66205e34b0a62c80d8b1b70268825/sim/testsuite/lib/sim-defs.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/lib/sim-defs.exp?ref=aa1b9bdef2a66205e34b0a62c80d8b1b70268825",
      "patch": "@@ -73,8 +73,6 @@ proc sim_tool_path {} {\n # simulator (not the simulated program, the simulator) with sim_load.\n \n proc sim_run { prog sim_opts prog_opts redir options } {\n-    global SIMFLAGS\n-\n     # Set the default value of the timeout.\n     # FIXME: The timeout value we actually want is a function of\n     # host, target, and testcase.\n@@ -130,12 +128,12 @@ proc sim_run { prog sim_opts prog_opts redir options } {\n \tset cmd \"$prog\"\n     }\n \n-    send_log \"$sim $always_opts $SIMFLAGS $sim_opts $cmd $prog_opts\\n\"\n+    send_log \"$sim $always_opts $sim_opts $cmd $prog_opts\\n\"\n \n     if { \"$redir\" == \"\" } {\n-\tremote_spawn host \"$sim $always_opts $SIMFLAGS $sim_opts $cmd $prog_opts\"\n+\tremote_spawn host \"$sim $always_opts $sim_opts $cmd $prog_opts\"\n     } else {\n-\tremote_spawn host \"$sim $always_opts $SIMFLAGS $sim_opts $cmd $prog_opts $redir\" writeonly\n+\tremote_spawn host \"$sim $always_opts $sim_opts $cmd $prog_opts $redir\" writeonly\n     }\n     set result [remote_wait host $testcase_timeout]\n \n@@ -184,7 +182,6 @@ proc sim_run { prog sim_opts prog_opts redir options } {\n \n proc run_sim_test { name requested_machs } {\n     global subdir srcdir\n-    global SIMFLAGS\n     global opts\n     global cpu_option\n     global cpu_option_sep"
    }
  ]
}