{
  "sha": "7ae39e2d406dbec568c5ffd462119037b994fdf9",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6N2FlMzllMmQ0MDZkYmVjNTY4YzVmZmQ0NjIxMTkwMzdiOTk0ZmRmOQ==",
  "commit": {
    "author": {
      "name": "Egeyar Bagcioglu",
      "email": "egeyar.bagcioglu@oracle.com",
      "date": "2019-02-20T00:12:44Z"
    },
    "committer": {
      "name": "Cary Coutant",
      "email": "ccoutant@gmail.com",
      "date": "2019-02-20T00:13:24Z"
    },
    "message": "Check whether symbols with MOVW_.ABS relocations require PLT entries (aarch64).\n\n2019-02-19  Egeyar Bagcioglu  <egeyar.bagcioglu@oracle.com>\n\ngold/\n     PR gold/23870\n     * aarch64.cc (Target_aarch64::Scan::global): Check if a symbol with\n     R_AARCH64_MOVW_.ABS_* relocations requires a PLT entry.\n     * testsuite/Makefile.am: Add aarch64_pr23870 test case.\n     * testsuite/Makefile.in: Regenerate.\n     * testsuite/aarch64_pr23870_bar.c: New file.\n     * testsuite/aarch64_pr23870_foo.c: New file.\n     * testsuite/aarch64_pr23870_main.S: New file.",
    "tree": {
      "sha": "8f6e921deb682b55a758a42f3305a8cb1cc29bd3",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/8f6e921deb682b55a758a42f3305a8cb1cc29bd3"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/7ae39e2d406dbec568c5ffd462119037b994fdf9",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/7ae39e2d406dbec568c5ffd462119037b994fdf9",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/7ae39e2d406dbec568c5ffd462119037b994fdf9",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/7ae39e2d406dbec568c5ffd462119037b994fdf9/comments",
  "author": null,
  "committer": {
    "login": "ccoutant",
    "id": 1442098,
    "node_id": "MDQ6VXNlcjE0NDIwOTg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1442098?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ccoutant",
    "html_url": "https://github.com/ccoutant",
    "followers_url": "https://api.github.com/users/ccoutant/followers",
    "following_url": "https://api.github.com/users/ccoutant/following{/other_user}",
    "gists_url": "https://api.github.com/users/ccoutant/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ccoutant/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ccoutant/subscriptions",
    "organizations_url": "https://api.github.com/users/ccoutant/orgs",
    "repos_url": "https://api.github.com/users/ccoutant/repos",
    "events_url": "https://api.github.com/users/ccoutant/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ccoutant/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "abaeb1562648d4b58497040a20d772bd08c06d4b",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/abaeb1562648d4b58497040a20d772bd08c06d4b",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/abaeb1562648d4b58497040a20d772bd08c06d4b"
    }
  ],
  "stats": {
    "total": 190,
    "additions": 146,
    "deletions": 44
  },
  "files": [
    {
      "sha": "f74b92e7366d6866c74dafdfc1d8d972b7112309",
      "filename": "gold/ChangeLog",
      "status": "modified",
      "additions": 11,
      "deletions": 0,
      "changes": 11,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7ae39e2d406dbec568c5ffd462119037b994fdf9/gold/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7ae39e2d406dbec568c5ffd462119037b994fdf9/gold/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gold/ChangeLog?ref=7ae39e2d406dbec568c5ffd462119037b994fdf9",
      "patch": "@@ -1,3 +1,14 @@\n+2019-02-19  Egeyar Bagcioglu  <egeyar.bagcioglu@oracle.com>\n+\n+     PR gold/23870\n+     * aarch64.cc (Target_aarch64::Scan::global): Check if a symbol with\n+     R_AARCH64_MOVW_.ABS_* relocations requires a PLT entry.\n+     * testsuite/Makefile.am: Add aarch64_pr23870 test case.\n+     * testsuite/Makefile.in: Regenerate.\n+     * testsuite/aarch64_pr23870_bar.c: New file.\n+     * testsuite/aarch64_pr23870_foo.c: New file.\n+     * testsuite/aarch64_pr23870_main.S: New file.\n+\n 2019-02-12  Nick Clifton  <nickc@redhat.com>\n \n \t* po/fr.po: Updated French translation."
    },
    {
      "sha": "a45d3fd6671985332d7b77ab02846e8761435684",
      "filename": "gold/aarch64.cc",
      "status": "modified",
      "additions": 11,
      "deletions": 0,
      "changes": 11,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7ae39e2d406dbec568c5ffd462119037b994fdf9/gold/aarch64.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7ae39e2d406dbec568c5ffd462119037b994fdf9/gold/aarch64.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gold/aarch64.cc?ref=7ae39e2d406dbec568c5ffd462119037b994fdf9",
      "patch": "@@ -6496,6 +6496,17 @@ Target_aarch64<size, big_endian>::Scan::global(\n \t  gold_error(_(\"%s: unsupported reloc %u in pos independent link.\"),\n \t\t     object->name().c_str(), r_type);\n \t}\n+      // Make a PLT entry if necessary.\n+      if (gsym->needs_plt_entry())\n+\t{\n+\t  target->make_plt_entry(symtab, layout, gsym);\n+\t  // Since this is not a PC-relative relocation, we may be\n+\t  // taking the address of a function. In that case we need to\n+\t  // set the entry in the dynamic symbol table to the address of\n+\t  // the PLT entry.\n+\t  if (gsym->is_from_dynobj() && !parameters->options().shared())\n+\t    gsym->set_needs_dynsym_value();\n+\t}\n       break;\n \n     case elfcpp::R_AARCH64_LD_PREL_LO19:        // 273"
    },
    {
      "sha": "e499177ef0bfb8527aa8babca9f8c70e3ae48793",
      "filename": "gold/testsuite/Makefile.am",
      "status": "modified",
      "additions": 20,
      "deletions": 0,
      "changes": 20,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7ae39e2d406dbec568c5ffd462119037b994fdf9/gold/testsuite/Makefile.am",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7ae39e2d406dbec568c5ffd462119037b994fdf9/gold/testsuite/Makefile.am",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gold/testsuite/Makefile.am?ref=7ae39e2d406dbec568c5ffd462119037b994fdf9",
      "patch": "@@ -3285,6 +3285,26 @@ pr22266: pr22266_main.o pr22266_ar.o gcctestdir/ld\n pr22266_ar.o: pr22266_a.o gcctestdir/ld\n \tgcctestdir/ld -r -T $(srcdir)/pr22266_script.t -o $@ pr22266_a.o\n \n+if DEFAULT_TARGET_AARCH64\n+\n+check_PROGRAMS += aarch64_pr23870\n+aarch64_pr23870_SOURCES = aarch64_pr23870_foo.c\n+aarch64_pr23870_DEPENDENCIES = \\\n+\tgcctestdir/ld gcctestdir/as aarch64_pr23870_main.o \\\n+\taarch64_pr23870_foo.o aarch64_pr23870_bar.so\n+aarch64_pr23870_LDFLAGS = -Wl,-R,. -L. -Wl,-l:aarch64_pr23870_bar.so\n+aarch64_pr23870_LDADD = aarch64_pr23870_main.o\n+aarch64_pr23870_main.o: aarch64_pr23870_main.S\n+\t$(COMPILE) -c -o $@ $<\n+aarch64_pr23870_foo.o: aarch64_pr23870_foo.c\n+\t$(COMPILE) -c -o $@ $<\n+aarch64_pr23870_bar.o: aarch64_pr23870_bar.c\n+\t$(COMPILE) -c -fPIC -o $@ $<\n+aarch64_pr23870_bar.so: aarch64_pr23870_bar.o\n+\t$(COMPILE) -shared -o $@ $<\n+\n+endif DEFAULT_TARGET_AARCH64\n+\n endif GCC\n endif NATIVE_LINKER\n "
    },
    {
      "sha": "a5b109bf84952aa8be2a58d48358ae21b6c6fe9b",
      "filename": "gold/testsuite/Makefile.in",
      "status": "modified",
      "additions": 77,
      "deletions": 44,
      "changes": 121,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7ae39e2d406dbec568c5ffd462119037b994fdf9/gold/testsuite/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7ae39e2d406dbec568c5ffd462119037b994fdf9/gold/testsuite/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gold/testsuite/Makefile.in?ref=7ae39e2d406dbec568c5ffd462119037b994fdf9",
      "patch": "@@ -107,7 +107,7 @@ check_PROGRAMS = $(am__EXEEXT_1) $(am__EXEEXT_2) $(am__EXEEXT_3) \\\n \t$(am__EXEEXT_31) $(am__EXEEXT_32) $(am__EXEEXT_33) \\\n \t$(am__EXEEXT_34) $(am__EXEEXT_35) $(am__EXEEXT_36) \\\n \t$(am__EXEEXT_37) $(am__EXEEXT_38) $(am__EXEEXT_39) \\\n-\t$(am__EXEEXT_40) $(am__EXEEXT_41)\n+\t$(am__EXEEXT_40) $(am__EXEEXT_41) $(am__EXEEXT_42)\n @NATIVE_OR_CROSS_LINKER_TRUE@am__append_1 = object_unittest \\\n @NATIVE_OR_CROSS_LINKER_TRUE@\tbinary_unittest leb128_unittest \\\n @NATIVE_OR_CROSS_LINKER_TRUE@\toverflow_unittest\n@@ -898,42 +898,43 @@ check_PROGRAMS = $(am__EXEEXT_1) $(am__EXEEXT_2) $(am__EXEEXT_3) \\\n @DEFAULT_TARGET_X86_64_TRUE@@GCC_TRUE@@NATIVE_LINKER_TRUE@am__append_84 = gnu_property_test.sh\n @DEFAULT_TARGET_X86_64_TRUE@@GCC_TRUE@@NATIVE_LINKER_TRUE@am__append_85 = gnu_property_test.stdout\n @GCC_TRUE@@NATIVE_LINKER_TRUE@am__append_86 = pr22266\n+@DEFAULT_TARGET_AARCH64_TRUE@@GCC_TRUE@@NATIVE_LINKER_TRUE@am__append_87 = aarch64_pr23870\n \n # These tests work with native and cross linkers.\n \n # Test script section order.\n-@NATIVE_OR_CROSS_LINKER_TRUE@am__append_87 = script_test_10.sh\n-@NATIVE_OR_CROSS_LINKER_TRUE@am__append_88 = script_test_10.stdout\n-@NATIVE_OR_CROSS_LINKER_TRUE@am__append_89 = script_test_10\n+@NATIVE_OR_CROSS_LINKER_TRUE@am__append_88 = script_test_10.sh\n+@NATIVE_OR_CROSS_LINKER_TRUE@am__append_89 = script_test_10.stdout\n+@NATIVE_OR_CROSS_LINKER_TRUE@am__append_90 = script_test_10\n \n # These tests work with cross linkers only.\n-@DEFAULT_TARGET_I386_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@am__append_90 = split_i386.sh\n-@DEFAULT_TARGET_I386_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@am__append_91 = split_i386_1.stdout split_i386_2.stdout \\\n+@DEFAULT_TARGET_I386_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@am__append_91 = split_i386.sh\n+@DEFAULT_TARGET_I386_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@am__append_92 = split_i386_1.stdout split_i386_2.stdout \\\n @DEFAULT_TARGET_I386_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tsplit_i386_3.stdout split_i386_4.stdout split_i386_r.stdout\n \n-@DEFAULT_TARGET_I386_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@am__append_92 = split_i386_1 split_i386_2 split_i386_3 \\\n+@DEFAULT_TARGET_I386_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@am__append_93 = split_i386_1 split_i386_2 split_i386_3 \\\n @DEFAULT_TARGET_I386_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tsplit_i386_4 split_i386_r\n \n-@DEFAULT_TARGET_X86_64_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@am__append_93 = split_x86_64.sh \\\n+@DEFAULT_TARGET_X86_64_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@am__append_94 = split_x86_64.sh \\\n @DEFAULT_TARGET_X86_64_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tbnd_plt_1.sh \\\n @DEFAULT_TARGET_X86_64_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tbnd_ifunc_1.sh \\\n @DEFAULT_TARGET_X86_64_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tbnd_ifunc_2.sh\n-@DEFAULT_TARGET_X86_64_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@am__append_94 = split_x86_64_1.stdout \\\n+@DEFAULT_TARGET_X86_64_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@am__append_95 = split_x86_64_1.stdout \\\n @DEFAULT_TARGET_X86_64_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tsplit_x86_64_2.stdout \\\n @DEFAULT_TARGET_X86_64_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tsplit_x86_64_3.stdout \\\n @DEFAULT_TARGET_X86_64_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tsplit_x86_64_4.stdout \\\n @DEFAULT_TARGET_X86_64_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tsplit_x86_64_r.stdout \\\n @DEFAULT_TARGET_X86_64_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tbnd_plt_1.stdout \\\n @DEFAULT_TARGET_X86_64_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tbnd_ifunc_1.stdout \\\n @DEFAULT_TARGET_X86_64_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tbnd_ifunc_2.stdout\n-@DEFAULT_TARGET_X86_64_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@am__append_95 = split_x86_64_1 split_x86_64_2 split_x86_64_3 \\\n+@DEFAULT_TARGET_X86_64_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@am__append_96 = split_x86_64_1 split_x86_64_2 split_x86_64_3 \\\n @DEFAULT_TARGET_X86_64_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tsplit_x86_64_4 split_x86_64_r\n \n-@DEFAULT_TARGET_X32_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@am__append_96 = split_x32.sh\n-@DEFAULT_TARGET_X32_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@am__append_97 = split_x32_1.stdout split_x32_2.stdout \\\n+@DEFAULT_TARGET_X32_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@am__append_97 = split_x32.sh\n+@DEFAULT_TARGET_X32_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@am__append_98 = split_x32_1.stdout split_x32_2.stdout \\\n @DEFAULT_TARGET_X32_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tsplit_x32_3.stdout split_x32_4.stdout split_x32_r.stdout\n \n-@DEFAULT_TARGET_X32_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@am__append_98 = split_x32_1 split_x32_2 split_x32_3 \\\n+@DEFAULT_TARGET_X32_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@am__append_99 = split_x32_1 split_x32_2 split_x32_3 \\\n @DEFAULT_TARGET_X32_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tsplit_x32_4 split_x32_r\n \n \n@@ -954,7 +955,7 @@ check_PROGRAMS = $(am__EXEEXT_1) $(am__EXEEXT_2) $(am__EXEEXT_3) \\\n # Check Thumb to ARM farcall veneers\n \n # Check handling of --target1-abs, --target1-rel and --target2 options\n-@DEFAULT_TARGET_ARM_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@am__append_99 = arm_abs_global.sh \\\n+@DEFAULT_TARGET_ARM_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@am__append_100 = arm_abs_global.sh \\\n @DEFAULT_TARGET_ARM_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tarm_branch_in_range.sh \\\n @DEFAULT_TARGET_ARM_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tarm_branch_out_of_range.sh \\\n @DEFAULT_TARGET_ARM_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tarm_fix_v4bx.sh \\\n@@ -977,7 +978,7 @@ check_PROGRAMS = $(am__EXEEXT_1) $(am__EXEEXT_2) $(am__EXEEXT_3) \\\n @DEFAULT_TARGET_ARM_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tarm_target2_got_rel.sh\n \n # The test demonstrates why the constructor of a target object should not access options.\n-@DEFAULT_TARGET_ARM_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@am__append_100 = arm_abs_global.stdout \\\n+@DEFAULT_TARGET_ARM_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@am__append_101 = arm_abs_global.stdout \\\n @DEFAULT_TARGET_ARM_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tarm_bl_in_range.stdout \\\n @DEFAULT_TARGET_ARM_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tarm_bl_out_of_range.stdout \\\n @DEFAULT_TARGET_ARM_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tthumb_bl_in_range.stdout \\\n@@ -1030,7 +1031,7 @@ check_PROGRAMS = $(am__EXEEXT_1) $(am__EXEEXT_2) $(am__EXEEXT_3) \\\n @DEFAULT_TARGET_ARM_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tarm_target2_abs.stdout \\\n @DEFAULT_TARGET_ARM_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tarm_target2_got_rel.stdout \\\n @DEFAULT_TARGET_ARM_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tarm_target_lazy_init\n-@DEFAULT_TARGET_ARM_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@am__append_101 = arm_abs_global \\\n+@DEFAULT_TARGET_ARM_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@am__append_102 = arm_abs_global \\\n @DEFAULT_TARGET_ARM_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tarm_bl_in_range \\\n @DEFAULT_TARGET_ARM_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tarm_bl_out_of_range \\\n @DEFAULT_TARGET_ARM_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tthumb_bl_in_range \\\n@@ -1081,20 +1082,20 @@ check_PROGRAMS = $(am__EXEEXT_1) $(am__EXEEXT_2) $(am__EXEEXT_3) \\\n @DEFAULT_TARGET_ARM_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tarm_target2_abs \\\n @DEFAULT_TARGET_ARM_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tarm_target2_got_rel \\\n @DEFAULT_TARGET_ARM_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tarm_target_lazy_init\n-@DEFAULT_TARGET_AARCH64_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@am__append_102 = aarch64_reloc_none.sh \\\n+@DEFAULT_TARGET_AARCH64_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@am__append_103 = aarch64_reloc_none.sh \\\n @DEFAULT_TARGET_AARCH64_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\taarch64_relocs.sh \\\n @DEFAULT_TARGET_AARCH64_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tpr21430.sh \\\n @DEFAULT_TARGET_AARCH64_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\taarch64_tlsdesc.sh\n-@DEFAULT_TARGET_AARCH64_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@am__append_103 = aarch64_reloc_none.stdout \\\n+@DEFAULT_TARGET_AARCH64_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@am__append_104 = aarch64_reloc_none.stdout \\\n @DEFAULT_TARGET_AARCH64_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\taarch64_relocs.stdout \\\n @DEFAULT_TARGET_AARCH64_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tpr21430.stdout \\\n @DEFAULT_TARGET_AARCH64_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\taarch64_tlsdesc.stdout\n-@DEFAULT_TARGET_AARCH64_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@am__append_104 = aarch64_reloc_none \\\n+@DEFAULT_TARGET_AARCH64_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@am__append_105 = aarch64_reloc_none \\\n @DEFAULT_TARGET_AARCH64_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\taarch64_relocs \\\n @DEFAULT_TARGET_AARCH64_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tpr21430 \\\n @DEFAULT_TARGET_AARCH64_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\taarch64_tlsdesc\n-@DEFAULT_TARGET_S390_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@am__append_105 = split_s390.sh\n-@DEFAULT_TARGET_S390_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@am__append_106 = split_s390_z1.stdout split_s390_z2.stdout split_s390_z3.stdout \\\n+@DEFAULT_TARGET_S390_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@am__append_106 = split_s390.sh\n+@DEFAULT_TARGET_S390_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@am__append_107 = split_s390_z1.stdout split_s390_z2.stdout split_s390_z3.stdout \\\n @DEFAULT_TARGET_S390_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tsplit_s390_z4.stdout split_s390_n1.stdout split_s390_n2.stdout \\\n @DEFAULT_TARGET_S390_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tsplit_s390_a1.stdout split_s390_a2.stdout split_s390_z1_ns.stdout \\\n @DEFAULT_TARGET_S390_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tsplit_s390_z2_ns.stdout split_s390_z3_ns.stdout split_s390_z4_ns.stdout \\\n@@ -1106,7 +1107,7 @@ check_PROGRAMS = $(am__EXEEXT_1) $(am__EXEEXT_2) $(am__EXEEXT_3) \\\n @DEFAULT_TARGET_S390_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tsplit_s390x_z4_ns.stdout split_s390x_n1_ns.stdout \\\n @DEFAULT_TARGET_S390_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tsplit_s390x_n2_ns.stdout split_s390x_r.stdout\n \n-@DEFAULT_TARGET_S390_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@am__append_107 = split_s390_z1 split_s390_z2 split_s390_z3 \\\n+@DEFAULT_TARGET_S390_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@am__append_108 = split_s390_z1 split_s390_z2 split_s390_z3 \\\n @DEFAULT_TARGET_S390_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tsplit_s390_z4 split_s390_n1 split_s390_n2 split_s390_a1 \\\n @DEFAULT_TARGET_S390_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tsplit_s390_a2 split_s390_z1_ns split_s390_z2_ns split_s390_z3_ns \\\n @DEFAULT_TARGET_S390_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tsplit_s390_z4_ns split_s390_n1_ns split_s390_n2_ns split_s390_r \\\n@@ -1115,10 +1116,10 @@ check_PROGRAMS = $(am__EXEEXT_1) $(am__EXEEXT_2) $(am__EXEEXT_3) \\\n @DEFAULT_TARGET_S390_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tsplit_s390x_z1_ns split_s390x_z2_ns split_s390x_z3_ns \\\n @DEFAULT_TARGET_S390_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@\tsplit_s390x_z4_ns split_s390x_n1_ns split_s390x_n2_ns split_s390x_r\n \n-@DEFAULT_TARGET_X86_64_TRUE@am__append_108 = *.dwo *.dwp\n-@DEFAULT_TARGET_X86_64_TRUE@am__append_109 = dwp_test_1.sh \\\n+@DEFAULT_TARGET_X86_64_TRUE@am__append_109 = *.dwo *.dwp\n+@DEFAULT_TARGET_X86_64_TRUE@am__append_110 = dwp_test_1.sh \\\n @DEFAULT_TARGET_X86_64_TRUE@\tdwp_test_2.sh\n-@DEFAULT_TARGET_X86_64_TRUE@am__append_110 = dwp_test_1.stdout \\\n+@DEFAULT_TARGET_X86_64_TRUE@am__append_111 = dwp_test_1.stdout \\\n @DEFAULT_TARGET_X86_64_TRUE@\tdwp_test_2.stdout\n subdir = testsuite\n ACLOCAL_M4 = $(top_srcdir)/aclocal.m4\n@@ -1350,6 +1351,11 @@ libgoldtest_a_OBJECTS = $(am_libgoldtest_a_OBJECTS)\n @DEFAULT_TARGET_X86_64_TRUE@@GCC_TRUE@@NATIVE_LINKER_TRUE@\tincremental_comdat_test_1$(EXEEXT) \\\n @DEFAULT_TARGET_X86_64_TRUE@@GCC_TRUE@@NATIVE_LINKER_TRUE@\texception_x86_64_bnd_test$(EXEEXT)\n @GCC_TRUE@@NATIVE_LINKER_TRUE@am__EXEEXT_41 = pr22266$(EXEEXT)\n+@DEFAULT_TARGET_AARCH64_TRUE@@GCC_TRUE@@NATIVE_LINKER_TRUE@am__EXEEXT_42 = aarch64_pr23870$(EXEEXT)\n+@DEFAULT_TARGET_AARCH64_TRUE@@GCC_TRUE@@NATIVE_LINKER_TRUE@am_aarch64_pr23870_OBJECTS = aarch64_pr23870_foo.$(OBJEXT)\n+aarch64_pr23870_OBJECTS = $(am_aarch64_pr23870_OBJECTS)\n+aarch64_pr23870_LINK = $(CCLD) $(AM_CFLAGS) $(CFLAGS) \\\n+\t$(aarch64_pr23870_LDFLAGS) $(LDFLAGS) -o $@\n basic_pic_test_SOURCES = basic_pic_test.c\n basic_pic_test_OBJECTS = basic_pic_test.$(OBJEXT)\n basic_pic_test_LDADD = $(LDADD)\n@@ -2237,16 +2243,16 @@ AM_V_CXXLD = $(am__v_CXXLD_@AM_V@)\n am__v_CXXLD_ = $(am__v_CXXLD_@AM_DEFAULT_V@)\n am__v_CXXLD_0 = @echo \"  CXXLD   \" $@;\n am__v_CXXLD_1 = \n-SOURCES = $(libgoldtest_a_SOURCES) basic_pic_test.c basic_pie_test.c \\\n-\tbasic_static_pic_test.c basic_static_test.c basic_test.c \\\n-\t$(binary_test_SOURCES) $(binary_unittest_SOURCES) \\\n-\t$(common_test_1_SOURCES) $(common_test_2_SOURCES) \\\n-\t$(constructor_static_test_SOURCES) $(constructor_test_SOURCES) \\\n-\t$(copy_test_SOURCES) $(copy_test_relro_SOURCES) \\\n-\t$(discard_locals_test_SOURCES) $(dynamic_list_2_SOURCES) \\\n-\teh_test.c $(ehdr_start_test_1_SOURCES) \\\n-\t$(ehdr_start_test_2_SOURCES) $(ehdr_start_test_3_SOURCES) \\\n-\t$(ehdr_start_test_5_SOURCES) \\\n+SOURCES = $(libgoldtest_a_SOURCES) $(aarch64_pr23870_SOURCES) \\\n+\tbasic_pic_test.c basic_pie_test.c basic_static_pic_test.c \\\n+\tbasic_static_test.c basic_test.c $(binary_test_SOURCES) \\\n+\t$(binary_unittest_SOURCES) $(common_test_1_SOURCES) \\\n+\t$(common_test_2_SOURCES) $(constructor_static_test_SOURCES) \\\n+\t$(constructor_test_SOURCES) $(copy_test_SOURCES) \\\n+\t$(copy_test_relro_SOURCES) $(discard_locals_test_SOURCES) \\\n+\t$(dynamic_list_2_SOURCES) eh_test.c \\\n+\t$(ehdr_start_test_1_SOURCES) $(ehdr_start_test_2_SOURCES) \\\n+\t$(ehdr_start_test_3_SOURCES) $(ehdr_start_test_5_SOURCES) \\\n \t$(exception_same_shared_test_SOURCES) \\\n \t$(exception_separate_shared_12_test_SOURCES) \\\n \t$(exception_separate_shared_21_test_SOURCES) \\\n@@ -2796,9 +2802,9 @@ MOSTLYCLEANFILES = *.so *.syms *.stdout *.stderr $(am__append_4) \\\n \t$(am__append_34) $(am__append_37) $(am__append_41) \\\n \t$(am__append_47) $(am__append_51) $(am__append_52) \\\n \t$(am__append_58) $(am__append_78) $(am__append_81) \\\n-\t$(am__append_83) $(am__append_89) $(am__append_92) \\\n-\t$(am__append_95) $(am__append_98) $(am__append_101) \\\n-\t$(am__append_104) $(am__append_107) $(am__append_108)\n+\t$(am__append_83) $(am__append_90) $(am__append_93) \\\n+\t$(am__append_96) $(am__append_99) $(am__append_102) \\\n+\t$(am__append_105) $(am__append_108) $(am__append_109)\n \n # We will add to these later, for each individual test.  Note\n # that we add each test under check_SCRIPTS or check_PROGRAMS;\n@@ -2808,17 +2814,17 @@ check_SCRIPTS = $(am__append_2) $(am__append_19) $(am__append_23) \\\n \t$(am__append_45) $(am__append_49) $(am__append_53) \\\n \t$(am__append_56) $(am__append_62) $(am__append_73) \\\n \t$(am__append_76) $(am__append_79) $(am__append_84) \\\n-\t$(am__append_87) $(am__append_90) $(am__append_93) \\\n-\t$(am__append_96) $(am__append_99) $(am__append_102) \\\n-\t$(am__append_105) $(am__append_109)\n+\t$(am__append_88) $(am__append_91) $(am__append_94) \\\n+\t$(am__append_97) $(am__append_100) $(am__append_103) \\\n+\t$(am__append_106) $(am__append_110)\n check_DATA = $(am__append_3) $(am__append_20) $(am__append_24) \\\n \t$(am__append_30) $(am__append_36) $(am__append_43) \\\n \t$(am__append_46) $(am__append_50) $(am__append_54) \\\n \t$(am__append_57) $(am__append_63) $(am__append_74) \\\n \t$(am__append_77) $(am__append_80) $(am__append_85) \\\n-\t$(am__append_88) $(am__append_91) $(am__append_94) \\\n-\t$(am__append_97) $(am__append_100) $(am__append_103) \\\n-\t$(am__append_106) $(am__append_110)\n+\t$(am__append_89) $(am__append_92) $(am__append_95) \\\n+\t$(am__append_98) $(am__append_101) $(am__append_104) \\\n+\t$(am__append_107) $(am__append_111)\n BUILT_SOURCES = $(am__append_40)\n TESTS = $(check_SCRIPTS) $(check_PROGRAMS)\n \n@@ -3367,6 +3373,13 @@ DEPENDENCIES = \\\n @DEFAULT_TARGET_X86_64_TRUE@@GCC_TRUE@@NATIVE_LINKER_TRUE@exception_x86_64_bnd_test_DEPENDENCIES = gcctestdir/ld exception_x86_64_bnd_1.o exception_x86_64_bnd_2.o\n @DEFAULT_TARGET_X86_64_TRUE@@GCC_TRUE@@NATIVE_LINKER_TRUE@exception_x86_64_bnd_test_LDFLAGS = $(exception_test_LDFLAGS) -Wl,-z,bndplt\n @DEFAULT_TARGET_X86_64_TRUE@@GCC_TRUE@@NATIVE_LINKER_TRUE@exception_x86_64_bnd_test_LDADD = exception_x86_64_bnd_1.o exception_x86_64_bnd_2.o\n+@DEFAULT_TARGET_AARCH64_TRUE@@GCC_TRUE@@NATIVE_LINKER_TRUE@aarch64_pr23870_SOURCES = aarch64_pr23870_foo.c\n+@DEFAULT_TARGET_AARCH64_TRUE@@GCC_TRUE@@NATIVE_LINKER_TRUE@aarch64_pr23870_DEPENDENCIES = \\\n+@DEFAULT_TARGET_AARCH64_TRUE@@GCC_TRUE@@NATIVE_LINKER_TRUE@\tgcctestdir/ld gcctestdir/as aarch64_pr23870_main.o \\\n+@DEFAULT_TARGET_AARCH64_TRUE@@GCC_TRUE@@NATIVE_LINKER_TRUE@\taarch64_pr23870_foo.o aarch64_pr23870_bar.so\n+\n+@DEFAULT_TARGET_AARCH64_TRUE@@GCC_TRUE@@NATIVE_LINKER_TRUE@aarch64_pr23870_LDFLAGS = -Wl,-R,. -L. -Wl,-l:aarch64_pr23870_bar.so\n+@DEFAULT_TARGET_AARCH64_TRUE@@GCC_TRUE@@NATIVE_LINKER_TRUE@aarch64_pr23870_LDADD = aarch64_pr23870_main.o\n @DEFAULT_TARGET_I386_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@SPLIT_DEFSYMS = --defsym __morestack=0x100 --defsym __morestack_non_split=0x200\n @DEFAULT_TARGET_S390_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@SPLIT_DEFSYMS = --defsym __morestack=0x100 --defsym __morestack_non_split=0x200\n @DEFAULT_TARGET_X32_TRUE@@NATIVE_OR_CROSS_LINKER_TRUE@SPLIT_DEFSYMS = --defsym __morestack=0x100 --defsym __morestack_non_split=0x200\n@@ -3417,6 +3430,10 @@ libgoldtest.a: $(libgoldtest_a_OBJECTS) $(libgoldtest_a_DEPENDENCIES) $(EXTRA_li\n clean-checkPROGRAMS:\n \t-test -z \"$(check_PROGRAMS)\" || rm -f $(check_PROGRAMS)\n \n+aarch64_pr23870$(EXEEXT): $(aarch64_pr23870_OBJECTS) $(aarch64_pr23870_DEPENDENCIES) $(EXTRA_aarch64_pr23870_DEPENDENCIES) \n+\t@rm -f aarch64_pr23870$(EXEEXT)\n+\t$(AM_V_CCLD)$(aarch64_pr23870_LINK) $(aarch64_pr23870_OBJECTS) $(aarch64_pr23870_LDADD) $(LIBS)\n+\n @GCC_FALSE@basic_pic_test$(EXEEXT): $(basic_pic_test_OBJECTS) $(basic_pic_test_DEPENDENCIES) $(EXTRA_basic_pic_test_DEPENDENCIES) \n @GCC_FALSE@\t@rm -f basic_pic_test$(EXEEXT)\n @GCC_FALSE@\t$(AM_V_CCLD)$(LINK) $(basic_pic_test_OBJECTS) $(basic_pic_test_LDADD) $(LIBS)\n@@ -4691,6 +4708,7 @@ mostlyclean-compile:\n distclean-compile:\n \t-rm -f *.tab.c\n \n+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/aarch64_pr23870_foo.Po@am__quote@\n @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/basic_pic_test.Po@am__quote@\n @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/basic_pie_test.Po@am__quote@\n @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/basic_static_pic_test.Po@am__quote@\n@@ -7676,6 +7694,13 @@ pr22266.log: pr22266$(EXEEXT)\n \t--log-file $$b.log --trs-file $$b.trs \\\n \t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n \t\"$$tst\" $(AM_TESTS_FD_REDIRECT)\n+aarch64_pr23870.log: aarch64_pr23870$(EXEEXT)\n+\t@p='aarch64_pr23870$(EXEEXT)'; \\\n+\tb='aarch64_pr23870'; \\\n+\t$(am__check_pre) $(LOG_DRIVER) --test-name \"$$f\" \\\n+\t--log-file $$b.log --trs-file $$b.trs \\\n+\t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n+\t\"$$tst\" $(AM_TESTS_FD_REDIRECT)\n .test.log:\n \t@p='$<'; \\\n \t$(am__set_b); \\\n@@ -9463,6 +9488,14 @@ uninstall-am:\n @GCC_TRUE@@NATIVE_LINKER_TRUE@\t$(LINK) pr22266_main.o pr22266_ar.o\n @GCC_TRUE@@NATIVE_LINKER_TRUE@pr22266_ar.o: pr22266_a.o gcctestdir/ld\n @GCC_TRUE@@NATIVE_LINKER_TRUE@\tgcctestdir/ld -r -T $(srcdir)/pr22266_script.t -o $@ pr22266_a.o\n+@DEFAULT_TARGET_AARCH64_TRUE@@GCC_TRUE@@NATIVE_LINKER_TRUE@aarch64_pr23870_main.o: aarch64_pr23870_main.S\n+@DEFAULT_TARGET_AARCH64_TRUE@@GCC_TRUE@@NATIVE_LINKER_TRUE@\t$(COMPILE) -c -o $@ $<\n+@DEFAULT_TARGET_AARCH64_TRUE@@GCC_TRUE@@NATIVE_LINKER_TRUE@aarch64_pr23870_foo.o: aarch64_pr23870_foo.c\n+@DEFAULT_TARGET_AARCH64_TRUE@@GCC_TRUE@@NATIVE_LINKER_TRUE@\t$(COMPILE) -c -o $@ $<\n+@DEFAULT_TARGET_AARCH64_TRUE@@GCC_TRUE@@NATIVE_LINKER_TRUE@aarch64_pr23870_bar.o: aarch64_pr23870_bar.c\n+@DEFAULT_TARGET_AARCH64_TRUE@@GCC_TRUE@@NATIVE_LINKER_TRUE@\t$(COMPILE) -c -fPIC -o $@ $<\n+@DEFAULT_TARGET_AARCH64_TRUE@@GCC_TRUE@@NATIVE_LINKER_TRUE@aarch64_pr23870_bar.so: aarch64_pr23870_bar.o\n+@DEFAULT_TARGET_AARCH64_TRUE@@GCC_TRUE@@NATIVE_LINKER_TRUE@\t$(COMPILE) -shared -o $@ $<\n @NATIVE_OR_CROSS_LINKER_TRUE@script_test_10.o: script_test_10.s\n @NATIVE_OR_CROSS_LINKER_TRUE@\t$(TEST_AS) -o $@ $<\n @NATIVE_OR_CROSS_LINKER_TRUE@script_test_10: $(srcdir)/script_test_10.t script_test_10.o gcctestdir/ld"
    },
    {
      "sha": "9e19767f33b8ba86330562f673c6472bf848d211",
      "filename": "gold/testsuite/aarch64_pr23870_bar.c",
      "status": "added",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7ae39e2d406dbec568c5ffd462119037b994fdf9/gold/testsuite/aarch64_pr23870_bar.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7ae39e2d406dbec568c5ffd462119037b994fdf9/gold/testsuite/aarch64_pr23870_bar.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gold/testsuite/aarch64_pr23870_bar.c?ref=7ae39e2d406dbec568c5ffd462119037b994fdf9",
      "patch": "@@ -0,0 +1,6 @@\n+void bar (void);\n+\n+void bar ()\n+{\n+  return;\n+}"
    },
    {
      "sha": "ade3ee6329d7154065c42f3f8f1185126db338ad",
      "filename": "gold/testsuite/aarch64_pr23870_foo.c",
      "status": "added",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7ae39e2d406dbec568c5ffd462119037b994fdf9/gold/testsuite/aarch64_pr23870_foo.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7ae39e2d406dbec568c5ffd462119037b994fdf9/gold/testsuite/aarch64_pr23870_foo.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gold/testsuite/aarch64_pr23870_foo.c?ref=7ae39e2d406dbec568c5ffd462119037b994fdf9",
      "patch": "@@ -0,0 +1,6 @@\n+void foo (void (*bar)(void));\n+\n+void foo (void (*bar)(void))\n+{\n+  bar();\n+}"
    },
    {
      "sha": "c28d2af04da67ff476f85d03c131b8e44defaa0f",
      "filename": "gold/testsuite/aarch64_pr23870_main.S",
      "status": "added",
      "additions": 15,
      "deletions": 0,
      "changes": 15,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7ae39e2d406dbec568c5ffd462119037b994fdf9/gold/testsuite/aarch64_pr23870_main.S",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7ae39e2d406dbec568c5ffd462119037b994fdf9/gold/testsuite/aarch64_pr23870_main.S",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gold/testsuite/aarch64_pr23870_main.S?ref=7ae39e2d406dbec568c5ffd462119037b994fdf9",
      "patch": "@@ -0,0 +1,15 @@\n+\n+\t.text\n+\t.globl main\n+\t.type main,#function\n+main:\n+\tstp\tx29, x30, [sp,#-16]!\n+\tmov\tx29, sp\n+\tmovz\tx0, #:abs_g3:bar\n+\tmovk\tx0, #:abs_g2_nc:bar\n+\tmovk\tx0, #:abs_g1_nc:bar\n+\tmovk\tx0, #:abs_g0_nc:bar\n+\tadd     x0, x0, #0x0\n+\tbl      foo\n+\tldp     x29, x30, [sp],#16\n+\tret"
    }
  ]
}