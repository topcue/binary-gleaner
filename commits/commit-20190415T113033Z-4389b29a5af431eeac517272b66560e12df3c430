{
  "sha": "4389b29a5af431eeac517272b66560e12df3c430",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NDM4OWIyOWE1YWY0MzFlZWFjNTE3MjcyYjY2NTYwZTEyZGYzYzQzMA==",
  "commit": {
    "author": {
      "name": "Andre Vieira",
      "email": "andre.simoesdiasvieira@arm.com",
      "date": "2019-04-15T10:25:12Z"
    },
    "committer": {
      "name": "Andre Vieira",
      "email": "andre.simoesdiasvieira@arm.com",
      "date": "2019-04-15T11:30:33Z"
    },
    "message": "[binutils, ARM, 6/16] New BF instruction for Armv8.1-M Mainline\n\nThis patch is part of a series of patches to add support for Armv8.1-M Mainline\ninstructions to binutils.\n\nThis patch adds the BF instruction.\n\nChangeLog entries are as follows:\n*** gas/ChangeLog ***\n\n2019-04-15  Sudakshina Das  <sudi.das@arm.com>\n             Andre Vieira  <andre.simoesdiasvieira@arm.com>\n\n\t* config/tc-arm.c (T16_32_TAB): New entries for bf.\n\t(do_t_branch_future): New.\n\t(insns): New instruction for bf.\n\t* testsuite/gas/arm/armv8_1-m-bf.d: New.\n\t* testsuite/gas/arm/armv8_1-m-bf.s: New.\n\t* testsuite/gas/arm/armv8_1-m-bf-bad.s: New.\n\t* testsuite/gas/arm/armv8_1-m-bf-bad.l: New.\n\t* testsuite/gas/arm/armv8_1-m-bf-bad.d: New.\n\t* testsuite/gas/arm/armv8_1-m-bf-rel.d: New.\n\t* testsuite/gas/arm/armv8_1-m-bf-rel.s: New.\n\n*** ld/ChangeLog ***\n\n2019-04-15  Sudakshina Das  <sudi.das@arm.com>\n\n\t* testsuite/ld-arm/bf.s: New.\n\t* testsuite/ld-arm/bf.d: New.\n\t* testsuite/ld-arm/arm-elf.exp: Add above test.\n\n*** opcodes/ChangeLog ***\n\n2019-04-15  Sudakshina Das  <sudi.das@arm.com>\n\n\t* arm-dis.c (thumb32_opcodes): New instructions for bf.",
    "tree": {
      "sha": "b7af946fea6ad50897d403b12762dfdaa9859dc3",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/b7af946fea6ad50897d403b12762dfdaa9859dc3"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/4389b29a5af431eeac517272b66560e12df3c430",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/4389b29a5af431eeac517272b66560e12df3c430",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/4389b29a5af431eeac517272b66560e12df3c430",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/4389b29a5af431eeac517272b66560e12df3c430/comments",
  "author": {
    "login": "avieira-arm",
    "id": 68072104,
    "node_id": "MDQ6VXNlcjY4MDcyMTA0",
    "avatar_url": "https://avatars.githubusercontent.com/u/68072104?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/avieira-arm",
    "html_url": "https://github.com/avieira-arm",
    "followers_url": "https://api.github.com/users/avieira-arm/followers",
    "following_url": "https://api.github.com/users/avieira-arm/following{/other_user}",
    "gists_url": "https://api.github.com/users/avieira-arm/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/avieira-arm/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/avieira-arm/subscriptions",
    "organizations_url": "https://api.github.com/users/avieira-arm/orgs",
    "repos_url": "https://api.github.com/users/avieira-arm/repos",
    "events_url": "https://api.github.com/users/avieira-arm/events{/privacy}",
    "received_events_url": "https://api.github.com/users/avieira-arm/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "avieira-arm",
    "id": 68072104,
    "node_id": "MDQ6VXNlcjY4MDcyMTA0",
    "avatar_url": "https://avatars.githubusercontent.com/u/68072104?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/avieira-arm",
    "html_url": "https://github.com/avieira-arm",
    "followers_url": "https://api.github.com/users/avieira-arm/followers",
    "following_url": "https://api.github.com/users/avieira-arm/following{/other_user}",
    "gists_url": "https://api.github.com/users/avieira-arm/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/avieira-arm/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/avieira-arm/subscriptions",
    "organizations_url": "https://api.github.com/users/avieira-arm/orgs",
    "repos_url": "https://api.github.com/users/avieira-arm/repos",
    "events_url": "https://api.github.com/users/avieira-arm/events{/privacy}",
    "received_events_url": "https://api.github.com/users/avieira-arm/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "e5d6e09ee6cea13942a8042945e784f483a6f3af",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/e5d6e09ee6cea13942a8042945e784f483a6f3af",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/e5d6e09ee6cea13942a8042945e784f483a6f3af"
    }
  ],
  "stats": {
    "total": 194,
    "additions": 194,
    "deletions": 0
  },
  "files": [
    {
      "sha": "493a59feb9566f2c734ebb0b6b32fcafe14d7c56",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 14,
      "deletions": 0,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4389b29a5af431eeac517272b66560e12df3c430/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4389b29a5af431eeac517272b66560e12df3c430/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=4389b29a5af431eeac517272b66560e12df3c430",
      "patch": "@@ -1,3 +1,17 @@\n+2019-04-15  Sudakshina Das  <sudi.das@arm.com>\n+            Andre Vieira  <andre.simoesdiasvieira@arm.com>\n+\n+\t* config/tc-arm.c (T16_32_TAB): New entries for bf.\n+\t(do_t_branch_future): New.\n+\t(insns): New instruction for bf.\n+\t* testsuite/gas/arm/armv8_1-m-bf.d: New.\n+\t* testsuite/gas/arm/armv8_1-m-bf.s: New.\n+\t* testsuite/gas/arm/armv8_1-m-bf-bad.s: New.\n+\t* testsuite/gas/arm/armv8_1-m-bf-bad.l: New.\n+\t* testsuite/gas/arm/armv8_1-m-bf-bad.d: New.\n+\t* testsuite/gas/arm/armv8_1-m-bf-rel.d: New.\n+\t* testsuite/gas/arm/armv8_1-m-bf-rel.s: New.\n+\n 2019-04-15  Sudakshina Das  <sudi.das@arm.com>\n \n \t* config/tc-arm.c (md_pcrel_from_section): New switch case for"
    },
    {
      "sha": "caba2736c16c9dbd61ca1a7637cc171682058d13",
      "filename": "gas/config/tc-arm.c",
      "status": "modified",
      "additions": 61,
      "deletions": 0,
      "changes": 61,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4389b29a5af431eeac517272b66560e12df3c430/gas/config/tc-arm.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4389b29a5af431eeac517272b66560e12df3c430/gas/config/tc-arm.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/config/tc-arm.c?ref=4389b29a5af431eeac517272b66560e12df3c430",
      "patch": "@@ -10505,6 +10505,7 @@ encode_thumb32_addr_mode (int i, bfd_boolean is_t, bfd_boolean is_d)\n   X(_asrs,  1000, fa50f000),\t\t\t\\\n   X(_b,     e000, f000b000),\t\t\t\\\n   X(_bcond, d000, f0008000),\t\t\t\\\n+  X(_bf,    0000, f040e001),\t\t\t\\\n   X(_bic,   4380, ea200000),\t\t\t\\\n   X(_bics,  4380, ea300000),\t\t\t\\\n   X(_cmn,   42c0, eb100f00),\t\t\t\\\n@@ -13320,6 +13321,51 @@ v8_1_branch_value_check (int val, int nbits, int is_signed)\n     return SUCCESS;\n }\n \n+/* For branches in Armv8.1-M Mainline.  */\n+static void\n+do_t_branch_future (void)\n+{\n+  unsigned long insn = inst.instruction;\n+\n+  inst.instruction = THUMB_OP32 (inst.instruction);\n+  if (inst.operands[0].hasreloc == 0)\n+    {\n+      if (v8_1_branch_value_check (inst.operands[0].imm, 5, FALSE) == FAIL)\n+\tas_bad (BAD_BRANCH_OFF);\n+\n+      inst.instruction |= ((inst.operands[0].imm & 0x1f) >> 1) << 23;\n+    }\n+  else\n+    {\n+      inst.relocs[0].type = BFD_RELOC_THUMB_PCREL_BRANCH5;\n+      inst.relocs[0].pc_rel = 1;\n+    }\n+\n+  switch (insn)\n+    {\n+      case T_MNEM_bf:\n+\tif (inst.operands[1].hasreloc == 0)\n+\t  {\n+\t    int val = inst.operands[1].imm;\n+\t    if (v8_1_branch_value_check (inst.operands[1].imm, 17, TRUE) == FAIL)\n+\t      as_bad (BAD_BRANCH_OFF);\n+\n+\t    int immA = (val & 0x0001f000) >> 12;\n+\t    int immB = (val & 0x00000ffc) >> 2;\n+\t    int immC = (val & 0x00000002) >> 1;\n+\t    inst.instruction |= (immA << 16) | (immB << 1) | (immC << 11);\n+\t  }\n+\telse\n+\t  {\n+\t    inst.relocs[1].type = BFD_RELOC_ARM_THUMB_BF17;\n+\t    inst.relocs[1].pc_rel = 1;\n+\t  }\n+\tbreak;\n+\n+      default: abort ();\n+    }\n+}\n+\n /* Neon instruction encoder helpers.  */\n \n /* Encodings for the different types for various Neon opcodes.  */\n@@ -19538,6 +19584,11 @@ static struct asm_barrier_opt barrier_opt_names[] =\n   { mnem, OPS##nops ops, OT_unconditional, 0x0, 0x##top, 0, THUMB_VARIANT, \\\n     NULL, do_##te }\n \n+/* T_MNEM_xyz enumerator variants of ToC.  */\n+#define toC(mnem, top, nops, ops, te) \\\n+  { mnem, OPS##nops ops, OT_csuffix, 0x0, T_MNEM##top, 0, THUMB_VARIANT, NULL, \\\n+    do_##te }\n+\n /* Legacy mnemonics that always have conditional infix after the third\n    character.  */\n #define CL(mnem, op, nops, ops, ae)\t\\\n@@ -21623,6 +21674,11 @@ static const struct asm_opcode insns[] =\n #define THUMB_VARIANT & arm_ext_v8m_main\n  ToC(\"vlldm\", ec300a00, 1, (RRnpc), rn),\n  ToC(\"vlstm\", ec200a00, 1, (RRnpc), rn),\n+\n+ /* Armv8.1-M Mainline instructions.  */\n+#undef  THUMB_VARIANT\n+#define THUMB_VARIANT & arm_ext_v8_1m_main\n+ toC(\"bf\",     _bf,\t2, (EXPs, EXPs),\t     t_branch_future),\n };\n #undef ARM_VARIANT\n #undef THUMB_VARIANT\n@@ -21633,8 +21689,10 @@ static const struct asm_opcode insns[] =\n #undef cCE\n #undef cCL\n #undef C3E\n+#undef C3\n #undef CE\n #undef CM\n+#undef CL\n #undef UE\n #undef UF\n #undef UT\n@@ -21650,6 +21708,9 @@ static const struct asm_opcode insns[] =\n #undef OPS5\n #undef OPS6\n #undef do_0\n+#undef ToC\n+#undef toC\n+#undef ToU\n \f\n /* MD interface: bits in the object file.  */\n "
    },
    {
      "sha": "d61aad79e9a6faa26a733245b3769b867f5e126d",
      "filename": "gas/testsuite/gas/arm/armv8_1-m-bf-bad.d",
      "status": "added",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4389b29a5af431eeac517272b66560e12df3c430/gas/testsuite/gas/arm/armv8_1-m-bf-bad.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4389b29a5af431eeac517272b66560e12df3c430/gas/testsuite/gas/arm/armv8_1-m-bf-bad.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/arm/armv8_1-m-bf-bad.d?ref=4389b29a5af431eeac517272b66560e12df3c430",
      "patch": "@@ -0,0 +1,4 @@\n+#name: Invalid Armv8.1-M Mainline BF instructions\n+#source: armv8_1-m-bf-bad.s\n+#as: -march=armv8.1-m.main\n+#error_output: armv8_1-m-bf-bad.l"
    },
    {
      "sha": "3f7ed80a6d07a4a2c05e8968e95c26d66eae2fab",
      "filename": "gas/testsuite/gas/arm/armv8_1-m-bf-bad.l",
      "status": "added",
      "additions": 9,
      "deletions": 0,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4389b29a5af431eeac517272b66560e12df3c430/gas/testsuite/gas/arm/armv8_1-m-bf-bad.l",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4389b29a5af431eeac517272b66560e12df3c430/gas/testsuite/gas/arm/armv8_1-m-bf-bad.l",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/arm/armv8_1-m-bf-bad.l?ref=4389b29a5af431eeac517272b66560e12df3c430",
      "patch": "@@ -0,0 +1,9 @@\n+.*: Assembler messages:\n+.*:6: Error: branch out of range or not a multiple of 2\n+.*:7: Error: branch out of range or not a multiple of 2\n+.*:8: Error: branch out of range or not a multiple of 2\n+.*:9: Error: branch out of range or not a multiple of 2\n+.*:11: Error: branch out of range or not a multiple of 2\n+.*:12: Error: branch out of range or not a multiple of 2\n+.*:13: Error: branch out of range or not a multiple of 2\n+.*:14: Error: branch out of range or not a multiple of 2"
    },
    {
      "sha": "43ef4b1bf92fa42956f2fdabd29eeec7bcf168fb",
      "filename": "gas/testsuite/gas/arm/armv8_1-m-bf-bad.s",
      "status": "added",
      "additions": 14,
      "deletions": 0,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4389b29a5af431eeac517272b66560e12df3c430/gas/testsuite/gas/arm/armv8_1-m-bf-bad.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4389b29a5af431eeac517272b66560e12df3c430/gas/testsuite/gas/arm/armv8_1-m-bf-bad.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/arm/armv8_1-m-bf-bad.s?ref=4389b29a5af431eeac517272b66560e12df3c430",
      "patch": "@@ -0,0 +1,14 @@\n+\t.syntax unified\n+\t.text\n+\t.thumb\n+foo:\n+\t# OP0 : Unsigned, 5-bit, even\n+\tbf  0, 36\n+\tbf -2, 36\n+\tbf  3, 36\n+\tbf 32, 36\n+\t# OP1 : signed, 17-bit, even\n+\tbf  2, -5\n+\tbf  2,  5\n+\tbf  2,  65536\n+\tbf  2, -65538"
    },
    {
      "sha": "e429c136f2ea7818de2a7479a21f0cc6bc0702e1",
      "filename": "gas/testsuite/gas/arm/armv8_1-m-bf-rel.d",
      "status": "added",
      "additions": 10,
      "deletions": 0,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4389b29a5af431eeac517272b66560e12df3c430/gas/testsuite/gas/arm/armv8_1-m-bf-rel.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4389b29a5af431eeac517272b66560e12df3c430/gas/testsuite/gas/arm/armv8_1-m-bf-rel.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/arm/armv8_1-m-bf-rel.d?ref=4389b29a5af431eeac517272b66560e12df3c430",
      "patch": "@@ -0,0 +1,10 @@\n+#name: Valid Armv8.1-M Mainline BF instruction with relocation\n+#as: -march=armv8.1-m.main\n+#objdump: -dr --prefix-addresses --show-raw-insn\n+#skip: *-*-pe *-wince-* \n+\n+.*: +file format .*arm.*\n+\n+Disassembly of section .text:\n+0[0-9a-f]+ <[^>]+> f0df e7ff \tbf\t2, 00000000 <.target>\n+\t\t\t0: R_ARM_THM_BF16\t.target"
    },
    {
      "sha": "c11c9c177a4483589e4477f2e151ae8b742b019a",
      "filename": "gas/testsuite/gas/arm/armv8_1-m-bf-rel.s",
      "status": "added",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4389b29a5af431eeac517272b66560e12df3c430/gas/testsuite/gas/arm/armv8_1-m-bf-rel.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4389b29a5af431eeac517272b66560e12df3c430/gas/testsuite/gas/arm/armv8_1-m-bf-rel.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/arm/armv8_1-m-bf-rel.s?ref=4389b29a5af431eeac517272b66560e12df3c430",
      "patch": "@@ -0,0 +1,5 @@\n+\t.syntax unified\n+\t.text\n+\t.thumb\n+foo:\n+\tbf 2, .target"
    },
    {
      "sha": "dd30b2a2ff1d35cd58299813614ec5a79cbcdadf",
      "filename": "gas/testsuite/gas/arm/armv8_1-m-bf.d",
      "status": "added",
      "additions": 13,
      "deletions": 0,
      "changes": 13,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4389b29a5af431eeac517272b66560e12df3c430/gas/testsuite/gas/arm/armv8_1-m-bf.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4389b29a5af431eeac517272b66560e12df3c430/gas/testsuite/gas/arm/armv8_1-m-bf.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/arm/armv8_1-m-bf.d?ref=4389b29a5af431eeac517272b66560e12df3c430",
      "patch": "@@ -0,0 +1,13 @@\n+#name: Valid Armv8.1-M Mainline BF instruction\n+#as: -march=armv8.1-m.main\n+#objdump: -dr --prefix-addresses --show-raw-insn\n+\n+.*: +file format .*arm.*\n+\n+Disassembly of section .text:\n+0[0-9a-f]+ <[^>]+> f0c0 e803 \tbf\t2, 0000000a <foo\\+0xa>\n+0[0-9a-f]+ <[^>]+> 4609      \tmov\tr1, r1\n+0[0-9a-f]+ <[^>]+> f140 e801 \tbf\t4, 0000000c <foo\\+0xc>\n+0[0-9a-f]+ <[^>]+> 460a      \tmov\tr2, r1\n+0[0-9a-f]+ <[^>]+> 4613      \tmov\tr3, r2\n+0[0-9a-f]+ <[^>]+> 4614      \tmov\tr4, r2"
    },
    {
      "sha": "8c6dac748dc1fef96e54bc38c9abe4e13b7ef2ab",
      "filename": "gas/testsuite/gas/arm/armv8_1-m-bf.s",
      "status": "added",
      "additions": 12,
      "deletions": 0,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4389b29a5af431eeac517272b66560e12df3c430/gas/testsuite/gas/arm/armv8_1-m-bf.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4389b29a5af431eeac517272b66560e12df3c430/gas/testsuite/gas/arm/armv8_1-m-bf.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/arm/armv8_1-m-bf.s?ref=4389b29a5af431eeac517272b66560e12df3c430",
      "patch": "@@ -0,0 +1,12 @@\n+\t.syntax unified\n+\t.text\n+\t.thumb\n+foo:\n+\tbf 2, 6\n+\tmov r1, r1\n+\tbf .LBranch, .LB2\n+\tmov r2, r1\n+.LB2:\n+\tmov r3, r2\n+.LBranch:\n+\tmov r4, r2"
    },
    {
      "sha": "bc8c2195d93d3af957b4d3e390b77a39aab79db6",
      "filename": "ld/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4389b29a5af431eeac517272b66560e12df3c430/ld/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4389b29a5af431eeac517272b66560e12df3c430/ld/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/ChangeLog?ref=4389b29a5af431eeac517272b66560e12df3c430",
      "patch": "@@ -1,3 +1,9 @@\n+2019-04-15  Sudakshina Das  <sudi.das@arm.com>\n+\n+\t* testsuite/ld-arm/bf.s: New.\n+\t* testsuite/ld-arm/bf.d: New.\n+\t* testsuite/ld-arm/arm-elf.exp: Add above test.\n+\n 2019-04-15  Thomas Preud'homme  <thomas.preudhomme@arm.com>\n \n \t* testsuite/ld-arm/attr-merge-13.attr: New test."
    },
    {
      "sha": "ef3a49c23742f4c43c78e73aa692928ba3d56123",
      "filename": "ld/testsuite/ld-arm/arm-elf.exp",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4389b29a5af431eeac517272b66560e12df3c430/ld/testsuite/ld-arm/arm-elf.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4389b29a5af431eeac517272b66560e12df3c430/ld/testsuite/ld-arm/arm-elf.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-arm/arm-elf.exp?ref=4389b29a5af431eeac517272b66560e12df3c430",
      "patch": "@@ -667,6 +667,10 @@ set armeabitests_nonacl {\n      {{objdump -d armv4-bx.d}}\n      \"armv4-bx\"}\n \n+     {\"Armv8.1-M Mainline BF\" \"-r -Ttext 0x1000 --section-start .foo=0x1001000\" \"\" \"-march=armv8.1-m.main\" {bf.s}\n+      {{objdump -dr bf.d}}\n+     \"bf\"}\n+\n     {\"R_ARM_THM_JUMP24 Relocation veneers: Short 1\"\n      \"--no-fix-arm1176 --section-start destsect=0x00009000 --section-start .text=0x8000\" \"\"\n      \"-march=armv7-a -mthumb\""
    },
    {
      "sha": "658120abb693ba7b86c669a5b8a6fb3e3e335e37",
      "filename": "ld/testsuite/ld-arm/bf.d",
      "status": "added",
      "additions": 14,
      "deletions": 0,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4389b29a5af431eeac517272b66560e12df3c430/ld/testsuite/ld-arm/bf.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4389b29a5af431eeac517272b66560e12df3c430/ld/testsuite/ld-arm/bf.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-arm/bf.d?ref=4389b29a5af431eeac517272b66560e12df3c430",
      "patch": "@@ -0,0 +1,14 @@\n+\n+.*:     file format elf32-.*arm\n+\n+\n+Disassembly of section .text:\n+\n+00001000 <_start>:\n+    1000:\tf0df e7ff \tbf\t2, 1001000 <bar>\n+\t\t\t1000: R_ARM_THM_BF16\tbar\n+\n+Disassembly of section .foo:\n+\n+01001000 <bar>:\n+ 1001000:\t4770      \tbx\tlr"
    },
    {
      "sha": "164a90d04b4e995add2c54beee31e63fbdc5c12d",
      "filename": "ld/testsuite/ld-arm/bf.s",
      "status": "added",
      "additions": 19,
      "deletions": 0,
      "changes": 19,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4389b29a5af431eeac517272b66560e12df3c430/ld/testsuite/ld-arm/bf.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4389b29a5af431eeac517272b66560e12df3c430/ld/testsuite/ld-arm/bf.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-arm/bf.s?ref=4389b29a5af431eeac517272b66560e12df3c430",
      "patch": "@@ -0,0 +1,19 @@\n+\t.global _start\n+\t.syntax unified\n+\n+@ We will place the section .text at 0x1000.\n+\n+\t.text\n+\t.thumb_func\n+\n+_start:\n+\tbf 2, bar\n+\n+@ We will place the section .foo at 0x1001000.\n+\n+\t.section .foo, \"xa\"\n+\t.thumb_func\n+\n+bar:\n+\tbx lr\n+"
    },
    {
      "sha": "3c782d11e87ccf91fffe22cb5099a7ba9a14e7f6",
      "filename": "opcodes/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4389b29a5af431eeac517272b66560e12df3c430/opcodes/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4389b29a5af431eeac517272b66560e12df3c430/opcodes/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/ChangeLog?ref=4389b29a5af431eeac517272b66560e12df3c430",
      "patch": "@@ -1,3 +1,7 @@\n+2019-04-15  Sudakshina Das  <sudi.das@arm.com>\n+\n+\t* arm-dis.c (thumb32_opcodes): New instructions for bf.\n+\n 2019-04-15  Sudakshina Das  <sudi.das@arm.com>\n \n \t* arm-dis.c (print_insn_thumb32): Updated to accept new %W pattern."
    },
    {
      "sha": "d4a9375a8831a970b0ed4afb88296804553cefa5",
      "filename": "opcodes/arm-dis.c",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4389b29a5af431eeac517272b66560e12df3c430/opcodes/arm-dis.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4389b29a5af431eeac517272b66560e12df3c430/opcodes/arm-dis.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/arm-dis.c?ref=4389b29a5af431eeac517272b66560e12df3c430",
      "patch": "@@ -2746,6 +2746,11 @@ static const struct opcode16 thumb_opcodes[] =\n    makes heavy use of special-case bit patterns.  */\n static const struct opcode32 thumb32_opcodes[] =\n {\n+  /* Armv8.1-M Mainline instructions.  */\n+  {ARM_FEATURE_CORE_HIGH (ARM_EXT2_V8_1M_MAIN),\n+    0xf040e001, 0xf860f001, \"bf%c\\t%G, %W\"},\n+\n+\n   /* ARMv8-M and ARMv8-M Security Extensions instructions.  */\n   {ARM_FEATURE_CORE_HIGH (ARM_EXT2_V8M), 0xe97fe97f, 0xffffffff, \"sg\"},\n   {ARM_FEATURE_CORE_HIGH (ARM_EXT2_V8M),"
    }
  ]
}