{
  "sha": "3e2cf42fe5c305ebb5a4a69427a37e950385ea60",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6M2UyY2Y0MmZlNWMzMDVlYmI1YTRhNjk0MjdhMzdlOTUwMzg1ZWE2MA==",
  "commit": {
    "author": {
      "name": "John Darrington",
      "email": "john@darrington.wattle.id.au",
      "date": "2019-05-18T06:25:18Z"
    },
    "committer": {
      "name": "John Darrington",
      "email": "john@darrington.wattle.id.au",
      "date": "2019-05-18T06:35:18Z"
    },
    "message": "S12Z (doc): Minor improvements to text and formatting.\n\ngas/\n\t* doc/c-s12z.texi: Miscellaneous adjustments.",
    "tree": {
      "sha": "8dac110f55e10927780c51c1858bfb3a1f3bfd51",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/8dac110f55e10927780c51c1858bfb3a1f3bfd51"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/3e2cf42fe5c305ebb5a4a69427a37e950385ea60",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/3e2cf42fe5c305ebb5a4a69427a37e950385ea60",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/3e2cf42fe5c305ebb5a4a69427a37e950385ea60",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/3e2cf42fe5c305ebb5a4a69427a37e950385ea60/comments",
  "author": null,
  "committer": null,
  "parents": [
    {
      "sha": "1c8ce0ebbe603b7016fff924eb7636d8406f44ba",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/1c8ce0ebbe603b7016fff924eb7636d8406f44ba",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/1c8ce0ebbe603b7016fff924eb7636d8406f44ba"
    }
  ],
  "stats": {
    "total": 100,
    "additions": 47,
    "deletions": 53
  },
  "files": [
    {
      "sha": "b90874754c9d3e6e4c48fb1575353bcad54287eb",
      "filename": "gas/doc/c-s12z.texi",
      "status": "modified",
      "additions": 47,
      "deletions": 53,
      "changes": 100,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3e2cf42fe5c305ebb5a4a69427a37e950385ea60/gas/doc/c-s12z.texi",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3e2cf42fe5c305ebb5a4a69427a37e950385ea60/gas/doc/c-s12z.texi",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/doc/c-s12z.texi?ref=3e2cf42fe5c305ebb5a4a69427a37e950385ea60",
      "patch": "@@ -16,55 +16,63 @@ dependent features.\n \n @cindex S12Z support\n @menu\n-* S12Z-Opts::                   S12Z Options\n-* S12Z-Syntax::                 Syntax\n-* S12Z-Directives::             Assembler Directives\n-* S12Z-Opcodes::                Opcodes\n+* S12Z Options::                S12Z Options\n+* S12Z Syntax::                 Syntax\n @end menu\n \n-@node S12Z-Opts\n+@node S12Z Options\n @section S12Z Options\n \n @cindex options, S12Z\n @cindex S12Z options\n \n-The S12Z version of @code{@value{AS}} has the following options:\n+The S12Z version of @code{@value{AS}} recognizes the following options:\n \n+@table @samp\n+\n+@item -mreg-prefix=@var{prefix}\n @cindex @samp{-mreg-prefix=@var{prefix}} option, reg-prefix\n You can use the @samp{-mreg-prefix=@var{pfx}} option to indicate\n-that the assembler expects each register name to be prefixed with the\n+that the assembler should expect all register names to be prefixed with the\n string @var{pfx}.\n \n For an explanation of what this means and why it might be needed,\n-see @ref{Register Notation}.\n+see @ref{S12Z Register Notation}.\n+@end table\n \n-@node S12Z-Syntax\n+@node S12Z Syntax\n @section Syntax\n \n \n @menu\n-* Register Notation::                How to refer to registers\n+* S12Z Syntax Overview::                  General description\n+* S12Z Addressing Modes::                 Operands and their semantics\n+* S12Z Register Notation::                How to refer to registers\n @end menu\n \n \n @cindex S12Z syntax\n @cindex syntax, S12Z\n \n+@node S12Z Syntax Overview\n+@subsection Overview\n+\n In the S12Z syntax, the instruction name comes first and it may\n-be followed by one or by several operands.\n+be followed by one, or by several operands.\n In most cases the maximum number of operands is three.\n+Operands are separated by a comma (@samp{,}).\n+A comma however does not act as a separator if it appears within parentheses\n+(@samp{()}) or within square brackets (@samp{[]}).\n+@code{@value{AS}} will complain if too many, too few or inappropriate operands\n+are specified for a given instruction.\n+\n Some instructions accept and (in certain situations require) a suffix\n indicating the size of the operand.\n The suffix is separated from the instruction name by a period (@samp{.})\n and may be one of @samp{b}, @samp{w}, @samp{p} or @samp{l} indicating\n `byte' (a single byte), `word' (2 bytes), `pointer' (3 bytes) or `long' (4 bytes)\n respectively.\n-Operands are separated by a comma (@samp{,}).\n-A comma however does not act as a separator if it appears within parentheses\n-(@samp{()}) or within square brackets (@samp{[]}).\n-@code{@value{AS}} will complain if too many, too few or inappropriate operands\n-are specified for a given instruction.\n-The MRI mode is not supported for this architecture.\n+\n Example:\n \n @smallexample\n@@ -80,7 +88,6 @@ Example:\n @end smallexample\n \n @cindex line comment character, S12Z\n-@cindex S12Z line comment character\n The presence of a @samp{;} character anywhere\n on a line indicates the start of a comment that extends to the end of\n that line.\n@@ -98,8 +105,12 @@ directive (@pxref{Comments}) or a preprocessor control command\n The S12Z assembler does not currently support a line separator\n character.\n \n+\n+@node S12Z Addressing Modes\n+@subsection Addressing Modes\n @cindex S12Z addressing modes\n @cindex addressing modes, S12Z\n+\n The following addressing modes are understood for the S12Z.\n @table @dfn\n @item Immediate\n@@ -110,7 +121,7 @@ The following addressing modes are understood for the S12Z.\n \n Bit field instructions in the immediate mode require the width and offset to\n be specified.\n-The @var{width} pararmeter specifies the number of bits in the field.\n+The @var{width} parameter specifies the number of bits in the field.\n It should be a number in the range [1,32].\n @var{Offset} determines the position within the field where the operation\n should start.\n@@ -204,25 +215,25 @@ Otherwise it is treated as unsigned.\n For example:\n \n @smallexample\n-\ttrap    #197\n-\tbra     *+49\n-\tbra     .L0\n-\tjmp     0xFE0034\n-\tjmp     [0xFD0012]\n-\tinc.b   (4,x)\n-\tdec.w   [4,y]\n-\tclr.p   (-s)\n-\tneg.l   (d0, s)\n-\tcom.b   [d1, x]\n-\tjsr     (45, d0)\n-\tpsh     cch\n+\ttrap    #197        ;; Immediate mode\n+\tbra     *+49        ;; Relative mode\n+\tbra     .L0         ;;     ditto\n+\tjmp     0xFE0034    ;; Absolute direct mode\n+\tjmp     [0xFD0012]  ;; Absolute indirect mode\n+\tinc.b   (4,x)       ;; Constant offset indexed mode\n+\tjsr     (45, d0)    ;;     ditto\n+\tdec.w   [4,y]       ;; Constant offset indexed indirect mode\n+\tclr.p   (-s)        ;; Pre-decrement mode\n+\tneg.l   (d0, s)     ;; Register offset direct mode\n+\tcom.b   [d1, x]     ;; Register offset indirect mode\n+\tpsh     cch         ;; Register mode\n @end smallexample\n \n-@node Register Notation\n+@node S12Z Register Notation\n @subsection Register Notation\n \n @cindex register notation, S12Z\n-Without a register prefix (@pxref{S12Z-Opts}), S12Z assembler code is expected in the traditional\n+Without a register prefix (@pxref{S12Z Options}), S12Z assembler code is expected in the traditional\n format like this:\n @smallexample\n lea s, (-2,s)\n@@ -250,13 +261,9 @@ Consider the following assembler instruction:\n st d0, d1\n @end smallexample\n @noindent\n-This instruction is most likely to\n-mean ``Store the value in the register D0 into the register D1'' and that is the\n-default way in which @code{@value{AS}} interprets it.\n-However it could also be intended to mean\n-``Store the value in the register D0 into the memory referenced by the symbol\n-named @samp{d1}''.\n-If that is what is intended then @code{@value{AS}} must be invoked with\n+The destination operand of this instruction could either refer to the register\n+@samp{D1}, or it could refer to the symbol named ``d1''.\n+If the latter is intended then @code{@value{AS}} must be invoked with\n @samp{-mreg-prefix=@var{pfx}} and the code written as\n @smallexample\n st @var{pfx}d0, d1\n@@ -265,16 +272,3 @@ st @var{pfx}d0, d1\n where @var{pfx} is the chosen register prefix.\n For this reason, compiler back-ends should choose a register prefix which\n cannot be confused with a symbol name.\n-\n-\n-@node S12Z-Directives\n-@section Assembler Directives\n-\n-@cindex assembler directives, S12Z\n-\n-@node S12Z-Opcodes\n-@section Opcodes\n-\n-@cindex S12Z opcodes\n-@cindex opcodes, S12Z\n-@cindex instruction set, S12Z"
    }
  ]
}