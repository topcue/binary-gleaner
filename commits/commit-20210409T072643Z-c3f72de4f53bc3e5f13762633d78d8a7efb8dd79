{
  "sha": "c3f72de4f53bc3e5f13762633d78d8a7efb8dd79",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YzNmNzJkZTRmNTNiYzNlNWYxMzc2MjYzM2Q3OGQ4YTdlZmI4ZGQ3OQ==",
  "commit": {
    "author": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2021-04-06T09:33:35Z"
    },
    "committer": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2021-04-09T07:26:43Z"
    },
    "message": "PowerPC disassembly of pcrel references\n\nThis adds some annotation to Power10 pcrel instructions, displaying\nthe target address (ie. pc + D34 field) plus a symbol if there is one\nat exactly that target address.  pld from the .got or .plt will also\nlook up the entry and display it, symbolically if there is a dynamic\nrelocation on the entry.\n\ninclude/\n\t* dis-asm.h (struct disassemble_info): Add dynrelbuf and dynrelcount.\nbinutils/\n\t* objdump.c (struct objdump_disasm_info): Delete dynrelbuf and\n\tdynrelcount.\n\t(find_symbol_for_address): Adjust for dynrelbuf and dynrelcount move.\n\t(disassemble_section, disassemble_data): Likewise.\nopcodes/\n\t* ppc-dis.c (struct dis_private): Add \"special\".\n\t(POWERPC_DIALECT): Delete.  Replace uses with..\n\t(private_data): ..this.  New inline function.\n\t(disassemble_init_powerpc): Init \"special\" names.\n\t(skip_optional_operands): Add is_pcrel arg, set when detecting R\n\tfield of prefix instructions.\n\t(bsearch_reloc, print_got_plt): New functions.\n\t(print_insn_powerpc): For pcrel instructions, print target address\n\tand symbol if known, and decode plt and got loads too.\ngas/\n\t* testsuite/gas/ppc/prefix-pcrel.d: Update expected output.\n\t* testsuite/gas/ppc/prefix-reloc.d: Likewise.\n\t* gas/testsuite/gas/ppc/vsx_32byte.d: Likewise.\nld/\n\t* testsuite/ld-powerpc/inlinepcrel-1.d: Update expected output.\n\t* testsuite/ld-powerpc/inlinepcrel-2.d: Likewise.\n\t* testsuite/ld-powerpc/notoc2.d: Likewise.\n\t* testsuite/ld-powerpc/notoc3.d: Likewise.\n\t* testsuite/ld-powerpc/pcrelopt.d: Likewise.\n\t* testsuite/ld-powerpc/startstop.d: Likewise.\n\t* testsuite/ld-powerpc/tlsget.d: Likewise.\n\t* testsuite/ld-powerpc/tlsget2.d: Likewise.\n\t* testsuite/ld-powerpc/tlsld.d: Likewise.\n\t* testsuite/ld-powerpc/weak1.d: Likewise.\n\t* testsuite/ld-powerpc/weak1so.d: Likewise.",
    "tree": {
      "sha": "d1be8ec3633ed86a3451c392d0202444f9a72f6e",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/d1be8ec3633ed86a3451c392d0202444f9a72f6e"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/comments",
  "author": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "39178037a1cd78fed67b82aeec0313817c079c2a",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/39178037a1cd78fed67b82aeec0313817c079c2a",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/39178037a1cd78fed67b82aeec0313817c079c2a"
    }
  ],
  "stats": {
    "total": 458,
    "additions": 311,
    "deletions": 147
  },
  "files": [
    {
      "sha": "9e8837394940936d4a5d0767573253429dbb18e1",
      "filename": "binutils/ChangeLog",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/binutils/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/binutils/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/ChangeLog?ref=c3f72de4f53bc3e5f13762633d78d8a7efb8dd79",
      "patch": "@@ -1,3 +1,10 @@\n+2021-04-09  Alan Modra  <amodra@gmail.com>\n+\n+\t* objdump.c (struct objdump_disasm_info): Delete dynrelbuf and\n+\tdynrelcount.\n+\t(find_symbol_for_address): Adjust for dynrelbuf and dynrelcount move.\n+\t(disassemble_section, disassemble_data): Likewise.\n+\n 2021-04-06  Alan Modra  <amodra@gmail.com>\n \n \t* objdump.c (objdump_symbol_at_address): Return asymbol*."
    },
    {
      "sha": "3e6bf721e12fda096d0b115790318b3029935b47",
      "filename": "binutils/objdump.c",
      "status": "modified",
      "additions": 26,
      "deletions": 30,
      "changes": 56,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/binutils/objdump.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/binutils/objdump.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/objdump.c?ref=c3f72de4f53bc3e5f13762633d78d8a7efb8dd79",
      "patch": "@@ -153,8 +153,6 @@ struct objdump_disasm_info\n {\n   bfd *abfd;\n   bool require_sec;\n-  arelent **dynrelbuf;\n-  long dynrelcount;\n   disassembler_ftype disassemble_fn;\n   arelent *reloc;\n   const char *symbol;\n@@ -1270,20 +1268,20 @@ find_symbol_for_address (bfd_vma vma,\n      and we have dynamic relocations available, then we can produce\n      a better result by matching a relocation to the address and\n      using the symbol associated with that relocation.  */\n-  rel_count = aux->dynrelcount;\n+  rel_count = inf->dynrelcount;\n   if (!want_section\n       && sorted_syms[thisplace]->value != vma\n       && rel_count > 0\n-      && aux->dynrelbuf != NULL\n-      && aux->dynrelbuf[0]->address <= vma\n-      && aux->dynrelbuf[rel_count - 1]->address >= vma\n+      && inf->dynrelbuf != NULL\n+      && inf->dynrelbuf[0]->address <= vma\n+      && inf->dynrelbuf[rel_count - 1]->address >= vma\n       /* If we have matched a synthetic symbol, then stick with that.  */\n       && (sorted_syms[thisplace]->flags & BSF_SYNTHETIC) == 0)\n     {\n       arelent **  rel_low;\n       arelent **  rel_high;\n \n-      rel_low = aux->dynrelbuf;\n+      rel_low = inf->dynrelbuf;\n       rel_high = rel_low + rel_count - 1;\n       while (rel_low <= rel_high)\n \t{\n@@ -3116,10 +3114,10 @@ disassemble_section (bfd *abfd, asection *section, void *inf)\n \n   /* Decide which set of relocs to use.  Load them if necessary.  */\n   paux = (struct objdump_disasm_info *) pinfo->application_data;\n-  if (paux->dynrelbuf && dump_dynamic_reloc_info)\n+  if (pinfo->dynrelbuf && dump_dynamic_reloc_info)\n     {\n-      rel_pp = paux->dynrelbuf;\n-      rel_count = paux->dynrelcount;\n+      rel_pp = pinfo->dynrelbuf;\n+      rel_count = pinfo->dynrelcount;\n       /* Dynamic reloc addresses are absolute, non-dynamic are section\n \t relative.  REL_OFFSET specifies the reloc address corresponding\n \t to the start of this section.  */\n@@ -3455,8 +3453,8 @@ disassemble_data (bfd *abfd)\n   disasm_info.application_data = (void *) &aux;\n   aux.abfd = abfd;\n   aux.require_sec = false;\n-  aux.dynrelbuf = NULL;\n-  aux.dynrelcount = 0;\n+  disasm_info.dynrelbuf = NULL;\n+  disasm_info.dynrelcount = 0;\n   aux.reloc = NULL;\n   aux.symbol = disasm_sym;\n \n@@ -3519,33 +3517,31 @@ disassemble_data (bfd *abfd)\n   disassemble_init_for_target (& disasm_info);\n \n   /* Pre-load the dynamic relocs as we may need them during the disassembly.  */\n-    {\n-      long relsize = bfd_get_dynamic_reloc_upper_bound (abfd);\n+  long relsize = bfd_get_dynamic_reloc_upper_bound (abfd);\n \n-      if (relsize < 0 && dump_dynamic_reloc_info)\n-\tbfd_fatal (bfd_get_filename (abfd));\n+  if (relsize < 0 && dump_dynamic_reloc_info)\n+    bfd_fatal (bfd_get_filename (abfd));\n \n-      if (relsize > 0)\n-\t{\n-\t  aux.dynrelbuf = (arelent **) xmalloc (relsize);\n-\t  aux.dynrelcount = bfd_canonicalize_dynamic_reloc (abfd,\n-\t\t\t\t\t\t\t    aux.dynrelbuf,\n-\t\t\t\t\t\t\t    dynsyms);\n-\t  if (aux.dynrelcount < 0)\n-\t    bfd_fatal (bfd_get_filename (abfd));\n+  if (relsize > 0)\n+    {\n+      disasm_info.dynrelbuf = (arelent **) xmalloc (relsize);\n+      disasm_info.dynrelcount\n+\t= bfd_canonicalize_dynamic_reloc (abfd, disasm_info.dynrelbuf, dynsyms);\n+      if (disasm_info.dynrelcount < 0)\n+\tbfd_fatal (bfd_get_filename (abfd));\n \n-\t  /* Sort the relocs by address.  */\n-\t  qsort (aux.dynrelbuf, aux.dynrelcount, sizeof (arelent *),\n-\t\t compare_relocs);\n-\t}\n+      /* Sort the relocs by address.  */\n+      qsort (disasm_info.dynrelbuf, disasm_info.dynrelcount, sizeof (arelent *),\n+\t     compare_relocs);\n     }\n+\n   disasm_info.symtab = sorted_syms;\n   disasm_info.symtab_size = sorted_symcount;\n \n   bfd_map_over_sections (abfd, disassemble_section, & disasm_info);\n \n-  if (aux.dynrelbuf != NULL)\n-    free (aux.dynrelbuf);\n+  free (disasm_info.dynrelbuf);\n+  disasm_info.dynrelbuf = NULL;\n   free (sorted_syms);\n   disassemble_free_target (&disasm_info);\n }"
    },
    {
      "sha": "4efdc333174a03bdffbf4aa042f998c664821e7f",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=c3f72de4f53bc3e5f13762633d78d8a7efb8dd79",
      "patch": "@@ -1,3 +1,9 @@\n+2021-04-09  Alan Modra  <amodra@gmail.com>\n+\n+\t* testsuite/gas/ppc/prefix-pcrel.d: Update expected output.\n+\t* testsuite/gas/ppc/prefix-reloc.d: Likewise.\n+\t* gas/testsuite/gas/ppc/vsx_32byte.d: Likewise.\n+\n 2021-04-08  Alan Modra  <amodra@gmail.com>\n \n \t* testsuite/gas/ppc/pr27676.d,"
    },
    {
      "sha": "0d10424ea544e660b6bedf585566252f188bbb80",
      "filename": "gas/testsuite/gas/ppc/prefix-pcrel.d",
      "status": "modified",
      "additions": 42,
      "deletions": 42,
      "changes": 84,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/gas/testsuite/gas/ppc/prefix-pcrel.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/gas/testsuite/gas/ppc/prefix-pcrel.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/ppc/prefix-pcrel.d?ref=c3f72de4f53bc3e5f13762633d78d8a7efb8dd79",
      "patch": "@@ -40,27 +40,27 @@ Disassembly of section \\.text:\n .*:\t(39 a9 00 00|00 00 a9 39) \n .*:\t(06 02 00 00|00 00 02 06) \tpaddi   r13,r9,-8589934592\n .*:\t(39 a9 00 00|00 00 a9 39) \n-.*:\t(06 10 00 00|00 00 10 06) \tpla     r14,0\n+.*:\t(06 10 00 00|00 00 10 06) \tpla     r14,0\t# 80\n .*:\t(39 c0 00 00|00 00 c0 39) \n-.*:\t(06 10 00 00|00 00 10 06) \tpla     r14,0\n+.*:\t(06 10 00 00|00 00 10 06) \tpla     r14,0\t# 88\n .*:\t(39 c0 00 00|00 00 c0 39) \n-.*:\t(06 13 ff ff|ff ff 13 06) \tpla     r15,-32769\n+.*:\t(06 13 ff ff|ff ff 13 06) \tpla     r15,-32769\t# f+808f\n .*:\t(39 e0 7f ff|ff 7f e0 39) \n-.*:\t(06 13 ff ff|ff ff 13 06) \tpla     r15,-32769\n+.*:\t(06 13 ff ff|ff ff 13 06) \tpla     r15,-32769\t# f+8097\n .*:\t(39 e0 7f ff|ff 7f e0 39) \n-.*:\t(06 13 ff ff|ff ff 13 06) \tpla     r15,-32769\n+.*:\t(06 13 ff ff|ff ff 13 06) \tpla     r15,-32769\t# f+809f\n .*:\t(39 e0 7f ff|ff 7f e0 39) \n-.*:\t(06 11 ff ff|ff ff 11 06) \tpla     r16,8589934591\n+.*:\t(06 11 ff ff|ff ff 11 06) \tpla     r16,8589934591\t# 2000000a7\n .*:\t(3a 00 ff ff|ff ff 00 3a) \n-.*:\t(06 11 ff ff|ff ff 11 06) \tpla     r16,8589934591\n+.*:\t(06 11 ff ff|ff ff 11 06) \tpla     r16,8589934591\t# 2000000af\n .*:\t(3a 00 ff ff|ff ff 00 3a) \n-.*:\t(06 11 ff ff|ff ff 11 06) \tpla     r16,8589934591\n+.*:\t(06 11 ff ff|ff ff 11 06) \tpla     r16,8589934591\t# 2000000b7\n .*:\t(3a 00 ff ff|ff ff 00 3a) \n-.*:\t(06 12 00 00|00 00 12 06) \tpla     r17,-8589934592\n+.*:\t(06 12 00 00|00 00 12 06) \tpla     r17,-8589934592\t# f+e000000c0\n .*:\t(3a 20 00 00|00 00 20 3a) \n-.*:\t(06 12 00 00|00 00 12 06) \tpla     r17,-8589934592\n+.*:\t(06 12 00 00|00 00 12 06) \tpla     r17,-8589934592\t# f+e000000c8\n .*:\t(3a 20 00 00|00 00 20 3a) \n-.*:\t(06 12 00 00|00 00 12 06) \tpla     r17,-8589934592\n+.*:\t(06 12 00 00|00 00 12 06) \tpla     r17,-8589934592\t# f+e000000d0\n .*:\t(3a 20 00 00|00 00 20 3a) \n .*:\t(06 00 00 00|00 00 00 06) \tpli     r20,13\n .*:\t(3a 80 00 0d|0d 00 80 3a) \n@@ -118,118 +118,118 @@ Disassembly of section \\.text:\n .*:\t(88 61 00 00|00 00 61 88) \n .*:\t(06 00 00 00|00 00 00 06) \tplbz    r3,0\\(0\\)\n .*:\t(88 60 00 00|00 00 60 88) \n-.*:\t(06 10 00 00|00 00 10 06) \tplbz    r4,0\n+.*:\t(06 10 00 00|00 00 10 06) \tplbz    r4,0\t# 1b8\n .*:\t(88 80 00 00|00 00 80 88) \n-.*:\t(06 10 00 00|00 00 10 06) \tplbz    r4,0\n+.*:\t(06 10 00 00|00 00 10 06) \tplbz    r4,0\t# 1c0\n .*:\t(88 80 00 00|00 00 80 88) \n .*:\t(06 03 ff ff|ff ff 03 06) \tplbz    r3,-32769\\(0\\)\n .*:\t(88 60 7f ff|ff 7f 60 88) \n-.*:\t(06 13 ff ff|ff ff 13 06) \tplbz    r4,-32769\n+.*:\t(06 13 ff ff|ff ff 13 06) \tplbz    r4,-32769\t# f+81cf\n .*:\t(88 80 7f ff|ff 7f 80 88) \n-.*:\t(06 13 ff ff|ff ff 13 06) \tplbz    r4,-32769\n+.*:\t(06 13 ff ff|ff ff 13 06) \tplbz    r4,-32769\t# f+81d7\n .*:\t(88 80 7f ff|ff 7f 80 88) \n .*:\t(06 01 ff ff|ff ff 01 06) \tplbz    r3,8589934591\\(0\\)\n .*:\t(88 60 ff ff|ff ff 60 88) \n-.*:\t(06 11 ff ff|ff ff 11 06) \tplbz    r4,8589934591\n+.*:\t(06 11 ff ff|ff ff 11 06) \tplbz    r4,8589934591\t# 2000001e7\n .*:\t(88 80 ff ff|ff ff 80 88) \n-.*:\t(06 11 ff ff|ff ff 11 06) \tplbz    r4,8589934591\n+.*:\t(06 11 ff ff|ff ff 11 06) \tplbz    r4,8589934591\t# 2000001ef\n .*:\t(88 80 ff ff|ff ff 80 88) \n .*:\t(06 02 00 00|00 00 02 06) \tplbz    r3,-8589934592\\(0\\)\n .*:\t(88 60 00 00|00 00 60 88) \n-.*:\t(06 12 00 00|00 00 12 06) \tplbz    r4,-8589934592\n+.*:\t(06 12 00 00|00 00 12 06) \tplbz    r4,-8589934592\t# f+e00000200\n .*:\t(88 80 00 00|00 00 80 88) \n-.*:\t(06 12 00 00|00 00 12 06) \tplbz    r4,-8589934592\n+.*:\t(06 12 00 00|00 00 12 06) \tplbz    r4,-8589934592\t# f+e00000208\n .*:\t(88 80 00 00|00 00 80 88) \n .*:\t(06 00 00 00|00 00 00 06) \tplhz    r5,4\\(r10\\)\n .*:\t(a0 aa 00 04|04 00 aa a0) \n-.*:\t(06 10 00 00|00 00 10 06) \tplhz    r5,4\n+.*:\t(06 10 00 00|00 00 10 06) \tplhz    r5,4\t# 21c\n .*:\t(a0 a0 00 04|04 00 a0 a0) \n .*:\t(06 00 00 00|00 00 00 06) \tplha    r6,8\\(r10\\)\n .*:\t(a8 ca 00 08|08 00 ca a8) \n-.*:\t(06 10 00 00|00 00 10 06) \tplha    r6,8\n+.*:\t(06 10 00 00|00 00 10 06) \tplha    r6,8\t# 230\n .*:\t(a8 c0 00 08|08 00 c0 a8) \n .*:\t(06 00 00 00|00 00 00 06) \tplwz    r7,12\\(r10\\)\n .*:\t(80 ea 00 0c|0c 00 ea 80) \n-.*:\t(06 10 00 00|00 00 10 06) \tplwz    r7,12\n+.*:\t(06 10 00 00|00 00 10 06) \tplwz    r7,12\t# 244\n .*:\t(80 e0 00 0c|0c 00 e0 80) \n .*:\t(04 00 00 00|00 00 00 04) \tplwa    r8,16\\(r10\\)\n .*:\t(a5 0a 00 10|10 00 0a a5) \n-.*:\t(04 10 00 00|00 00 10 04) \tplwa    r8,16\n+.*:\t(04 10 00 00|00 00 10 04) \tplwa    r8,16\t# 258\n .*:\t(a5 00 00 10|10 00 00 a5) \n .*:\t(04 00 00 00|00 00 00 04) \tpld     r9,20\\(r10\\)\n .*:\t(e5 2a 00 14|14 00 2a e5) \n-.*:\t(04 10 00 00|00 00 10 04) \tpld     r9,20\n+.*:\t(04 10 00 00|00 00 10 04) \tpld     r9,20\t# 26c\n .*:\t(e5 20 00 14|14 00 20 e5) \n .*:\t(06 00 00 00|00 00 00 06) \tplfs    f10,24\\(r10\\)\n .*:\t(c1 4a 00 18|18 00 4a c1) \n-.*:\t(06 10 00 00|00 00 10 06) \tplfs    f10,24\n+.*:\t(06 10 00 00|00 00 10 06) \tplfs    f10,24\t# 280\n .*:\t(c1 40 00 18|18 00 40 c1) \n .*:\t(06 00 00 00|00 00 00 06) \tplfd    f11,28\\(r10\\)\n .*:\t(c9 6a 00 1c|1c 00 6a c9) \n-.*:\t(06 10 00 00|00 00 10 06) \tplfd    f11,28\n+.*:\t(06 10 00 00|00 00 10 06) \tplfd    f11,28\t# 294\n .*:\t(c9 60 00 1c|1c 00 60 c9) \n .*:\t(04 00 00 00|00 00 00 04) \tplxsd   v13,36\\(r10\\)\n .*:\t(a9 aa 00 24|24 00 aa a9) \n-.*:\t(04 10 00 00|00 00 10 04) \tplxsd   v13,36\n+.*:\t(04 10 00 00|00 00 10 04) \tplxsd   v13,36\t# 2ac\n .*:\t(a9 a0 00 24|24 00 a0 a9) \n .*:\t(04 00 00 00|00 00 00 04) \tplxssp  v14,40\\(r10\\)\n .*:\t(ad ca 00 28|28 00 ca ad) \n-.*:\t(04 10 00 00|00 00 10 04) \tplxssp  v14,40\n+.*:\t(04 10 00 00|00 00 10 04) \tplxssp  v14,40\t# 2c0\n .*:\t(ad c0 00 28|28 00 c0 ad) \n .*:\t(04 00 00 00|00 00 00 04) \tplq     r16,48\\(r10\\)\n .*:\t(e2 0a 00 30|30 00 0a e2) \n-.*:\t(04 10 00 00|00 00 10 04) \tplq     r16,48\n+.*:\t(04 10 00 00|00 00 10 04) \tplq     r16,48\t# 2d8\n .*:\t(e2 00 00 30|30 00 00 e2) \n .*:\t(04 00 00 00|00 00 00 04) \tplxv    vs17,64\\(r10\\)\n .*:\t(ca 2a 00 40|40 00 2a ca) \n-.*:\t(04 10 00 00|00 00 10 04) \tplxv    vs17,64\n+.*:\t(04 10 00 00|00 00 10 04) \tplxv    vs17,64\t# 2f8\n .*:\t(ca 20 00 40|40 00 20 ca) \n .*:\t(04 00 00 00|00 00 00 04) \tplxv    vs34,64\\(r10\\)\n .*:\t(cc 4a 00 40|40 00 4a cc) \n-.*:\t(04 10 00 00|00 00 10 04) \tplxv    vs34,64\n+.*:\t(04 10 00 00|00 00 10 04) \tplxv    vs34,64\t# 308\n .*:\t(cc 40 00 40|40 00 40 cc) \n .*:\t(06 00 00 00|00 00 00 06) \tpstb    r3,52\\(r11\\)\n .*:\t(98 6b 00 34|34 00 6b 98) \n-.*:\t(06 10 00 00|00 00 10 06) \tpstb    r3,52\n+.*:\t(06 10 00 00|00 00 10 06) \tpstb    r3,52\t# 30c\n .*:\t(98 60 00 34|34 00 60 98) \n .*:\t(06 00 00 00|00 00 00 06) \tpsth    r4,56\\(r11\\)\n .*:\t(b0 8b 00 38|38 00 8b b0) \n-.*:\t(06 10 00 00|00 00 10 06) \tpsth    r4,56\n+.*:\t(06 10 00 00|00 00 10 06) \tpsth    r4,56\t# 320\n .*:\t(b0 80 00 38|38 00 80 b0) \n .*:\t(06 00 00 00|00 00 00 06) \tpstw    r5,60\\(r11\\)\n .*:\t(90 ab 00 3c|3c 00 ab 90) \n-.*:\t(06 10 00 00|00 00 10 06) \tpstw    r5,60\n+.*:\t(06 10 00 00|00 00 10 06) \tpstw    r5,60\t# 334\n .*:\t(90 a0 00 3c|3c 00 a0 90) \n .*:\t(06 00 00 00|00 00 00 06) \tpstfs   f6,64\\(r11\\)\n .*:\t(d0 cb 00 40|40 00 cb d0) \n-.*:\t(06 10 00 00|00 00 10 06) \tpstfs   f6,64\n+.*:\t(06 10 00 00|00 00 10 06) \tpstfs   f6,64\t# 348\n .*:\t(d0 c0 00 40|40 00 c0 d0) \n .*:\t(06 00 00 00|00 00 00 06) \tpstfd   f7,68\\(r11\\)\n .*:\t(d8 eb 00 44|44 00 eb d8) \n-.*:\t(06 10 00 00|00 00 10 06) \tpstfd   f7,68\n+.*:\t(06 10 00 00|00 00 10 06) \tpstfd   f7,68\t# 35c\n .*:\t(d8 e0 00 44|44 00 e0 d8) \n .*:\t(04 00 00 00|00 00 00 04) \tpstxsd  v9,76\\(r11\\)\n .*:\t(b9 2b 00 4c|4c 00 2b b9) \n-.*:\t(04 10 00 00|00 00 10 04) \tpstxsd  v9,76\n+.*:\t(04 10 00 00|00 00 10 04) \tpstxsd  v9,76\t# 374\n .*:\t(b9 20 00 4c|4c 00 20 b9) \n .*:\t(04 00 00 00|00 00 00 04) \tpstxssp v10,80\\(r11\\)\n .*:\t(bd 4b 00 50|50 00 4b bd) \n-.*:\t(04 10 00 00|00 00 10 04) \tpstxssp v10,80\n+.*:\t(04 10 00 00|00 00 10 04) \tpstxssp v10,80\t# 388\n .*:\t(bd 40 00 50|50 00 40 bd) \n .*:\t(04 00 00 00|00 00 00 04) \tpstd    r11,84\\(r11\\)\n .*:\t(f5 6b 00 54|54 00 6b f5) \n-.*:\t(04 10 00 00|00 00 10 04) \tpstd    r11,84\n+.*:\t(04 10 00 00|00 00 10 04) \tpstd    r11,84\t# 39c\n .*:\t(f5 60 00 54|54 00 60 f5) \n .*:\t(04 00 00 00|00 00 00 04) \tpstq    r12,88\\(r11\\)\n .*:\t(f1 8b 00 58|58 00 8b f1) \n-.*:\t(04 10 00 00|00 00 10 04) \tpstq    r12,88\n+.*:\t(04 10 00 00|00 00 10 04) \tpstq    r12,88\t# 3b0\n .*:\t(f1 80 00 58|58 00 80 f1) \n .*:\t(04 00 00 00|00 00 00 04) \tpstxv   vs13,96\\(r11\\)\n .*:\t(d9 ab 00 60|60 00 ab d9) \n-.*:\t(04 10 00 00|00 00 10 04) \tpstxv   vs13,96\n+.*:\t(04 10 00 00|00 00 10 04) \tpstxv   vs13,96\t# 3c8\n .*:\t(d9 a0 00 60|60 00 a0 d9) \n .*:\t(04 00 00 00|00 00 00 04) \tpstxv   vs63,96\\(r11\\)\n .*:\t(df eb 00 60|60 00 eb df) \n-.*:\t(04 10 00 00|00 00 10 04) \tpstxv   vs63,96\n+.*:\t(04 10 00 00|00 00 10 04) \tpstxv   vs63,96\t# 3d8\n .*:\t(df e0 00 60|60 00 e0 df) \n #pass"
    },
    {
      "sha": "b442419904fed767b98786fe97ea480ac0bea42b",
      "filename": "gas/testsuite/gas/ppc/prefix-reloc.d",
      "status": "modified",
      "additions": 5,
      "deletions": 5,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/gas/testsuite/gas/ppc/prefix-reloc.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/gas/testsuite/gas/ppc/prefix-reloc.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/ppc/prefix-reloc.d?ref=c3f72de4f53bc3e5f13762633d78d8a7efb8dd79",
      "patch": "@@ -14,22 +14,22 @@ Disassembly of section \\.text:\n    c:\t(00 00 00 06|06 00 00 00) \tpaddi   r9,r9,0\n   10:\t(00 00 29 39|39 29 00 00) \n \t\t\tc: R_PPC64_D34_LO\text\n-  14:\t(00 00 10 04|04 10 00 00) \tpld     r3,0\n+  14:\t(00 00 10 04|04 10 00 00) \tpld     r3,0\t# 14\n   18:\t(00 00 60 e4|e4 60 00 00) \n \t\t\t14: R_PPC64_PCREL34\text\n-  1c:\t(00 00 10 04|04 10 00 00) \tpld     r4,0\n+  1c:\t(00 00 10 04|04 10 00 00) \tpld     r4,0\t# 1c\n   20:\t(00 00 80 e4|e4 80 00 00) \n \t\t\t1c: R_PPC64_GOT_PCREL34\text\n-  24:\t(00 00 10 04|04 10 00 00) \tpld     r5,0\n+  24:\t(00 00 10 04|04 10 00 00) \tpld     r5,0\t# 24\n   28:\t(00 00 a0 e4|e4 a0 00 00) \n \t\t\t24: R_PPC64_PLT_PCREL34\text\n-  2c:\t(00 00 10 04|04 10 00 00) \tpld     r6,0\n+  2c:\t(00 00 10 04|04 10 00 00) \tpld     r6,0\t# 2c\n   30:\t(00 00 c0 e4|e4 c0 00 00) \n \t\t\t2c: R_PPC64_PCREL34\text\n   34:\t(00 00 00 04|04 00 00 00) \tpld     r7,0\\(0\\)\n   38:\t(00 00 e0 e4|e4 e0 00 00) \n \t\t\t34: R_PPC64_D34\text\n   3c:\t(00 00 00 60|60 00 00 00) \tnop\n-  40:\t(00 00 10 04|04 10 00 00) \tpld     r8,0\n+  40:\t(00 00 10 04|04 10 00 00) \tpld     r8,0\t# 40\n   44:\t(00 00 00 e5|e5 00 00 00) \n \t\t\t40: R_PPC64_PCREL34\text"
    },
    {
      "sha": "dc02be42e79ebfc8550c1c390599b33fe85d966b",
      "filename": "gas/testsuite/gas/ppc/vsx_32byte.d",
      "status": "modified",
      "additions": 4,
      "deletions": 4,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/gas/testsuite/gas/ppc/vsx_32byte.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/gas/testsuite/gas/ppc/vsx_32byte.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/ppc/vsx_32byte.d?ref=c3f72de4f53bc3e5f13762633d78d8a7efb8dd79",
      "patch": "@@ -14,9 +14,9 @@ Disassembly of section \\.text:\n .*:\t(e8 9e 00 01|01 00 9e e8) \n .*:\t(04 03 ff ff|ff ff 03 04) \tplxvp   vs60,-1\\(r9\\)\n .*:\t(eb a9 ff ff|ff ff a9 eb) \n-.*:\t(04 10 12 34|34 12 10 04) \tplxvp   vs6,305419896\n+.*:\t(04 10 12 34|34 12 10 04) \tplxvp   vs6,305419896\t# 12345690\n .*:\t(e8 c0 56 78|78 56 c0 e8) \n-.*:\t(04 13 ff ff|ff ff 13 04) \tplxvp   vs58,-32\n+.*:\t(04 13 ff ff|ff ff 13 04) \tplxvp   vs58,-32\t# 0 <_start>\n .*:\t(eb 60 ff e0|e0 ff 60 eb) \n .*:\t(7f 20 0a 9a|9a 0a 20 7f) \tlxvpx   vs56,0,r1\n .*:\t(19 1d 00 01|01 00 1d 19) \tstxvp   vs8,0\\(r29\\)\n@@ -26,8 +26,8 @@ Disassembly of section \\.text:\n .*:\t(60 00 00 00|00 00 00 60) \tnop\n .*:\t(04 03 ff ff|ff ff 03 04) \tpstxvp  vs52,-1\\(r8\\)\n .*:\t(fa a8 ff ff|ff ff a8 fa) \n-.*:\t(04 10 12 34|34 12 10 04) \tpstxvp  vs12,305419896\n+.*:\t(04 10 12 34|34 12 10 04) \tpstxvp  vs12,305419896\t# 123456c0\n .*:\t(f9 80 56 78|78 56 80 f9) \n-.*:\t(04 13 ff ff|ff ff 13 04) \tpstxvp  vs50,-80\n+.*:\t(04 13 ff ff|ff ff 13 04) \tpstxvp  vs50,-80\t# 0 <_start>\n .*:\t(fa 60 ff b0|b0 ff 60 fa) \n .*:\t(7e 20 0b 9a|9a 0b 20 7e) \tstxvpx  vs48,0,r1"
    },
    {
      "sha": "752b8fec35f30f76624fe32dcbaa7c4eb2b25209",
      "filename": "include/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/include/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/include/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/include/ChangeLog?ref=c3f72de4f53bc3e5f13762633d78d8a7efb8dd79",
      "patch": "@@ -1,3 +1,7 @@\n+2021-04-09  Alan Modra  <amodra@gmail.com>\n+\n+\t* dis-asm.h (struct disassemble_info): Add dynrelbuf and dynrelcount.\n+\n 2021-04-06  Alan Modra  <amodra@gmail.com>\n \n \t* dis-asm.h (struct disassemble_info <symbol_at_address_func>):"
    },
    {
      "sha": "e8b42b054642905ef68ec597c9296a89f7808877",
      "filename": "include/dis-asm.h",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/include/dis-asm.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/include/dis-asm.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/include/dis-asm.h?ref=c3f72de4f53bc3e5f13762633d78d8a7efb8dd79",
      "patch": "@@ -114,6 +114,10 @@ typedef struct disassemble_info\n   /* Set if the user has requested wide output.  */\n #define WIDE_OUTPUT (1u << 28)\n \n+  /* Dynamic relocations, if they have been loaded.  */\n+  arelent **dynrelbuf;\n+  long dynrelcount;\n+\n   /* Use internally by the target specific disassembly code.  */\n   void *private_data;\n "
    },
    {
      "sha": "c07105db3184391668c35d7627493b4ad44c089a",
      "filename": "ld/ChangeLog",
      "status": "modified",
      "additions": 14,
      "deletions": 0,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/ld/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/ld/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/ChangeLog?ref=c3f72de4f53bc3e5f13762633d78d8a7efb8dd79",
      "patch": "@@ -1,3 +1,17 @@\n+2021-04-09  Alan Modra  <amodra@gmail.com>\n+\n+\t* testsuite/ld-powerpc/inlinepcrel-1.d: Update expected output.\n+\t* testsuite/ld-powerpc/inlinepcrel-2.d: Likewise.\n+\t* testsuite/ld-powerpc/notoc2.d: Likewise.\n+\t* testsuite/ld-powerpc/notoc3.d: Likewise.\n+\t* testsuite/ld-powerpc/pcrelopt.d: Likewise.\n+\t* testsuite/ld-powerpc/startstop.d: Likewise.\n+\t* testsuite/ld-powerpc/tlsget.d: Likewise.\n+\t* testsuite/ld-powerpc/tlsget2.d: Likewise.\n+\t* testsuite/ld-powerpc/tlsld.d: Likewise.\n+\t* testsuite/ld-powerpc/weak1.d: Likewise.\n+\t* testsuite/ld-powerpc/weak1so.d: Likewise.\n+\n 2021-04-06  Jan Beulich  <jbeulich@suse.com>\n \n \t* pe-dll.c (generate_reloc): Bail immediately when .reloc is"
    },
    {
      "sha": "109a4c7a21e8977ee61a1c3d8f932299c3ce62e3",
      "filename": "ld/testsuite/ld-powerpc/inlinepcrel-1.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/ld/testsuite/ld-powerpc/inlinepcrel-1.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/ld/testsuite/ld-powerpc/inlinepcrel-1.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-powerpc/inlinepcrel-1.d?ref=c3f72de4f53bc3e5f13762633d78d8a7efb8dd79",
      "patch": "@@ -8,7 +8,7 @@\n Disassembly of section \\.text:\n \n .*:\n-.*:\t(04 10 00 01|01 00 10 04) \tpld     r12,65944\n+.*:\t(04 10 00 01|01 00 10 04) \tpld     r12,65944\t# 10318 \\[my_func@plt\\]\n .*:\t(e5 80 01 98|98 01 80 e5) \n .*:\t(7d 89 03 a6|a6 03 89 7d) \tmtctr   r12\n .*:\t(4e 80 04 21|21 04 80 4e) \tbctrl"
    },
    {
      "sha": "80fe7083adb21234fdc793ed2be4132894930aae",
      "filename": "ld/testsuite/ld-powerpc/inlinepcrel-2.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/ld/testsuite/ld-powerpc/inlinepcrel-2.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/ld/testsuite/ld-powerpc/inlinepcrel-2.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-powerpc/inlinepcrel-2.d?ref=c3f72de4f53bc3e5f13762633d78d8a7efb8dd79",
      "patch": "@@ -9,7 +9,7 @@\n Disassembly of section \\.text:\n \n .*:\n-.*:\t(04 10 00 01|01 00 10 04) \tpld     r12,66072\n+.*:\t(04 10 00 01|01 00 10 04) \tpld     r12,66072\t# 10010418 \\[my_func@plt\\]\n .*:\t(e5 80 02 18|18 02 80 e5) \n .*:\t(7d 89 03 a6|a6 03 89 7d) \tmtctr   r12\n .*:\t(4e 80 04 21|21 04 80 4e) \tbctrl"
    },
    {
      "sha": "1edaf226b1c9bf7a75951250745ea9b9eb73eaa4",
      "filename": "ld/testsuite/ld-powerpc/notoc2.d",
      "status": "modified",
      "additions": 6,
      "deletions": 6,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/ld/testsuite/ld-powerpc/notoc2.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/ld/testsuite/ld-powerpc/notoc2.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-powerpc/notoc2.d?ref=c3f72de4f53bc3e5f13762633d78d8a7efb8dd79",
      "patch": "@@ -9,20 +9,20 @@\n Disassembly of section \\.text:\n \n .* <.*\\.plt_call\\.puts>:\n-.*:\t(04 10 00 01|01 00 10 04) \tpld     r12,66200\n+.*:\t(04 10 00 01|01 00 10 04) \tpld     r12,66200\t# 10418 \\[puts@plt\\]\n .*:\t(e5 80 02 98|98 02 80 e5) \n .*:\t(7d 89 03 a6|a6 03 89 7d) \tmtctr   r12\n .*:\t(4e 80 04 20|20 04 80 4e) \tbctr\n #...\n-.*:\t(04 13 ff ff|ff ff 13 04) \tpld     r12,-1\n+.*:\t(04 13 ff ff|ff ff 13 04) \tpld     r12,-1\t# 1bf\n .*:\t(e5 80 ff ff|ff ff 80 e5) \n-.*:\t(04 10 00 00|00 00 10 04) \tpld     r12,0\n+.*:\t(04 10 00 00|00 00 10 04) \tpld     r12,0\t# 1c8\n .*:\t(e5 80 00 00|00 00 80 e5) \n-.*:\t(06 13 ff ff|ff ff 13 06) \tpla     r12,-1\n+.*:\t(06 13 ff ff|ff ff 13 06) \tpla     r12,-1\t# 1cf\n .*:\t(39 80 ff ff|ff ff 80 39) \n-.*:\t(06 10 00 00|00 00 10 06) \tpla     r12,0\n+.*:\t(06 10 00 00|00 00 10 06) \tpla     r12,0\t# 1d8\n .*:\t(39 80 00 00|00 00 80 39) \n-.*:\t(06 10 00 00|00 00 10 06) \tpla     r3,88\n+.*:\t(06 10 00 00|00 00 10 06) \tpla     r3,88\t# 238 <hello>\n .*:\t(38 60 00 58|58 00 60 38) \n .*:\t(4b ff ff 99|99 ff ff 4b) \tbl      .* <.*\\.plt_call\\.puts>\n .*:\t(60 00 00 00|00 00 00 60) \tnop"
    },
    {
      "sha": "134bba31bfd20bff7fbc75a61e2b3cf6132d9c7b",
      "filename": "ld/testsuite/ld-powerpc/notoc3.d",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/ld/testsuite/ld-powerpc/notoc3.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/ld/testsuite/ld-powerpc/notoc3.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-powerpc/notoc3.d?ref=c3f72de4f53bc3e5f13762633d78d8a7efb8dd79",
      "patch": "@@ -18,7 +18,7 @@ Disassembly of section \\.text:\n .* <.*\\.plt_branch\\.ext>:\n .*:\t(00 20 60 3d|3d 60 20 00) \tlis     r11,8192\n .*:\t(00 00 6b 61|61 6b 00 00) \tori     r11,r11,0\n-.*:\t(ff ef 13 06|06 13 ef ff) \tpla     r12,-268435736\n+.*:\t(ff ef 13 06|06 13 ef ff) \tpla     r12,-268435736\t# 0\n .*:\t(e8 fe 80 39|39 80 fe e8) \n .*:\t(46 17 6b 79|79 6b 17 46) \trldicr  r11,r11,34,29\n .*:\t(14 62 8b 7d|7d 8b 62 14) \tadd     r12,r11,r12\n@@ -30,13 +30,13 @@ Disassembly of section \\.text:\n \n .* <.*\\.long_branch\\.f2>:\n .*:\t(00 00 00 60|60 00 00 00) \tnop\n-.*:\t(00 00 10 06|06 10 00 00) \tpla     r12,108\n+.*:\t(00 00 10 06|06 10 00 00) \tpla     r12,108\t# .* <f2>\n .*:\t(6c 00 80 39|39 80 00 6c) \n .*:\t(.. .. 00 48|48 00 .. ..) \tb       .* <f2>\n \n .* <.*\\.long_branch\\.g2>:\n .*:\t(00 00 00 60|60 00 00 00) \tnop\n-.*:\t(00 00 10 06|06 10 00 00) \tpla     r12,144\n+.*:\t(00 00 10 06|06 10 00 00) \tpla     r12,144\t# .* <g2>\n .*:\t(90 00 80 39|39 80 00 90) \n .*:\t(.. .. 00 48|48 00 .. ..) \tb       .* <g2>\n #..."
    },
    {
      "sha": "3d230370f8cb92c0efdee7ff40e77e308cc07618",
      "filename": "ld/testsuite/ld-powerpc/pcrelopt.d",
      "status": "modified",
      "additions": 32,
      "deletions": 32,
      "changes": 64,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/ld/testsuite/ld-powerpc/pcrelopt.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/ld/testsuite/ld-powerpc/pcrelopt.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-powerpc/pcrelopt.d?ref=c3f72de4f53bc3e5f13762633d78d8a7efb8dd79",
      "patch": "@@ -4,105 +4,105 @@\n Disassembly of section \\.text:\n \n 0+10000200 <_start>:\n-.*:\t(06 10 00 01|01 00 10 06) \tplbz    r3,66320\n+.*:\t(06 10 00 01|01 00 10 06) \tplbz    r3,66320\t# .* <sym>\n .*:\t(88 60 03 10|10 03 60 88) \n .*:\t(60 00 00 00|00 00 00 60) \tnop\n-.*:\t(06 10 00 01|01 00 10 06) \tplhz    r4,66308\n+.*:\t(06 10 00 01|01 00 10 06) \tplhz    r4,66308\t# .* <sym>\n .*:\t(a0 80 03 04|04 03 80 a0) \n .*:\t(60 00 00 00|00 00 00 60) \tnop\n .*:\t(60 00 00 00|00 00 00 60) \tnop\n .*:\t(60 00 00 00|00 00 00 60) \tnop\n-.*:\t(06 10 00 01|01 00 10 06) \tplha    r3,66288\n+.*:\t(06 10 00 01|01 00 10 06) \tplha    r3,66288\t# .* <sym>\n .*:\t(a8 60 02 f0|f0 02 60 a8) \n .*:\t(40 82 ff f4|f4 ff 82 40) \tbne     .*\n-.*:\t(06 10 00 01|01 00 10 06) \tplwz    r3,66276\n+.*:\t(06 10 00 01|01 00 10 06) \tplwz    r3,66276\t# .* <sym>\n .*:\t(80 60 02 e4|e4 02 60 80) \n .*:\t(60 00 00 00|00 00 00 60) \tnop\n-.*:\t(04 10 00 01|01 00 10 04) \tplwa    r3,66264\n+.*:\t(04 10 00 01|01 00 10 04) \tplwa    r3,66264\t# .* <sym>\n .*:\t(a4 60 02 d8|d8 02 60 a4) \n .*:\t(60 00 00 00|00 00 00 60) \tnop\n-.*:\t(04 10 00 01|01 00 10 04) \tpld     r3,66252\n+.*:\t(04 10 00 01|01 00 10 04) \tpld     r3,66252\t# .* <sym>\n .*:\t(e4 60 02 cc|cc 02 60 e4) \n .*:\t(60 00 00 00|00 00 00 60) \tnop\n-.*:\t(04 10 00 01|01 00 10 04) \tplq     r14,66240\n+.*:\t(04 10 00 01|01 00 10 04) \tplq     r14,66240\t# .* <sym>\n .*:\t(e1 c0 02 c0|c0 02 c0 e1) \n .*:\t(60 00 00 00|00 00 00 60) \tnop\n-.*:\t(06 10 00 01|01 00 10 06) \tplfs    f1,66228\n+.*:\t(06 10 00 01|01 00 10 06) \tplfs    f1,66228\t# .* <sym>\n .*:\t(c0 20 02 b4|b4 02 20 c0) \n .*:\t(60 00 00 00|00 00 00 60) \tnop\n-.*:\t(06 10 00 01|01 00 10 06) \tplfd    f1,66216\n+.*:\t(06 10 00 01|01 00 10 06) \tplfd    f1,66216\t# .* <sym>\n .*:\t(c8 20 02 a8|a8 02 20 c8) \n .*:\t(60 00 00 00|00 00 00 60) \tnop\n-.*:\t(04 10 00 01|01 00 10 04) \tplxsd   v30,66204\n+.*:\t(04 10 00 01|01 00 10 04) \tplxsd   v30,66204\t# .* <sym>\n .*:\t(ab c0 02 9c|9c 02 c0 ab) \n .*:\t(60 00 00 00|00 00 00 60) \tnop\n-.*:\t(04 10 00 01|01 00 10 04) \tplxssp  v31,66192\n+.*:\t(04 10 00 01|01 00 10 04) \tplxssp  v31,66192\t# .* <sym>\n .*:\t(af e0 02 90|90 02 e0 af) \n .*:\t(60 00 00 00|00 00 00 60) \tnop\n-.*:\t(04 10 00 01|01 00 10 04) \tplxv    vs63,66180\n+.*:\t(04 10 00 01|01 00 10 04) \tplxv    vs63,66180\t# .* <sym>\n .*:\t(cf e0 02 84|84 02 e0 cf) \n .*:\t(60 00 00 00|00 00 00 60) \tnop\n-.*:\t(04 10 00 01|01 00 10 04) \tplxv    vs0,66168\n+.*:\t(04 10 00 01|01 00 10 04) \tplxv    vs0,66168\t# .* <sym>\n .*:\t(c8 00 02 78|78 02 00 c8) \n .*:\t(60 00 00 00|00 00 00 60) \tnop\n-.*:\t(06 10 00 01|01 00 10 06) \tpstb    r3,66156\n+.*:\t(06 10 00 01|01 00 10 06) \tpstb    r3,66156\t# .* <sym>\n .*:\t(98 60 02 6c|6c 02 60 98) \n .*:\t(60 00 00 00|00 00 00 60) \tnop\n-.*:\t(06 10 00 01|01 00 10 06) \tpsth    r3,66144\n+.*:\t(06 10 00 01|01 00 10 06) \tpsth    r3,66144\t# .* <sym>\n .*:\t(b0 60 02 60|60 02 60 b0) \n .*:\t(60 00 00 00|00 00 00 60) \tnop\n .*:\t(60 00 00 00|00 00 00 60) \tnop\n-.*:\t(06 10 00 01|01 00 10 06) \tpstw    r3,66128\n+.*:\t(06 10 00 01|01 00 10 06) \tpstw    r3,66128\t# .* <sym>\n .*:\t(90 60 02 50|50 02 60 90) \n .*:\t(60 00 00 00|00 00 00 60) \tnop\n-.*:\t(04 10 00 01|01 00 10 04) \tpstd    r3,66116\n+.*:\t(04 10 00 01|01 00 10 04) \tpstd    r3,66116\t# .* <sym>\n .*:\t(f4 60 02 44|44 02 60 f4) \n .*:\t(60 00 00 00|00 00 00 60) \tnop\n-.*:\t(04 10 00 01|01 00 10 04) \tpstq    r14,66104\n+.*:\t(04 10 00 01|01 00 10 04) \tpstq    r14,66104\t# .* <sym>\n .*:\t(f1 c0 02 38|38 02 c0 f1) \n .*:\t(60 00 00 00|00 00 00 60) \tnop\n-.*:\t(06 10 00 01|01 00 10 06) \tpstfd   f1,66092\n+.*:\t(06 10 00 01|01 00 10 06) \tpstfd   f1,66092\t# .* <sym>\n .*:\t(d8 20 02 2c|2c 02 20 d8) \n .*:\t(60 00 00 00|00 00 00 60) \tnop\n-.*:\t(06 10 00 01|01 00 10 06) \tpstfs   f2,66080\n+.*:\t(06 10 00 01|01 00 10 06) \tpstfs   f2,66080\t# .* <sym>\n .*:\t(d0 40 02 20|20 02 40 d0) \n .*:\t(60 00 00 00|00 00 00 60) \tnop\n .*:\t(60 00 00 00|00 00 00 60) \tnop\n-.*:\t(04 10 00 01|01 00 10 04) \tpstxsd  v30,66064\n+.*:\t(04 10 00 01|01 00 10 04) \tpstxsd  v30,66064\t# .* <sym>\n .*:\t(bb c0 02 10|10 02 c0 bb) \n .*:\t(60 00 00 00|00 00 00 60) \tnop\n-.*:\t(04 10 00 01|01 00 10 04) \tpstxssp v31,66052\n+.*:\t(04 10 00 01|01 00 10 04) \tpstxssp v31,66052\t# .* <sym>\n .*:\t(bf e0 02 04|04 02 e0 bf) \n .*:\t(60 00 00 00|00 00 00 60) \tnop\n-.*:\t(04 10 00 01|01 00 10 04) \tpstxv   vs63,66040\n+.*:\t(04 10 00 01|01 00 10 04) \tpstxv   vs63,66040\t# .* <sym>\n .*:\t(df e0 01 f8|f8 01 e0 df) \n .*:\t(60 00 00 00|00 00 00 60) \tnop\n-.*:\t(04 10 00 01|01 00 10 04) \tpstxv   vs0,66028\n+.*:\t(04 10 00 01|01 00 10 04) \tpstxv   vs0,66028\t# .* <sym>\n .*:\t(d8 00 01 ec|ec 01 00 d8) \n .*:\t(60 00 00 00|00 00 00 60) \tnop\n-.*:\t(06 10 00 01|01 00 10 06) \tplbz    r3,70676\n+.*:\t(06 10 00 01|01 00 10 06) \tplbz    r3,70676\t# 10011744\n .*:\t(88 60 14 14|14 14 60 88) \n .*:\t(60 00 00 00|00 00 00 60) \tnop\n .*:\t(60 00 00 00|00 00 00 60) \tnop\n-.*:\t(04 10 12 35|35 12 10 04) \tplq     r4,305485896\n+.*:\t(04 10 12 35|35 12 10 04) \tplq     r4,305485896\t# 22355b88\n .*:\t(e0 80 58 48|48 58 80 e0) \n .*:\t(07 00 00 00|00 00 00 07) \tpnop\n .*:\t(00 00 00 00|00 00 00 00) \n-.*:\t(04 10 00 01|01 00 10 04) \tpld     r9,65976\n+.*:\t(04 10 00 01|01 00 10 04) \tpld     r9,65976\t# 10010508 \\[i@got\\]\n .*:\t(e5 20 01 b8|b8 01 20 e5) \n .*:\t(e8 09 00 00|00 00 09 e8) \tld      r0,0\\(r9\\)\n-.*:\t(06 10 00 01|01 00 10 06) \tpla     r7,65972\n+.*:\t(06 10 00 01|01 00 10 06) \tpla     r7,65972\t# .* <sym>\n .*:\t(38 e0 01 b4|b4 01 e0 38) \n .*:\t(88 c7 00 00|00 00 c7 88) \tlbz     r6,0\\(r7\\)\n-.*:\t(04 10 00 01|01 00 10 04) \tplxvp   vs62,65960\n+.*:\t(04 10 00 01|01 00 10 04) \tplxvp   vs62,65960\t# .* <sym>\n .*:\t(eb e0 01 a8|a8 01 e0 eb) \n .*:\t(60 00 00 00|00 00 00 60) \tnop\n-.*:\t(04 10 00 01|01 00 10 04) \tplxvp   vs0,65948\n+.*:\t(04 10 00 01|01 00 10 04) \tplxvp   vs0,65948\t# .* <sym>\n .*:\t(e8 00 01 9c|9c 01 00 e8) \n .*:\t(60 00 00 00|00 00 00 60) \tnop\n-.*:\t(04 10 00 01|01 00 10 04) \tpstxvp  vs62,65936\n+.*:\t(04 10 00 01|01 00 10 04) \tpstxvp  vs62,65936\t# .* <sym>\n .*:\t(fb e0 01 90|90 01 e0 fb) \n .*:\t(60 00 00 00|00 00 00 60) \tnop\n-.*:\t(04 10 00 01|01 00 10 04) \tpstxvp  vs0,65924\n+.*:\t(04 10 00 01|01 00 10 04) \tpstxvp  vs0,65924\t# .* <sym>\n .*:\t(f8 00 01 84|84 01 00 f8) \n .*:\t(60 00 00 00|00 00 00 60) \tnop"
    },
    {
      "sha": "092724898f7950c1b5c6e6b16f817bc58cfcaa24",
      "filename": "ld/testsuite/ld-powerpc/startstop.d",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/ld/testsuite/ld-powerpc/startstop.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/ld/testsuite/ld-powerpc/startstop.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-powerpc/startstop.d?ref=c3f72de4f53bc3e5f13762633d78d8a7efb8dd79",
      "patch": "@@ -4,7 +4,7 @@\n Disassembly of section \\.text:\n \n 0+140 <_start>:\n- 140:\t(04 10 00 01|01 00 10 04) \tpld     r3,66000\n+ 140:\t(04 10 00 01|01 00 10 04) \tpld     r3,66000\t# 10310 \\[0@got\\]\n  144:\t(e4 60 01 d0|d0 01 60 e4) \n- 148:\t(04 10 00 01|01 00 10 04) \tpld     r4,65984\n+ 148:\t(04 10 00 01|01 00 10 04) \tpld     r4,65984\t# 10308 \\[0@got\\]\n  14c:\t(e4 80 01 c0|c0 01 80 e4) "
    },
    {
      "sha": "31ee8482d9e4da3c572885ed9660a91637d4848e",
      "filename": "ld/testsuite/ld-powerpc/tlsget.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/ld/testsuite/ld-powerpc/tlsget.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/ld/testsuite/ld-powerpc/tlsget.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-powerpc/tlsget.d?ref=c3f72de4f53bc3e5f13762633d78d8a7efb8dd79",
      "patch": "@@ -64,7 +64,7 @@ Disassembly of section \\.text:\n .*:\t(e8 41 00 18|18 00 41 e8) \tld      r2,24\\(r1\\)\n \n .* <fun>:\n-.*:\t(06 10 00 00|00 00 10 06) \tpla     r3,8\n+.*:\t(06 10 00 00|00 00 10 06) \tpla     r3,8.*\n .*:\t(38 60 00 08|08 00 60 38) \n .*:\t(4e 80 00 20|20 00 80 4e) \tblr\n .*:\t(60 00 00 00|00 00 00 60) \tnop"
    },
    {
      "sha": "03798075942ea65cb610467392816dd931d9b309",
      "filename": "ld/testsuite/ld-powerpc/tlsget2.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/ld/testsuite/ld-powerpc/tlsget2.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/ld/testsuite/ld-powerpc/tlsget2.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-powerpc/tlsget2.d?ref=c3f72de4f53bc3e5f13762633d78d8a7efb8dd79",
      "patch": "@@ -50,7 +50,7 @@ Disassembly of section \\.text:\n .*:\t(e8 41 00 18|18 00 41 e8) \tld      r2,24\\(r1\\)\n \n .* <fun>:\n-.*:\t(06 10 00 00|00 00 10 06) \tpla     r3,8\n+.*:\t(06 10 00 00|00 00 10 06) \tpla     r3,8.*\n .*:\t(38 60 00 08|08 00 60 38) \n .*:\t(4e 80 00 20|20 00 80 4e) \tblr\n .*:\t(60 00 00 00|00 00 00 60) \tnop"
    },
    {
      "sha": "b62328ce5108a15765a7a4ec78bceeea3841902a",
      "filename": "ld/testsuite/ld-powerpc/tlsld.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/ld/testsuite/ld-powerpc/tlsld.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/ld/testsuite/ld-powerpc/tlsld.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-powerpc/tlsld.d?ref=c3f72de4f53bc3e5f13762633d78d8a7efb8dd79",
      "patch": "@@ -20,7 +20,7 @@ Disassembly of section \\.text:\n .*:\t(60 00 00 00|00 00 00 60) \tnop\n .*:\t(06 03 ff ff|ff ff 03 06) \tpaddi   r9,r3,-32728\n .*:\t(39 23 80 28|28 80 23 39) \n-.*:\t(04 10 00 01|01 00 10 04) \tpld     r10,65784\n+.*:\t(04 10 00 01|01 00 10 04) \tpld     r10,65784\t# 10010228 \\[f+8030@got\\]\n .*:\t(e5 40 00 f8|f8 00 40 e5) \n .*:\t(7d 4a 1a 14|14 1a 4a 7d) \tadd     r10,r10,r3\n .*:\t(60 00 00 00|00 00 00 60) \tnop"
    },
    {
      "sha": "dcb24f490e9dedea2280168ac68e91e6abc98a8a",
      "filename": "ld/testsuite/ld-powerpc/weak1.d",
      "status": "modified",
      "additions": 4,
      "deletions": 4,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/ld/testsuite/ld-powerpc/weak1.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/ld/testsuite/ld-powerpc/weak1.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-powerpc/weak1.d?ref=c3f72de4f53bc3e5f13762633d78d8a7efb8dd79",
      "patch": "@@ -4,13 +4,13 @@\n Disassembly of section \\.text:\n \n .*0c0 <_start>:\n-.*0c0:\t(04 10 00 01|01 00 10 04) \tpld     r3,65888\n+.*0c0:\t(04 10 00 01|01 00 10 04) \tpld     r3,65888\t# 10010220 \\[0@got\\]\n .*0c4:\t(e4 60 01 60|60 01 60 e4) \n-.*0c8:\t(04 10 00 01|01 00 10 04) \tpld     r3,65856\n+.*0c8:\t(04 10 00 01|01 00 10 04) \tpld     r3,65856\t# 10010208 \\[0@got\\]\n .*0cc:\t(e4 60 01 40|40 01 60 e4) \n-.*0d0:\t(04 10 00 01|01 00 10 04) \tpld     r3,65864\n+.*0d0:\t(04 10 00 01|01 00 10 04) \tpld     r3,65864\t# 10010218 \\[0@got\\]\n .*0d4:\t(e4 60 01 48|48 01 60 e4) \n-.*0d8:\t(04 10 00 01|01 00 10 04) \tpld     r3,65848\n+.*0d8:\t(04 10 00 01|01 00 10 04) \tpld     r3,65848\t# 10010210 \\[0@got\\]\n .*0dc:\t(e4 60 01 38|38 01 60 e4) \n .*0e0:\t(e8 62 80 20|20 80 62 e8) \tld      r3,-32736\\(r2\\)\n .*0e4:\t(e8 62 80 08|08 80 62 e8) \tld      r3,-32760\\(r2\\)"
    },
    {
      "sha": "30bbdf95be21ded67f6aa75e80a223571ec8c7af",
      "filename": "ld/testsuite/ld-powerpc/weak1so.d",
      "status": "modified",
      "additions": 4,
      "deletions": 4,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/ld/testsuite/ld-powerpc/weak1so.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/ld/testsuite/ld-powerpc/weak1so.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-powerpc/weak1so.d?ref=c3f72de4f53bc3e5f13762633d78d8a7efb8dd79",
      "patch": "@@ -4,13 +4,13 @@\n Disassembly of section \\.text:\n \n 0+1c0 <_start>:\n- 1c0:\t(04 10 00 01|01 00 10 04) \tpld     r3,66144\n+ 1c0:\t(04 10 00 01|01 00 10 04) \tpld     r3,66144\t# 10420 \\[x1@got\\]\n  1c4:\t(e4 60 02 60|60 02 60 e4) \n- 1c8:\t(04 10 00 01|01 00 10 04) \tpld     r3,66112\n+ 1c8:\t(04 10 00 01|01 00 10 04) \tpld     r3,66112\t# 10408 \\[0@got\\]\n  1cc:\t(e4 60 02 40|40 02 60 e4) \n- 1d0:\t(04 10 00 01|01 00 10 04) \tpld     r3,66120\n+ 1d0:\t(04 10 00 01|01 00 10 04) \tpld     r3,66120\t# 10418 \\[0@got\\]\n  1d4:\t(e4 60 02 48|48 02 60 e4) \n- 1d8:\t(04 10 00 01|01 00 10 04) \tpld     r3,66104\n+ 1d8:\t(04 10 00 01|01 00 10 04) \tpld     r3,66104\t# 10410 \\[0@got\\]\n  1dc:\t(e4 60 02 38|38 02 60 e4) \n  1e0:\t(e8 62 80 20|20 80 62 e8) \tld      r3,-32736\\(r2\\)\n  1e4:\t(e8 62 80 08|08 80 62 e8) \tld      r3,-32760\\(r2\\)"
    },
    {
      "sha": "f6c5eefd4fc1103d4079df0015bf0e46a9050c9c",
      "filename": "opcodes/ChangeLog",
      "status": "modified",
      "additions": 12,
      "deletions": 0,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/opcodes/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/opcodes/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/ChangeLog?ref=c3f72de4f53bc3e5f13762633d78d8a7efb8dd79",
      "patch": "@@ -1,3 +1,15 @@\n+2021-04-09  Alan Modra  <amodra@gmail.com>\n+\n+\t* ppc-dis.c (struct dis_private): Add \"special\".\n+\t(POWERPC_DIALECT): Delete.  Replace uses with..\n+\t(private_data): ..this.  New inline function.\n+\t(disassemble_init_powerpc): Init \"special\" names.\n+\t(skip_optional_operands): Add is_pcrel arg, set when detecting R\n+\tfield of prefix instructions.\n+\t(bsearch_reloc, print_got_plt): New functions.\n+\t(print_insn_powerpc): For pcrel instructions, print target address\n+\tand symbol if known, and decode plt and got loads too.\n+\n 2021-04-08  Alan Modra  <amodra@gmail.com>\n \n \tPR 27684"
    },
    {
      "sha": "739195a99107ac84a1ddc0f8e8b59124ed710ea9",
      "filename": "opcodes/ppc-dis.c",
      "status": "modified",
      "additions": 131,
      "deletions": 10,
      "changes": 141,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/opcodes/ppc-dis.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c3f72de4f53bc3e5f13762633d78d8a7efb8dd79/opcodes/ppc-dis.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/ppc-dis.c?ref=c3f72de4f53bc3e5f13762633d78d8a7efb8dd79",
      "patch": "@@ -40,10 +40,20 @@ struct dis_private\n {\n   /* Stash the result of parsing disassembler_options here.  */\n   ppc_cpu_t dialect;\n+\n+  /* .got and .plt sections.  NAME is set to NULL if not present.  */\n+  struct sec_buf {\n+    asection *sec;\n+    bfd_byte *buf;\n+    const char *name;\n+  } special[2];\n };\n \n-#define POWERPC_DIALECT(INFO) \\\n-  (((struct dis_private *) ((INFO)->private_data))->dialect)\n+static inline struct dis_private *\n+private_data (struct disassemble_info *info)\n+{\n+  return (struct dis_private *) info->private_data;\n+}\n \n struct ppc_mopt {\n   /* Option string, without -m or -M prefix.  */\n@@ -270,7 +280,7 @@ get_powerpc_dialect (struct disassemble_info *info)\n   ppc_cpu_t dialect = 0;\n \n   if (info->private_data)\n-    dialect = POWERPC_DIALECT (info);\n+    dialect = private_data (info)->dialect;\n \n   /* Disassemble according to the section headers flags for VLE-mode.  */\n   if (dialect & PPC_OPCODE_VLE\n@@ -387,7 +397,7 @@ powerpc_init_dialect (struct disassemble_info *info)\n     }\n \n   info->private_data = priv;\n-  POWERPC_DIALECT(info) = dialect;\n+  private_data (info)->dialect = dialect;\n }\n \n #define PPC_OPCD_SEGS (1 + PPC_OP (-1))\n@@ -409,7 +419,7 @@ ppc_symbol_is_valid (asymbol *sym,\n     return false;\n \n   est = elf_symbol_from (sym);\n-  \n+\n   /* Ignore ELF hidden, local, no-type symbols.\n      These are generated by annobin.  */\n   if (est != NULL\n@@ -477,6 +487,11 @@ disassemble_init_powerpc (struct disassemble_info *info)\n     }\n \n   powerpc_init_dialect (info);\n+  if (info->private_data != NULL)\n+    {\n+      private_data (info)->special[0].name = \".got\";\n+      private_data (info)->special[1].name = \".plt\";\n+    }\n }\n \n /* Print a big endian PowerPC instruction.  */\n@@ -532,7 +547,7 @@ operand_value_powerpc (const struct powerpc_operand *operand,\n \n static bool\n skip_optional_operands (const unsigned char *opindex,\n-\t\t\tuint64_t insn, ppc_cpu_t dialect)\n+\t\t\tuint64_t insn, ppc_cpu_t dialect, bool *is_pcrel)\n {\n   const struct powerpc_operand *operand;\n   int num_optional;\n@@ -544,11 +559,15 @@ skip_optional_operands (const unsigned char *opindex,\n \treturn false;\n       if ((operand->flags & PPC_OPERAND_OPTIONAL) != 0)\n \t{\n+\t  int64_t value = operand_value_powerpc (operand, insn, dialect);\n+\n+\t  if (operand->shift == 52)\n+\t    *is_pcrel = value != 0;\n+\n \t  /* Negative count is used as a flag to extract function.  */\n \t  --num_optional;\n-\t  if (operand_value_powerpc (operand, insn, dialect)\n-\t      != ppc_optional_operand_value (operand, insn, dialect,\n-\t\t\t\t\t     num_optional))\n+\t  if (value != ppc_optional_operand_value (operand, insn, dialect,\n+\t\t\t\t\t\t   num_optional))\n \t    return false;\n \t}\n     }\n@@ -764,6 +783,75 @@ lookup_spe2 (uint64_t insn)\n   return NULL;\n }\n \n+static arelent *\n+bsearch_reloc (arelent **lo, arelent **hi, bfd_vma vma)\n+{\n+  while (lo < hi)\n+    {\n+      arelent **mid = lo + (hi - lo) / 2;\n+      arelent *rel = *mid;\n+\n+      if (vma < rel->address)\n+\thi = mid;\n+      else if (vma > rel->address)\n+\tlo = mid + 1;\n+      else\n+\treturn rel;\n+    }\n+  return NULL;\n+}\n+\n+static bool\n+print_got_plt (struct sec_buf *sb, uint64_t vma, struct disassemble_info *info)\n+{\n+  if (sb->name != NULL)\n+    {\n+      asection *s = sb->sec;\n+      if (s == NULL)\n+\t{\n+\t  s = bfd_get_section_by_name (info->section->owner, sb->name);\n+\t  sb->sec = s;\n+\t  if (s == NULL)\n+\t    sb->name = NULL;\n+\t}\n+      if (s != NULL\n+\t  && vma >= s->vma\n+\t  && vma < s->vma + s->size)\n+\t{\n+\t  asymbol *sym = NULL;\n+\t  uint64_t ent = 0;\n+\t  if (info->dynrelcount > 0)\n+\t    {\n+\t      arelent **lo = info->dynrelbuf;\n+\t      arelent **hi = lo + info->dynrelcount;\n+\t      arelent *rel = bsearch_reloc (lo, hi, vma);\n+\t      if (rel != NULL && rel->sym_ptr_ptr != NULL)\n+\t\tsym = *rel->sym_ptr_ptr;\n+\t    }\n+\t  if (sym == NULL && (s->flags & SEC_HAS_CONTENTS) != 0)\n+\t    {\n+\t      if (sb->buf == NULL\n+\t\t  && !bfd_malloc_and_get_section (s->owner, s, &sb->buf))\n+\t\tsb->name = NULL;\n+\t      if (sb->buf != NULL)\n+\t\t{\n+\t\t  ent = bfd_get_64 (s->owner, sb->buf + (vma - s->vma));\n+\t\t  if (ent != 0)\n+\t\t    sym = (*info->symbol_at_address_func) (ent, info);\n+\t\t}\n+\t    }\n+\t  if (sym != NULL)\n+\t    (*info->fprintf_func) (info->stream, \" [%s@%s]\",\n+\t\t\t\t   bfd_asymbol_name (sym), sb->name + 1);\n+\t  else\n+\t    (*info->fprintf_func) (info->stream, \" [%\" PRIx64 \"@%s]\",\n+\t\t\t\t   ent, sb->name + 1);\n+\t  return true;\n+\t}\n+    }\n+  return false;\n+}\n+\n /* Print a PowerPC or POWER instruction.  */\n \n static int\n@@ -862,6 +950,8 @@ print_insn_powerpc (bfd_vma memaddr,\n \tneed_paren\n       } op_separator;\n       bool skip_optional;\n+      bool is_pcrel;\n+      uint64_t d34;\n       int blanks;\n \n       (*info->fprintf_func) (info->stream, \"%s\", opcode->name);\n@@ -873,6 +963,8 @@ print_insn_powerpc (bfd_vma memaddr,\n       /* Now extract and print the operands.  */\n       op_separator = blanks;\n       skip_optional = false;\n+      is_pcrel = false;\n+      d34 = 0;\n       for (opindex = opcode->operands; *opindex != 0; opindex++)\n \t{\n \t  int64_t value;\n@@ -886,7 +978,8 @@ print_insn_powerpc (bfd_vma memaddr,\n \t      && (dialect & PPC_OPCODE_RAW) == 0)\n \t    {\n \t      if (!skip_optional)\n-\t\tskip_optional = skip_optional_operands (opindex, insn, dialect);\n+\t\tskip_optional = skip_optional_operands (opindex, insn,\n+\t\t\t\t\t\t\tdialect, &is_pcrel);\n \t      if (skip_optional)\n \t\tcontinue;\n \t    }\n@@ -945,6 +1038,11 @@ print_insn_powerpc (bfd_vma memaddr,\n \t  else\n \t    (*info->fprintf_func) (info->stream, \"%\" PRId64, value);\n \n+\t  if (operand->shift == 52)\n+\t    is_pcrel = value != 0;\n+\t  else if (operand->bitm == UINT64_C (0x3ffffffff))\n+\t    d34 = value;\n+\n \t  if (op_separator == need_paren)\n \t    (*info->fprintf_func) (info->stream, \")\");\n \n@@ -953,6 +1051,29 @@ print_insn_powerpc (bfd_vma memaddr,\n \t    op_separator = need_paren;\n \t}\n \n+      if (is_pcrel)\n+\t{\n+\t  d34 += memaddr;\n+\t  (*info->fprintf_func) (info->stream, \"\\t# %\" PRIx64, d34);\n+\t  asymbol *sym = (*info->symbol_at_address_func) (d34, info);\n+\t  if (sym)\n+\t    (*info->fprintf_func) (info->stream, \" <%s>\",\n+\t\t\t\t   bfd_asymbol_name (sym));\n+\n+\t  if (info->private_data != NULL\n+\t      && info->section != NULL\n+\t      && info->section->owner != NULL\n+\t      && (bfd_get_file_flags (info->section->owner)\n+\t\t  & (EXEC_P | DYNAMIC)) != 0\n+\t      && ((insn & ((-1ULL << 50) | (0x3fULL << 26)))\n+\t\t  == ((1ULL << 58) | (1ULL << 52) | (57ULL << 26)) /* pld */))\n+\t    {\n+\t      for (int i = 0; i < 2; i++)\n+\t\tif (print_got_plt (private_data (info)->special + i, d34, info))\n+\t\t  break;\n+\t    }\n+\t}\n+\n       /* We have found and printed an instruction.  */\n       return insn_length;\n     }"
    }
  ]
}