{
  "sha": "2526e0cd95c9395bf8edee662fa1f4ea1ecd6023",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MjUyNmUwY2Q5NWM5Mzk1YmY4ZWRlZTY2MmZhMWY0ZWExZWNkNjAyMw==",
  "commit": {
    "author": {
      "name": "Tankut Baris Aktemur",
      "email": "tankut.baris.aktemur@intel.com",
      "date": "2020-02-17T15:12:01Z"
    },
    "committer": {
      "name": "Tankut Baris Aktemur",
      "email": "tankut.baris.aktemur@intel.com",
      "date": "2020-02-20T16:35:17Z"
    },
    "message": "gdbserver: turn target op 'supports_range_stepping' into a method\n\ngdbserver/ChangeLog:\n2020-02-20  Tankut Baris Aktemur  <tankut.baris.aktemur@intel.com>\n\n\tTurn process_stratum_target's supports_range_stepping op into a\n\tmethod of process_target.\n\n\t* target.h (struct process_stratum_target): Remove the target op.\n\t(class process_target): Add the target op.\n\t(target_supports_range_stepping): Update the macro.\n\t* target.cc (process_target::supports_range_stepping): Define.\n\n\tUpdate the derived classes and callers below.\n\n\t* linux-low.cc (linux_target_ops): Update.\n\t(linux_supports_range_stepping): Turn into ...\n\t(linux_process_target::supports_range_stepping): ... this.\n\t* linux-low.h (class linux_process_target): Update.\n\t* lynx-low.cc (lynx_target_ops): Update.\n\t* nto-low.cc (nto_target_ops): Update.\n\t* win32-low.cc (win32_target_ops): Update.",
    "tree": {
      "sha": "e5f20646b88aa35be295ea587c0c525fa9dada9b",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/e5f20646b88aa35be295ea587c0c525fa9dada9b"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/2526e0cd95c9395bf8edee662fa1f4ea1ecd6023",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/2526e0cd95c9395bf8edee662fa1f4ea1ecd6023",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/2526e0cd95c9395bf8edee662fa1f4ea1ecd6023",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/2526e0cd95c9395bf8edee662fa1f4ea1ecd6023/comments",
  "author": {
    "login": "barisaktemur",
    "id": 55686642,
    "node_id": "MDQ6VXNlcjU1Njg2NjQy",
    "avatar_url": "https://avatars.githubusercontent.com/u/55686642?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/barisaktemur",
    "html_url": "https://github.com/barisaktemur",
    "followers_url": "https://api.github.com/users/barisaktemur/followers",
    "following_url": "https://api.github.com/users/barisaktemur/following{/other_user}",
    "gists_url": "https://api.github.com/users/barisaktemur/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/barisaktemur/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/barisaktemur/subscriptions",
    "organizations_url": "https://api.github.com/users/barisaktemur/orgs",
    "repos_url": "https://api.github.com/users/barisaktemur/repos",
    "events_url": "https://api.github.com/users/barisaktemur/events{/privacy}",
    "received_events_url": "https://api.github.com/users/barisaktemur/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "barisaktemur",
    "id": 55686642,
    "node_id": "MDQ6VXNlcjU1Njg2NjQy",
    "avatar_url": "https://avatars.githubusercontent.com/u/55686642?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/barisaktemur",
    "html_url": "https://github.com/barisaktemur",
    "followers_url": "https://api.github.com/users/barisaktemur/followers",
    "following_url": "https://api.github.com/users/barisaktemur/following{/other_user}",
    "gists_url": "https://api.github.com/users/barisaktemur/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/barisaktemur/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/barisaktemur/subscriptions",
    "organizations_url": "https://api.github.com/users/barisaktemur/orgs",
    "repos_url": "https://api.github.com/users/barisaktemur/repos",
    "events_url": "https://api.github.com/users/barisaktemur/events{/privacy}",
    "received_events_url": "https://api.github.com/users/barisaktemur/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "79597bdd56f380555ed7075b39a9280a17bd7e90",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/79597bdd56f380555ed7075b39a9280a17bd7e90",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/79597bdd56f380555ed7075b39a9280a17bd7e90"
    }
  ],
  "stats": {
    "total": 49,
    "additions": 36,
    "deletions": 13
  },
  "files": [
    {
      "sha": "cd5ef1d1adc9d3224a5367fbede8d22d363383b2",
      "filename": "gdbserver/ChangeLog",
      "status": "modified",
      "additions": 20,
      "deletions": 0,
      "changes": 20,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2526e0cd95c9395bf8edee662fa1f4ea1ecd6023/gdbserver/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2526e0cd95c9395bf8edee662fa1f4ea1ecd6023/gdbserver/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/ChangeLog?ref=2526e0cd95c9395bf8edee662fa1f4ea1ecd6023",
      "patch": "@@ -1,3 +1,23 @@\n+2020-02-20  Tankut Baris Aktemur  <tankut.baris.aktemur@intel.com>\n+\n+\tTurn process_stratum_target's supports_range_stepping op into a\n+\tmethod of process_target.\n+\n+\t* target.h (struct process_stratum_target): Remove the target op.\n+\t(class process_target): Add the target op.\n+\t(target_supports_range_stepping): Update the macro.\n+\t* target.cc (process_target::supports_range_stepping): Define.\n+\n+\tUpdate the derived classes and callers below.\n+\n+\t* linux-low.cc (linux_target_ops): Update.\n+\t(linux_supports_range_stepping): Turn into ...\n+\t(linux_process_target::supports_range_stepping): ... this.\n+\t* linux-low.h (class linux_process_target): Update.\n+\t* lynx-low.cc (lynx_target_ops): Update.\n+\t* nto-low.cc (nto_target_ops): Update.\n+\t* win32-low.cc (win32_target_ops): Update.\n+\n 2020-02-20  Tankut Baris Aktemur  <tankut.baris.aktemur@intel.com>\n \n \tTurn process_stratum_target's btrace-related ops (enable_btrace,"
    },
    {
      "sha": "b78079903133dff67f98b387bcbbafaceda9d2be",
      "filename": "gdbserver/linux-low.cc",
      "status": "modified",
      "additions": 4,
      "deletions": 5,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2526e0cd95c9395bf8edee662fa1f4ea1ecd6023/gdbserver/linux-low.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2526e0cd95c9395bf8edee662fa1f4ea1ecd6023/gdbserver/linux-low.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/linux-low.cc?ref=2526e0cd95c9395bf8edee662fa1f4ea1ecd6023",
      "patch": "@@ -6430,13 +6430,13 @@ linux_process_target::supports_agent ()\n   return true;\n }\n \n-static int\n-linux_supports_range_stepping (void)\n+bool\n+linux_process_target::supports_range_stepping ()\n {\n   if (can_software_single_step ())\n-    return 1;\n+    return true;\n   if (*the_low_target.supports_range_stepping == NULL)\n-    return 0;\n+    return false;\n \n   return (*the_low_target.supports_range_stepping) ();\n }\n@@ -7471,7 +7471,6 @@ linux_get_hwcap2 (int wordsize)\n static linux_process_target the_linux_target;\n \n static process_stratum_target linux_target_ops = {\n-  linux_supports_range_stepping,\n   linux_proc_pid_to_exec_file,\n   linux_mntns_open_cloexec,\n   linux_mntns_unlink,"
    },
    {
      "sha": "f47d9ed816ff166e4180452f2ba721b588276f1a",
      "filename": "gdbserver/linux-low.h",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2526e0cd95c9395bf8edee662fa1f4ea1ecd6023/gdbserver/linux-low.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2526e0cd95c9395bf8edee662fa1f4ea1ecd6023/gdbserver/linux-low.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/linux-low.h?ref=2526e0cd95c9395bf8edee662fa1f4ea1ecd6023",
      "patch": "@@ -446,6 +446,8 @@ class linux_process_target : public process_target\n   int read_btrace_conf (const btrace_target_info *tinfo,\n \t\t\tbuffer *buf) override;\n #endif\n+\n+  bool supports_range_stepping () override;\n };\n \n #define get_thread_lwp(thr) ((struct lwp_info *) (thread_target_data (thr)))"
    },
    {
      "sha": "854037a631b6addeb64821e3949a643e6529e565",
      "filename": "gdbserver/lynx-low.cc",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2526e0cd95c9395bf8edee662fa1f4ea1ecd6023/gdbserver/lynx-low.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2526e0cd95c9395bf8edee662fa1f4ea1ecd6023/gdbserver/lynx-low.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/lynx-low.cc?ref=2526e0cd95c9395bf8edee662fa1f4ea1ecd6023",
      "patch": "@@ -735,7 +735,6 @@ static lynx_process_target the_lynx_target;\n /* The LynxOS target_ops vector.  */\n \n static process_stratum_target lynx_target_ops = {\n-  NULL,  /* supports_range_stepping */\n   NULL,  /* pid_to_exec_file */\n   NULL,  /* multifs_open */\n   NULL,  /* multifs_unlink */"
    },
    {
      "sha": "3532aa460f02da6b26dd194b27e415b3aba1c0a4",
      "filename": "gdbserver/nto-low.cc",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2526e0cd95c9395bf8edee662fa1f4ea1ecd6023/gdbserver/nto-low.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2526e0cd95c9395bf8edee662fa1f4ea1ecd6023/gdbserver/nto-low.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/nto-low.cc?ref=2526e0cd95c9395bf8edee662fa1f4ea1ecd6023",
      "patch": "@@ -947,7 +947,6 @@ nto_sw_breakpoint_from_kind (int kind, int *size)\n static nto_process_target the_nto_target;\n \n static process_stratum_target nto_target_ops = {\n-  NULL, /* supports_range_stepping */\n   NULL, /* pid_to_exec_file */\n   NULL, /* multifs_open */\n   NULL, /* multifs_unlink */"
    },
    {
      "sha": "8739ba864f8a652c1cfd97dd26e384e2d4f7eb61",
      "filename": "gdbserver/target.cc",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2526e0cd95c9395bf8edee662fa1f4ea1ecd6023/gdbserver/target.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2526e0cd95c9395bf8edee662fa1f4ea1ecd6023/gdbserver/target.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/target.cc?ref=2526e0cd95c9395bf8edee662fa1f4ea1ecd6023",
      "patch": "@@ -753,3 +753,9 @@ process_target::read_btrace_conf (const btrace_target_info *tinfo,\n {\n   error (_(\"Target does not support branch tracing.\"));\n }\n+\n+bool\n+process_target::supports_range_stepping ()\n+{\n+  return false;\n+}"
    },
    {
      "sha": "cdb3c1194330557f42d9746b5f6831376192ab06",
      "filename": "gdbserver/target.h",
      "status": "modified",
      "additions": 4,
      "deletions": 5,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2526e0cd95c9395bf8edee662fa1f4ea1ecd6023/gdbserver/target.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2526e0cd95c9395bf8edee662fa1f4ea1ecd6023/gdbserver/target.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/target.h?ref=2526e0cd95c9395bf8edee662fa1f4ea1ecd6023",
      "patch": "@@ -70,9 +70,6 @@ class process_target;\n    shared code.  */\n struct process_stratum_target\n {\n-  /* Return true if target supports range stepping.  */\n-  int (*supports_range_stepping) (void);\n-\n   /* Return the full absolute name of the executable file that was\n      run to create the process PID.  If the executable file cannot\n      be determined, NULL is returned.  Otherwise, a pointer to a\n@@ -498,6 +495,9 @@ class process_target\n      otherwise.  */\n   virtual int read_btrace_conf (const btrace_target_info *tinfo,\n \t\t\t\tbuffer *buf);\n+\n+  /* Return true if target supports range stepping.  */\n+  virtual bool supports_range_stepping ();\n };\n \n extern process_stratum_target *the_target;\n@@ -638,8 +638,7 @@ target_read_btrace_conf (struct btrace_target_info *tinfo,\n }\n \n #define target_supports_range_stepping() \\\n-  (the_target->supports_range_stepping ? \\\n-   (*the_target->supports_range_stepping) () : 0)\n+  the_target->pt->supports_range_stepping ()\n \n #define target_supports_stopped_by_sw_breakpoint() \\\n   the_target->pt->supports_stopped_by_sw_breakpoint ()"
    },
    {
      "sha": "b270745275fa219fd0cebb5eb7480238c7ee5514",
      "filename": "gdbserver/win32-low.cc",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2526e0cd95c9395bf8edee662fa1f4ea1ecd6023/gdbserver/win32-low.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2526e0cd95c9395bf8edee662fa1f4ea1ecd6023/gdbserver/win32-low.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/win32-low.cc?ref=2526e0cd95c9395bf8edee662fa1f4ea1ecd6023",
      "patch": "@@ -1858,7 +1858,6 @@ win32_sw_breakpoint_from_kind (int kind, int *size)\n static win32_process_target the_win32_target;\n \n static process_stratum_target win32_target_ops = {\n-  NULL, /* supports_range_stepping */\n   NULL, /* pid_to_exec_file */\n   NULL, /* multifs_open */\n   NULL, /* multifs_unlink */"
    }
  ]
}