{
  "sha": "f4a0f710aefbe16ed45a7c0bfd9b5ab9858d1275",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ZjRhMGY3MTBhZWZiZTE2ZWQ0NWE3YzBiZmQ5YjVhYjk4NThkMTI3NQ==",
  "commit": {
    "author": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2020-10-12T01:02:21Z"
    },
    "committer": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2020-10-12T21:45:32Z"
    },
    "message": "Re: gdb: Improve formatting of 'show architecture' messages\n\nCommit ccb9eba6a25 updated the testsuite for some targets without\nrunning the testsuite on those targets.  This patch corrects the\nupdate, in most cases just adding the expected full-stop.\n\nOn powerpc64le-linux, fixes these:\nFAIL: gdb.arch/powerpc-d128-regs.exp: checking for PPC arch\nFAIL: gdb.arch/powerpc-disassembler-options.exp: set architecture powerpc:common64\nFAIL: gdb.arch/powerpc-disassembler-options.exp: set architecture rs6000:6000\nFAIL: gdb.arch/ppc64-symtab-cordic.exp: show architecture\n\nI also verified that arm-linuxeabi and s390x-linux cross-builds now\npass their disassembler-options.exp tests.\n\n\t* gdb.arch/arm-disassembler-options.exp: Adjust expected\n\t\"target architecture\" output.\n\t* gdb.arch/powerpc-d128-regs.exp: Likewise.\n\t* gdb.arch/powerpc-disassembler-options.exp: Likewise.\n\t* gdb.arch/ppc64-symtab-cordic.exp: Likewise.\n\t* gdb.arch/s390-disassembler-options.exp: Likewise.",
    "tree": {
      "sha": "06577a31a8cb07c70d32f28233ce1498c975378f",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/06577a31a8cb07c70d32f28233ce1498c975378f"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/f4a0f710aefbe16ed45a7c0bfd9b5ab9858d1275",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/f4a0f710aefbe16ed45a7c0bfd9b5ab9858d1275",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/f4a0f710aefbe16ed45a7c0bfd9b5ab9858d1275",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/f4a0f710aefbe16ed45a7c0bfd9b5ab9858d1275/comments",
  "author": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "87a37e5e078f506fa9905b74e9238593c537fcd5",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/87a37e5e078f506fa9905b74e9238593c537fcd5",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/87a37e5e078f506fa9905b74e9238593c537fcd5"
    }
  ],
  "stats": {
    "total": 27,
    "additions": 18,
    "deletions": 9
  },
  "files": [
    {
      "sha": "59310fe08bc872b8cb01fcbd5cced544e8b95e66",
      "filename": "gdb/testsuite/ChangeLog",
      "status": "modified",
      "additions": 9,
      "deletions": 0,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f4a0f710aefbe16ed45a7c0bfd9b5ab9858d1275/gdb/testsuite/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f4a0f710aefbe16ed45a7c0bfd9b5ab9858d1275/gdb/testsuite/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/ChangeLog?ref=f4a0f710aefbe16ed45a7c0bfd9b5ab9858d1275",
      "patch": "@@ -1,3 +1,12 @@\n+2020-10-13  Alan Modra  <amodra@gmail.com>\n+\n+\t* gdb.arch/arm-disassembler-options.exp: Adjust expected\n+\t\"target architecture\" output.\n+\t* gdb.arch/powerpc-d128-regs.exp: Likewise.\n+\t* gdb.arch/powerpc-disassembler-options.exp: Likewise.\n+\t* gdb.arch/ppc64-symtab-cordic.exp: Likewise.\n+\t* gdb.arch/s390-disassembler-options.exp: Likewise.\n+\n 2020-10-12  Pedro Alves  <pedro@palves.net>\n \n \tPR exp/26602"
    },
    {
      "sha": "a3c0c0e5f8bbcfabbe89c62d05271ce650ce3975",
      "filename": "gdb/testsuite/gdb.arch/arm-disassembler-options.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f4a0f710aefbe16ed45a7c0bfd9b5ab9858d1275/gdb/testsuite/gdb.arch/arm-disassembler-options.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f4a0f710aefbe16ed45a7c0bfd9b5ab9858d1275/gdb/testsuite/gdb.arch/arm-disassembler-options.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.arch/arm-disassembler-options.exp?ref=f4a0f710aefbe16ed45a7c0bfd9b5ab9858d1275",
      "patch": "@@ -31,7 +31,7 @@ set arch1 \"armv2\"\n set arch2 \"armv5\"\n \n gdb_test \"set architecture $arch1\" \\\n-\t\"The target architecture is set to \\\"$arch1\\\"\" \\\n+\t\"The target architecture is set to \\\"$arch1\\\"\\.\" \\\n \t\"set architecture $arch1\"\n \n gdb_test_no_output \"set disassembler-options\"\n@@ -47,7 +47,7 @@ gdb_test \"show disassembler-options\" \\\n # Change architectures and verify the disassembler options have been preserved.\n \n gdb_test \"set architecture $arch2\" \\\n-\t\"The target architecture is set to \\\"$arch2\\\"\" \\\n+\t\"The target architecture is set to \\\"$arch2\\\"\\.\" \\\n \t\"set architecture $arch2\"\n \n gdb_test \"show disassembler-options\" \\"
    },
    {
      "sha": "cd96029fe85808d6560661d199bccf80c91fa803",
      "filename": "gdb/testsuite/gdb.arch/powerpc-d128-regs.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f4a0f710aefbe16ed45a7c0bfd9b5ab9858d1275/gdb/testsuite/gdb.arch/powerpc-d128-regs.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f4a0f710aefbe16ed45a7c0bfd9b5ab9858d1275/gdb/testsuite/gdb.arch/powerpc-d128-regs.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.arch/powerpc-d128-regs.exp?ref=f4a0f710aefbe16ed45a7c0bfd9b5ab9858d1275",
      "patch": "@@ -44,7 +44,7 @@ if { ![runto main] } then {\n    return\n }\n \n-if [gdb_test \"show arch\" \".*currently powerpc:common.*\" \"checking for PPC arch\"] {\n+if [gdb_test \"show arch\" \".*powerpc:common.*\" \"checking for PPC arch\"] {\n     return -1\n }\n "
    },
    {
      "sha": "9b3f8309fe8a04fca4af95c3496e1e53d0d20c95",
      "filename": "gdb/testsuite/gdb.arch/powerpc-disassembler-options.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f4a0f710aefbe16ed45a7c0bfd9b5ab9858d1275/gdb/testsuite/gdb.arch/powerpc-disassembler-options.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f4a0f710aefbe16ed45a7c0bfd9b5ab9858d1275/gdb/testsuite/gdb.arch/powerpc-disassembler-options.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.arch/powerpc-disassembler-options.exp?ref=f4a0f710aefbe16ed45a7c0bfd9b5ab9858d1275",
      "patch": "@@ -31,7 +31,7 @@ set arch1 \"rs6000:6000\"\n set arch2 \"powerpc:common64\"\n \n gdb_test \"set architecture $arch1\" \\\n-\t\"The target architecture is set to \\\"$arch1\\\"\" \\\n+\t\"The target architecture is set to \\\"$arch1\\\"\\.\" \\\n \t\"set architecture $arch1\"\n \n gdb_test_no_output \"set disassembler-options\"\n@@ -47,7 +47,7 @@ gdb_test \"show disassembler-options\" \\\n # Change architectures and verify the disassembler options have been preserved.\n \n gdb_test \"set architecture $arch2\" \\\n-\t\"The target architecture is set to \\\"$arch2\\\"\" \\\n+\t\"The target architecture is set to \\\"$arch2\\\"\\.\" \\\n \t\"set architecture $arch2\"\n \n gdb_test \"show disassembler-options\" \\"
    },
    {
      "sha": "a1fa5ffabee5eb211a616621e5818be7d33eca0b",
      "filename": "gdb/testsuite/gdb.arch/ppc64-symtab-cordic.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f4a0f710aefbe16ed45a7c0bfd9b5ab9858d1275/gdb/testsuite/gdb.arch/ppc64-symtab-cordic.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f4a0f710aefbe16ed45a7c0bfd9b5ab9858d1275/gdb/testsuite/gdb.arch/ppc64-symtab-cordic.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.arch/ppc64-symtab-cordic.exp?ref=f4a0f710aefbe16ed45a7c0bfd9b5ab9858d1275",
      "patch": "@@ -47,10 +47,10 @@ gdb_load ${kofile}\n \n set test \"show architecture\"\n gdb_test_multiple $test $test {\n-    -re \"\\r\\nThe target architecture is set to \\\"auto\\\" \\\\(currently \\\"powerpc:common64\\\"\\\\)\\r\\n$gdb_prompt $\" {\n+    -re \"\\r\\nThe target architecture is set to \\\"auto\\\" \\\\(currently \\\"powerpc:common64\\\"\\\\)\\.\\r\\n$gdb_prompt $\" {\n \tpass $test\n     }\n-    -re \"\\r\\nThe target architecture is set to \\\"auto\\\" \\\\(currently \\\".*\\\"\\\\)\\r\\n$gdb_prompt $\" {\n+    -re \"\\r\\nThe target architecture is set to \\\"auto\\\" \\\\(currently \\\".*\\\"\\\\)\\.\\r\\n$gdb_prompt $\" {\n \tuntested \"powerpc:common64 is not supported\"\n     }\n }"
    },
    {
      "sha": "16e7cd18d7adad7584ae954fa96d254a730257d5",
      "filename": "gdb/testsuite/gdb.arch/s390-disassembler-options.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f4a0f710aefbe16ed45a7c0bfd9b5ab9858d1275/gdb/testsuite/gdb.arch/s390-disassembler-options.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f4a0f710aefbe16ed45a7c0bfd9b5ab9858d1275/gdb/testsuite/gdb.arch/s390-disassembler-options.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.arch/s390-disassembler-options.exp?ref=f4a0f710aefbe16ed45a7c0bfd9b5ab9858d1275",
      "patch": "@@ -31,7 +31,7 @@ set arch1 \"s390:64-bit\"\n set arch2 \"s390:31-bit\"\n \n gdb_test \"set architecture $arch1\" \\\n-\t\"The target architecture is set to \\\"$arch1\\\"\" \\\n+\t\"The target architecture is set to \\\"$arch1\\\"\\.\" \\\n \t\"set architecture $arch1\"\n \n gdb_test_no_output \"set disassembler-options\"\n@@ -47,7 +47,7 @@ gdb_test \"show disassembler-options\" \\\n # Change architectures and verify the disassembler options have been preserved.\n \n gdb_test \"set architecture $arch2\" \\\n-\t\"The target architecture is set to \\\"$arch2\\\"\" \\\n+\t\"The target architecture is set to \\\"$arch2\\\"\\.\" \\\n \t\"set architecture $arch2\"\n \n gdb_test \"show disassembler-options\" \\"
    }
  ]
}