{
  "sha": "efbecbc143f19cb308ae220fb386505f41ff4bc3",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ZWZiZWNiYzE0M2YxOWNiMzA4YWUyMjBmYjM4NjUwNWY0MWZmNGJjMw==",
  "commit": {
    "author": {
      "name": "Andrew Burgess",
      "email": "andrew.burgess@embecosm.com",
      "date": "2019-01-21T15:10:55Z"
    },
    "committer": {
      "name": "Andrew Burgess",
      "email": "andrew.burgess@embecosm.com",
      "date": "2019-03-06T18:11:31Z"
    },
    "message": "gdb/fortran: Handle older TYPE*SIZE typenames\n\nThis patch adds support for the older TYPE*SIZE typenames that are\nstill around in older code.\n\nFor implementation this currently reuses the kind mechanism, as under\ngFortran the kind number is equivalent to the size, however, this is\nnot necessarily true for all compilers.  If the rules for other\ncompilers are better understood then this code might need to be\nimproved slightly to allow for a distinction between size and kind,\nhowever, adding this extra complexity now seems pointless.\n\ngdb/ChangeLog:\n\n\t* f-exp.y (direct_abs_decl): Handle TYPE*SIZE type names.\n\ngdb/testsuite/ChangeLog:\n\n\t* gdb.fortran/type-kinds.exp: Extend to cover TYPE*SIZE cases.",
    "tree": {
      "sha": "cebdb407c56dac4baba4aa7c55815d752baa6b72",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/cebdb407c56dac4baba4aa7c55815d752baa6b72"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/efbecbc143f19cb308ae220fb386505f41ff4bc3",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/efbecbc143f19cb308ae220fb386505f41ff4bc3",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/efbecbc143f19cb308ae220fb386505f41ff4bc3",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/efbecbc143f19cb308ae220fb386505f41ff4bc3/comments",
  "author": {
    "login": "T-J-Teru",
    "id": 475372,
    "node_id": "MDQ6VXNlcjQ3NTM3Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/475372?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/T-J-Teru",
    "html_url": "https://github.com/T-J-Teru",
    "followers_url": "https://api.github.com/users/T-J-Teru/followers",
    "following_url": "https://api.github.com/users/T-J-Teru/following{/other_user}",
    "gists_url": "https://api.github.com/users/T-J-Teru/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/T-J-Teru/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/T-J-Teru/subscriptions",
    "organizations_url": "https://api.github.com/users/T-J-Teru/orgs",
    "repos_url": "https://api.github.com/users/T-J-Teru/repos",
    "events_url": "https://api.github.com/users/T-J-Teru/events{/privacy}",
    "received_events_url": "https://api.github.com/users/T-J-Teru/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "T-J-Teru",
    "id": 475372,
    "node_id": "MDQ6VXNlcjQ3NTM3Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/475372?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/T-J-Teru",
    "html_url": "https://github.com/T-J-Teru",
    "followers_url": "https://api.github.com/users/T-J-Teru/followers",
    "following_url": "https://api.github.com/users/T-J-Teru/following{/other_user}",
    "gists_url": "https://api.github.com/users/T-J-Teru/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/T-J-Teru/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/T-J-Teru/subscriptions",
    "organizations_url": "https://api.github.com/users/T-J-Teru/orgs",
    "repos_url": "https://api.github.com/users/T-J-Teru/repos",
    "events_url": "https://api.github.com/users/T-J-Teru/events{/privacy}",
    "received_events_url": "https://api.github.com/users/T-J-Teru/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "0841c79a3dc1cfa382164a6bb2c1ee41af3ab0a9",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/0841c79a3dc1cfa382164a6bb2c1ee41af3ab0a9",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/0841c79a3dc1cfa382164a6bb2c1ee41af3ab0a9"
    }
  ],
  "stats": {
    "total": 33,
    "additions": 33,
    "deletions": 0
  },
  "files": [
    {
      "sha": "8866756ff04e3bd0fbf27bc82aaf5d43e55c4000",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/efbecbc143f19cb308ae220fb386505f41ff4bc3/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/efbecbc143f19cb308ae220fb386505f41ff4bc3/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=efbecbc143f19cb308ae220fb386505f41ff4bc3",
      "patch": "@@ -1,3 +1,7 @@\n+2019-03-06  Andrew Burgess  <andrew.burgess@embecosm.com>\n+\n+\t* f-exp.y (direct_abs_decl): Handle TYPE*SIZE type names.\n+\n 2019-03-06  Andrew Burgess  <andrew.burgess@embecosm.com>\n \t    Chris January  <chris.january@arm.com>\n \t    David Lecomber  <david.lecomber@arm.com>"
    },
    {
      "sha": "7e838b0a93a459b931ed41808692217b215ad71d",
      "filename": "gdb/f-exp.y",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/efbecbc143f19cb308ae220fb386505f41ff4bc3/gdb/f-exp.y",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/efbecbc143f19cb308ae220fb386505f41ff4bc3/gdb/f-exp.y",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/f-exp.y?ref=efbecbc143f19cb308ae220fb386505f41ff4bc3",
      "patch": "@@ -570,6 +570,8 @@ direct_abs_decl: '(' abs_decl ')'\n \t\t\t{ $$ = $2; }\n \t| \t'(' KIND '=' INT ')'\n \t\t\t{ push_kind_type ($4.val, $4.type); }\n+\t|\t'*' INT\n+\t\t\t{ push_kind_type ($2.val, $2.type); }\n \t| \tdirect_abs_decl func_mod\n \t\t\t{ push_type (tp_function); }\n \t|\tfunc_mod"
    },
    {
      "sha": "57f80b49b59c7caed79af50b8861c72d9cf22340",
      "filename": "gdb/testsuite/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/efbecbc143f19cb308ae220fb386505f41ff4bc3/gdb/testsuite/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/efbecbc143f19cb308ae220fb386505f41ff4bc3/gdb/testsuite/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/ChangeLog?ref=efbecbc143f19cb308ae220fb386505f41ff4bc3",
      "patch": "@@ -1,3 +1,7 @@\n+2019-03-06  Andrew Burgess  <andrew.burgess@embecosm.com>\n+\n+\t* gdb.fortran/type-kinds.exp: Extend to cover TYPE*SIZE cases.\n+\n 2019-03-06  Andrew Burgess  <andrew.burgess@embecosm.com>\n \n \t* gdb.fortran/intrinsics.exp: Extend to cover ABS."
    },
    {
      "sha": "1ae15b96f1aa366ee53b746a5f707983dbc2bb19",
      "filename": "gdb/testsuite/gdb.fortran/type-kinds.exp",
      "status": "modified",
      "additions": 23,
      "deletions": 0,
      "changes": 23,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/efbecbc143f19cb308ae220fb386505f41ff4bc3/gdb/testsuite/gdb.fortran/type-kinds.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/efbecbc143f19cb308ae220fb386505f41ff4bc3/gdb/testsuite/gdb.fortran/type-kinds.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.fortran/type-kinds.exp?ref=efbecbc143f19cb308ae220fb386505f41ff4bc3",
      "patch": "@@ -65,11 +65,34 @@ proc test_parsing_invalid_type_kinds {} {\n     }\n }\n \n+# Perform some basic checks that GDB can parse the older style\n+# TYPE*SIZE type names.\n+proc test_old_star_type_sizes {} {\n+    gdb_test \"p ((character*1) 1)\" \" = 1 '\\\\\\\\001'\"\n+\n+    gdb_test \"p ((complex*4) 1)\" \" = \\\\(1,0\\\\)\"\n+    gdb_test \"p ((complex*8) 1)\" \" = \\\\(1,0\\\\)\"\n+    gdb_test \"p ((complex*16) 1)\" \" = \\\\(1,0\\\\)\"\n+\n+    gdb_test \"p ((real*4) 1)\" \" = 1\"\n+    gdb_test \"p ((real*8) 1)\" \" = 1\"\n+    gdb_test \"p ((real*16) 1)\" \" = 1\"\n+\n+    gdb_test \"p ((logical*1) 1)\" \" = \\\\.TRUE\\\\.\"\n+    gdb_test \"p ((logical*4) 1)\" \" = \\\\.TRUE\\\\.\"\n+    gdb_test \"p ((logical*8) 1)\" \" = \\\\.TRUE\\\\.\"\n+\n+    gdb_test \"p ((integer*2) 1)\" \" = 1\"\n+    gdb_test \"p ((integer*4) 1)\" \" = 1\"\n+    gdb_test \"p ((integer*8) 1)\" \" = 1\"\n+}\n+\n clean_restart\n \n if [set_lang_fortran] then {\n     test_basic_parsing_of_type_kinds\n     test_parsing_invalid_type_kinds\n+    test_old_star_type_sizes\n } else {\n     warning \"$test_name tests suppressed.\" 0\n }"
    }
  ]
}