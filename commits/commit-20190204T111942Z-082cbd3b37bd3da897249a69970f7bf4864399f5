{
  "sha": "082cbd3b37bd3da897249a69970f7bf4864399f5",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MDgyY2JkM2IzN2JkM2RhODk3MjQ5YTY5OTcwZjdiZjQ4NjQzOTlmNQ==",
  "commit": {
    "author": {
      "name": "Nick Clifton",
      "email": "nickc@redhat.com",
      "date": "2019-02-04T11:19:42Z"
    },
    "committer": {
      "name": "Nick Clifton",
      "email": "nickc@redhat.com",
      "date": "2019-02-04T11:19:42Z"
    },
    "message": "Add more notes on how to make a release",
    "tree": {
      "sha": "9ee92d8192e1bfa3c5dfaaff188f943b4ce2f911",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/9ee92d8192e1bfa3c5dfaaff188f943b4ce2f911"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/082cbd3b37bd3da897249a69970f7bf4864399f5",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/082cbd3b37bd3da897249a69970f7bf4864399f5",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/082cbd3b37bd3da897249a69970f7bf4864399f5",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/082cbd3b37bd3da897249a69970f7bf4864399f5/comments",
  "author": {
    "login": "nickclifton",
    "id": 31441682,
    "node_id": "MDQ6VXNlcjMxNDQxNjgy",
    "avatar_url": "https://avatars.githubusercontent.com/u/31441682?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nickclifton",
    "html_url": "https://github.com/nickclifton",
    "followers_url": "https://api.github.com/users/nickclifton/followers",
    "following_url": "https://api.github.com/users/nickclifton/following{/other_user}",
    "gists_url": "https://api.github.com/users/nickclifton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nickclifton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nickclifton/subscriptions",
    "organizations_url": "https://api.github.com/users/nickclifton/orgs",
    "repos_url": "https://api.github.com/users/nickclifton/repos",
    "events_url": "https://api.github.com/users/nickclifton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nickclifton/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "nickclifton",
    "id": 31441682,
    "node_id": "MDQ6VXNlcjMxNDQxNjgy",
    "avatar_url": "https://avatars.githubusercontent.com/u/31441682?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nickclifton",
    "html_url": "https://github.com/nickclifton",
    "followers_url": "https://api.github.com/users/nickclifton/followers",
    "following_url": "https://api.github.com/users/nickclifton/following{/other_user}",
    "gists_url": "https://api.github.com/users/nickclifton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nickclifton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nickclifton/subscriptions",
    "organizations_url": "https://api.github.com/users/nickclifton/orgs",
    "repos_url": "https://api.github.com/users/nickclifton/repos",
    "events_url": "https://api.github.com/users/nickclifton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nickclifton/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "b32ba39525f1abf8b1cb22016e781c73961717ea",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/b32ba39525f1abf8b1cb22016e781c73961717ea",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/b32ba39525f1abf8b1cb22016e781c73961717ea"
    }
  ],
  "stats": {
    "total": 98,
    "additions": 78,
    "deletions": 20
  },
  "files": [
    {
      "sha": "dc46498c13d4e14ee6dfafbaf13e65f5a4a1affb",
      "filename": "binutils/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/082cbd3b37bd3da897249a69970f7bf4864399f5/binutils/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/082cbd3b37bd3da897249a69970f7bf4864399f5/binutils/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/ChangeLog?ref=082cbd3b37bd3da897249a69970f7bf4864399f5",
      "patch": "@@ -1,3 +1,7 @@\n+2019-02-04  Nick Clifton  <nickc@redhat.com>\n+\n+\t* README-how-to-make-a-release: Add more notes on making a release.\n+\n 2019-01-25  Nick Clifton  <nickc@redhat.com>\n \n \tPR 24131"
    },
    {
      "sha": "988d3717bf5a45c27307f5261e4da10c0954f2e8",
      "filename": "binutils/README-how-to-make-a-release",
      "status": "modified",
      "additions": 74,
      "deletions": 20,
      "changes": 94,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/082cbd3b37bd3da897249a69970f7bf4864399f5/binutils/README-how-to-make-a-release",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/082cbd3b37bd3da897249a69970f7bf4864399f5/binutils/README-how-to-make-a-release",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/README-how-to-make-a-release?ref=082cbd3b37bd3da897249a69970f7bf4864399f5",
      "patch": "@@ -54,7 +54,8 @@ How to perform a release.\n      If you get a message about being in a \"detached head\" state, something\n      has gone wrong...\n \n-     Keep the checked out sources - they are going to be needed in future steps.\n+     Keep the checked out sources - they are going to be needed in future\n+     steps.\n \n   6. Update \"BINUTILS_BRANCH\" in gdbadmin's crontab:\n \n@@ -137,7 +138,8 @@ How to perform a release.\n \t     gold/yyscript.h\n \trm -fr proto-toplev\n \n-   9. Tell the Translation Project where to find the new tarball. <coordinator@translationproject.org>\n+   9. Tell the Translation Project where to find the new tarball.\n+      <coordinator@translationproject.org>\n       qv: http://translationproject.org/html/maintainers.html\n \n ------------------------------------------------------------------------\n@@ -231,9 +233,9 @@ When the time comes to actually make the release....\n       permissions. \n \n   25. Sanity check the release on x86_64-pc-linux-gnu by building and\n-      running the testsuite.  Make the source directory read-only\n-      before building.  Also test \"make install\".  If necessary fix\n-      any problems.\n+      running the testsuites (gas, gold, binutils and ld).  Make the\n+      source directory read-only before building.  Also test\n+      \"make install\".  If necessary fix any problems.\n \n   26. Tag the branch with the new release number:\n \n@@ -268,16 +270,52 @@ When the time comes to actually make the release....\n \n       Create a new documentation folder on the sourceware.org web\n       pages as /sourceware/www/sourceware/htdocs/binutils/docs-X.XX.\n+\n+       sftp sourceware.org\n+         cd /sourceware/www/sourceware/htdocs/binutils\n+\t mkdir docs-X.XX\n+\t cd docs-X.XX\n+\t mkdir as bfd binutils gprof ld\n+\t cd ../docs-X.(XX-1)\n+\t get index.html\n+\n+      Update the (local copy of the) index.html file to point to the\n+      new documentation and mention the new version and then upload it.\n+\n+\t cd ../docs-X.XX\n+\t put index.html\n+\n       Make the html documentation locally with the \"make html\" command\n       and then upload and rename the directories as needed.  (sftp\n       does not appear to support recursive uploads however, so the\n-      directories will have to be made by hand).  Create an\n-      index.html file and then edit the docs link to point to the new\n-      docs-X.XX directory.\n-      \n-      Update the index.html file in the directory containing the\n-      docs-X.XX entries to point to the new documentation and mention\n-      the new version.\n+      directories will have to be made by hand).\n+\n+         cd as\n+\t lcd <build-dir>/gas/doc/as.html\n+\t put *\n+\t cd ../bfd\n+\t lcd ../../../bfd/doc/bfd.html\n+\t put *\n+\t cd ../binutils\n+\t lcd ../../../binutils/doc/binutils.html\n+\t put *\n+\t cd ../gprof\n+\t lcd ../../../gprof/gprof.html\n+\t put *\n+\t cd ../ld\n+\t lcd ../../ld/ld.html\n+\t put *\n+\t \n+      Edit the top level binutils index.html file to change the links\n+      to the new documentation.\n+\n+         cd ../../..\n+\t get indexl.html\n+\t [edit]\n+\t put index.html\n+\t quit\n+\n+      Check that the new web page is correct.\n \n       For the www.gnu.org site you have to email webmasters@gnu.org\n       and ask them to make the change(s).\n@@ -287,7 +325,7 @@ When the time comes to actually make the release....\n       Sign the email and include the checksum.\n       (The email to Davis is so that he can update the GNU Toolchain\n       social media).  Something like this:\n-      ------------------------------------------------------------------------\n+      -----------------------------------------------------------------------\n         Hi Everyone,\n \n         We are pleased to announce that version 2.XX of the GNU Binutils project\n@@ -306,18 +344,34 @@ When the time comes to actually make the release....\n        Our thanks go out to all of the binutils contributors, past and\n        present, for helping to make this release possible.\n \n-      --------------------------------------------------------------------------\n+      -----------------------------------------------------------------------\n \n   31. Clean up the source tree.  (Use \"git status\" to find new\n       files, and remove them).\n \n-  32. Edit bfd/development.sh on the branch and set\n-      \"development=true\".  Also bump the version in bfd/version.m4 by\n-      adding a trailing .0, so that the date suffix keeps the version\n-      lower than the trunk version.  Regenerate files.  Commit these\n-      changes.\n+          rm binutils-<version> binutils-<version>.tar binutils-<version>.tar.xz\n+\t  rm gas/bfin-lex.c \\\n+\t     gas/bfin-parse.c \\\n+\t     gas/bfin-parse.h \\\n+\t     gas/itbl-lex.c \\\n+\t     gas/itbl-parse.c \\\n+\t     gas/itbl-parse.h \\\n+\t     gas/m68k-parse.c \\\n+\t     gas/rl78-parse.c \\\n+\t     gas/rl78-parse.h \\\n+\t     gas/rx-parse.c \\\n+\t     gas/rx-parse.h \\\n+\t     gold/yyscript.c \\\n+\t     gold/yyscript.h\n+\trm -fr proto-toplev\n+\n+  32. Edit bfd/development.sh on the branch and set the development flag\n+      to \"true\".  (Leave the experimental flag set to \"false\").  Also bump\n+      the version in bfd/version.m4 by adding a trailing .0, so that the\n+      date suffix keeps the version lower than the trunk version.\n+      Regenerate files.  Commit these changes.\n \n-  33. Email the binutils list telling everyone that the 2.31 branch\n+  33. Email the binutils list telling everyone that the 2.XX branch\n       is now open for business as usual and that patched no longer\n       need special approval.\n  "
    }
  ]
}