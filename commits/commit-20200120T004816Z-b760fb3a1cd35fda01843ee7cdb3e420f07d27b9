{
  "sha": "b760fb3a1cd35fda01843ee7cdb3e420f07d27b9",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6Yjc2MGZiM2ExY2QzNWZkYTAxODQzZWU3Y2RiM2U0MjBmMDdkMjdiOQ==",
  "commit": {
    "author": {
      "name": "Simon Marchi",
      "email": "simon.marchi@polymtl.ca",
      "date": "2020-01-20T00:47:17Z"
    },
    "committer": {
      "name": "Simon Marchi",
      "email": "simon.marchi@polymtl.ca",
      "date": "2020-01-20T00:48:16Z"
    },
    "message": "sim: add some stdlib.h includes\n\nWhen trying to compile GDB with --target=avr, with gcc 9.2.0, I am\ngetting a bunch of:\n\n    /home/simark/src/binutils-gdb/sim/avr/../common/nrun.c:94:7: error: implicit declaration of function \u00e2\u20ac\u02dcabort\u00e2\u20ac\u2122 [-Werror=implicit-function-declaration]\n       94 |       abort ();\n          |       ^~~~~\n    /home/simark/src/binutils-gdb/sim/avr/../common/nrun.c:94:7: error: incompatible implicit declaration of built-in function \u00e2\u20ac\u02dcabort\u00e2\u20ac\u2122 [-Werror]\n    /home/simark/src/binutils-gdb/sim/avr/../common/nrun.c:94:7: note: include \u00e2\u20ac\u02dc<stdlib.h>\u00e2\u20ac\u2122 or provide a declaration of \u00e2\u20ac\u02dcabort\u00e2\u20ac\u2122\n\nI did what the compiler told me and added the relevant includes in the\nproblematic files.\n\nsim/common/ChangeLog:\n\n\t* nrun.c: Include stdlib.h.\n\t* sim-core.c: Likewise.\n\t* sim-engine.c: Likewise.\n\t* sim-io.c: Likewise.\n\t* sim-module.c: Likewise.\n\t* sim-reason.c: Likewise.",
    "tree": {
      "sha": "866133f85c6aef8e7770391006115721c9b2c312",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/866133f85c6aef8e7770391006115721c9b2c312"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/b760fb3a1cd35fda01843ee7cdb3e420f07d27b9",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/b760fb3a1cd35fda01843ee7cdb3e420f07d27b9",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/b760fb3a1cd35fda01843ee7cdb3e420f07d27b9",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/b760fb3a1cd35fda01843ee7cdb3e420f07d27b9/comments",
  "author": {
    "login": "simark",
    "id": 1758287,
    "node_id": "MDQ6VXNlcjE3NTgyODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1758287?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/simark",
    "html_url": "https://github.com/simark",
    "followers_url": "https://api.github.com/users/simark/followers",
    "following_url": "https://api.github.com/users/simark/following{/other_user}",
    "gists_url": "https://api.github.com/users/simark/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/simark/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/simark/subscriptions",
    "organizations_url": "https://api.github.com/users/simark/orgs",
    "repos_url": "https://api.github.com/users/simark/repos",
    "events_url": "https://api.github.com/users/simark/events{/privacy}",
    "received_events_url": "https://api.github.com/users/simark/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "simark",
    "id": 1758287,
    "node_id": "MDQ6VXNlcjE3NTgyODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1758287?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/simark",
    "html_url": "https://github.com/simark",
    "followers_url": "https://api.github.com/users/simark/followers",
    "following_url": "https://api.github.com/users/simark/following{/other_user}",
    "gists_url": "https://api.github.com/users/simark/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/simark/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/simark/subscriptions",
    "organizations_url": "https://api.github.com/users/simark/orgs",
    "repos_url": "https://api.github.com/users/simark/repos",
    "events_url": "https://api.github.com/users/simark/events{/privacy}",
    "received_events_url": "https://api.github.com/users/simark/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "f1cf2aa54e20257c7d68b795077ac41c3e492f57",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/f1cf2aa54e20257c7d68b795077ac41c3e492f57",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/f1cf2aa54e20257c7d68b795077ac41c3e492f57"
    }
  ],
  "stats": {
    "total": 23,
    "additions": 21,
    "deletions": 2
  },
  "files": [
    {
      "sha": "a1ac3f13d41db76068ccd7c71f546bc02478d443",
      "filename": "sim/common/ChangeLog",
      "status": "modified",
      "additions": 9,
      "deletions": 0,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b760fb3a1cd35fda01843ee7cdb3e420f07d27b9/sim/common/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b760fb3a1cd35fda01843ee7cdb3e420f07d27b9/sim/common/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/common/ChangeLog?ref=b760fb3a1cd35fda01843ee7cdb3e420f07d27b9",
      "patch": "@@ -1,3 +1,12 @@\n+2020-01-19  Simon Marchi  <simon.marchi@polymtl.ca>\n+\n+\t* nrun.c: Include stdlib.h.\n+\t* sim-core.c: Likewise.\n+\t* sim-engine.c: Likewise.\n+\t* sim-io.c: Likewise.\n+\t* sim-module.c: Likewise.\n+\t* sim-reason.c: Likewise.\n+\n 2019-12-19  Tom Tromey  <tromey@adacore.com>\n \n \tPR build/24572:"
    },
    {
      "sha": "cbf7b5e2e14762f88492f711a13ef66ce16d2ff1",
      "filename": "sim/common/nrun.c",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b760fb3a1cd35fda01843ee7cdb3e420f07d27b9/sim/common/nrun.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b760fb3a1cd35fda01843ee7cdb3e420f07d27b9/sim/common/nrun.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/common/nrun.c?ref=b760fb3a1cd35fda01843ee7cdb3e420f07d27b9",
      "patch": "@@ -20,6 +20,7 @@ along with this program.  If not, see <http://www.gnu.org/licenses/>.  */\n #endif\n \n #include <signal.h>\n+#include <stdlib.h>\n \n /* For strsignal.  */\n #ifdef HAVE_STRING_H"
    },
    {
      "sha": "df46def27573e34f91224d03b4d961eb7ff3a798",
      "filename": "sim/common/sim-core.c",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b760fb3a1cd35fda01843ee7cdb3e420f07d27b9/sim/common/sim-core.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b760fb3a1cd35fda01843ee7cdb3e420f07d27b9/sim/common/sim-core.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/common/sim-core.c?ref=b760fb3a1cd35fda01843ee7cdb3e420f07d27b9",
      "patch": "@@ -30,6 +30,8 @@\n #include \"sim-hw.h\"\n #endif\n \n+#include <stdlib.h>\n+\n /* \"core\" module install handler.\n \n    This is called via sim_module_install to install the \"core\""
    },
    {
      "sha": "d6e091de30e8f8fcc605b5d0f7d9fd12de4ab64a",
      "filename": "sim/common/sim-engine.c",
      "status": "modified",
      "additions": 3,
      "deletions": 2,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b760fb3a1cd35fda01843ee7cdb3e420f07d27b9/sim/common/sim-engine.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b760fb3a1cd35fda01843ee7cdb3e420f07d27b9/sim/common/sim-engine.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/common/sim-engine.c?ref=b760fb3a1cd35fda01843ee7cdb3e420f07d27b9",
      "patch": "@@ -17,11 +17,12 @@ GNU General Public License for more details.\n You should have received a copy of the GNU General Public License\n along with this program.  If not, see <http://www.gnu.org/licenses/>.  */\n \n-#include <stdio.h>\n-\n #include \"sim-main.h\"\n #include \"sim-assert.h\"\n \n+#include <stdio.h>\n+#include <stdlib.h>\n+\n /* Get the run state.\n    REASON/SIGRC are the values returned by sim_stop_reason.\n    ??? Should each cpu have its own copy?  */"
    },
    {
      "sha": "989f9cfb35a757528135a135d5d1a269a99a01eb",
      "filename": "sim/common/sim-io.c",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b760fb3a1cd35fda01843ee7cdb3e420f07d27b9/sim/common/sim-io.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b760fb3a1cd35fda01843ee7cdb3e420f07d27b9/sim/common/sim-io.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/common/sim-io.c?ref=b760fb3a1cd35fda01843ee7cdb3e420f07d27b9",
      "patch": "@@ -33,6 +33,8 @@\n #include <unistd.h>\n #endif\n \n+#include <stdlib.h>\n+\n /* Define the rate at which the simulator should poll the host\n    for a quit. */\n #ifndef POLL_QUIT_INTERVAL"
    },
    {
      "sha": "1b103b7763aeae4b564fa2ad97455a282864aa81",
      "filename": "sim/common/sim-module.c",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b760fb3a1cd35fda01843ee7cdb3e420f07d27b9/sim/common/sim-module.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b760fb3a1cd35fda01843ee7cdb3e420f07d27b9/sim/common/sim-module.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/common/sim-module.c?ref=b760fb3a1cd35fda01843ee7cdb3e420f07d27b9",
      "patch": "@@ -36,6 +36,8 @@ along with this program.  If not, see <http://www.gnu.org/licenses/>.  */\n \n #include \"libiberty.h\"\n \n+#include <stdlib.h>\n+\n /* List of all modules.  */\n static MODULE_INSTALL_FN * const modules[] = {\n   standard_install,"
    },
    {
      "sha": "83b24242235ffb66535be39fada4654b593ebde6",
      "filename": "sim/common/sim-reason.c",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b760fb3a1cd35fda01843ee7cdb3e420f07d27b9/sim/common/sim-reason.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b760fb3a1cd35fda01843ee7cdb3e420f07d27b9/sim/common/sim-reason.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/common/sim-reason.c?ref=b760fb3a1cd35fda01843ee7cdb3e420f07d27b9",
      "patch": "@@ -20,6 +20,8 @@ along with this program.  If not, see <http://www.gnu.org/licenses/>.  */\n #include \"sim-main.h\"\n #include \"sim-assert.h\"\n \n+#include <stdlib.h>\n+\n /* Generic implementation of sim_stop_reason */\n \n void"
    }
  ]
}