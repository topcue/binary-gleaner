{
  "sha": "07fbbd013824ba9fa0bdd466f526234dc4fcca18",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MDdmYmJkMDEzODI0YmE5ZmEwYmRkNDY2ZjUyNjIzNGRjNGZjY2ExOA==",
  "commit": {
    "author": {
      "name": "Simon Marchi",
      "email": "simon.marchi@polymtl.ca",
      "date": "2020-10-20T21:39:47Z"
    },
    "committer": {
      "name": "Simon Marchi",
      "email": "simon.marchi@polymtl.ca",
      "date": "2020-10-20T21:39:48Z"
    },
    "message": "gdb: make gdbarch_displaced_step_hw_singlestep return bool\n\nReplace the int-used-as-a-bool with a bool.\n\ngdb/ChangeLog:\n\n\t* gdbarch.sh (displaced_step_hw_singlestep): Return bool.\n\t* gdbarch.c: Re-generate.\n\t* gdbarch.h: Re-generate.\n\t* aarch64-tdep.c (aarch64_displaced_step_hw_singlestep): Return\n\tbool.\n\t* aarch64-tdep.h (aarch64_displaced_step_hw_singlestep):\n\tLikewise.\n\t* arch-utils.h (default_displaced_step_hw_singlestep): Likewise.\n\t* arch-utils.c (default_displaced_step_hw_singlestep): Likewise.\n\t* rs6000-tdep.c (ppc_displaced_step_hw_singlestep): Likewise.\n\t* s390-tdep.c (s390_displaced_step_hw_singlestep): Likewise.\n\nChange-Id: I76a78366dc5c0afb03f8f4bddf9f4e8d68fe3114",
    "tree": {
      "sha": "534b050d5b8464eb84b0c421201a95d23ebbd84e",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/534b050d5b8464eb84b0c421201a95d23ebbd84e"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/07fbbd013824ba9fa0bdd466f526234dc4fcca18",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/07fbbd013824ba9fa0bdd466f526234dc4fcca18",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/07fbbd013824ba9fa0bdd466f526234dc4fcca18",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/07fbbd013824ba9fa0bdd466f526234dc4fcca18/comments",
  "author": {
    "login": "simark",
    "id": 1758287,
    "node_id": "MDQ6VXNlcjE3NTgyODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1758287?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/simark",
    "html_url": "https://github.com/simark",
    "followers_url": "https://api.github.com/users/simark/followers",
    "following_url": "https://api.github.com/users/simark/following{/other_user}",
    "gists_url": "https://api.github.com/users/simark/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/simark/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/simark/subscriptions",
    "organizations_url": "https://api.github.com/users/simark/orgs",
    "repos_url": "https://api.github.com/users/simark/repos",
    "events_url": "https://api.github.com/users/simark/events{/privacy}",
    "received_events_url": "https://api.github.com/users/simark/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "simark",
    "id": 1758287,
    "node_id": "MDQ6VXNlcjE3NTgyODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1758287?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/simark",
    "html_url": "https://github.com/simark",
    "followers_url": "https://api.github.com/users/simark/followers",
    "following_url": "https://api.github.com/users/simark/following{/other_user}",
    "gists_url": "https://api.github.com/users/simark/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/simark/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/simark/subscriptions",
    "organizations_url": "https://api.github.com/users/simark/orgs",
    "repos_url": "https://api.github.com/users/simark/repos",
    "events_url": "https://api.github.com/users/simark/events{/privacy}",
    "received_events_url": "https://api.github.com/users/simark/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "3953519365a38f7cb31c00b150bd8e56caf8b314",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/3953519365a38f7cb31c00b150bd8e56caf8b314",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/3953519365a38f7cb31c00b150bd8e56caf8b314"
    }
  ],
  "stats": {
    "total": 42,
    "additions": 28,
    "deletions": 14
  },
  "files": [
    {
      "sha": "1ea6780418074462d021256c27158e45e5a9529b",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 14,
      "deletions": 0,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/07fbbd013824ba9fa0bdd466f526234dc4fcca18/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/07fbbd013824ba9fa0bdd466f526234dc4fcca18/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=07fbbd013824ba9fa0bdd466f526234dc4fcca18",
      "patch": "@@ -1,3 +1,17 @@\n+2020-10-20  Simon Marchi  <simon.marchi@polymtl.ca>\n+\n+\t* gdbarch.sh (displaced_step_hw_singlestep): Return bool.\n+\t* gdbarch.c: Re-generate.\n+\t* gdbarch.h: Re-generate.\n+\t* aarch64-tdep.c (aarch64_displaced_step_hw_singlestep): Return\n+\tbool.\n+\t* aarch64-tdep.h (aarch64_displaced_step_hw_singlestep):\n+\tLikewise.\n+\t* arch-utils.h (default_displaced_step_hw_singlestep): Likewise.\n+\t* arch-utils.c (default_displaced_step_hw_singlestep): Likewise.\n+\t* rs6000-tdep.c (ppc_displaced_step_hw_singlestep): Likewise.\n+\t* s390-tdep.c (s390_displaced_step_hw_singlestep): Likewise.\n+\n 2020-10-20  Simon Marchi  <simon.marchi@polymtl.ca>\n \n \t* gdbarch.sh: Make generated predicates return bool."
    },
    {
      "sha": "73bfcf5448febb8d630b3ee94cb27642c0f98708",
      "filename": "gdb/aarch64-tdep.c",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/07fbbd013824ba9fa0bdd466f526234dc4fcca18/gdb/aarch64-tdep.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/07fbbd013824ba9fa0bdd466f526234dc4fcca18/gdb/aarch64-tdep.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/aarch64-tdep.c?ref=07fbbd013824ba9fa0bdd466f526234dc4fcca18",
      "patch": "@@ -3269,11 +3269,11 @@ aarch64_displaced_step_fixup (struct gdbarch *gdbarch,\n \n /* Implement the \"displaced_step_hw_singlestep\" gdbarch method.  */\n \n-int\n+bool\n aarch64_displaced_step_hw_singlestep (struct gdbarch *gdbarch,\n \t\t\t\t      struct displaced_step_closure *closure)\n {\n-  return 1;\n+  return true;\n }\n \n /* Get the correct target description for the given VQ value."
    },
    {
      "sha": "2f15758dbd545436e352a5441fb5177c3a4bf014",
      "filename": "gdb/aarch64-tdep.h",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/07fbbd013824ba9fa0bdd466f526234dc4fcca18/gdb/aarch64-tdep.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/07fbbd013824ba9fa0bdd466f526234dc4fcca18/gdb/aarch64-tdep.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/aarch64-tdep.h?ref=07fbbd013824ba9fa0bdd466f526234dc4fcca18",
      "patch": "@@ -117,7 +117,7 @@ void aarch64_displaced_step_fixup (struct gdbarch *gdbarch,\n \t\t\t\t   CORE_ADDR from, CORE_ADDR to,\n \t\t\t\t   struct regcache *regs);\n \n-int aarch64_displaced_step_hw_singlestep (struct gdbarch *gdbarch,\n-\t\t\t\t\t  struct displaced_step_closure *closure);\n+bool aarch64_displaced_step_hw_singlestep (struct gdbarch *gdbarch,\n+\t\t\t\t\t   displaced_step_closure *closure);\n \n #endif /* aarch64-tdep.h */"
    },
    {
      "sha": "27ac2f7232885da7fbc9041da789b5b24443414d",
      "filename": "gdb/arch-utils.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/07fbbd013824ba9fa0bdd466f526234dc4fcca18/gdb/arch-utils.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/07fbbd013824ba9fa0bdd466f526234dc4fcca18/gdb/arch-utils.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/arch-utils.c?ref=07fbbd013824ba9fa0bdd466f526234dc4fcca18",
      "patch": "@@ -38,7 +38,7 @@\n \n #include \"dis-asm.h\"\n \n-int\n+bool\n default_displaced_step_hw_singlestep (struct gdbarch *gdbarch,\n \t\t\t\t      struct displaced_step_closure *closure)\n {"
    },
    {
      "sha": "418b5c169886401933e93d2d92638092a89ce6a2",
      "filename": "gdb/arch-utils.h",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/07fbbd013824ba9fa0bdd466f526234dc4fcca18/gdb/arch-utils.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/07fbbd013824ba9fa0bdd466f526234dc4fcca18/gdb/arch-utils.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/arch-utils.h?ref=07fbbd013824ba9fa0bdd466f526234dc4fcca18",
      "patch": "@@ -75,7 +75,7 @@ struct bp_manipulation_endian\n   BREAK_INSN_LITTLE, BREAK_INSN_BIG>\n \n /* Default implementation of gdbarch_displaced_hw_singlestep.  */\n-extern int\n+extern bool\n   default_displaced_step_hw_singlestep (struct gdbarch *,\n \t\t\t\t\tstruct displaced_step_closure *);\n "
    },
    {
      "sha": "3a55820f72ce5b004c1c4810a06b14292bac577f",
      "filename": "gdb/gdbarch.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/07fbbd013824ba9fa0bdd466f526234dc4fcca18/gdb/gdbarch.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/07fbbd013824ba9fa0bdd466f526234dc4fcca18/gdb/gdbarch.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/gdbarch.c?ref=07fbbd013824ba9fa0bdd466f526234dc4fcca18",
      "patch": "@@ -3986,7 +3986,7 @@ set_gdbarch_displaced_step_copy_insn (struct gdbarch *gdbarch,\n   gdbarch->displaced_step_copy_insn = displaced_step_copy_insn;\n }\n \n-int\n+bool\n gdbarch_displaced_step_hw_singlestep (struct gdbarch *gdbarch, struct displaced_step_closure *closure)\n {\n   gdb_assert (gdbarch != NULL);"
    },
    {
      "sha": "d126dfcd6dda8f4711e4d9f32a99b93d6d087198",
      "filename": "gdb/gdbarch.h",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/07fbbd013824ba9fa0bdd466f526234dc4fcca18/gdb/gdbarch.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/07fbbd013824ba9fa0bdd466f526234dc4fcca18/gdb/gdbarch.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/gdbarch.h?ref=07fbbd013824ba9fa0bdd466f526234dc4fcca18",
      "patch": "@@ -1044,8 +1044,8 @@ extern void set_gdbarch_displaced_step_copy_insn (struct gdbarch *gdbarch, gdbar\n    The default implementation returns false on all targets that\n    provide a gdbarch_software_single_step routine, and true otherwise. */\n \n-typedef int (gdbarch_displaced_step_hw_singlestep_ftype) (struct gdbarch *gdbarch, struct displaced_step_closure *closure);\n-extern int gdbarch_displaced_step_hw_singlestep (struct gdbarch *gdbarch, struct displaced_step_closure *closure);\n+typedef bool (gdbarch_displaced_step_hw_singlestep_ftype) (struct gdbarch *gdbarch, struct displaced_step_closure *closure);\n+extern bool gdbarch_displaced_step_hw_singlestep (struct gdbarch *gdbarch, struct displaced_step_closure *closure);\n extern void set_gdbarch_displaced_step_hw_singlestep (struct gdbarch *gdbarch, gdbarch_displaced_step_hw_singlestep_ftype *displaced_step_hw_singlestep);\n \n /* Fix up the state resulting from successfully single-stepping a"
    },
    {
      "sha": "0b59ef05ff17ad42edff80ed3a0bc126c7f4b792",
      "filename": "gdb/gdbarch.sh",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/07fbbd013824ba9fa0bdd466f526234dc4fcca18/gdb/gdbarch.sh",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/07fbbd013824ba9fa0bdd466f526234dc4fcca18/gdb/gdbarch.sh",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/gdbarch.sh?ref=07fbbd013824ba9fa0bdd466f526234dc4fcca18",
      "patch": "@@ -794,7 +794,7 @@ M;displaced_step_closure_up;displaced_step_copy_insn;CORE_ADDR from, CORE_ADDR t\n #\n # The default implementation returns false on all targets that\n # provide a gdbarch_software_single_step routine, and true otherwise.\n-m;int;displaced_step_hw_singlestep;struct displaced_step_closure *closure;closure;;default_displaced_step_hw_singlestep;;0\n+m;bool;displaced_step_hw_singlestep;struct displaced_step_closure *closure;closure;;default_displaced_step_hw_singlestep;;0\n \n # Fix up the state resulting from successfully single-stepping a\n # displaced instruction, to give the result we would have gotten from"
    },
    {
      "sha": "d4d7781a790d68f5735d8982c8bda2b1e0ea6fee",
      "filename": "gdb/rs6000-tdep.c",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/07fbbd013824ba9fa0bdd466f526234dc4fcca18/gdb/rs6000-tdep.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/07fbbd013824ba9fa0bdd466f526234dc4fcca18/gdb/rs6000-tdep.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/rs6000-tdep.c?ref=07fbbd013824ba9fa0bdd466f526234dc4fcca18",
      "patch": "@@ -994,11 +994,11 @@ ppc_displaced_step_fixup (struct gdbarch *gdbarch,\n \n /* Always use hardware single-stepping to execute the\n    displaced instruction.  */\n-static int\n+static bool\n ppc_displaced_step_hw_singlestep (struct gdbarch *gdbarch,\n \t\t\t\t  struct displaced_step_closure *closure)\n {\n-  return 1;\n+  return true;\n }\n \n /* Checks for an atomic sequence of instructions beginning with a"
    },
    {
      "sha": "176f170cd81157fbedbd7e9bf4f573cf79a907ed",
      "filename": "gdb/s390-tdep.c",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/07fbbd013824ba9fa0bdd466f526234dc4fcca18/gdb/s390-tdep.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/07fbbd013824ba9fa0bdd466f526234dc4fcca18/gdb/s390-tdep.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/s390-tdep.c?ref=07fbbd013824ba9fa0bdd466f526234dc4fcca18",
      "patch": "@@ -586,11 +586,11 @@ s390_displaced_step_fixup (struct gdbarch *gdbarch,\n \n /* Implement displaced_step_hw_singlestep gdbarch method.  */\n \n-static int\n+static bool\n s390_displaced_step_hw_singlestep (struct gdbarch *gdbarch,\n \t\t\t\t   struct displaced_step_closure *closure)\n {\n-  return 1;\n+  return true;\n }\n \n /* Prologue analysis.  */"
    }
  ]
}