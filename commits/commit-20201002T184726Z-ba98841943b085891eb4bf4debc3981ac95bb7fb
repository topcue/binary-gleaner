{
  "sha": "ba98841943b085891eb4bf4debc3981ac95bb7fb",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YmE5ODg0MTk0M2IwODU4OTFlYjRiZjRkZWJjMzk4MWFjOTViYjdmYg==",
  "commit": {
    "author": {
      "name": "Simon Marchi",
      "email": "simon.marchi@polymtl.ca",
      "date": "2020-10-02T18:44:39Z"
    },
    "committer": {
      "name": "Simon Marchi",
      "email": "simon.marchi@efficios.com",
      "date": "2020-10-02T18:47:26Z"
    },
    "message": "gdb: move debug_prefixed_vprintf here\n\nThe following patch needs to output debug prints from gdbsupport code.\nMove debug_prefixed_vprintf so that it is possible to use it from\ngdbsupport.\n\ngdb/ChangeLog:\n\n\t* debug.c (debug_prefixed_vprintf): Move to gdbsupport.\n\t* debug.h: Remove.\n\t* infrun.c: Include gdbsupport/common-debug.h.\n\t* linux-nat.c: Likewise.\n\ngdbsupport/ChangeLog:\n\n\t* common-debug.cc (debug_prefixed_vprintf): Move here.\n\t* common-debug.h (debug_prefixed_vprintf): Move here.\n\nChange-Id: I5170065fc10a7a49c0f1bba67c691decb2cf3bcb",
    "tree": {
      "sha": "5ca587e395283d3e301bb1b5801f01f1c1c2cab2",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/5ca587e395283d3e301bb1b5801f01f1c1c2cab2"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/ba98841943b085891eb4bf4debc3981ac95bb7fb",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/ba98841943b085891eb4bf4debc3981ac95bb7fb",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/ba98841943b085891eb4bf4debc3981ac95bb7fb",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/ba98841943b085891eb4bf4debc3981ac95bb7fb/comments",
  "author": {
    "login": "simark",
    "id": 1758287,
    "node_id": "MDQ6VXNlcjE3NTgyODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1758287?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/simark",
    "html_url": "https://github.com/simark",
    "followers_url": "https://api.github.com/users/simark/followers",
    "following_url": "https://api.github.com/users/simark/following{/other_user}",
    "gists_url": "https://api.github.com/users/simark/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/simark/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/simark/subscriptions",
    "organizations_url": "https://api.github.com/users/simark/orgs",
    "repos_url": "https://api.github.com/users/simark/repos",
    "events_url": "https://api.github.com/users/simark/events{/privacy}",
    "received_events_url": "https://api.github.com/users/simark/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "simark",
    "id": 1758287,
    "node_id": "MDQ6VXNlcjE3NTgyODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1758287?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/simark",
    "html_url": "https://github.com/simark",
    "followers_url": "https://api.github.com/users/simark/followers",
    "following_url": "https://api.github.com/users/simark/following{/other_user}",
    "gists_url": "https://api.github.com/users/simark/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/simark/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/simark/subscriptions",
    "organizations_url": "https://api.github.com/users/simark/orgs",
    "repos_url": "https://api.github.com/users/simark/repos",
    "events_url": "https://api.github.com/users/simark/events{/privacy}",
    "received_events_url": "https://api.github.com/users/simark/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "db20ebdfae432f23def32f0b9bbf6e023c926235",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/db20ebdfae432f23def32f0b9bbf6e023c926235",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/db20ebdfae432f23def32f0b9bbf6e023c926235"
    }
  ],
  "stats": {
    "total": 78,
    "additions": 32,
    "deletions": 46
  },
  "files": [
    {
      "sha": "9f744944fd45050d7a174cb18a469b76b4466b1e",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ba98841943b085891eb4bf4debc3981ac95bb7fb/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ba98841943b085891eb4bf4debc3981ac95bb7fb/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=ba98841943b085891eb4bf4debc3981ac95bb7fb",
      "patch": "@@ -1,3 +1,10 @@\n+2020-10-02  Simon Marchi  <simon.marchi@polymtl.ca>\n+\n+\t* debug.c (debug_prefixed_vprintf): Move to gdbsupport.\n+\t* debug.h: Remove.\n+\t* infrun.c: Include gdbsupport/common-debug.h.\n+\t* linux-nat.c: Likewise.\n+\n 2020-10-02  Simon Marchi  <simon.marchi@polymtl.ca>\n \n \t* async-event.h (create_async_signal_handler): Add name"
    },
    {
      "sha": "fe571aaae393de71c6f9d5e40d4df3dfc808015a",
      "filename": "gdb/debug.c",
      "status": "modified",
      "additions": 1,
      "deletions": 12,
      "changes": 13,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ba98841943b085891eb4bf4debc3981ac95bb7fb/gdb/debug.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ba98841943b085891eb4bf4debc3981ac95bb7fb/gdb/debug.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/debug.c?ref=ba98841943b085891eb4bf4debc3981ac95bb7fb",
      "patch": "@@ -19,7 +19,7 @@\n \n #include \"defs.h\"\n \n-#include \"debug.h\"\n+#include \"gdbsupport/common-debug.h\"\n \n /* See gdbsupport/common-debug.h.  */\n \n@@ -28,14 +28,3 @@ debug_vprintf (const char *fmt, va_list ap)\n {\n   vfprintf_unfiltered (gdb_stdlog, fmt, ap);\n }\n-\n-/* See debug.h.  */\n-\n-void\n-debug_prefixed_vprintf (const char *module, const char *func, const char *format,\n-\t\t\tva_list args)\n-{\n-  debug_printf (\"[%s] %s: \", module, func);\n-  debug_vprintf (format, args);\n-  debug_printf (\"\\n\");\n-}"
    },
    {
      "sha": "1d98fbebec6cf0c0ab75161b0fa51781baec258f",
      "filename": "gdb/debug.h",
      "status": "removed",
      "additions": 0,
      "deletions": 32,
      "changes": 32,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/db20ebdfae432f23def32f0b9bbf6e023c926235/gdb/debug.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/db20ebdfae432f23def32f0b9bbf6e023c926235/gdb/debug.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/debug.h?ref=db20ebdfae432f23def32f0b9bbf6e023c926235",
      "patch": "@@ -1,32 +0,0 @@\n-/* Helpers to format and print debug statements\n-\n-   Copyright (C) 2020 Free Software Foundation, Inc.\n-\n-   This file is part of GDB.\n-\n-   This program is free software; you can redistribute it and/or modify\n-   it under the terms of the GNU General Public License as published by\n-   the Free Software Foundation; either version 3 of the License, or\n-   (at your option) any later version.\n-\n-   This program is distributed in the hope that it will be useful,\n-   but WITHOUT ANY WARRANTY; without even the implied warranty of\n-   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-   GNU General Public License for more details.\n-\n-   You should have received a copy of the GNU General Public License\n-   along with this program.  If not, see <http://www.gnu.org/licenses/>.  */\n-\n-#ifndef DEBUG_H\n-#define DEBUG_H\n-\n-/* Print a debug statement prefixed with the module and function name, and\n-   with a newline at the end.  */\n-\n-void ATTRIBUTE_PRINTF (3, 0)\n-debug_prefixed_vprintf (const char *module, const char *func, const char *format,\n-\t\t\tva_list args);\n-\n-#endif /* DEBUG_H */\n-\n-"
    },
    {
      "sha": "d552fb3adb26906621aab42b683d40b864ab7dfe",
      "filename": "gdb/infrun.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ba98841943b085891eb4bf4debc3981ac95bb7fb/gdb/infrun.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ba98841943b085891eb4bf4debc3981ac95bb7fb/gdb/infrun.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/infrun.c?ref=ba98841943b085891eb4bf4debc3981ac95bb7fb",
      "patch": "@@ -70,7 +70,7 @@\n #include \"gdbsupport/selftest.h\"\n #include \"scoped-mock-context.h\"\n #include \"test-target.h\"\n-#include \"debug.h\"\n+#include \"gdbsupport/common-debug.h\"\n \n /* Prototypes for local functions */\n "
    },
    {
      "sha": "24f971680ca52671bfd42c876044d99ca00860a5",
      "filename": "gdb/linux-nat.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ba98841943b085891eb4bf4debc3981ac95bb7fb/gdb/linux-nat.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ba98841943b085891eb4bf4debc3981ac95bb7fb/gdb/linux-nat.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/linux-nat.c?ref=ba98841943b085891eb4bf4debc3981ac95bb7fb",
      "patch": "@@ -68,7 +68,7 @@\n #include \"gdbsupport/fileio.h\"\n #include \"gdbsupport/scope-exit.h\"\n #include \"gdbsupport/gdb-sigmask.h\"\n-#include \"debug.h\"\n+#include \"gdbsupport/common-debug.h\"\n \n /* This comment documents high-level logic of this file.\n "
    },
    {
      "sha": "d5b20ec0b64e0fddfb05bcc5dd6515eb3c18659e",
      "filename": "gdbsupport/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ba98841943b085891eb4bf4debc3981ac95bb7fb/gdbsupport/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ba98841943b085891eb4bf4debc3981ac95bb7fb/gdbsupport/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbsupport/ChangeLog?ref=ba98841943b085891eb4bf4debc3981ac95bb7fb",
      "patch": "@@ -1,3 +1,8 @@\n+2020-10-02  Simon Marchi  <simon.marchi@polymtl.ca>\n+\n+\t* common-debug.cc (debug_prefixed_vprintf): Move here.\n+\t* common-debug.h (debug_prefixed_vprintf): Move here.\n+\n 2020-10-02  Simon Marchi  <simon.marchi@polymtl.ca>\n \n \t* event-loop.h (add_file_handler): Add \"name\" parameter."
    },
    {
      "sha": "b8fd133159fb4873d1a725476cd93fa64a12c411",
      "filename": "gdbsupport/common-debug.cc",
      "status": "modified",
      "additions": 11,
      "deletions": 0,
      "changes": 11,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ba98841943b085891eb4bf4debc3981ac95bb7fb/gdbsupport/common-debug.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ba98841943b085891eb4bf4debc3981ac95bb7fb/gdbsupport/common-debug.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbsupport/common-debug.cc?ref=ba98841943b085891eb4bf4debc3981ac95bb7fb",
      "patch": "@@ -35,3 +35,14 @@ debug_printf (const char *fmt, ...)\n   debug_vprintf (fmt, ap);\n   va_end (ap);\n }\n+\n+/* See gdbsupport/common-debug.h.  */\n+\n+void\n+debug_prefixed_vprintf (const char *module, const char *func, const char *format,\n+\t\t\tva_list args)\n+{\n+  debug_printf (\"[%s] %s: \", module, func);\n+  debug_vprintf (format, args);\n+  debug_printf (\"\\n\");\n+}"
    },
    {
      "sha": "afb427e18005088efd1d7093407df891f2d87e11",
      "filename": "gdbsupport/common-debug.h",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ba98841943b085891eb4bf4debc3981ac95bb7fb/gdbsupport/common-debug.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ba98841943b085891eb4bf4debc3981ac95bb7fb/gdbsupport/common-debug.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbsupport/common-debug.h?ref=ba98841943b085891eb4bf4debc3981ac95bb7fb",
      "patch": "@@ -38,4 +38,10 @@ extern void debug_printf (const char *format, ...)\n extern void debug_vprintf (const char *format, va_list ap)\n      ATTRIBUTE_PRINTF (1, 0);\n \n+/* Print a debug statement prefixed with the module and function name, and\n+   with a newline at the end.  */\n+\n+extern void ATTRIBUTE_PRINTF (3, 0) debug_prefixed_vprintf\n+  (const char *module, const char *func, const char *format, va_list args);\n+\n #endif /* COMMON_COMMON_DEBUG_H */"
    }
  ]
}