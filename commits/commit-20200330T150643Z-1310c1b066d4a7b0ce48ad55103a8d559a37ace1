{
  "sha": "1310c1b066d4a7b0ce48ad55103a8d559a37ace1",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MTMxMGMxYjA2NmQ0YTdiMGNlNDhhZDU1MTAzYThkNTU5YTM3YWNlMQ==",
  "commit": {
    "author": {
      "name": "Pedro Franco de Carvalho",
      "email": "pedromfc@linux.ibm.com",
      "date": "2020-03-30T15:04:25Z"
    },
    "committer": {
      "name": "Pedro Franco de Carvalho",
      "email": "pedromfc@linux.ibm.com",
      "date": "2020-03-30T15:06:43Z"
    },
    "message": "Add low_new_clone method to linux_nat_target.\n\nThis patch adds a low_new_clone method to linux_nat_target, called after\na PTRACE_EVENT_CLONE is detected, similar to how low_new_fork is called\nafter PTRACE_EVENT_(V)FORK.\n\nThis is useful for targets that need to copy state associated with a\nthread that is inherited across clones.\n\ngdb/ChangeLog:\n2020-03-30  Pedro Franco de Carvalho  <pedromfc@linux.ibm.com>\n\n\t* linux-nat.h (low_new_clone): New method.\n\t* linux-nat.c (linux_handle_extended_wait): Call low_new_clone.",
    "tree": {
      "sha": "ecb82d3142a43fd0d0656f9b71c5c936279e1552",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/ecb82d3142a43fd0d0656f9b71c5c936279e1552"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/1310c1b066d4a7b0ce48ad55103a8d559a37ace1",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/1310c1b066d4a7b0ce48ad55103a8d559a37ace1",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/1310c1b066d4a7b0ce48ad55103a8d559a37ace1",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/1310c1b066d4a7b0ce48ad55103a8d559a37ace1/comments",
  "author": null,
  "committer": null,
  "parents": [
    {
      "sha": "c0502da6886e27f344375e471d6a7610a008c404",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/c0502da6886e27f344375e471d6a7610a008c404",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/c0502da6886e27f344375e471d6a7610a008c404"
    }
  ],
  "stats": {
    "total": 13,
    "additions": 13,
    "deletions": 0
  },
  "files": [
    {
      "sha": "61f01ab2438fd83f0426321ed743b49478a89a72",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/1310c1b066d4a7b0ce48ad55103a8d559a37ace1/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/1310c1b066d4a7b0ce48ad55103a8d559a37ace1/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=1310c1b066d4a7b0ce48ad55103a8d559a37ace1",
      "patch": "@@ -1,3 +1,8 @@\n+2020-03-30  Pedro Franco de Carvalho  <pedromfc@linux.ibm.com>\n+\n+\t* linux-nat.h (low_new_clone): New method.\n+\t* linux-nat.c (linux_handle_extended_wait): Call low_new_clone.\n+\n 2020-03-29  Simon Marchi  <simon.marchi@polymtl.ca>\n \n \t* dbxread.c (dbx_psymtab_to_symtab_1): Rename to..."
    },
    {
      "sha": "28491859aa802666c1fa71d9a9d9b38556b911c6",
      "filename": "gdb/linux-nat.c",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/1310c1b066d4a7b0ce48ad55103a8d559a37ace1/gdb/linux-nat.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/1310c1b066d4a7b0ce48ad55103a8d559a37ace1/gdb/linux-nat.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/linux-nat.c?ref=1310c1b066d4a7b0ce48ad55103a8d559a37ace1",
      "patch": "@@ -1978,6 +1978,10 @@ linux_handle_extended_wait (struct lwp_info *lp, int status)\n \t     inferior.  */\n \t  linux_target->low_new_fork (lp, new_pid);\n \t}\n+      else if (event == PTRACE_EVENT_CLONE)\n+\t{\n+\t  linux_target->low_new_clone (lp, new_pid);\n+\t}\n \n       if (event == PTRACE_EVENT_FORK\n \t  && linux_fork_checkpointing_p (lp->ptid.pid ()))"
    },
    {
      "sha": "1af9e830c831c056f0492909e9fb51ce98de1285",
      "filename": "gdb/linux-nat.h",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/1310c1b066d4a7b0ce48ad55103a8d559a37ace1/gdb/linux-nat.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/1310c1b066d4a7b0ce48ad55103a8d559a37ace1/gdb/linux-nat.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/linux-nat.h?ref=1310c1b066d4a7b0ce48ad55103a8d559a37ace1",
      "patch": "@@ -164,6 +164,10 @@ class linux_nat_target : public inf_ptrace_target\n   virtual void low_new_fork (struct lwp_info *parent, pid_t child_pid)\n   {}\n \n+  /* The method to call, if any, when a new clone event is detected.  */\n+  virtual void low_new_clone (struct lwp_info *parent, pid_t child_lwp)\n+  {}\n+\n   /* The method to call, if any, when a process is no longer\n      attached.  */\n   virtual void low_forget_process (pid_t pid)"
    }
  ]
}