{
  "sha": "a2f4b66c9eb5210f8ef6038d7194af1e5f314f97",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YTJmNGI2NmM5ZWI1MjEwZjhlZjYwMzhkNzE5NGFmMWU1ZjMxNGY5Nw==",
  "commit": {
    "author": {
      "name": "H.J. Lu",
      "email": "hjl.tools@gmail.com",
      "date": "2019-05-28T17:05:28Z"
    },
    "committer": {
      "name": "H.J. Lu",
      "email": "hjl.tools@gmail.com",
      "date": "2019-05-28T17:05:44Z"
    },
    "message": "x86: Add CheckRegSize to AVX512_BF16 instructions with Disp8ShiftVL\n\nFor AVX512 instructions with Disp8ShiftVL and Broadcast, we may need to\nadd CheckRegSize to check if broadcast matches the destination register\nsize.\n\ngas/\n\n\tPR gas/24625\n\t* testsuite/gas/i386/inval-avx512f.s: Add tests for AVX512_BF16\n\tinstructions with invalid broadcast.\n\t* testsuite/gas/i386/x86-64-inval-avx512f.s: Likewise.\n\t* testsuite/gas/i386/inval-avx512f.l: Updated.\n\t* testsuite/gas/i386/x86-64-inval-avx512f.l: Likewise.\n\nopcodes/\n\n\tPR gas/24625\n\t* i386-opc.tbl: Add CheckRegSize to AVX512_BF16 instructions with\n\tDisp8ShiftVL.\n\t* i386-tbl.h: Regenerated.",
    "tree": {
      "sha": "36db3b000a851d9680704b36f17ecf81df19fd72",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/36db3b000a851d9680704b36f17ecf81df19fd72"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/a2f4b66c9eb5210f8ef6038d7194af1e5f314f97",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/a2f4b66c9eb5210f8ef6038d7194af1e5f314f97",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/a2f4b66c9eb5210f8ef6038d7194af1e5f314f97",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/a2f4b66c9eb5210f8ef6038d7194af1e5f314f97/comments",
  "author": {
    "login": "hjl-tools",
    "id": 1072356,
    "node_id": "MDQ6VXNlcjEwNzIzNTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hjl-tools",
    "html_url": "https://github.com/hjl-tools",
    "followers_url": "https://api.github.com/users/hjl-tools/followers",
    "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}",
    "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions",
    "organizations_url": "https://api.github.com/users/hjl-tools/orgs",
    "repos_url": "https://api.github.com/users/hjl-tools/repos",
    "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hjl-tools/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "hjl-tools",
    "id": 1072356,
    "node_id": "MDQ6VXNlcjEwNzIzNTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hjl-tools",
    "html_url": "https://github.com/hjl-tools",
    "followers_url": "https://api.github.com/users/hjl-tools/followers",
    "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}",
    "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions",
    "organizations_url": "https://api.github.com/users/hjl-tools/orgs",
    "repos_url": "https://api.github.com/users/hjl-tools/repos",
    "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hjl-tools/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "c0e70c624fc7d89f5cf281350692de89a063786f",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/c0e70c624fc7d89f5cf281350692de89a063786f",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/c0e70c624fc7d89f5cf281350692de89a063786f"
    }
  ],
  "stats": {
    "total": 42,
    "additions": 38,
    "deletions": 4
  },
  "files": [
    {
      "sha": "7de5247623402a9b2bdbf68910365a7d92b6250c",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 9,
      "deletions": 0,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a2f4b66c9eb5210f8ef6038d7194af1e5f314f97/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a2f4b66c9eb5210f8ef6038d7194af1e5f314f97/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=a2f4b66c9eb5210f8ef6038d7194af1e5f314f97",
      "patch": "@@ -1,3 +1,12 @@\n+2019-05-28  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\tPR gas/24625\n+\t* testsuite/gas/i386/inval-avx512f.s: Add tests for AVX512_BF16\n+\tinstructions with invalid broadcast.\n+\t* testsuite/gas/i386/x86-64-inval-avx512f.s: Likewise.\n+\t* testsuite/gas/i386/inval-avx512f.l: Updated.\n+\t* testsuite/gas/i386/x86-64-inval-avx512f.l: Likewise.\n+\n 2019-05-27  Alan Modra  <amodra@gmail.com>\n \n \t* config/tc-ppc.c (is_ppc64_target): New function."
    },
    {
      "sha": "e4141298664bdc45dfd159a5205d21d808a6603a",
      "filename": "gas/testsuite/gas/i386/inval-avx512f.l",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a2f4b66c9eb5210f8ef6038d7194af1e5f314f97/gas/testsuite/gas/i386/inval-avx512f.l",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a2f4b66c9eb5210f8ef6038d7194af1e5f314f97/gas/testsuite/gas/i386/inval-avx512f.l",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/inval-avx512f.l?ref=a2f4b66c9eb5210f8ef6038d7194af1e5f314f97",
      "patch": "@@ -211,6 +211,8 @@\n .*:304: Error: .*masking.*vscatterpf1dps.*\n .*:305: Error: .*masking.*vscatterpf1qpd.*\n .*:306: Error: .*masking.*vscatterpf1qps.*\n+.*:308: Error: .*unsupported broadcast for `vdpbf16ps'\n+.*:309: Error: .*unsupported broadcast for `vcvtne2ps2bf16'\n GAS LISTING .*\n \n \n@@ -546,3 +548,6 @@ GAS LISTING .*\n [ \t]*304[ \t]+vscatterpf1dps \\(%eax,%zmm1\\)\\{%k1\\}\\{z\\}\n [ \t]*305[ \t]+vscatterpf1qpd \\(%eax,%zmm1\\)\\{%k1\\}\\{z\\}\n [ \t]*306[ \t]+vscatterpf1qps \\(%eax,%zmm1\\)\\{%k1\\}\\{z\\}\n+[ \t]*307[ \t]*\n+[ \t]*308[ \t]+vdpbf16ps 8\\(%eax\\)\\{1to8\\}, %zmm2, %zmm2\n+[ \t]*309[ \t]+vcvtne2ps2bf16 8\\(%eax\\)\\{1to8\\}, %zmm2, %zmm2"
    },
    {
      "sha": "2833b1ef1400ff6d6c588b038f473037dcaf9e6b",
      "filename": "gas/testsuite/gas/i386/inval-avx512f.s",
      "status": "modified",
      "additions": 3,
      "deletions": 0,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a2f4b66c9eb5210f8ef6038d7194af1e5f314f97/gas/testsuite/gas/i386/inval-avx512f.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a2f4b66c9eb5210f8ef6038d7194af1e5f314f97/gas/testsuite/gas/i386/inval-avx512f.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/inval-avx512f.s?ref=a2f4b66c9eb5210f8ef6038d7194af1e5f314f97",
      "patch": "@@ -304,3 +304,6 @@ _start:\n \tvscatterpf1dps (%eax,%zmm1){%k1}{z}\n \tvscatterpf1qpd (%eax,%zmm1){%k1}{z}\n \tvscatterpf1qps (%eax,%zmm1){%k1}{z}\n+\n+\tvdpbf16ps 8(%eax){1to8}, %zmm2, %zmm2\n+\tvcvtne2ps2bf16 8(%eax){1to8}, %zmm2, %zmm2"
    },
    {
      "sha": "634683f43cae3eeb84d3cb75be81c107951ed948",
      "filename": "gas/testsuite/gas/i386/x86-64-inval-avx512f.l",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a2f4b66c9eb5210f8ef6038d7194af1e5f314f97/gas/testsuite/gas/i386/x86-64-inval-avx512f.l",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a2f4b66c9eb5210f8ef6038d7194af1e5f314f97/gas/testsuite/gas/i386/x86-64-inval-avx512f.l",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/x86-64-inval-avx512f.l?ref=a2f4b66c9eb5210f8ef6038d7194af1e5f314f97",
      "patch": "@@ -39,6 +39,8 @@\n .*:55: Error: .*\n .*:56: Error: .*\n .*:58: Error: .*\n+.*:61: Error: .*unsupported broadcast for `vdpbf16ps'\n+.*:62: Error: .*unsupported broadcast for `vcvtne2ps2bf16'\n GAS LISTING .*\n \n \n@@ -101,3 +103,7 @@ GAS LISTING .*\n [ \t]*57[ \t]*\n \fGAS LISTING .*\n [ \t]*58[ \t]+vcvtps2qq xmm0, DWORD PTR \\[rax\\]\n+[ \t]*59[ \t]*\n+[ \t]*60[ \t]+\\.att_syntax prefix\n+[ \t]*61[ \t]+vdpbf16ps 8\\(%rax\\)\\{1to8\\}, %zmm2, %zmm2\n+[ \t]*62[ \t]+vcvtne2ps2bf16 8\\(%rax\\)\\{1to8\\}, %zmm2, %zmm2"
    },
    {
      "sha": "934e9061cfde4015481f8400ecf5127990d15a73",
      "filename": "gas/testsuite/gas/i386/x86-64-inval-avx512f.s",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a2f4b66c9eb5210f8ef6038d7194af1e5f314f97/gas/testsuite/gas/i386/x86-64-inval-avx512f.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a2f4b66c9eb5210f8ef6038d7194af1e5f314f97/gas/testsuite/gas/i386/x86-64-inval-avx512f.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/x86-64-inval-avx512f.s?ref=a2f4b66c9eb5210f8ef6038d7194af1e5f314f97",
      "patch": "@@ -56,3 +56,7 @@ _start:\n \tvaddps zmm2{z}, zmm1, zmm0\n \n \tvcvtps2qq xmm0, DWORD PTR [rax]\n+\n+\t.att_syntax prefix\n+\tvdpbf16ps 8(%rax){1to8}, %zmm2, %zmm2\n+\tvcvtne2ps2bf16 8(%rax){1to8}, %zmm2, %zmm2"
    },
    {
      "sha": "8c881a2c5869bcfccd30f44a2a31992401dcec32",
      "filename": "opcodes/ChangeLog",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a2f4b66c9eb5210f8ef6038d7194af1e5f314f97/opcodes/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a2f4b66c9eb5210f8ef6038d7194af1e5f314f97/opcodes/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/ChangeLog?ref=a2f4b66c9eb5210f8ef6038d7194af1e5f314f97",
      "patch": "@@ -1,3 +1,10 @@\n+2019-05-28  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\tPR gas/24625\n+\t* i386-opc.tbl: Add CheckRegSize to AVX512_BF16 instructions with\n+\tDisp8ShiftVL.\n+\t* i386-tbl.h: Regenerated.\n+\n 2019-05-24  Alan Modra  <amodra@gmail.com>\n \n \t* po/POTFILES.in: Regenerate."
    },
    {
      "sha": "f3b3a95d9a5cb20531e666b0dc7b37646ab25a52",
      "filename": "opcodes/i386-opc.tbl",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a2f4b66c9eb5210f8ef6038d7194af1e5f314f97/opcodes/i386-opc.tbl",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a2f4b66c9eb5210f8ef6038d7194af1e5f314f97/opcodes/i386-opc.tbl",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/i386-opc.tbl?ref=a2f4b66c9eb5210f8ef6038d7194af1e5f314f97",
      "patch": "@@ -4713,7 +4713,7 @@ movdir64b, 2, 0x660f38f8, None, 3, CpuMOVDIR64B|Cpu64, Modrm|No_bSuf|No_wSuf|No_\n \n // AVX512_BF16 instructions.\n \n-vcvtne2ps2bf16, 3, 0xf272, None, 1, CpuAVX512_BF16, Modrm|VexOpcode|VexVVVV|Masking=3|VexW0|Broadcast|Disp8ShiftVL|No_bSuf|No_wSuf|No_lSuf|No_sSuf|No_qSuf|No_ldSuf, { RegXMM|RegYMM|RegZMM|Dword|Unspecified|BaseIndex, RegXMM|RegYMM|RegZMM, RegXMM|RegYMM|RegZMM }\n+vcvtne2ps2bf16, 3, 0xf272, None, 1, CpuAVX512_BF16, Modrm|VexOpcode|VexVVVV|Masking=3|VexW0|Broadcast|Disp8ShiftVL|CheckRegSize|No_bSuf|No_wSuf|No_lSuf|No_sSuf|No_qSuf|No_ldSuf, { RegXMM|RegYMM|RegZMM|Dword|Unspecified|BaseIndex, RegXMM|RegYMM|RegZMM, RegXMM|RegYMM|RegZMM }\n \n vcvtneps2bf16, 2, 0xf372, None, 1, CpuAVX512_BF16|CpuAVX512VL, Modrm|VexOpcode|EVex128|Masking=3|VexW0|Broadcast|Disp8MemShift=4|No_bSuf|No_wSuf|No_lSuf|No_sSuf|No_qSuf|No_ldSuf, { RegXMM|Dword|BaseIndex, RegXMM }\n vcvtneps2bf16, 2, 0xf372, None, 1, CpuAVX512_BF16|CpuAVX512VL, Modrm|VexOpcode|EVex256|Masking=3|VexW0|Broadcast|Disp8MemShift=5|No_bSuf|No_wSuf|No_lSuf|No_sSuf|No_qSuf|No_ldSuf, { RegYMM|Dword|BaseIndex, RegXMM }\n@@ -4722,6 +4722,6 @@ vcvtneps2bf16, 2, 0xf372, None, 1, CpuAVX512_BF16, Modrm|VexOpcode|EVex512|Maski\n vcvtneps2bf16x, 2, 0xf372, None, 1, CpuAVX512_BF16|CpuAVX512VL, Modrm|VexOpcode|EVex128|Masking=3|VexW0|Disp8MemShift=4|No_bSuf|No_wSuf|No_lSuf|No_sSuf|No_qSuf|No_ldSuf|ATTSyntax, { Unspecified|BaseIndex, RegXMM }\n vcvtneps2bf16y, 2, 0xf372, None, 1, CpuAVX512_BF16|CpuAVX512VL, Modrm|VexOpcode|EVex256|Masking=3|VexW0|Disp8MemShift=5|No_bSuf|No_wSuf|No_lSuf|No_sSuf|No_qSuf|No_ldSuf|ATTSyntax, { Unspecified|BaseIndex, RegXMM }\n \n-vdpbf16ps, 3, 0xf352, None, 1, CpuAVX512_BF16, Modrm|VexOpcode|VexVVVV|Masking=3|VexW0|Broadcast|Disp8ShiftVL|No_bSuf|No_wSuf|No_lSuf|No_sSuf|No_qSuf|No_ldSuf, { RegXMM|RegYMM|RegZMM|Dword|Unspecified|BaseIndex, RegXMM|RegYMM|RegZMM, RegXMM|RegYMM|RegZMM }\n+vdpbf16ps, 3, 0xf352, None, 1, CpuAVX512_BF16, Modrm|VexOpcode|VexVVVV|Masking=3|VexW0|Broadcast|Disp8ShiftVL|CheckRegSize|No_bSuf|No_wSuf|No_lSuf|No_sSuf|No_qSuf|No_ldSuf, { RegXMM|RegYMM|RegZMM|Dword|Unspecified|BaseIndex, RegXMM|RegYMM|RegZMM, RegXMM|RegYMM|RegZMM }\n \n // AVX512_BF16 instructions end."
    },
    {
      "sha": "5e1611e9ad80a9fe9069699366704c919083aa7e",
      "filename": "opcodes/i386-tbl.h",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a2f4b66c9eb5210f8ef6038d7194af1e5f314f97/opcodes/i386-tbl.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a2f4b66c9eb5210f8ef6038d7194af1e5f314f97/opcodes/i386-tbl.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/i386-tbl.h?ref=a2f4b66c9eb5210f8ef6038d7194af1e5f314f97",
      "patch": "@@ -67651,7 +67651,7 @@ const insn_template i386_optab[] =\n         0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n         0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n         0, 0, 0, 0, 0, 0, 0 } },\n-    { 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1,\n+    { 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1,\n       1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1,\n       1, 1, 0, 0, 0, 0, 0, 3, 3, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, 0 },\n     { { { 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1,\n@@ -67750,7 +67750,7 @@ const insn_template i386_optab[] =\n         0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n         0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n         0, 0, 0, 0, 0, 0, 0 } },\n-    { 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1,\n+    { 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1,\n       1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1,\n       1, 1, 0, 0, 0, 0, 0, 3, 3, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, 0 },\n     { { { 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1,"
    }
  ]
}