{
  "sha": "a3ca48cdda743dc2756e8c689feab67273969db0",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YTNjYTQ4Y2RkYTc0M2RjMjc1NmU4YzY4OWZlYWI2NzI3Mzk2OWRiMA==",
  "commit": {
    "author": {
      "name": "Tom de Vries",
      "email": "tdevries@suse.de",
      "date": "2020-06-29T11:59:19Z"
    },
    "committer": {
      "name": "Tom de Vries",
      "email": "tdevries@suse.de",
      "date": "2020-06-29T11:59:19Z"
    },
    "message": "[gdb/testsuite] Emit unresolved for unknown proc\n\nSince commit 26783bce15 \"[gdb/testsuite] Don't abort testrun for invalid\ncommand in test-case\" we don't abort the testrun when encountering an invalid\ncommand.  However, since we don't report errors in the summary, there's a\nchance that the error goes unnoticed.\n\nMake the invalid command error more visible by marking the test-case\nunresolved, such that we have f.i.:\n...\nPASS: gdb.python/py-breakpoint.exp: test_bkpt_internal: Test watchpoint write\nUNRESOLVED: gdb.python/py-breakpoint.exp: test_bkpt_eval_funcs: \\\n  testcase aborted due to invalid command name: gdb_py_test_multiple\nERROR: tcl error sourcing py-breakpoint.exp.\nERROR: invalid command name \"gdb_py_test_multiple\"\n    while executing\n  ...\n                === gdb Summary ===\n\nnr of expected passes            56\nnr of unresolved testcases       1\n...\n\nTested on x86_64-linux.\n\ngdb/testsuite/ChangeLog:\n\n2020-06-29  Tom de Vries  <tdevries@suse.de>\n\n\t* lib/gdb.exp (unknown): Make test-case unresolved.",
    "tree": {
      "sha": "3f6e219a23487a247a82178b3836a60514bf7557",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/3f6e219a23487a247a82178b3836a60514bf7557"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/a3ca48cdda743dc2756e8c689feab67273969db0",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/a3ca48cdda743dc2756e8c689feab67273969db0",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/a3ca48cdda743dc2756e8c689feab67273969db0",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/a3ca48cdda743dc2756e8c689feab67273969db0/comments",
  "author": {
    "login": "vries",
    "id": 4057235,
    "node_id": "MDQ6VXNlcjQwNTcyMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4057235?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vries",
    "html_url": "https://github.com/vries",
    "followers_url": "https://api.github.com/users/vries/followers",
    "following_url": "https://api.github.com/users/vries/following{/other_user}",
    "gists_url": "https://api.github.com/users/vries/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vries/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vries/subscriptions",
    "organizations_url": "https://api.github.com/users/vries/orgs",
    "repos_url": "https://api.github.com/users/vries/repos",
    "events_url": "https://api.github.com/users/vries/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vries/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "vries",
    "id": 4057235,
    "node_id": "MDQ6VXNlcjQwNTcyMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4057235?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vries",
    "html_url": "https://github.com/vries",
    "followers_url": "https://api.github.com/users/vries/followers",
    "following_url": "https://api.github.com/users/vries/following{/other_user}",
    "gists_url": "https://api.github.com/users/vries/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vries/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vries/subscriptions",
    "organizations_url": "https://api.github.com/users/vries/orgs",
    "repos_url": "https://api.github.com/users/vries/repos",
    "events_url": "https://api.github.com/users/vries/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vries/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "f638ed73010c667c86714b3435a5e1f3a06521cd",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/f638ed73010c667c86714b3435a5e1f3a06521cd",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/f638ed73010c667c86714b3435a5e1f3a06521cd"
    }
  ],
  "stats": {
    "total": 6,
    "additions": 6,
    "deletions": 0
  },
  "files": [
    {
      "sha": "8001ec1a6295acf1e7536643b316b484cf796826",
      "filename": "gdb/testsuite/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a3ca48cdda743dc2756e8c689feab67273969db0/gdb/testsuite/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a3ca48cdda743dc2756e8c689feab67273969db0/gdb/testsuite/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/ChangeLog?ref=a3ca48cdda743dc2756e8c689feab67273969db0",
      "patch": "@@ -1,3 +1,7 @@\n+2020-06-29  Tom de Vries  <tdevries@suse.de>\n+\n+\t* lib/gdb.exp (unknown): Make test-case unresolved.\n+\n 2020-06-29  Tom de Vries  <tdevries@suse.de>\n \n \tPR gdb/25475"
    },
    {
      "sha": "b0faf622a9e6426a9cb5d38eee021fd587e3231d",
      "filename": "gdb/testsuite/lib/gdb.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a3ca48cdda743dc2756e8c689feab67273969db0/gdb/testsuite/lib/gdb.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a3ca48cdda743dc2756e8c689feab67273969db0/gdb/testsuite/lib/gdb.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/lib/gdb.exp?ref=a3ca48cdda743dc2756e8c689feab67273969db0",
      "patch": "@@ -5103,6 +5103,8 @@ proc default_gdb_init { test_file_name } {\n \trename ::unknown ::dejagnu_unknown\n \tproc unknown { args } {\n \t    # Use tcl's unknown.\n+\t    set cmd [lindex $args 0]\n+\t    unresolved \"testcase aborted due to invalid command name: $cmd\"\n \t    return [uplevel 1 ::gdb_tcl_unknown $args]\n \t}\n     }"
    }
  ]
}