{
  "sha": "c5adaa1921c34d2b9711ec7cecd3cb4a253620db",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YzVhZGFhMTkyMWMzNGQyYjk3MTFlYzdjZWNkM2NiNGEyNTM2MjBkYg==",
  "commit": {
    "author": {
      "name": "Tom Tromey",
      "email": "tromey@adacore.com",
      "date": "2019-08-29T14:39:57Z"
    },
    "committer": {
      "name": "Tom Tromey",
      "email": "tromey@adacore.com",
      "date": "2019-10-17T19:21:24Z"
    },
    "message": "Fix creation of stamp-h by gdb's configure script\n\nI happened to notice that \"make\" would always print:\n\n    CONFIG_HEADERS=config.h:config.in \\\n      CONFIG_COMMANDS=\"default depdir\" \\\n      CONFIG_FILES= \\\n      CONFIG_LINKS= \\\n      /bin/sh config.status\n    config.status: creating config.h\n    config.status: config.h is unchanged\n\non every rebuild.  This seems to have changed due to an autoconf\nupgrade at some point in the past.  In the autoconf gdb uses now, it\nworks to use AC_CONFIG_HEADERS and then create the stamp file via the\n\"commands\" argument.\n\nThis patch also fixes up Makefile.in to use the new-style\nconfig.status invocation.  It's no longer necessary to pass the output\nfile names via environment variables.\n\ngdb/ChangeLog\n2019-10-17  Tom Tromey  <tromey@adacore.com>\n\n\t* configure: Rebuild.\n\t* configure.ac: Use AC_CONFIG_HEADERS.  Create stamp-h there, not\n\tin AC_CONFIG_FILES invocation.\n\t* Makefile.in (Makefile, data-directory/Makefile, stamp-h): Use\n\tnew-style config.status invocation.\n\ngdb/gdbserver/ChangeLog\n2019-10-17  Tom Tromey  <tromey@adacore.com>\n\n\t* configure: Rebuild.\n\t* configure.ac: Use AC_CONFIG_HEADERS.  Create stamp-h there, not\n\tin AC_CONFIG_FILES invocation.\n\t* Makefile.in (stamp-h, Makefile): Use new-style config.status\n\tinvocation.\n\nChange-Id: Ia0530d1c5b9756812d29ddb8dc1062326155e61e",
    "tree": {
      "sha": "a840f7bd058978c83003aac6fc3fd828530916c7",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/a840f7bd058978c83003aac6fc3fd828530916c7"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/c5adaa1921c34d2b9711ec7cecd3cb4a253620db",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/c5adaa1921c34d2b9711ec7cecd3cb4a253620db",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/c5adaa1921c34d2b9711ec7cecd3cb4a253620db",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/c5adaa1921c34d2b9711ec7cecd3cb4a253620db/comments",
  "author": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "95c746ccc47cbf927ff2cbebabf910859b090164",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/95c746ccc47cbf927ff2cbebabf910859b090164",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/95c746ccc47cbf927ff2cbebabf910859b090164"
    }
  ],
  "stats": {
    "total": 94,
    "additions": 27,
    "deletions": 67
  },
  "files": [
    {
      "sha": "826278f4492912a457133feabee09c34551358c1",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c5adaa1921c34d2b9711ec7cecd3cb4a253620db/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c5adaa1921c34d2b9711ec7cecd3cb4a253620db/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=c5adaa1921c34d2b9711ec7cecd3cb4a253620db",
      "patch": "@@ -1,3 +1,11 @@\n+2019-10-17  Tom Tromey  <tromey@adacore.com>\n+\n+\t* configure: Rebuild.\n+\t* configure.ac: Use AC_CONFIG_HEADERS.  Create stamp-h there, not\n+\tin AC_CONFIG_FILES invocation.\n+\t* Makefile.in (Makefile, data-directory/Makefile, stamp-h): Use\n+\tnew-style config.status invocation.\n+\n 2019-10-17  Tom de Vries  <tdevries@suse.de>\n \n \t* arm-nbsd-nat.c: Fix typos in comments."
    },
    {
      "sha": "9d07ac0d97429696fe47b31826619337888ac3ed",
      "filename": "gdb/Makefile.in",
      "status": "modified",
      "additions": 3,
      "deletions": 15,
      "changes": 18,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c5adaa1921c34d2b9711ec7cecd3cb4a253620db/gdb/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c5adaa1921c34d2b9711ec7cecd3cb4a253620db/gdb/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/Makefile.in?ref=c5adaa1921c34d2b9711ec7cecd3cb4a253620db",
      "patch": "@@ -1996,18 +1996,10 @@ subdir_do: force\n \tdone\n \n Makefile: Makefile.in config.status\n-\t# Regenerate the Makefile and the tm.h / nm.h links.\n-\tCONFIG_FILES=\"Makefile\" \\\n-\t  CONFIG_COMMANDS= \\\n-\t  CONFIG_HEADERS= \\\n-\t  $(SHELL) config.status\n+\t$(SHELL) config.status $@\n \n data-directory/Makefile: data-directory/Makefile.in config.status\n-\tCONFIG_FILES=\"data-directory/Makefile\" \\\n-\t  CONFIG_COMMANDS=\"depfiles\" \\\n-\t  CONFIG_HEADERS= \\\n-\t  CONFIG_LINKS= \\\n-\t  $(SHELL) config.status\n+\t$(SHELL) config.status $@\n \n .PHONY: run\n run: Makefile\n@@ -2027,11 +2019,7 @@ gdb-gdb.gdb: $(srcdir)/gdb-gdb.gdb.in\n \n config.h: stamp-h ; @true\n stamp-h: $(srcdir)/config.in config.status\n-\tCONFIG_HEADERS=config.h:config.in \\\n-\t  CONFIG_COMMANDS=\"default depdir\" \\\n-\t  CONFIG_FILES= \\\n-\t  CONFIG_LINKS= \\\n-\t  $(SHELL) config.status\n+\t$(SHELL) config.status config.h\n \n config.status: $(srcdir)/configure configure.nat configure.tgt configure.host ../bfd/development.sh\n \t$(SHELL) config.status --recheck"
    },
    {
      "sha": "70ce52fa1e835e4ce385f84652075251d075a9d2",
      "filename": "gdb/configure",
      "status": "modified",
      "additions": 1,
      "deletions": 30,
      "changes": 31,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c5adaa1921c34d2b9711ec7cecd3cb4a253620db/gdb/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c5adaa1921c34d2b9711ec7cecd3cb4a253620db/gdb/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/configure?ref=c5adaa1921c34d2b9711ec7cecd3cb4a253620db",
      "patch": "@@ -19051,38 +19051,9 @@ $as_echo \"$as_me: executing $ac_file commands\" >&6;}\n \n \n   case $ac_file$ac_mode in\n+    \"config.h\":H) echo > stamp-h ;;\n     \"depdir\":C) $SHELL $ac_aux_dir/mkinstalldirs $DEPDIR ;;\n     \"gcore\":F) chmod +x gcore ;;\n-    \"Makefile\":F)\n-case x$CONFIG_HEADERS in\n-xconfig.h:config.in)\n-echo > stamp-h ;;\n-esac\n- ;;\n-    \"gdb-gdb.gdb\":F)\n-case x$CONFIG_HEADERS in\n-xconfig.h:config.in)\n-echo > stamp-h ;;\n-esac\n- ;;\n-    \"gdb-gdb.py\":F)\n-case x$CONFIG_HEADERS in\n-xconfig.h:config.in)\n-echo > stamp-h ;;\n-esac\n- ;;\n-    \"doc/Makefile\":F)\n-case x$CONFIG_HEADERS in\n-xconfig.h:config.in)\n-echo > stamp-h ;;\n-esac\n- ;;\n-    \"data-directory/Makefile\":F)\n-case x$CONFIG_HEADERS in\n-xconfig.h:config.in)\n-echo > stamp-h ;;\n-esac\n- ;;\n \n   esac\n done # for ac_tag"
    },
    {
      "sha": "c4e0dbf9952160434bdeab799a95a248a1914270",
      "filename": "gdb/configure.ac",
      "status": "modified",
      "additions": 2,
      "deletions": 8,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c5adaa1921c34d2b9711ec7cecd3cb4a253620db/gdb/configure.ac",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c5adaa1921c34d2b9711ec7cecd3cb4a253620db/gdb/configure.ac",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/configure.ac?ref=c5adaa1921c34d2b9711ec7cecd3cb4a253620db",
      "patch": "@@ -19,7 +19,7 @@ dnl along with this program.  If not, see <http://www.gnu.org/licenses/>.\n dnl Process this file with autoconf to produce a configure script.\n \n AC_INIT(main.c)\n-AC_CONFIG_HEADER(config.h:config.in)\n+AC_CONFIG_HEADERS(config.h:config.in, [echo > stamp-h])\n AM_MAINTAINER_MODE\n \n # Set the 'development' global.\n@@ -2262,12 +2262,6 @@ GDB_AC_SELFTEST([\n GDB_AC_TRANSFORM([gdb], [GDB_TRANSFORM_NAME])\n GDB_AC_TRANSFORM([gcore], [GCORE_TRANSFORM_NAME])\n AC_CONFIG_FILES([gcore], [chmod +x gcore])\n-AC_CONFIG_FILES([Makefile gdb-gdb.gdb gdb-gdb.py doc/Makefile data-directory/Makefile],\n-[\n-case x$CONFIG_HEADERS in\n-xconfig.h:config.in)\n-echo > stamp-h ;;\n-esac\n-])\n+AC_CONFIG_FILES([Makefile gdb-gdb.gdb gdb-gdb.py doc/Makefile data-directory/Makefile])\n \n AC_OUTPUT"
    },
    {
      "sha": "fa78ebab71c51dd859159c900c743bd82f15865d",
      "filename": "gdb/gdbserver/ChangeLog",
      "status": "modified",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c5adaa1921c34d2b9711ec7cecd3cb4a253620db/gdb/gdbserver/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c5adaa1921c34d2b9711ec7cecd3cb4a253620db/gdb/gdbserver/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/gdbserver/ChangeLog?ref=c5adaa1921c34d2b9711ec7cecd3cb4a253620db",
      "patch": "@@ -1,3 +1,11 @@\n+2019-10-17  Tom Tromey  <tromey@adacore.com>\n+\n+\t* configure: Rebuild.\n+\t* configure.ac: Use AC_CONFIG_HEADERS.  Create stamp-h there, not\n+\tin AC_CONFIG_FILES invocation.\n+\t* Makefile.in (stamp-h, Makefile): Use new-style config.status\n+\tinvocation.\n+\n 2019-10-16  Christian Biesinger  <cbiesinger@google.com>\n \n \t* server.c: Include xml-builtin.h."
    },
    {
      "sha": "b9b5b894a55e2eef2925456b674eda229c301f74",
      "filename": "gdb/gdbserver/Makefile.in",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c5adaa1921c34d2b9711ec7cecd3cb4a253620db/gdb/gdbserver/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c5adaa1921c34d2b9711ec7cecd3cb4a253620db/gdb/gdbserver/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/gdbserver/Makefile.in?ref=c5adaa1921c34d2b9711ec7cecd3cb4a253620db",
      "patch": "@@ -496,10 +496,10 @@ subdir_do: force\n \n config.h: stamp-h ; @true\n stamp-h: config.in config.status\n-\tCONFIG_FILES=\"\" CONFIG_HEADERS=config.h:config.in $(SHELL) ./config.status\n+\t$(SHELL) ./config.status config.h\n \n Makefile: Makefile.in config.status\n-\tCONFIG_HEADERS=\"\" $(SHELL) ./config.status\n+\t$(SHELL) ./config.status $@\n \n $(GNULIB_BUILDDIR)/Makefile: $(srcdir)/../../gnulib/Makefile.in config.status\n \t  @cd $(GNULIB_BUILDDIR); CONFIG_FILES=\"Makefile\" \\"
    },
    {
      "sha": "5c84eeb779463a0ea20dcb5d830bf495ec84d05b",
      "filename": "gdb/gdbserver/configure",
      "status": "modified",
      "additions": 1,
      "deletions": 5,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c5adaa1921c34d2b9711ec7cecd3cb4a253620db/gdb/gdbserver/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c5adaa1921c34d2b9711ec7cecd3cb4a253620db/gdb/gdbserver/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/gdbserver/configure?ref=c5adaa1921c34d2b9711ec7cecd3cb4a253620db",
      "patch": "@@ -9806,17 +9806,13 @@ $as_echo \"$as_me: executing $ac_file commands\" >&6;}\n \n \n   case $ac_file$ac_mode in\n+    \"config.h\":H) echo > stamp-h ;;\n     \"depdir\":C) $SHELL $ac_aux_dir/mkinstalldirs $DEPDIR ;;\n     \"gdbdepdir\":C)\n   for subdir in ${CONFIG_SRC_SUBDIR}\n   do\n       $SHELL $ac_aux_dir/mkinstalldirs $subdir/$DEPDIR\n   done ;;\n-    \"Makefile\":F) case x$CONFIG_HEADERS in\n-xconfig.h:config.in)\n-echo > stamp-h ;;\n-esac\n- ;;\n \n   esac\n done # for ac_tag"
    },
    {
      "sha": "7ebc9c3cf15b8385870ae913f94cff3f1a3c13b6",
      "filename": "gdb/gdbserver/configure.ac",
      "status": "modified",
      "additions": 2,
      "deletions": 7,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c5adaa1921c34d2b9711ec7cecd3cb4a253620db/gdb/gdbserver/configure.ac",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c5adaa1921c34d2b9711ec7cecd3cb4a253620db/gdb/gdbserver/configure.ac",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/gdbserver/configure.ac?ref=c5adaa1921c34d2b9711ec7cecd3cb4a253620db",
      "patch": "@@ -19,7 +19,7 @@ dnl along with this program.  If not, see <http://www.gnu.org/licenses/>.\n dnl Process this file with autoconf to produce a configure script.\n \n AC_INIT(server.c)\n-AC_CONFIG_HEADER(config.h:config.in)\n+AC_CONFIG_HEADERS(config.h:config.in, [echo > stamp-h])\n \n AM_MAINTAINER_MODE\n \n@@ -484,11 +484,6 @@ if test x\"$STDINT_H\" != x; then\n fi\n AC_SUBST(GNULIB_STDINT_H)\n \n-AC_CONFIG_FILES([Makefile],\n-[case x$CONFIG_HEADERS in\n-xconfig.h:config.in)\n-echo > stamp-h ;;\n-esac\n-])\n+AC_CONFIG_FILES([Makefile])\n \n AC_OUTPUT"
    }
  ]
}