{
  "sha": "e168da45a26f1067cb939a91c5d673b33911023a",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ZTE2OGRhNDVhMjZmMTA2N2NiOTM5YTkxYzVkNjczYjMzOTExMDIzYQ==",
  "commit": {
    "author": {
      "name": "Max Filippov",
      "email": "jcmvbkbc@gmail.com",
      "date": "2019-10-10T23:37:25Z"
    },
    "committer": {
      "name": "Max Filippov",
      "email": "jcmvbkbc@gmail.com",
      "date": "2019-10-11T16:02:37Z"
    },
    "message": "bfd/dwarf2.c: fix assertion failure in comp_unit_hash_info\n\nstash_maybe_enable_info_hash_tables sets\nstash->info_hash_status = STASH_INFO_HASH_ON;\nregardless of the result of stash_maybe_update_info_hash_tables call. In\ncase it fails this results in repeated invocation of comp_unit_hash_info\nfor the same comp unit and assertion failure in this function.\n\nOnly set stash->info_hash_status = STASH_INFO_HASH_ON; when\nstash_maybe_update_info_hash_tables is successful.\n\nbfd/\n2019-10-11  Max Filippov  <jcmvbkbc@gmail.com>\n\n\t* dwarf2.c (stash_maybe_enable_info_hash_tables): Only set\n\tstash->info_hash_status = STASH_INFO_HASH_ON when\n\tstash_maybe_update_info_hash_tables succeeds.",
    "tree": {
      "sha": "72f0172e0ae23aa760e3f188c0a0b1c1713b1965",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/72f0172e0ae23aa760e3f188c0a0b1c1713b1965"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/e168da45a26f1067cb939a91c5d673b33911023a",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/e168da45a26f1067cb939a91c5d673b33911023a",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/e168da45a26f1067cb939a91c5d673b33911023a",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/e168da45a26f1067cb939a91c5d673b33911023a/comments",
  "author": {
    "login": "jcmvbkbc",
    "id": 166731,
    "node_id": "MDQ6VXNlcjE2NjczMQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/166731?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jcmvbkbc",
    "html_url": "https://github.com/jcmvbkbc",
    "followers_url": "https://api.github.com/users/jcmvbkbc/followers",
    "following_url": "https://api.github.com/users/jcmvbkbc/following{/other_user}",
    "gists_url": "https://api.github.com/users/jcmvbkbc/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jcmvbkbc/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jcmvbkbc/subscriptions",
    "organizations_url": "https://api.github.com/users/jcmvbkbc/orgs",
    "repos_url": "https://api.github.com/users/jcmvbkbc/repos",
    "events_url": "https://api.github.com/users/jcmvbkbc/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jcmvbkbc/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "jcmvbkbc",
    "id": 166731,
    "node_id": "MDQ6VXNlcjE2NjczMQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/166731?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jcmvbkbc",
    "html_url": "https://github.com/jcmvbkbc",
    "followers_url": "https://api.github.com/users/jcmvbkbc/followers",
    "following_url": "https://api.github.com/users/jcmvbkbc/following{/other_user}",
    "gists_url": "https://api.github.com/users/jcmvbkbc/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jcmvbkbc/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jcmvbkbc/subscriptions",
    "organizations_url": "https://api.github.com/users/jcmvbkbc/orgs",
    "repos_url": "https://api.github.com/users/jcmvbkbc/repos",
    "events_url": "https://api.github.com/users/jcmvbkbc/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jcmvbkbc/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "b0531efe2ea1fd751c37cc09c2d0dc7a88e995fa",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/b0531efe2ea1fd751c37cc09c2d0dc7a88e995fa",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/b0531efe2ea1fd751c37cc09c2d0dc7a88e995fa"
    }
  ],
  "stats": {
    "total": 10,
    "additions": 8,
    "deletions": 2
  },
  "files": [
    {
      "sha": "56f38cfb039e02de4e145f3ffaa36d2b64cccd37",
      "filename": "bfd/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e168da45a26f1067cb939a91c5d673b33911023a/bfd/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e168da45a26f1067cb939a91c5d673b33911023a/bfd/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/ChangeLog?ref=e168da45a26f1067cb939a91c5d673b33911023a",
      "patch": "@@ -1,3 +1,9 @@\n+2019-10-11  Max Filippov  <jcmvbkbc@gmail.com>\n+\n+\t* dwarf2.c (stash_maybe_enable_info_hash_tables): Only set\n+\tstash->info_hash_status = STASH_INFO_HASH_ON when\n+\tstash_maybe_update_info_hash_tables succeeds.\n+\n 2019-10-09  Alan Modra  <amodra@gmail.com>\n \n \tPR 25070"
    },
    {
      "sha": "75d19aa83750bdaeb215f595b052ff0b1b5dd1cb",
      "filename": "bfd/dwarf2.c",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e168da45a26f1067cb939a91c5d673b33911023a/bfd/dwarf2.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e168da45a26f1067cb939a91c5d673b33911023a/bfd/dwarf2.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/dwarf2.c?ref=e168da45a26f1067cb939a91c5d673b33911023a",
      "patch": "@@ -4231,8 +4231,8 @@ stash_maybe_enable_info_hash_tables (bfd *abfd, struct dwarf2_debug *stash)\n   /* We need a forced update so that the info hash tables will\n      be created even though there is no compilation unit.  That\n      happens if STASH_INFO_HASH_TRIGGER is 0.  */\n-  stash_maybe_update_info_hash_tables (stash);\n-  stash->info_hash_status = STASH_INFO_HASH_ON;\n+  if (stash_maybe_update_info_hash_tables (stash))\n+    stash->info_hash_status = STASH_INFO_HASH_ON;\n }\n \n /* Find the file and line associated with a symbol and address using the"
    }
  ]
}