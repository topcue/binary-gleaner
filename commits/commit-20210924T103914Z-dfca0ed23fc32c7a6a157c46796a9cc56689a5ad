{
  "sha": "dfca0ed23fc32c7a6a157c46796a9cc56689a5ad",
  "node_id": "C_kwDOANOeidoAKGRmY2EwZWQyM2ZjMzJjN2E2YTE1N2M0Njc5NmE5Y2M1NjY4OWE1YWQ",
  "commit": {
    "author": {
      "name": "Tom de Vries",
      "email": "tdevries@suse.de",
      "date": "2021-09-24T10:39:14Z"
    },
    "committer": {
      "name": "Tom de Vries",
      "email": "tdevries@suse.de",
      "date": "2021-09-24T10:39:14Z"
    },
    "message": "[gdb/testsuite] Fix set $var val in gdb.dwarf2/dw2-is-stmt.exp\n\nWhen doing a testrun with:\n...\n$ make check RUNTESTFLAGS=$(cd $src/gdb/testsuite/; echo gdb.dwarf2/*.exp)\n...\nI ran into:\n...\nERROR: tcl error sourcing gdb.dwarf2/dw2-is-stmt.exp.\nERROR: expected integer but got \"dw2-abs-hi-pc-world.c\"\n    while executing\n\"incr i\"\n...\n\nThe variable i is set in gdb.dwarf2/dw2-abs-hi-pc.exp, and leaks to\ngdb.dwarf2/dw2-is-stmt.exp.  It's not removed by gdb_cleanup_globals because i\nis set as global variable by runtest.exp, which does:\n...\nfor { set i 0 } { $i < $argc } { incr i } {\n...\nat toplevel but forgets to unset the variable.\n\nFix this by removing '$' in front of the variable name when doing set:\n...\n-set $i 0\n+set i 0\n...\n\nTested on x86_64-linux.",
    "tree": {
      "sha": "65c24da2e1a5c8a553e7c393ba5a3cf5879bc2d1",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/65c24da2e1a5c8a553e7c393ba5a3cf5879bc2d1"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/dfca0ed23fc32c7a6a157c46796a9cc56689a5ad",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/dfca0ed23fc32c7a6a157c46796a9cc56689a5ad",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/dfca0ed23fc32c7a6a157c46796a9cc56689a5ad",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/dfca0ed23fc32c7a6a157c46796a9cc56689a5ad/comments",
  "author": {
    "login": "vries",
    "id": 4057235,
    "node_id": "MDQ6VXNlcjQwNTcyMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4057235?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vries",
    "html_url": "https://github.com/vries",
    "followers_url": "https://api.github.com/users/vries/followers",
    "following_url": "https://api.github.com/users/vries/following{/other_user}",
    "gists_url": "https://api.github.com/users/vries/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vries/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vries/subscriptions",
    "organizations_url": "https://api.github.com/users/vries/orgs",
    "repos_url": "https://api.github.com/users/vries/repos",
    "events_url": "https://api.github.com/users/vries/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vries/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "vries",
    "id": 4057235,
    "node_id": "MDQ6VXNlcjQwNTcyMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4057235?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vries",
    "html_url": "https://github.com/vries",
    "followers_url": "https://api.github.com/users/vries/followers",
    "following_url": "https://api.github.com/users/vries/following{/other_user}",
    "gists_url": "https://api.github.com/users/vries/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vries/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vries/subscriptions",
    "organizations_url": "https://api.github.com/users/vries/orgs",
    "repos_url": "https://api.github.com/users/vries/repos",
    "events_url": "https://api.github.com/users/vries/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vries/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "d294324cc25bdff55b1f3c3918394ceeb63e7354",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/d294324cc25bdff55b1f3c3918394ceeb63e7354",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/d294324cc25bdff55b1f3c3918394ceeb63e7354"
    }
  ],
  "stats": {
    "total": 4,
    "additions": 2,
    "deletions": 2
  },
  "files": [
    {
      "sha": "bb0afe1c282c64cb060d1be5b7581637aba1c3c1",
      "filename": "gdb/testsuite/gdb.dwarf2/dw2-is-stmt.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/dfca0ed23fc32c7a6a157c46796a9cc56689a5ad/gdb/testsuite/gdb.dwarf2/dw2-is-stmt.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/dfca0ed23fc32c7a6a157c46796a9cc56689a5ad/gdb/testsuite/gdb.dwarf2/dw2-is-stmt.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.dwarf2/dw2-is-stmt.exp?ref=dfca0ed23fc32c7a6a157c46796a9cc56689a5ad",
      "patch": "@@ -188,7 +188,7 @@ runto_main\n # be a single instruction between line_label_1 and line_label_2, but\n # we allow for up to 25 (just a random number).\n \n-set $i 0\n+set i 0\n set pc [get_hexadecimal_valueof \"\\$pc\" \"NO-PC\" \\\n \t   \"get pc before stepi loop at line_label_1\"]\n while { $pc < $ll2 } {\n@@ -218,7 +218,7 @@ while { $pc < $ll2 } {\n # Now single instruction step forward until GDB reports a new source\n # line, at which point we should be at line_label_5.\n \n-set $i 0\n+set i 0\n set pc [get_hexadecimal_valueof \"\\$pc\" \"NO-PC\" \\\n \t   \"get pc before stepi loop at line_label_2\"]\n while { $pc < $ll5 } {"
    }
  ]
}