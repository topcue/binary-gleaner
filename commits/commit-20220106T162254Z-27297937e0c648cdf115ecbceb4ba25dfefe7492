{
  "sha": "27297937e0c648cdf115ecbceb4ba25dfefe7492",
  "node_id": "C_kwDOANOeidoAKDI3Mjk3OTM3ZTBjNjQ4Y2RmMTE1ZWNiY2ViNGJhMjVkZmVmZTc0OTI",
  "commit": {
    "author": {
      "name": "Richard Sandiford",
      "email": "richard.sandiford@arm.com",
      "date": "2022-01-06T16:22:54Z"
    },
    "committer": {
      "name": "Richard Sandiford",
      "email": "richard.sandiford@arm.com",
      "date": "2022-01-06T16:22:54Z"
    },
    "message": "aarch64: Add support for new SME instructions\n\nThis patch adds support for three new SME instructions: ADDSPL,\nADDSVL and RDSVL.  They behave like ADDPL, ADDVL and RDVL, but read\nthe streaming vector length instead of the current vector length.\n\nopcodes/\n\t* aarch64-tbl.h (aarch64_opcode_table): Add ADDSPL, ADDSVL and RDSVL.\n\t* aarch64-dis-2.c: Regenerate.\n\ngas/\n\t* testsuite/gas/aarch64/sme.s, testsuite/gas/aarch64/sme.d: Add tests\n\tfor ADDSPL, ADDSVL and RDSVL.",
    "tree": {
      "sha": "4cf2cea710ecf9e12d951a994f90edbdb03223ec",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/4cf2cea710ecf9e12d951a994f90edbdb03223ec"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/27297937e0c648cdf115ecbceb4ba25dfefe7492",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/27297937e0c648cdf115ecbceb4ba25dfefe7492",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/27297937e0c648cdf115ecbceb4ba25dfefe7492",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/27297937e0c648cdf115ecbceb4ba25dfefe7492/comments",
  "author": {
    "login": "rsandifo-arm",
    "id": 28043039,
    "node_id": "MDQ6VXNlcjI4MDQzMDM5",
    "avatar_url": "https://avatars.githubusercontent.com/u/28043039?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rsandifo-arm",
    "html_url": "https://github.com/rsandifo-arm",
    "followers_url": "https://api.github.com/users/rsandifo-arm/followers",
    "following_url": "https://api.github.com/users/rsandifo-arm/following{/other_user}",
    "gists_url": "https://api.github.com/users/rsandifo-arm/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rsandifo-arm/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rsandifo-arm/subscriptions",
    "organizations_url": "https://api.github.com/users/rsandifo-arm/orgs",
    "repos_url": "https://api.github.com/users/rsandifo-arm/repos",
    "events_url": "https://api.github.com/users/rsandifo-arm/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rsandifo-arm/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "rsandifo-arm",
    "id": 28043039,
    "node_id": "MDQ6VXNlcjI4MDQzMDM5",
    "avatar_url": "https://avatars.githubusercontent.com/u/28043039?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rsandifo-arm",
    "html_url": "https://github.com/rsandifo-arm",
    "followers_url": "https://api.github.com/users/rsandifo-arm/followers",
    "following_url": "https://api.github.com/users/rsandifo-arm/following{/other_user}",
    "gists_url": "https://api.github.com/users/rsandifo-arm/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rsandifo-arm/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rsandifo-arm/subscriptions",
    "organizations_url": "https://api.github.com/users/rsandifo-arm/orgs",
    "repos_url": "https://api.github.com/users/rsandifo-arm/repos",
    "events_url": "https://api.github.com/users/rsandifo-arm/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rsandifo-arm/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "41e321a8973edf99f69eb3f11cc076a69be726af",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/41e321a8973edf99f69eb3f11cc076a69be726af",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/41e321a8973edf99f69eb3f11cc076a69be726af"
    }
  ],
  "stats": {
    "total": 696,
    "additions": 394,
    "deletions": 302
  },
  "files": [
    {
      "sha": "f5cf1f0bc1f30f5ab4b36448be96ba0827919c88",
      "filename": "gas/testsuite/gas/aarch64/sme.d",
      "status": "modified",
      "additions": 25,
      "deletions": 0,
      "changes": 25,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/27297937e0c648cdf115ecbceb4ba25dfefe7492/gas/testsuite/gas/aarch64/sme.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/27297937e0c648cdf115ecbceb4ba25dfefe7492/gas/testsuite/gas/aarch64/sme.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/aarch64/sme.d?ref=27297937e0c648cdf115ecbceb4ba25dfefe7492",
      "patch": "@@ -91,3 +91,28 @@ Disassembly of section \\.text:\n  144:\ta1a1f893 \tumops\tza3.s, p6/m, p7/m, z4.b, z1.b\n  148:\ta1817083 \tusmopa\tza3.s, p4/m, p3/m, z4.b, z1.b\n  14c:\ta181f893 \tusmops\tza3.s, p6/m, p7/m, z4.b, z1.b\n+[^:]+:\t04605800 \taddspl\tx0, x0, #0\n+[^:]+:\t04605801 \taddspl\tx1, x0, #0\n+[^:]+:\t0460581f \taddspl\tsp, x0, #0\n+[^:]+:\t04625800 \taddspl\tx0, x2, #0\n+[^:]+:\t047f5800 \taddspl\tx0, sp, #0\n+[^:]+:\t04605be0 \taddspl\tx0, x0, #31\n+[^:]+:\t04605c00 \taddspl\tx0, x0, #-32\n+[^:]+:\t04605c20 \taddspl\tx0, x0, #-31\n+[^:]+:\t04605fe0 \taddspl\tx0, x0, #-1\n+[^:]+:\t04205800 \taddsvl\tx0, x0, #0\n+[^:]+:\t04205801 \taddsvl\tx1, x0, #0\n+[^:]+:\t0420581f \taddsvl\tsp, x0, #0\n+[^:]+:\t04225800 \taddsvl\tx0, x2, #0\n+[^:]+:\t043f5800 \taddsvl\tx0, sp, #0\n+[^:]+:\t04205be0 \taddsvl\tx0, x0, #31\n+[^:]+:\t04205c00 \taddsvl\tx0, x0, #-32\n+[^:]+:\t04205c20 \taddsvl\tx0, x0, #-31\n+[^:]+:\t04205fe0 \taddsvl\tx0, x0, #-1\n+[^:]+:\t04bf5800 \trdsvl\tx0, #0\n+[^:]+:\t04bf5801 \trdsvl\tx1, #0\n+[^:]+:\t04bf581f \trdsvl\txzr, #0\n+[^:]+:\t04bf5be0 \trdsvl\tx0, #31\n+[^:]+:\t04bf5c00 \trdsvl\tx0, #-32\n+[^:]+:\t04bf5c20 \trdsvl\tx0, #-31\n+[^:]+:\t04bf5fe0 \trdsvl\tx0, #-1"
    },
    {
      "sha": "659f1417e3f6a3212dd538a99d899d65b733bc91",
      "filename": "gas/testsuite/gas/aarch64/sme.s",
      "status": "modified",
      "additions": 31,
      "deletions": 0,
      "changes": 31,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/27297937e0c648cdf115ecbceb4ba25dfefe7492/gas/testsuite/gas/aarch64/sme.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/27297937e0c648cdf115ecbceb4ba25dfefe7492/gas/testsuite/gas/aarch64/sme.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/aarch64/sme.s?ref=27297937e0c648cdf115ecbceb4ba25dfefe7492",
      "patch": "@@ -121,3 +121,34 @@ umopa foo.s, p6/m, p7/m, z4.b, z1.b\n umops foo.s, p6/m, p7/m, z4.b, z1.b\n usmopa foo.s, p4/m, p3/m, z4.b, z1.b\n usmops foo.s, p6/m, p7/m, z4.b, z1.b\n+\n+/* ADDSPL.  */\n+addspl x0, x0, #0\n+addspl x1, x0, #0\n+addspl sp, x0, #0\n+addspl x0, x2, #0\n+addspl x0, sp, #0\n+addspl x0, x0, #31\n+addspl x0, x0, #-32\n+addspl x0, x0, #-31\n+addspl x0, x0, #-1\n+\n+/* ADDSVL.  */\n+addsvl x0, x0, #0\n+addsvl x1, x0, #0\n+addsvl sp, x0, #0\n+addsvl x0, x2, #0\n+addsvl x0, sp, #0\n+addsvl x0, x0, #31\n+addsvl x0, x0, #-32\n+addsvl x0, x0, #-31\n+addsvl x0, x0, #-1\n+\n+/* RDSVL.  */\n+rdsvl x0, #0\n+rdsvl x1, #0\n+rdsvl xzr, #0\n+rdsvl x0, #31\n+rdsvl x0, #-32\n+rdsvl x0, #-31\n+rdsvl x0, #-1"
    },
    {
      "sha": "3ae40c18e347fce7f08e0767e872ccfd29c665b3",
      "filename": "opcodes/aarch64-dis-2.c",
      "status": "modified",
      "additions": 335,
      "deletions": 302,
      "changes": 637,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/27297937e0c648cdf115ecbceb4ba25dfefe7492/opcodes/aarch64-dis-2.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/27297937e0c648cdf115ecbceb4ba25dfefe7492/opcodes/aarch64-dis-2.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/aarch64-dis-2.c?ref=27297937e0c648cdf115ecbceb4ba25dfefe7492"
    },
    {
      "sha": "cb039d63eba3e7a9f04520e29ef77da26ec48f52",
      "filename": "opcodes/aarch64-tbl.h",
      "status": "modified",
      "additions": 3,
      "deletions": 0,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/27297937e0c648cdf115ecbceb4ba25dfefe7492/opcodes/aarch64-tbl.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/27297937e0c648cdf115ecbceb4ba25dfefe7492/opcodes/aarch64-tbl.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/aarch64-tbl.h?ref=27297937e0c648cdf115ecbceb4ba25dfefe7492",
      "patch": "@@ -5193,6 +5193,8 @@ const struct aarch64_opcode aarch64_opcode_table[] =\n   /* SME instructions.  */\n   SME_INSN (\"addha\", 0xc0900000, 0xffff001c, sme_misc, 0, OP4 (SME_ZAda_2b, SVE_Pg3, SME_Pm, SVE_Zn), OP_SME_ZADA_PN_PM_ZN_S, 0, 0),\n   SME_I64_INSN (\"addha\", 0xc0d00000, 0xffff0018, sme_misc, 0, OP4 (SME_ZAda_3b, SVE_Pg3, SME_Pm, SVE_Zn), OP_SME_ZADA_PN_PM_ZN_D, 0, 0),\n+  SME_INSN (\"addspl\", 0x04605800, 0xffe0f800, sme_misc, 0, OP3 (Rd_SP, SVE_Rn_SP, SVE_SIMM6), OP_SVE_XXU, 0, 0),\n+  SME_INSN (\"addsvl\", 0x04205800, 0xffe0f800, sme_misc, 0, OP3 (Rd_SP, SVE_Rn_SP, SVE_SIMM6), OP_SVE_XXU, 0, 0),\n   SME_INSN (\"addva\", 0xc0910000, 0xffff001c, sme_misc, 0, OP4 (SME_ZAda_2b, SVE_Pg3, SME_Pm, SVE_Zn), OP_SME_ZADA_PN_PM_ZN_S, 0, 0),\n   SME_I64_INSN (\"addva\", 0xc0d10000, 0xffff0018, sme_misc, 0, OP4 (SME_ZAda_3b, SVE_Pg3, SME_Pm, SVE_Zn), OP_SME_ZADA_PN_PM_ZN_D, 0, 0),\n   SME_INSN (\"bfmopa\", 0x81800000, 0xffe0001c, sme_misc, 0, OP5 (SME_ZAda_2b, SVE_Pg3, SME_Pm, SVE_Zn, SVE_Zm_16), OP_SME_ZADA_PN_PM_ZN_ZM, 0, 0),\n@@ -5203,6 +5205,7 @@ const struct aarch64_opcode aarch64_opcode_table[] =\n   SME_INSN (\"fmops\", 0x80800010, 0xffe0001c, sme_misc, 0, OP5 (SME_ZAda_2b, SVE_Pg3, SME_Pm, SVE_Zn, SVE_Zm_16), OP_SME_ZADA_S_PM_PM_S_S, 0, 0),\n   SME_F64_INSN (\"fmops\", 0x80c00010, 0xffe00018, sme_misc, 0, OP5 (SME_ZAda_3b, SVE_Pg3, SME_Pm, SVE_Zn, SVE_Zm_16), OP_SME_ZADA_D_PM_PM_D_D, 0, 0),\n   SME_INSN (\"fmops\", 0x81a00010, 0xffe0001c, sme_misc, 0, OP5 (SME_ZAda_2b, SVE_Pg3, SME_Pm, SVE_Zn, SVE_Zm_16), OP_SME_ZADA_S_PM_PM_H_H, 0, 0),\n+  SME_INSN (\"rdsvl\", 0x04bf5800, 0xfffff800, sme_misc, 0, OP2 (Rd, SVE_SIMM6), OP_SVE_XU, 0, 0),\n   SME_INSN (\"smopa\", 0xa0800000, 0xffe0001c, sme_misc, 0, OP5 (SME_ZAda_2b, SVE_Pg3, SME_Pm, SVE_Zn, SVE_Zm_16), OP_SME_ZADA_S_PM_PM_B_B, 0, 0),\n   SME_I64_INSN (\"smopa\", 0xa0c00000, 0xffe00018, sme_misc, 0, OP5 (SME_ZAda_3b, SVE_Pg3, SME_Pm, SVE_Zn, SVE_Zm_16), OP_SME_ZADA_D_PM_PM_H_H, 0, 0),\n   SME_INSN (\"smops\", 0xa0800010, 0xffe0001c, sme_misc, 0, OP5 (SME_ZAda_2b, SVE_Pg3, SME_Pm, SVE_Zn, SVE_Zm_16), OP_SME_ZADA_S_PM_PM_B_B, 0, 0),"
    }
  ]
}