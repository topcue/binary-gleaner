{
  "sha": "af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YWYyYzQ4ZDg1NDVjYmMyNGFhNmNhZjliOWYyYTQ5YWI2YzBhYWE3Yg==",
  "commit": {
    "author": {
      "name": "H.J. Lu",
      "email": "hjl.tools@gmail.com",
      "date": "2020-05-25T11:54:31Z"
    },
    "committer": {
      "name": "H.J. Lu",
      "email": "hjl.tools@gmail.com",
      "date": "2020-05-25T11:54:50Z"
    },
    "message": "ld: Pass -z notext to linker for tests with DT_TEXTREL\n\nSome linker tests need DT_TEXTREL.  Pass -z notext to linker for these\ntests so that they will pass with DT_TEXTREL check defaulting to warning\nor error.\n\n\t* testsuite/ld-elf/eh6.d: Pass -z notext to linker.\n\t* testsuite/ld-elf/ehdr_start-shared.d: Likewise.\n\t* testsuite/ld-elf/pr19539.d: Likewise.\n\t* testsuite/ld-elfvers/vers.exp: Likewise.\n\t* testsuite/ld-elfvsb/elfvsb.exp: Likewise.\n\t* testsuite/ld-i386/i386.exp: Likewise.\n\t* testsuite/ld-i386/nogot1.d: Likewise.\n\t* testsuite/ld-i386/pr19539.d: Likewise.\n\t* testsuite/ld-i386/pr19636-2a.d: Likewise.\n\t* testsuite/ld-i386/pr19636-2b.d: Likewise.\n\t* testsuite/ld-i386/pr19636-2c.d: Likewise.\n\t* testsuite/ld-i386/pr19636-2d.d: Likewise.\n\t* testsuite/ld-i386/pr19636-2e.d: Likewise.\n\t* testsuite/ld-i386/pr19636-3d.d: Likewise.\n\t* testsuite/ld-i386/pr19636-3e.d: Likewise.\n\t* testsuite/ld-i386/pr19939b.d: Likewise.\n\t* testsuite/ld-i386/undefweaka.d: Likewise.\n\t* testsuite/ld-i386/undefweakb.d: Likewise.\n\t* testsuite/ld-shared/shared.exp: Likewise.\n\t* testsuite/ld-size/size.exp: Likewise.\n\t* testsuite/ld-unique/unique.exp: Likewise.\n\t* testsuite/ld-x86-64/pie1.d: Likewise.\n\t* testsuite/ld-x86-64/pr19539a.d: Likewise.\n\t* testsuite/ld-x86-64/pr19539b.d: Likewise.\n\t* testsuite/ld-x86-64/pr19636-1d.d: Likewise.\n\t* testsuite/ld-x86-64/pr19636-1e.d: Likewise.\n\t* testsuite/ld-x86-64/pr19807-1a.d: Likewise.\n\t* testsuite/ld-x86-64/pr19807-1b.d: Likewise.\n\t* testsuite/ld-x86-64/pr19807-2b.d: Likewise.\n\t* testsuite/ld-x86-64/pr19807-2c.d: Likewise.\n\t* testsuite/ld-x86-64/pr19807-2d.d: Likewise.\n\t* testsuite/ld-x86-64/pr19807-2e.d: Likewise.\n\t* testsuite/ld-x86-64/pr19939b.d: Likewise.\n\t* testsuite/ld-x86-64/x86-64.exp: Likewise.",
    "tree": {
      "sha": "53375e0ef7c55834937f47d1c0a2afbd84c2470f",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/53375e0ef7c55834937f47d1c0a2afbd84c2470f"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/comments",
  "author": {
    "login": "hjl-tools",
    "id": 1072356,
    "node_id": "MDQ6VXNlcjEwNzIzNTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hjl-tools",
    "html_url": "https://github.com/hjl-tools",
    "followers_url": "https://api.github.com/users/hjl-tools/followers",
    "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}",
    "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions",
    "organizations_url": "https://api.github.com/users/hjl-tools/orgs",
    "repos_url": "https://api.github.com/users/hjl-tools/repos",
    "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hjl-tools/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "hjl-tools",
    "id": 1072356,
    "node_id": "MDQ6VXNlcjEwNzIzNTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hjl-tools",
    "html_url": "https://github.com/hjl-tools",
    "followers_url": "https://api.github.com/users/hjl-tools/followers",
    "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}",
    "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions",
    "organizations_url": "https://api.github.com/users/hjl-tools/orgs",
    "repos_url": "https://api.github.com/users/hjl-tools/repos",
    "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hjl-tools/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "a39d29cda15d4f303c989eb0ac644a3144827881",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/a39d29cda15d4f303c989eb0ac644a3144827881",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/a39d29cda15d4f303c989eb0ac644a3144827881"
    }
  ],
  "stats": {
    "total": 150,
    "additions": 101,
    "deletions": 49
  },
  "files": [
    {
      "sha": "2c7120f7dcd2ab403e58265f8fb5169ed7fc48bb",
      "filename": "ld/ChangeLog",
      "status": "modified",
      "additions": 37,
      "deletions": 0,
      "changes": 37,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/ChangeLog?ref=af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b",
      "patch": "@@ -1,3 +1,40 @@\n+2020-05-25  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\t* testsuite/ld-elf/eh6.d: Pass -z notext to linker.\n+\t* testsuite/ld-elf/ehdr_start-shared.d: Likewise.\n+\t* testsuite/ld-elf/pr19539.d: Likewise.\n+\t* testsuite/ld-elfvers/vers.exp: Likewise.\n+\t* testsuite/ld-elfvsb/elfvsb.exp: Likewise.\n+\t* testsuite/ld-i386/i386.exp: Likewise.\n+\t* testsuite/ld-i386/nogot1.d: Likewise.\n+\t* testsuite/ld-i386/pr19539.d: Likewise.\n+\t* testsuite/ld-i386/pr19636-2a.d: Likewise.\n+\t* testsuite/ld-i386/pr19636-2b.d: Likewise.\n+\t* testsuite/ld-i386/pr19636-2c.d: Likewise.\n+\t* testsuite/ld-i386/pr19636-2d.d: Likewise.\n+\t* testsuite/ld-i386/pr19636-2e.d: Likewise.\n+\t* testsuite/ld-i386/pr19636-3d.d: Likewise.\n+\t* testsuite/ld-i386/pr19636-3e.d: Likewise.\n+\t* testsuite/ld-i386/pr19939b.d: Likewise.\n+\t* testsuite/ld-i386/undefweaka.d: Likewise.\n+\t* testsuite/ld-i386/undefweakb.d: Likewise.\n+\t* testsuite/ld-shared/shared.exp: Likewise.\n+\t* testsuite/ld-size/size.exp: Likewise.\n+\t* testsuite/ld-unique/unique.exp: Likewise.\n+\t* testsuite/ld-x86-64/pie1.d: Likewise.\n+\t* testsuite/ld-x86-64/pr19539a.d: Likewise.\n+\t* testsuite/ld-x86-64/pr19539b.d: Likewise.\n+\t* testsuite/ld-x86-64/pr19636-1d.d: Likewise.\n+\t* testsuite/ld-x86-64/pr19636-1e.d: Likewise.\n+\t* testsuite/ld-x86-64/pr19807-1a.d: Likewise.\n+\t* testsuite/ld-x86-64/pr19807-1b.d: Likewise.\n+\t* testsuite/ld-x86-64/pr19807-2b.d: Likewise.\n+\t* testsuite/ld-x86-64/pr19807-2c.d: Likewise.\n+\t* testsuite/ld-x86-64/pr19807-2d.d: Likewise.\n+\t* testsuite/ld-x86-64/pr19807-2e.d: Likewise.\n+\t* testsuite/ld-x86-64/pr19939b.d: Likewise.\n+\t* testsuite/ld-x86-64/x86-64.exp: Likewise.\n+\n 2020-05-24  Fangrui Song <maskray@google.com>\n \n \tPR ld/26018"
    },
    {
      "sha": "08e9d7b2bd2c9087de971fe320578f91815543e6",
      "filename": "ld/testsuite/ld-elf/eh6.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-elf/eh6.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-elf/eh6.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-elf/eh6.d?ref=af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b",
      "patch": "@@ -1,5 +1,5 @@\n #source: eh6.s\n-#ld: --gc-sections -shared\n+#ld: --gc-sections -shared -z notext\n #readelf: -wf -rW\n #target: x86_64-*-linux-gnu* i?86-*-linux-gnu i?86-*-gnu*\n "
    },
    {
      "sha": "af6bec0a5a77d5fdb4e200951331878972902970",
      "filename": "ld/testsuite/ld-elf/ehdr_start-shared.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-elf/ehdr_start-shared.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-elf/ehdr_start-shared.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-elf/ehdr_start-shared.d?ref=af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b",
      "patch": "@@ -1,5 +1,5 @@\n #source: ehdr_start.s\n-#ld: -e _start -shared\n+#ld: -e _start -shared -z notext\n #nm: -n\n #target: *-*-linux* *-*-gnu* *-*-nacl* arm*-*-uclinuxfdpiceabi\n #xfail: cris*-*-* frv-*-* ![check_shared_lib_support] "
    },
    {
      "sha": "56e6502ca6ed5a2bcfe54cd9be0548a39158fc48",
      "filename": "ld/testsuite/ld-elf/pr19539.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-elf/pr19539.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-elf/pr19539.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-elf/pr19539.d?ref=af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b",
      "patch": "@@ -1,6 +1,6 @@\n #source: start.s\n #source: pr19539.s\n-#ld: -pie -T pr19539.t\n+#ld: -pie -T pr19539.t -z notext\n #readelf : --dyn-syms --wide\n #target: *-*-linux* *-*-gnu* *-*-solaris* arm*-*-uclinuxfdpiceabi\n #xfail: cris*-*-* ![check_pie_support] "
    },
    {
      "sha": "8efbac21b9623c6dede0073b5e817c407a3506b3",
      "filename": "ld/testsuite/ld-elfvers/vers.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-elfvers/vers.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-elfvers/vers.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-elfvers/vers.exp?ref=af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b",
      "patch": "@@ -576,7 +576,7 @@ proc build_vers_lib_no_pic { test source libname other mapfile verexp versymexp\n   global shared\n   # Make sure that PLT is used since PLT is expected.\n   global PLT_CFLAGS\n-  build_binary $shared $PLT_CFLAGS $test $source $libname $other $mapfile $verexp $versymexp $symexp \"\"\n+  build_binary \"$shared -z notext\" $PLT_CFLAGS $test $source $libname $other $mapfile $verexp $versymexp $symexp \"\"\n }\n \n proc build_vers_lib_pic { test source libname other mapfile verexp versymexp symexp } {"
    },
    {
      "sha": "5e19d32ae619dee6f4a7947796c989c3db2aa195",
      "filename": "ld/testsuite/ld-elfvsb/elfvsb.exp",
      "status": "modified",
      "additions": 3,
      "deletions": 0,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-elfvsb/elfvsb.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-elfvsb/elfvsb.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-elfvsb/elfvsb.exp?ref=af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b",
      "patch": "@@ -142,6 +142,9 @@ proc visibility_test { visibility progname testname main sh1 sh2 dat args } {\n     if { [istarget rs6000*-*-aix*] || [istarget powerpc*-*-aix*] } {\n \tset shared \"-bM:SRE -bE:$tmpdir/xcoff.exp\"\n     }\n+    if { [is_elf_format] && [check_shared_lib_support] } {\n+\tappend shared \" -Wl,-z,notext\"\n+    }\n     if {![ld_link $CC $tmpdir/$progname.so \"$shared $shldflags $tmpdir/$sh1 $tmpdir/$sh2\"]} {\n \tif { [ string match $visibility \"hidden_undef\" ]\n \t     && [regexp \"undefined reference to \\`\\.?visibility\\'\" $link_output]"
    },
    {
      "sha": "2956c44c73a76a3b00aad1b499e3e680019e6ba3",
      "filename": "ld/testsuite/ld-i386/i386.exp",
      "status": "modified",
      "additions": 11,
      "deletions": 7,
      "changes": 18,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-i386/i386.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-i386/i386.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-i386/i386.exp?ref=af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b",
      "patch": "@@ -181,7 +181,7 @@ set i386tests {\n       {objdump -sj.got tlsbindesc.sd} {objdump -sj.tdata tlsbindesc.td}}\n       \"tlsbindesc\"}\n     {\"TLS -fno-pic -shared\"\n-     \"-shared -melf_i386 --no-ld-generated-unwind-info \\\n+     \"-shared -melf_i386 --no-ld-generated-unwind-info -z notext \\\n       -z noseparate-code --hash-style=sysv\" \"\"\n      \"--32\" {tlsnopic1.s tlsnopic2.s}\n      {{readelf -Ssrl tlsnopic.rd} {objdump -drj.text tlsnopic.dd}\n@@ -197,7 +197,8 @@ set i386tests {\n      {{objdump -sj.debug_foobar tlsg.sd}} \"tlsg\"}\n     {\"TLS @indntpoff with %eax\" \"-melf_i386\" \"\" \"--32\" {tlsindntpoff.s}\n      {{objdump -drj.text tlsindntpoff.dd}} \"tlsindntpoff\"}\n-    {\"Reloc section order\" \"-shared -melf_i386 -z nocombreloc\" \"\" \"--32\"\n+    {\"Reloc section order\"\n+     \"-shared -melf_i386 -z nocombreloc -z notext\" \"\" \"--32\"\n      {reloc.s} {{objdump -hw reloc.d}} \"reloc.so\"}\n     {\"Basic --emit-relocs support\" \"-shared -melf_i386 --emit-relocs\" \"\" \"--32\"\n      {emit-relocs.s} {{readelf --relocs emit-relocs.rd}} \"emit-relocs.so\"}\n@@ -238,10 +239,13 @@ set i386tests {\n     {\"Build pr19827b.so\" \"-melf_i386 -shared\" \"\"\n      \"--32 -mx86-used-note=yes\"\n      { pr19827b.S } {} \"pr19827b.so\"}\n-    {\"Build pr19827\" \"-melf_i386 -pie tmpdir/pr19827a.o tmpdir/pr19827b.so\" \"\"\n+    {\"Build pr19827\"\n+     \"-melf_i386 -pie -z notext tmpdir/pr19827a.o tmpdir/pr19827b.so\"\n+     \"\"\n      \"--32 -mx86-used-note=yes\"\n      { dummy.s } {{readelf {-rW} pr19827.rd}} \"pr19827\"}\n-    {\"Build pr19827.so\" \"-melf_i386 -shared -Bsymbolic\" \"\"\n+    {\"Build pr19827.so\"\n+     \"-melf_i386 -shared -Bsymbolic -z notext\" \"\"\n      \"--32 -mx86-used-note=yes\"\n      { pr19827a.S }  {{readelf {-rW} pr19827.rd}} \"pr19827.so\"}\n }\n@@ -1316,7 +1320,7 @@ if { [isnative]\n     run_cc_link_tests [list \\\n \t[list \\\n \t    \"Build pr22001-1.so\" \\\n-\t    \"-shared\" \\\n+\t    \"-shared -Wl,-z,notext\" \\\n \t    \"-Wa,-mx86-used-note=yes\" \\\n \t    { pr22001-1a.c } \\\n \t    {} \\\n@@ -1352,7 +1356,7 @@ if { [isnative]\n \t] \\\n \t[list \\\n \t    \"Run pr22001-1\" \\\n-\t    \"$NOPIE_LDFLAGS -Wl,-z,nocopyreloc,--no-as-needed tmpdir/pr22001-1.so\" \\\n+\t    \"$NOPIE_LDFLAGS -Wl,-z,nocopyreloc,--no-as-needed,-z,notext tmpdir/pr22001-1.so\" \\\n \t    \"-Wa,-mx86-used-note=yes\" \\\n \t    { pr22001-1b.c } \\\n \t    \"pr22001-1\" \\\n@@ -1395,7 +1399,7 @@ if { [isnative]\n \t] \\\n \t[list \\\n \t    \"Run pr21997-1\" \\\n-\t    \"$NOPIE_LDFLAGS -Wl,--no-as-needed tmpdir/pr21997-1.so\" \\\n+\t    \"$NOPIE_LDFLAGS -Wl,--no-as-needed,-z,notext tmpdir/pr21997-1.so\" \\\n \t    \"-Wa,-mx86-used-note=yes\" \\\n \t    { pr21997-1b.c } \\\n \t    \"pr21997-1\" \\"
    },
    {
      "sha": "0e721dc5caad9dcf10cab89f74b32fcbd90cb928",
      "filename": "ld/testsuite/ld-i386/nogot1.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-i386/nogot1.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-i386/nogot1.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-i386/nogot1.d?ref=af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b",
      "patch": "@@ -1,4 +1,4 @@\n-#ld: --shared -melf_i386\n+#ld: --shared -melf_i386 -z notext\n #readelf: -S --wide\n #as: --32\n "
    },
    {
      "sha": "f0644a3a84a9e8cc8356c542ba1ee979cb9a23d4",
      "filename": "ld/testsuite/ld-i386/pr19539.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-i386/pr19539.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-i386/pr19539.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-i386/pr19539.d?ref=af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b",
      "patch": "@@ -1,5 +1,5 @@\n #as: --32\n-#ld: -pie -m elf_i386 -T pr19539.t\n+#ld: -pie -m elf_i386 -T pr19539.t -z notext\n #readelf: -r --wide\n \n Relocation section '.rel.dyn' at offset 0x[0-9a-f]+ contains 1 entry:"
    },
    {
      "sha": "98fb23c5a540e2e3e3bebf89d4f0007bf131e0f2",
      "filename": "ld/testsuite/ld-i386/pr19636-2a.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-i386/pr19636-2a.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-i386/pr19636-2a.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-i386/pr19636-2a.d?ref=af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b",
      "patch": "@@ -1,6 +1,6 @@\n #source: pr19636-2.s\n #as: --32 -mrelax-relocations=no\n-#ld: -pie -m elf_i386\n+#ld: -pie -m elf_i386 -z notext\n #readelf : -r --wide -x .got -x .got.plt --dyn-syms\n \n Relocation section '\\.rel\\.dyn' at offset [0x0-9a-f]+ contains 1 entry:"
    },
    {
      "sha": "d7c0a47cddf3f7bbda7c8cfa81ee9ba264f0c2ef",
      "filename": "ld/testsuite/ld-i386/pr19636-2b.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-i386/pr19636-2b.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-i386/pr19636-2b.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-i386/pr19636-2b.d?ref=af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b",
      "patch": "@@ -1,6 +1,6 @@\n #source: pr19636-2.s\n #as: --32 -mrelax-relocations=no\n-#ld: -pie -E -m elf_i386\n+#ld: -pie -E -m elf_i386 -z notext\n #readelf : -r --wide -x .got -x .got.plt --dyn-syms\n \n Relocation section '\\.rel\\.dyn' at offset [0x0-9a-f]+ contains 1 entry:"
    },
    {
      "sha": "b126480b4f285b8c29e62535a4a1ed0c9bb96c33",
      "filename": "ld/testsuite/ld-i386/pr19636-2c.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-i386/pr19636-2c.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-i386/pr19636-2c.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-i386/pr19636-2c.d?ref=af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b",
      "patch": "@@ -1,6 +1,6 @@\n #source: pr19636-2.s\n #as: --32 -mrelax-relocations=no\n-#ld: -pie -m elf_i386\n+#ld: -pie -m elf_i386 -z notext\n #objdump: -dw\n #notarget: i?86-*-nacl* x86_64-*-nacl*\n "
    },
    {
      "sha": "694be367ebb646cb007be9e41856ef39644d9815",
      "filename": "ld/testsuite/ld-i386/pr19636-2d.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-i386/pr19636-2d.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-i386/pr19636-2d.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-i386/pr19636-2d.d?ref=af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b",
      "patch": "@@ -1,6 +1,6 @@\n #source: pr19636-2.s\n #as: --32 -mrelax-relocations=no\n-#ld: -shared -m elf_i386\n+#ld: -shared -m elf_i386 -z notext\n #readelf : -r --wide --dyn-syms\n #notarget: i?86-*-nacl* x86_64-*-nacl*\n "
    },
    {
      "sha": "c039fcb0a312339bc8a72ebd14c9363523e50104",
      "filename": "ld/testsuite/ld-i386/pr19636-2e.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-i386/pr19636-2e.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-i386/pr19636-2e.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-i386/pr19636-2e.d?ref=af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b",
      "patch": "@@ -1,6 +1,6 @@\n #source: pr19636-2.s\n #as: --32 -mrelax-relocations=no\n-#ld: -shared -Bsymbolic -m elf_i386\n+#ld: -shared -Bsymbolic -m elf_i386 -z notext\n #readelf : -r --wide --dyn-syms\n #notarget: i?86-*-nacl* x86_64-*-nacl*\n "
    },
    {
      "sha": "7af7ba36e94e77026c8e1a863aa598193600ac0d",
      "filename": "ld/testsuite/ld-i386/pr19636-3d.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-i386/pr19636-3d.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-i386/pr19636-3d.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-i386/pr19636-3d.d?ref=af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b",
      "patch": "@@ -1,6 +1,6 @@\n #source: pr19636-3.s\n #as: --32\n-#ld: -shared -m elf_i386\n+#ld: -shared -m elf_i386 -z notext\n #readelf : -r --wide --dyn-syms\n \n Relocation section '\\.rela?\\..*' at offset 0x[0-9a-f]+ contains [0-9]+ entr(y|ies):"
    },
    {
      "sha": "2b692caf95a13a4de0a9dda19deb3c8715115b62",
      "filename": "ld/testsuite/ld-i386/pr19636-3e.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-i386/pr19636-3e.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-i386/pr19636-3e.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-i386/pr19636-3e.d?ref=af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b",
      "patch": "@@ -1,6 +1,6 @@\n #source: pr19636-3.s\n #as: --32\n-#ld: -shared -Bsymbolic -m elf_i386\n+#ld: -shared -Bsymbolic -m elf_i386 -z notext\n #readelf : -r --wide --dyn-syms\n \n Relocation section '\\.rela?\\..*' at offset 0x[0-9a-f]+ contains [0-9]+ entr(y|ies):"
    },
    {
      "sha": "25d7188265016e5021bcf7c410fe702da144c983",
      "filename": "ld/testsuite/ld-i386/pr19939b.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-i386/pr19939b.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-i386/pr19939b.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-i386/pr19939b.d?ref=af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b",
      "patch": "@@ -1,6 +1,6 @@\n #source: pr19939.s\n #as: --32\n-#ld: -melf_i386 -shared\n+#ld: -melf_i386 -shared -z notext\n #readelf: -d --wide\n \n #..."
    },
    {
      "sha": "e7e7a174719e5d42dd19689d52f96538f1b5d857",
      "filename": "ld/testsuite/ld-i386/undefweaka.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-i386/undefweaka.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-i386/undefweaka.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-i386/undefweaka.d?ref=af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b",
      "patch": "@@ -1,6 +1,6 @@\n #source: undefweak.s\n #as: --32\n-#ld: -shared -melf_i386\n+#ld: -shared -melf_i386 -z notext\n #readelf: -r --wide\n \n Relocation section '.rel.dyn' at offset 0x[0-9a-f]+ contains 2 entries:"
    },
    {
      "sha": "e823a68c4dec71a84760ee3ecd14b2cdc6145bcc",
      "filename": "ld/testsuite/ld-i386/undefweakb.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-i386/undefweakb.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-i386/undefweakb.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-i386/undefweakb.d?ref=af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b",
      "patch": "@@ -1,6 +1,6 @@\n #source: undefweak.s\n #as: --32\n-#ld: -pie -melf_i386\n+#ld: -pie -melf_i386 -z notext\n #readelf: -r --wide -x .data.rel.ro\n \n Relocation section '.rel.dyn' at offset 0x[0-9a-f]+ contains 1 entry:"
    },
    {
      "sha": "fa64730775cacdcf7ef9be657c2399bc840c6cdf",
      "filename": "ld/testsuite/ld-shared/shared.exp",
      "status": "modified",
      "additions": 3,
      "deletions": 0,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-shared/shared.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-shared/shared.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-shared/shared.exp?ref=af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b",
      "patch": "@@ -133,6 +133,9 @@ proc shared_test { progname testname main sh1 sh2 dat args } {\n     if { [istarget rs6000*-*-aix*] || [istarget powerpc*-*-aix*] } {\n \tset shared \"-bM:SRE -bE:$tmpdir/xcoff.exp\"\n     }\n+    if { [is_elf_format] && [check_shared_lib_support] } {\n+\tappend shared \" -Wl,-z,notext\"\n+    }\n     if {![ld_link $CC $tmpdir/$progname.so \"$shared $shldflags $tmpdir/$sh1 $tmpdir/$sh2\"]} {\n         fail \"$testname\"\n     \treturn"
    },
    {
      "sha": "20ebc01cc6fbcbb021e7408fdfc421875bf263c2",
      "filename": "ld/testsuite/ld-size/size.exp",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-size/size.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-size/size.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-size/size.exp?ref=af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b",
      "patch": "@@ -114,7 +114,7 @@ run_cc_link_tests [list \\\n     ] \\\n     [list \\\n \t\"Build size-7\" \\\n-\t\"$NOPIE_LDFLAGS -Wl,--no-as-needed tmpdir/libsize-7.so\" \\\n+\t\"$NOPIE_LDFLAGS -Wl,--no-as-needed,-z,notext tmpdir/libsize-7.so\" \\\n \t\"$NOPIE_CFLAGS\" \\\n \t{size-7a.c} \\\n \t{{readelf -rW size-7.rd}} \\\n@@ -129,7 +129,7 @@ run_cc_link_tests [list \\\n     ] \\\n     [list \\\n \t\"Build size-8\" \\\n-\t\"$NOPIE_LDFLAGS -Wl,--no-as-needed tmpdir/libsize-8.so\" \\\n+\t\"$NOPIE_LDFLAGS -Wl,--no-as-needed,-z,notext tmpdir/libsize-8.so\" \\\n \t\"$NOPIE_CFLAGS\" \\\n \t{size-8a.c} \\\n \t{{readelf -rW size-8.rd}} \\\n@@ -277,7 +277,7 @@ run_ld_link_exec_tests [list \\\n     ] \\\n     [list \\\n \t\"Run size-8\" \\\n-\t\"$NOPIE_LDFLAGS -Wl,--no-as-needed,--hash-styl=gnu \\\n+\t\"$NOPIE_LDFLAGS -Wl,--no-as-needed,--hash-styl=gnu,-z,notext \\\n \t tmpdir/libsize-8.so\" \\\n \t\"\" \\\n \t{size-8a.c} \\"
    },
    {
      "sha": "6f2112c5d79cf886283c4061191cf7f2dba3e0e0",
      "filename": "ld/testsuite/ld-unique/unique.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-unique/unique.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-unique/unique.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-unique/unique.exp?ref=af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b",
      "patch": "@@ -208,7 +208,7 @@ if {![ld_link \"$CC $board_cflags\" \"tmpdir/unique_shared_prog\" \"-Ltmpdir tmpdir/u\n }\n \n # Create shared library containing unique symbol with reference.\n-if {![ld_link $ld \"tmpdir/libunique_shared_ref.so\" \"-shared tmpdir/unique_shared.o tmpdir/unique_empty.o\"] } {\n+if {![ld_link $ld \"tmpdir/libunique_shared_ref.so\" \"-shared -z notext tmpdir/unique_shared.o tmpdir/unique_empty.o\"] } {\n     fail \"Could not create a shared library containing an unique symbol with reference\"\n     set fails [expr $fails + 1]\n }"
    },
    {
      "sha": "acd90b7952bbc4e5caebc8168e7b780c333995e7",
      "filename": "ld/testsuite/ld-x86-64/pie1.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-x86-64/pie1.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-x86-64/pie1.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-x86-64/pie1.d?ref=af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b",
      "patch": "@@ -1,6 +1,6 @@\n #name: PIE with undefined symbol\n #as: --64\n-#ld: -pie -melf_x86_64 --noinhibit-exec\n+#ld: -pie -melf_x86_64 --noinhibit-exec -z notext\n #readelf: -s --wide\n #warning: \\A[^\\n]*\\.o[^\\n]*in function `_start':\\n[^\\n]*: undefined reference to `foo'\\Z\n "
    },
    {
      "sha": "3b696c58cb6a6764a6b1cb171187bcfa9e7de399",
      "filename": "ld/testsuite/ld-x86-64/pr19539a.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-x86-64/pr19539a.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-x86-64/pr19539a.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-x86-64/pr19539a.d?ref=af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b",
      "patch": "@@ -1,6 +1,6 @@\n #source: pr19539.s\n #as: --64\n-#ld: -pie -m elf_x86_64 -T pr19539.t\n+#ld: -pie -m elf_x86_64 -T pr19539.t -z notext\n #readelf: -r --wide\n \n Relocation section '.rela.dyn' at offset 0x[0-9a-f]+ contains 1 entry:"
    },
    {
      "sha": "0e50f326466a11832b51abff904ce750450070ee",
      "filename": "ld/testsuite/ld-x86-64/pr19539b.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-x86-64/pr19539b.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-x86-64/pr19539b.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-x86-64/pr19539b.d?ref=af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b",
      "patch": "@@ -1,6 +1,6 @@\n #source: pr19539.s\n #as: --x32\n-#ld: -pie -m elf32_x86_64 -T pr19539.t\n+#ld: -pie -m elf32_x86_64 -T pr19539.t -z notext\n #readelf: -r --wide\n \n Relocation section '.rela.dyn' at offset 0x[0-9a-f]+ contains 1 entry:"
    },
    {
      "sha": "6b33d9c91b9b28eab044e623958c9a0b9a2b1f93",
      "filename": "ld/testsuite/ld-x86-64/pr19636-1d.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-x86-64/pr19636-1d.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-x86-64/pr19636-1d.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-x86-64/pr19636-1d.d?ref=af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b",
      "patch": "@@ -1,6 +1,6 @@\n #source: pr19636-1.s\n #as: --64\n-#ld: -shared -m elf_x86_64\n+#ld: -shared -m elf_x86_64 -z notext\n #readelf : -r --wide --dyn-syms\n \n Relocation section '\\.rela?\\..*' at offset 0x[0-9a-f]+ contains [0-9]+ entr(y|ies):"
    },
    {
      "sha": "fb01a235b509e1902b0650d17b6c2e29aaa2217c",
      "filename": "ld/testsuite/ld-x86-64/pr19636-1e.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-x86-64/pr19636-1e.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-x86-64/pr19636-1e.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-x86-64/pr19636-1e.d?ref=af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b",
      "patch": "@@ -1,6 +1,6 @@\n #source: pr19636-1.s\n #as: --64\n-#ld: -shared -Bsymbolic -m elf_x86_64\n+#ld: -shared -Bsymbolic -m elf_x86_64 -z notext\n #readelf : -r --wide --dyn-syms\n \n Relocation section '\\.rela?\\..*' at offset 0x[0-9a-f]+ contains [0-9]+ entr(y|ies):"
    },
    {
      "sha": "6792e381fc203e1f93e73d8efd13b3fa7fd54428",
      "filename": "ld/testsuite/ld-x86-64/pr19807-1a.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-x86-64/pr19807-1a.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-x86-64/pr19807-1a.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-x86-64/pr19807-1a.d?ref=af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b",
      "patch": "@@ -1,6 +1,6 @@\n #source: pr19807-1.s\n #as: --64\n-#ld: -pie -melf_x86_64 -z noreloc-overflow\n+#ld: -pie -melf_x86_64 -z noreloc-overflow -z notext\n #objdump: -dw\n \n .*: +file format .*"
    },
    {
      "sha": "1983a81dd9e00f8e73e73b08f1a0239cc1c3815a",
      "filename": "ld/testsuite/ld-x86-64/pr19807-1b.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-x86-64/pr19807-1b.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-x86-64/pr19807-1b.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-x86-64/pr19807-1b.d?ref=af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b",
      "patch": "@@ -1,6 +1,6 @@\n #source: pr19807-1.s\n #as: --x32\n-#ld: -pie -melf32_x86_64 -z noreloc-overflow\n+#ld: -pie -melf32_x86_64 -z noreloc-overflow -z notext\n #objdump: -dw\n \n .*: +file format .*"
    },
    {
      "sha": "8e3af447a31f0a01b50d72e040880fcbd6782ba4",
      "filename": "ld/testsuite/ld-x86-64/pr19807-2b.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-x86-64/pr19807-2b.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-x86-64/pr19807-2b.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-x86-64/pr19807-2b.d?ref=af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b",
      "patch": "@@ -1,6 +1,6 @@\n #source: pr19807-2.s\n #as: --x32\n-#ld: -pie -melf32_x86_64\n+#ld: -pie -melf32_x86_64 -z notext\n #readelf: -r --wide\n \n Relocation section '.rela.dyn' at offset 0x[0-9a-f]+ contains 1 entry:"
    },
    {
      "sha": "96e92544515e2ae128265f6465a258f63551263a",
      "filename": "ld/testsuite/ld-x86-64/pr19807-2c.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-x86-64/pr19807-2c.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-x86-64/pr19807-2c.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-x86-64/pr19807-2c.d?ref=af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b",
      "patch": "@@ -1,6 +1,6 @@\n #source: pr19807-2.s\n #as: --x32\n-#ld: -pie -melf32_x86_64\n+#ld: -pie -melf32_x86_64 -z notext\n #objdump: -dw\n \n .*: +file format .*"
    },
    {
      "sha": "413df228efafb65a966a04ebbb339b46ae56a336",
      "filename": "ld/testsuite/ld-x86-64/pr19807-2d.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-x86-64/pr19807-2d.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-x86-64/pr19807-2d.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-x86-64/pr19807-2d.d?ref=af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b",
      "patch": "@@ -1,6 +1,6 @@\n #source: pr19807-2.s\n #as: --64\n-#ld: -pie -melf_x86_64 -z noreloc-overflow\n+#ld: -pie -melf_x86_64 -z noreloc-overflow -z notext\n #readelf: -r --wide\n \n Relocation section '.rela.dyn' at offset 0x[0-9a-f]+ contains 1 entry:"
    },
    {
      "sha": "2d57596279104781499e4d1f881a978827e1a7d5",
      "filename": "ld/testsuite/ld-x86-64/pr19807-2e.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-x86-64/pr19807-2e.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-x86-64/pr19807-2e.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-x86-64/pr19807-2e.d?ref=af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b",
      "patch": "@@ -1,6 +1,6 @@\n #source: pr19807-2.s\n #as: --64\n-#ld: -pie -melf_x86_64 -z noreloc-overflow\n+#ld: -pie -melf_x86_64 -z noreloc-overflow -z notext\n #objdump: -dw\n \n .*: +file format .*"
    },
    {
      "sha": "e239f2da0e6947fb57c6cb19ad43361800281956",
      "filename": "ld/testsuite/ld-x86-64/pr19939b.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-x86-64/pr19939b.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-x86-64/pr19939b.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-x86-64/pr19939b.d?ref=af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b",
      "patch": "@@ -1,6 +1,6 @@\n #source: pr19939.s\n #as: --64\n-#ld: -melf_x86_64 -shared\n+#ld: -melf_x86_64 -shared -z notext\n #readelf: -d --wide\n \n #..."
    },
    {
      "sha": "07b70a4b8abaa8c3615524709a30669757cfe16a",
      "filename": "ld/testsuite/ld-x86-64/x86-64.exp",
      "status": "modified",
      "additions": 15,
      "deletions": 10,
      "changes": 25,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-x86-64/x86-64.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b/ld/testsuite/ld-x86-64/x86-64.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-x86-64/x86-64.exp?ref=af2c48d8545cbc24aa6caf9b9f2a49ab6c0aaa7b",
      "patch": "@@ -212,17 +212,22 @@ set x86_64tests {\n      \"--64\" { pr19827a.S }}\n     {\"Build pr19827b.so\" \"-melf_x86_64 -shared\" \"\"\n      \"--64\" { pr19827b.S } {} \"pr19827b.so\"}\n-    {\"Build pr19827\" \"-melf_x86_64 -pie tmpdir/pr19827a.o tmpdir/pr19827b.so\" \"\"\n+    {\"Build pr19827\"\n+     \"-melf_x86_64 -pie -z notext tmpdir/pr19827a.o tmpdir/pr19827b.so\"\n+     \"\"\n      \"--64\" { dummy.s } {{readelf {-rW} pr19827.rd}} \"pr19827\"}\n-    {\"Build pr19827.so\" \"-melf_x86_64 -shared -Bsymbolic\" \"\"\n+    {\"Build pr19827.so\"\n+     \"-melf_x86_64 -shared -Bsymbolic -z notext\" \"\"\n      \"--64\" { pr19827a.S }  {{readelf {-rW} pr19827.rd}} \"pr19827.so\"}\n     {\"Build pr19969.so\" \"-melf_x86_64 -shared\" \"\"\n      \"--64\" { pr19969a.S } {} \"pr19969.so\"}\n     {\"Build pr20550a.o\" \"\" \"\"\n      \"--64\" { pr20550a.s }}\n     {\"Build pr20550b.so\" \"-melf_x86_64 -shared\" \"\"\n      \"--64\" { pr20550b.s } {} \"pr20550b.so\"}\n-    {\"Build pr20550\" \"-melf_x86_64 -pie tmpdir/pr20550a.o tmpdir/pr20550b.so\" \"\"\n+    {\"Build pr20550\"\n+     \"-melf_x86_64 -pie -z notext tmpdir/pr20550a.o tmpdir/pr20550b.so\"\n+     \"\"\n      \"--64\" { dummy.s } {} \"pr20550\"}\n }\n \n@@ -1172,7 +1177,7 @@ if { [isnative] && [check_compiler_available] } {\n \t] \\\n \t[list \\\n \t    \"Build pr22001-1a\" \\\n-\t    \"$NOPIE_LDFLAGS -Wl,-z,nocopyreloc,--no-as-needed tmpdir/pr22001-1.so\" \\\n+\t    \"$NOPIE_LDFLAGS -Wl,-z,nocopyreloc,--no-as-needed,-z,notext tmpdir/pr22001-1.so\" \\\n \t    \"$NOPIE_CFLAGS -Wa,-mx86-used-note=yes\" \\\n \t    { pr22001-1b.c } \\\n \t    {{error_output \"pr22001-1a.err\"}} \\\n@@ -1188,7 +1193,7 @@ if { [isnative] && [check_compiler_available] } {\n \t] \\\n \t[list \\\n \t    \"Build pr21997-1a\" \\\n-\t    \"$NOPIE_LDFLAGS -Wl,--no-as-needed tmpdir/pr21997-1.so\" \\\n+\t    \"$NOPIE_LDFLAGS -Wl,--no-as-needed,-z,notext tmpdir/pr21997-1.so\" \\\n \t    \"$NOPIE_CFLAGS -Wa,-mx86-used-note=yes\" \\\n \t    { pr21997-1b.c } \\\n \t    {{error_output \"pr21997-1a.err\"}} \\\n@@ -1263,7 +1268,7 @@ if { [isnative] && [check_compiler_available] } {\n \t] \\\n \t[list \\\n \t    \"Build pr22791-1\" \\\n-\t    \"-pie -Wl,--no-as-needed tmpdir/pr22791-1.so\" \\\n+\t    \"-pie -Wl,--no-as-needed,-z,notext tmpdir/pr22791-1.so\" \\\n \t    \"$NOPIE_CFLAGS -Wa,-mx86-used-note=yes\" \\\n \t    { pr22791-1b.s } \\\n \t    {{error_output \"pr22791-1.err\"}} \\\n@@ -1359,7 +1364,7 @@ if { [isnative] && [check_compiler_available] } {\n \trun_ld_link_exec_tests [list \\\n \t    [list \\\n \t\t\"Run pr22001-1b\" \\\n-\t\t\"$NOPIE_LDFLAGS -Wl,-z,nocopyreloc,--no-as-needed tmpdir/pr22001-1.so\" \\\n+\t\t\"$NOPIE_LDFLAGS -Wl,-z,nocopyreloc,--no-as-needed,-z,notext tmpdir/pr22001-1.so\" \\\n \t\t\"-Wa,-mx86-used-note=yes\" \\\n \t\t{ pr22001-1c.c } \\\n \t\t\"pr22001-1b\" \\\n@@ -1368,7 +1373,7 @@ if { [isnative] && [check_compiler_available] } {\n \t    ] \\\n \t    [list \\\n \t\t\"Run pr21997-1b\" \\\n-\t\t\"$NOPIE_LDFLAGS -Wl,--no-as-needed tmpdir/pr21997-1.so\" \\\n+\t\t\"$NOPIE_LDFLAGS -Wl,--no-as-needed,-z,notext tmpdir/pr21997-1.so\" \\\n \t\t\"-Wa,-mx86-used-note=yes\" \\\n \t\t{ pr21997-1c.c } \\\n \t\t\"pr21997-1b\" \\\n@@ -1422,15 +1427,15 @@ if { [isnative] && [check_compiler_available] } {\n \t    ] \\\n \t    [list \\\n \t\t\"Run pr25416-5f (PIE GDesc -> LE -maddress-mode=short)\" \\\n-\t\t\"-pie tmpdir/pr25416-5b.o tmpdir/pr25416-5d.o\" \\\n+\t\t\"-pie -Wl,-z,notext tmpdir/pr25416-5b.o tmpdir/pr25416-5d.o\" \\\n \t\t\"-Wa,-mx86-used-note=yes\" \\\n \t\t{ pr25416-5a.c } \\\n \t\t\"pr25416-5f\" \\\n \t\t\"pass.out\" \\\n \t    ] \\\n \t    [list \\\n \t\t\"Run pr25416-5g (PIE GDesc -> LE -maddress-mode=long)\" \\\n-\t\t\"-pie tmpdir/pr25416-5c.o tmpdir/pr25416-5d.o\" \\\n+\t\t\"-pie -Wl,-z,notext tmpdir/pr25416-5c.o tmpdir/pr25416-5d.o\" \\\n \t\t\"-Wa,-mx86-used-note=yes\" \\\n \t\t{ pr25416-5a.c } \\\n \t\t\"pr25416-5g\" \\"
    }
  ]
}