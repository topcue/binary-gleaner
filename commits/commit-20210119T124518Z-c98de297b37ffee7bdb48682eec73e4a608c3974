{
  "sha": "c98de297b37ffee7bdb48682eec73e4a608c3974",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6Yzk4ZGUyOTdiMzdmZmVlN2JkYjQ4NjgyZWVjNzNlNGE2MDhjMzk3NA==",
  "commit": {
    "author": {
      "name": "Nick Alcock",
      "email": "nick.alcock@oracle.com",
      "date": "2021-01-19T12:45:18Z"
    },
    "committer": {
      "name": "Nick Alcock",
      "email": "nick.alcock@oracle.com",
      "date": "2021-01-19T12:45:18Z"
    },
    "message": "libctf, ld: fix data symbol test with newer GCC\n\nGCC 11+ spots that the extern var_1 and var_666 declarations in this\ntest are unused, and removes them, thus stopping them from appearing as\nconflicted data symbols and rendering the test pointless.  Use them in a\nfunction unique to this TU to prevent them from being eliminated.\n\nld/ChangeLog\n2021-01-19  Nick Alcock  <nick.alcock@oracle.com>\n\n\t* testsuite/ld-ctf/data-func-2.c: Stop removal of the extern foo_t\n\tsymbols by the optimizer.\n\t* testsuite/ld-ctf/data-func-conflicted.d: Adjust accordingly.",
    "tree": {
      "sha": "899d9d782bd3e1f5aa6be02f4350933de686d9e8",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/899d9d782bd3e1f5aa6be02f4350933de686d9e8"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/c98de297b37ffee7bdb48682eec73e4a608c3974",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/c98de297b37ffee7bdb48682eec73e4a608c3974",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/c98de297b37ffee7bdb48682eec73e4a608c3974",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/c98de297b37ffee7bdb48682eec73e4a608c3974/comments",
  "author": {
    "login": "nickalcock",
    "id": 6503005,
    "node_id": "MDQ6VXNlcjY1MDMwMDU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6503005?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nickalcock",
    "html_url": "https://github.com/nickalcock",
    "followers_url": "https://api.github.com/users/nickalcock/followers",
    "following_url": "https://api.github.com/users/nickalcock/following{/other_user}",
    "gists_url": "https://api.github.com/users/nickalcock/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nickalcock/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nickalcock/subscriptions",
    "organizations_url": "https://api.github.com/users/nickalcock/orgs",
    "repos_url": "https://api.github.com/users/nickalcock/repos",
    "events_url": "https://api.github.com/users/nickalcock/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nickalcock/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "nickalcock",
    "id": 6503005,
    "node_id": "MDQ6VXNlcjY1MDMwMDU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6503005?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nickalcock",
    "html_url": "https://github.com/nickalcock",
    "followers_url": "https://api.github.com/users/nickalcock/followers",
    "following_url": "https://api.github.com/users/nickalcock/following{/other_user}",
    "gists_url": "https://api.github.com/users/nickalcock/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nickalcock/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nickalcock/subscriptions",
    "organizations_url": "https://api.github.com/users/nickalcock/orgs",
    "repos_url": "https://api.github.com/users/nickalcock/repos",
    "events_url": "https://api.github.com/users/nickalcock/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nickalcock/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "148521232871c8017c973b3c0cc29c8ac7b96134",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/148521232871c8017c973b3c0cc29c8ac7b96134",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/148521232871c8017c973b3c0cc29c8ac7b96134"
    }
  ],
  "stats": {
    "total": 14,
    "additions": 12,
    "deletions": 2
  },
  "files": [
    {
      "sha": "aae89381fc23125c9b74113a34342e1ffdf38a4d",
      "filename": "ld/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c98de297b37ffee7bdb48682eec73e4a608c3974/ld/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c98de297b37ffee7bdb48682eec73e4a608c3974/ld/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/ChangeLog?ref=c98de297b37ffee7bdb48682eec73e4a608c3974",
      "patch": "@@ -1,3 +1,9 @@\n+2021-01-19  Nick Alcock  <nick.alcock@oracle.com>\n+\n+\t* testsuite/ld-ctf/data-func-2.c: Stop removal of the extern foo_t\n+\tsymbols by the optimizer.\n+\t* testsuite/ld-ctf/data-func-conflicted.d: Adjust accordingly.\n+\n 2021-01-19  Nelson Chu  <nelson.chu@sifive.com>\n \n \t* testsuite/ld-elf/elf.exp (riscv_little_endian): Added.  Return true"
    },
    {
      "sha": "575b06ef30c6d22f6c0a0511a47a40dc9766f861",
      "filename": "ld/testsuite/ld-ctf/data-func-2.c",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c98de297b37ffee7bdb48682eec73e4a608c3974/ld/testsuite/ld-ctf/data-func-2.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c98de297b37ffee7bdb48682eec73e4a608c3974/ld/testsuite/ld-ctf/data-func-2.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-ctf/data-func-2.c?ref=c98de297b37ffee7bdb48682eec73e4a608c3974",
      "patch": "@@ -3,3 +3,7 @@ typedef char foo_t;\n /* Conflicting, and indexed.  */\n extern foo_t var_1;\n extern foo_t *var_666;\n+\n+int other_func(foo_t *);\n+\n+int ignore (void) { other_func (&var_1); other_func (var_666); }"
    },
    {
      "sha": "1e7c19a5b364401f7e8b8be55b5e48bfc1cbebe2",
      "filename": "ld/testsuite/ld-ctf/data-func-conflicted.d",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c98de297b37ffee7bdb48682eec73e4a608c3974/ld/testsuite/ld-ctf/data-func-conflicted.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c98de297b37ffee7bdb48682eec73e4a608c3974/ld/testsuite/ld-ctf/data-func-conflicted.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-ctf/data-func-conflicted.d?ref=c98de297b37ffee7bdb48682eec73e4a608c3974",
      "patch": "@@ -14,9 +14,9 @@ Contents of CTF section \\.ctf:\n     Version: 4 \\(CTF_VERSION_3\\)\n #...\n     Data object section:\t.* \\(0xc bytes\\)\n-    Function info section:\t.* \\(0x40 bytes\\)\n+    Function info section:\t.* \\(0x44 bytes\\)\n     Object index section:\t.* \\(0xc bytes\\)\n-    Type section:\t.* \\(0xe8 bytes\\)\n+    Type section:\t.* \\(0xf4 bytes\\)\n     String section:\t.*\n #...\n   Data objects:"
    }
  ]
}