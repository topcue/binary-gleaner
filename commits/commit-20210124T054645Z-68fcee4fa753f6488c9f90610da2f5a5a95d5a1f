{
  "sha": "68fcee4fa753f6488c9f90610da2f5a5a95d5a1f",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NjhmY2VlNGZhNzUzZjY0ODhjOWY5MDYxMGRhMmY1YTVhOTVkNWExZg==",
  "commit": {
    "author": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2021-01-24T02:09:07Z"
    },
    "committer": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2021-01-24T05:46:45Z"
    },
    "message": "PR27228, .reloc wrong symbol emitted for undefined local symbol\n\nLocal symbols are of course supposed to be defined by their object\nfile, but in other cases a local symbol is promoted to global by gas\nif undefined and referenced.  This patch stops gas wrongly replacing a\nlocal undefined symbol with the undefined section symbol, resulting in\na .reloc undefined local symbol being emitted as global.\n\n\tPR 27228\n\t* write.c (resolve_reloc_expr_symbols): Don't assume local symbol\n\tis defined.",
    "tree": {
      "sha": "dde0d2abe5b60a28107eb4935c56b5af03b6c394",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/dde0d2abe5b60a28107eb4935c56b5af03b6c394"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/68fcee4fa753f6488c9f90610da2f5a5a95d5a1f",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/68fcee4fa753f6488c9f90610da2f5a5a95d5a1f",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/68fcee4fa753f6488c9f90610da2f5a5a95d5a1f",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/68fcee4fa753f6488c9f90610da2f5a5a95d5a1f/comments",
  "author": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "b10bae18753862874628f902796eb1cd3925f95d",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/b10bae18753862874628f902796eb1cd3925f95d",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/b10bae18753862874628f902796eb1cd3925f95d"
    }
  ],
  "stats": {
    "total": 10,
    "additions": 9,
    "deletions": 1
  },
  "files": [
    {
      "sha": "4ac29870e630a139b42d54b71013374165c3d45b",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/68fcee4fa753f6488c9f90610da2f5a5a95d5a1f/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/68fcee4fa753f6488c9f90610da2f5a5a95d5a1f/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=68fcee4fa753f6488c9f90610da2f5a5a95d5a1f",
      "patch": "@@ -1,3 +1,9 @@\n+2021-01-24  Alan Modra  <amodra@gmail.com>\n+\n+\tPR 27228\n+\t* write.c (resolve_reloc_expr_symbols): Don't assume local symbol\n+\tis defined.\n+\n 2021-01-21  Alan Modra  <amodra@gmail.com>\n \n \tPR 27221"
    },
    {
      "sha": "95922bb25a0cc52220ff7d59847a95f7d04b4469",
      "filename": "gas/write.c",
      "status": "modified",
      "additions": 3,
      "deletions": 1,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/68fcee4fa753f6488c9f90610da2f5a5a95d5a1f/gas/write.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/68fcee4fa753f6488c9f90610da2f5a5a95d5a1f/gas/write.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/write.c?ref=68fcee4fa753f6488c9f90610da2f5a5a95d5a1f",
      "patch": "@@ -737,7 +737,9 @@ resolve_reloc_expr_symbols (void)\n \t\t prevent the offset from overflowing the relocated field,\n \t         unless it has enough bits to cover the whole address\n \t         space.  */\n-\t      if (S_IS_LOCAL (sym) && !symbol_section_p (sym)\n+\t      if (S_IS_LOCAL (sym)\n+\t\t  && S_IS_DEFINED (sym)\n+\t\t  && !symbol_section_p (sym)\n \t\t  && (sec->use_rela_p\n \t\t      || (howto->partial_inplace\n \t\t\t  && (!howto->pc_relative"
    }
  ]
}