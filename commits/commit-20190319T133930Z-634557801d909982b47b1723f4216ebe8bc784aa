{
  "sha": "634557801d909982b47b1723f4216ebe8bc784aa",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NjM0NTU3ODAxZDkwOTk4MmI0N2IxNzIzZjQyMTZlYmU4YmM3ODRhYQ==",
  "commit": {
    "author": {
      "name": "Nick Clifton",
      "email": "nickc@redhat.com",
      "date": "2019-03-19T13:39:30Z"
    },
    "committer": {
      "name": "Nick Clifton",
      "email": "nickc@redhat.com",
      "date": "2019-03-19T13:39:30Z"
    },
    "message": "Prevent an illegal memory access by objdump when parsing a corrupt file on a 32-bit host.\n\n\tPR 24360\n\t* objdump.c (load_specific_debug_section): Check that the amount\n\tof memory to be allocated matches the size of the section.",
    "tree": {
      "sha": "a336984f54bec19fd0bb6d7e9b0257bbae195acf",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/a336984f54bec19fd0bb6d7e9b0257bbae195acf"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/634557801d909982b47b1723f4216ebe8bc784aa",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/634557801d909982b47b1723f4216ebe8bc784aa",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/634557801d909982b47b1723f4216ebe8bc784aa",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/634557801d909982b47b1723f4216ebe8bc784aa/comments",
  "author": {
    "login": "nickclifton",
    "id": 31441682,
    "node_id": "MDQ6VXNlcjMxNDQxNjgy",
    "avatar_url": "https://avatars.githubusercontent.com/u/31441682?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nickclifton",
    "html_url": "https://github.com/nickclifton",
    "followers_url": "https://api.github.com/users/nickclifton/followers",
    "following_url": "https://api.github.com/users/nickclifton/following{/other_user}",
    "gists_url": "https://api.github.com/users/nickclifton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nickclifton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nickclifton/subscriptions",
    "organizations_url": "https://api.github.com/users/nickclifton/orgs",
    "repos_url": "https://api.github.com/users/nickclifton/repos",
    "events_url": "https://api.github.com/users/nickclifton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nickclifton/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "nickclifton",
    "id": 31441682,
    "node_id": "MDQ6VXNlcjMxNDQxNjgy",
    "avatar_url": "https://avatars.githubusercontent.com/u/31441682?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nickclifton",
    "html_url": "https://github.com/nickclifton",
    "followers_url": "https://api.github.com/users/nickclifton/followers",
    "following_url": "https://api.github.com/users/nickclifton/following{/other_user}",
    "gists_url": "https://api.github.com/users/nickclifton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nickclifton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nickclifton/subscriptions",
    "organizations_url": "https://api.github.com/users/nickclifton/orgs",
    "repos_url": "https://api.github.com/users/nickclifton/repos",
    "events_url": "https://api.github.com/users/nickclifton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nickclifton/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "392a59728b7286d5fd1a1c377de3c40334bbb36f",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/392a59728b7286d5fd1a1c377de3c40334bbb36f",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/392a59728b7286d5fd1a1c377de3c40334bbb36f"
    }
  ],
  "stats": {
    "total": 22,
    "additions": 15,
    "deletions": 7
  },
  "files": [
    {
      "sha": "6fa4bf48e45885f0c0ccd9497a9d3ac1c2e319de",
      "filename": "binutils/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/634557801d909982b47b1723f4216ebe8bc784aa/binutils/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/634557801d909982b47b1723f4216ebe8bc784aa/binutils/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/ChangeLog?ref=634557801d909982b47b1723f4216ebe8bc784aa",
      "patch": "@@ -1,3 +1,9 @@\n+2019-03-19  Nick Clifton  <nickc@redhat.com>\n+\n+\tPR 24360\n+\t* objdump.c (load_specific_debug_section): Check that the amount\n+\tof memory to be allocated matches the size of the section.\n+\n 2019-03-13  Sudakshina Das  <sudi.das@arm.com>\n \n \t* readelf.c (get_aarch64_dynamic_type): Add case for"
    },
    {
      "sha": "79aed757ae85d7f04f80af2d9a439d83dd044f33",
      "filename": "binutils/objdump.c",
      "status": "modified",
      "additions": 9,
      "deletions": 7,
      "changes": 16,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/634557801d909982b47b1723f4216ebe8bc784aa/binutils/objdump.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/634557801d909982b47b1723f4216ebe8bc784aa/binutils/objdump.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/objdump.c?ref=634557801d909982b47b1723f4216ebe8bc784aa",
      "patch": "@@ -382,10 +382,10 @@ nonfatal (const char *msg)\n static const char *\n sanitize_string (const char * in)\n {\n-  static char *        buffer = NULL;\n-  static unsigned int  buffer_len = 0;\n-  const char *         original = in;\n-  char *               out;\n+  static char *  buffer = NULL;\n+  static size_t  buffer_len = 0;\n+  const char *   original = in;\n+  char *         out;\n \n   /* Paranoia.  */\n   if (in == NULL)\n@@ -2679,6 +2679,7 @@ load_specific_debug_section (enum dwarf_section_display_enum debug,\n   bfd *abfd = (bfd *) file;\n   bfd_byte *contents;\n   bfd_size_type amt;\n+  size_t alloced;\n \n   if (section->start != NULL)\n     {\n@@ -2694,8 +2695,9 @@ load_specific_debug_section (enum dwarf_section_display_enum debug,\n   section->address = bfd_get_section_vma (abfd, sec);\n   section->user_data = sec;\n   section->size = bfd_get_section_size (sec);\n-  amt = section->size + 1;\n-  if (amt == 0)\n+  /* PR 24360: On 32-bit hosts sizeof (size_t) < sizeof (bfd_size_type). */\n+  alloced = amt = section->size + 1;\n+  if (alloced != amt || alloced == 0)\n     {\n       section->start = NULL;\n       free_debug_section (debug);\n@@ -2704,7 +2706,7 @@ load_specific_debug_section (enum dwarf_section_display_enum debug,\n \t      (unsigned long long) section->size);\n       return FALSE;\n     }\n-  section->start = contents = malloc (amt);\n+  section->start = contents = malloc (alloced);\n   if (section->start == NULL\n       || !bfd_get_full_section_contents (abfd, sec, &contents))\n     {"
    }
  ]
}