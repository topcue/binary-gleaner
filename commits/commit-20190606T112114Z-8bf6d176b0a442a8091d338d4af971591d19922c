{
  "sha": "8bf6d176b0a442a8091d338d4af971591d19922c",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6OGJmNmQxNzZiMGE0NDJhODA5MWQzMzhkNGFmOTcxNTkxZDE5OTIyYw==",
  "commit": {
    "author": {
      "name": "Sudakshina Das",
      "email": "sudi.das@arm.com",
      "date": "2019-06-06T11:21:14Z"
    },
    "committer": {
      "name": "Sudakshina Das",
      "email": "sudi.das@arm.com",
      "date": "2019-06-06T11:21:14Z"
    },
    "message": "[LD, AArch64] Move ELF options behind -z\n\nThis patch moves the current AArch64 ld options of --force-bti\nand --pac-plt to -z force-bti and -z pac-plt since these are\nELF specific options.\n\n*** bfd/ChangeLog ***\n\n2019-06-06  Sudakshina Das  <sudi.das@arm.com>\n\n\t* bfd-in.h: Change comment.\n\t* bfd-in2.h: Regenerate.\n\t* elfnn-aarch64.c (elfNN_aarch64_merge_gnu_properties): Update warning.\n\t* elfxx-aarch64.c (_bfd_aarch64_elf_link_setup_gnu_properties):\n\tLikwise.\n\n*** ld/ChangeLog ***\n\n2019-06-06  Sudakshina Das  <sudi.das@arm.com>\n\n\t* NEWS: Update options names.\n\t* emultempl/aarch64elf.em (OPTION_FORCE_BTI, OPTION_PAC_PLT): Remove.\n\t(PARSE_AND_LIST_LONGOPTS): Remove force-bti and pac-plt.\n\t(PARSE_AND_LIST_OPTIONS): Update to -z.\n\t(PARSE_AND_LIST_ARGS_CASE_Z_AARCH64): New.\n\t(PARSE_AND_LIST_ARGS_CASE_Z): Add PARSE_AND_LIST_ARGS_CASE_Z_AARCH64.\n\t(PARSE_AND_LIST_ARGS_CASES): Move cases for these options.\n\t* testsuite/ld-aarch64/bti-pac-plt-1.d: Update option.\n\t* testsuite/ld-aarch64/bti-pac-plt-2.d: Likewise.\n\t* testsuite/ld-aarch64/bti-plt-1.d: Likewise.\n\t* testsuite/ld-aarch64/bti-plt-2.d: Likewise.\n\t* testsuite/ld-aarch64/bti-plt-3.d: Likewise.\n\t* testsuite/ld-aarch64/bti-plt-4.d: Likewise.\n\t* testsuite/ld-aarch64/bti-plt-6.d: Likewise.\n\t* testsuite/ld-aarch64/bti-plt-7.d: Likewise.\n\t* testsuite/ld-aarch64/bti-warn.d: Likewise.\n\t* testsuite/ld-aarch64/pac-plt-1.d: Likewise.\n\t* testsuite/ld-aarch64/pac-plt-2.d: Likewise.",
    "tree": {
      "sha": "aa7c82ae70d416ec87d5bd5e70efbf82d657c86a",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/aa7c82ae70d416ec87d5bd5e70efbf82d657c86a"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/8bf6d176b0a442a8091d338d4af971591d19922c",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/8bf6d176b0a442a8091d338d4af971591d19922c",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/8bf6d176b0a442a8091d338d4af971591d19922c",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/8bf6d176b0a442a8091d338d4af971591d19922c/comments",
  "author": {
    "login": "sudakshina-das-arm",
    "id": 28538945,
    "node_id": "MDQ6VXNlcjI4NTM4OTQ1",
    "avatar_url": "https://avatars.githubusercontent.com/u/28538945?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/sudakshina-das-arm",
    "html_url": "https://github.com/sudakshina-das-arm",
    "followers_url": "https://api.github.com/users/sudakshina-das-arm/followers",
    "following_url": "https://api.github.com/users/sudakshina-das-arm/following{/other_user}",
    "gists_url": "https://api.github.com/users/sudakshina-das-arm/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/sudakshina-das-arm/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sudakshina-das-arm/subscriptions",
    "organizations_url": "https://api.github.com/users/sudakshina-das-arm/orgs",
    "repos_url": "https://api.github.com/users/sudakshina-das-arm/repos",
    "events_url": "https://api.github.com/users/sudakshina-das-arm/events{/privacy}",
    "received_events_url": "https://api.github.com/users/sudakshina-das-arm/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "sudakshina-das-arm",
    "id": 28538945,
    "node_id": "MDQ6VXNlcjI4NTM4OTQ1",
    "avatar_url": "https://avatars.githubusercontent.com/u/28538945?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/sudakshina-das-arm",
    "html_url": "https://github.com/sudakshina-das-arm",
    "followers_url": "https://api.github.com/users/sudakshina-das-arm/followers",
    "following_url": "https://api.github.com/users/sudakshina-das-arm/following{/other_user}",
    "gists_url": "https://api.github.com/users/sudakshina-das-arm/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/sudakshina-das-arm/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sudakshina-das-arm/subscriptions",
    "organizations_url": "https://api.github.com/users/sudakshina-das-arm/orgs",
    "repos_url": "https://api.github.com/users/sudakshina-das-arm/repos",
    "events_url": "https://api.github.com/users/sudakshina-das-arm/events{/privacy}",
    "received_events_url": "https://api.github.com/users/sudakshina-das-arm/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "811731b21b0a5b5459b33bfcbe26f40c6d9bc7c0",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/811731b21b0a5b5459b33bfcbe26f40c6d9bc7c0",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/811731b21b0a5b5459b33bfcbe26f40c6d9bc7c0"
    }
  ],
  "stats": {
    "total": 111,
    "additions": 69,
    "deletions": 42
  },
  "files": [
    {
      "sha": "69624fee8ead1f3b7264597b12c63d24edc4ec28",
      "filename": "bfd/ChangeLog",
      "status": "modified",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8bf6d176b0a442a8091d338d4af971591d19922c/bfd/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8bf6d176b0a442a8091d338d4af971591d19922c/bfd/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/ChangeLog?ref=8bf6d176b0a442a8091d338d4af971591d19922c",
      "patch": "@@ -1,3 +1,11 @@\n+2019-06-06  Sudakshina Das  <sudi.das@arm.com>\n+\n+\t* bfd-in.h: Change comment.\n+\t* bfd-in2.h: Regenerate.\n+\t* elfnn-aarch64.c (elfNN_aarch64_merge_gnu_properties): Update warning.\n+\t* elfxx-aarch64.c (_bfd_aarch64_elf_link_setup_gnu_properties):\n+\tLikwise.\n+\n 2019-05-28  Faraz Shahbazker  <fshahbazker@wavecomp.com>\n \n \t* elfxx-mips.c (mips_elf_calculate_relocation) <R_MIPS_PCHI16>:"
    },
    {
      "sha": "a5e95d14aa7da99f61e65c8dbf63c97f95c421f5",
      "filename": "bfd/bfd-in.h",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8bf6d176b0a442a8091d338d4af971591d19922c/bfd/bfd-in.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8bf6d176b0a442a8091d338d4af971591d19922c/bfd/bfd-in.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/bfd-in.h?ref=8bf6d176b0a442a8091d338d4af971591d19922c",
      "patch": "@@ -1014,7 +1014,7 @@ typedef enum\n typedef enum\n {\n   BTI_NONE\t= 0,  /* BTI is not enabled.  */\n-  BTI_WARN\t= 1,  /* BTI is enabled with --force-bti.  */\n+  BTI_WARN\t= 1,  /* BTI is enabled with -z force-bti.  */\n } aarch64_enable_bti_type;\n \n /* A structure to encompass all information coming from BTI or PAC"
    },
    {
      "sha": "05e3219ebc88ce32644afe9cb22d66f46620e4de",
      "filename": "bfd/bfd-in2.h",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8bf6d176b0a442a8091d338d4af971591d19922c/bfd/bfd-in2.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8bf6d176b0a442a8091d338d4af971591d19922c/bfd/bfd-in2.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/bfd-in2.h?ref=8bf6d176b0a442a8091d338d4af971591d19922c",
      "patch": "@@ -1021,7 +1021,7 @@ typedef enum\n typedef enum\n {\n   BTI_NONE\t= 0,  /* BTI is not enabled.  */\n-  BTI_WARN\t= 1,  /* BTI is enabled with --force-bti.  */\n+  BTI_WARN\t= 1,  /* BTI is enabled with -z force-bti.  */\n } aarch64_enable_bti_type;\n \n /* A structure to encompass all information coming from BTI or PAC"
    },
    {
      "sha": "282418dc66fdeb0185dc8a3fe9e50d0a4d6cd141",
      "filename": "bfd/elfnn-aarch64.c",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8bf6d176b0a442a8091d338d4af971591d19922c/bfd/elfnn-aarch64.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8bf6d176b0a442a8091d338d4af971591d19922c/bfd/elfnn-aarch64.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/elfnn-aarch64.c?ref=8bf6d176b0a442a8091d338d4af971591d19922c",
      "patch": "@@ -10010,14 +10010,14 @@ elfNN_aarch64_merge_gnu_properties (struct bfd_link_info *info,\n       if ((aprop && !(aprop->u.number & GNU_PROPERTY_AARCH64_FEATURE_1_BTI))\n \t   || !aprop)\n \t{\n-\t  _bfd_error_handler (_(\"%pB: warning: BTI turned on by --force-bti when \"\n+\t  _bfd_error_handler (_(\"%pB: warning: BTI turned on by -z force-bti when \"\n \t\t\t\t\"all inputs do not have BTI in NOTE section.\"),\n \t\t\t      abfd);\n \t}\n       if ((bprop && !(bprop->u.number & GNU_PROPERTY_AARCH64_FEATURE_1_BTI))\n \t   || !bprop)\n \t{\n-\t  _bfd_error_handler (_(\"%pB: warning: BTI turned on by --force-bti when \"\n+\t  _bfd_error_handler (_(\"%pB: warning: BTI turned on by -z force-bti when \"\n \t\t\t\t\"all inputs do not have BTI in NOTE section.\"),\n \t\t\t      bbfd);\n \t}"
    },
    {
      "sha": "12490080351966a4c0cbb5ea98a98ca6c6e0bf25",
      "filename": "bfd/elfxx-aarch64.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8bf6d176b0a442a8091d338d4af971591d19922c/bfd/elfxx-aarch64.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8bf6d176b0a442a8091d338d4af971591d19922c/bfd/elfxx-aarch64.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/elfxx-aarch64.c?ref=8bf6d176b0a442a8091d338d4af971591d19922c",
      "patch": "@@ -721,7 +721,7 @@ _bfd_aarch64_elf_link_setup_gnu_properties (struct bfd_link_info *info,\n \t\t\t\t    4);\n       if (gnu_prop & GNU_PROPERTY_AARCH64_FEATURE_1_BTI\n \t  && !(prop->u.number & GNU_PROPERTY_AARCH64_FEATURE_1_BTI))\n-\t    _bfd_error_handler (_(\"%pB: warning: BTI turned on by --force-bti \"\n+\t    _bfd_error_handler (_(\"%pB: warning: BTI turned on by -z force-bti \"\n \t\t\t\t  \"when all inputs do not have BTI in NOTE \"\n \t\t\t\t  \"section.\"), ebfd);\n       prop->u.number |= gnu_prop;"
    },
    {
      "sha": "4d747af1a960f3f73a08227aac2b6046538162fc",
      "filename": "ld/ChangeLog",
      "status": "modified",
      "additions": 21,
      "deletions": 0,
      "changes": 21,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8bf6d176b0a442a8091d338d4af971591d19922c/ld/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8bf6d176b0a442a8091d338d4af971591d19922c/ld/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/ChangeLog?ref=8bf6d176b0a442a8091d338d4af971591d19922c",
      "patch": "@@ -1,3 +1,24 @@\n+2019-06-06  Sudakshina Das  <sudi.das@arm.com>\n+\n+\t* NEWS: Update options names.\n+\t* emultempl/aarch64elf.em (OPTION_FORCE_BTI, OPTION_PAC_PLT): Remove.\n+\t(PARSE_AND_LIST_LONGOPTS): Remove force-bti and pac-plt.\n+\t(PARSE_AND_LIST_OPTIONS): Update to -z.\n+\t(PARSE_AND_LIST_ARGS_CASE_Z_AARCH64): New.\n+\t(PARSE_AND_LIST_ARGS_CASE_Z): Add PARSE_AND_LIST_ARGS_CASE_Z_AARCH64.\n+\t(PARSE_AND_LIST_ARGS_CASES): Move cases for these options.\n+\t* testsuite/ld-aarch64/bti-pac-plt-1.d: Update option.\n+\t* testsuite/ld-aarch64/bti-pac-plt-2.d: Likewise.\n+\t* testsuite/ld-aarch64/bti-plt-1.d: Likewise.\n+\t* testsuite/ld-aarch64/bti-plt-2.d: Likewise.\n+\t* testsuite/ld-aarch64/bti-plt-3.d: Likewise.\n+\t* testsuite/ld-aarch64/bti-plt-4.d: Likewise.\n+\t* testsuite/ld-aarch64/bti-plt-6.d: Likewise.\n+\t* testsuite/ld-aarch64/bti-plt-7.d: Likewise.\n+\t* testsuite/ld-aarch64/bti-warn.d: Likewise.\n+\t* testsuite/ld-aarch64/pac-plt-1.d: Likewise.\n+\t* testsuite/ld-aarch64/pac-plt-2.d: Likewise.\n+\n 2019-05-30  Nick Clifton  <nickc@redhat.com>\n \n \tPR 24627"
    },
    {
      "sha": "f66b35a95c16e7062c52203aeddd3c6e73883d8c",
      "filename": "ld/NEWS",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8bf6d176b0a442a8091d338d4af971591d19922c/ld/NEWS",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8bf6d176b0a442a8091d338d4af971591d19922c/ld/NEWS",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/NEWS?ref=8bf6d176b0a442a8091d338d4af971591d19922c",
      "patch": "@@ -18,11 +18,11 @@ Changes in 2.33:\n * Add support for GNU_PROPERTY_AARCH64_FEATURE_1_PAC in ELF GNU program\n   properties in the AArch64 ELF linker.\n \n-* Add --force-bti for AArch64 to enable GNU_PROPERTY_AARCH64_FEATURE_1_BTI\n+* Add -z force-bti for AArch64 to enable GNU_PROPERTY_AARCH64_FEATURE_1_BTI\n   on output while warning about missing GNU_PROPERTY_AARCH64_FEATURE_1_BTI\n   on inputs and use PLTs protected with BTI.\n \n-* Add --pac-plt for AArch64 to pick PAC enabled PLTs.\n+* Add -z pac-plt for AArch64 to pick PAC enabled PLTs.\n \n Changes in 2.32:\n "
    },
    {
      "sha": "4c13f26f4e11a2830e57db9673d29a842a83a2ad",
      "filename": "ld/emultempl/aarch64elf.em",
      "status": "modified",
      "additions": 13,
      "deletions": 15,
      "changes": 28,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8bf6d176b0a442a8091d338d4af971591d19922c/ld/emultempl/aarch64elf.em",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8bf6d176b0a442a8091d338d4af971591d19922c/ld/emultempl/aarch64elf.em",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/emultempl/aarch64elf.em?ref=8bf6d176b0a442a8091d338d4af971591d19922c",
      "patch": "@@ -372,8 +372,6 @@ PARSE_AND_LIST_PROLOGUE='\n #define OPTION_FIX_ERRATUM_835769\t313\n #define OPTION_FIX_ERRATUM_843419\t314\n #define OPTION_NO_APPLY_DYNAMIC_RELOCS\t315\n-#define OPTION_FORCE_BTI\t\t316\n-#define OPTION_PAC_PLT\t\t\t317\n '\n \n PARSE_AND_LIST_SHORTOPTS=p\n@@ -387,8 +385,6 @@ PARSE_AND_LIST_LONGOPTS='\n   { \"fix-cortex-a53-835769\", no_argument, NULL, OPTION_FIX_ERRATUM_835769},\n   { \"fix-cortex-a53-843419\", optional_argument, NULL, OPTION_FIX_ERRATUM_843419},\n   { \"no-apply-dynamic-relocs\", no_argument, NULL, OPTION_NO_APPLY_DYNAMIC_RELOCS},\n-  { \"force-bti\", no_argument, NULL, OPTION_FORCE_BTI},\n-  { \"pac-plt\", no_argument, NULL, OPTION_PAC_PLT},\n '\n \n PARSE_AND_LIST_OPTIONS='\n@@ -419,10 +415,21 @@ PARSE_AND_LIST_OPTIONS='\n                                                  instruction into an ADR.  As such the workaround will always use a\\n\\\n                                                  veneer and this will give you both a performance and size overhead.\\n\"));\n   fprintf (file, _(\"  --no-apply-dynamic-relocs    Do not apply link-time values for dynamic relocations\\n\"));\n-  fprintf (file, _(\"  --force-bti                  Turn on Branch Target Identification mechanism and generate PLTs with BTI. Generate warnings for missing BTI on inputs\\n\"));\n-  fprintf (file, _(\"  --pac-plt                    Protect PLTs with Pointer Authentication.\\n\"));\n+  fprintf (file, _(\"  -z force-bti                  Turn on Branch Target Identification mechanism and generate PLTs with BTI. Generate warnings for missing BTI on inputs\\n\"));\n+  fprintf (file, _(\"  -z pac-plt                    Protect PLTs with Pointer Authentication.\\n\"));\n '\n \n+PARSE_AND_LIST_ARGS_CASE_Z_AARCH64='\n+      else if (strcmp (optarg, \"force-bti\") == 0)\n+\t{\n+\t  plt_type |= PLT_BTI;\n+\t  bti_type = BTI_WARN;\n+\t}\n+      else if (strcmp (optarg, \"pac-plt\") == 0)\n+\tplt_type |= PLT_PAC;\n+'\n+PARSE_AND_LIST_ARGS_CASE_Z=\"$PARSE_AND_LIST_ARGS_CASE_Z $PARSE_AND_LIST_ARGS_CASE_Z_AARCH64\"\n+\n PARSE_AND_LIST_ARGS_CASES='\n     case '\\'p\\'':\n       /* Only here for backwards compatibility.  */\n@@ -464,15 +471,6 @@ PARSE_AND_LIST_ARGS_CASES='\n       no_apply_dynamic_relocs = 1;\n       break;\n \n-    case OPTION_FORCE_BTI:\n-      plt_type |= PLT_BTI;\n-      bti_type = BTI_WARN;\n-      break;\n-\n-    case OPTION_PAC_PLT:\n-      plt_type |= PLT_PAC;\n-      break;\n-\n     case OPTION_STUBGROUP_SIZE:\n       {\n \tconst char *end;"
    },
    {
      "sha": "e1c6eb7f25d6b9e536f511cd5635d41b3247e48e",
      "filename": "ld/testsuite/ld-aarch64/bti-pac-plt-1.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8bf6d176b0a442a8091d338d4af971591d19922c/ld/testsuite/ld-aarch64/bti-pac-plt-1.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8bf6d176b0a442a8091d338d4af971591d19922c/ld/testsuite/ld-aarch64/bti-pac-plt-1.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-aarch64/bti-pac-plt-1.d?ref=8bf6d176b0a442a8091d338d4af971591d19922c",
      "patch": "@@ -1,6 +1,6 @@\n #source: bti-plt-1.s\n #as: -mabi=lp64\n-#ld: -shared --force-bti --pac-plt -T bti-plt.ld\n+#ld: -shared -z force-bti -z pac-plt -T bti-plt.ld\n #objdump: -dr -j .plt\n \n [^:]*: *file format elf64-.*aarch64"
    },
    {
      "sha": "0c67615ac41c8370acc331957a422eedda35157e",
      "filename": "ld/testsuite/ld-aarch64/bti-pac-plt-2.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8bf6d176b0a442a8091d338d4af971591d19922c/ld/testsuite/ld-aarch64/bti-pac-plt-2.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8bf6d176b0a442a8091d338d4af971591d19922c/ld/testsuite/ld-aarch64/bti-pac-plt-2.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-aarch64/bti-pac-plt-2.d?ref=8bf6d176b0a442a8091d338d4af971591d19922c",
      "patch": "@@ -1,6 +1,6 @@\n #source: bti-plt-1.s\n #as: -mabi=lp64\n-#ld: --force-bti --pac-plt -e _start -T bti-plt.ld -L./tmpdir -lbti-plt-so\n+#ld: -z force-bti -z pac-plt -e _start -T bti-plt.ld -L./tmpdir -lbti-plt-so\n #objdump: -dr -j .plt\n \n [^:]*: *file format elf64-.*aarch64"
    },
    {
      "sha": "f8414a0164546528bcc5f1adb748e963858f10af",
      "filename": "ld/testsuite/ld-aarch64/bti-plt-1.d",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8bf6d176b0a442a8091d338d4af971591d19922c/ld/testsuite/ld-aarch64/bti-plt-1.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8bf6d176b0a442a8091d338d4af971591d19922c/ld/testsuite/ld-aarch64/bti-plt-1.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-aarch64/bti-plt-1.d?ref=8bf6d176b0a442a8091d338d4af971591d19922c",
      "patch": "@@ -1,7 +1,7 @@\n-#name: Check --force-bti emits BTI PLT (shared)\n+#name: Check -z force-bti emits BTI PLT (shared)\n #source: bti-plt-1.s\n #as: -mabi=lp64\n-#ld: -shared --force-bti -T bti-plt.ld\n+#ld: -shared -z force-bti -T bti-plt.ld\n #objdump: -dr -j .plt\n \n [^:]*: *file format elf64-.*aarch64"
    },
    {
      "sha": "bddefe9fc929a1fe0b51cf4a394a95551b9e67bc",
      "filename": "ld/testsuite/ld-aarch64/bti-plt-2.d",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8bf6d176b0a442a8091d338d4af971591d19922c/ld/testsuite/ld-aarch64/bti-plt-2.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8bf6d176b0a442a8091d338d4af971591d19922c/ld/testsuite/ld-aarch64/bti-plt-2.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-aarch64/bti-plt-2.d?ref=8bf6d176b0a442a8091d338d4af971591d19922c",
      "patch": "@@ -1,8 +1,8 @@\n-#name: Check --force-bti emits BTI feature (shared)\n+#name: Check -z force-bti emits BTI feature (shared)\n #source: bti-plt-1.s\n #source: bti-plt-2.s\n #as: -mabi=lp64\n-#ld: -shared --force-bti -T bti-plt.ld\n+#ld: -shared -z force-bti -T bti-plt.ld\n #readelf: -n\n \n Displaying notes found in: .note.gnu.property"
    },
    {
      "sha": "82f08a9869edb2dcd946f30da64aec9ccaed482d",
      "filename": "ld/testsuite/ld-aarch64/bti-plt-3.d",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8bf6d176b0a442a8091d338d4af971591d19922c/ld/testsuite/ld-aarch64/bti-plt-3.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8bf6d176b0a442a8091d338d4af971591d19922c/ld/testsuite/ld-aarch64/bti-plt-3.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-aarch64/bti-plt-3.d?ref=8bf6d176b0a442a8091d338d4af971591d19922c",
      "patch": "@@ -1,7 +1,7 @@\n-#name: Check --force-bti emits BTI PLT (exec)\n+#name: Check -z force-bti emits BTI PLT (exec)\n #source: bti-plt-1.s\n #as: -mabi=lp64\n-#ld: --force-bti -e _start -T bti-plt.ld -L./tmpdir -lbti-plt-so\n+#ld: -z force-bti -e _start -T bti-plt.ld -L./tmpdir -lbti-plt-so\n #objdump: -dr -j .plt\n \n [^:]*: *file format elf64-.*aarch64"
    },
    {
      "sha": "936c24dbf72ac022c0368a474d82e44c6e484786",
      "filename": "ld/testsuite/ld-aarch64/bti-plt-4.d",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8bf6d176b0a442a8091d338d4af971591d19922c/ld/testsuite/ld-aarch64/bti-plt-4.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8bf6d176b0a442a8091d338d4af971591d19922c/ld/testsuite/ld-aarch64/bti-plt-4.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-aarch64/bti-plt-4.d?ref=8bf6d176b0a442a8091d338d4af971591d19922c",
      "patch": "@@ -1,7 +1,7 @@\n-#name: Check --force-bti emits BTI feature (exec)\n+#name: Check -z force-bti emits BTI feature (exec)\n #source: bti-plt-1.s\n #as: -mabi=lp64\n-#ld: --force-bti -e _start -T bti-plt.ld -L./tmpdir -lbti-plt-so\n+#ld: -z force-bti -e _start -T bti-plt.ld -L./tmpdir -lbti-plt-so\n #readelf: -n\n \n Displaying notes found in: .note.gnu.property"
    },
    {
      "sha": "27958c5d9525d4f3c12abbc1399c89a3045186b7",
      "filename": "ld/testsuite/ld-aarch64/bti-plt-6.d",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8bf6d176b0a442a8091d338d4af971591d19922c/ld/testsuite/ld-aarch64/bti-plt-6.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8bf6d176b0a442a8091d338d4af971591d19922c/ld/testsuite/ld-aarch64/bti-plt-6.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-aarch64/bti-plt-6.d?ref=8bf6d176b0a442a8091d338d4af971591d19922c",
      "patch": "@@ -2,8 +2,8 @@\n #source: property-bti-pac2.s\n #source: property-bti-pac1.s\n #as: -mabi=lp64 -defsym __property_pac__=1\n-#ld: -shared --force-bti\n-#warning: .*property-bti-pac2.*: warning: BTI turned on by --force-bti.*$\n+#ld: -shared -z force-bti\n+#warning: .*property-bti-pac2.*: warning: BTI turned on by -z force-bti.*$\n #readelf: -n\n \n # Should warn about the missing input BTI NOTE but should"
    },
    {
      "sha": "644290adacb22780844ee3794d97897508bf493c",
      "filename": "ld/testsuite/ld-aarch64/bti-plt-7.d",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8bf6d176b0a442a8091d338d4af971591d19922c/ld/testsuite/ld-aarch64/bti-plt-7.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8bf6d176b0a442a8091d338d4af971591d19922c/ld/testsuite/ld-aarch64/bti-plt-7.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-aarch64/bti-plt-7.d?ref=8bf6d176b0a442a8091d338d4af971591d19922c",
      "patch": "@@ -2,9 +2,9 @@\n #source: property-bti-pac2.s\n #source: plt_mapping_symbol.s\n #as: -mabi=lp64\n-#ld: -shared --force-bti\n-#warning: .*plt_mapping_symbol.*: warning: BTI turned on by --force-bti.*\n-#warning: .*property-bti-pac2.*: warning: BTI turned on by --force-bti.*\n+#ld: -shared -z force-bti\n+#warning: .*plt_mapping_symbol.*: warning: BTI turned on by -z force-bti.*\n+#warning: .*property-bti-pac2.*: warning: BTI turned on by -z force-bti.*\n #readelf: -n\n \n # Should warn about the missing input BTI NOTE but should"
    },
    {
      "sha": "f22fd60cbd571042332cab6f3574965e8ef60249",
      "filename": "ld/testsuite/ld-aarch64/bti-warn.d",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8bf6d176b0a442a8091d338d4af971591d19922c/ld/testsuite/ld-aarch64/bti-warn.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8bf6d176b0a442a8091d338d4af971591d19922c/ld/testsuite/ld-aarch64/bti-warn.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-aarch64/bti-warn.d?ref=8bf6d176b0a442a8091d338d4af971591d19922c",
      "patch": "@@ -2,9 +2,9 @@\n #source: property-bti-pac2.s\n #source: bti-plt-1.s\n #as: -mabi=lp64 --defsym __guard_property_bti__=1 --defsym __property_pac__=1\n-#ld: -shared --force-bti\n-#warning: .*property-bti-pac2.*: warning: BTI turned on by --force-bti.*\n-#warning: .*bti-plt-1.*: warning: BTI turned on by --force-bti.*\n+#ld: -shared -z force-bti\n+#warning: .*property-bti-pac2.*: warning: BTI turned on by -z force-bti.*\n+#warning: .*bti-plt-1.*: warning: BTI turned on by -z force-bti.*\n #readelf: -n\n \n # Should warn about the missing input BTI NOTE but should"
    },
    {
      "sha": "06278ef15f706cbee55f1258c8ee732370506faa",
      "filename": "ld/testsuite/ld-aarch64/pac-plt-1.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8bf6d176b0a442a8091d338d4af971591d19922c/ld/testsuite/ld-aarch64/pac-plt-1.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8bf6d176b0a442a8091d338d4af971591d19922c/ld/testsuite/ld-aarch64/pac-plt-1.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-aarch64/pac-plt-1.d?ref=8bf6d176b0a442a8091d338d4af971591d19922c",
      "patch": "@@ -1,6 +1,6 @@\n #source: bti-plt-1.s\n #as: -mabi=lp64 --defsym __guard_property_bti__=1\n-#ld: -shared --pac-plt -T bti-plt.ld\n+#ld: -shared -z pac-plt -T bti-plt.ld\n #objdump: -dr -j .plt\n \n [^:]*: *file format elf64-.*aarch64"
    },
    {
      "sha": "b5cf43d3d4694564b5f653cb234b40294c968b0b",
      "filename": "ld/testsuite/ld-aarch64/pac-plt-2.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8bf6d176b0a442a8091d338d4af971591d19922c/ld/testsuite/ld-aarch64/pac-plt-2.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8bf6d176b0a442a8091d338d4af971591d19922c/ld/testsuite/ld-aarch64/pac-plt-2.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-aarch64/pac-plt-2.d?ref=8bf6d176b0a442a8091d338d4af971591d19922c",
      "patch": "@@ -1,5 +1,5 @@\n #source: tls-desc-ie.s\n-#ld: -shared --pac-plt -T bti-plt.ld\n+#ld: -shared -z pac-plt -T bti-plt.ld\n #objdump: -dr -j .plt\n #...\n Disassembly of section .plt:"
    }
  ]
}