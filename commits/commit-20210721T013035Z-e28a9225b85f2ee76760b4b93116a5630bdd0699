{
  "sha": "e28a9225b85f2ee76760b4b93116a5630bdd0699",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ZTI4YTkyMjViODVmMmVlNzY3NjBiNGI5MzExNmE1NjMwYmRkMDY5OQ==",
  "commit": {
    "author": {
      "name": "John Ericson",
      "email": "git@JohnEricson.me",
      "date": "2021-07-18T22:32:14Z"
    },
    "committer": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2021-07-21T01:30:35Z"
    },
    "message": "Remove `netbsdpe` support\n\nnetbsdpe was deprecated in c2ce831330e10dab4703094491f80b6b9a5c2289.\nSince then, a release has passed (2.37), and it was marked obselete in\n5c9cbf07f3f972ecffe13d858010b3179df17b32. Unless I am mistaken, that\nmeans we can now remove support altogether.\n\nAll branches in the \"active\" code are remove, and the target is\nadditionally marked as obsolete next to the other removed ones for\nlibbfd and gdb.\n\nPer [1] from the NetBSD toolchain list, PE/COFF support was removed a\ndecade ago. Furthermore, the sole mention of this target in the binutils\ncommit history was in 2002. Together, I'm led to believe this target\nhasn't seen much attention in quite a while.\n\n[1]: https://mail-index.netbsd.org/tech-toolchain/2021/06/16/msg003996.html\n\nbfd/\n\t* config.bfd: Remove netbsdpe entry.\nbinutils/\n\t* configure.ac: Remove netbsdpe entry.\n\t* testsuite/lib/binutils-common.exp (is_pecoff_format): Likewise.\n\t* configure: Regenerate.\ngas/\n\t* configure.tgt: Remove netbsdpe entry.\ngdb/\n\t* configure.tgt: Add netbsdpe to removed targets.\nld/\n\t* configure.tgt: Remove netbsdpe entry.\n\t* testsuite/ld-bootstrap/bootstrap.exp: Likewise.",
    "tree": {
      "sha": "cac5bf3b41aa2544f0adf5723b657d8f004cc18d",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/cac5bf3b41aa2544f0adf5723b657d8f004cc18d"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/e28a9225b85f2ee76760b4b93116a5630bdd0699",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/e28a9225b85f2ee76760b4b93116a5630bdd0699",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/e28a9225b85f2ee76760b4b93116a5630bdd0699",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/e28a9225b85f2ee76760b4b93116a5630bdd0699/comments",
  "author": {
    "login": "Ericson2314",
    "id": 1055245,
    "node_id": "MDQ6VXNlcjEwNTUyNDU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1055245?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Ericson2314",
    "html_url": "https://github.com/Ericson2314",
    "followers_url": "https://api.github.com/users/Ericson2314/followers",
    "following_url": "https://api.github.com/users/Ericson2314/following{/other_user}",
    "gists_url": "https://api.github.com/users/Ericson2314/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Ericson2314/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Ericson2314/subscriptions",
    "organizations_url": "https://api.github.com/users/Ericson2314/orgs",
    "repos_url": "https://api.github.com/users/Ericson2314/repos",
    "events_url": "https://api.github.com/users/Ericson2314/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Ericson2314/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "8258b1353c3bfabaf84be45c597d4277368b6bdf",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/8258b1353c3bfabaf84be45c597d4277368b6bdf",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/8258b1353c3bfabaf84be45c597d4277368b6bdf"
    }
  ],
  "stats": {
    "total": 17,
    "additions": 4,
    "deletions": 13
  },
  "files": [
    {
      "sha": "ebda78f60a7be530bee4e85897d2c2ea855596ba",
      "filename": "bfd/config.bfd",
      "status": "modified",
      "additions": 0,
      "deletions": 4,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e28a9225b85f2ee76760b4b93116a5630bdd0699/bfd/config.bfd",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e28a9225b85f2ee76760b4b93116a5630bdd0699/bfd/config.bfd",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/config.bfd?ref=e28a9225b85f2ee76760b4b93116a5630bdd0699",
      "patch": "@@ -614,10 +614,6 @@ case \"${targ}\" in\n     targ_selvecs=\"iamcu_elf32_vec\"\n     targ64_selvecs=\"x86_64_elf64_vec l1om_elf64_vec k1om_elf64_vec\"\n     ;;\n-  i[3-7]86-*-netbsdpe*)\n-    targ_defvec=i386_pe_vec\n-    targ_selvecs=\"i386_pe_vec i386_pei_vec i386_elf32_vec iamcu_elf32_vec\"\n-    ;;\n   i[3-7]86-*-openbsd*)\n     targ_defvec=i386_elf32_vec\n     targ_selvecs=\"iamcu_elf32_vec\""
    },
    {
      "sha": "373fb180f74c59320e09305ed8c0b26560f9c9a5",
      "filename": "binutils/configure",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e28a9225b85f2ee76760b4b93116a5630bdd0699/binutils/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e28a9225b85f2ee76760b4b93116a5630bdd0699/binutils/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/configure?ref=e28a9225b85f2ee76760b4b93116a5630bdd0699",
      "patch": "@@ -14522,7 +14522,7 @@ do\n \t  BUILD_WINDMC='$(WINDMC_PROG)$(EXEEXT)'\n \t  BUILD_DLLWRAP='$(DLLWRAP_PROG)$(EXEEXT)'\n \t  ;;\n-\ti[3-7]86-*-pe* | i[3-7]86-*-cygwin* | i[3-7]86-*-mingw32** | i[3-7]86-*-netbsdpe*)\n+\ti[3-7]86-*-pe* | i[3-7]86-*-cygwin* | i[3-7]86-*-mingw32**)\n   \t  BUILD_DLLTOOL='$(DLLTOOL_PROG)$(EXEEXT)'\n \t  if test -z \"$DLLTOOL_DEFAULT\"; then\n \t    DLLTOOL_DEFAULT=\"-DDLLTOOL_DEFAULT_I386\""
    },
    {
      "sha": "9d17b399aecb19328d19463fc51b9db50d1a7414",
      "filename": "binutils/configure.ac",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e28a9225b85f2ee76760b4b93116a5630bdd0699/binutils/configure.ac",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e28a9225b85f2ee76760b4b93116a5630bdd0699/binutils/configure.ac",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/configure.ac?ref=e28a9225b85f2ee76760b4b93116a5630bdd0699",
      "patch": "@@ -358,7 +358,7 @@ do\n \t  BUILD_DLLWRAP='$(DLLWRAP_PROG)$(EXEEXT)'\n \t  ;;\n changequote(,)dnl\n-\ti[3-7]86-*-pe* | i[3-7]86-*-cygwin* | i[3-7]86-*-mingw32** | i[3-7]86-*-netbsdpe*)\n+\ti[3-7]86-*-pe* | i[3-7]86-*-cygwin* | i[3-7]86-*-mingw32**)\n changequote([,])dnl\n   \t  BUILD_DLLTOOL='$(DLLTOOL_PROG)$(EXEEXT)'\n \t  if test -z \"$DLLTOOL_DEFAULT\"; then"
    },
    {
      "sha": "0fb506cfd8960fe0df03485993b51bc121a6fe9e",
      "filename": "binutils/testsuite/lib/binutils-common.exp",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e28a9225b85f2ee76760b4b93116a5630bdd0699/binutils/testsuite/lib/binutils-common.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e28a9225b85f2ee76760b4b93116a5630bdd0699/binutils/testsuite/lib/binutils-common.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/testsuite/lib/binutils-common.exp?ref=e28a9225b85f2ee76760b4b93116a5630bdd0699",
      "patch": "@@ -105,7 +105,6 @@ proc is_pecoff_format args {\n \t || [istarget $m_os-cygwin*]\n \t || [istarget $m_os-interix*]\n \t || [istarget $m_os-mingw*]\n-\t || [istarget $m_os-netbsdpe*]\n \t || [istarget $m_os-pe*]\n \t || [istarget $m_os-winnt*] } {\n \treturn 1"
    },
    {
      "sha": "0be695bc61cbe7870c7ece8fe384fbdb0fe93b4b",
      "filename": "gas/configure.tgt",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e28a9225b85f2ee76760b4b93116a5630bdd0699/gas/configure.tgt",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e28a9225b85f2ee76760b4b93116a5630bdd0699/gas/configure.tgt",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/configure.tgt?ref=e28a9225b85f2ee76760b4b93116a5630bdd0699",
      "patch": "@@ -224,7 +224,6 @@ case ${generic_target} in\n   i386-*-fuchsia*)\t\t\tfmt=elf ;;\n   i386-*-genode*)\t\t\tfmt=elf ;;\n   i386-*-bsd*)\t\t\t\tfmt=aout em=386bsd ;;\n-  i386-*-netbsdpe*)\t\t\tfmt=coff em=pe ;;\n   i386-*-netbsd*-gnu* | \\\n   i386-*-knetbsd*-gnu | \\\n   i386-*-netbsd* | \\"
    },
    {
      "sha": "5f66cda6b788762083c68b92b2c118750c1d6d65",
      "filename": "gdb/configure.tgt",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e28a9225b85f2ee76760b4b93116a5630bdd0699/gdb/configure.tgt",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e28a9225b85f2ee76760b4b93116a5630bdd0699/gdb/configure.tgt",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/configure.tgt?ref=e28a9225b85f2ee76760b4b93116a5630bdd0699",
      "patch": "@@ -14,6 +14,7 @@\n case $targ in\n  *-*-irix* | \\\n  *-*-solaris2.[01] | *-*-solaris2.[2-9]* | *-*-solaris2.10* | \\\n+ *-*-netbsdpe* | \\\n  alpha*-*-osf* | \\\n  alpha*-*-freebsd* | \\\n  alpha*-*-kfreebsd*-gnu | \\"
    },
    {
      "sha": "6c5353921831641b6dec39c99b3c73b71faafae4",
      "filename": "ld/configure.tgt",
      "status": "modified",
      "additions": 0,
      "deletions": 3,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e28a9225b85f2ee76760b4b93116a5630bdd0699/ld/configure.tgt",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e28a9225b85f2ee76760b4b93116a5630bdd0699/ld/configure.tgt",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/configure.tgt?ref=e28a9225b85f2ee76760b4b93116a5630bdd0699",
      "patch": "@@ -347,9 +347,6 @@ i[3-7]86-*-openbsd*)\n \t\t\ttarg_emul=elf_i386\n \t\t\ttarg_extra_emuls=\"elf_iamcu\"\n \t\t\t;;\n-i[3-7]86-*-netbsdpe*)\ttarg_emul=i386pe\n-\t\t\ttarg_extra_ofiles=\"deffilep.o pe-dll.o\"\n-\t\t\t;;\n i[3-7]86-*-elfiamcu)\ttarg_emul=elf_iamcu\n \t\t\ttarg_extra_emuls=elf_i386\n \t\t\t;;"
    },
    {
      "sha": "74582392010e5a368fff81e6d213e06b4f7d1891",
      "filename": "ld/testsuite/ld-bootstrap/bootstrap.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 2,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e28a9225b85f2ee76760b4b93116a5630bdd0699/ld/testsuite/ld-bootstrap/bootstrap.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e28a9225b85f2ee76760b4b93116a5630bdd0699/ld/testsuite/ld-bootstrap/bootstrap.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-bootstrap/bootstrap.exp?ref=e28a9225b85f2ee76760b4b93116a5630bdd0699",
      "patch": "@@ -216,8 +216,7 @@ foreach flags $test_flags {\n \t|| [istarget \"*-*-winnt*\"]\n \t|| [istarget \"*-*-mingw*\"]\n \t|| [istarget \"*-*-interix*\"]\n-\t|| [istarget \"*-*-beospe*\"]\n-\t|| [istarget \"*-*-netbsdpe*\"]} {\n+\t|| [istarget \"*-*-beospe*\"]} {\n \t# Trim off the date present in PE binaries by only looking\n \t#   at the ends of the files\n \t# Although this works, a way to set the date would be better."
    }
  ]
}