{
  "sha": "87279e3cef5b2c54f4a01962cf9dcea38664a336",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ODcyNzllM2NlZjViMmM1NGY0YTAxOTYyY2Y5ZGNlYTM4NjY0YTMzNg==",
  "commit": {
    "author": {
      "name": "Nick Alcock",
      "email": "nick.alcock@oracle.com",
      "date": "2019-07-20T13:45:12Z"
    },
    "committer": {
      "name": "Nick Alcock",
      "email": "nick.alcock@oracle.com",
      "date": "2019-10-03T16:04:56Z"
    },
    "message": "libctf: installable libctf as a shared library\n\nThis lets other programs read and write CTF-format data.\n\nTwo versioned shared libraries are created: libctf.so and\nlibctf-nobfd.so.  They contain identical content except that\nlibctf-nobfd.so contains no references to libbfd and does not implement\nctf_open, ctf_fdopen, ctf_bfdopen or ctf_bfdopen_ctfsect, so it can be\nused by programs that cannot use BFD, like readelf.\n\nThe soname major version is presently .0 until the linker API\nstabilizes, when it will flip to .1 and hopefully never change again.\n\nNew in v3.\nv4: libtoolize and turn into a pair of shared libraries.  Drop\n    --enable-install-ctf: now controlled by --enable-shared and\n    --enable-install-libbfd, like everything else.\nv5: Add ../bfd to ACLOCAL_AMFLAGS and AC_CONFIG_MACRO_DIR.  Fix tabdamage.\n\n\t* Makefile.def (host_modules): libctf is no longer no_install.\n\t* Makefile.in: Regenerated.\nlibctf/\n\t* configure.ac (AC_DISABLE_SHARED): New, like opcodes/.\n\t(LT_INIT): Likewise.\n\t(AM_INSTALL_LIBBFD): Likewise.\n\t(dlopen): Note why this is necessary in a comment.\n\t(SHARED_LIBADD): Initialize for possibly-PIC libiberty: derived from\n\topcodes/.\n\t(SHARED_LDFLAGS): Likewise.\n\t(BFD_LIBADD): Likewise, for libbfd.\n\t(BFD_DEPENDENCIES): Likewise.\n\t(VERSION_FLAGS): Initialize, using a version script if ld supports\n\tone, or libtool -export-symbols-regex otherwise.\n\t(AC_CONFIG_MACRO_DIR): Add ../BFD.\n\t* Makefile.am (ACLOCAL_AMFLAGS): Likewise.\n\t(INCDIR): New.\n\t(AM_CPPFLAGS): Use $(srcdir), not $(top_srcdir).\n\t(noinst_LIBRARIES): Replace with...\n\t[INSTALL_LIBBFD] (lib_LTLIBRARIES): This, or...\n\t[!INSTALL_LIBBFD] (noinst_LTLIBRARIES): ... this, mentioning new\n\tlibctf-nobfd.la as well.\n\t[INSTALL_LIBCTF] (include_HEADERS): Add the CTF headers.\n\t[!INSTALL_LIBCTF] (include_HEADERS): New, empty.\n\t(libctf_a_SOURCES): Rename to...\n\t(libctf_nobfd_la_SOURCES): ... this, all of libctf other than\n\tctf-open-bfd.c.\n\t(libctf_la_SOURCES): Now derived from libctf_nobfd_la_SOURCES,\n\twith ctf-open-bfd.c added.\n\t(libctf_nobfd_la_LIBADD): New, using @SHARED_LIBADD@.\n\t(libctf_la_LIBADD): New, using @BFD_LIBADD@ as well.\n\t(libctf_la_DEPENDENCIES): New, using @BFD_DEPENDENCIES@.\n\t* Makefile.am [INSTALL_LIBCTF]: Use it.\n\t* aclocal.m4: Add ../bfd/acinclude.m4, ../config/acx.m4, and the\n\tlibtool macros.\n\t* libctf.ver: New, everything is version LIBCTF_1.0 currently (even\n\tthe unstable components).\n\t* Makefile.in: Regenerated.\n\t* config.h.in: Likewise.\n\t* configure: Likewise.\nbinutils/\n\t* Makefile.am (LIBCTF): Mention the .la file.\n\t(LIBCTF_NOBFD): New.\n\t(readelf_DEPENDENCIES): Use it.\n\t(readelf_LDADD): Likewise.\n\t* Makefile.in: Regenerated.\nld/\n\t* configure.ac (TESTCTFLIB): Set to the .so or .a, like TESTBFDLIB.\n\t* Makefile.am (TESTCTFLIB): Use it.\n\t(LIBCTF): Use the .la file.\n\t(check-DEJAGNU): Use it.\n\t* Makefile.in: Regenerated.\n\t* configure: Likewise.\ninclude/\n\t* ctf-api.h: Note the instability of the ctf_link interfaces.",
    "tree": {
      "sha": "2f972035efea4b029156d1bcea5f37a4cdb8ef82",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/2f972035efea4b029156d1bcea5f37a4cdb8ef82"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/87279e3cef5b2c54f4a01962cf9dcea38664a336",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/87279e3cef5b2c54f4a01962cf9dcea38664a336",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/87279e3cef5b2c54f4a01962cf9dcea38664a336",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/87279e3cef5b2c54f4a01962cf9dcea38664a336/comments",
  "author": {
    "login": "nickalcock",
    "id": 6503005,
    "node_id": "MDQ6VXNlcjY1MDMwMDU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6503005?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nickalcock",
    "html_url": "https://github.com/nickalcock",
    "followers_url": "https://api.github.com/users/nickalcock/followers",
    "following_url": "https://api.github.com/users/nickalcock/following{/other_user}",
    "gists_url": "https://api.github.com/users/nickalcock/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nickalcock/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nickalcock/subscriptions",
    "organizations_url": "https://api.github.com/users/nickalcock/orgs",
    "repos_url": "https://api.github.com/users/nickalcock/repos",
    "events_url": "https://api.github.com/users/nickalcock/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nickalcock/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "nickalcock",
    "id": 6503005,
    "node_id": "MDQ6VXNlcjY1MDMwMDU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6503005?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nickalcock",
    "html_url": "https://github.com/nickalcock",
    "followers_url": "https://api.github.com/users/nickalcock/followers",
    "following_url": "https://api.github.com/users/nickalcock/following{/other_user}",
    "gists_url": "https://api.github.com/users/nickalcock/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nickalcock/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nickalcock/subscriptions",
    "organizations_url": "https://api.github.com/users/nickalcock/orgs",
    "repos_url": "https://api.github.com/users/nickalcock/repos",
    "events_url": "https://api.github.com/users/nickalcock/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nickalcock/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "1ff6de031241c59d0ff9fa01d3c0a4049b0e97c9",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/1ff6de031241c59d0ff9fa01d3c0a4049b0e97c9",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/1ff6de031241c59d0ff9fa01d3c0a4049b0e97c9"
    }
  ],
  "stats": {
    "total": 8719,
    "additions": 8419,
    "deletions": 300
  },
  "files": [
    {
      "sha": "14d26631a983a9bf0cec497c430cd68eaec009c9",
      "filename": "ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/87279e3cef5b2c54f4a01962cf9dcea38664a336/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/87279e3cef5b2c54f4a01962cf9dcea38664a336/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ChangeLog?ref=87279e3cef5b2c54f4a01962cf9dcea38664a336",
      "patch": "@@ -1,3 +1,8 @@\n+2019-07-30  Nick Alcock  <nick.alcock@oracle.com>\n+\n+\t* Makefile.def (host_modules): libctf is no longer no_install.\n+\t* Makefile.in: Regenerated.\n+\n 2019-07-13  Nick Alcock  <nick.alcock@oracle.com>\n \n \t* Makefile.def (dependencies): all-ld depends on all-libctf."
    },
    {
      "sha": "6f5e881d56eb674e56715734a7ec70d2a437683a",
      "filename": "Makefile.def",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/87279e3cef5b2c54f4a01962cf9dcea38664a336/Makefile.def",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/87279e3cef5b2c54f4a01962cf9dcea38664a336/Makefile.def",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/Makefile.def?ref=87279e3cef5b2c54f4a01962cf9dcea38664a336",
      "patch": "@@ -129,7 +129,7 @@ host_modules= { module= lto-plugin; bootstrap=true;\n \t\textra_make_flags='@extra_linker_plugin_flags@'; };\n host_modules= { module= libcc1; extra_configure_flags=--enable-shared; };\n host_modules= { module= gotools; };\n-host_modules= { module= libctf; no_install=true; no_check=true;\n+host_modules= { module= libctf; no_check=true;\n \t\tbootstrap=true; };\n \n target_modules = { module= libstdc++-v3;"
    },
    {
      "sha": "196abf01ff9254c02e81f778484cfafed5f2f9e9",
      "filename": "Makefile.in",
      "status": "modified",
      "additions": 14,
      "deletions": 2,
      "changes": 16,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/87279e3cef5b2c54f4a01962cf9dcea38664a336/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/87279e3cef5b2c54f4a01962cf9dcea38664a336/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/Makefile.in?ref=87279e3cef5b2c54f4a01962cf9dcea38664a336",
      "patch": "@@ -33849,7 +33849,13 @@ maybe-install-libctf:\n @if libctf\n maybe-install-libctf: install-libctf\n \n-install-libctf:\n+install-libctf: installdirs\n+\t@: $(MAKE); $(unstage)\n+\t@r=`${PWD_COMMAND}`; export r; \\\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n+\t$(HOST_EXPORTS) \\\n+\t(cd $(HOST_SUBDIR)/libctf && \\\n+\t  $(MAKE) $(FLAGS_TO_PASS)  install)\n \n @endif libctf\n \n@@ -33858,7 +33864,13 @@ maybe-install-strip-libctf:\n @if libctf\n maybe-install-strip-libctf: install-strip-libctf\n \n-install-strip-libctf:\n+install-strip-libctf: installdirs\n+\t@: $(MAKE); $(unstage)\n+\t@r=`${PWD_COMMAND}`; export r; \\\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n+\t$(HOST_EXPORTS) \\\n+\t(cd $(HOST_SUBDIR)/libctf && \\\n+\t  $(MAKE) $(FLAGS_TO_PASS)  install-strip)\n \n @endif libctf\n "
    },
    {
      "sha": "3fba18e5cee7da4545a71a4b50cf77420c0d10d9",
      "filename": "binutils/ChangeLog",
      "status": "modified",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/87279e3cef5b2c54f4a01962cf9dcea38664a336/binutils/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/87279e3cef5b2c54f4a01962cf9dcea38664a336/binutils/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/ChangeLog?ref=87279e3cef5b2c54f4a01962cf9dcea38664a336",
      "patch": "@@ -1,3 +1,11 @@\n+2019-09-23  Nick Alcock  <nick.alcock@oracle.com>\n+\n+\t* Makefile.am (LIBCTF): Mention the .la file.\n+\t(LIBCTF_NOBFD): New.\n+\t(readelf_DEPENDENCIES): Use it.\n+\t(readelf_LDADD): Likewise.\n+\t* Makefile.in: Regenerated.\n+\n 2019-07-13  Nick Alcock  <nick.alcock@oracle.com>\n \n \t* readelf.c (dump_ctf_symtab_name): Give default value."
    },
    {
      "sha": "4c90a0bef315082ed6d80b03cd658cbf0773c3a4",
      "filename": "binutils/Makefile.am",
      "status": "modified",
      "additions": 4,
      "deletions": 3,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/87279e3cef5b2c54f4a01962cf9dcea38664a336/binutils/Makefile.am",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/87279e3cef5b2c54f4a01962cf9dcea38664a336/binutils/Makefile.am",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/Makefile.am?ref=87279e3cef5b2c54f4a01962cf9dcea38664a336",
      "patch": "@@ -162,7 +162,8 @@ BFDLIB = ../bfd/libbfd.la\n \n OPCODES = ../opcodes/libopcodes.la\n \n-LIBCTF = ../libctf/libctf.a\n+LIBCTF = ../libctf/libctf.la\n+LIBCTF_NOBFD = ../libctf/libctf-nobfd.la\n \n LIBIBERTY = ../libiberty/libiberty.a\n \n@@ -229,7 +230,7 @@ dlltool_DEPENDENCIES =   $(LIBINTL_DEP) $(LIBIBERTY) $(BFDLIB)\n windres_DEPENDENCIES =   $(LIBINTL_DEP) $(LIBIBERTY) $(BFDLIB)\n windmc_DEPENDENCIES =    $(LIBINTL_DEP) $(LIBIBERTY) $(BFDLIB)\n addr2line_DEPENDENCIES = $(LIBINTL_DEP) $(LIBIBERTY) $(BFDLIB)\n-readelf_DEPENDENCIES =   $(LIBINTL_DEP) $(LIBIBERTY) $(LIBCTF)\n+readelf_DEPENDENCIES =   $(LIBINTL_DEP) $(LIBIBERTY) $(LIBCTF_NOBFD)\n elfedit_DEPENDENCIES = $(LIBINTL_DEP) $(LIBIBERTY)\n dllwrap_DEPENDENCIES =   $(LIBINTL_DEP) $(LIBIBERTY)\n bfdtest1_DEPENDENCIES =  $(LIBINTL_DEP) $(LIBIBERTY) $(BFDLIB)\n@@ -244,7 +245,7 @@ objcopy_SOURCES = objcopy.c not-strip.c rename.c $(WRITE_DEBUG_SRCS) $(BULIBS)\n strings_SOURCES = strings.c $(BULIBS)\n \n readelf_SOURCES = readelf.c version.c unwind-ia64.c dwarf.c $(ELFLIBS)\n-readelf_LDADD   = $(LIBINTL) $(LIBCTF) $(LIBIBERTY) $(ZLIB)\n+readelf_LDADD   = $(LIBINTL) $(LIBCTF_NOBFD) $(LIBIBERTY) $(ZLIB)\n \n elfedit_SOURCES = elfedit.c version.c $(ELFLIBS)\n elfedit_LDADD = $(LIBINTL) $(LIBIBERTY)"
    },
    {
      "sha": "be96d2db0ec0d228371f9ff8f01697ed449f026e",
      "filename": "binutils/Makefile.in",
      "status": "modified",
      "additions": 4,
      "deletions": 3,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/87279e3cef5b2c54f4a01962cf9dcea38664a336/binutils/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/87279e3cef5b2c54f4a01962cf9dcea38664a336/binutils/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/Makefile.in?ref=87279e3cef5b2c54f4a01962cf9dcea38664a336",
      "patch": "@@ -655,7 +655,8 @@ BULIBS = bucomm.c version.c filemode.c\n ELFLIBS = elfcomm.c\n BFDLIB = ../bfd/libbfd.la\n OPCODES = ../opcodes/libopcodes.la\n-LIBCTF = ../libctf/libctf.a\n+LIBCTF = ../libctf/libctf.la\n+LIBCTF_NOBFD = ../libctf/libctf-nobfd.la\n LIBIBERTY = ../libiberty/libiberty.a\n POTFILES = $(CFILES) $(DEBUG_SRCS) $(HFILES)\n EXPECT = expect\n@@ -695,7 +696,7 @@ dlltool_DEPENDENCIES = $(LIBINTL_DEP) $(LIBIBERTY) $(BFDLIB)\n windres_DEPENDENCIES = $(LIBINTL_DEP) $(LIBIBERTY) $(BFDLIB)\n windmc_DEPENDENCIES = $(LIBINTL_DEP) $(LIBIBERTY) $(BFDLIB)\n addr2line_DEPENDENCIES = $(LIBINTL_DEP) $(LIBIBERTY) $(BFDLIB)\n-readelf_DEPENDENCIES = $(LIBINTL_DEP) $(LIBIBERTY) $(LIBCTF)\n+readelf_DEPENDENCIES = $(LIBINTL_DEP) $(LIBIBERTY) $(LIBCTF_NOBFD)\n elfedit_DEPENDENCIES = $(LIBINTL_DEP) $(LIBIBERTY)\n dllwrap_DEPENDENCIES = $(LIBINTL_DEP) $(LIBIBERTY)\n bfdtest1_DEPENDENCIES = $(LIBINTL_DEP) $(LIBIBERTY) $(BFDLIB)\n@@ -705,7 +706,7 @@ size_SOURCES = size.c $(BULIBS)\n objcopy_SOURCES = objcopy.c not-strip.c rename.c $(WRITE_DEBUG_SRCS) $(BULIBS)\n strings_SOURCES = strings.c $(BULIBS)\n readelf_SOURCES = readelf.c version.c unwind-ia64.c dwarf.c $(ELFLIBS)\n-readelf_LDADD = $(LIBINTL) $(LIBCTF) $(LIBIBERTY) $(ZLIB)\n+readelf_LDADD = $(LIBINTL) $(LIBCTF_NOBFD) $(LIBIBERTY) $(ZLIB)\n elfedit_SOURCES = elfedit.c version.c $(ELFLIBS)\n elfedit_LDADD = $(LIBINTL) $(LIBIBERTY)\n strip_new_SOURCES = objcopy.c is-strip.c rename.c $(WRITE_DEBUG_SRCS) $(BULIBS)"
    },
    {
      "sha": "a0d3c10d9cd8fcdc615cc1d8b7ae2e1e570c98ed",
      "filename": "include/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/87279e3cef5b2c54f4a01962cf9dcea38664a336/include/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/87279e3cef5b2c54f4a01962cf9dcea38664a336/include/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/include/ChangeLog?ref=87279e3cef5b2c54f4a01962cf9dcea38664a336",
      "patch": "@@ -1,3 +1,7 @@\n+2019-09-23  Nick Alcock  <nick.alcock@oracle.com>\n+\n+\t* ctf-api.h: Note the instability of the ctf_link interfaces.\n+\n 2019-07-13  Nick Alcock  <nick.alcock@oracle.com>\n \n \t* bfdlink.h (elf_strtab_hash): New forward."
    },
    {
      "sha": "674860d52f36b3cf2e61b73973797f6ea5624338",
      "filename": "include/ctf-api.h",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/87279e3cef5b2c54f4a01962cf9dcea38664a336/include/ctf-api.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/87279e3cef5b2c54f4a01962cf9dcea38664a336/include/ctf-api.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/include/ctf-api.h?ref=87279e3cef5b2c54f4a01962cf9dcea38664a336",
      "patch": "@@ -408,6 +408,8 @@ extern int ctf_gzwrite (ctf_file_t *fp, gzFile fd);\n extern int ctf_compress_write (ctf_file_t * fp, int fd);\n extern unsigned char *ctf_write_mem (ctf_file_t *, size_t *, size_t threshold);\n \n+/* The ctf_link interfaces are not stable yet.  No guarantees!  */\n+\n extern int ctf_link_add_ctf (ctf_file_t *, ctf_archive_t *, const char *);\n extern int ctf_link (ctf_file_t *, int share_mode);\n typedef const char *ctf_link_strtab_string_f (uint32_t *offset, void *arg);"
    },
    {
      "sha": "144320ce5708ed3d92403760ee0b4eea7a4eb55b",
      "filename": "ld/ChangeLog",
      "status": "modified",
      "additions": 9,
      "deletions": 0,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/87279e3cef5b2c54f4a01962cf9dcea38664a336/ld/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/87279e3cef5b2c54f4a01962cf9dcea38664a336/ld/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/ChangeLog?ref=87279e3cef5b2c54f4a01962cf9dcea38664a336",
      "patch": "@@ -1,3 +1,12 @@\n+2019-09-23  Nick Alcock  <nick.alcock@oracle.com>\n+\n+\t* configure.ac (TESTCTFLIB): Set to the .so or .a, like TESTBFDLIB.\n+\t* Makefile.am (TESTCTFLIB): Use it.\n+\t(LIBCTF): Use the .la file.\n+\t(check-DEJAGNU): Use it.\n+\t* Makefile.in: Regenerated.\n+\t* configure: Likewise.\n+\n 2019-09-30  Nick Alcock  <nick.alcock@oracle.com>\n \n \t* ldlang.h: (struct lang_input_statement_struct): Add the_ctf."
    },
    {
      "sha": "2790838994b2c01e80beb31881fc4e2ed07747bc",
      "filename": "ld/Makefile.am",
      "status": "modified",
      "additions": 4,
      "deletions": 3,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/87279e3cef5b2c54f4a01962cf9dcea38664a336/ld/Makefile.am",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/87279e3cef5b2c54f4a01962cf9dcea38664a336/ld/Makefile.am",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/Makefile.am?ref=87279e3cef5b2c54f4a01962cf9dcea38664a336",
      "patch": "@@ -157,7 +157,7 @@ AM_CPPFLAGS = -I. -I$(srcdir) -I../bfd -I$(BFDDIR) -I$(INCDIR) @zlibinc@ \\\n \n BFDLIB = ../bfd/libbfd.la\n LIBIBERTY = ../libiberty/libiberty.a\n-LIBCTF = ../libctf/libctf.a\n+LIBCTF = ../libctf/libctf.la\n \n # These all start with e so 'make clean' can find them.\n ALL_EMULATION_SOURCES = \\\n@@ -972,8 +972,9 @@ ld_new_LDADD = $(EMULATION_OFILES) $(EMUL_EXTRA_OFILES) $(BFDLIB) $(LIBCTF) $(LI\n # Dependency tracking for the generated emulation files.\n EXTRA_ld_new_SOURCES += $(ALL_EMULATION_SOURCES) $(ALL_64_EMULATION_SOURCES)\n \n-# This is the real libbfd.a created by libtool.\n+# This is the real libbfd.a and libctf.a created by libtool.\n TESTBFDLIB = @TESTBFDLIB@\n+TESTCTFLIB = @TESTCTFLIB@\n \n check-DEJAGNU: site.exp\n \tsrcroot=`cd $(srcdir) && pwd`; export srcroot; \\\n@@ -986,7 +987,7 @@ check-DEJAGNU: site.exp\n \t\tCC=\"$(CC_FOR_TARGET)\" CFLAGS=\"$(CFLAGS_FOR_TARGET)\" \\\n \t\tCXX=\"$(CXX_FOR_TARGET)\" CXXFLAGS=\"$(CXXFLAGS_FOR_TARGET)\" \\\n \t\tCC_FOR_HOST=\"$(CC)\" CFLAGS_FOR_HOST=\"$(CFLAGS)\" \\\n-\t\tOFILES=\"$(OFILES)\" BFDLIB=\"$(TESTBFDLIB)\" CTFLIB=\"$(LIBCTF) $(ZLIB)\" \\\n+\t\tOFILES=\"$(OFILES)\" BFDLIB=\"$(TESTBFDLIB)\" CTFLIB=\"$(TESTCTFLIB) $(ZLIB)\" \\\n \t\tLIBIBERTY=\"$(LIBIBERTY) $(LIBINTL)\" LIBS=\"$(LIBS)\" \\\n \t\tDO_COMPARE=\"`echo '$(do_compare)' | sed -e 's,\\\\$$,,g'`\" \\\n \t\t$(RUNTESTFLAGS); \\"
    },
    {
      "sha": "395bef155c8df610cae57fa557505de180d7633b",
      "filename": "ld/Makefile.in",
      "status": "modified",
      "additions": 4,
      "deletions": 3,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/87279e3cef5b2c54f4a01962cf9dcea38664a336/ld/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/87279e3cef5b2c54f4a01962cf9dcea38664a336/ld/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/Makefile.in?ref=87279e3cef5b2c54f4a01962cf9dcea38664a336",
      "patch": "@@ -460,8 +460,9 @@ STRIP = @STRIP@\n TARGET_SYSTEM_ROOT = @TARGET_SYSTEM_ROOT@\n TARGET_SYSTEM_ROOT_DEFINE = @TARGET_SYSTEM_ROOT_DEFINE@\n \n-# This is the real libbfd.a created by libtool.\n+# This is the real libbfd.a and libctf.a created by libtool.\n TESTBFDLIB = @TESTBFDLIB@\n+TESTCTFLIB = @TESTCTFLIB@\n USE_NLS = @USE_NLS@\n VERSION = @VERSION@\n WARN_CFLAGS = @WARN_CFLAGS@\n@@ -646,7 +647,7 @@ AM_CPPFLAGS = -I. -I$(srcdir) -I../bfd -I$(BFDDIR) -I$(INCDIR) @zlibinc@ \\\n \n BFDLIB = ../bfd/libbfd.la\n LIBIBERTY = ../libiberty/libiberty.a\n-LIBCTF = ../libctf/libctf.a\n+LIBCTF = ../libctf/libctf.la\n \n # These all start with e so 'make clean' can find them.\n ALL_EMULATION_SOURCES = \\\n@@ -2574,7 +2575,7 @@ check-DEJAGNU: site.exp\n \t\tCC=\"$(CC_FOR_TARGET)\" CFLAGS=\"$(CFLAGS_FOR_TARGET)\" \\\n \t\tCXX=\"$(CXX_FOR_TARGET)\" CXXFLAGS=\"$(CXXFLAGS_FOR_TARGET)\" \\\n \t\tCC_FOR_HOST=\"$(CC)\" CFLAGS_FOR_HOST=\"$(CFLAGS)\" \\\n-\t\tOFILES=\"$(OFILES)\" BFDLIB=\"$(TESTBFDLIB)\" CTFLIB=\"$(LIBCTF) $(ZLIB)\" \\\n+\t\tOFILES=\"$(OFILES)\" BFDLIB=\"$(TESTBFDLIB)\" CTFLIB=\"$(TESTCTFLIB) $(ZLIB)\" \\\n \t\tLIBIBERTY=\"$(LIBIBERTY) $(LIBINTL)\" LIBS=\"$(LIBS)\" \\\n \t\tDO_COMPARE=\"`echo '$(do_compare)' | sed -e 's,\\\\$$,,g'`\" \\\n \t\t$(RUNTESTFLAGS); \\"
    },
    {
      "sha": "2e5e10dbf33531b3e8b726fe544248583a71450f",
      "filename": "ld/configure",
      "status": "modified",
      "additions": 6,
      "deletions": 2,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/87279e3cef5b2c54f4a01962cf9dcea38664a336/ld/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/87279e3cef5b2c54f4a01962cf9dcea38664a336/ld/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/configure?ref=87279e3cef5b2c54f4a01962cf9dcea38664a336",
      "patch": "@@ -634,6 +634,7 @@ ac_subst_vars='am__EXEEXT_FALSE\n am__EXEEXT_TRUE\n LTLIBOBJS\n LIBOBJS\n+TESTCTFLIB\n TESTBFDLIB\n EMULATION_LIBPATH\n LIB_PATH\n@@ -12031,7 +12032,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 12034 \"configure\"\n+#line 12035 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -12137,7 +12138,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 12140 \"configure\"\n+#line 12141 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -17667,11 +17668,14 @@ EMULATION_LIBPATH=$all_libpath\n \n if test x${enable_static} = xno; then\n   TESTBFDLIB=\"-Wl,--rpath,../bfd/.libs ../bfd/.libs/libbfd.so\"\n+  TESTCTFLIB=\"-Wl,--rpath,../libctf/.libs ../libctf/.libs/libctf.so\"\n else\n   TESTBFDLIB=\"../bfd/.libs/libbfd.a\"\n+  TESTCTFLIB=\"../libctf/.libs/libctf.a\"\n fi\n \n \n+\n target_vendor=${target_vendor=$host_vendor}\n case \"$target_vendor\" in\n   hp) EXTRA_SHLIB_EXTENSION=\".sl\" ;;"
    },
    {
      "sha": "bdc167769e2c37e6e9a676e78a3d683a15559450",
      "filename": "ld/configure.ac",
      "status": "modified",
      "additions": 3,
      "deletions": 0,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/87279e3cef5b2c54f4a01962cf9dcea38664a336/ld/configure.ac",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/87279e3cef5b2c54f4a01962cf9dcea38664a336/ld/configure.ac",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/configure.ac?ref=87279e3cef5b2c54f4a01962cf9dcea38664a336",
      "patch": "@@ -491,10 +491,13 @@ AC_SUBST(EMULATION_LIBPATH)\n \n if test x${enable_static} = xno; then\n   TESTBFDLIB=\"-Wl,--rpath,../bfd/.libs ../bfd/.libs/libbfd.so\"\n+  TESTCTFLIB=\"-Wl,--rpath,../libctf/.libs ../libctf/.libs/libctf.so\"\n else\n   TESTBFDLIB=\"../bfd/.libs/libbfd.a\"\n+  TESTCTFLIB=\"../libctf/.libs/libctf.a\"\n fi\n AC_SUBST(TESTBFDLIB)\n+AC_SUBST(TESTCTFLIB)\n \n target_vendor=${target_vendor=$host_vendor}\n case \"$target_vendor\" in"
    },
    {
      "sha": "b84f6a61e8d65b2dcf20d318a4981f6b1f17d8b3",
      "filename": "libctf/ChangeLog",
      "status": "modified",
      "additions": 48,
      "deletions": 0,
      "changes": 48,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/87279e3cef5b2c54f4a01962cf9dcea38664a336/libctf/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/87279e3cef5b2c54f4a01962cf9dcea38664a336/libctf/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/libctf/ChangeLog?ref=87279e3cef5b2c54f4a01962cf9dcea38664a336",
      "patch": "@@ -1,3 +1,51 @@\n+2019-09-30  Nick Alcock  <nick.alcock@oracle.com>\n+\n+\t* configure.ac (AC_DISABLE_SHARED): New, like opcodes/.\n+\t(LT_INIT): Likewise.\n+\t(AM_INSTALL_LIBBFD): Likewise.\n+\t(dlopen): Note why this is necessary in a comment.\n+\t(SHARED_LIBADD): Initialize for possibly-PIC libiberty: derived from\n+\topcodes/.\n+\t(SHARED_LDFLAGS): Likewise.\n+\t(BFD_LIBADD): Likewise, for libbfd.\n+\t(BFD_DEPENDENCIES): Likewise.\n+\t(VERSION_FLAGS): Initialize, using a version script if ld supports\n+\tone, or libtool -export-symbols-regex otherwise.\n+\t(AC_CONFIG_MACRO_DIR): Add ../BFD.\n+\t* Makefile.am (ACLOCAL_AMFLAGS): Likewise.\n+\t(INCDIR): New.\n+\t(AM_CPPFLAGS): Use $(srcdir), not $(top_srcdir).\n+\t(noinst_LIBRARIES): Replace with...\n+\t[INSTALL_LIBBFD] (lib_LTLIBRARIES): This, or...\n+\t[!INSTALL_LIBBFD] (noinst_LTLIBRARIES): ... this, mentioning new\n+\tlibctf-nobfd.la as well.\n+\t[INSTALL_LIBCTF] (include_HEADERS): Add the CTF headers.\n+\t[!INSTALL_LIBCTF] (include_HEADERS): New, empty.\n+\t(libctf_a_SOURCES): Rename to...\n+\t(libctf_nobfd_la_SOURCES): ... this, all of libctf other than\n+\tctf-open-bfd.c.\n+\t(libctf_la_SOURCES): Now derived from libctf_nobfd_la_SOURCES,\n+\twith ctf-open-bfd.c added.\n+\t(libctf_nobfd_la_LIBADD): New, using @SHARED_LIBADD@.\n+\t(libctf_la_LIBADD): New, using @BFD_LIBADD@ as well.\n+\t(libctf_la_DEPENDENCIES): New, using @BFD_DEPENDENCIES@.\n+\t* Makefile.am [INSTALL_LIBCTF]: Use it.\n+\t* aclocal.m4: Add ../bfd/acinclude.m4, ../config/acx.m4, and the\n+\tlibtool macros.\n+\t* libctf.ver: New, everything is version LIBCTF_1.0 currently (even\n+\tthe unstable components).\n+\t* Makefile.in: Regenerated.\n+\t* config.h.in: Likewise.\n+\t* configure: Likewise.\n+\n+2019-07-30  Nick Alcock  <nick.alcock@oracle.com>\n+\n+\t* configure.ac (INSTALL_LIBCTF): New, controlled by\n+\t--enable-install-libctf.\n+\t[INSTALL_LIBCTF] (lib_LIBRARIES): Add libctf.a.\n+\t* Makefile.in: Regenerated.\n+\t* configure: Regenerated.\n+\n 2019-07-30  Nick Alcock  <nick.alcock@oracle.com>\n \n \t* ctf-archive.c (ctf_arc_close): Call ctfi_bfd_close if set."
    },
    {
      "sha": "206e0df877b0caf03c1a9624d4e9cc93432a4789",
      "filename": "libctf/Makefile.am",
      "status": "modified",
      "additions": 21,
      "deletions": 7,
      "changes": 28,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/87279e3cef5b2c54f4a01962cf9dcea38664a336/libctf/Makefile.am",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/87279e3cef5b2c54f4a01962cf9dcea38664a336/libctf/Makefile.am",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/libctf/Makefile.am?ref=87279e3cef5b2c54f4a01962cf9dcea38664a336",
      "patch": "@@ -17,7 +17,7 @@\n # <http://www.gnu.org/licenses/>.\n #\n \n-ACLOCAL_AMFLAGS = -I .. -I ../config\n+ACLOCAL_AMFLAGS = -I .. -I ../config -I ../bfd\n \n AUTOMAKE_OPTIONS = foreign no-texinfo.tex\n \n@@ -27,14 +27,28 @@ AUTOMAKE_OPTIONS = foreign no-texinfo.tex\n ZLIB = @zlibdir@ -lz\n ZLIBINC = @zlibinc@\n \n-AM_CPPFLAGS = -D_GNU_SOURCE -I$(top_srcdir) -I$(top_srcdir)/../include -I$(top_srcdir)/../bfd -I../bfd\n+INCDIR = $(srcdir)/../include\n+AM_CPPFLAGS = -D_GNU_SOURCE -I$(srcdir) -I$(srcdir)/../include -I$(srcdir)/../bfd -I../bfd\n AM_CFLAGS = -std=gnu99 @ac_libctf_warn_cflags@ @warn@ @c_warn@ @WARN_PEDANTIC@ @WERROR@ $(ZLIBINC)\n \n-noinst_LIBRARIES = libctf.a\n+if INSTALL_LIBBFD\n+lib_LTLIBRARIES = libctf.la libctf-nobfd.la\n+include_HEADERS = $(INCDIR)/ctf.h $(INCDIR)/ctf-api.h\n+else\n+include_HEADERS =\n+noinst_LTLIBRARIES = libctf.la libctf-nobfd.la\n+endif\n \n-libctf_a_SOURCES = ctf-archive.c ctf-dump.c ctf-create.c ctf-decl.c ctf-error.c \\\n-\t\t   ctf-hash.c ctf-labels.c ctf-link.c ctf-lookup.c ctf-open.c \\\n-\t\t   ctf-open-bfd.c ctf-string.c ctf-subr.c ctf-types.c ctf-util.c\n+libctf_nobfd_la_LIBADD = @SHARED_LIBADD@ $(ZLIB)\n+libctf_nobfd_la_LDFLAGS = -version-info 0:0:0 @SHARED_LDFLAGS@ @VERSION_FLAGS@\n+libctf_nobfd_la_SOURCES = ctf-archive.c ctf-dump.c ctf-create.c ctf-decl.c ctf-error.c \\\n+\t\t\t  ctf-hash.c ctf-labels.c ctf-link.c ctf-lookup.c ctf-open.c \\\n+\t\t\t  ctf-string.c ctf-subr.c ctf-types.c ctf-util.c\n if NEED_CTF_QSORT_R\n-libctf_a_SOURCES += ctf-qsort_r.c\n+libctf_nobfd_la_SOURCES += ctf-qsort_r.c\n endif\n+\n+libctf_la_LIBADD = @BFD_LIBADD@ $(libctf_nobfd_la_LIBADD)\n+libctf_la_DEPENDENCIES = @BFD_DEPENDENCIES@\n+libctf_la_LDFLAGS = $(libctf_nobfd_la_LDFLAGS)\n+libctf_la_SOURCES = $(libctf_nobfd_la_SOURCES) ctf-open-bfd.c"
    },
    {
      "sha": "d6e73cac7329f27c562faebccd55b065626cd0aa",
      "filename": "libctf/Makefile.in",
      "status": "modified",
      "additions": 268,
      "deletions": 74,
      "changes": 342,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/87279e3cef5b2c54f4a01962cf9dcea38664a336/libctf/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/87279e3cef5b2c54f4a01962cf9dcea38664a336/libctf/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/libctf/Makefile.in?ref=87279e3cef5b2c54f4a01962cf9dcea38664a336",
      "patch": "@@ -32,6 +32,7 @@\n # <http://www.gnu.org/licenses/>.\n #\n \n+\n VPATH = @srcdir@\n am__is_gnu_make = { \\\n   if test -z '$(MAKELEVEL)'; then \\\n@@ -104,44 +105,99 @@ POST_INSTALL = :\n NORMAL_UNINSTALL = :\n PRE_UNINSTALL = :\n POST_UNINSTALL = :\n+build_triplet = @build@\n+host_triplet = @host@\n @NEED_CTF_QSORT_R_TRUE@am__append_1 = ctf-qsort_r.c\n subdir = .\n ACLOCAL_M4 = $(top_srcdir)/aclocal.m4\n-am__aclocal_m4_deps = $(top_srcdir)/../config/depstand.m4 \\\n+am__aclocal_m4_deps = $(top_srcdir)/../config/acx.m4 \\\n+\t$(top_srcdir)/../config/depstand.m4 \\\n \t$(top_srcdir)/../config/lead-dot.m4 \\\n \t$(top_srcdir)/../config/override.m4 \\\n \t$(top_srcdir)/../config/warnings.m4 \\\n-\t$(top_srcdir)/../config/zlib.m4 $(top_srcdir)/configure.ac\n+\t$(top_srcdir)/../config/zlib.m4 \\\n+\t$(top_srcdir)/../bfd/acinclude.m4 $(top_srcdir)/../libtool.m4 \\\n+\t$(top_srcdir)/../ltoptions.m4 $(top_srcdir)/../ltsugar.m4 \\\n+\t$(top_srcdir)/../ltversion.m4 $(top_srcdir)/../lt~obsolete.m4 \\\n+\t$(top_srcdir)/configure.ac\n am__configure_deps = $(am__aclocal_m4_deps) $(CONFIGURE_DEPENDENCIES) \\\n \t$(ACLOCAL_M4)\n DIST_COMMON = $(srcdir)/Makefile.am $(top_srcdir)/configure \\\n-\t$(am__configure_deps) $(am__DIST_COMMON)\n+\t$(am__configure_deps) $(am__include_HEADERS_DIST) \\\n+\t$(am__DIST_COMMON)\n am__CONFIG_DISTCLEAN_FILES = config.status config.cache config.log \\\n  configure.lineno config.status.lineno\n mkinstalldirs = $(SHELL) $(top_srcdir)/../mkinstalldirs\n CONFIG_HEADER = config.h\n CONFIG_CLEAN_FILES =\n CONFIG_CLEAN_VPATH_FILES =\n-LIBRARIES = $(noinst_LIBRARIES)\n-ARFLAGS = cru\n-AM_V_AR = $(am__v_AR_@AM_V@)\n-am__v_AR_ = $(am__v_AR_@AM_DEFAULT_V@)\n-am__v_AR_0 = @echo \"  AR      \" $@;\n-am__v_AR_1 = \n-libctf_a_AR = $(AR) $(ARFLAGS)\n-libctf_a_LIBADD =\n-am__libctf_a_SOURCES_DIST = ctf-archive.c ctf-dump.c ctf-create.c \\\n-\tctf-decl.c ctf-error.c ctf-hash.c ctf-labels.c ctf-link.c \\\n-\tctf-lookup.c ctf-open.c ctf-open-bfd.c ctf-string.c ctf-subr.c \\\n+am__vpath_adj_setup = srcdirstrip=`echo \"$(srcdir)\" | sed 's|.|.|g'`;\n+am__vpath_adj = case $$p in \\\n+    $(srcdir)/*) f=`echo \"$$p\" | sed \"s|^$$srcdirstrip/||\"`;; \\\n+    *) f=$$p;; \\\n+  esac;\n+am__strip_dir = f=`echo $$p | sed -e 's|^.*/||'`;\n+am__install_max = 40\n+am__nobase_strip_setup = \\\n+  srcdirstrip=`echo \"$(srcdir)\" | sed 's/[].[^$$\\\\*|]/\\\\\\\\&/g'`\n+am__nobase_strip = \\\n+  for p in $$list; do echo \"$$p\"; done | sed -e \"s|$$srcdirstrip/||\"\n+am__nobase_list = $(am__nobase_strip_setup); \\\n+  for p in $$list; do echo \"$$p $$p\"; done | \\\n+  sed \"s| $$srcdirstrip/| |;\"' / .*\\//!s/ .*/ ./; s,\\( .*\\)/[^/]*$$,\\1,' | \\\n+  $(AWK) 'BEGIN { files[\".\"] = \"\" } { files[$$2] = files[$$2] \" \" $$1; \\\n+    if (++n[$$2] == $(am__install_max)) \\\n+      { print $$2, files[$$2]; n[$$2] = 0; files[$$2] = \"\" } } \\\n+    END { for (dir in files) print dir, files[dir] }'\n+am__base_list = \\\n+  sed '$$!N;$$!N;$$!N;$$!N;$$!N;$$!N;$$!N;s/\\n/ /g' | \\\n+  sed '$$!N;$$!N;$$!N;$$!N;s/\\n/ /g'\n+am__uninstall_files_from_dir = { \\\n+  test -z \"$$files\" \\\n+    || { test ! -d \"$$dir\" && test ! -f \"$$dir\" && test ! -r \"$$dir\"; } \\\n+    || { echo \" ( cd '$$dir' && rm -f\" $$files \")\"; \\\n+         $(am__cd) \"$$dir\" && rm -f $$files; }; \\\n+  }\n+am__installdirs = \"$(DESTDIR)$(libdir)\" \"$(DESTDIR)$(includedir)\"\n+LTLIBRARIES = $(lib_LTLIBRARIES) $(noinst_LTLIBRARIES)\n+am__DEPENDENCIES_1 =\n+libctf_nobfd_la_DEPENDENCIES = $(am__DEPENDENCIES_1)\n+am__libctf_nobfd_la_SOURCES_DIST = ctf-archive.c ctf-dump.c \\\n+\tctf-create.c ctf-decl.c ctf-error.c ctf-hash.c ctf-labels.c \\\n+\tctf-link.c ctf-lookup.c ctf-open.c ctf-string.c ctf-subr.c \\\n \tctf-types.c ctf-util.c ctf-qsort_r.c\n-@NEED_CTF_QSORT_R_TRUE@am__objects_1 = ctf-qsort_r.$(OBJEXT)\n-am_libctf_a_OBJECTS = ctf-archive.$(OBJEXT) ctf-dump.$(OBJEXT) \\\n-\tctf-create.$(OBJEXT) ctf-decl.$(OBJEXT) ctf-error.$(OBJEXT) \\\n-\tctf-hash.$(OBJEXT) ctf-labels.$(OBJEXT) ctf-link.$(OBJEXT) \\\n-\tctf-lookup.$(OBJEXT) ctf-open.$(OBJEXT) ctf-open-bfd.$(OBJEXT) \\\n-\tctf-string.$(OBJEXT) ctf-subr.$(OBJEXT) ctf-types.$(OBJEXT) \\\n-\tctf-util.$(OBJEXT) $(am__objects_1)\n-libctf_a_OBJECTS = $(am_libctf_a_OBJECTS)\n+@NEED_CTF_QSORT_R_TRUE@am__objects_1 = ctf-qsort_r.lo\n+am_libctf_nobfd_la_OBJECTS = ctf-archive.lo ctf-dump.lo ctf-create.lo \\\n+\tctf-decl.lo ctf-error.lo ctf-hash.lo ctf-labels.lo ctf-link.lo \\\n+\tctf-lookup.lo ctf-open.lo ctf-string.lo ctf-subr.lo \\\n+\tctf-types.lo ctf-util.lo $(am__objects_1)\n+libctf_nobfd_la_OBJECTS = $(am_libctf_nobfd_la_OBJECTS)\n+AM_V_lt = $(am__v_lt_@AM_V@)\n+am__v_lt_ = $(am__v_lt_@AM_DEFAULT_V@)\n+am__v_lt_0 = --silent\n+am__v_lt_1 = \n+libctf_nobfd_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \\\n+\t$(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=link $(CCLD) \\\n+\t$(AM_CFLAGS) $(CFLAGS) $(libctf_nobfd_la_LDFLAGS) $(LDFLAGS) \\\n+\t-o $@\n+@INSTALL_LIBBFD_FALSE@am_libctf_nobfd_la_rpath =\n+@INSTALL_LIBBFD_TRUE@am_libctf_nobfd_la_rpath = -rpath $(libdir)\n+am__DEPENDENCIES_2 = $(am__DEPENDENCIES_1)\n+am__libctf_la_SOURCES_DIST = ctf-archive.c ctf-dump.c ctf-create.c \\\n+\tctf-decl.c ctf-error.c ctf-hash.c ctf-labels.c ctf-link.c \\\n+\tctf-lookup.c ctf-open.c ctf-string.c ctf-subr.c ctf-types.c \\\n+\tctf-util.c ctf-qsort_r.c ctf-open-bfd.c\n+am__objects_2 = ctf-archive.lo ctf-dump.lo ctf-create.lo ctf-decl.lo \\\n+\tctf-error.lo ctf-hash.lo ctf-labels.lo ctf-link.lo \\\n+\tctf-lookup.lo ctf-open.lo ctf-string.lo ctf-subr.lo \\\n+\tctf-types.lo ctf-util.lo $(am__objects_1)\n+am_libctf_la_OBJECTS = $(am__objects_2) ctf-open-bfd.lo\n+libctf_la_OBJECTS = $(am_libctf_la_OBJECTS)\n+libctf_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \\\n+\t$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \\\n+\t$(libctf_la_LDFLAGS) $(LDFLAGS) -o $@\n+@INSTALL_LIBBFD_FALSE@am_libctf_la_rpath =\n+@INSTALL_LIBBFD_TRUE@am_libctf_la_rpath = -rpath $(libdir)\n AM_V_P = $(am__v_P_@AM_V@)\n am__v_P_ = $(am__v_P_@AM_DEFAULT_V@)\n am__v_P_0 = false\n@@ -160,23 +216,32 @@ am__depfiles_maybe = depfiles\n am__mv = mv -f\n COMPILE = $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) \\\n \t$(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)\n+LTCOMPILE = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \\\n+\t$(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) \\\n+\t$(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) \\\n+\t$(AM_CFLAGS) $(CFLAGS)\n AM_V_CC = $(am__v_CC_@AM_V@)\n am__v_CC_ = $(am__v_CC_@AM_DEFAULT_V@)\n am__v_CC_0 = @echo \"  CC      \" $@;\n am__v_CC_1 = \n CCLD = $(CC)\n-LINK = $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) $(LDFLAGS) -o $@\n+LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \\\n+\t$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \\\n+\t$(AM_LDFLAGS) $(LDFLAGS) -o $@\n AM_V_CCLD = $(am__v_CCLD_@AM_V@)\n am__v_CCLD_ = $(am__v_CCLD_@AM_DEFAULT_V@)\n am__v_CCLD_0 = @echo \"  CCLD    \" $@;\n am__v_CCLD_1 = \n-SOURCES = $(libctf_a_SOURCES)\n-DIST_SOURCES = $(am__libctf_a_SOURCES_DIST)\n+SOURCES = $(libctf_nobfd_la_SOURCES) $(libctf_la_SOURCES)\n+DIST_SOURCES = $(am__libctf_nobfd_la_SOURCES_DIST) \\\n+\t$(am__libctf_la_SOURCES_DIST)\n am__can_run_installinfo = \\\n   case $$AM_UPDATE_INFO_DIR in \\\n     n|no|NO) false;; \\\n     *) (install-info --version) >/dev/null 2>&1;; \\\n   esac\n+am__include_HEADERS_DIST = $(INCDIR)/ctf.h $(INCDIR)/ctf-api.h\n+HEADERS = $(include_HEADERS)\n am__tagged_files = $(HEADERS) $(SOURCES) $(TAGS_FILES) \\\n \t$(LISP)config.h.in\n # Read a list of newline-separated strings from the standard input,\n@@ -201,9 +266,10 @@ CSCOPE = cscope\n AM_RECURSIVE_TARGETS = cscope\n am__DIST_COMMON = $(srcdir)/Makefile.in $(srcdir)/config.h.in \\\n \t$(top_srcdir)/../ar-lib $(top_srcdir)/../compile \\\n+\t$(top_srcdir)/../config.guess $(top_srcdir)/../config.sub \\\n \t$(top_srcdir)/../depcomp $(top_srcdir)/../install-sh \\\n-\t$(top_srcdir)/../missing $(top_srcdir)/../mkinstalldirs \\\n-\tChangeLog\n+\t$(top_srcdir)/../ltmain.sh $(top_srcdir)/../missing \\\n+\t$(top_srcdir)/../mkinstalldirs ChangeLog\n DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)\n distdir = $(PACKAGE)-$(VERSION)\n top_distdir = $(distdir)\n@@ -229,6 +295,8 @@ AUTOCONF = @AUTOCONF@\n AUTOHEADER = @AUTOHEADER@\n AUTOMAKE = @AUTOMAKE@\n AWK = @AWK@\n+BFD_DEPENDENCIES = @BFD_DEPENDENCIES@\n+BFD_LIBADD = @BFD_LIBADD@\n CC = @CC@\n CCDEPMODE = @CCDEPMODE@\n CFLAGS = @CFLAGS@\n@@ -237,25 +305,37 @@ CPPFLAGS = @CPPFLAGS@\n CYGPATH_W = @CYGPATH_W@\n DEFS = @DEFS@\n DEPDIR = @DEPDIR@\n+DSYMUTIL = @DSYMUTIL@\n+DUMPBIN = @DUMPBIN@\n ECHO_C = @ECHO_C@\n ECHO_N = @ECHO_N@\n ECHO_T = @ECHO_T@\n EGREP = @EGREP@\n EXEEXT = @EXEEXT@\n+FGREP = @FGREP@\n GREP = @GREP@\n INSTALL = @INSTALL@\n INSTALL_DATA = @INSTALL_DATA@\n INSTALL_PROGRAM = @INSTALL_PROGRAM@\n INSTALL_SCRIPT = @INSTALL_SCRIPT@\n INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@\n+LD = @LD@\n LDFLAGS = @LDFLAGS@\n LIBOBJS = @LIBOBJS@\n LIBS = @LIBS@\n+LIBTOOL = @LIBTOOL@\n+LIPO = @LIPO@\n+LN_S = @LN_S@\n LTLIBOBJS = @LTLIBOBJS@\n MAINT = @MAINT@\n MAKEINFO = @MAKEINFO@\n MKDIR_P = @MKDIR_P@\n+NM = @NM@\n+NMEDIT = @NMEDIT@\n+OBJDUMP = @OBJDUMP@\n OBJEXT = @OBJEXT@\n+OTOOL = @OTOOL@\n+OTOOL64 = @OTOOL64@\n PACKAGE = @PACKAGE@\n PACKAGE_BUGREPORT = @PACKAGE_BUGREPORT@\n PACKAGE_NAME = @PACKAGE_NAME@\n@@ -265,10 +345,14 @@ PACKAGE_URL = @PACKAGE_URL@\n PACKAGE_VERSION = @PACKAGE_VERSION@\n PATH_SEPARATOR = @PATH_SEPARATOR@\n RANLIB = @RANLIB@\n+SED = @SED@\n SET_MAKE = @SET_MAKE@\n+SHARED_LDFLAGS = @SHARED_LDFLAGS@\n+SHARED_LIBADD = @SHARED_LIBADD@\n SHELL = @SHELL@\n STRIP = @STRIP@\n VERSION = @VERSION@\n+VERSION_FLAGS = @VERSION_FLAGS@\n WARN_PEDANTIC = @WARN_PEDANTIC@\n WERROR = @WERROR@\n abs_builddir = @abs_builddir@\n@@ -277,22 +361,32 @@ abs_top_builddir = @abs_top_builddir@\n abs_top_srcdir = @abs_top_srcdir@\n ac_ct_AR = @ac_ct_AR@\n ac_ct_CC = @ac_ct_CC@\n+ac_ct_DUMPBIN = @ac_ct_DUMPBIN@\n ac_libctf_warn_cflags = @ac_libctf_warn_cflags@\n am__include = @am__include@\n am__leading_dot = @am__leading_dot@\n am__quote = @am__quote@\n am__tar = @am__tar@\n am__untar = @am__untar@\n bindir = @bindir@\n+build = @build@\n build_alias = @build_alias@\n+build_cpu = @build_cpu@\n+build_os = @build_os@\n+build_vendor = @build_vendor@\n builddir = @builddir@\n c_warn = @c_warn@\n datadir = @datadir@\n datarootdir = @datarootdir@\n docdir = @docdir@\n dvidir = @dvidir@\n exec_prefix = @exec_prefix@\n+host = @host@\n host_alias = @host_alias@\n+host_cpu = @host_cpu@\n+host_noncanonical = @host_noncanonical@\n+host_os = @host_os@\n+host_vendor = @host_vendor@\n htmldir = @htmldir@\n includedir = @includedir@\n infodir = @infodir@\n@@ -313,32 +407,43 @@ sharedstatedir = @sharedstatedir@\n srcdir = @srcdir@\n sysconfdir = @sysconfdir@\n target_alias = @target_alias@\n+target_noncanonical = @target_noncanonical@\n top_build_prefix = @top_build_prefix@\n top_builddir = @top_builddir@\n top_srcdir = @top_srcdir@\n warn = @warn@\n zlibdir = @zlibdir@\n zlibinc = @zlibinc@\n-ACLOCAL_AMFLAGS = -I .. -I ../config\n+ACLOCAL_AMFLAGS = -I .. -I ../config -I ../bfd\n AUTOMAKE_OPTIONS = foreign no-texinfo.tex\n \n # This is where we get zlib from.  zlibdir is -L../zlib and zlibinc is\n # -I../zlib, unless we were configured with --with-system-zlib, in which\n # case both are empty.\n ZLIB = @zlibdir@ -lz\n ZLIBINC = @zlibinc@\n-AM_CPPFLAGS = -D_GNU_SOURCE -I$(top_srcdir) -I$(top_srcdir)/../include -I$(top_srcdir)/../bfd -I../bfd\n+INCDIR = $(srcdir)/../include\n+AM_CPPFLAGS = -D_GNU_SOURCE -I$(srcdir) -I$(srcdir)/../include -I$(srcdir)/../bfd -I../bfd\n AM_CFLAGS = -std=gnu99 @ac_libctf_warn_cflags@ @warn@ @c_warn@ @WARN_PEDANTIC@ @WERROR@ $(ZLIBINC)\n-noinst_LIBRARIES = libctf.a\n-libctf_a_SOURCES = ctf-archive.c ctf-dump.c ctf-create.c ctf-decl.c \\\n-\tctf-error.c ctf-hash.c ctf-labels.c ctf-link.c ctf-lookup.c \\\n-\tctf-open.c ctf-open-bfd.c ctf-string.c ctf-subr.c ctf-types.c \\\n+@INSTALL_LIBBFD_TRUE@lib_LTLIBRARIES = libctf.la libctf-nobfd.la\n+@INSTALL_LIBBFD_FALSE@include_HEADERS = \n+@INSTALL_LIBBFD_TRUE@include_HEADERS = $(INCDIR)/ctf.h $(INCDIR)/ctf-api.h\n+@INSTALL_LIBBFD_FALSE@noinst_LTLIBRARIES = libctf.la libctf-nobfd.la\n+libctf_nobfd_la_LIBADD = @SHARED_LIBADD@ $(ZLIB)\n+libctf_nobfd_la_LDFLAGS = -version-info 0:0:0 @SHARED_LDFLAGS@ @VERSION_FLAGS@\n+libctf_nobfd_la_SOURCES = ctf-archive.c ctf-dump.c ctf-create.c \\\n+\tctf-decl.c ctf-error.c ctf-hash.c ctf-labels.c ctf-link.c \\\n+\tctf-lookup.c ctf-open.c ctf-string.c ctf-subr.c ctf-types.c \\\n \tctf-util.c $(am__append_1)\n+libctf_la_LIBADD = @BFD_LIBADD@ $(libctf_nobfd_la_LIBADD)\n+libctf_la_DEPENDENCIES = @BFD_DEPENDENCIES@\n+libctf_la_LDFLAGS = $(libctf_nobfd_la_LDFLAGS)\n+libctf_la_SOURCES = $(libctf_nobfd_la_SOURCES) ctf-open-bfd.c\n all: config.h\n \t$(MAKE) $(AM_MAKEFLAGS) all-am\n \n .SUFFIXES:\n-.SUFFIXES: .c .o .obj\n+.SUFFIXES: .c .lo .o .obj\n am--refresh: Makefile\n \t@:\n $(srcdir)/Makefile.in: @MAINTAINER_MODE_TRUE@ $(srcdir)/Makefile.am  $(am__configure_deps)\n@@ -388,36 +493,80 @@ $(srcdir)/config.h.in: @MAINTAINER_MODE_TRUE@ $(am__configure_deps)\n distclean-hdr:\n \t-rm -f config.h stamp-h1\n \n-clean-noinstLIBRARIES:\n-\t-test -z \"$(noinst_LIBRARIES)\" || rm -f $(noinst_LIBRARIES)\n+install-libLTLIBRARIES: $(lib_LTLIBRARIES)\n+\t@$(NORMAL_INSTALL)\n+\t@list='$(lib_LTLIBRARIES)'; test -n \"$(libdir)\" || list=; \\\n+\tlist2=; for p in $$list; do \\\n+\t  if test -f $$p; then \\\n+\t    list2=\"$$list2 $$p\"; \\\n+\t  else :; fi; \\\n+\tdone; \\\n+\ttest -z \"$$list2\" || { \\\n+\t  echo \" $(MKDIR_P) '$(DESTDIR)$(libdir)'\"; \\\n+\t  $(MKDIR_P) \"$(DESTDIR)$(libdir)\" || exit 1; \\\n+\t  echo \" $(LIBTOOL) $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=install $(INSTALL) $(INSTALL_STRIP_FLAG) $$list2 '$(DESTDIR)$(libdir)'\"; \\\n+\t  $(LIBTOOL) $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=install $(INSTALL) $(INSTALL_STRIP_FLAG) $$list2 \"$(DESTDIR)$(libdir)\"; \\\n+\t}\n+\n+uninstall-libLTLIBRARIES:\n+\t@$(NORMAL_UNINSTALL)\n+\t@list='$(lib_LTLIBRARIES)'; test -n \"$(libdir)\" || list=; \\\n+\tfor p in $$list; do \\\n+\t  $(am__strip_dir) \\\n+\t  echo \" $(LIBTOOL) $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=uninstall rm -f '$(DESTDIR)$(libdir)/$$f'\"; \\\n+\t  $(LIBTOOL) $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=uninstall rm -f \"$(DESTDIR)$(libdir)/$$f\"; \\\n+\tdone\n \n-libctf.a: $(libctf_a_OBJECTS) $(libctf_a_DEPENDENCIES) $(EXTRA_libctf_a_DEPENDENCIES) \n-\t$(AM_V_at)-rm -f libctf.a\n-\t$(AM_V_AR)$(libctf_a_AR) libctf.a $(libctf_a_OBJECTS) $(libctf_a_LIBADD)\n-\t$(AM_V_at)$(RANLIB) libctf.a\n+clean-libLTLIBRARIES:\n+\t-test -z \"$(lib_LTLIBRARIES)\" || rm -f $(lib_LTLIBRARIES)\n+\t@list='$(lib_LTLIBRARIES)'; \\\n+\tlocs=`for p in $$list; do echo $$p; done | \\\n+\t      sed 's|^[^/]*$$|.|; s|/[^/]*$$||; s|$$|/so_locations|' | \\\n+\t      sort -u`; \\\n+\ttest -z \"$$locs\" || { \\\n+\t  echo rm -f $${locs}; \\\n+\t  rm -f $${locs}; \\\n+\t}\n+\n+clean-noinstLTLIBRARIES:\n+\t-test -z \"$(noinst_LTLIBRARIES)\" || rm -f $(noinst_LTLIBRARIES)\n+\t@list='$(noinst_LTLIBRARIES)'; \\\n+\tlocs=`for p in $$list; do echo $$p; done | \\\n+\t      sed 's|^[^/]*$$|.|; s|/[^/]*$$||; s|$$|/so_locations|' | \\\n+\t      sort -u`; \\\n+\ttest -z \"$$locs\" || { \\\n+\t  echo rm -f $${locs}; \\\n+\t  rm -f $${locs}; \\\n+\t}\n+\n+libctf-nobfd.la: $(libctf_nobfd_la_OBJECTS) $(libctf_nobfd_la_DEPENDENCIES) $(EXTRA_libctf_nobfd_la_DEPENDENCIES) \n+\t$(AM_V_CCLD)$(libctf_nobfd_la_LINK) $(am_libctf_nobfd_la_rpath) $(libctf_nobfd_la_OBJECTS) $(libctf_nobfd_la_LIBADD) $(LIBS)\n+\n+libctf.la: $(libctf_la_OBJECTS) $(libctf_la_DEPENDENCIES) $(EXTRA_libctf_la_DEPENDENCIES) \n+\t$(AM_V_CCLD)$(libctf_la_LINK) $(am_libctf_la_rpath) $(libctf_la_OBJECTS) $(libctf_la_LIBADD) $(LIBS)\n \n mostlyclean-compile:\n \t-rm -f *.$(OBJEXT)\n \n distclean-compile:\n \t-rm -f *.tab.c\n \n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ctf-archive.Po@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ctf-create.Po@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ctf-decl.Po@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ctf-dump.Po@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ctf-error.Po@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ctf-hash.Po@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ctf-labels.Po@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ctf-link.Po@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ctf-lookup.Po@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ctf-open-bfd.Po@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ctf-open.Po@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ctf-qsort_r.Po@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ctf-string.Po@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ctf-subr.Po@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ctf-types.Po@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ctf-util.Po@am__quote@\n+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ctf-archive.Plo@am__quote@\n+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ctf-create.Plo@am__quote@\n+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ctf-decl.Plo@am__quote@\n+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ctf-dump.Plo@am__quote@\n+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ctf-error.Plo@am__quote@\n+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ctf-hash.Plo@am__quote@\n+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ctf-labels.Plo@am__quote@\n+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ctf-link.Plo@am__quote@\n+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ctf-lookup.Plo@am__quote@\n+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ctf-open-bfd.Plo@am__quote@\n+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ctf-open.Plo@am__quote@\n+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ctf-qsort_r.Plo@am__quote@\n+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ctf-string.Plo@am__quote@\n+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ctf-subr.Plo@am__quote@\n+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ctf-types.Plo@am__quote@\n+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ctf-util.Plo@am__quote@\n \n .c.o:\n @am__fastdepCC_TRUE@\t$(AM_V_CC)$(COMPILE) -MT $@ -MD -MP -MF $(DEPDIR)/$*.Tpo -c -o $@ $<\n@@ -433,6 +582,43 @@ distclean-compile:\n @AMDEP_TRUE@@am__fastdepCC_FALSE@\tDEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@\n @am__fastdepCC_FALSE@\t$(AM_V_CC@am__nodep@)$(COMPILE) -c -o $@ `$(CYGPATH_W) '$<'`\n \n+.c.lo:\n+@am__fastdepCC_TRUE@\t$(AM_V_CC)$(LTCOMPILE) -MT $@ -MD -MP -MF $(DEPDIR)/$*.Tpo -c -o $@ $<\n+@am__fastdepCC_TRUE@\t$(AM_V_at)$(am__mv) $(DEPDIR)/$*.Tpo $(DEPDIR)/$*.Plo\n+@AMDEP_TRUE@@am__fastdepCC_FALSE@\t$(AM_V_CC)source='$<' object='$@' libtool=yes @AMDEPBACKSLASH@\n+@AMDEP_TRUE@@am__fastdepCC_FALSE@\tDEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@\n+@am__fastdepCC_FALSE@\t$(AM_V_CC@am__nodep@)$(LTCOMPILE) -c -o $@ $<\n+\n+mostlyclean-libtool:\n+\t-rm -f *.lo\n+\n+clean-libtool:\n+\t-rm -rf .libs _libs\n+\n+distclean-libtool:\n+\t-rm -f libtool config.lt\n+install-includeHEADERS: $(include_HEADERS)\n+\t@$(NORMAL_INSTALL)\n+\t@list='$(include_HEADERS)'; test -n \"$(includedir)\" || list=; \\\n+\tif test -n \"$$list\"; then \\\n+\t  echo \" $(MKDIR_P) '$(DESTDIR)$(includedir)'\"; \\\n+\t  $(MKDIR_P) \"$(DESTDIR)$(includedir)\" || exit 1; \\\n+\tfi; \\\n+\tfor p in $$list; do \\\n+\t  if test -f \"$$p\"; then d=; else d=\"$(srcdir)/\"; fi; \\\n+\t  echo \"$$d$$p\"; \\\n+\tdone | $(am__base_list) | \\\n+\twhile read files; do \\\n+\t  echo \" $(INSTALL_HEADER) $$files '$(DESTDIR)$(includedir)'\"; \\\n+\t  $(INSTALL_HEADER) $$files \"$(DESTDIR)$(includedir)\" || exit $$?; \\\n+\tdone\n+\n+uninstall-includeHEADERS:\n+\t@$(NORMAL_UNINSTALL)\n+\t@list='$(include_HEADERS)'; test -n \"$(includedir)\" || list=; \\\n+\tfiles=`for p in $$list; do echo $$p; done | sed -e 's|^.*/||'`; \\\n+\tdir='$(DESTDIR)$(includedir)'; $(am__uninstall_files_from_dir)\n+\n ID: $(am__tagged_files)\n \t$(am__define_uniq_tagged_files); mkid -fID $$unique\n tags: tags-am\n@@ -657,8 +843,11 @@ distcleancheck: distclean\n \t       exit 1; } >&2\n check-am: all-am\n check: check-am\n-all-am: Makefile $(LIBRARIES) config.h\n+all-am: Makefile $(LTLIBRARIES) $(HEADERS) config.h\n installdirs:\n+\tfor dir in \"$(DESTDIR)$(libdir)\" \"$(DESTDIR)$(includedir)\"; do \\\n+\t  test -z \"$$dir\" || $(MKDIR_P) \"$$dir\"; \\\n+\tdone\n install: install-am\n install-exec: install-exec-am\n install-data: install-data-am\n@@ -691,14 +880,15 @@ maintainer-clean-generic:\n \t@echo \"it deletes files that may require special tools to rebuild.\"\n clean: clean-am\n \n-clean-am: clean-generic clean-noinstLIBRARIES mostlyclean-am\n+clean-am: clean-generic clean-libLTLIBRARIES clean-libtool \\\n+\tclean-noinstLTLIBRARIES mostlyclean-am\n \n distclean: distclean-am\n \t-rm -f $(am__CONFIG_DISTCLEAN_FILES)\n \t-rm -rf ./$(DEPDIR)\n \t-rm -f Makefile\n distclean-am: clean-am distclean-compile distclean-generic \\\n-\tdistclean-hdr distclean-tags\n+\tdistclean-hdr distclean-libtool distclean-tags\n \n dvi: dvi-am\n \n@@ -712,13 +902,13 @@ info: info-am\n \n info-am:\n \n-install-data-am:\n+install-data-am: install-includeHEADERS\n \n install-dvi: install-dvi-am\n \n install-dvi-am:\n \n-install-exec-am:\n+install-exec-am: install-libLTLIBRARIES\n \n install-html: install-html-am\n \n@@ -749,7 +939,8 @@ maintainer-clean-am: distclean-am maintainer-clean-generic\n \n mostlyclean: mostlyclean-am\n \n-mostlyclean-am: mostlyclean-compile mostlyclean-generic\n+mostlyclean-am: mostlyclean-compile mostlyclean-generic \\\n+\tmostlyclean-libtool\n \n pdf: pdf-am\n \n@@ -759,25 +950,28 @@ ps: ps-am\n \n ps-am:\n \n-uninstall-am:\n+uninstall-am: uninstall-includeHEADERS uninstall-libLTLIBRARIES\n \n .MAKE: all install-am install-strip\n \n .PHONY: CTAGS GTAGS TAGS all all-am am--refresh check check-am clean \\\n-\tclean-cscope clean-generic clean-noinstLIBRARIES cscope \\\n-\tcscopelist-am ctags ctags-am dist dist-all dist-bzip2 \\\n-\tdist-gzip dist-lzip dist-shar dist-tarZ dist-xz dist-zip \\\n-\tdistcheck distclean distclean-compile distclean-generic \\\n-\tdistclean-hdr distclean-tags distcleancheck distdir \\\n+\tclean-cscope clean-generic clean-libLTLIBRARIES clean-libtool \\\n+\tclean-noinstLTLIBRARIES cscope cscopelist-am ctags ctags-am \\\n+\tdist dist-all dist-bzip2 dist-gzip dist-lzip dist-shar \\\n+\tdist-tarZ dist-xz dist-zip distcheck distclean \\\n+\tdistclean-compile distclean-generic distclean-hdr \\\n+\tdistclean-libtool distclean-tags distcleancheck distdir \\\n \tdistuninstallcheck dvi dvi-am html html-am info info-am \\\n \tinstall install-am install-data install-data-am install-dvi \\\n \tinstall-dvi-am install-exec install-exec-am install-html \\\n-\tinstall-html-am install-info install-info-am install-man \\\n-\tinstall-pdf install-pdf-am install-ps install-ps-am \\\n-\tinstall-strip installcheck installcheck-am installdirs \\\n-\tmaintainer-clean maintainer-clean-generic mostlyclean \\\n-\tmostlyclean-compile mostlyclean-generic pdf pdf-am ps ps-am \\\n-\ttags tags-am uninstall uninstall-am\n+\tinstall-html-am install-includeHEADERS install-info \\\n+\tinstall-info-am install-libLTLIBRARIES install-man install-pdf \\\n+\tinstall-pdf-am install-ps install-ps-am install-strip \\\n+\tinstallcheck installcheck-am installdirs maintainer-clean \\\n+\tmaintainer-clean-generic mostlyclean mostlyclean-compile \\\n+\tmostlyclean-generic mostlyclean-libtool pdf pdf-am ps ps-am \\\n+\ttags tags-am uninstall uninstall-am uninstall-includeHEADERS \\\n+\tuninstall-libLTLIBRARIES\n \n .PRECIOUS: Makefile\n "
    },
    {
      "sha": "04583b42f02e64a784248be6297d073cfbbd643d",
      "filename": "libctf/aclocal.m4",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/87279e3cef5b2c54f4a01962cf9dcea38664a336/libctf/aclocal.m4",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/87279e3cef5b2c54f4a01962cf9dcea38664a336/libctf/aclocal.m4",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/libctf/aclocal.m4?ref=87279e3cef5b2c54f4a01962cf9dcea38664a336",
      "patch": "@@ -1227,8 +1227,15 @@ AC_SUBST([am__tar])\n AC_SUBST([am__untar])\n ]) # _AM_PROG_TAR\n \n+m4_include([../config/acx.m4])\n m4_include([../config/depstand.m4])\n m4_include([../config/lead-dot.m4])\n m4_include([../config/override.m4])\n m4_include([../config/warnings.m4])\n m4_include([../config/zlib.m4])\n+m4_include([../bfd/acinclude.m4])\n+m4_include([../libtool.m4])\n+m4_include([../ltoptions.m4])\n+m4_include([../ltsugar.m4])\n+m4_include([../ltversion.m4])\n+m4_include([../lt~obsolete.m4])"
    },
    {
      "sha": "4c8be4ab78af83edd0abfc91fc6d31724cb3b1c8",
      "filename": "libctf/config.h.in",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/87279e3cef5b2c54f4a01962cf9dcea38664a336/libctf/config.h.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/87279e3cef5b2c54f4a01962cf9dcea38664a336/libctf/config.h.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/libctf/config.h.in?ref=87279e3cef5b2c54f4a01962cf9dcea38664a336",
      "patch": "@@ -9,6 +9,9 @@\n /* Define to 1 if you have the <byteswap.h> header file. */\n #undef HAVE_BYTESWAP_H\n \n+/* Define to 1 if you have the <dlfcn.h> header file. */\n+#undef HAVE_DLFCN_H\n+\n /* Define to 1 if you have the <endian.h> header file. */\n #undef HAVE_ENDIAN_H\n \n@@ -63,6 +66,10 @@\n /* Define to 1 if you have the <unistd.h> header file. */\n #undef HAVE_UNISTD_H\n \n+/* Define to the sub-directory in which libtool stores uninstalled libraries.\n+   */\n+#undef LT_OBJDIR\n+\n /* Name of package */\n #undef PACKAGE\n "
    },
    {
      "sha": "66b583fbbe7b2c7372adfb692484befb4ae9de5e",
      "filename": "libctf/configure",
      "status": "modified",
      "additions": 7773,
      "deletions": 202,
      "changes": 7975,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/87279e3cef5b2c54f4a01962cf9dcea38664a336/libctf/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/87279e3cef5b2c54f4a01962cf9dcea38664a336/libctf/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/libctf/configure?ref=87279e3cef5b2c54f4a01962cf9dcea38664a336"
    },
    {
      "sha": "aa40e4e234bf994e999018c097c77667a05a2338",
      "filename": "libctf/configure.ac",
      "status": "modified",
      "additions": 66,
      "deletions": 0,
      "changes": 66,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/87279e3cef5b2c54f4a01962cf9dcea38664a336/libctf/configure.ac",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/87279e3cef5b2c54f4a01962cf9dcea38664a336/libctf/configure.ac",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/libctf/configure.ac?ref=87279e3cef5b2c54f4a01962cf9dcea38664a336",
      "patch": "@@ -22,6 +22,7 @@ AC_PREREQ(2.64)\n AC_INIT([libctf library], 1.2.0-pre)\n AC_CONFIG_SRCDIR(ctf-impl.h)\n AC_CONFIG_MACRO_DIR(../config)\n+AC_CONFIG_MACRO_DIR(../bfd)\n AC_USE_SYSTEM_EXTENSIONS\n AM_INIT_AUTOMAKE\n \n@@ -31,6 +32,11 @@ AC_PROG_CC\n AC_PROG_RANLIB\n AM_PROG_AR\n \n+dnl Default to a non shared library.  This may be overridden by the\n+dnl configure option --enable-shared.\n+AC_DISABLE_SHARED\n+\n+LT_INIT\n AC_SYS_LARGEFILE\n \n MISSING=`cd $ac_aux_dir && ${PWDCMD-pwd}`/missing\n@@ -52,9 +58,11 @@ ACX_PROG_CC_WARNING_ALMOST_PEDANTIC([-Wno-long-long])\n ACX_PROG_CC_WARNINGS_ARE_ERRORS([manual])\n \n AM_MAINTAINER_MODE\n+AM_INSTALL_LIBBFD\n ACX_PROG_CC_WARNING_OPTS([-Wall], [ac_libctf_warn_cflags])\n \n AC_FUNC_MMAP\n+# Needed for BFD capability checks.\n AC_SEARCH_LIBS(dlopen, dl)\n AM_ZLIB\n \n@@ -149,6 +157,64 @@ if test $ac_cv_libctf_macro_O_CLOEXEC = yes; then\n \t    [Whether the platform has a definition of O_CLOEXEC.])\n fi\n \n+# Horrible hacks to build DLLs on Windows and a shared library elsewhere.\n+SHARED_LIBADD=\n+SHARED_LDFLAGS=\n+BFD_LIBADD=\n+BFD_DEPENDENCIES=\n+if test \"$enable_shared\" = \"yes\"; then\n+# When building a shared libctf, link against the pic version of libiberty\n+# so that apps that use libctf won't need libiberty just to satisfy any\n+# libctf references.\n+# We can't do that if a pic libiberty is unavailable since including non-pic\n+# code would insert text relocations into libctf.\n+# Note that linking against libbfd as we do here, which is itself linked\n+# against libiberty, may not satisfy all the libctf libiberty references\n+# since libbfd may not pull in the entirety of libiberty.\n+changequote(,)dnl\n+  x=`sed -n -e 's/^[ \t]*PICFLAG[ \t]*=[ \t]*//p' < ../libiberty/Makefile | sed -n '$p'`\n+changequote([,])dnl\n+  if test -n \"$x\"; then\n+    SHARED_LIBADD=\"-L`pwd`/../libiberty/pic -liberty\"\n+  fi\n+\n+  case \"${host}\" in\n+  # More hacks to build DLLs on Windows.\n+    *-*-cygwin*)\n+      SHARED_LDFLAGS=\"-no-undefined\"\n+      SHARED_LIBADD=\"-L`pwd`/../libiberty -liberty -L`pwd`/../intl -lintl -lcygwin\"\n+      BFD_LIBADD=\"-L`pwd`/../bfd -lbfd\"\n+      ;;\n+\n+    *-*-darwin*)\n+      BFD_LIBADD=\"-Wl,`pwd`/../bfd/.libs/libbfd.dylib\"\n+      BFD_DEPENDENCIES=\"../bfd/libbfd.la\"\n+      ;;\n+    *)\n+      case \"$host_vendor\" in\n+\thp)\n+\t  BFD_LIBADD=\"-Wl,`pwd`/../bfd/.libs/libbfd.sl\"\n+\t  ;;\n+\t*)\n+\t  BFD_LIBADD=\"-Wl,`pwd`/../bfd/.libs/libbfd.so\"\n+\t  ;;\n+      esac\n+      BFD_DEPENDENCIES=\"../bfd/libbfd.la\"\n+      ;;\n+  esac\n+fi\n+AC_SUBST(SHARED_LDFLAGS)\n+AC_SUBST(SHARED_LIBADD)\n+AC_SUBST(BFD_LIBADD)\n+AC_SUBST(BFD_DEPENDENCIES)\n+\n+# Use a version script, if possible, or an -export-symbols-regex otherwise.\n+VERSION_FLAGS='-export-symbols-regex ctf_.*'\n+if $LD --help 2>&1 | grep -- --version-script >/dev/null; then\n+    VERSION_FLAGS=\"-Wl,--version-script='$srcdir/libctf.ver'\"\n+fi\n+AC_SUBST(VERSION_FLAGS)\n+\n AC_CONFIG_FILES(Makefile)\n AC_CONFIG_HEADERS(config.h)\n AC_OUTPUT"
    },
    {
      "sha": "a90f06ac9b1c20ab72e5fdaba1cf393f84c1fb2f",
      "filename": "libctf/libctf.ver",
      "status": "added",
      "additions": 161,
      "deletions": 0,
      "changes": 161,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/87279e3cef5b2c54f4a01962cf9dcea38664a336/libctf/libctf.ver",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/87279e3cef5b2c54f4a01962cf9dcea38664a336/libctf/libctf.ver",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/libctf/libctf.ver?ref=87279e3cef5b2c54f4a01962cf9dcea38664a336",
      "patch": "@@ -0,0 +1,161 @@\n+/* Copyright (C) 2019 Free Software Foundation, Inc.\n+\n+   This file is part of libctf.\n+\n+   libctf is free software; you can redistribute it and/or modify it under\n+   the terms of the GNU General Public License as published by the Free\n+   Software Foundation; either version 3, or (at your option) any later\n+   version.\n+\n+   This program is distributed in the hope that it will be useful, but\n+   WITHOUT ANY WARRANTY; without even the implied warranty of\n+   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n+   See the GNU General Public License for more details.\n+\n+   You should have received a copy of the GNU General Public License\n+   along with this program; see the file COPYING.  If not see\n+   <http://www.gnu.org/licenses/>.  */\n+\n+LIBCTF_1.0 {\n+    global:\n+\t/* In libctf and libctf-nobfd.  */\n+\n+\tctf_bufopen;\n+\tctf_simple_open;\n+\tctf_create;\n+\tctf_close;\n+\tctf_file_close;\n+\n+\tctf_cuname;\n+\tctf_cuname_set;\n+\tctf_parent_file;\n+\tctf_parent_name;\n+\tctf_parent_name_set;\n+\tctf_type_isparent;\n+\tctf_type_ischild;\n+\n+\tctf_import;\n+\tctf_setmodel;\n+\tctf_getmodel;\n+\n+\tctf_setspecific;\n+\tctf_getspecific;\n+\n+\tctf_errno;\n+\tctf_errmsg;\n+\tctf_version;\n+\n+\tctf_func_info;\n+\tctf_func_args;\n+\tctf_func_type_info;\n+\tctf_func_type_args;\n+\n+\tctf_lookup_by_name;\n+\tctf_lookup_by_symbol;\n+\tctf_lookup_variable;\n+\n+\tctf_type_resolve;\n+\tctf_type_lname;\n+\tctf_type_name;\n+\tctf_type_aname;\n+\tctf_type_aname_raw;\n+\tctf_type_size;\n+\tctf_type_align;\n+\tctf_type_kind;\n+\tctf_type_reference;\n+\tctf_type_pointer;\n+\tctf_type_encoding;\n+\tctf_type_visit;\n+\tctf_type_cmp;\n+\tctf_type_compat;\n+\n+\tctf_member_info;\n+\tctf_array_info;\n+\n+\tctf_enum_name;\n+\tctf_enum_value;\n+\n+\tctf_label_set;\n+\tctf_label_get;\n+\n+\tctf_label_topmost;\n+\tctf_label_info;\n+\n+\tctf_member_iter;\n+\tctf_enum_iter;\n+\tctf_type_iter;\n+\tctf_type_iter_all;\n+\tctf_label_iter;\n+\tctf_variable_iter;\n+\n+\tctf_add_array;\n+\tctf_add_const;\n+\tctf_add_enum;\n+\tctf_add_enum_encoded;\n+\tctf_add_float;\n+\tctf_add_forward;\n+\tctf_add_function;\n+\tctf_add_integer;\n+\tctf_add_pointer;\n+\tctf_add_type;\n+\tctf_add_typedef;\n+\tctf_add_restrict;\n+\tctf_add_slice;\n+\tctf_add_struct;\n+\tctf_add_union;\n+\tctf_add_struct_sized;\n+\tctf_add_union_sized;\n+\tctf_add_volatile;\n+\n+\tctf_add_enumerator;\n+\tctf_add_member;\n+\tctf_add_member_offset;\n+\tctf_add_member_encoded;\n+\tctf_add_variable;\n+\n+\tctf_set_array;\n+\n+\tctf_update;\n+\tctf_discard;\n+\tctf_snapshot;\n+\tctf_rollback;\n+\tctf_write;\n+\tctf_write_mem;\n+\tctf_gzwrite;\n+\tctf_compress_write;\n+\tctf_getdatasect;\n+\n+\tctf_arc_write;\n+\tctf_arc_write_fd;\n+\tctf_arc_open;\n+\tctf_arc_close;\n+\tctf_arc_open_by_name;\n+\tctf_arc_open_by_name_sections;\n+\tctf_archive_iter;\n+\tctf_archive_raw_iter;\n+\tctf_get_arc;\n+\n+\tctf_dump;\n+\n+\tctf_setdebug;\n+\tctf_getdebug;\n+\n+\t/* Not yet part of the stable API.  */\n+\n+\tctf_link_add_ctf;\n+\tctf_link_add_cu_mapping;\n+\tctf_link_set_memb_name_changer;\n+\tctf_link;\n+\tctf_link_add_strtab;\n+\tctf_link_shuffle_syms;\n+\tctf_link_write;\n+\n+\t/* In libctf alone.  */\n+\n+\tctf_fdopen;\n+\tctf_open;\n+\tctf_bfdopen;\n+\tctf_bfdopen_ctfsect;\n+    local:\n+\t*;\n+};"
    }
  ]
}