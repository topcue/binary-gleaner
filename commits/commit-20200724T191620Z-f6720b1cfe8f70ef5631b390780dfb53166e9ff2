{
  "sha": "f6720b1cfe8f70ef5631b390780dfb53166e9ff2",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ZjY3MjBiMWNmZThmNzBlZjU2MzFiMzkwNzgwZGZiNTMxNjZlOWZmMg==",
  "commit": {
    "author": {
      "name": "Aaron Merey",
      "email": "amerey@redhat.com",
      "date": "2020-07-24T19:16:20Z"
    },
    "committer": {
      "name": "Aaron Merey",
      "email": "amerey@redhat.com",
      "date": "2020-07-24T19:16:20Z"
    },
    "message": "config/debuginfod.m4: Use PKG_CHECK_MODULES\n\nUse PKG_CHECK_MODULES to set debuginfod autoconf vars. Also add\npkg.m4 to config/.\n\nChangeLog:\n\n\t* config/debuginfod.m4: use PKG_CHECK_MODULES.\n\t* config/pkg.m4: New file.\n\t* configure: Rebuild.\n\t* configure.ac: Remove AC_DEBUGINFOD.\n\nChangeLog/binutils:\n\n\t* Makefile.am: Replace LIBDEBUGINFOD with DEBUGINFOD_LIBS.\n\t* Makefile.in: Rebuild.\n\t* configure: Rebuild.\n\t* doc/Makefile.in: Rebuild.\n\nChangeLog/gdb:\n\n\t* Makefile.in: Replace LIBDEBUGINFOD with DEBUGINFOD_LIBS.\n\t* configure: Rebuild.",
    "tree": {
      "sha": "55a1ce634ae58691c529a850c9669a4c829a827f",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/55a1ce634ae58691c529a850c9669a4c829a827f"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/f6720b1cfe8f70ef5631b390780dfb53166e9ff2",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/f6720b1cfe8f70ef5631b390780dfb53166e9ff2",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/f6720b1cfe8f70ef5631b390780dfb53166e9ff2",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/f6720b1cfe8f70ef5631b390780dfb53166e9ff2/comments",
  "author": {
    "login": "aaronmerey",
    "id": 28735867,
    "node_id": "MDQ6VXNlcjI4NzM1ODY3",
    "avatar_url": "https://avatars.githubusercontent.com/u/28735867?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/aaronmerey",
    "html_url": "https://github.com/aaronmerey",
    "followers_url": "https://api.github.com/users/aaronmerey/followers",
    "following_url": "https://api.github.com/users/aaronmerey/following{/other_user}",
    "gists_url": "https://api.github.com/users/aaronmerey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/aaronmerey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/aaronmerey/subscriptions",
    "organizations_url": "https://api.github.com/users/aaronmerey/orgs",
    "repos_url": "https://api.github.com/users/aaronmerey/repos",
    "events_url": "https://api.github.com/users/aaronmerey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/aaronmerey/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "aaronmerey",
    "id": 28735867,
    "node_id": "MDQ6VXNlcjI4NzM1ODY3",
    "avatar_url": "https://avatars.githubusercontent.com/u/28735867?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/aaronmerey",
    "html_url": "https://github.com/aaronmerey",
    "followers_url": "https://api.github.com/users/aaronmerey/followers",
    "following_url": "https://api.github.com/users/aaronmerey/following{/other_user}",
    "gists_url": "https://api.github.com/users/aaronmerey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/aaronmerey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/aaronmerey/subscriptions",
    "organizations_url": "https://api.github.com/users/aaronmerey/orgs",
    "repos_url": "https://api.github.com/users/aaronmerey/repos",
    "events_url": "https://api.github.com/users/aaronmerey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/aaronmerey/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "6dcfb80a28a571999a8cf2346bfc4665d56912ae",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/6dcfb80a28a571999a8cf2346bfc4665d56912ae",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/6dcfb80a28a571999a8cf2346bfc4665d56912ae"
    }
  ],
  "stats": {
    "total": 1237,
    "additions": 855,
    "deletions": 382
  },
  "files": [
    {
      "sha": "aca3f52cdb3bf162d7120b570f0694bd2e7c28cf",
      "filename": "ChangeLog",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f6720b1cfe8f70ef5631b390780dfb53166e9ff2/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f6720b1cfe8f70ef5631b390780dfb53166e9ff2/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ChangeLog?ref=f6720b1cfe8f70ef5631b390780dfb53166e9ff2",
      "patch": "@@ -1,3 +1,10 @@\n+2020-07-24  Aaron Merey  <amerey@redhat.com>\n+\n+\t* config/debuginfod.m4: use PKG_CHECK_MODULES.\n+\t* config/pkg.m4: New file.\n+\t* configure: Rebuild.\n+\t* configure.ac: Remove AC_DEBUGINFOD.\n+\n 2020-07-04  Nick Clifton  <nickc@redhat.com>\n \n \tBinutils 2.35 branch created."
    },
    {
      "sha": "e708db7d4832ee4b723ae326ae12cc0374305446",
      "filename": "binutils/ChangeLog",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f6720b1cfe8f70ef5631b390780dfb53166e9ff2/binutils/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f6720b1cfe8f70ef5631b390780dfb53166e9ff2/binutils/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/ChangeLog?ref=f6720b1cfe8f70ef5631b390780dfb53166e9ff2",
      "patch": "@@ -1,3 +1,10 @@\n+2020-07-24  Aaron Merey  <amerey@redhat.com>\n+\n+\t* Makefile.am: Replace LIBDEBUGINFOD with DEBUGINFOD_LIBS.\n+\t* Makefile.in: Rebuild.\n+\t* configure: Rebuild.\n+\t* doc/Makefile.in: Rebuild.\n+\n 2020-07-24  Nick Clifton  <nickc@redhat.com>\n \n \t* README-how-to-make-a-release: Various small updates whilst"
    },
    {
      "sha": "fb54653fd3a8f615c3e422c29f25c2ebc6a0c146",
      "filename": "binutils/Makefile.am",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f6720b1cfe8f70ef5631b390780dfb53166e9ff2/binutils/Makefile.am",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f6720b1cfe8f70ef5631b390780dfb53166e9ff2/binutils/Makefile.am",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/Makefile.am?ref=f6720b1cfe8f70ef5631b390780dfb53166e9ff2",
      "patch": "@@ -53,7 +53,7 @@ AM_CFLAGS = $(WARN_CFLAGS) $(ZLIBINC)\n AM_CFLAGS_FOR_BUILD = $(WARN_CFLAGS_FOR_BUILD) $(ZLIBINC)\n LIBICONV = @LIBICONV@\n \n-LIBDEBUGINFOD = @LIBDEBUGINFOD@\n+DEBUGINFOD_LIBS = @DEBUGINFOD_LIBS@\n \n # these two are almost the same program\n AR_PROG=ar\n@@ -252,7 +252,7 @@ objcopy_SOURCES = objcopy.c not-strip.c rename.c $(WRITE_DEBUG_SRCS) $(BULIBS)\n strings_SOURCES = strings.c $(BULIBS)\n \n readelf_SOURCES = readelf.c version.c unwind-ia64.c dwarf.c $(ELFLIBS)\n-readelf_LDADD   = $(LIBINTL) $(LIBCTF_NOBFD) $(LIBIBERTY) $(ZLIB) $(LIBDEBUGINFOD)\n+readelf_LDADD   = $(LIBINTL) $(LIBCTF_NOBFD) $(LIBIBERTY) $(ZLIB) $(DEBUGINFOD_LIBS)\n \n elfedit_SOURCES = elfedit.c version.c $(ELFLIBS)\n elfedit_LDADD = $(LIBINTL) $(LIBIBERTY)\n@@ -263,7 +263,7 @@ nm_new_SOURCES = nm.c $(BULIBS)\n \n objdump_SOURCES = objdump.c dwarf.c prdbg.c $(DEBUG_SRCS) $(BULIBS) $(ELFLIBS)\n EXTRA_objdump_SOURCES = od-xcoff.c\n-objdump_LDADD = $(OBJDUMP_PRIVATE_OFILES) $(OPCODES) $(LIBCTF) $(BFDLIB) $(LIBIBERTY) $(LIBINTL) $(LIBDEBUGINFOD)\n+objdump_LDADD = $(OBJDUMP_PRIVATE_OFILES) $(OPCODES) $(LIBCTF) $(BFDLIB) $(LIBIBERTY) $(LIBINTL) $(DEBUGINFOD_LIBS)\n \n objdump.@OBJEXT@:objdump.c\n if am__fastdepCC"
    },
    {
      "sha": "6b15696df629e5f0938e1e0dd3d5fd2ab8f14f9c",
      "filename": "binutils/Makefile.in",
      "status": "modified",
      "additions": 8,
      "deletions": 4,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f6720b1cfe8f70ef5631b390780dfb53166e9ff2/binutils/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f6720b1cfe8f70ef5631b390780dfb53166e9ff2/binutils/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/Makefile.in?ref=f6720b1cfe8f70ef5631b390780dfb53166e9ff2",
      "patch": "@@ -141,7 +141,7 @@ am__aclocal_m4_deps = $(top_srcdir)/../bfd/acinclude.m4 \\\n \t$(top_srcdir)/../ltversion.m4 $(top_srcdir)/../lt~obsolete.m4 \\\n \t$(top_srcdir)/../bfd/version.m4 \\\n \t$(top_srcdir)/../config/debuginfod.m4 \\\n-\t$(top_srcdir)/configure.ac\n+\t$(top_srcdir)/../config/pkg.m4 $(top_srcdir)/configure.ac\n am__configure_deps = $(am__aclocal_m4_deps) $(CONFIGURE_DEPENDENCIES) \\\n \t$(ACLOCAL_M4)\n DIST_COMMON = $(srcdir)/Makefile.am $(top_srcdir)/configure \\\n@@ -423,6 +423,8 @@ CPP = @CPP@\n CPPFLAGS = @CPPFLAGS@\n CYGPATH_W = @CYGPATH_W@\n DATADIRNAME = @DATADIRNAME@\n+DEBUGINFOD_CFLAGS = @DEBUGINFOD_CFLAGS@\n+DEBUGINFOD_LIBS = @DEBUGINFOD_LIBS@\n DEFS = @DEFS@\n DEMANGLER_NAME = @DEMANGLER_NAME@\n DEPDIR = @DEPDIR@\n@@ -454,7 +456,6 @@ LDFLAGS = @LDFLAGS@\n LEX = `if [ -f ../flex/flex ]; then echo ../flex/flex; else echo @LEX@; fi`\n LEXLIB = @LEXLIB@\n LEX_OUTPUT_ROOT = @LEX_OUTPUT_ROOT@\n-LIBDEBUGINFOD = @LIBDEBUGINFOD@\n LIBICONV = @LIBICONV@\n LIBINTL = @LIBINTL@\n LIBINTL_DEP = @LIBINTL_DEP@\n@@ -490,6 +491,9 @@ PACKAGE_TARNAME = @PACKAGE_TARNAME@\n PACKAGE_URL = @PACKAGE_URL@\n PACKAGE_VERSION = @PACKAGE_VERSION@\n PATH_SEPARATOR = @PATH_SEPARATOR@\n+PKG_CONFIG = @PKG_CONFIG@\n+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@\n+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@\n POSUB = @POSUB@\n RANLIB = @RANLIB@\n SED = @SED@\n@@ -714,14 +718,14 @@ size_SOURCES = size.c $(BULIBS)\n objcopy_SOURCES = objcopy.c not-strip.c rename.c $(WRITE_DEBUG_SRCS) $(BULIBS)\n strings_SOURCES = strings.c $(BULIBS)\n readelf_SOURCES = readelf.c version.c unwind-ia64.c dwarf.c $(ELFLIBS)\n-readelf_LDADD = $(LIBINTL) $(LIBCTF_NOBFD) $(LIBIBERTY) $(ZLIB) $(LIBDEBUGINFOD)\n+readelf_LDADD = $(LIBINTL) $(LIBCTF_NOBFD) $(LIBIBERTY) $(ZLIB) $(DEBUGINFOD_LIBS)\n elfedit_SOURCES = elfedit.c version.c $(ELFLIBS)\n elfedit_LDADD = $(LIBINTL) $(LIBIBERTY)\n strip_new_SOURCES = objcopy.c is-strip.c rename.c $(WRITE_DEBUG_SRCS) $(BULIBS)\n nm_new_SOURCES = nm.c $(BULIBS)\n objdump_SOURCES = objdump.c dwarf.c prdbg.c $(DEBUG_SRCS) $(BULIBS) $(ELFLIBS)\n EXTRA_objdump_SOURCES = od-xcoff.c\n-objdump_LDADD = $(OBJDUMP_PRIVATE_OFILES) $(OPCODES) $(LIBCTF) $(BFDLIB) $(LIBIBERTY) $(LIBINTL) $(LIBDEBUGINFOD)\n+objdump_LDADD = $(OBJDUMP_PRIVATE_OFILES) $(OPCODES) $(LIBCTF) $(BFDLIB) $(LIBIBERTY) $(LIBINTL) $(DEBUGINFOD_LIBS)\n cxxfilt_SOURCES = cxxfilt.c $(BULIBS)\n ar_SOURCES = arparse.y arlex.l ar.c not-ranlib.c arsup.c rename.c binemul.c \\\n \temul_$(EMULATION).c $(BULIBS)"
    },
    {
      "sha": "c9fc5108e02806bbc1e71848bbdc9e7e3fdd8c76",
      "filename": "binutils/configure",
      "status": "modified",
      "additions": 264,
      "deletions": 105,
      "changes": 369,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f6720b1cfe8f70ef5631b390780dfb53166e9ff2/binutils/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f6720b1cfe8f70ef5631b390780dfb53166e9ff2/binutils/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/configure?ref=f6720b1cfe8f70ef5631b390780dfb53166e9ff2",
      "patch": "@@ -686,7 +686,11 @@ WARN_CFLAGS_FOR_BUILD\n WARN_CFLAGS\n ENABLE_LIBCTF_FALSE\n ENABLE_LIBCTF_TRUE\n-LIBDEBUGINFOD\n+DEBUGINFOD_LIBS\n+DEBUGINFOD_CFLAGS\n+PKG_CONFIG_LIBDIR\n+PKG_CONFIG_PATH\n+PKG_CONFIG\n OTOOL64\n OTOOL\n LIPO\n@@ -836,6 +840,11 @@ LDFLAGS\n LIBS\n CPPFLAGS\n CPP\n+PKG_CONFIG\n+PKG_CONFIG_PATH\n+PKG_CONFIG_LIBDIR\n+DEBUGINFOD_CFLAGS\n+DEBUGINFOD_LIBS\n YACC\n YFLAGS'\n \n@@ -1507,6 +1516,15 @@ Some influential environment variables:\n   CPPFLAGS    (Objective) C/C++ preprocessor flags, e.g. -I<include dir> if\n               you have headers in a nonstandard directory <include dir>\n   CPP         C preprocessor\n+  PKG_CONFIG  path to pkg-config utility\n+  PKG_CONFIG_PATH\n+              directories to add to pkg-config's search path\n+  PKG_CONFIG_LIBDIR\n+              path overriding pkg-config's built-in search path\n+  DEBUGINFOD_CFLAGS\n+              C compiler flags for DEBUGINFOD, overriding pkg-config\n+  DEBUGINFOD_LIBS\n+              linker flags for DEBUGINFOD, overriding pkg-config\n   YACC        The `Yet Another Compiler Compiler' implementation to use.\n               Defaults to the first program found out of: `bison -y', `byacc',\n               `yacc'.\n@@ -1942,52 +1960,6 @@ $as_echo \"$ac_res\" >&6; }\n \n } # ac_fn_c_check_func\n \n-# ac_fn_c_check_decl LINENO SYMBOL VAR INCLUDES\n-# ---------------------------------------------\n-# Tests whether SYMBOL is declared in INCLUDES, setting cache variable VAR\n-# accordingly.\n-ac_fn_c_check_decl ()\n-{\n-  as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n-  as_decl_name=`echo $2|sed 's/ *(.*//'`\n-  as_decl_use=`echo $2|sed -e 's/(/((/' -e 's/)/) 0&/' -e 's/,/) 0& (/g'`\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether $as_decl_name is declared\" >&5\n-$as_echo_n \"checking whether $as_decl_name is declared... \" >&6; }\n-if eval \\${$3+:} false; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-$4\n-int\n-main ()\n-{\n-#ifndef $as_decl_name\n-#ifdef __cplusplus\n-  (void) $as_decl_use;\n-#else\n-  (void) $as_decl_name;\n-#endif\n-#endif\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n-  eval \"$3=yes\"\n-else\n-  eval \"$3=no\"\n-fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-fi\n-eval ac_res=\\$$3\n-\t       { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_res\" >&5\n-$as_echo \"$ac_res\" >&6; }\n-  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno\n-\n-} # ac_fn_c_check_decl\n-\n # ac_fn_c_compute_int LINENO EXPR VAR INCLUDES\n # --------------------------------------------\n # Tries to find the compile-time value of EXPR in a program that includes\n@@ -2224,6 +2196,52 @@ $as_echo \"$ac_res\" >&6; }\n   eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno\n \n } # ac_fn_c_check_type\n+\n+# ac_fn_c_check_decl LINENO SYMBOL VAR INCLUDES\n+# ---------------------------------------------\n+# Tests whether SYMBOL is declared in INCLUDES, setting cache variable VAR\n+# accordingly.\n+ac_fn_c_check_decl ()\n+{\n+  as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n+  as_decl_name=`echo $2|sed 's/ *(.*//'`\n+  as_decl_use=`echo $2|sed -e 's/(/((/' -e 's/)/) 0&/' -e 's/,/) 0& (/g'`\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether $as_decl_name is declared\" >&5\n+$as_echo_n \"checking whether $as_decl_name is declared... \" >&6; }\n+if eval \\${$3+:} false; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+$4\n+int\n+main ()\n+{\n+#ifndef $as_decl_name\n+#ifdef __cplusplus\n+  (void) $as_decl_use;\n+#else\n+  (void) $as_decl_name;\n+#endif\n+#endif\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+if ac_fn_c_try_compile \"$LINENO\"; then :\n+  eval \"$3=yes\"\n+else\n+  eval \"$3=no\"\n+fi\n+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n+fi\n+eval ac_res=\\$$3\n+\t       { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_res\" >&5\n+$as_echo \"$ac_res\" >&6; }\n+  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno\n+\n+} # ac_fn_c_check_decl\n cat >config.log <<_ACEOF\n This file contains any messages produced by compilers while\n running configure, to aid debugging if configure makes a mistake.\n@@ -11533,7 +11551,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 11536 \"configure\"\n+#line 11554 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -11639,7 +11657,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 11642 \"configure\"\n+#line 11660 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -12246,7 +12264,127 @@ fi\n \n \n \n-# Enable debuginfod\n+\n+\n+\n+\n+\n+\n+if test \"x$ac_cv_env_PKG_CONFIG_set\" != \"xset\"; then\n+\tif test -n \"$ac_tool_prefix\"; then\n+  # Extract the first word of \"${ac_tool_prefix}pkg-config\", so it can be a program name with args.\n+set dummy ${ac_tool_prefix}pkg-config; ac_word=$2\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n+$as_echo_n \"checking for $ac_word... \" >&6; }\n+if ${ac_cv_path_PKG_CONFIG+:} false; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  case $PKG_CONFIG in\n+  [\\\\/]* | ?:[\\\\/]*)\n+  ac_cv_path_PKG_CONFIG=\"$PKG_CONFIG\" # Let the user override the test with a path.\n+  ;;\n+  *)\n+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+    for ac_exec_ext in '' $ac_executable_extensions; do\n+  if as_fn_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_path_PKG_CONFIG=\"$as_dir/$ac_word$ac_exec_ext\"\n+    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+  done\n+IFS=$as_save_IFS\n+\n+  ;;\n+esac\n+fi\n+PKG_CONFIG=$ac_cv_path_PKG_CONFIG\n+if test -n \"$PKG_CONFIG\"; then\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $PKG_CONFIG\" >&5\n+$as_echo \"$PKG_CONFIG\" >&6; }\n+else\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+fi\n+\n+\n+fi\n+if test -z \"$ac_cv_path_PKG_CONFIG\"; then\n+  ac_pt_PKG_CONFIG=$PKG_CONFIG\n+  # Extract the first word of \"pkg-config\", so it can be a program name with args.\n+set dummy pkg-config; ac_word=$2\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n+$as_echo_n \"checking for $ac_word... \" >&6; }\n+if ${ac_cv_path_ac_pt_PKG_CONFIG+:} false; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  case $ac_pt_PKG_CONFIG in\n+  [\\\\/]* | ?:[\\\\/]*)\n+  ac_cv_path_ac_pt_PKG_CONFIG=\"$ac_pt_PKG_CONFIG\" # Let the user override the test with a path.\n+  ;;\n+  *)\n+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+    for ac_exec_ext in '' $ac_executable_extensions; do\n+  if as_fn_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_path_ac_pt_PKG_CONFIG=\"$as_dir/$ac_word$ac_exec_ext\"\n+    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+  done\n+IFS=$as_save_IFS\n+\n+  ;;\n+esac\n+fi\n+ac_pt_PKG_CONFIG=$ac_cv_path_ac_pt_PKG_CONFIG\n+if test -n \"$ac_pt_PKG_CONFIG\"; then\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_pt_PKG_CONFIG\" >&5\n+$as_echo \"$ac_pt_PKG_CONFIG\" >&6; }\n+else\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+fi\n+\n+  if test \"x$ac_pt_PKG_CONFIG\" = x; then\n+    PKG_CONFIG=\"\"\n+  else\n+    case $cross_compiling:$ac_tool_warned in\n+yes:)\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet\" >&5\n+$as_echo \"$as_me: WARNING: using cross tools not prefixed with host triplet\" >&2;}\n+ac_tool_warned=yes ;;\n+esac\n+    PKG_CONFIG=$ac_pt_PKG_CONFIG\n+  fi\n+else\n+  PKG_CONFIG=\"$ac_cv_path_PKG_CONFIG\"\n+fi\n+\n+fi\n+if test -n \"$PKG_CONFIG\"; then\n+\t_pkg_min_version=0.9.0\n+\t{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking pkg-config is at least version $_pkg_min_version\" >&5\n+$as_echo_n \"checking pkg-config is at least version $_pkg_min_version... \" >&6; }\n+\tif $PKG_CONFIG --atleast-pkgconfig-version $_pkg_min_version; then\n+\t\t{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: yes\" >&5\n+$as_echo \"yes\" >&6; }\n+\telse\n+\t\t{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+\t\tPKG_CONFIG=\"\"\n+\tfi\n+fi\n+\n+# Handle optional debuginfod support\n \n # Check whether --with-debuginfod was given.\n if test \"${with_debuginfod+set}\" = set; then :\n@@ -12260,72 +12398,93 @@ $as_echo_n \"checking whether to use debuginfod... \" >&6; }\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $with_debuginfod\" >&5\n $as_echo \"$with_debuginfod\" >&6; }\n \n-if test \"${with_debuginfod}\" = no; then\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: debuginfod support disabled; some features may be unavailable.\" >&5\n-$as_echo \"$as_me: WARNING: debuginfod support disabled; some features may be unavailable.\" >&2;}\n-else\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for debuginfod_begin in -ldebuginfod\" >&5\n-$as_echo_n \"checking for debuginfod_begin in -ldebuginfod... \" >&6; }\n-if ${ac_cv_lib_debuginfod_debuginfod_begin+:} false; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  ac_check_lib_save_LIBS=$LIBS\n-LIBS=\"-ldebuginfod  $LIBS\"\n-cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n+if test \"x$with_debuginfod\" != xno; then\n \n-/* Override any GCC internal prototype to avoid an error.\n-   Use char because int might match the return type of a GCC\n-   builtin and then its argument prototype would still apply.  */\n-#ifdef __cplusplus\n-extern \"C\"\n-#endif\n-char debuginfod_begin ();\n-int\n-main ()\n-{\n-return debuginfod_begin ();\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_link \"$LINENO\"; then :\n-  ac_cv_lib_debuginfod_debuginfod_begin=yes\n+pkg_failed=no\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for libdebuginfod >= 0.179\" >&5\n+$as_echo_n \"checking for libdebuginfod >= 0.179... \" >&6; }\n+\n+if test -n \"$DEBUGINFOD_CFLAGS\"; then\n+    pkg_cv_DEBUGINFOD_CFLAGS=\"$DEBUGINFOD_CFLAGS\"\n+ elif test -n \"$PKG_CONFIG\"; then\n+    if test -n \"$PKG_CONFIG\" && \\\n+    { { $as_echo \"$as_me:${as_lineno-$LINENO}: \\$PKG_CONFIG --exists --print-errors \\\"libdebuginfod >= 0.179\\\"\"; } >&5\n+  ($PKG_CONFIG --exists --print-errors \"libdebuginfod >= 0.179\") 2>&5\n+  ac_status=$?\n+  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n+  test $ac_status = 0; }; then\n+  pkg_cv_DEBUGINFOD_CFLAGS=`$PKG_CONFIG --cflags \"libdebuginfod >= 0.179\" 2>/dev/null`\n+\t\t      test \"x$?\" != \"x0\" && pkg_failed=yes\n else\n-  ac_cv_lib_debuginfod_debuginfod_begin=no\n+  pkg_failed=yes\n fi\n-rm -f core conftest.err conftest.$ac_objext \\\n-    conftest$ac_exeext conftest.$ac_ext\n-LIBS=$ac_check_lib_save_LIBS\n+ else\n+    pkg_failed=untried\n+fi\n+if test -n \"$DEBUGINFOD_LIBS\"; then\n+    pkg_cv_DEBUGINFOD_LIBS=\"$DEBUGINFOD_LIBS\"\n+ elif test -n \"$PKG_CONFIG\"; then\n+    if test -n \"$PKG_CONFIG\" && \\\n+    { { $as_echo \"$as_me:${as_lineno-$LINENO}: \\$PKG_CONFIG --exists --print-errors \\\"libdebuginfod >= 0.179\\\"\"; } >&5\n+  ($PKG_CONFIG --exists --print-errors \"libdebuginfod >= 0.179\") 2>&5\n+  ac_status=$?\n+  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n+  test $ac_status = 0; }; then\n+  pkg_cv_DEBUGINFOD_LIBS=`$PKG_CONFIG --libs \"libdebuginfod >= 0.179\" 2>/dev/null`\n+\t\t      test \"x$?\" != \"x0\" && pkg_failed=yes\n+else\n+  pkg_failed=yes\n fi\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_debuginfod_debuginfod_begin\" >&5\n-$as_echo \"$ac_cv_lib_debuginfod_debuginfod_begin\" >&6; }\n-if test \"x$ac_cv_lib_debuginfod_debuginfod_begin\" = xyes; then :\n-  have_debuginfod_lib=yes\n+ else\n+    pkg_failed=untried\n fi\n \n-  ac_fn_c_check_decl \"$LINENO\" \"debuginfod_begin\" \"ac_cv_have_decl_debuginfod_begin\" \"#include <elfutils/debuginfod.h>\n-\"\n-if test \"x$ac_cv_have_decl_debuginfod_begin\" = xyes; then :\n-  have_debuginfod_h=yes\n-fi\n \n-  if test \"x$have_debuginfod_lib\" = \"xyes\" -a \\\n-          \"x$have_debuginfod_h\" = \"xyes\"; then\n \n-$as_echo \"#define HAVE_LIBDEBUGINFOD 1\" >>confdefs.h\n+if test $pkg_failed = yes; then\n+        { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n \n-    LIBDEBUGINFOD=\"-ldebuginfod\"\n+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then\n+        _pkg_short_errors_supported=yes\n+else\n+        _pkg_short_errors_supported=no\n+fi\n+        if test $_pkg_short_errors_supported = yes; then\n+\t        DEBUGINFOD_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs \"libdebuginfod >= 0.179\" 2>&1`\n+        else\n+\t        DEBUGINFOD_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs \"libdebuginfod >= 0.179\" 2>&1`\n+        fi\n+\t# Put the nasty error message in config.log where it belongs\n+\techo \"$DEBUGINFOD_PKG_ERRORS\" >&5\n \n-  else\n+\tif test \"x$with_debuginfod\" = xyes; then\n+       as_fn_error $? \"\\\"--with-debuginfod was given, but libdebuginfod is missing or unusable.\\\"\" \"$LINENO\" 5\n+     else\n+       { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: libdebuginfod is missing or unusable; some features may be unavailable.\" >&5\n+$as_echo \"$as_me: WARNING: libdebuginfod is missing or unusable; some features may be unavailable.\" >&2;}\n+     fi\n+elif test $pkg_failed = untried; then\n+        { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+\tif test \"x$with_debuginfod\" = xyes; then\n+       as_fn_error $? \"\\\"--with-debuginfod was given, but libdebuginfod is missing or unusable.\\\"\" \"$LINENO\" 5\n+     else\n+       { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: libdebuginfod is missing or unusable; some features may be unavailable.\" >&5\n+$as_echo \"$as_me: WARNING: libdebuginfod is missing or unusable; some features may be unavailable.\" >&2;}\n+     fi\n+else\n+\tDEBUGINFOD_CFLAGS=$pkg_cv_DEBUGINFOD_CFLAGS\n+\tDEBUGINFOD_LIBS=$pkg_cv_DEBUGINFOD_LIBS\n+        { $as_echo \"$as_me:${as_lineno-$LINENO}: result: yes\" >&5\n+$as_echo \"yes\" >&6; }\n \n-    if test \"$with_debuginfod\" = yes; then\n-      as_fn_error $? \"debuginfod is missing or unusable\" \"$LINENO\" 5\n-    else\n-      { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: debuginfod is missing or unusable; some features may be unavailable.\" >&5\n-$as_echo \"$as_me: WARNING: debuginfod is missing or unusable; some features may be unavailable.\" >&2;}\n-    fi\n-  fi\n+$as_echo \"#define HAVE_LIBDEBUGINFOD 1\" >>confdefs.h\n+\n+fi\n+else\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: debuginfod support disabled; some features may be unavailable.\" >&5\n+$as_echo \"$as_me: WARNING: debuginfod support disabled; some features may be unavailable.\" >&2;}\n fi\n \n "
    },
    {
      "sha": "9ad9236dfc9ff30c59f7af796f113d16536909dd",
      "filename": "binutils/doc/Makefile.in",
      "status": "modified",
      "additions": 6,
      "deletions": 2,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f6720b1cfe8f70ef5631b390780dfb53166e9ff2/binutils/doc/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f6720b1cfe8f70ef5631b390780dfb53166e9ff2/binutils/doc/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/doc/Makefile.in?ref=f6720b1cfe8f70ef5631b390780dfb53166e9ff2",
      "patch": "@@ -130,7 +130,7 @@ am__aclocal_m4_deps = $(top_srcdir)/../bfd/acinclude.m4 \\\n \t$(top_srcdir)/../ltversion.m4 $(top_srcdir)/../lt~obsolete.m4 \\\n \t$(top_srcdir)/../bfd/version.m4 \\\n \t$(top_srcdir)/../config/debuginfod.m4 \\\n-\t$(top_srcdir)/configure.ac\n+\t$(top_srcdir)/../config/pkg.m4 $(top_srcdir)/configure.ac\n am__configure_deps = $(am__aclocal_m4_deps) $(CONFIGURE_DEPENDENCIES) \\\n \t$(ACLOCAL_M4)\n DIST_COMMON = $(srcdir)/Makefile.am $(am__DIST_COMMON)\n@@ -256,6 +256,8 @@ CPP = @CPP@\n CPPFLAGS = @CPPFLAGS@\n CYGPATH_W = @CYGPATH_W@\n DATADIRNAME = @DATADIRNAME@\n+DEBUGINFOD_CFLAGS = @DEBUGINFOD_CFLAGS@\n+DEBUGINFOD_LIBS = @DEBUGINFOD_LIBS@\n DEFS = @DEFS@\n DEMANGLER_NAME = @DEMANGLER_NAME@\n DEPDIR = @DEPDIR@\n@@ -287,7 +289,6 @@ LDFLAGS = @LDFLAGS@\n LEX = @LEX@\n LEXLIB = @LEXLIB@\n LEX_OUTPUT_ROOT = @LEX_OUTPUT_ROOT@\n-LIBDEBUGINFOD = @LIBDEBUGINFOD@\n LIBICONV = @LIBICONV@\n LIBINTL = @LIBINTL@\n LIBINTL_DEP = @LIBINTL_DEP@\n@@ -321,6 +322,9 @@ PACKAGE_TARNAME = @PACKAGE_TARNAME@\n PACKAGE_URL = @PACKAGE_URL@\n PACKAGE_VERSION = @PACKAGE_VERSION@\n PATH_SEPARATOR = @PATH_SEPARATOR@\n+PKG_CONFIG = @PKG_CONFIG@\n+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@\n+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@\n POSUB = @POSUB@\n RANLIB = @RANLIB@\n SED = @SED@"
    },
    {
      "sha": "f9eb0988e3547411968cbfa627a655e49d5ffcd4",
      "filename": "config/debuginfod.m4",
      "status": "modified",
      "additions": 15,
      "deletions": 23,
      "changes": 38,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f6720b1cfe8f70ef5631b390780dfb53166e9ff2/config/debuginfod.m4",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f6720b1cfe8f70ef5631b390780dfb53166e9ff2/config/debuginfod.m4",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/config/debuginfod.m4?ref=f6720b1cfe8f70ef5631b390780dfb53166e9ff2",
      "patch": "@@ -1,38 +1,30 @@\n-dnl Copyright (C) 1997-2019 Free Software Foundation, Inc.\n+dnl Copyright (C) 1997-2020 Free Software Foundation, Inc.\n dnl This file is free software, distributed under the terms of the GNU\n dnl General Public License.  As a special exception to the GNU General\n dnl Public License, this file may be distributed as part of a program\n dnl that contains a configuration script generated by Autoconf, under\n dnl the same distribution terms as the rest of that program.\n \n+m4_include([../config/pkg.m4])\n+\n AC_DEFUN([AC_DEBUGINFOD],\n [\n-# Enable debuginfod\n+# Handle optional debuginfod support\n AC_ARG_WITH([debuginfod],\n-        AC_HELP_STRING([--with-debuginfod],\n-                       [Enable debuginfo lookups with debuginfod (auto/yes/no)]),\n-        [], [with_debuginfod=auto])\n+  AC_HELP_STRING([--with-debuginfod], [Enable debuginfo lookups with debuginfod (auto/yes/no)]),\n+  [], [with_debuginfod=auto])\n AC_MSG_CHECKING([whether to use debuginfod])\n AC_MSG_RESULT([$with_debuginfod])\n \n-if test \"${with_debuginfod}\" = no; then\n-  AC_MSG_WARN([debuginfod support disabled; some features may be unavailable.])\n+if test \"x$with_debuginfod\" != xno; then\n+  PKG_CHECK_MODULES([DEBUGINFOD], [libdebuginfod >= 0.179],\n+    [AC_DEFINE([HAVE_LIBDEBUGINFOD], [1], [Define to 1 if debuginfod is enabled.])],\n+    [if test \"x$with_debuginfod\" = xyes; then\n+       AC_MSG_ERROR([\"--with-debuginfod was given, but libdebuginfod is missing or unusable.\"])\n+     else\n+       AC_MSG_WARN([libdebuginfod is missing or unusable; some features may be unavailable.])\n+     fi])\n else\n-  AC_CHECK_LIB([debuginfod], [debuginfod_begin], [have_debuginfod_lib=yes])\n-  AC_CHECK_DECL([debuginfod_begin], [have_debuginfod_h=yes], [],\n-                [#include <elfutils/debuginfod.h>])\n-  if test \"x$have_debuginfod_lib\" = \"xyes\" -a \\\n-          \"x$have_debuginfod_h\" = \"xyes\"; then\n-    AC_DEFINE([HAVE_LIBDEBUGINFOD], [1],\n-              [Define to 1 if debuginfod is enabled.])\n-    AC_SUBST([LIBDEBUGINFOD], [\"-ldebuginfod\"])\n-  else\n-    AC_SUBST([LIBDEBUGINFOD], [])\n-    if test \"$with_debuginfod\" = yes; then\n-      AC_MSG_ERROR([debuginfod is missing or unusable])\n-    else\n-      AC_MSG_WARN([debuginfod is missing or unusable; some features may be unavailable.])\n-    fi\n-  fi\n+  AC_MSG_WARN([debuginfod support disabled; some features may be unavailable.])\n fi\n ])"
    },
    {
      "sha": "13a889017866a112bbf088864210d7ada61b5682",
      "filename": "config/pkg.m4",
      "status": "added",
      "additions": 275,
      "deletions": 0,
      "changes": 275,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f6720b1cfe8f70ef5631b390780dfb53166e9ff2/config/pkg.m4",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f6720b1cfe8f70ef5631b390780dfb53166e9ff2/config/pkg.m4",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/config/pkg.m4?ref=f6720b1cfe8f70ef5631b390780dfb53166e9ff2",
      "patch": "@@ -0,0 +1,275 @@\n+# pkg.m4 - Macros to locate and utilise pkg-config.   -*- Autoconf -*-\n+# serial 12 (pkg-config-0.29.2)\n+\n+dnl Copyright \u00a9 2004 Scott James Remnant <scott@netsplit.com>.\n+dnl Copyright \u00a9 2012-2015 Dan Nicholson <dbn.lists@gmail.com>\n+dnl\n+dnl This program is free software; you can redistribute it and/or modify\n+dnl it under the terms of the GNU General Public License as published by\n+dnl the Free Software Foundation; either version 2 of the License, or\n+dnl (at your option) any later version.\n+dnl\n+dnl This program is distributed in the hope that it will be useful, but\n+dnl WITHOUT ANY WARRANTY; without even the implied warranty of\n+dnl MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n+dnl General Public License for more details.\n+dnl\n+dnl You should have received a copy of the GNU General Public License\n+dnl along with this program; if not, write to the Free Software\n+dnl Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA\n+dnl 02111-1307, USA.\n+dnl\n+dnl As a special exception to the GNU General Public License, if you\n+dnl distribute this file as part of a program that contains a\n+dnl configuration script generated by Autoconf, you may include it under\n+dnl the same distribution terms that you use for the rest of that\n+dnl program.\n+\n+dnl PKG_PREREQ(MIN-VERSION)\n+dnl -----------------------\n+dnl Since: 0.29\n+dnl\n+dnl Verify that the version of the pkg-config macros are at least\n+dnl MIN-VERSION. Unlike PKG_PROG_PKG_CONFIG, which checks the user's\n+dnl installed version of pkg-config, this checks the developer's version\n+dnl of pkg.m4 when generating configure.\n+dnl\n+dnl To ensure that this macro is defined, also add:\n+dnl m4_ifndef([PKG_PREREQ],\n+dnl     [m4_fatal([must install pkg-config 0.29 or later before running autoconf/autogen])])\n+dnl\n+dnl See the \"Since\" comment for each macro you use to see what version\n+dnl of the macros you require.\n+m4_defun([PKG_PREREQ],\n+[m4_define([PKG_MACROS_VERSION], [0.29.2])\n+m4_if(m4_version_compare(PKG_MACROS_VERSION, [$1]), -1,\n+    [m4_fatal([pkg.m4 version $1 or higher is required but ]PKG_MACROS_VERSION[ found])])\n+])dnl PKG_PREREQ\n+\n+dnl PKG_PROG_PKG_CONFIG([MIN-VERSION])\n+dnl ----------------------------------\n+dnl Since: 0.16\n+dnl\n+dnl Search for the pkg-config tool and set the PKG_CONFIG variable to\n+dnl first found in the path. Checks that the version of pkg-config found\n+dnl is at least MIN-VERSION. If MIN-VERSION is not specified, 0.9.0 is\n+dnl used since that's the first version where most current features of\n+dnl pkg-config existed.\n+AC_DEFUN([PKG_PROG_PKG_CONFIG],\n+[m4_pattern_forbid([^_?PKG_[A-Z_]+$])\n+m4_pattern_allow([^PKG_CONFIG(_(PATH|LIBDIR|SYSROOT_DIR|ALLOW_SYSTEM_(CFLAGS|LIBS)))?$])\n+m4_pattern_allow([^PKG_CONFIG_(DISABLE_UNINSTALLED|TOP_BUILD_DIR|DEBUG_SPEW)$])\n+AC_ARG_VAR([PKG_CONFIG], [path to pkg-config utility])\n+AC_ARG_VAR([PKG_CONFIG_PATH], [directories to add to pkg-config's search path])\n+AC_ARG_VAR([PKG_CONFIG_LIBDIR], [path overriding pkg-config's built-in search path])\n+\n+if test \"x$ac_cv_env_PKG_CONFIG_set\" != \"xset\"; then\n+\tAC_PATH_TOOL([PKG_CONFIG], [pkg-config])\n+fi\n+if test -n \"$PKG_CONFIG\"; then\n+\t_pkg_min_version=m4_default([$1], [0.9.0])\n+\tAC_MSG_CHECKING([pkg-config is at least version $_pkg_min_version])\n+\tif $PKG_CONFIG --atleast-pkgconfig-version $_pkg_min_version; then\n+\t\tAC_MSG_RESULT([yes])\n+\telse\n+\t\tAC_MSG_RESULT([no])\n+\t\tPKG_CONFIG=\"\"\n+\tfi\n+fi[]dnl\n+])dnl PKG_PROG_PKG_CONFIG\n+\n+dnl PKG_CHECK_EXISTS(MODULES, [ACTION-IF-FOUND], [ACTION-IF-NOT-FOUND])\n+dnl -------------------------------------------------------------------\n+dnl Since: 0.18\n+dnl\n+dnl Check to see whether a particular set of modules exists. Similar to\n+dnl PKG_CHECK_MODULES(), but does not set variables or print errors.\n+dnl\n+dnl Please remember that m4 expands AC_REQUIRE([PKG_PROG_PKG_CONFIG])\n+dnl only at the first occurence in configure.ac, so if the first place\n+dnl it's called might be skipped (such as if it is within an \"if\", you\n+dnl have to call PKG_CHECK_EXISTS manually\n+AC_DEFUN([PKG_CHECK_EXISTS],\n+[AC_REQUIRE([PKG_PROG_PKG_CONFIG])dnl\n+if test -n \"$PKG_CONFIG\" && \\\n+    AC_RUN_LOG([$PKG_CONFIG --exists --print-errors \"$1\"]); then\n+  m4_default([$2], [:])\n+m4_ifvaln([$3], [else\n+  $3])dnl\n+fi])\n+\n+dnl _PKG_CONFIG([VARIABLE], [COMMAND], [MODULES])\n+dnl ---------------------------------------------\n+dnl Internal wrapper calling pkg-config via PKG_CONFIG and setting\n+dnl pkg_failed based on the result.\n+m4_define([_PKG_CONFIG],\n+[if test -n \"$$1\"; then\n+    pkg_cv_[]$1=\"$$1\"\n+ elif test -n \"$PKG_CONFIG\"; then\n+    PKG_CHECK_EXISTS([$3],\n+                     [pkg_cv_[]$1=`$PKG_CONFIG --[]$2 \"$3\" 2>/dev/null`\n+\t\t      test \"x$?\" != \"x0\" && pkg_failed=yes ],\n+\t\t     [pkg_failed=yes])\n+ else\n+    pkg_failed=untried\n+fi[]dnl\n+])dnl _PKG_CONFIG\n+\n+dnl _PKG_SHORT_ERRORS_SUPPORTED\n+dnl ---------------------------\n+dnl Internal check to see if pkg-config supports short errors.\n+AC_DEFUN([_PKG_SHORT_ERRORS_SUPPORTED],\n+[AC_REQUIRE([PKG_PROG_PKG_CONFIG])\n+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then\n+        _pkg_short_errors_supported=yes\n+else\n+        _pkg_short_errors_supported=no\n+fi[]dnl\n+])dnl _PKG_SHORT_ERRORS_SUPPORTED\n+\n+\n+dnl PKG_CHECK_MODULES(VARIABLE-PREFIX, MODULES, [ACTION-IF-FOUND],\n+dnl   [ACTION-IF-NOT-FOUND])\n+dnl --------------------------------------------------------------\n+dnl Since: 0.4.0\n+dnl\n+dnl Note that if there is a possibility the first call to\n+dnl PKG_CHECK_MODULES might not happen, you should be sure to include an\n+dnl explicit call to PKG_PROG_PKG_CONFIG in your configure.ac\n+AC_DEFUN([PKG_CHECK_MODULES],\n+[AC_REQUIRE([PKG_PROG_PKG_CONFIG])dnl\n+AC_ARG_VAR([$1][_CFLAGS], [C compiler flags for $1, overriding pkg-config])dnl\n+AC_ARG_VAR([$1][_LIBS], [linker flags for $1, overriding pkg-config])dnl\n+\n+pkg_failed=no\n+AC_MSG_CHECKING([for $2])\n+\n+_PKG_CONFIG([$1][_CFLAGS], [cflags], [$2])\n+_PKG_CONFIG([$1][_LIBS], [libs], [$2])\n+\n+m4_define([_PKG_TEXT], [Alternatively, you may set the environment variables $1[]_CFLAGS\n+and $1[]_LIBS to avoid the need to call pkg-config.\n+See the pkg-config man page for more details.])\n+\n+if test $pkg_failed = yes; then\n+        AC_MSG_RESULT([no])\n+        _PKG_SHORT_ERRORS_SUPPORTED\n+        if test $_pkg_short_errors_supported = yes; then\n+\t        $1[]_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs \"$2\" 2>&1`\n+        else\n+\t        $1[]_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs \"$2\" 2>&1`\n+        fi\n+\t# Put the nasty error message in config.log where it belongs\n+\techo \"$$1[]_PKG_ERRORS\" >&AS_MESSAGE_LOG_FD\n+\n+\tm4_default([$4], [AC_MSG_ERROR(\n+[Package requirements ($2) were not met:\n+\n+$$1_PKG_ERRORS\n+\n+Consider adjusting the PKG_CONFIG_PATH environment variable if you\n+installed software in a non-standard prefix.\n+\n+_PKG_TEXT])[]dnl\n+        ])\n+elif test $pkg_failed = untried; then\n+        AC_MSG_RESULT([no])\n+\tm4_default([$4], [AC_MSG_FAILURE(\n+[The pkg-config script could not be found or is too old.  Make sure it\n+is in your PATH or set the PKG_CONFIG environment variable to the full\n+path to pkg-config.\n+\n+_PKG_TEXT\n+\n+To get pkg-config, see <http://pkg-config.freedesktop.org/>.])[]dnl\n+        ])\n+else\n+\t$1[]_CFLAGS=$pkg_cv_[]$1[]_CFLAGS\n+\t$1[]_LIBS=$pkg_cv_[]$1[]_LIBS\n+        AC_MSG_RESULT([yes])\n+\t$3\n+fi[]dnl\n+])dnl PKG_CHECK_MODULES\n+\n+\n+dnl PKG_CHECK_MODULES_STATIC(VARIABLE-PREFIX, MODULES, [ACTION-IF-FOUND],\n+dnl   [ACTION-IF-NOT-FOUND])\n+dnl ---------------------------------------------------------------------\n+dnl Since: 0.29\n+dnl\n+dnl Checks for existence of MODULES and gathers its build flags with\n+dnl static libraries enabled. Sets VARIABLE-PREFIX_CFLAGS from --cflags\n+dnl and VARIABLE-PREFIX_LIBS from --libs.\n+dnl\n+dnl Note that if there is a possibility the first call to\n+dnl PKG_CHECK_MODULES_STATIC might not happen, you should be sure to\n+dnl include an explicit call to PKG_PROG_PKG_CONFIG in your\n+dnl configure.ac.\n+AC_DEFUN([PKG_CHECK_MODULES_STATIC],\n+[AC_REQUIRE([PKG_PROG_PKG_CONFIG])dnl\n+_save_PKG_CONFIG=$PKG_CONFIG\n+PKG_CONFIG=\"$PKG_CONFIG --static\"\n+PKG_CHECK_MODULES($@)\n+PKG_CONFIG=$_save_PKG_CONFIG[]dnl\n+])dnl PKG_CHECK_MODULES_STATIC\n+\n+\n+dnl PKG_INSTALLDIR([DIRECTORY])\n+dnl -------------------------\n+dnl Since: 0.27\n+dnl\n+dnl Substitutes the variable pkgconfigdir as the location where a module\n+dnl should install pkg-config .pc files. By default the directory is\n+dnl $libdir/pkgconfig, but the default can be changed by passing\n+dnl DIRECTORY. The user can override through the --with-pkgconfigdir\n+dnl parameter.\n+AC_DEFUN([PKG_INSTALLDIR],\n+[m4_pushdef([pkg_default], [m4_default([$1], ['${libdir}/pkgconfig'])])\n+m4_pushdef([pkg_description],\n+    [pkg-config installation directory @<:@]pkg_default[@:>@])\n+AC_ARG_WITH([pkgconfigdir],\n+    [AS_HELP_STRING([--with-pkgconfigdir], pkg_description)],,\n+    [with_pkgconfigdir=]pkg_default)\n+AC_SUBST([pkgconfigdir], [$with_pkgconfigdir])\n+m4_popdef([pkg_default])\n+m4_popdef([pkg_description])\n+])dnl PKG_INSTALLDIR\n+\n+\n+dnl PKG_NOARCH_INSTALLDIR([DIRECTORY])\n+dnl --------------------------------\n+dnl Since: 0.27\n+dnl\n+dnl Substitutes the variable noarch_pkgconfigdir as the location where a\n+dnl module should install arch-independent pkg-config .pc files. By\n+dnl default the directory is $datadir/pkgconfig, but the default can be\n+dnl changed by passing DIRECTORY. The user can override through the\n+dnl --with-noarch-pkgconfigdir parameter.\n+AC_DEFUN([PKG_NOARCH_INSTALLDIR],\n+[m4_pushdef([pkg_default], [m4_default([$1], ['${datadir}/pkgconfig'])])\n+m4_pushdef([pkg_description],\n+    [pkg-config arch-independent installation directory @<:@]pkg_default[@:>@])\n+AC_ARG_WITH([noarch-pkgconfigdir],\n+    [AS_HELP_STRING([--with-noarch-pkgconfigdir], pkg_description)],,\n+    [with_noarch_pkgconfigdir=]pkg_default)\n+AC_SUBST([noarch_pkgconfigdir], [$with_noarch_pkgconfigdir])\n+m4_popdef([pkg_default])\n+m4_popdef([pkg_description])\n+])dnl PKG_NOARCH_INSTALLDIR\n+\n+\n+dnl PKG_CHECK_VAR(VARIABLE, MODULE, CONFIG-VARIABLE,\n+dnl [ACTION-IF-FOUND], [ACTION-IF-NOT-FOUND])\n+dnl -------------------------------------------\n+dnl Since: 0.28\n+dnl\n+dnl Retrieves the value of the pkg-config variable for the given module.\n+AC_DEFUN([PKG_CHECK_VAR],\n+[AC_REQUIRE([PKG_PROG_PKG_CONFIG])dnl\n+AC_ARG_VAR([$1], [value of $3 for $2, overriding pkg-config])dnl\n+\n+_PKG_CONFIG([$1], [variable=\"][$3][\"], [$2])\n+AS_VAR_COPY([$1], [pkg_cv_][$1])\n+\n+AS_VAR_IF([$1], [\"\"], [$5], [$4])dnl\n+])dnl PKG_CHECK_VAR"
    },
    {
      "sha": "68779feb42bceb8207abcbc2e268178bba8727eb",
      "filename": "configure",
      "status": "modified",
      "additions": 2,
      "deletions": 137,
      "changes": 139,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f6720b1cfe8f70ef5631b390780dfb53166e9ff2/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f6720b1cfe8f70ef5631b390780dfb53166e9ff2/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/configure?ref=f6720b1cfe8f70ef5631b390780dfb53166e9ff2",
      "patch": "@@ -690,7 +690,6 @@ extra_mpc_gmp_configure_flags\n extra_mpfr_configure_flags\n gmpinc\n gmplibs\n-LIBDEBUGINFOD\n do_compare\n GNATMAKE\n GNATBIND\n@@ -791,7 +790,6 @@ enable_libssp\n enable_libstdcxx\n enable_liboffloadmic\n enable_bootstrap\n-with_debuginfod\n with_mpc\n with_mpc_include\n with_mpc_lib\n@@ -1555,8 +1553,6 @@ Optional Packages:\n   --without-PACKAGE       do not use PACKAGE (same as --with-PACKAGE=no)\n   --with-build-libsubdir=DIR  Directory where to find libraries for build system\n   --with-system-zlib      use installed libz\n-  --with-debuginfod       Enable debuginfo lookups with debuginfod\n-                          (auto/yes/no)\n   --with-mpc=PATH         specify prefix directory for installed MPC package.\n                           Equivalent to --with-mpc-include=PATH/include plus\n                           --with-mpc-lib=PATH/lib\n@@ -1925,52 +1921,6 @@ fi\n   as_fn_set_status $ac_retval\n \n } # ac_fn_c_try_link\n-\n-# ac_fn_c_check_decl LINENO SYMBOL VAR INCLUDES\n-# ---------------------------------------------\n-# Tests whether SYMBOL is declared in INCLUDES, setting cache variable VAR\n-# accordingly.\n-ac_fn_c_check_decl ()\n-{\n-  as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n-  as_decl_name=`echo $2|sed 's/ *(.*//'`\n-  as_decl_use=`echo $2|sed -e 's/(/((/' -e 's/)/) 0&/' -e 's/,/) 0& (/g'`\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether $as_decl_name is declared\" >&5\n-$as_echo_n \"checking whether $as_decl_name is declared... \" >&6; }\n-if eval \\${$3+:} false; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-$4\n-int\n-main ()\n-{\n-#ifndef $as_decl_name\n-#ifdef __cplusplus\n-  (void) $as_decl_use;\n-#else\n-  (void) $as_decl_name;\n-#endif\n-#endif\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n-  eval \"$3=yes\"\n-else\n-  eval \"$3=no\"\n-fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-fi\n-eval ac_res=\\$$3\n-\t       { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_res\" >&5\n-$as_echo \"$ac_res\" >&6; }\n-  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno\n-\n-} # ac_fn_c_check_decl\n cat >config.log <<_ACEOF\n This file contains any messages produced by compilers while\n running configure, to aid debugging if configure makes a mistake.\n@@ -5505,92 +5455,6 @@ gmplibs=\"-lmpc -lmpfr -lgmp\"\n gmpinc=\n have_gmp=no\n \n-# Check for debuginfod\n-\n-\n-# Enable debuginfod\n-\n-# Check whether --with-debuginfod was given.\n-if test \"${with_debuginfod+set}\" = set; then :\n-  withval=$with_debuginfod;\n-else\n-  with_debuginfod=auto\n-fi\n-\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether to use debuginfod\" >&5\n-$as_echo_n \"checking whether to use debuginfod... \" >&6; }\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $with_debuginfod\" >&5\n-$as_echo \"$with_debuginfod\" >&6; }\n-\n-if test \"${with_debuginfod}\" = no; then\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: debuginfod support disabled; some features may be unavailable.\" >&5\n-$as_echo \"$as_me: WARNING: debuginfod support disabled; some features may be unavailable.\" >&2;}\n-else\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for debuginfod_begin in -ldebuginfod\" >&5\n-$as_echo_n \"checking for debuginfod_begin in -ldebuginfod... \" >&6; }\n-if ${ac_cv_lib_debuginfod_debuginfod_begin+:} false; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  ac_check_lib_save_LIBS=$LIBS\n-LIBS=\"-ldebuginfod  $LIBS\"\n-cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-\n-/* Override any GCC internal prototype to avoid an error.\n-   Use char because int might match the return type of a GCC\n-   builtin and then its argument prototype would still apply.  */\n-#ifdef __cplusplus\n-extern \"C\"\n-#endif\n-char debuginfod_begin ();\n-int\n-main ()\n-{\n-return debuginfod_begin ();\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_link \"$LINENO\"; then :\n-  ac_cv_lib_debuginfod_debuginfod_begin=yes\n-else\n-  ac_cv_lib_debuginfod_debuginfod_begin=no\n-fi\n-rm -f core conftest.err conftest.$ac_objext \\\n-    conftest$ac_exeext conftest.$ac_ext\n-LIBS=$ac_check_lib_save_LIBS\n-fi\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_debuginfod_debuginfod_begin\" >&5\n-$as_echo \"$ac_cv_lib_debuginfod_debuginfod_begin\" >&6; }\n-if test \"x$ac_cv_lib_debuginfod_debuginfod_begin\" = xyes; then :\n-  have_debuginfod_lib=yes\n-fi\n-\n-  ac_fn_c_check_decl \"$LINENO\" \"debuginfod_begin\" \"ac_cv_have_decl_debuginfod_begin\" \"#include <elfutils/debuginfod.h>\n-\"\n-if test \"x$ac_cv_have_decl_debuginfod_begin\" = xyes; then :\n-  have_debuginfod_h=yes\n-fi\n-\n-  if test \"x$have_debuginfod_lib\" = \"xyes\" -a \\\n-          \"x$have_debuginfod_h\" = \"xyes\"; then\n-\n-$as_echo \"#define HAVE_LIBDEBUGINFOD 1\" >>confdefs.h\n-\n-    LIBDEBUGINFOD=\"-ldebuginfod\"\n-\n-  else\n-\n-    if test \"$with_debuginfod\" = yes; then\n-      as_fn_error $? \"debuginfod is missing or unusable\" \"$LINENO\" 5\n-    else\n-      { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: debuginfod is missing or unusable; some features may be unavailable.\" >&5\n-$as_echo \"$as_me: WARNING: debuginfod is missing or unusable; some features may be unavailable.\" >&2;}\n-    fi\n-  fi\n-fi\n-\n-\n # Specify a location for mpc\n # check for this first so it ends up on the link line before mpfr.\n \n@@ -5745,7 +5609,8 @@ if test -d ${srcdir}/gcc && test \"x$have_gmp\" = xno; then\n   # Check for the recommended and required versions of GMP.\n   { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for the correct version of gmp.h\" >&5\n $as_echo_n \"checking for the correct version of gmp.h... \" >&6; }\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+\n+cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n /* end confdefs.h.  */\n #include \"gmp.h\"\n int"
    },
    {
      "sha": "d16a27576896b777fcd5c49e11c3939a5fe32382",
      "filename": "configure.ac",
      "status": "modified",
      "additions": 0,
      "deletions": 4,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f6720b1cfe8f70ef5631b390780dfb53166e9ff2/configure.ac",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f6720b1cfe8f70ef5631b390780dfb53166e9ff2/configure.ac",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/configure.ac?ref=f6720b1cfe8f70ef5631b390780dfb53166e9ff2",
      "patch": "@@ -23,7 +23,6 @@ m4_include(config/acx.m4)\n m4_include(config/override.m4)\n m4_include(config/proginstall.m4)\n m4_include(config/elf.m4)\n-m4_include(config/debuginfod.m4)\n m4_include([libtool.m4])\n m4_include([ltoptions.m4])\n m4_include([ltsugar.m4])\n@@ -1383,9 +1382,6 @@ gmplibs=\"-lmpc -lmpfr -lgmp\"\n gmpinc=\n have_gmp=no\n \n-# Check for debuginfod\n-AC_DEBUGINFOD\n-\n # Specify a location for mpc\n # check for this first so it ends up on the link line before mpfr.\n AC_ARG_WITH(mpc,"
    },
    {
      "sha": "7d6e0915bf25c32028ecf146457ad74bd66b44ac",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f6720b1cfe8f70ef5631b390780dfb53166e9ff2/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f6720b1cfe8f70ef5631b390780dfb53166e9ff2/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=f6720b1cfe8f70ef5631b390780dfb53166e9ff2",
      "patch": "@@ -1,3 +1,8 @@\n+2020-07-24  Aaron Merey  <amerey@redhat.com>\n+\n+\t* Makefile.in: Replace LIBDEBUGINFOD with DEBUGINFOD_LIBS.\n+\t* configure: Rebuild.\n+\n 2020-07-23  Kevin Buettner  <kevinb@redhat.com>\n \n \tPR corefiles/26294"
    },
    {
      "sha": "f9bde2b9a95ad1b2cba21fccffffd2e8358853b1",
      "filename": "gdb/Makefile.in",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f6720b1cfe8f70ef5631b390780dfb53166e9ff2/gdb/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f6720b1cfe8f70ef5631b390780dfb53166e9ff2/gdb/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/Makefile.in?ref=f6720b1cfe8f70ef5631b390780dfb53166e9ff2",
      "patch": "@@ -623,7 +623,7 @@ CLIBS = $(SIM) $(READLINE) $(OPCODES) $(LIBCTF) $(BFD) $(ZLIB) \\\n \t$(LIBEXPAT) $(LIBLZMA) $(LIBBABELTRACE) $(LIBIPT) \\\n \t$(WIN32LIBS) $(LIBGNU) $(LIBICONV) \\\n \t$(LIBMPFR) $(SRCHIGH_LIBS) $(LIBXXHASH) $(PTHREAD_LIBS) \\\n-\t@LIBDEBUGINFOD@\n+\t@DEBUGINFOD_LIBS@\n CDEPS = $(NAT_CDEPS) $(SIM) $(BFD) $(READLINE_DEPS) $(CTF_DEPS) \\\n \t$(OPCODES) $(INTL_DEPS) $(LIBIBERTY) $(CONFIG_DEPS) $(LIBGNU) \\\n \t$(LIBSUPPORT)"
    },
    {
      "sha": "06b11e22521ba369e00651bd34124dc22044afce",
      "filename": "gdb/configure",
      "status": "modified",
      "additions": 262,
      "deletions": 103,
      "changes": 365,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f6720b1cfe8f70ef5631b390780dfb53166e9ff2/gdb/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f6720b1cfe8f70ef5631b390780dfb53166e9ff2/gdb/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/configure?ref=f6720b1cfe8f70ef5631b390780dfb53166e9ff2",
      "patch": "@@ -761,7 +761,11 @@ REPORT_BUGS_TEXI\n REPORT_BUGS_TO\n PKGVERSION\n CODESIGN_CERT\n-LIBDEBUGINFOD\n+DEBUGINFOD_LIBS\n+DEBUGINFOD_CFLAGS\n+PKG_CONFIG_LIBDIR\n+PKG_CONFIG_PATH\n+PKG_CONFIG\n HAVE_NATIVE_GCORE_TARGET\n TARGET_OBS\n subdirs\n@@ -939,6 +943,11 @@ CCC\n CPP\n MAKEINFO\n MAKEINFOFLAGS\n+PKG_CONFIG\n+PKG_CONFIG_PATH\n+PKG_CONFIG_LIBDIR\n+DEBUGINFOD_CFLAGS\n+DEBUGINFOD_LIBS\n YACC\n YFLAGS\n XMKMF'\n@@ -1683,6 +1692,15 @@ Some influential environment variables:\n   MAKEINFO    Parent configure detects if it is of sufficient version.\n   MAKEINFOFLAGS\n               Parameters for MAKEINFO.\n+  PKG_CONFIG  path to pkg-config utility\n+  PKG_CONFIG_PATH\n+              directories to add to pkg-config's search path\n+  PKG_CONFIG_LIBDIR\n+              path overriding pkg-config's built-in search path\n+  DEBUGINFOD_CFLAGS\n+              C compiler flags for DEBUGINFOD, overriding pkg-config\n+  DEBUGINFOD_LIBS\n+              linker flags for DEBUGINFOD, overriding pkg-config\n   YACC        The `Yet Another Compiler Compiler' implementation to use.\n               Defaults to the first program found out of: `bison -y', `byacc',\n               `yacc'.\n@@ -2273,52 +2291,6 @@ rm -f conftest.val\n \n } # ac_fn_c_compute_int\n \n-# ac_fn_c_check_decl LINENO SYMBOL VAR INCLUDES\n-# ---------------------------------------------\n-# Tests whether SYMBOL is declared in INCLUDES, setting cache variable VAR\n-# accordingly.\n-ac_fn_c_check_decl ()\n-{\n-  as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n-  as_decl_name=`echo $2|sed 's/ *(.*//'`\n-  as_decl_use=`echo $2|sed -e 's/(/((/' -e 's/)/) 0&/' -e 's/,/) 0& (/g'`\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether $as_decl_name is declared\" >&5\n-$as_echo_n \"checking whether $as_decl_name is declared... \" >&6; }\n-if eval \\${$3+:} false; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-$4\n-int\n-main ()\n-{\n-#ifndef $as_decl_name\n-#ifdef __cplusplus\n-  (void) $as_decl_use;\n-#else\n-  (void) $as_decl_name;\n-#endif\n-#endif\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n-  eval \"$3=yes\"\n-else\n-  eval \"$3=no\"\n-fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-fi\n-eval ac_res=\\$$3\n-\t       { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_res\" >&5\n-$as_echo \"$ac_res\" >&6; }\n-  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno\n-\n-} # ac_fn_c_check_decl\n-\n # ac_fn_c_check_func LINENO FUNC VAR\n # ----------------------------------\n # Tests whether FUNC exists, setting the cache variable VAR accordingly\n@@ -2440,6 +2412,52 @@ $as_echo \"$ac_res\" >&6; }\n \n } # ac_fn_c_check_type\n \n+# ac_fn_c_check_decl LINENO SYMBOL VAR INCLUDES\n+# ---------------------------------------------\n+# Tests whether SYMBOL is declared in INCLUDES, setting cache variable VAR\n+# accordingly.\n+ac_fn_c_check_decl ()\n+{\n+  as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n+  as_decl_name=`echo $2|sed 's/ *(.*//'`\n+  as_decl_use=`echo $2|sed -e 's/(/((/' -e 's/)/) 0&/' -e 's/,/) 0& (/g'`\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether $as_decl_name is declared\" >&5\n+$as_echo_n \"checking whether $as_decl_name is declared... \" >&6; }\n+if eval \\${$3+:} false; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+$4\n+int\n+main ()\n+{\n+#ifndef $as_decl_name\n+#ifdef __cplusplus\n+  (void) $as_decl_use;\n+#else\n+  (void) $as_decl_name;\n+#endif\n+#endif\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+if ac_fn_c_try_compile \"$LINENO\"; then :\n+  eval \"$3=yes\"\n+else\n+  eval \"$3=no\"\n+fi\n+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n+fi\n+eval ac_res=\\$$3\n+\t       { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_res\" >&5\n+$as_echo \"$ac_res\" >&6; }\n+  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno\n+\n+} # ac_fn_c_check_decl\n+\n # ac_fn_c_check_member LINENO AGGR MEMBER VAR INCLUDES\n # ----------------------------------------------------\n # Tries to find if the field MEMBER exists in type AGGR, after including\n@@ -6844,7 +6862,127 @@ esac\n \n # Handle optional debuginfod support\n \n-# Enable debuginfod\n+\n+\n+\n+\n+\n+\n+if test \"x$ac_cv_env_PKG_CONFIG_set\" != \"xset\"; then\n+\tif test -n \"$ac_tool_prefix\"; then\n+  # Extract the first word of \"${ac_tool_prefix}pkg-config\", so it can be a program name with args.\n+set dummy ${ac_tool_prefix}pkg-config; ac_word=$2\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n+$as_echo_n \"checking for $ac_word... \" >&6; }\n+if ${ac_cv_path_PKG_CONFIG+:} false; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  case $PKG_CONFIG in\n+  [\\\\/]* | ?:[\\\\/]*)\n+  ac_cv_path_PKG_CONFIG=\"$PKG_CONFIG\" # Let the user override the test with a path.\n+  ;;\n+  *)\n+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+    for ac_exec_ext in '' $ac_executable_extensions; do\n+  if as_fn_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_path_PKG_CONFIG=\"$as_dir/$ac_word$ac_exec_ext\"\n+    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+  done\n+IFS=$as_save_IFS\n+\n+  ;;\n+esac\n+fi\n+PKG_CONFIG=$ac_cv_path_PKG_CONFIG\n+if test -n \"$PKG_CONFIG\"; then\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $PKG_CONFIG\" >&5\n+$as_echo \"$PKG_CONFIG\" >&6; }\n+else\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+fi\n+\n+\n+fi\n+if test -z \"$ac_cv_path_PKG_CONFIG\"; then\n+  ac_pt_PKG_CONFIG=$PKG_CONFIG\n+  # Extract the first word of \"pkg-config\", so it can be a program name with args.\n+set dummy pkg-config; ac_word=$2\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n+$as_echo_n \"checking for $ac_word... \" >&6; }\n+if ${ac_cv_path_ac_pt_PKG_CONFIG+:} false; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  case $ac_pt_PKG_CONFIG in\n+  [\\\\/]* | ?:[\\\\/]*)\n+  ac_cv_path_ac_pt_PKG_CONFIG=\"$ac_pt_PKG_CONFIG\" # Let the user override the test with a path.\n+  ;;\n+  *)\n+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+    for ac_exec_ext in '' $ac_executable_extensions; do\n+  if as_fn_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_path_ac_pt_PKG_CONFIG=\"$as_dir/$ac_word$ac_exec_ext\"\n+    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+  done\n+IFS=$as_save_IFS\n+\n+  ;;\n+esac\n+fi\n+ac_pt_PKG_CONFIG=$ac_cv_path_ac_pt_PKG_CONFIG\n+if test -n \"$ac_pt_PKG_CONFIG\"; then\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_pt_PKG_CONFIG\" >&5\n+$as_echo \"$ac_pt_PKG_CONFIG\" >&6; }\n+else\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+fi\n+\n+  if test \"x$ac_pt_PKG_CONFIG\" = x; then\n+    PKG_CONFIG=\"\"\n+  else\n+    case $cross_compiling:$ac_tool_warned in\n+yes:)\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet\" >&5\n+$as_echo \"$as_me: WARNING: using cross tools not prefixed with host triplet\" >&2;}\n+ac_tool_warned=yes ;;\n+esac\n+    PKG_CONFIG=$ac_pt_PKG_CONFIG\n+  fi\n+else\n+  PKG_CONFIG=\"$ac_cv_path_PKG_CONFIG\"\n+fi\n+\n+fi\n+if test -n \"$PKG_CONFIG\"; then\n+\t_pkg_min_version=0.9.0\n+\t{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking pkg-config is at least version $_pkg_min_version\" >&5\n+$as_echo_n \"checking pkg-config is at least version $_pkg_min_version... \" >&6; }\n+\tif $PKG_CONFIG --atleast-pkgconfig-version $_pkg_min_version; then\n+\t\t{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: yes\" >&5\n+$as_echo \"yes\" >&6; }\n+\telse\n+\t\t{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+\t\tPKG_CONFIG=\"\"\n+\tfi\n+fi\n+\n+# Handle optional debuginfod support\n \n # Check whether --with-debuginfod was given.\n if test \"${with_debuginfod+set}\" = set; then :\n@@ -6858,72 +6996,93 @@ $as_echo_n \"checking whether to use debuginfod... \" >&6; }\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $with_debuginfod\" >&5\n $as_echo \"$with_debuginfod\" >&6; }\n \n-if test \"${with_debuginfod}\" = no; then\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: debuginfod support disabled; some features may be unavailable.\" >&5\n-$as_echo \"$as_me: WARNING: debuginfod support disabled; some features may be unavailable.\" >&2;}\n-else\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for debuginfod_begin in -ldebuginfod\" >&5\n-$as_echo_n \"checking for debuginfod_begin in -ldebuginfod... \" >&6; }\n-if ${ac_cv_lib_debuginfod_debuginfod_begin+:} false; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  ac_check_lib_save_LIBS=$LIBS\n-LIBS=\"-ldebuginfod  $LIBS\"\n-cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n+if test \"x$with_debuginfod\" != xno; then\n \n-/* Override any GCC internal prototype to avoid an error.\n-   Use char because int might match the return type of a GCC\n-   builtin and then its argument prototype would still apply.  */\n-#ifdef __cplusplus\n-extern \"C\"\n-#endif\n-char debuginfod_begin ();\n-int\n-main ()\n-{\n-return debuginfod_begin ();\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_link \"$LINENO\"; then :\n-  ac_cv_lib_debuginfod_debuginfod_begin=yes\n+pkg_failed=no\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for libdebuginfod >= 0.179\" >&5\n+$as_echo_n \"checking for libdebuginfod >= 0.179... \" >&6; }\n+\n+if test -n \"$DEBUGINFOD_CFLAGS\"; then\n+    pkg_cv_DEBUGINFOD_CFLAGS=\"$DEBUGINFOD_CFLAGS\"\n+ elif test -n \"$PKG_CONFIG\"; then\n+    if test -n \"$PKG_CONFIG\" && \\\n+    { { $as_echo \"$as_me:${as_lineno-$LINENO}: \\$PKG_CONFIG --exists --print-errors \\\"libdebuginfod >= 0.179\\\"\"; } >&5\n+  ($PKG_CONFIG --exists --print-errors \"libdebuginfod >= 0.179\") 2>&5\n+  ac_status=$?\n+  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n+  test $ac_status = 0; }; then\n+  pkg_cv_DEBUGINFOD_CFLAGS=`$PKG_CONFIG --cflags \"libdebuginfod >= 0.179\" 2>/dev/null`\n+\t\t      test \"x$?\" != \"x0\" && pkg_failed=yes\n else\n-  ac_cv_lib_debuginfod_debuginfod_begin=no\n+  pkg_failed=yes\n fi\n-rm -f core conftest.err conftest.$ac_objext \\\n-    conftest$ac_exeext conftest.$ac_ext\n-LIBS=$ac_check_lib_save_LIBS\n+ else\n+    pkg_failed=untried\n fi\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_debuginfod_debuginfod_begin\" >&5\n-$as_echo \"$ac_cv_lib_debuginfod_debuginfod_begin\" >&6; }\n-if test \"x$ac_cv_lib_debuginfod_debuginfod_begin\" = xyes; then :\n-  have_debuginfod_lib=yes\n+if test -n \"$DEBUGINFOD_LIBS\"; then\n+    pkg_cv_DEBUGINFOD_LIBS=\"$DEBUGINFOD_LIBS\"\n+ elif test -n \"$PKG_CONFIG\"; then\n+    if test -n \"$PKG_CONFIG\" && \\\n+    { { $as_echo \"$as_me:${as_lineno-$LINENO}: \\$PKG_CONFIG --exists --print-errors \\\"libdebuginfod >= 0.179\\\"\"; } >&5\n+  ($PKG_CONFIG --exists --print-errors \"libdebuginfod >= 0.179\") 2>&5\n+  ac_status=$?\n+  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n+  test $ac_status = 0; }; then\n+  pkg_cv_DEBUGINFOD_LIBS=`$PKG_CONFIG --libs \"libdebuginfod >= 0.179\" 2>/dev/null`\n+\t\t      test \"x$?\" != \"x0\" && pkg_failed=yes\n+else\n+  pkg_failed=yes\n fi\n-\n-  ac_fn_c_check_decl \"$LINENO\" \"debuginfod_begin\" \"ac_cv_have_decl_debuginfod_begin\" \"#include <elfutils/debuginfod.h>\n-\"\n-if test \"x$ac_cv_have_decl_debuginfod_begin\" = xyes; then :\n-  have_debuginfod_h=yes\n+ else\n+    pkg_failed=untried\n fi\n \n-  if test \"x$have_debuginfod_lib\" = \"xyes\" -a \\\n-          \"x$have_debuginfod_h\" = \"xyes\"; then\n \n-$as_echo \"#define HAVE_LIBDEBUGINFOD 1\" >>confdefs.h\n \n-    LIBDEBUGINFOD=\"-ldebuginfod\"\n+if test $pkg_failed = yes; then\n+        { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n \n-  else\n+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then\n+        _pkg_short_errors_supported=yes\n+else\n+        _pkg_short_errors_supported=no\n+fi\n+        if test $_pkg_short_errors_supported = yes; then\n+\t        DEBUGINFOD_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs \"libdebuginfod >= 0.179\" 2>&1`\n+        else\n+\t        DEBUGINFOD_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs \"libdebuginfod >= 0.179\" 2>&1`\n+        fi\n+\t# Put the nasty error message in config.log where it belongs\n+\techo \"$DEBUGINFOD_PKG_ERRORS\" >&5\n \n-    if test \"$with_debuginfod\" = yes; then\n-      as_fn_error $? \"debuginfod is missing or unusable\" \"$LINENO\" 5\n-    else\n-      { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: debuginfod is missing or unusable; some features may be unavailable.\" >&5\n-$as_echo \"$as_me: WARNING: debuginfod is missing or unusable; some features may be unavailable.\" >&2;}\n-    fi\n-  fi\n+\tif test \"x$with_debuginfod\" = xyes; then\n+       as_fn_error $? \"\\\"--with-debuginfod was given, but libdebuginfod is missing or unusable.\\\"\" \"$LINENO\" 5\n+     else\n+       { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: libdebuginfod is missing or unusable; some features may be unavailable.\" >&5\n+$as_echo \"$as_me: WARNING: libdebuginfod is missing or unusable; some features may be unavailable.\" >&2;}\n+     fi\n+elif test $pkg_failed = untried; then\n+        { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+\tif test \"x$with_debuginfod\" = xyes; then\n+       as_fn_error $? \"\\\"--with-debuginfod was given, but libdebuginfod is missing or unusable.\\\"\" \"$LINENO\" 5\n+     else\n+       { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: libdebuginfod is missing or unusable; some features may be unavailable.\" >&5\n+$as_echo \"$as_me: WARNING: libdebuginfod is missing or unusable; some features may be unavailable.\" >&2;}\n+     fi\n+else\n+\tDEBUGINFOD_CFLAGS=$pkg_cv_DEBUGINFOD_CFLAGS\n+\tDEBUGINFOD_LIBS=$pkg_cv_DEBUGINFOD_LIBS\n+        { $as_echo \"$as_me:${as_lineno-$LINENO}: result: yes\" >&5\n+$as_echo \"yes\" >&6; }\n+\n+$as_echo \"#define HAVE_LIBDEBUGINFOD 1\" >>confdefs.h\n+\n+fi\n+else\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: debuginfod support disabled; some features may be unavailable.\" >&5\n+$as_echo \"$as_me: WARNING: debuginfod support disabled; some features may be unavailable.\" >&2;}\n fi\n \n "
    }
  ]
}