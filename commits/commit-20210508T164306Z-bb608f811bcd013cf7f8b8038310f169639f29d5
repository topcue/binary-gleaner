{
  "sha": "bb608f811bcd013cf7f8b8038310f169639f29d5",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YmI2MDhmODExYmNkMDEzY2Y3ZjhiODAzODMxMGYxNjk2MzlmMjlkNQ==",
  "commit": {
    "author": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-05-08T16:41:04Z"
    },
    "committer": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-05-08T16:43:06Z"
    },
    "message": "sim: h8300: clean up various warnings\n\nA random grab bag of minor fixes to enable -Werror for this port.\n\nDisable h8_set_macS for now as it's unused.\nInitialize trace & intMask before using them.\nMark local set_h8300h function static.",
    "tree": {
      "sha": "750f4b43e6f1d7068f811ca9f1c1a165f4dc5fb7",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/750f4b43e6f1d7068f811ca9f1c1a165f4dc5fb7"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/bb608f811bcd013cf7f8b8038310f169639f29d5",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/bb608f811bcd013cf7f8b8038310f169639f29d5",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/bb608f811bcd013cf7f8b8038310f169639f29d5",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/bb608f811bcd013cf7f8b8038310f169639f29d5/comments",
  "author": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "b50a658ac100edaef1d0a0f34e2586314f815f7b",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/b50a658ac100edaef1d0a0f34e2586314f815f7b",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/b50a658ac100edaef1d0a0f34e2586314f815f7b"
    }
  ],
  "stats": {
    "total": 29,
    "additions": 21,
    "deletions": 8
  },
  "files": [
    {
      "sha": "578836eb2ee4ffb1aeccf5137bb9247af1fbe397",
      "filename": "sim/h8300/ChangeLog",
      "status": "modified",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/bb608f811bcd013cf7f8b8038310f169639f29d5/sim/h8300/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/bb608f811bcd013cf7f8b8038310f169639f29d5/sim/h8300/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/h8300/ChangeLog?ref=bb608f811bcd013cf7f8b8038310f169639f29d5",
      "patch": "@@ -1,3 +1,11 @@\n+2021-05-08  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* compile.c (h8_set_macS): Disable with #if 0.\n+\t(step_once): Set trace & intMask to 0.\n+\t(set_h8300h): Mark static.\n+\t* configure.ac: Delete SIM_AC_OPTION_WARNINGS call.\n+\t* configure: Regenerate.\n+\n 2021-05-04  Mike Frysinger  <vapier@gentoo.org>\n \n \t* configure: Regenerate."
    },
    {
      "sha": "365f8667c6a573795d2a78a3e56afa63ca83c345",
      "filename": "sim/h8300/compile.c",
      "status": "modified",
      "additions": 5,
      "deletions": 2,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/bb608f811bcd013cf7f8b8038310f169639f29d5/sim/h8300/compile.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/bb608f811bcd013cf7f8b8038310f169639f29d5/sim/h8300/compile.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/h8300/compile.c?ref=bb608f811bcd013cf7f8b8038310f169639f29d5",
      "patch": "@@ -307,11 +307,13 @@ h8_get_macS (SIM_DESC sd)\n   return (STATE_CPU (sd, 0)) -> macS;\n }\n \n+#if 0\n static void\n h8_set_macS (SIM_DESC sd, int val)\n {\n   (STATE_CPU (sd, 0)) -> macS = (val != 0);\n }\n+#endif\n \n /* MAC Zero Flag */\n static int\n@@ -1716,7 +1718,8 @@ step_once (SIM_DESC sd, SIM_CPU *cpu)\n   int bit;\n   int pc;\n   int c, nz, v, n, u, h, ui, intMaskBit;\n-  int trace, intMask;\n+  int trace = 0;\n+  int intMask = 0;\n   int oldmask;\n   host_callback *sim_callback = STATE_CALLBACK (sd);\n \n@@ -4552,7 +4555,7 @@ sim_info (SIM_DESC sd, int verbose)\n /* Indicate whether the cpu is an H8/300 or H8/300H.\n    FLAG is non-zero for the H8/300H.  */\n \n-void\n+static void\n set_h8300h (unsigned long machine)\n {\n   /* FIXME: Much of the code in sim_load can be moved to sim_open."
    },
    {
      "sha": "4849a066e53b2cd29aadcf866c3825a5911af8be",
      "filename": "sim/h8300/configure",
      "status": "modified",
      "additions": 8,
      "deletions": 5,
      "changes": 13,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/bb608f811bcd013cf7f8b8038310f169639f29d5/sim/h8300/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/bb608f811bcd013cf7f8b8038310f169639f29d5/sim/h8300/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/h8300/configure?ref=bb608f811bcd013cf7f8b8038310f169639f29d5",
      "patch": "@@ -11944,6 +11944,11 @@ fi\n fi\n \n \n+\n+\n+\n+\n+\n # Check whether --enable-werror was given.\n if test \"${enable_werror+set}\" = set; then :\n   enableval=$enable_werror; case \"${enableval}\" in\n@@ -11960,6 +11965,9 @@ if test \"${GCC}\" = yes -a -z \"${ERROR_ON_WARNING}\" ; then\n fi\n \n WERROR_CFLAGS=\"\"\n+  if test \"${ERROR_ON_WARNING}\" = yes ; then\n+    WERROR_CFLAGS=\"-Werror\"\n+  fi\n \n build_warnings=\"-Wall -Wdeclaration-after-statement -Wpointer-arith \\\n -Wpointer-sign \\\n@@ -12041,11 +12049,6 @@ $as_echo \"${WARN_CFLAGS} ${WERROR_CFLAGS}\" >&6; }\n fi\n \n \n-\n-\n-\n-\n-\n hardware=\"cfi core pal glue \"\n sim_hw_cflags=\"-DWITH_HW=1\"\n sim_hw=\"$hardware\""
    },
    {
      "sha": "dc24462742dc272befe4081c3b845612cfdd708a",
      "filename": "sim/h8300/configure.ac",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/bb608f811bcd013cf7f8b8038310f169639f29d5/sim/h8300/configure.ac",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/bb608f811bcd013cf7f8b8038310f169639f29d5/sim/h8300/configure.ac",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/h8300/configure.ac?ref=bb608f811bcd013cf7f8b8038310f169639f29d5",
      "patch": "@@ -6,7 +6,6 @@ SIM_AC_COMMON\n \n SIM_AC_OPTION_ENDIAN(BIG)\n SIM_AC_OPTION_ALIGNMENT(NONSTRICT_ALIGNMENT)\n-SIM_AC_OPTION_WARNINGS(no)\n \n AC_CHECK_HEADERS_ONCE(sys/param.h)\n "
    }
  ]
}