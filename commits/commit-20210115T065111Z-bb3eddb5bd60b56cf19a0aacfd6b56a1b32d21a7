{
  "sha": "bb3eddb5bd60b56cf19a0aacfd6b56a1b32d21a7",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YmIzZWRkYjViZDYwYjU2Y2YxOWEwYWFjZmQ2YjU2YTFiMzJkMjFhNw==",
  "commit": {
    "author": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-01-05T08:38:51Z"
    },
    "committer": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-01-15T06:51:11Z"
    },
    "message": "sim: testsuite: delete configure script\n\nNow that we've moved all ports to dejagnu & testsuite/sim/, the only\nthing the testsuite/configure script has been doing is filling in the\nsim_arch field in the testsuite/Makefile.  We can simply let the top\nsim/configure script do that for us now.  This simplifies & speeds up\nthe build a bit by killing an entire configure script.",
    "tree": {
      "sha": "0e017b9a9dadaa889641e794133ed0e9f66a5300",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/0e017b9a9dadaa889641e794133ed0e9f66a5300"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/bb3eddb5bd60b56cf19a0aacfd6b56a1b32d21a7",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/bb3eddb5bd60b56cf19a0aacfd6b56a1b32d21a7",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/bb3eddb5bd60b56cf19a0aacfd6b56a1b32d21a7",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/bb3eddb5bd60b56cf19a0aacfd6b56a1b32d21a7/comments",
  "author": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "29fd199ed8eb33df997a8ce74a8c9b623d811006",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/29fd199ed8eb33df997a8ce74a8c9b623d811006",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/29fd199ed8eb33df997a8ce74a8c9b623d811006"
    }
  ],
  "stats": {
    "total": 3160,
    "additions": 27,
    "deletions": 3133
  },
  "files": [
    {
      "sha": "d8f530996e691f30827c1ae475a88d9670fd74bf",
      "filename": "sim/ChangeLog",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/bb3eddb5bd60b56cf19a0aacfd6b56a1b32d21a7/sim/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/bb3eddb5bd60b56cf19a0aacfd6b56a1b32d21a7/sim/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ChangeLog?ref=bb3eddb5bd60b56cf19a0aacfd6b56a1b32d21a7",
      "patch": "@@ -1,3 +1,10 @@\n+2021-01-15  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* configure.ac: Delete AC_CONFIG_SUBDIRS(testsuite) call.\n+\tAdd AC_CONFIG_FILES([Makefile testsuite/Makefile]) call.\n+\tDrop argument to AC_OUTPUT.\n+\t* configure: Regenerate.\n+\n 2021-01-12  Mike Frysinger  <vapier@gentoo.org>\n \n \t* README-HACKING (SIM_RUN_OBJS): Delete."
    },
    {
      "sha": "7093cb1f1cf6bfd5a435433337f2f56fdb5ff9ce",
      "filename": "sim/configure",
      "status": "modified",
      "additions": 5,
      "deletions": 11,
      "changes": 16,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/bb3eddb5bd60b56cf19a0aacfd6b56a1b32d21a7/sim/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/bb3eddb5bd60b56cf19a0aacfd6b56a1b32d21a7/sim/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/configure?ref=bb3eddb5bd60b56cf19a0aacfd6b56a1b32d21a7",
      "patch": "@@ -695,7 +695,6 @@ erc32\n ppc\n ft32\n v850\n-testsuite\n igen'\n \n # Initialize some variables set by options.\n@@ -3906,17 +3905,13 @@ subdirs=\"$subdirs aarch64\"\n esac\n \n \n-   if test x\"${sim_arch}\" != x; then\n-      subdirs=\"$subdirs testsuite\"\n+  if test \"$sim_igen\" = yes; then\n+    subdirs=\"$subdirs igen\"\n \n-      if test \"$sim_igen\" = yes; then\n-         subdirs=\"$subdirs igen\"\n-\n-      fi\n-   fi\n+  fi\n fi\n \n-ac_config_files=\"$ac_config_files Makefile\"\n+ac_config_files=\"$ac_config_files Makefile testsuite/Makefile\"\n \n cat >confcache <<\\_ACEOF\n # This file is a shell script that caches the results of configure\n@@ -4625,6 +4620,7 @@ for ac_config_target in $ac_config_targets\n do\n   case $ac_config_target in\n     \"Makefile\") CONFIG_FILES=\"$CONFIG_FILES Makefile\" ;;\n+    \"testsuite/Makefile\") CONFIG_FILES=\"$CONFIG_FILES testsuite/Makefile\" ;;\n \n   *) as_fn_error $? \"invalid argument: \\`$ac_config_target'\" \"$LINENO\" 5;;\n   esac\n@@ -5224,5 +5220,3 @@ if test -n \"$ac_unrecognized_opts\" && test \"$enable_option_checking\" != no; then\n $as_echo \"$as_me: WARNING: unrecognized options: $ac_unrecognized_opts\" >&2;}\n fi\n \n-\n-exit 0"
    },
    {
      "sha": "7de8b99888bf2b4624efe49399ce0fc13b8c695e",
      "filename": "sim/configure.ac",
      "status": "modified",
      "additions": 6,
      "deletions": 10,
      "changes": 16,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/bb3eddb5bd60b56cf19a0aacfd6b56a1b32d21a7/sim/configure.ac",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/bb3eddb5bd60b56cf19a0aacfd6b56a1b32d21a7/sim/configure.ac",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/configure.ac?ref=bb3eddb5bd60b56cf19a0aacfd6b56a1b32d21a7",
      "patch": "@@ -42,15 +42,11 @@ m4_define([SIM_ARCH], [\n   AC_CONFIG_SUBDIRS($1)\n ])\n if test \"${enable_sim}\" != no; then\n-   sinclude(configure.tgt)\n-   if test x\"${sim_arch}\" != x; then\n-      AC_CONFIG_SUBDIRS(testsuite)\n-      if test \"$sim_igen\" = yes; then\n-         AC_CONFIG_SUBDIRS(igen)\n-      fi\n-   fi\n+  sinclude(configure.tgt)\n+  if test \"$sim_igen\" = yes; then\n+    AC_CONFIG_SUBDIRS(igen)\n+  fi\n fi\n \n-AC_OUTPUT(Makefile)\n-\n-exit 0\n+AC_CONFIG_FILES([Makefile testsuite/Makefile])\n+AC_OUTPUT"
    },
    {
      "sha": "fc5806e36b679e943f813ec36639df7d6841a847",
      "filename": "sim/testsuite/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/bb3eddb5bd60b56cf19a0aacfd6b56a1b32d21a7/sim/testsuite/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/bb3eddb5bd60b56cf19a0aacfd6b56a1b32d21a7/sim/testsuite/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/ChangeLog?ref=bb3eddb5bd60b56cf19a0aacfd6b56a1b32d21a7",
      "patch": "@@ -1,3 +1,8 @@\n+2021-01-15  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* configure, configure.ac: Delete.\n+\t* Makefile.in (Makefile, config.status): Switch to ../config.status.\n+\n 2021-01-15  Mike Frysinger  <vapier@gentoo.org>\n \n \t* configure.ac (target): Delete d10v-*-elf case."
    },
    {
      "sha": "1f75db6a5539d1cc43fdbae3892ee025def9feb6",
      "filename": "sim/testsuite/Makefile.in",
      "status": "modified",
      "additions": 4,
      "deletions": 4,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/bb3eddb5bd60b56cf19a0aacfd6b56a1b32d21a7/sim/testsuite/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/bb3eddb5bd60b56cf19a0aacfd6b56a1b32d21a7/sim/testsuite/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/Makefile.in?ref=bb3eddb5bd60b56cf19a0aacfd6b56a1b32d21a7",
      "patch": "@@ -171,11 +171,11 @@ distclean maintainer-clean realclean: clean\n \t    done ; \\\n \telse true; fi\n \n-Makefile : Makefile.in config.status\n-\t$(SHELL) config.status\n+Makefile : Makefile.in ../config.status\n+\t$(SHELL) ../config.status\n \n-config.status: $(srcdir)/configure\n-\t$(SHELL) ./config.status --recheck\n+config.status: $(srcdir)/../configure\n+\t$(SHELL) ../config.status --recheck\n # FIXME: Requires --enable-maintainer-mode, which one could add, but\n # it's provided by automake.  Maybe switch to automake someday.\n #$(srcdir)/configure: @MAINT@ $(srcdir)/configure.in"
    },
    {
      "sha": "0367776b3f20b23d5fb6faf7c7ff8c35b6c5ad13",
      "filename": "sim/testsuite/configure",
      "status": "removed",
      "additions": 0,
      "deletions": 3092,
      "changes": 3092,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/29fd199ed8eb33df997a8ce74a8c9b623d811006/sim/testsuite/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/29fd199ed8eb33df997a8ce74a8c9b623d811006/sim/testsuite/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/configure?ref=29fd199ed8eb33df997a8ce74a8c9b623d811006"
    },
    {
      "sha": "140eb7d5a762f0d75367e12cd9c725ff2792d437",
      "filename": "sim/testsuite/configure.ac",
      "status": "removed",
      "additions": 0,
      "deletions": 16,
      "changes": 16,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/29fd199ed8eb33df997a8ce74a8c9b623d811006/sim/testsuite/configure.ac",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/29fd199ed8eb33df997a8ce74a8c9b623d811006/sim/testsuite/configure.ac",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/configure.ac?ref=29fd199ed8eb33df997a8ce74a8c9b623d811006",
      "patch": "@@ -1,16 +0,0 @@\n-dnl Process this file file with autoconf to produce a configure script.\n-dnl This file is a shell script fragment that supplies the information\n-dnl necessary to tailor a template configure script into the configure\n-dnl script appropriate for this directory.  For more information, check\n-dnl any existing configure script.\n-\n-AC_INIT(common/bits-tst.c)\n-\n-CC=${CC-cc}\n-AC_SUBST(CC)\n-AC_CONFIG_AUX_DIR(../..)\n-AC_CANONICAL_SYSTEM\n-\n-sinclude(../configure.tgt)\n-\n-AC_OUTPUT(Makefile)"
    }
  ]
}