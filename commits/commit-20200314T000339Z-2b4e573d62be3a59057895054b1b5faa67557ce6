{
  "sha": "2b4e573d62be3a59057895054b1b5faa67557ce6",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MmI0ZTU3M2Q2MmJlM2E1OTA1Nzg5NTA1NGIxYjVmYWE2NzU1N2NlNg==",
  "commit": {
    "author": {
      "name": "Tom Tromey",
      "email": "tom@tromey.com",
      "date": "2020-03-13T23:39:52Z"
    },
    "committer": {
      "name": "Tom Tromey",
      "email": "tom@tromey.com",
      "date": "2020-03-14T00:03:39Z"
    },
    "message": "Introduce la_value_print_inner\n\nThe plan for removing val_print is, essentially, to first duplicate\nprinting code as needed to use the value API; and then remove the\nval_print code.  This makes it possible to do the changes\nincrementally while keeping everything working.\n\nThis adds a new la_value_print_inner function pointer to struct\nlanguage_defn.  Eventually this will replace la_val_print.  This patch\nalso changes printing to prefer this API, when available -- but no\nlanguage defines it yet.\n\ngdb/ChangeLog\n2020-03-13  Tom Tromey  <tom@tromey.com>\n\n\t* valprint.c (do_val_print): Call la_value_print_inner, if\n\tavailable.\n\t* rust-lang.c (rust_language_defn): Update.\n\t* p-lang.c (pascal_language_defn): Update.\n\t* opencl-lang.c (opencl_language_defn): Update.\n\t* objc-lang.c (objc_language_defn): Update.\n\t* m2-lang.c (m2_language_defn): Update.\n\t* language.h (struct language_defn) <la_value_print_inner>: New\n\tmember.\n\t* language.c (unknown_language_defn, auto_language_defn): Update.\n\t* go-lang.c (go_language_defn): Update.\n\t* f-lang.c (f_language_defn): Update.\n\t* d-lang.c (d_language_defn): Update.\n\t* c-lang.c (c_language_defn, cplus_language_defn)\n\t(asm_language_defn, minimal_language_defn): Update.\n\t* ada-lang.c (ada_language_defn): Update.",
    "tree": {
      "sha": "ad488a86ece918a596682abee9dc414ad57fe2af",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/ad488a86ece918a596682abee9dc414ad57fe2af"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/2b4e573d62be3a59057895054b1b5faa67557ce6",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/2b4e573d62be3a59057895054b1b5faa67557ce6",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/2b4e573d62be3a59057895054b1b5faa67557ce6",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/2b4e573d62be3a59057895054b1b5faa67557ce6/comments",
  "author": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "a1f6a07c3d1d3a34d36d4e49f0fd3c66554e41b2",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/a1f6a07c3d1d3a34d36d4e49f0fd3c66554e41b2",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/a1f6a07c3d1d3a34d36d4e49f0fd3c66554e41b2"
    }
  ],
  "stats": {
    "total": 51,
    "additions": 48,
    "deletions": 3
  },
  "files": [
    {
      "sha": "acd5bf0ad69affd184f3032893e39cb7680376a7",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 19,
      "deletions": 0,
      "changes": 19,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2b4e573d62be3a59057895054b1b5faa67557ce6/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2b4e573d62be3a59057895054b1b5faa67557ce6/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=2b4e573d62be3a59057895054b1b5faa67557ce6",
      "patch": "@@ -1,3 +1,22 @@\n+2020-03-13  Tom Tromey  <tom@tromey.com>\n+\n+\t* valprint.c (do_val_print): Call la_value_print_inner, if\n+\tavailable.\n+\t* rust-lang.c (rust_language_defn): Update.\n+\t* p-lang.c (pascal_language_defn): Update.\n+\t* opencl-lang.c (opencl_language_defn): Update.\n+\t* objc-lang.c (objc_language_defn): Update.\n+\t* m2-lang.c (m2_language_defn): Update.\n+\t* language.h (struct language_defn) <la_value_print_inner>: New\n+\tmember.\n+\t* language.c (unknown_language_defn, auto_language_defn): Update.\n+\t* go-lang.c (go_language_defn): Update.\n+\t* f-lang.c (f_language_defn): Update.\n+\t* d-lang.c (d_language_defn): Update.\n+\t* c-lang.c (c_language_defn, cplus_language_defn)\n+\t(asm_language_defn, minimal_language_defn): Update.\n+\t* ada-lang.c (ada_language_defn): Update.\n+\n 2020-03-13  Tom Tromey  <tom@tromey.com>\n \n \t* c-valprint.c (c_value_print): Use common_val_print."
    },
    {
      "sha": "fb3bfa5aba9fc9fb74a864bfdcc7858c74ba4448",
      "filename": "gdb/ada-lang.c",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2b4e573d62be3a59057895054b1b5faa67557ce6/gdb/ada-lang.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2b4e573d62be3a59057895054b1b5faa67557ce6/gdb/ada-lang.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ada-lang.c?ref=2b4e573d62be3a59057895054b1b5faa67557ce6",
      "patch": "@@ -14110,6 +14110,7 @@ extern const struct language_defn ada_language_defn = {\n   ada_print_type,               /* Print a type using appropriate syntax */\n   ada_print_typedef,            /* Print a typedef using appropriate syntax */\n   ada_val_print,                /* Print a value using appropriate syntax */\n+  nullptr,\t\t\t/* la_value_print_inner */\n   ada_value_print,              /* Print a top-level value */\n   ada_read_var_value,\t\t/* la_read_var_value */\n   NULL,                         /* Language specific skip_trampoline */"
    },
    {
      "sha": "3526674b2e6c074b66b86b60467da0c9896742d9",
      "filename": "gdb/c-lang.c",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2b4e573d62be3a59057895054b1b5faa67557ce6/gdb/c-lang.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2b4e573d62be3a59057895054b1b5faa67557ce6/gdb/c-lang.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/c-lang.c?ref=2b4e573d62be3a59057895054b1b5faa67557ce6",
      "patch": "@@ -904,6 +904,7 @@ extern const struct language_defn c_language_defn =\n   c_print_type,\t\t\t/* Print a type using appropriate syntax */\n   c_print_typedef,\t\t/* Print a typedef using appropriate syntax */\n   c_val_print,\t\t\t/* Print a value using appropriate syntax */\n+  nullptr,\t\t\t/* la_value_print_inner */\n   c_value_print,\t\t/* Print a top-level value */\n   default_read_var_value,\t/* la_read_var_value */\n   NULL,\t\t\t\t/* Language specific skip_trampoline */\n@@ -1049,6 +1050,7 @@ extern const struct language_defn cplus_language_defn =\n   c_print_type,\t\t\t/* Print a type using appropriate syntax */\n   c_print_typedef,\t\t/* Print a typedef using appropriate syntax */\n   c_val_print,\t\t\t/* Print a value using appropriate syntax */\n+  nullptr,\t\t\t/* la_value_print_inner */\n   c_value_print,\t\t/* Print a top-level value */\n   default_read_var_value,\t/* la_read_var_value */\n   cplus_skip_trampoline,\t/* Language specific skip_trampoline */\n@@ -1103,6 +1105,7 @@ extern const struct language_defn asm_language_defn =\n   c_print_type,\t\t\t/* Print a type using appropriate syntax */\n   c_print_typedef,\t\t/* Print a typedef using appropriate syntax */\n   c_val_print,\t\t\t/* Print a value using appropriate syntax */\n+  nullptr,\t\t\t/* la_value_print_inner */\n   c_value_print,\t\t/* Print a top-level value */\n   default_read_var_value,\t/* la_read_var_value */\n   NULL,\t\t\t\t/* Language specific skip_trampoline */\n@@ -1157,6 +1160,7 @@ extern const struct language_defn minimal_language_defn =\n   c_print_type,\t\t\t/* Print a type using appropriate syntax */\n   c_print_typedef,\t\t/* Print a typedef using appropriate syntax */\n   c_val_print,\t\t\t/* Print a value using appropriate syntax */\n+  nullptr,\t\t\t/* la_value_print_inner */\n   c_value_print,\t\t/* Print a top-level value */\n   default_read_var_value,\t/* la_read_var_value */\n   NULL,\t\t\t\t/* Language specific skip_trampoline */"
    },
    {
      "sha": "71dc4c6feb24950d85ac2c23e5f75ba95daea352",
      "filename": "gdb/d-lang.c",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2b4e573d62be3a59057895054b1b5faa67557ce6/gdb/d-lang.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2b4e573d62be3a59057895054b1b5faa67557ce6/gdb/d-lang.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/d-lang.c?ref=2b4e573d62be3a59057895054b1b5faa67557ce6",
      "patch": "@@ -225,6 +225,7 @@ extern const struct language_defn d_language_defn =\n   c_print_typedef,\t\t/* Print a typedef using appropriate\n \t\t\t\t   syntax.  */\n   d_val_print,\t\t\t/* Print a value using appropriate syntax.  */\n+  nullptr,\t\t\t/* la_value_print_inner */\n   c_value_print,\t\t/* Print a top-level value.  */\n   default_read_var_value,\t/* la_read_var_value */\n   NULL,\t\t\t\t/* Language specific skip_trampoline.  */"
    },
    {
      "sha": "4f4e8aedc4155531f200f2689bd5a2094d549960",
      "filename": "gdb/f-lang.c",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2b4e573d62be3a59057895054b1b5faa67557ce6/gdb/f-lang.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2b4e573d62be3a59057895054b1b5faa67557ce6/gdb/f-lang.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/f-lang.c?ref=2b4e573d62be3a59057895054b1b5faa67557ce6",
      "patch": "@@ -647,6 +647,7 @@ extern const struct language_defn f_language_defn =\n   f_print_type,\t\t\t/* Print a type using appropriate syntax */\n   f_print_typedef,\t\t/* Print a typedef using appropriate syntax */\n   f_val_print,\t\t\t/* Print a value using appropriate syntax */\n+  nullptr,\t\t\t/* la_value_print_inner */\n   c_value_print,\t\t/* FIXME */\n   default_read_var_value,\t/* la_read_var_value */\n   NULL,\t\t\t\t/* Language specific skip_trampoline */"
    },
    {
      "sha": "314c281197290266e13f6c47a0f6647f4f71976d",
      "filename": "gdb/go-lang.c",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2b4e573d62be3a59057895054b1b5faa67557ce6/gdb/go-lang.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2b4e573d62be3a59057895054b1b5faa67557ce6/gdb/go-lang.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/go-lang.c?ref=2b4e573d62be3a59057895054b1b5faa67557ce6",
      "patch": "@@ -596,6 +596,7 @@ extern const struct language_defn go_language_defn =\n   c_print_typedef,\t\t/* Print a typedef using appropriate\n \t\t\t\t   syntax.  */\n   go_val_print,\t\t\t/* Print a value using appropriate syntax.  */\n+  nullptr,\t\t\t/* la_value_print_inner */\n   c_value_print,\t\t/* Print a top-level value.  */\n   default_read_var_value,\t/* la_read_var_value */\n   NULL,\t\t\t\t/* Language specific skip_trampoline.  */"
    },
    {
      "sha": "d1dfd2df92b580dbef427d39f374289cfd1d291e",
      "filename": "gdb/language.c",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2b4e573d62be3a59057895054b1b5faa67557ce6/gdb/language.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2b4e573d62be3a59057895054b1b5faa67557ce6/gdb/language.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/language.c?ref=2b4e573d62be3a59057895054b1b5faa67557ce6",
      "patch": "@@ -860,6 +860,7 @@ const struct language_defn unknown_language_defn =\n   unk_lang_print_type,\t\t/* Print a type using appropriate syntax */\n   default_print_typedef,\t/* Print a typedef using appropriate syntax */\n   unk_lang_val_print,\t\t/* Print a value using appropriate syntax */\n+  nullptr,\t\t\t/* la_value_print_inner */\n   unk_lang_value_print,\t\t/* Print a top-level value */\n   default_read_var_value,\t/* la_read_var_value */\n   unk_lang_trampoline,\t\t/* Language specific skip_trampoline */\n@@ -911,6 +912,7 @@ const struct language_defn auto_language_defn =\n   unk_lang_print_type,\t\t/* Print a type using appropriate syntax */\n   default_print_typedef,\t/* Print a typedef using appropriate syntax */\n   unk_lang_val_print,\t\t/* Print a value using appropriate syntax */\n+  nullptr,\t\t\t/* la_value_print_inner */\n   unk_lang_value_print,\t\t/* Print a top-level value */\n   default_read_var_value,\t/* la_read_var_value */\n   unk_lang_trampoline,\t\t/* Language specific skip_trampoline */"
    },
    {
      "sha": "c6d5496cde3c771638d4dedc78b0b88a14258e33",
      "filename": "gdb/language.h",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2b4e573d62be3a59057895054b1b5faa67557ce6/gdb/language.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2b4e573d62be3a59057895054b1b5faa67557ce6/gdb/language.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/language.h?ref=2b4e573d62be3a59057895054b1b5faa67557ce6",
      "patch": "@@ -272,6 +272,13 @@ struct language_defn\n \t\t\t  struct value *val,\n \t\t\t  const struct value_print_options *options);\n \n+    /* Print a value using syntax appropriate for this language.\n+       RECURSE is the recursion depth.  It is zero-based.  */\n+\n+    void (*la_value_print_inner) (struct value *, struct ui_file *,\n+\t\t\t\t  int recurse,\n+\t\t\t\t  const struct value_print_options *);\n+\n     /* Print a top-level value using syntax appropriate for this language.  */\n \n     void (*la_value_print) (struct value *, struct ui_file *,"
    },
    {
      "sha": "31c248d60e48e163606e48d9d45a5de26cad8127",
      "filename": "gdb/m2-lang.c",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2b4e573d62be3a59057895054b1b5faa67557ce6/gdb/m2-lang.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2b4e573d62be3a59057895054b1b5faa67557ce6/gdb/m2-lang.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/m2-lang.c?ref=2b4e573d62be3a59057895054b1b5faa67557ce6",
      "patch": "@@ -394,6 +394,7 @@ extern const struct language_defn m2_language_defn =\n   m2_print_type,\t\t/* Print a type using appropriate syntax */\n   m2_print_typedef,\t\t/* Print a typedef using appropriate syntax */\n   m2_val_print,\t\t\t/* Print a value using appropriate syntax */\n+  nullptr,\t\t\t/* la_value_print_inner */\n   c_value_print,\t\t/* Print a top-level value */\n   default_read_var_value,\t/* la_read_var_value */\n   NULL,\t\t\t\t/* Language specific skip_trampoline */"
    },
    {
      "sha": "c277dc909476c7751cc31c7939e83b243a9a40f2",
      "filename": "gdb/objc-lang.c",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2b4e573d62be3a59057895054b1b5faa67557ce6/gdb/objc-lang.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2b4e573d62be3a59057895054b1b5faa67557ce6/gdb/objc-lang.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/objc-lang.c?ref=2b4e573d62be3a59057895054b1b5faa67557ce6",
      "patch": "@@ -382,6 +382,7 @@ extern const struct language_defn objc_language_defn = {\n   c_print_type,\t\t\t/* Print a type using appropriate syntax */\n   c_print_typedef,\t\t/* Print a typedef using appropriate syntax */\n   c_val_print,\t\t\t/* Print a value using appropriate syntax */\n+  nullptr,\t\t\t/* la_value_print_inner */\n   c_value_print,\t\t/* Print a top-level value */\n   default_read_var_value,\t/* la_read_var_value */\n   objc_skip_trampoline, \t/* Language specific skip_trampoline */"
    },
    {
      "sha": "c4afa3a2cd3d8f0a07e6b6ff280cf5c4947a6d5c",
      "filename": "gdb/opencl-lang.c",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2b4e573d62be3a59057895054b1b5faa67557ce6/gdb/opencl-lang.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2b4e573d62be3a59057895054b1b5faa67557ce6/gdb/opencl-lang.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/opencl-lang.c?ref=2b4e573d62be3a59057895054b1b5faa67557ce6",
      "patch": "@@ -1061,6 +1061,7 @@ extern const struct language_defn opencl_language_defn =\n   opencl_print_type,\t\t/* Print a type using appropriate syntax */\n   c_print_typedef,\t\t/* Print a typedef using appropriate syntax */\n   c_val_print,\t\t\t/* Print a value using appropriate syntax */\n+  nullptr,\t\t\t/* la_value_print_inner */\n   c_value_print,\t\t/* Print a top-level value */\n   default_read_var_value,\t/* la_read_var_value */\n   NULL,\t\t\t\t/* Language specific skip_trampoline */"
    },
    {
      "sha": "bf74b800fb2c67f9cc5b670ed68dd017cde8deda",
      "filename": "gdb/p-lang.c",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2b4e573d62be3a59057895054b1b5faa67557ce6/gdb/p-lang.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2b4e573d62be3a59057895054b1b5faa67557ce6/gdb/p-lang.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/p-lang.c?ref=2b4e573d62be3a59057895054b1b5faa67557ce6",
      "patch": "@@ -448,6 +448,7 @@ extern const struct language_defn pascal_language_defn =\n   pascal_print_type,\t\t/* Print a type using appropriate syntax */\n   pascal_print_typedef,\t\t/* Print a typedef using appropriate syntax */\n   pascal_val_print,\t\t/* Print a value using appropriate syntax */\n+  nullptr,\t\t\t/* la_value_print_inner */\n   pascal_value_print,\t\t/* Print a top-level value */\n   default_read_var_value,\t/* la_read_var_value */\n   NULL,\t\t\t\t/* Language specific skip_trampoline */"
    },
    {
      "sha": "881698a47de4013bd58996729d578e12bbd50754",
      "filename": "gdb/rust-lang.c",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2b4e573d62be3a59057895054b1b5faa67557ce6/gdb/rust-lang.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2b4e573d62be3a59057895054b1b5faa67557ce6/gdb/rust-lang.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/rust-lang.c?ref=2b4e573d62be3a59057895054b1b5faa67557ce6",
      "patch": "@@ -2154,6 +2154,7 @@ extern const struct language_defn rust_language_defn =\n   rust_print_type,\t\t/* Print a type using appropriate syntax */\n   rust_print_typedef,\t\t/* Print a typedef using appropriate syntax */\n   rust_val_print,\t\t/* Print a value using appropriate syntax */\n+  nullptr,\t\t\t/* la_value_print_inner */\n   c_value_print,\t\t/* Print a top-level value */\n   default_read_var_value,\t/* la_read_var_value */\n   NULL,\t\t\t\t/* Language specific skip_trampoline */"
    },
    {
      "sha": "e0a3424feaea5ff57e2912da4d630ec89ee33f52",
      "filename": "gdb/valprint.c",
      "status": "modified",
      "additions": 7,
      "deletions": 3,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2b4e573d62be3a59057895054b1b5faa67557ce6/gdb/valprint.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2b4e573d62be3a59057895054b1b5faa67557ce6/gdb/valprint.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/valprint.c?ref=2b4e573d62be3a59057895054b1b5faa67557ce6",
      "patch": "@@ -1092,9 +1092,13 @@ do_val_print (struct value *full_value,\n \n   try\n     {\n-      language->la_val_print (type, embedded_offset, address,\n-\t\t\t      stream, recurse, val,\n-\t\t\t      &local_opts);\n+      if (full_value != nullptr && language->la_value_print_inner != nullptr)\n+\tlanguage->la_value_print_inner (full_value, stream, recurse,\n+\t\t\t\t\t&local_opts);\n+      else\n+\tlanguage->la_val_print (type, embedded_offset, address,\n+\t\t\t\tstream, recurse, val,\n+\t\t\t\t&local_opts);\n     }\n   catch (const gdb_exception_error &except)\n     {"
    }
  ]
}