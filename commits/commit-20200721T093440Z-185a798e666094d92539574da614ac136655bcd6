{
  "sha": "185a798e666094d92539574da614ac136655bcd6",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MTg1YTc5OGU2NjYwOTRkOTI1Mzk1NzRkYTYxNGFjMTM2NjU1YmNkNg==",
  "commit": {
    "author": {
      "name": "Jan Beulich",
      "email": "jbeulich@suse.com",
      "date": "2020-07-21T09:34:40Z"
    },
    "committer": {
      "name": "Jan Beulich",
      "email": "jbeulich@suse.com",
      "date": "2020-07-21T09:34:40Z"
    },
    "message": "Revert \"x86: Replace evex-no-scale.s with evex-no-scale-[32|64].s\"\n\nThis reverts commit 19449d7c67690c641b1ec9c13ff3531677a5afcc, addressing\nthe issue that was run into back then: There was no relationship to i686-*\nand/or cross builds on 64-bit hosts. The sole problem was the use of / as\nas comment character in certain ELF targets. Instead of division, use a\ncomparison operation.\n\nAt the same time also revert the ELF related part of 99c2d522f7a7 (\"x86:\nUpdate assembler tests for non-ELF targets\") by replacing the construct\nthat's problematic for non-ELF, and by adding the \"#pass\" patterns to\nthe expected output files to cover for the tail padding generated into\nCOFF output.",
    "tree": {
      "sha": "e66595a7d7462268d80faeb5d807d4fe9638496d",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/e66595a7d7462268d80faeb5d807d4fe9638496d"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/185a798e666094d92539574da614ac136655bcd6",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/185a798e666094d92539574da614ac136655bcd6",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/185a798e666094d92539574da614ac136655bcd6",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/185a798e666094d92539574da614ac136655bcd6/comments",
  "author": {
    "login": "jbeulich",
    "id": 5610135,
    "node_id": "MDQ6VXNlcjU2MTAxMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5610135?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jbeulich",
    "html_url": "https://github.com/jbeulich",
    "followers_url": "https://api.github.com/users/jbeulich/followers",
    "following_url": "https://api.github.com/users/jbeulich/following{/other_user}",
    "gists_url": "https://api.github.com/users/jbeulich/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jbeulich/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jbeulich/subscriptions",
    "organizations_url": "https://api.github.com/users/jbeulich/orgs",
    "repos_url": "https://api.github.com/users/jbeulich/repos",
    "events_url": "https://api.github.com/users/jbeulich/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jbeulich/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "jbeulich",
    "id": 5610135,
    "node_id": "MDQ6VXNlcjU2MTAxMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5610135?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jbeulich",
    "html_url": "https://github.com/jbeulich",
    "followers_url": "https://api.github.com/users/jbeulich/followers",
    "following_url": "https://api.github.com/users/jbeulich/following{/other_user}",
    "gists_url": "https://api.github.com/users/jbeulich/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jbeulich/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jbeulich/subscriptions",
    "organizations_url": "https://api.github.com/users/jbeulich/orgs",
    "repos_url": "https://api.github.com/users/jbeulich/repos",
    "events_url": "https://api.github.com/users/jbeulich/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jbeulich/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "f0f9e75a824dcd0053ae4e8f9aaf8056aa1a8bc5",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/f0f9e75a824dcd0053ae4e8f9aaf8056aa1a8bc5",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/f0f9e75a824dcd0053ae4e8f9aaf8056aa1a8bc5"
    }
  ],
  "stats": {
    "total": 35,
    "additions": 26,
    "deletions": 9
  },
  "files": [
    {
      "sha": "ef6fc5a3ed63a89dada20af66442eed7e5012bf6",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 11,
      "deletions": 0,
      "changes": 11,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/185a798e666094d92539574da614ac136655bcd6/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/185a798e666094d92539574da614ac136655bcd6/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=185a798e666094d92539574da614ac136655bcd6",
      "patch": "@@ -1,3 +1,14 @@\n+2020-07-21  Jan Beulich  <jbeulich@suse.com>\n+\n+\t* testsuite/gas/i386/evex-no-scale-32.d,\n+\ttestsuite/gas/i386/evex-no-scale-64.d: Add #source and #pass.\n+\t* testsuite/gas/i386/evex-no-scale-32.s,\n+\ttestsuite/gas/i386/evex-no-scale-64.s: Rename / fold into ...\n+\t* testsuite/gas/i386/evex-no-scale.s: ... this. Use .struct\n+\tinstead of .section.\n+\t* testsuite/gas/i386/i386.exp: Move above tests out of ELF-\n+\tspecific section.\n+\n 2020-07-21  Maciej W. Rozycki  <macro@linux-mips.org>\n \n \t* config/tc-mips.c (prev_reloc_op_frag): Remove variable."
    },
    {
      "sha": "77ee15e636dfc287809d734a13143dd3bda7e702",
      "filename": "gas/testsuite/gas/i386/evex-no-scale-32.d",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/185a798e666094d92539574da614ac136655bcd6/gas/testsuite/gas/i386/evex-no-scale-32.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/185a798e666094d92539574da614ac136655bcd6/gas/testsuite/gas/i386/evex-no-scale-32.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/evex-no-scale-32.d?ref=185a798e666094d92539574da614ac136655bcd6",
      "patch": "@@ -1,3 +1,4 @@\n+#source: evex-no-scale.s\n #objdump: -dw\n #name: ix86 EVEX no disp scaling\n \n@@ -10,3 +11,4 @@ Disassembly of section .text:\n  +[a-f0-9]+:\t62 f1 7c 48 28 04 25 40 00 00 00 \tvmovaps 0x40\\(,%eiz,1\\),%zmm0\n  +[a-f0-9]+:\t62 f1 7c 48 28 05 40 00 00 00 \tvmovaps 0x40,%zmm0\n  +[a-f0-9]+:\t67 62 f1 7c 48 28 06 40 00 \tvmovaps 0x40,%zmm0\n+#pass"
    },
    {
      "sha": "e28c73f2a36a825cc2132941c1bb24e3f953069c",
      "filename": "gas/testsuite/gas/i386/evex-no-scale-32.s",
      "status": "removed",
      "additions": 0,
      "deletions": 7,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f0f9e75a824dcd0053ae4e8f9aaf8056aa1a8bc5/gas/testsuite/gas/i386/evex-no-scale-32.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f0f9e75a824dcd0053ae4e8f9aaf8056aa1a8bc5/gas/testsuite/gas/i386/evex-no-scale-32.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/evex-no-scale-32.s?ref=f0f9e75a824dcd0053ae4e8f9aaf8056aa1a8bc5",
      "patch": "@@ -1,7 +0,0 @@\n-\t.allow_index_reg\n-\t.text\n-disp:\n-\tvmovaps\t64(,%eax), %zmm0\n-\tvmovaps\t64(,%eiz), %zmm0\n-\tvmovaps\t64, %zmm0\n-\taddr16 vmovaps 64, %zmm0"
    },
    {
      "sha": "d9f5afaf2fee3c00bafa77be7a08546bfc73d25c",
      "filename": "gas/testsuite/gas/i386/evex-no-scale-64.d",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/185a798e666094d92539574da614ac136655bcd6/gas/testsuite/gas/i386/evex-no-scale-64.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/185a798e666094d92539574da614ac136655bcd6/gas/testsuite/gas/i386/evex-no-scale-64.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/evex-no-scale-64.d?ref=185a798e666094d92539574da614ac136655bcd6",
      "patch": "@@ -1,3 +1,4 @@\n+#source: evex-no-scale.s\n #objdump: -dw\n #name: x86-64 EVEX no disp scaling\n \n@@ -12,3 +13,4 @@ Disassembly of section .text:\n  +[a-f0-9]+:\t67 62 f1 7c 48 28 04 05 40 00 00 00 \tvmovaps 0x40\\(,%eax,1\\),%zmm0\n  +[a-f0-9]+:\t67 62 f1 7c 48 28 04 25 40 00 00 00 \tvmovaps 0x40,%zmm0\n  +[a-f0-9]+:\t62 f1 7c 48 28 04 25 40 00 00 00 \tvmovaps 0x40,%zmm0\n+#pass"
    },
    {
      "sha": "30edaad0e9202e3791a37de16a0bae8a9b93155e",
      "filename": "gas/testsuite/gas/i386/evex-no-scale.s",
      "status": "renamed",
      "additions": 9,
      "deletions": 0,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/185a798e666094d92539574da614ac136655bcd6/gas/testsuite/gas/i386/evex-no-scale.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/185a798e666094d92539574da614ac136655bcd6/gas/testsuite/gas/i386/evex-no-scale.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/evex-no-scale.s?ref=185a798e666094d92539574da614ac136655bcd6",
      "patch": "@@ -1,9 +1,18 @@\n \t.allow_index_reg\n+\t.struct\n+\tinc\t%eax\n+.equiv is_64bit, . > 1\n+\n \t.text\n disp:\n+.if is_64bit\n \tvmovaps\t-1024(%rip), %zmm0\n \tvmovaps\t64(,%rax), %zmm0\n \tvmovaps\t64(,%riz), %zmm0\n+.endif\n \tvmovaps\t64(,%eax), %zmm0\n \tvmovaps\t64(,%eiz), %zmm0\n \tvmovaps\t64, %zmm0\n+.if !is_64bit\n+\taddr16 vmovaps 64, %zmm0\n+.endif",
      "previous_filename": "gas/testsuite/gas/i386/evex-no-scale-64.s"
    },
    {
      "sha": "0ac9c1f129b1b2eefd2f9f00fbd0e5346165c8d5",
      "filename": "gas/testsuite/gas/i386/i386.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/185a798e666094d92539574da614ac136655bcd6/gas/testsuite/gas/i386/i386.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/185a798e666094d92539574da614ac136655bcd6/gas/testsuite/gas/i386/i386.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/i386.exp?ref=185a798e666094d92539574da614ac136655bcd6",
      "patch": "@@ -256,6 +256,7 @@ if [expr ([istarget \"i*86-*-*\"] ||  [istarget \"x86_64-*-*\"]) && [gas_32_check]]\n     run_dump_test \"evex-lig-2\"\n     run_dump_test \"evex-wig1\"\n     run_dump_test \"evex-wig1-intel\"\n+    run_dump_test \"evex-no-scale-32\"\n     run_dump_test \"sse2avx\"\n     run_list_test \"inval-avx\" \"-al\"\n     run_list_test \"inval-avx512f\" \"-al\"\n@@ -624,7 +625,6 @@ if [expr ([istarget \"i*86-*-*\"] ||  [istarget \"x86_64-*-*\"]) && [gas_32_check]]\n \trun_dump_test \"nop-6\"\n \trun_dump_test \"unique\"\n \n-\trun_dump_test \"evex-no-scale-32\"\n \trun_dump_test \"property-1\"\n \trun_dump_test \"property-2\"\n \trun_dump_test \"property-3\"\n@@ -876,6 +876,7 @@ if [expr ([istarget \"i*86-*-*\"] || [istarget \"x86_64-*-*\"]) && [gas_64_check]] t\n     run_dump_test \"x86-64-evex-wig1\"\n     run_dump_test \"x86-64-evex-wig1-intel\"\n     run_dump_test \"x86-64-evex-wig2\"\n+    run_dump_test \"evex-no-scale-64\"\n     run_dump_test \"x86-64-sse2avx\"\n     run_list_test \"x86-64-inval-avx\" \"-al\"\n     run_list_test \"x86-64-inval-avx512f\" \"-al\"\n@@ -1228,7 +1229,6 @@ if [expr ([istarget \"i*86-*-*\"] || [istarget \"x86_64-*-*\"]) && [gas_64_check]] t\n \trun_dump_test \"x86-64-nop-6\"\n \trun_dump_test \"x86-64-unique\"\n \n-\trun_dump_test \"evex-no-scale-64\"\n \trun_dump_test \"x86-64-property-1\"\n \trun_dump_test \"x86-64-property-2\"\n \trun_dump_test \"x86-64-property-3\""
    }
  ]
}