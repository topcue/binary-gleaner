{
  "sha": "9184ef8a92371746d0f36580adf2ad6845f1ced3",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6OTE4NGVmOGE5MjM3MTc0NmQwZjM2NTgwYWRmMmFkNjg0NWYxY2VkMw==",
  "commit": {
    "author": {
      "name": "Nelson Chu",
      "email": "nelson.chu@sifive.com",
      "date": "2020-08-19T03:49:24Z"
    },
    "committer": {
      "name": "Nelson Chu",
      "email": "nelson.chu@sifive.com",
      "date": "2020-09-03T03:12:02Z"
    },
    "message": "RISC-V: Minor cleanup and typos when merging elf attributes.\n\n\tbfd/\n\t* elfnn-riscv.c (riscv_i_or_e_p): Minor cleanup for warnings/errors.\n\t(riscv_merge_std_ext): Likewise.\n\t(riscv_merge_arch_attr_info): Likewise.\n\t(riscv_merge_attributes): Likewise and fix comment typos.\n\n\tld/\n\t* testsuite/ld-riscv-elf/attr-merge-priv-spec-failed-01.d: Remove\n\tthe useless `warnings` keywords.\n\t* testsuite/ld-riscv-elf/attr-merge-priv-spec-failed-02.d: Likewise.\n\t* testsuite/ld-riscv-elf/attr-merge-priv-spec-failed-03.d: Likewise.\n\t* testsuite/ld-riscv-elf/attr-merge-priv-spec-failed-04.d: Likewise.\n\t* testsuite/ld-riscv-elf/attr-merge-priv-spec-failed-05.d: Likewise.\n\t* testsuite/ld-riscv-elf/attr-merge-priv-spec-failed-06.d: Likewise.",
    "tree": {
      "sha": "90ba667de441c9cb945525db043b0e802b4b174c",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/90ba667de441c9cb945525db043b0e802b4b174c"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/9184ef8a92371746d0f36580adf2ad6845f1ced3",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/9184ef8a92371746d0f36580adf2ad6845f1ced3",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/9184ef8a92371746d0f36580adf2ad6845f1ced3",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/9184ef8a92371746d0f36580adf2ad6845f1ced3/comments",
  "author": null,
  "committer": null,
  "parents": [
    {
      "sha": "32f0ce4db98eb1e8e1cc326d3a22ef0c436ae6fe",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/32f0ce4db98eb1e8e1cc326d3a22ef0c436ae6fe",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/32f0ce4db98eb1e8e1cc326d3a22ef0c436ae6fe"
    }
  ],
  "stats": {
    "total": 65,
    "additions": 41,
    "deletions": 24
  },
  "files": [
    {
      "sha": "2dc5b542fb121c035078afff76935f4ee71a0900",
      "filename": "bfd/ChangeLog",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/9184ef8a92371746d0f36580adf2ad6845f1ced3/bfd/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/9184ef8a92371746d0f36580adf2ad6845f1ced3/bfd/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/ChangeLog?ref=9184ef8a92371746d0f36580adf2ad6845f1ced3",
      "patch": "@@ -1,3 +1,10 @@\n+2020-09-03  Nelson Chu  <nelson.chu@sifive.com>\n+\n+\t* elfnn-riscv.c (riscv_i_or_e_p): Minor cleanup for warnings/errors.\n+\t(riscv_merge_std_ext): Likewise.\n+\t(riscv_merge_arch_attr_info): Likewise.\n+\t(riscv_merge_attributes): Likewise and fix comment typos.\n+\n 2020-09-03  Nelson Chu  <nelson.chu@sifive.com>\n \n \t* elfnn-riscv.c (riscv_version_mismatch): Change the return type"
    },
    {
      "sha": "c08827873cdf76765e083b19479cd1145b109356",
      "filename": "bfd/elfnn-riscv.c",
      "status": "modified",
      "additions": 12,
      "deletions": 12,
      "changes": 24,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/9184ef8a92371746d0f36580adf2ad6845f1ced3/bfd/elfnn-riscv.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/9184ef8a92371746d0f36580adf2ad6845f1ced3/bfd/elfnn-riscv.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/elfnn-riscv.c?ref=9184ef8a92371746d0f36580adf2ad6845f1ced3",
      "patch": "@@ -2667,8 +2667,8 @@ riscv_i_or_e_p (bfd *ibfd,\n       && (strcasecmp (subset->name, \"i\") != 0))\n     {\n       _bfd_error_handler\n-\t(_(\"error: %pB: corrupted ISA string '%s'. \"\n-\t   \"First letter should be 'i' or 'e' but got '%s'.\"),\n+\t(_(\"error: %pB: corrupted ISA string '%s'.  \"\n+\t   \"First letter should be 'i' or 'e' but got '%s'\"),\n \t   ibfd, arch, subset->name);\n       return FALSE;\n     }\n@@ -2711,7 +2711,7 @@ riscv_merge_std_ext (bfd *ibfd,\n     {\n       /* TODO: We might allow merge 'i' with 'e'.  */\n       _bfd_error_handler\n-\t(_(\"error: %pB: Mis-matched ISA string to merge '%s' and '%s'.\"),\n+\t(_(\"error: %pB: mis-matched ISA string to merge '%s' and '%s'\"),\n \t ibfd, in->name, out->name);\n       return FALSE;\n     }\n@@ -2897,7 +2897,7 @@ riscv_merge_arch_attr_info (bfd *ibfd, char *in_arch, char *out_arch)\n     {\n       _bfd_error_handler\n \t(_(\"error: %pB: ISA string of input (%s) doesn't match \"\n-\t   \"output (%s).\"), ibfd, in_arch, out_arch);\n+\t   \"output (%s)\"), ibfd, in_arch, out_arch);\n       return NULL;\n     }\n \n@@ -2917,15 +2917,15 @@ riscv_merge_arch_attr_info (bfd *ibfd, char *in_arch, char *out_arch)\n     {\n       _bfd_error_handler\n \t(_(\"error: %pB: XLEN of input (%u) doesn't match \"\n-\t   \"output (%u).\"), ibfd, xlen_in, xlen_out);\n+\t   \"output (%u)\"), ibfd, xlen_in, xlen_out);\n       return NULL;\n     }\n \n   if (xlen_in != ARCH_SIZE)\n     {\n       _bfd_error_handler\n-\t(_(\"error: %pB: Unsupported XLEN (%u), you might be \"\n-\t   \"using wrong emulation.\"), ibfd, xlen_in);\n+\t(_(\"error: %pB: unsupported XLEN (%u), you might be \"\n+\t   \"using wrong emulation\"), ibfd, xlen_in);\n       return NULL;\n     }\n \n@@ -3039,7 +3039,7 @@ riscv_merge_attributes (bfd *ibfd, struct bfd_link_info *info)\n \t      {\n \t\t_bfd_error_handler\n \t\t  (_(\"warning: %pB use privilege spec version %u.%u.%u but \"\n-\t\t     \"the output use version %u.%u.%u.\"),\n+\t\t     \"the output use version %u.%u.%u\"),\n \t\t   ibfd,\n \t\t   in_attr[Tag_a].i,\n \t\t   in_attr[Tag_b].i,\n@@ -3048,7 +3048,7 @@ riscv_merge_attributes (bfd *ibfd, struct bfd_link_info *info)\n \t\t   out_attr[Tag_b].i,\n \t\t   out_attr[Tag_c].i);\n \n-\t\t/* The priv spec v1.9.1 can be linked with other spec\n+\t\t/* The priv spec v1.9.1 can not be linked with other spec\n \t\t   versions since the conflicts.  We plan to drop the\n \t\t   v1.9.1 in a year or two, so this confict should be\n \t\t   removed in the future.  */\n@@ -3057,10 +3057,10 @@ riscv_merge_attributes (bfd *ibfd, struct bfd_link_info *info)\n \t\t  {\n \t\t    _bfd_error_handler\n \t\t      (_(\"warning: privilege spec version 1.9.1 can not be \"\n-\t\t\t \"linked with other spec versions.\"));\n+\t\t\t \"linked with other spec versions\"));\n \t\t  }\n \n-\t\t/* Update the output priv attributes to the newest.  */\n+\t\t/* Update the output priv spec to the newest one.  */\n \t\tif (in_priv_spec > out_priv_spec)\n \t\t  {\n \t\t    out_attr[Tag_a].i = in_attr[Tag_a].i;\n@@ -3085,7 +3085,7 @@ riscv_merge_attributes (bfd *ibfd, struct bfd_link_info *info)\n \t  {\n \t    _bfd_error_handler\n \t      (_(\"error: %pB use %u-byte stack aligned but the output \"\n-\t\t \"use %u-byte stack aligned.\"),\n+\t\t \"use %u-byte stack aligned\"),\n \t       ibfd, in_attr[i].i, out_attr[i].i);\n \t    result = FALSE;\n \t  }"
    },
    {
      "sha": "261390a94f8a3239b272cf284cefaba51de84532",
      "filename": "ld/ChangeLog",
      "status": "modified",
      "additions": 10,
      "deletions": 0,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/9184ef8a92371746d0f36580adf2ad6845f1ced3/ld/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/9184ef8a92371746d0f36580adf2ad6845f1ced3/ld/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/ChangeLog?ref=9184ef8a92371746d0f36580adf2ad6845f1ced3",
      "patch": "@@ -1,3 +1,13 @@\n+2020-09-03  Nelson Chu  <nelson.chu@sifive.com>\n+\n+\t* testsuite/ld-riscv-elf/attr-merge-priv-spec-failed-01.d: Remove\n+\tthe useless `warnings` keywords.\n+\t* testsuite/ld-riscv-elf/attr-merge-priv-spec-failed-02.d: Likewise.\n+\t* testsuite/ld-riscv-elf/attr-merge-priv-spec-failed-03.d: Likewise.\n+\t* testsuite/ld-riscv-elf/attr-merge-priv-spec-failed-04.d: Likewise.\n+\t* testsuite/ld-riscv-elf/attr-merge-priv-spec-failed-05.d: Likewise.\n+\t* testsuite/ld-riscv-elf/attr-merge-priv-spec-failed-06.d: Likewise.\n+\n 2020-09-03  Nelson Chu  <nelson.chu@sifive.com>\n \n \t* testsuite/ld-riscv-elf/attr-merge-arch-failed-01.d: Update the"
    },
    {
      "sha": "f3e2f2ae0703efbd39b10426af2f6a22186ff827",
      "filename": "ld/testsuite/ld-riscv-elf/attr-merge-priv-spec-failed-01.d",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/9184ef8a92371746d0f36580adf2ad6845f1ced3/ld/testsuite/ld-riscv-elf/attr-merge-priv-spec-failed-01.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/9184ef8a92371746d0f36580adf2ad6845f1ced3/ld/testsuite/ld-riscv-elf/attr-merge-priv-spec-failed-01.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-riscv-elf/attr-merge-priv-spec-failed-01.d?ref=9184ef8a92371746d0f36580adf2ad6845f1ced3",
      "patch": "@@ -2,8 +2,8 @@\n #source: attr-merge-priv-spec-c.s\n #as:\n #ld: -r\n-#warning: .*warning: .*use privilege spec version 1.11.0 but the output use version 1.9.1.\n-#warning: .*warning: .*privilege spec version 1.9.1 can not be linked with other spec versions.\n+#warning: .*use privilege spec version 1.11.0 but the output use version 1.9.1\n+#warning: .*privilege spec version 1.9.1 can not be linked with other spec versions\n #readelf: -A\n \n Attribute Section: riscv"
    },
    {
      "sha": "9e98809b53369b6669a5950e45140dc94a75d149",
      "filename": "ld/testsuite/ld-riscv-elf/attr-merge-priv-spec-failed-02.d",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/9184ef8a92371746d0f36580adf2ad6845f1ced3/ld/testsuite/ld-riscv-elf/attr-merge-priv-spec-failed-02.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/9184ef8a92371746d0f36580adf2ad6845f1ced3/ld/testsuite/ld-riscv-elf/attr-merge-priv-spec-failed-02.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-riscv-elf/attr-merge-priv-spec-failed-02.d?ref=9184ef8a92371746d0f36580adf2ad6845f1ced3",
      "patch": "@@ -2,8 +2,8 @@\n #source: attr-merge-priv-spec-a.s\n #as:\n #ld: -r\n-#warning: .*warning: .*use privilege spec version 1.9.1 but the output use version 1.11.0.\n-#warning: .*warning: .*privilege spec version 1.9.1 can not be linked with other spec versions.\n+#warning: .*use privilege spec version 1.9.1 but the output use version 1.11.0\n+#warning: .*privilege spec version 1.9.1 can not be linked with other spec versions\n #readelf: -A\n \n Attribute Section: riscv"
    },
    {
      "sha": "05dffda2471814172d06fa4d0fe4c21368558fd4",
      "filename": "ld/testsuite/ld-riscv-elf/attr-merge-priv-spec-failed-03.d",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/9184ef8a92371746d0f36580adf2ad6845f1ced3/ld/testsuite/ld-riscv-elf/attr-merge-priv-spec-failed-03.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/9184ef8a92371746d0f36580adf2ad6845f1ced3/ld/testsuite/ld-riscv-elf/attr-merge-priv-spec-failed-03.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-riscv-elf/attr-merge-priv-spec-failed-03.d?ref=9184ef8a92371746d0f36580adf2ad6845f1ced3",
      "patch": "@@ -3,8 +3,8 @@\n #source: attr-merge-priv-spec-c.s\n #as:\n #ld: -r\n-#warning: .*warning: .*use privilege spec version 1.11.0 but the output use version 1.9.1.\n-#warning: .*warning: .*privilege spec version 1.9.1 can not be linked with other spec versions.\n+#warning: .*use privilege spec version 1.11.0 but the output use version 1.9.1\n+#warning: .*privilege spec version 1.9.1 can not be linked with other spec versions\n #readelf: -A\n \n Attribute Section: riscv"
    },
    {
      "sha": "ff10f3f65c81bb6365e0f85fcac5c2ba265d192f",
      "filename": "ld/testsuite/ld-riscv-elf/attr-merge-priv-spec-failed-04.d",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/9184ef8a92371746d0f36580adf2ad6845f1ced3/ld/testsuite/ld-riscv-elf/attr-merge-priv-spec-failed-04.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/9184ef8a92371746d0f36580adf2ad6845f1ced3/ld/testsuite/ld-riscv-elf/attr-merge-priv-spec-failed-04.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-riscv-elf/attr-merge-priv-spec-failed-04.d?ref=9184ef8a92371746d0f36580adf2ad6845f1ced3",
      "patch": "@@ -3,8 +3,8 @@\n #source: attr-merge-priv-spec-c.s\n #as:\n #ld: -r\n-#warning: .*warning: .*use privilege spec version 1.11.0 but the output use version 1.9.1.\n-#warning: .*warning: .*privilege spec version 1.9.1 can not be linked with other spec versions.\n+#warning: .*use privilege spec version 1.11.0 but the output use version 1.9.1\n+#warning: .*privilege spec version 1.9.1 can not be linked with other spec versions\n #readelf: -A\n \n Attribute Section: riscv"
    },
    {
      "sha": "7c1cc56b6fef868bc84519393ad0089090cfec52",
      "filename": "ld/testsuite/ld-riscv-elf/attr-merge-priv-spec-failed-05.d",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/9184ef8a92371746d0f36580adf2ad6845f1ced3/ld/testsuite/ld-riscv-elf/attr-merge-priv-spec-failed-05.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/9184ef8a92371746d0f36580adf2ad6845f1ced3/ld/testsuite/ld-riscv-elf/attr-merge-priv-spec-failed-05.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-riscv-elf/attr-merge-priv-spec-failed-05.d?ref=9184ef8a92371746d0f36580adf2ad6845f1ced3",
      "patch": "@@ -3,8 +3,8 @@\n #source: attr-merge-priv-spec-a.s\n #as:\n #ld: -r\n-#warning: .*warning: .*use privilege spec version 1.9.1 but the output use version 1.11.0.\n-#warning: .*warning: .*privilege spec version 1.9.1 can not be linked with other spec versions.\n+#warning: .*use privilege spec version 1.9.1 but the output use version 1.11.0\n+#warning: .*privilege spec version 1.9.1 can not be linked with other spec versions\n #readelf: -A\n \n Attribute Section: riscv"
    },
    {
      "sha": "1a81538fe9dc16d1fcbf832dc00d7104c3aa9e37",
      "filename": "ld/testsuite/ld-riscv-elf/attr-merge-priv-spec-failed-06.d",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/9184ef8a92371746d0f36580adf2ad6845f1ced3/ld/testsuite/ld-riscv-elf/attr-merge-priv-spec-failed-06.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/9184ef8a92371746d0f36580adf2ad6845f1ced3/ld/testsuite/ld-riscv-elf/attr-merge-priv-spec-failed-06.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-riscv-elf/attr-merge-priv-spec-failed-06.d?ref=9184ef8a92371746d0f36580adf2ad6845f1ced3",
      "patch": "@@ -3,8 +3,8 @@\n #source: attr-merge-priv-spec-a.s\n #as:\n #ld: -r\n-#warning: .*warning: .*use privilege spec version 1.9.1 but the output use version 1.11.0.\n-#warning: .*warning: .*privilege spec version 1.9.1 can not be linked with other spec versions.\n+#warning: .*use privilege spec version 1.9.1 but the output use version 1.11.0\n+#warning: .*privilege spec version 1.9.1 can not be linked with other spec versions\n #readelf: -A\n \n Attribute Section: riscv"
    }
  ]
}