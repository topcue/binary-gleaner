{
  "sha": "6a25e8a290eb5453d1464f68889c9c9a1084191a",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NmEyNWU4YTI5MGViNTQ1M2QxNDY0ZjY4ODg5YzljOWExMDg0MTkxYQ==",
  "commit": {
    "author": {
      "name": "Christian Biesinger",
      "email": "cbiesinger@google.com",
      "date": "2019-10-07T22:38:51Z"
    },
    "committer": {
      "name": "Christian Biesinger",
      "email": "cbiesinger@google.com",
      "date": "2019-10-09T18:18:47Z"
    },
    "message": "Mark guile_{extension_,}script_ops as static\n\nThis makes it clearer that the structs are only used in this file. It\nrequired moving the definition of extension_language_guile further\ndown in the file, because static structs can't be forward-declared.\n\ngdb/ChangeLog:\n\n2019-10-09  Christian Biesinger  <cbiesinger@google.com>\n\n\t* guile/guile.c (guile_extension_script_ops): Remove forward\n\tdeclaration and mark as static.\n\t(guile_script_ops): Likewise.\n\t(extension_language_guile): Move further down in the file so\n\tit can reference the definitions for guile_{extension_,}script_ops.",
    "tree": {
      "sha": "d3a1dddce41ebad50186d29529e863e11a49d9f3",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/d3a1dddce41ebad50186d29529e863e11a49d9f3"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/6a25e8a290eb5453d1464f68889c9c9a1084191a",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/6a25e8a290eb5453d1464f68889c9c9a1084191a",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/6a25e8a290eb5453d1464f68889c9c9a1084191a",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/6a25e8a290eb5453d1464f68889c9c9a1084191a/comments",
  "author": {
    "login": "cbiesinger",
    "id": 1483109,
    "node_id": "MDQ6VXNlcjE0ODMxMDk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1483109?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cbiesinger",
    "html_url": "https://github.com/cbiesinger",
    "followers_url": "https://api.github.com/users/cbiesinger/followers",
    "following_url": "https://api.github.com/users/cbiesinger/following{/other_user}",
    "gists_url": "https://api.github.com/users/cbiesinger/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cbiesinger/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cbiesinger/subscriptions",
    "organizations_url": "https://api.github.com/users/cbiesinger/orgs",
    "repos_url": "https://api.github.com/users/cbiesinger/repos",
    "events_url": "https://api.github.com/users/cbiesinger/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cbiesinger/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "cbiesinger",
    "id": 1483109,
    "node_id": "MDQ6VXNlcjE0ODMxMDk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1483109?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cbiesinger",
    "html_url": "https://github.com/cbiesinger",
    "followers_url": "https://api.github.com/users/cbiesinger/followers",
    "following_url": "https://api.github.com/users/cbiesinger/following{/other_user}",
    "gists_url": "https://api.github.com/users/cbiesinger/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cbiesinger/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cbiesinger/subscriptions",
    "organizations_url": "https://api.github.com/users/cbiesinger/orgs",
    "repos_url": "https://api.github.com/users/cbiesinger/repos",
    "events_url": "https://api.github.com/users/cbiesinger/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cbiesinger/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "1d3787499d6edd07b30f3fc7b26962a1c695b8a4",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/1d3787499d6edd07b30f3fc7b26962a1c695b8a4",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/1d3787499d6edd07b30f3fc7b26962a1c695b8a4"
    }
  ],
  "stats": {
    "total": 63,
    "additions": 34,
    "deletions": 29
  },
  "files": [
    {
      "sha": "2a39ab29b5ab2f14efbe3effa9ba0d1494131cea",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6a25e8a290eb5453d1464f68889c9c9a1084191a/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6a25e8a290eb5453d1464f68889c9c9a1084191a/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=6a25e8a290eb5453d1464f68889c9c9a1084191a",
      "patch": "@@ -1,3 +1,11 @@\n+2019-10-09  Christian Biesinger  <cbiesinger@google.com>\n+\n+\t* guile/guile.c (guile_extension_script_ops): Remove forward\n+\tdeclaration and mark as static.\n+\t(guile_script_ops): Likewise.\n+\t(extension_language_guile): Move further down in the file so\n+\tit can reference the definitions for guile_{extension_,}script_ops.\n+\n 2019-10-09  Andreas Arnez  <arnez@linux.ibm.com>\n \n \t* s390-tdep.c (390_process_record): Handle new arch13 instructions"
    },
    {
      "sha": "55929f4455177ba443d03fe50fdf7a4d7f7a643d",
      "filename": "gdb/guile/guile.c",
      "status": "modified",
      "additions": 26,
      "deletions": 29,
      "changes": 55,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6a25e8a290eb5453d1464f68889c9c9a1084191a/gdb/guile/guile.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6a25e8a290eb5453d1464f68889c9c9a1084191a/gdb/guile/guile.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/guile/guile.c?ref=6a25e8a290eb5453d1464f68889c9c9a1084191a",
      "patch": "@@ -71,33 +71,6 @@ static const char *const guile_print_excp_enums[] =\n    the default.  */\n const char *gdbscm_print_excp = gdbscm_print_excp_message;\n \n-#ifdef HAVE_GUILE\n-/* Forward decls, these are defined later.  */\n-extern const struct extension_language_script_ops guile_extension_script_ops;\n-extern const struct extension_language_ops guile_extension_ops;\n-#endif\n-\n-/* The main struct describing GDB's interface to the Guile\n-   extension language.  */\n-extern const struct extension_language_defn extension_language_guile =\n-{\n-  EXT_LANG_GUILE,\n-  \"guile\",\n-  \"Guile\",\n-\n-  \".scm\",\n-  \"-gdb.scm\",\n-\n-  guile_control,\n-\n-#ifdef HAVE_GUILE\n-  &guile_extension_script_ops,\n-  &guile_extension_ops\n-#else\n-  NULL,\n-  NULL\n-#endif\n-};\n \f\n #ifdef HAVE_GUILE\n \n@@ -126,7 +99,7 @@ static const char boot_scm_filename[] = \"boot.scm\";\n \n /* The interface between gdb proper and loading of python scripts.  */\n \n-const struct extension_language_script_ops guile_extension_script_ops =\n+static const struct extension_language_script_ops guile_extension_script_ops =\n {\n   gdbscm_source_script,\n   gdbscm_source_objfile_script,\n@@ -136,7 +109,7 @@ const struct extension_language_script_ops guile_extension_script_ops =\n \n /* The interface between gdb proper and guile scripting.  */\n \n-const struct extension_language_ops guile_extension_ops =\n+static const struct extension_language_ops guile_extension_ops =\n {\n   gdbscm_finish_initialization,\n   gdbscm_initialized,\n@@ -159,7 +132,31 @@ const struct extension_language_ops guile_extension_ops =\n   NULL, /* gdbscm_check_quit_flag, */\n   NULL, /* gdbscm_set_quit_flag, */\n };\n+#endif\n+\n+/* The main struct describing GDB's interface to the Guile\n+   extension language.  */\n+extern const struct extension_language_defn extension_language_guile =\n+{\n+  EXT_LANG_GUILE,\n+  \"guile\",\n+  \"Guile\",\n+\n+  \".scm\",\n+  \"-gdb.scm\",\n \n+  guile_control,\n+\n+#ifdef HAVE_GUILE\n+  &guile_extension_script_ops,\n+  &guile_extension_ops\n+#else\n+  NULL,\n+  NULL\n+#endif\n+};\n+\n+#ifdef HAVE_GUILE\n /* Implementation of the gdb \"guile-repl\" command.  */\n \n static void"
    }
  ]
}