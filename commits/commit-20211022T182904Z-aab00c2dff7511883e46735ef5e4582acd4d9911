{
  "sha": "aab00c2dff7511883e46735ef5e4582acd4d9911",
  "node_id": "C_kwDOANOeidoAKGFhYjAwYzJkZmY3NTExODgzZTQ2NzM1ZWY1ZTQ1ODJhY2Q0ZDk5MTE",
  "commit": {
    "author": {
      "name": "Tom Tromey",
      "email": "tromey@adacore.com",
      "date": "2021-10-19T18:44:56Z"
    },
    "committer": {
      "name": "Tom Tromey",
      "email": "tromey@adacore.com",
      "date": "2021-10-22T18:29:04Z"
    },
    "message": "Fix 'uninstall' target\n\nThis adds some missing code to the 'uninstall' targets in gdb and\ngdbserver.  It also changes gdb's uninstall target so that it no\nlonger tries to remove any man page -- this is already done (and more\ncorrectly) by doc/Makefile.in.\n\nI tested this with 'make install' followed by 'make uninstall', then\nexamining the install tree for regular files.  Only the 'dir' file\nremains, but this appears to just be how 'install-info' is intended to\nwork.",
    "tree": {
      "sha": "5419298cf12aa550acf75bb52576ef854f6bb415",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/5419298cf12aa550acf75bb52576ef854f6bb415"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/aab00c2dff7511883e46735ef5e4582acd4d9911",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/aab00c2dff7511883e46735ef5e4582acd4d9911",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/aab00c2dff7511883e46735ef5e4582acd4d9911",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/aab00c2dff7511883e46735ef5e4582acd4d9911/comments",
  "author": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "63b868ddf8798c69d7b695952cf602e610183fef",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/63b868ddf8798c69d7b695952cf602e610183fef",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/63b868ddf8798c69d7b695952cf602e610183fef"
    }
  ],
  "stats": {
    "total": 17,
    "additions": 14,
    "deletions": 3
  },
  "files": [
    {
      "sha": "b22394a65b41bcf788a367d6cc47f425da59e9ee",
      "filename": "gdb/Makefile.in",
      "status": "modified",
      "additions": 10,
      "deletions": 2,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/aab00c2dff7511883e46735ef5e4582acd4d9911/gdb/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/aab00c2dff7511883e46735ef5e4582acd4d9911/gdb/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/Makefile.in?ref=aab00c2dff7511883e46735ef5e4582acd4d9911",
      "patch": "@@ -1819,8 +1819,8 @@ uninstall: force $(CONFIG_UNINSTALL)\n \t\telse \\\n \t\t  true ; \\\n \t\tfi ; \\\n-\t\trm -f $(DESTDIR)$(bindir)/$$transformed_name$(EXEEXT) \\\n-\t\t      $(DESTDIR)$(man1dir)/$$transformed_name.1\n+\t\trm -f $(DESTDIR)$(bindir)/$$transformed_name$(EXEEXT)\n+\t\trm -f $(DESTDIR)$(includedir)/gdb/jit-reader.h\n \tif test \"x$(HAVE_NATIVE_GCORE_TARGET)$(HAVE_NATIVE_GCORE_HOST)\" != x; \\\n \tthen \\\n \t  transformed_name=`t='$(program_transform_name)'; \\\n@@ -1832,6 +1832,14 @@ uninstall: force $(CONFIG_UNINSTALL)\n \t\t  fi ; \\\n \t\t  rm -f $(DESTDIR)$(bindir)/$$transformed_name; \\\n \tfi\n+\ttransformed_name=`t='$(program_transform_name)'; \\\n+\t\t\t  echo gdb-add-index | sed -e \"$$t\"` ; \\\n+\tif test \"x$$transformed_name\" = x; then \\\n+\t  transformed_name=gdb-add-index ; \\\n+\telse \\\n+\t  true ; \\\n+\tfi ; \\\n+\trm -f $(DESTDIR)$(bindir)/$$transformed_name\n \t@$(MAKE) DO=uninstall \"DODIRS=$(SUBDIRS)\" $(FLAGS_TO_PASS) subdir_do\n \n # The C++ name parser can be built standalone for testing."
    },
    {
      "sha": "0a2381bf51cf5c4b0232546ddcca1e873800db62",
      "filename": "gdbserver/Makefile.in",
      "status": "modified",
      "additions": 4,
      "deletions": 1,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/aab00c2dff7511883e46735ef5e4582acd4d9911/gdbserver/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/aab00c2dff7511883e46735ef5e4582acd4d9911/gdbserver/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/Makefile.in?ref=aab00c2dff7511883e46735ef5e4582acd4d9911",
      "patch": "@@ -326,7 +326,10 @@ install-strip:\n uninstall: force\n \tn=`echo gdbserver | sed '$(program_transform_name)'`; \\\n \tif [ x$$n = x ]; then n=gdbserver; else true; fi; \\\n-\trm -f $(DESTDIR)/$(bindir)/$$n$(EXEEXT) $(DESTDIR)$(man1dir)/$$n.1\n+\tif [ x\"$(IPA_DEPFILES)\" != x ]; then \\\n+\t\trm -f $(DESTDIR)$(libdir)/$(IPA_LIB); \\\n+\tfi; \\\n+\trm -f $(DESTDIR)/$(bindir)/$$n$(EXEEXT)\n \n installcheck:\n check:"
    }
  ]
}