{
  "sha": "14237686d71b6ef1e6a85f2791cb54d1ec019cb1",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MTQyMzc2ODZkNzFiNmVmMWU2YTg1ZjI3OTFjYjU0ZDFlYzAxOWNiMQ==",
  "commit": {
    "author": {
      "name": "Andrew Burgess",
      "email": "andrew.burgess@embecosm.com",
      "date": "2019-03-01T11:19:22Z"
    },
    "committer": {
      "name": "Andrew Burgess",
      "email": "andrew.burgess@embecosm.com",
      "date": "2019-05-15T21:26:33Z"
    },
    "message": "gdb/fortran: Add sizeof tests for indexed and sliced arrays\n\nAdd tests for calling sizeof on indexed and sliced arrays, and on\npointers to arrays.  These are all things that currently work, but\nwere previously untested.\n\ngdb/testsuite/ChangeLog:\n\n\t* gdb.fortran/vla-sizeof.exp: Add tests of sizeof applied to\n\tindexed and sliced arrays, and pointers to arrays.",
    "tree": {
      "sha": "7f1b3035069df95ac9f2e51f118fa1e80beed1d3",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/7f1b3035069df95ac9f2e51f118fa1e80beed1d3"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/14237686d71b6ef1e6a85f2791cb54d1ec019cb1",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/14237686d71b6ef1e6a85f2791cb54d1ec019cb1",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/14237686d71b6ef1e6a85f2791cb54d1ec019cb1",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/14237686d71b6ef1e6a85f2791cb54d1ec019cb1/comments",
  "author": {
    "login": "T-J-Teru",
    "id": 475372,
    "node_id": "MDQ6VXNlcjQ3NTM3Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/475372?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/T-J-Teru",
    "html_url": "https://github.com/T-J-Teru",
    "followers_url": "https://api.github.com/users/T-J-Teru/followers",
    "following_url": "https://api.github.com/users/T-J-Teru/following{/other_user}",
    "gists_url": "https://api.github.com/users/T-J-Teru/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/T-J-Teru/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/T-J-Teru/subscriptions",
    "organizations_url": "https://api.github.com/users/T-J-Teru/orgs",
    "repos_url": "https://api.github.com/users/T-J-Teru/repos",
    "events_url": "https://api.github.com/users/T-J-Teru/events{/privacy}",
    "received_events_url": "https://api.github.com/users/T-J-Teru/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "T-J-Teru",
    "id": 475372,
    "node_id": "MDQ6VXNlcjQ3NTM3Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/475372?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/T-J-Teru",
    "html_url": "https://github.com/T-J-Teru",
    "followers_url": "https://api.github.com/users/T-J-Teru/followers",
    "following_url": "https://api.github.com/users/T-J-Teru/following{/other_user}",
    "gists_url": "https://api.github.com/users/T-J-Teru/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/T-J-Teru/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/T-J-Teru/subscriptions",
    "organizations_url": "https://api.github.com/users/T-J-Teru/orgs",
    "repos_url": "https://api.github.com/users/T-J-Teru/repos",
    "events_url": "https://api.github.com/users/T-J-Teru/events{/privacy}",
    "received_events_url": "https://api.github.com/users/T-J-Teru/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "9ddc1af18c31e775ae7b107779addfcde92c723f",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/9ddc1af18c31e775ae7b107779addfcde92c723f",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/9ddc1af18c31e775ae7b107779addfcde92c723f"
    }
  ],
  "stats": {
    "total": 28,
    "additions": 24,
    "deletions": 4
  },
  "files": [
    {
      "sha": "78289d61cf58eb74710e6804caba2361c063b9c8",
      "filename": "gdb/testsuite/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/14237686d71b6ef1e6a85f2791cb54d1ec019cb1/gdb/testsuite/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/14237686d71b6ef1e6a85f2791cb54d1ec019cb1/gdb/testsuite/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/ChangeLog?ref=14237686d71b6ef1e6a85f2791cb54d1ec019cb1",
      "patch": "@@ -1,3 +1,8 @@\n+2019-05-15  Bernhard Heckel  <bernhard.heckel@intel.com>\n+\n+\t* gdb.fortran/vla-sizeof.exp: Add tests of sizeof applied to\n+\tindexed and sliced arrays, and pointers to arrays.\n+\n 2019-05-14  Tom Tromey  <tromey@adacore.com>\n \n \t* gdb.base/info-shared.exp (check_info_shared): Add \"info shared\""
    },
    {
      "sha": "b6fdaebbf5156373c3d331713649a1262fdfd9c0",
      "filename": "gdb/testsuite/gdb.fortran/vla-sizeof.exp",
      "status": "modified",
      "additions": 19,
      "deletions": 4,
      "changes": 23,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/14237686d71b6ef1e6a85f2791cb54d1ec019cb1/gdb/testsuite/gdb.fortran/vla-sizeof.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/14237686d71b6ef1e6a85f2791cb54d1ec019cb1/gdb/testsuite/gdb.fortran/vla-sizeof.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.fortran/vla-sizeof.exp?ref=14237686d71b6ef1e6a85f2791cb54d1ec019cb1",
      "patch": "@@ -29,18 +29,33 @@ if ![runto_main] {\n gdb_breakpoint [gdb_get_line_number \"vla1-init\"]\n gdb_continue_to_breakpoint \"vla1-init\"\n gdb_test \"print sizeof(vla1)\" \" = 0\" \"print sizeof non-allocated vla1\"\n+gdb_test \"print sizeof(vla1(3,2,1))\" \\\n+    \"no such vector element \\\\(vector not allocated\\\\)\" \\\n+    \"print sizeof non-allocated indexed vla1\"\n+gdb_test \"print sizeof(vla1(3:4,2,1))\" \"slice out of range\" \\\n+    \"print sizeof non-allocated sliced vla1\"\n \n # Try to access value in allocated VLA\n-gdb_breakpoint [gdb_get_line_number \"vla2-allocated\"]\n-gdb_continue_to_breakpoint \"vla2-allocated\"\n+gdb_breakpoint [gdb_get_line_number \"vla1-allocated\"]\n+gdb_continue_to_breakpoint \"vla1-allocated\"\n gdb_test \"print sizeof(vla1)\" \" = 4000\" \"print sizeof allocated vla1\"\n+gdb_test \"print sizeof(vla1(3,2,1))\" \"4\" \\\n+    \"print sizeof element from allocated vla1\"\n+gdb_test \"print sizeof(vla1(3:4,2,1))\" \"800\" \\\n+    \"print sizeof sliced vla1\"\n \n # Try to access values in undefined pointer to VLA (dangling)\n-gdb_breakpoint [gdb_get_line_number \"vla1-filled\"]\n-gdb_continue_to_breakpoint \"vla1-filled\"\n gdb_test \"print sizeof(pvla)\" \" = 0\" \"print sizeof non-associated pvla\"\n+gdb_test \"print sizeof(pvla(3,2,1))\" \\\n+    \"no such vector element \\\\(vector not associated\\\\)\" \\\n+    \"print sizeof non-associated indexed pvla\"\n+gdb_test \"print sizeof(pvla(3:4,2,1))\" \"slice out of range\" \\\n+    \"print sizeof non-associated sliced pvla\"\n \n # Try to access values in pointer to VLA and compare them\n gdb_breakpoint [gdb_get_line_number \"pvla-associated\"]\n gdb_continue_to_breakpoint \"pvla-associated\"\n gdb_test \"print sizeof(pvla)\" \" = 4000\" \"print sizeof associated pvla\"\n+gdb_test \"print sizeof(pvla(3,2,1))\" \"4\" \\\n+    \"print sizeof element from associated pvla\"\n+gdb_test \"print sizeof(pvla(3:4,2,1))\" \"800\" \"print sizeof sliced pvla\""
    }
  ]
}