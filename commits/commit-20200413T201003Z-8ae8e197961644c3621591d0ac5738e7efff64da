{
  "sha": "8ae8e197961644c3621591d0ac5738e7efff64da",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6OGFlOGUxOTc5NjE2NDRjMzYyMTU5MWQwYWM1NzM4ZTdlZmZmNjRkYQ==",
  "commit": {
    "author": {
      "name": "Tom Tromey",
      "email": "tom@tromey.com",
      "date": "2020-04-13T18:42:59Z"
    },
    "committer": {
      "name": "Tom Tromey",
      "email": "tromey@adacore.com",
      "date": "2020-04-13T20:10:03Z"
    },
    "message": "Move event-loop configury to common.m4\n\ngdb_select.h and the event loop require some configure checks, so this\nmoves the needed checks to common.m4 and updates the configure\nscripts.\n\ngdb/ChangeLog\n2020-04-13  Tom Tromey  <tom@tromey.com>\n\n\t* configure: Rebuild.\n\t* configure.ac: Remove checks that are now in GDB_AC_COMMON.\n\ngdbserver/ChangeLog\n2020-04-13  Tom Tromey  <tom@tromey.com>\n\n\t* configure: Rebuild.\n\t* config.in: Rebuild.\n\ngdbsupport/ChangeLog\n2020-04-13  Tom Tromey  <tom@tromey.com>\n\n\t* config.in, configure: Rebuild.\n\t* common.m4 (GDB_AC_COMMON): Check for poll.h, sys/poll.h,\n\tsys/select.h, and poll.",
    "tree": {
      "sha": "9daf39b0a02457b442739d0e24510f9dfcef1c96",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/9daf39b0a02457b442739d0e24510f9dfcef1c96"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/8ae8e197961644c3621591d0ac5738e7efff64da",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/8ae8e197961644c3621591d0ac5738e7efff64da",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/8ae8e197961644c3621591d0ac5738e7efff64da",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/8ae8e197961644c3621591d0ac5738e7efff64da/comments",
  "author": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "58cf28e860429822ab0aa93a56e130c4430df396",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/58cf28e860429822ab0aa93a56e130c4430df396",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/58cf28e860429822ab0aa93a56e130c4430df396"
    }
  ],
  "stats": {
    "total": 69,
    "additions": 55,
    "deletions": 14
  },
  "files": [
    {
      "sha": "c0ac38454e3704b50e7177d21477263a6334c19d",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8ae8e197961644c3621591d0ac5738e7efff64da/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8ae8e197961644c3621591d0ac5738e7efff64da/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=8ae8e197961644c3621591d0ac5738e7efff64da",
      "patch": "@@ -1,3 +1,8 @@\n+2020-04-13  Tom Tromey  <tom@tromey.com>\n+\n+\t* configure: Rebuild.\n+\t* configure.ac: Remove checks that are now in GDB_AC_COMMON.\n+\n 2020-04-13  Tom Tromey  <tom@tromey.com>\n \n \t* event-loop.h (start_event_loop): Don't declare."
    },
    {
      "sha": "7e1af589f77e94931d8c37b616f61db8c2a753fc",
      "filename": "gdb/configure",
      "status": "modified",
      "additions": 5,
      "deletions": 5,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8ae8e197961644c3621591d0ac5738e7efff64da/gdb/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8ae8e197961644c3621591d0ac5738e7efff64da/gdb/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/configure?ref=8ae8e197961644c3621591d0ac5738e7efff64da",
      "patch": "@@ -11615,11 +11615,11 @@ $as_echo \"#define STDC_HEADERS 1\" >>confdefs.h\n fi\n \n # elf_hp.h is for HP/UX 64-bit shared library support.\n-for ac_header in nlist.h machine/reg.h poll.h sys/poll.h \\\n+for ac_header in nlist.h machine/reg.h \\\n                   thread_db.h \\\n \t\t  sys/file.h sys/filio.h sys/ioctl.h sys/param.h \\\n \t\t  sys/resource.h sys/ptrace.h ptrace.h \\\n-\t\t  sys/reg.h sys/debugreg.h sys/select.h \\\n+\t\t  sys/reg.h sys/debugreg.h \\\n \t\t  termios.h elf_hp.h\n do :\n   as_ac_Header=`$as_echo \"ac_cv_header_$ac_header\" | $as_tr_sh`\n@@ -12265,7 +12265,7 @@ $as_echo \"#define AC_APPLE_UNIVERSAL_BUILD 1\" >>confdefs.h\n # ------------------------------ #\n \n for ac_func in getuid getgid \\\n-\t\tpipe poll pread pread64 pwrite resize_term \\\n+\t\tpipe pread pread64 pwrite resize_term \\\n \t\tgetpgid setsid \\\n \t\tsigaction sigsetmask socketpair \\\n \t\tttrace wborder wresize setlocale iconvlist libiconvlist btowc \\\n@@ -12778,7 +12778,7 @@ $as_echo \"#define HAVE_LANGINFO_CODESET 1\" >>confdefs.h\n   fi\n \n \n-  for ac_header in linux/perf_event.h locale.h memory.h signal.h \t\t   sys/resource.h sys/socket.h \t\t   sys/un.h sys/wait.h \t\t   thread_db.h wait.h \t\t   termios.h \t\t   dlfcn.h \t\t   linux/elf.h sys/procfs.h proc_service.h\n+  for ac_header in linux/perf_event.h locale.h memory.h signal.h \t\t   sys/resource.h sys/socket.h \t\t   sys/un.h sys/wait.h \t\t   thread_db.h wait.h \t\t   termios.h \t\t   dlfcn.h \t\t   linux/elf.h sys/procfs.h proc_service.h \t\t   poll.h sys/poll.h sys/select.h\n do :\n   as_ac_Header=`$as_echo \"ac_cv_header_$ac_header\" | $as_tr_sh`\n ac_fn_c_check_header_mongrel \"$LINENO\" \"$ac_header\" \"$as_ac_Header\" \"$ac_includes_default\"\n@@ -13183,7 +13183,7 @@ $as_echo \"#define HAVE_WORKING_FORK 1\" >>confdefs.h\n \n fi\n \n-  for ac_func in fdwalk getrlimit pipe pipe2 socketpair sigaction \\\n+  for ac_func in fdwalk getrlimit pipe pipe2 poll socketpair sigaction \\\n \t\t  ptrace64 sbrk setns sigaltstack sigprocmask \\\n \t\t  setpgid setpgrp getrusage getauxval\n do :"
    },
    {
      "sha": "f405a0351d7907d6bec511638b4ad1ce758c8756",
      "filename": "gdb/configure.ac",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8ae8e197961644c3621591d0ac5738e7efff64da/gdb/configure.ac",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8ae8e197961644c3621591d0ac5738e7efff64da/gdb/configure.ac",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/configure.ac?ref=8ae8e197961644c3621591d0ac5738e7efff64da",
      "patch": "@@ -1229,11 +1229,11 @@ AC_SUBST(SRCHIGH_CFLAGS)\n \n AC_HEADER_STDC\n # elf_hp.h is for HP/UX 64-bit shared library support.\n-AC_CHECK_HEADERS([nlist.h machine/reg.h poll.h sys/poll.h \\\n+AC_CHECK_HEADERS([nlist.h machine/reg.h \\\n                   thread_db.h \\\n \t\t  sys/file.h sys/filio.h sys/ioctl.h sys/param.h \\\n \t\t  sys/resource.h sys/ptrace.h ptrace.h \\\n-\t\t  sys/reg.h sys/debugreg.h sys/select.h \\\n+\t\t  sys/reg.h sys/debugreg.h \\\n \t\t  termios.h elf_hp.h])\n AC_CHECK_HEADERS(sys/user.h, [], [],\n [#if HAVE_SYS_PARAM_H\n@@ -1279,7 +1279,7 @@ AC_C_BIGENDIAN\n # ------------------------------ #\n \n AC_CHECK_FUNCS([getuid getgid \\\n-\t\tpipe poll pread pread64 pwrite resize_term \\\n+\t\tpipe pread pread64 pwrite resize_term \\\n \t\tgetpgid setsid \\\n \t\tsigaction sigsetmask socketpair \\\n \t\tttrace wborder wresize setlocale iconvlist libiconvlist btowc \\"
    },
    {
      "sha": "b5c428a5b8841158ff845e13783765b612713f89",
      "filename": "gdbserver/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8ae8e197961644c3621591d0ac5738e7efff64da/gdbserver/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8ae8e197961644c3621591d0ac5738e7efff64da/gdbserver/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/ChangeLog?ref=8ae8e197961644c3621591d0ac5738e7efff64da",
      "patch": "@@ -1,3 +1,8 @@\n+2020-04-13  Tom Tromey  <tom@tromey.com>\n+\n+\t* configure: Rebuild.\n+\t* config.in: Rebuild.\n+\n 2020-04-08  Tom Tromey  <tromey@adacore.com>\n \n \tPR gdb/22992"
    },
    {
      "sha": "8683ce6830a776e3e157f9f17c5235338d73e9d6",
      "filename": "gdbserver/config.in",
      "status": "modified",
      "additions": 12,
      "deletions": 0,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8ae8e197961644c3621591d0ac5738e7efff64da/gdbserver/config.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8ae8e197961644c3621591d0ac5738e7efff64da/gdbserver/config.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/config.in?ref=8ae8e197961644c3621591d0ac5738e7efff64da",
      "patch": "@@ -191,6 +191,12 @@\n /* Define to 1 if you have the `pipe2' function. */\n #undef HAVE_PIPE2\n \n+/* Define to 1 if you have the `poll' function. */\n+#undef HAVE_POLL\n+\n+/* Define to 1 if you have the <poll.h> header file. */\n+#undef HAVE_POLL_H\n+\n /* Define to 1 if you have the `pread' function. */\n #undef HAVE_PREAD\n \n@@ -315,6 +321,9 @@\n /* Define to 1 if you have the <sys/param.h> header file. */\n #undef HAVE_SYS_PARAM_H\n \n+/* Define to 1 if you have the <sys/poll.h> header file. */\n+#undef HAVE_SYS_POLL_H\n+\n /* Define to 1 if you have the <sys/procfs.h> header file. */\n #undef HAVE_SYS_PROCFS_H\n \n@@ -327,6 +336,9 @@\n /* Define to 1 if you have the <sys/resource.h> header file. */\n #undef HAVE_SYS_RESOURCE_H\n \n+/* Define to 1 if you have the <sys/select.h> header file. */\n+#undef HAVE_SYS_SELECT_H\n+\n /* Define to 1 if you have the <sys/socket.h> header file. */\n #undef HAVE_SYS_SOCKET_H\n "
    },
    {
      "sha": "06edb4514e0e49fc063e67aedfbdeda346e92f59",
      "filename": "gdbserver/configure",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8ae8e197961644c3621591d0ac5738e7efff64da/gdbserver/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8ae8e197961644c3621591d0ac5738e7efff64da/gdbserver/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/configure?ref=8ae8e197961644c3621591d0ac5738e7efff64da",
      "patch": "@@ -6706,7 +6706,7 @@ $as_echo \"#define HAVE_LANGINFO_CODESET 1\" >>confdefs.h\n   fi\n \n \n-  for ac_header in linux/perf_event.h locale.h memory.h signal.h \t\t   sys/resource.h sys/socket.h \t\t   sys/un.h sys/wait.h \t\t   thread_db.h wait.h \t\t   termios.h \t\t   dlfcn.h \t\t   linux/elf.h sys/procfs.h proc_service.h\n+  for ac_header in linux/perf_event.h locale.h memory.h signal.h \t\t   sys/resource.h sys/socket.h \t\t   sys/un.h sys/wait.h \t\t   thread_db.h wait.h \t\t   termios.h \t\t   dlfcn.h \t\t   linux/elf.h sys/procfs.h proc_service.h \t\t   poll.h sys/poll.h sys/select.h\n do :\n   as_ac_Header=`$as_echo \"ac_cv_header_$ac_header\" | $as_tr_sh`\n ac_fn_c_check_header_mongrel \"$LINENO\" \"$ac_header\" \"$as_ac_Header\" \"$ac_includes_default\"\n@@ -7111,7 +7111,7 @@ $as_echo \"#define HAVE_WORKING_FORK 1\" >>confdefs.h\n \n fi\n \n-  for ac_func in fdwalk getrlimit pipe pipe2 socketpair sigaction \\\n+  for ac_func in fdwalk getrlimit pipe pipe2 poll socketpair sigaction \\\n \t\t  ptrace64 sbrk setns sigaltstack sigprocmask \\\n \t\t  setpgid setpgrp getrusage getauxval\n do :"
    },
    {
      "sha": "0d0ea875a49c30b61927f42e83e456145b32410b",
      "filename": "gdbsupport/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8ae8e197961644c3621591d0ac5738e7efff64da/gdbsupport/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8ae8e197961644c3621591d0ac5738e7efff64da/gdbsupport/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbsupport/ChangeLog?ref=8ae8e197961644c3621591d0ac5738e7efff64da",
      "patch": "@@ -1,3 +1,9 @@\n+2020-04-13  Tom Tromey  <tom@tromey.com>\n+\n+\t* config.in, configure: Rebuild.\n+\t* common.m4 (GDB_AC_COMMON): Check for poll.h, sys/poll.h,\n+\tsys/select.h, and poll.\n+\n 2020-03-31  Tom Tromey  <tromey@adacore.com>\n \n \t* btrace-common.cc (btrace_data_append): Conditionally call"
    },
    {
      "sha": "b461f5f017d0315a0a3addb6413b18ce2c5429f1",
      "filename": "gdbsupport/common.m4",
      "status": "modified",
      "additions": 3,
      "deletions": 2,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8ae8e197961644c3621591d0ac5738e7efff64da/gdbsupport/common.m4",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8ae8e197961644c3621591d0ac5738e7efff64da/gdbsupport/common.m4",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbsupport/common.m4?ref=8ae8e197961644c3621591d0ac5738e7efff64da",
      "patch": "@@ -46,11 +46,12 @@ AC_DEFUN([GDB_AC_COMMON], [\n \t\t   thread_db.h wait.h dnl\n \t\t   termios.h dnl\n \t\t   dlfcn.h dnl\n-\t\t   linux/elf.h sys/procfs.h proc_service.h)\n+\t\t   linux/elf.h sys/procfs.h proc_service.h dnl\n+\t\t   poll.h sys/poll.h sys/select.h)\n \n   AC_FUNC_MMAP\n   AC_FUNC_VFORK\n-  AC_CHECK_FUNCS([fdwalk getrlimit pipe pipe2 socketpair sigaction \\\n+  AC_CHECK_FUNCS([fdwalk getrlimit pipe pipe2 poll socketpair sigaction \\\n \t\t  ptrace64 sbrk setns sigaltstack sigprocmask \\\n \t\t  setpgid setpgrp getrusage getauxval])\n "
    },
    {
      "sha": "555650139524683c1d10f357ef0609df1a474693",
      "filename": "gdbsupport/config.in",
      "status": "modified",
      "additions": 12,
      "deletions": 0,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8ae8e197961644c3621591d0ac5738e7efff64da/gdbsupport/config.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8ae8e197961644c3621591d0ac5738e7efff64da/gdbsupport/config.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbsupport/config.in?ref=8ae8e197961644c3621591d0ac5738e7efff64da",
      "patch": "@@ -151,6 +151,12 @@\n /* Define to 1 if you have the `pipe2' function. */\n #undef HAVE_PIPE2\n \n+/* Define to 1 if you have the `poll' function. */\n+#undef HAVE_POLL\n+\n+/* Define to 1 if you have the <poll.h> header file. */\n+#undef HAVE_POLL_H\n+\n /* Define if <sys/procfs.h> has prfpregset_t. */\n #undef HAVE_PRFPREGSET_T\n \n@@ -241,6 +247,9 @@\n /* Define to 1 if you have the <sys/param.h> header file. */\n #undef HAVE_SYS_PARAM_H\n \n+/* Define to 1 if you have the <sys/poll.h> header file. */\n+#undef HAVE_SYS_POLL_H\n+\n /* Define to 1 if you have the <sys/procfs.h> header file. */\n #undef HAVE_SYS_PROCFS_H\n \n@@ -250,6 +259,9 @@\n /* Define to 1 if you have the <sys/resource.h> header file. */\n #undef HAVE_SYS_RESOURCE_H\n \n+/* Define to 1 if you have the <sys/select.h> header file. */\n+#undef HAVE_SYS_SELECT_H\n+\n /* Define to 1 if you have the <sys/socket.h> header file. */\n #undef HAVE_SYS_SOCKET_H\n "
    },
    {
      "sha": "51caeeb180f175f80e47c0d5666dc5d545d89f59",
      "filename": "gdbsupport/configure",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8ae8e197961644c3621591d0ac5738e7efff64da/gdbsupport/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8ae8e197961644c3621591d0ac5738e7efff64da/gdbsupport/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbsupport/configure?ref=8ae8e197961644c3621591d0ac5738e7efff64da",
      "patch": "@@ -8404,7 +8404,7 @@ $as_echo \"#define HAVE_LANGINFO_CODESET 1\" >>confdefs.h\n   fi\n \n \n-  for ac_header in linux/perf_event.h locale.h memory.h signal.h \t\t   sys/resource.h sys/socket.h \t\t   sys/un.h sys/wait.h \t\t   thread_db.h wait.h \t\t   termios.h \t\t   dlfcn.h \t\t   linux/elf.h sys/procfs.h proc_service.h\n+  for ac_header in linux/perf_event.h locale.h memory.h signal.h \t\t   sys/resource.h sys/socket.h \t\t   sys/un.h sys/wait.h \t\t   thread_db.h wait.h \t\t   termios.h \t\t   dlfcn.h \t\t   linux/elf.h sys/procfs.h proc_service.h \t\t   poll.h sys/poll.h sys/select.h\n do :\n   as_ac_Header=`$as_echo \"ac_cv_header_$ac_header\" | $as_tr_sh`\n ac_fn_c_check_header_mongrel \"$LINENO\" \"$ac_header\" \"$as_ac_Header\" \"$ac_includes_default\"\n@@ -8809,7 +8809,7 @@ $as_echo \"#define HAVE_WORKING_FORK 1\" >>confdefs.h\n \n fi\n \n-  for ac_func in fdwalk getrlimit pipe pipe2 socketpair sigaction \\\n+  for ac_func in fdwalk getrlimit pipe pipe2 poll socketpair sigaction \\\n \t\t  ptrace64 sbrk setns sigaltstack sigprocmask \\\n \t\t  setpgid setpgrp getrusage getauxval\n do :"
    }
  ]
}