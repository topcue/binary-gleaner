{
  "sha": "81e6b8eb208c427028d919afb2b5cabbc355fc88",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ODFlNmI4ZWIyMDhjNDI3MDI4ZDkxOWFmYjJiNWNhYmJjMzU1ZmM4OA==",
  "commit": {
    "author": {
      "name": "Christian Biesinger",
      "email": "cbiesinger@google.com",
      "date": "2019-10-07T22:38:51Z"
    },
    "committer": {
      "name": "Christian Biesinger",
      "email": "cbiesinger@google.com",
      "date": "2019-10-15T13:30:00Z"
    },
    "message": "Make tui-winsource not use breakpoint_chain\n\nThat's an internal variable of breakpoint.c. Insted, use\niterate_over_breakpoints to update the breakpoint list.\n\ngdb/ChangeLog:\n\n2019-10-15  Christian Biesinger  <cbiesinger@google.com>\n\n\t* breakpoint.c (breakpoint_chain): Make static.\n\t* tui/tui-winsource.c: Call iterate_over_breakpoints instead\n\tof accessing breakpoint_chain.\n\nChange-Id: Ic259b2c3a4c1f5a47f34cfd7fccbdcf274417429",
    "tree": {
      "sha": "20cbd7f0f060297fe1e21538704f5a733968fb47",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/20cbd7f0f060297fe1e21538704f5a733968fb47"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/81e6b8eb208c427028d919afb2b5cabbc355fc88",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/81e6b8eb208c427028d919afb2b5cabbc355fc88",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/81e6b8eb208c427028d919afb2b5cabbc355fc88",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/81e6b8eb208c427028d919afb2b5cabbc355fc88/comments",
  "author": {
    "login": "cbiesinger",
    "id": 1483109,
    "node_id": "MDQ6VXNlcjE0ODMxMDk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1483109?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cbiesinger",
    "html_url": "https://github.com/cbiesinger",
    "followers_url": "https://api.github.com/users/cbiesinger/followers",
    "following_url": "https://api.github.com/users/cbiesinger/following{/other_user}",
    "gists_url": "https://api.github.com/users/cbiesinger/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cbiesinger/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cbiesinger/subscriptions",
    "organizations_url": "https://api.github.com/users/cbiesinger/orgs",
    "repos_url": "https://api.github.com/users/cbiesinger/repos",
    "events_url": "https://api.github.com/users/cbiesinger/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cbiesinger/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "cbiesinger",
    "id": 1483109,
    "node_id": "MDQ6VXNlcjE0ODMxMDk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1483109?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cbiesinger",
    "html_url": "https://github.com/cbiesinger",
    "followers_url": "https://api.github.com/users/cbiesinger/followers",
    "following_url": "https://api.github.com/users/cbiesinger/following{/other_user}",
    "gists_url": "https://api.github.com/users/cbiesinger/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cbiesinger/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cbiesinger/subscriptions",
    "organizations_url": "https://api.github.com/users/cbiesinger/orgs",
    "repos_url": "https://api.github.com/users/cbiesinger/repos",
    "events_url": "https://api.github.com/users/cbiesinger/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cbiesinger/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "95da600f404ca159242f49441d9b4ea78183852b",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/95da600f404ca159242f49441d9b4ea78183852b",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/95da600f404ca159242f49441d9b4ea78183852b"
    }
  ],
  "stats": {
    "total": 19,
    "additions": 11,
    "deletions": 8
  },
  "files": [
    {
      "sha": "9d3ec1fae5f90421814504206d73232e53e40839",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/81e6b8eb208c427028d919afb2b5cabbc355fc88/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/81e6b8eb208c427028d919afb2b5cabbc355fc88/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=81e6b8eb208c427028d919afb2b5cabbc355fc88",
      "patch": "@@ -1,3 +1,9 @@\n+2019-10-15  Christian Biesinger  <cbiesinger@google.com>\n+\n+\t* breakpoint.c (breakpoint_chain): Make static.\n+\t* tui/tui-winsource.c: Call iterate_over_breakpoints instead\n+\tof accessing breakpoint_chain.\n+\n 2019-10-15  Christian Biesinger  <cbiesinger@google.com>\n \n \t* breakpoint.c (iterate_over_breakpoints): Change function pointer"
    },
    {
      "sha": "2fd2438e61dcd55555e81168cb7fe9f7d3838e15",
      "filename": "gdb/breakpoint.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/81e6b8eb208c427028d919afb2b5cabbc355fc88/gdb/breakpoint.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/81e6b8eb208c427028d919afb2b5cabbc355fc88/gdb/breakpoint.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/breakpoint.c?ref=81e6b8eb208c427028d919afb2b5cabbc355fc88",
      "patch": "@@ -517,7 +517,7 @@ bool target_exact_watchpoints = false;\n \n /* Chains of all breakpoints defined.  */\n \n-struct breakpoint *breakpoint_chain;\n+static struct breakpoint *breakpoint_chain;\n \n /* Array is sorted by bp_locations_compare - primarily by the ADDRESS.  */\n "
    },
    {
      "sha": "3fbc49fd77a4eca1e63bc2fa893e4148222210de",
      "filename": "gdb/tui/tui-winsource.c",
      "status": "modified",
      "additions": 4,
      "deletions": 7,
      "changes": 11,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/81e6b8eb208c427028d919afb2b5cabbc355fc88/gdb/tui/tui-winsource.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/81e6b8eb208c427028d919afb2b5cabbc355fc88/gdb/tui/tui-winsource.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/tui/tui-winsource.c?ref=81e6b8eb208c427028d919afb2b5cabbc355fc88",
      "patch": "@@ -401,8 +401,6 @@ tui_source_window_base::update_breakpoint_info\n \n   for (i = 0; i < content.size (); i++)\n     {\n-      struct breakpoint *bp;\n-      extern struct breakpoint *breakpoint_chain;\n       struct tui_source_element *line;\n \n       line = &content[i];\n@@ -413,17 +411,15 @@ tui_source_window_base::update_breakpoint_info\n          do with it.  Identify enable/disabled breakpoints as well as\n          those that we already hit.  */\n       tui_bp_flags mode = 0;\n-      for (bp = breakpoint_chain;\n-           bp != NULL;\n-           bp = bp->next)\n+      iterate_over_breakpoints ([&] (breakpoint *bp) -> bool\n         {\n \t  struct bp_location *loc;\n \n \t  gdb_assert (line->line_or_addr.loa == LOA_LINE\n \t\t      || line->line_or_addr.loa == LOA_ADDRESS);\n \n \t  if (bp == being_deleted)\n-\t    continue;\n+\t    return false;\n \n \t  for (loc = bp->loc; loc != NULL; loc = loc->next)\n \t    {\n@@ -441,7 +437,8 @@ tui_source_window_base::update_breakpoint_info\n \t\t    mode |= TUI_BP_HARDWARE;\n \t\t}\n \t    }\n-        }\n+\t  return false;\n+        });\n       if (line->break_mode != mode)\n         {\n           line->break_mode = mode;"
    }
  ]
}