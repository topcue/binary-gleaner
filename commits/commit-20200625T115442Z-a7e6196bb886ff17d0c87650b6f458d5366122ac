{
  "sha": "a7e6196bb886ff17d0c87650b6f458d5366122ac",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YTdlNjE5NmJiODg2ZmYxN2QwYzg3NjUwYjZmNDU4ZDUzNjYxMjJhYw==",
  "commit": {
    "author": {
      "name": "Rainer Orth",
      "email": "ro@CeBiTec.Uni-Bielefeld.DE",
      "date": "2020-06-25T11:54:42Z"
    },
    "committer": {
      "name": "Rainer Orth",
      "email": "ro@CeBiTec.Uni-Bielefeld.DE",
      "date": "2020-06-25T11:54:42Z"
    },
    "message": "Don't include *sol2-tdep.o on Linux/sparc*\n\nLinux/sparc* currently links Solaris-specific files (sparc-sol2-tdep.o,\nsparc64-sol2-tdep.o, sol2-tdep.o) for no apparent reason.  It has no\nbusiness doing so, and none of the functions/variables defined there are\nused explicitly.  If support for the Solaris OSABI were desired, this\nshould be done using --enable-targets instead.\n\nSince neither sparc{32,64}_sol2_init_abi currently declared in common\nheaders (sparc*-tdep.h) are used outside their source files, they are made\nstatic and the declarations removed.\n\nTested on sparcv9-sun-solaris2.11 and sparc64-unknown-linux-gnu.\n\n\t* configure.tgt <sparc-*-linux*> (gdb_target_obs): Remove\n\tsparc-sol2-tdep.o, sol2-tdep.o, sparc64-sol2-tdep.o.\n\t<sparc64-*-linux*> (gdb_target_obs): Remove sparc64-sol2-tdep.o,\n\tsol2-tdep.o, sparc-sol2-tdep.o.\n\t* sparc-sol2-tdep.c (sparc32_sol2_init_abi): Make static.\n\t* sparc-tdep.h (sparc32_sol2_init_abi): Remove.\n\t* sparc64-sol2-tdep.c (sparc64_sol2_init_abi): Make static.\n\t* sparc64-tdep.h (sparc64_sol2_init_abi): Remove.",
    "tree": {
      "sha": "d262e9083140449a0b3fce60af59fe1c0da5a8dc",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/d262e9083140449a0b3fce60af59fe1c0da5a8dc"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/a7e6196bb886ff17d0c87650b6f458d5366122ac",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/a7e6196bb886ff17d0c87650b6f458d5366122ac",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/a7e6196bb886ff17d0c87650b6f458d5366122ac",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/a7e6196bb886ff17d0c87650b6f458d5366122ac/comments",
  "author": {
    "login": "rorth",
    "id": 3930951,
    "node_id": "MDQ6VXNlcjM5MzA5NTE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3930951?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rorth",
    "html_url": "https://github.com/rorth",
    "followers_url": "https://api.github.com/users/rorth/followers",
    "following_url": "https://api.github.com/users/rorth/following{/other_user}",
    "gists_url": "https://api.github.com/users/rorth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rorth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rorth/subscriptions",
    "organizations_url": "https://api.github.com/users/rorth/orgs",
    "repos_url": "https://api.github.com/users/rorth/repos",
    "events_url": "https://api.github.com/users/rorth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rorth/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "rorth",
    "id": 3930951,
    "node_id": "MDQ6VXNlcjM5MzA5NTE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3930951?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rorth",
    "html_url": "https://github.com/rorth",
    "followers_url": "https://api.github.com/users/rorth/followers",
    "following_url": "https://api.github.com/users/rorth/following{/other_user}",
    "gists_url": "https://api.github.com/users/rorth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rorth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rorth/subscriptions",
    "organizations_url": "https://api.github.com/users/rorth/orgs",
    "repos_url": "https://api.github.com/users/rorth/repos",
    "events_url": "https://api.github.com/users/rorth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rorth/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "d412e69677c6ca145ea8f5ff8c61a22952cb0855",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/d412e69677c6ca145ea8f5ff8c61a22952cb0855",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/d412e69677c6ca145ea8f5ff8c61a22952cb0855"
    }
  ],
  "stats": {
    "total": 29,
    "additions": 17,
    "deletions": 12
  },
  "files": [
    {
      "sha": "7298617b80edc8abca2c07f2f88ba6adc7ae1743",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 11,
      "deletions": 0,
      "changes": 11,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a7e6196bb886ff17d0c87650b6f458d5366122ac/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a7e6196bb886ff17d0c87650b6f458d5366122ac/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=a7e6196bb886ff17d0c87650b6f458d5366122ac",
      "patch": "@@ -1,3 +1,14 @@\n+2020-06-25  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n+\n+\t* configure.tgt <sparc-*-linux*> (gdb_target_obs): Remove\n+\tsparc-sol2-tdep.o, sol2-tdep.o, sparc64-sol2-tdep.o.\n+\t<sparc64-*-linux*> (gdb_target_obs): Remove sparc64-sol2-tdep.o,\n+\tsol2-tdep.o, sparc-sol2-tdep.o.\n+\t* sparc-sol2-tdep.c (sparc32_sol2_init_abi): Make static.\n+\t* sparc-tdep.h (sparc32_sol2_init_abi): Remove.\n+\t* sparc64-sol2-tdep.c (sparc64_sol2_init_abi): Make static.\n+\t* sparc64-tdep.h (sparc64_sol2_init_abi): Remove.\n+\n 2020-06-25  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n \n \t* amd64-sol2-tdep.c (amd64_sol2_sigtramp_p): Remove."
    },
    {
      "sha": "d66f01bb9f7b11b1c9489c4e4fc8270d30188563",
      "filename": "gdb/configure.tgt",
      "status": "modified",
      "additions": 4,
      "deletions": 4,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a7e6196bb886ff17d0c87650b6f458d5366122ac/gdb/configure.tgt",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a7e6196bb886ff17d0c87650b6f458d5366122ac/gdb/configure.tgt",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/configure.tgt?ref=a7e6196bb886ff17d0c87650b6f458d5366122ac",
      "patch": "@@ -585,20 +585,20 @@ sh*)\n \n sparc-*-linux*)\n \t# Target: GNU/Linux SPARC\n-\tgdb_target_obs=\"sparc-tdep.o sparc-sol2-tdep.o sol2-tdep.o \\\n+\tgdb_target_obs=\"sparc-tdep.o \\\n \t\t\tsparc-linux-tdep.o solib-svr4.o symfile-mem.o \\\n \t\t\tlinux-tdep.o \\\n \t\t\travenscar-thread.o sparc-ravenscar-thread.o\"\n \tif test \"x$enable_64_bit_bfd\" = \"xyes\"; then\n \t    # Target: GNU/Linux UltraSPARC\n-\t    gdb_target_obs=\"sparc64-tdep.o sparc64-sol2-tdep.o \\\n+\t    gdb_target_obs=\"sparc64-tdep.o \\\n \t\t\t    sparc64-linux-tdep.o ${gdb_target_obs}\"\n \tfi\n \t;;\n sparc64-*-linux*)\n \t# Target: GNU/Linux UltraSPARC\n-\tgdb_target_obs=\"sparc64-tdep.o sparc64-sol2-tdep.o sol2-tdep.o \\\n-\t\t\tsparc64-linux-tdep.o sparc-tdep.o sparc-sol2-tdep.o \\\n+\tgdb_target_obs=\"sparc64-tdep.o \\\n+\t\t\tsparc64-linux-tdep.o sparc-tdep.o \\\n \t\t\tsparc-linux-tdep.o solib-svr4.o linux-tdep.o \\\n \t\t\travenscar-thread.o sparc-ravenscar-thread.o\"\n \t;;"
    },
    {
      "sha": "1c61ecc960f92207d9686cd12a296a5ea118f593",
      "filename": "gdb/sparc-sol2-tdep.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a7e6196bb886ff17d0c87650b6f458d5366122ac/gdb/sparc-sol2-tdep.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a7e6196bb886ff17d0c87650b6f458d5366122ac/gdb/sparc-sol2-tdep.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/sparc-sol2-tdep.c?ref=a7e6196bb886ff17d0c87650b6f458d5366122ac",
      "patch": "@@ -192,7 +192,7 @@ static const struct frame_unwind sparc32_sol2_sigtramp_frame_unwind =\n \n \f\n \n-void\n+static void\n sparc32_sol2_init_abi (struct gdbarch_info info, struct gdbarch *gdbarch)\n {\n   struct gdbarch_tdep *tdep = gdbarch_tdep (gdbarch);"
    },
    {
      "sha": "625b3e8914a89300d678e61fe9bef45445e09b0e",
      "filename": "gdb/sparc-tdep.h",
      "status": "modified",
      "additions": 0,
      "deletions": 3,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a7e6196bb886ff17d0c87650b6f458d5366122ac/gdb/sparc-tdep.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a7e6196bb886ff17d0c87650b6f458d5366122ac/gdb/sparc-tdep.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/sparc-tdep.h?ref=a7e6196bb886ff17d0c87650b6f458d5366122ac",
      "patch": "@@ -245,9 +245,6 @@ extern int sparc_is_annulled_branch_insn (CORE_ADDR pc);\n extern const struct sparc_gregmap sparc32_sol2_gregmap;\n extern const struct sparc_fpregmap sparc32_sol2_fpregmap;\n \n-extern void sparc32_sol2_init_abi (struct gdbarch_info info,\n-\t\t\t\t   struct gdbarch *gdbarch);\n-\n /* Functions and variables exported from sparcnbsd-tdep.c.  */\n \n /* Register offsets for NetBSD.  */"
    },
    {
      "sha": "824444dd669e9e60d2f45849f80b8a2997819031",
      "filename": "gdb/sparc64-sol2-tdep.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a7e6196bb886ff17d0c87650b6f458d5366122ac/gdb/sparc64-sol2-tdep.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a7e6196bb886ff17d0c87650b6f458d5366122ac/gdb/sparc64-sol2-tdep.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/sparc64-sol2-tdep.c?ref=a7e6196bb886ff17d0c87650b6f458d5366122ac",
      "patch": "@@ -195,7 +195,7 @@ static const struct frame_unwind sparc64_sol2_sigtramp_frame_unwind =\n \n \f\n \n-void\n+static void\n sparc64_sol2_init_abi (struct gdbarch_info info, struct gdbarch *gdbarch)\n {\n   struct gdbarch_tdep *tdep = gdbarch_tdep (gdbarch);"
    },
    {
      "sha": "d3ba9e22a456ccec82ed7c37f7fccd927e5e8e97",
      "filename": "gdb/sparc64-tdep.h",
      "status": "modified",
      "additions": 0,
      "deletions": 3,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a7e6196bb886ff17d0c87650b6f458d5366122ac/gdb/sparc64-tdep.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a7e6196bb886ff17d0c87650b6f458d5366122ac/gdb/sparc64-tdep.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/sparc64-tdep.h?ref=a7e6196bb886ff17d0c87650b6f458d5366122ac",
      "patch": "@@ -119,9 +119,6 @@ extern void sparc64_collect_fpregset (const struct sparc_fpregmap *fpregmap,\n extern const struct sparc_gregmap sparc64_sol2_gregmap;\n extern const struct sparc_fpregmap sparc64_sol2_fpregmap;\n \n-extern void sparc64_sol2_init_abi (struct gdbarch_info info,\n-\t\t\t\t   struct gdbarch *gdbarch);\n-\n /* Variables exported from sparc64-fbsd-tdep.c.  */\n \n /* Register offsets for FreeBSD/sparc64.  */"
    }
  ]
}