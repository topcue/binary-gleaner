{
  "sha": "7151c1af38e250fa4d024fa53f1cd5b3fc199314",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NzE1MWMxYWYzOGUyNTBmYTRkMDI0ZmE1M2YxY2Q1YjNmYzE5OTMxNA==",
  "commit": {
    "author": {
      "name": "Tom Tromey",
      "email": "tom@tromey.com",
      "date": "2020-04-24T21:35:01Z"
    },
    "committer": {
      "name": "Tom Tromey",
      "email": "tromey@adacore.com",
      "date": "2020-04-24T21:35:04Z"
    },
    "message": "Remove symbol_get_demangled_name\n\nNow that symbol_get_demangled_name is only used by general_symbol_info\nmethods, and because these methods already check the symbol's language\nto decide what to return, symbol_get_demangled_name is no longer\nneeded.  This patch removes it.\n\ngdb/ChangeLog\n2020-04-24  Tom Tromey  <tom@tromey.com>\n\n\t* symtab.h (symbol_get_demangled_name): Don't declare.\n\t* symtab.c (symbol_get_demangled_name): Remove.\n\t(general_symbol_info::natural_name)\n\t(general_symbol_info::demangled_name): Update.",
    "tree": {
      "sha": "6aadcdd62889c14c77f421d9dd7f7b1a4930402b",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/6aadcdd62889c14c77f421d9dd7f7b1a4930402b"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/7151c1af38e250fa4d024fa53f1cd5b3fc199314",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/7151c1af38e250fa4d024fa53f1cd5b3fc199314",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/7151c1af38e250fa4d024fa53f1cd5b3fc199314",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/7151c1af38e250fa4d024fa53f1cd5b3fc199314/comments",
  "author": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "906bb4c58faa8e2c1c62e295f8054e75e910e5e8",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/906bb4c58faa8e2c1c62e295f8054e75e910e5e8",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/906bb4c58faa8e2c1c62e295f8054e75e910e5e8"
    }
  ],
  "stats": {
    "total": 31,
    "additions": 10,
    "deletions": 21
  },
  "files": [
    {
      "sha": "ccc0baafb1e45eeb63e230e5cde41d4fe0a98db3",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7151c1af38e250fa4d024fa53f1cd5b3fc199314/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7151c1af38e250fa4d024fa53f1cd5b3fc199314/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=7151c1af38e250fa4d024fa53f1cd5b3fc199314",
      "patch": "@@ -1,3 +1,10 @@\n+2020-04-24  Tom Tromey  <tom@tromey.com>\n+\n+\t* symtab.h (symbol_get_demangled_name): Don't declare.\n+\t* symtab.c (symbol_get_demangled_name): Remove.\n+\t(general_symbol_info::natural_name)\n+\t(general_symbol_info::demangled_name): Update.\n+\n 2020-04-24  Tom Tromey  <tom@tromey.com>\n \n \tPR rust/25025:"
    },
    {
      "sha": "652384cd469e414a1e5b7adfb118234795e167bd",
      "filename": "gdb/symtab.c",
      "status": "modified",
      "additions": 3,
      "deletions": 18,
      "changes": 21,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7151c1af38e250fa4d024fa53f1cd5b3fc199314/gdb/symtab.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7151c1af38e250fa4d024fa53f1cd5b3fc199314/gdb/symtab.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/symtab.c?ref=7151c1af38e250fa4d024fa53f1cd5b3fc199314",
      "patch": "@@ -690,21 +690,6 @@ general_symbol_info::set_demangled_name (const char *name,\n     language_specific.demangled_name = name;\n }\n \n-/* Return the demangled name of GSYMBOL.  */\n-\n-const char *\n-symbol_get_demangled_name (const struct general_symbol_info *gsymbol)\n-{\n-  if (gsymbol->language () == language_ada)\n-    {\n-      if (!gsymbol->ada_mangled)\n-\treturn NULL;\n-      /* Fall through.  */\n-    }\n-\n-  return gsymbol->language_specific.demangled_name;\n-}\n-\n \f\n /* Initialize the language dependent portion of a symbol\n    depending upon the language for the symbol.  */\n@@ -976,8 +961,8 @@ general_symbol_info::natural_name () const\n     case language_objc:\n     case language_fortran:\n     case language_rust:\n-      if (symbol_get_demangled_name (this) != NULL)\n-\treturn symbol_get_demangled_name (this);\n+      if (language_specific.demangled_name != nullptr)\n+\treturn language_specific.demangled_name;\n       break;\n     case language_ada:\n       return ada_decode_symbol (this);\n@@ -1002,7 +987,7 @@ general_symbol_info::demangled_name () const\n     case language_objc:\n     case language_fortran:\n     case language_rust:\n-      dem_name = symbol_get_demangled_name (this);\n+      dem_name = language_specific.demangled_name;\n       break;\n     case language_ada:\n       dem_name = ada_decode_symbol (this);"
    },
    {
      "sha": "5c5db0fabacffaee52cf8dd7517c856c99f8a0cf",
      "filename": "gdb/symtab.h",
      "status": "modified",
      "additions": 0,
      "deletions": 3,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7151c1af38e250fa4d024fa53f1cd5b3fc199314/gdb/symtab.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7151c1af38e250fa4d024fa53f1cd5b3fc199314/gdb/symtab.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/symtab.h?ref=7151c1af38e250fa4d024fa53f1cd5b3fc199314",
      "patch": "@@ -542,9 +542,6 @@ struct general_symbol_info\n   short section;\n };\n \n-extern const char *symbol_get_demangled_name\n-  (const struct general_symbol_info *);\n-\n extern CORE_ADDR symbol_overlayed_address (CORE_ADDR, struct obj_section *);\n \n /* Return the address of SYM.  The MAYBE_COPIED flag must be set on"
    }
  ]
}