{
  "sha": "b4ef5aeb3a1880490f9441655d9de74727c9063a",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YjRlZjVhZWIzYTE4ODA0OTBmOTQ0MTY1NWQ5ZGU3NDcyN2M5MDYzYQ==",
  "commit": {
    "author": {
      "name": "Tom Tromey",
      "email": "tom@tromey.com",
      "date": "2019-07-05T23:14:46Z"
    },
    "committer": {
      "name": "Tom Tromey",
      "email": "tom@tromey.com",
      "date": "2019-08-13T20:52:09Z"
    },
    "message": "Change tui_check_and_display_highlight_if_needed to be a method\n\nThis changes tui_check_and_display_highlight_if_needed to be a method\non tui_win_info.  This makes it clear that the NULL check in that\nfunction is not needed, so it is removed here.\n\ngdb/ChangeLog\n2019-08-13  Tom Tromey  <tom@tromey.com>\n\n\t* tui/tui-winsource.c (tui_erase_source_content)\n\t(tui_show_source_content, tui_source_window_base::refresh_all):\n\tUpdate.\n\t* tui/tui-wingeneral.h\n\t(tui_check_and_display_highlight_if_needed): Don't declare.\n\t* tui/tui-wingeneral.c\n\t(tui_win_info::check_and_display_highlight_if_needed): Rename from\n\tcheck_and_display_highlight_if_needed.\n\t* tui/tui-win.c (tui_rehighlight_all)\n\t(tui_win_info::make_visible_with_new_height): Update.\n\t* tui/tui-regs.c (tui_data_window::display_registers_from_line)\n\t(tui_data_window::erase_data_content)\n\t(tui_data_window::display_all_data): Update.\n\t* tui/tui-data.h (struct tui_win_info)\n\t<check_and_display_highlight_if_needed>: Declare.",
    "tree": {
      "sha": "991ca037ba947b6b55c5ae26f2b654df62e839b6",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/991ca037ba947b6b55c5ae26f2b654df62e839b6"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/b4ef5aeb3a1880490f9441655d9de74727c9063a",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/b4ef5aeb3a1880490f9441655d9de74727c9063a",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/b4ef5aeb3a1880490f9441655d9de74727c9063a",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/b4ef5aeb3a1880490f9441655d9de74727c9063a/comments",
  "author": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "fede52738f3ed3e375d84197380ae1a6cd35c6fe",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/fede52738f3ed3e375d84197380ae1a6cd35c6fe",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/fede52738f3ed3e375d84197380ae1a6cd35c6fe"
    }
  ],
  "stats": {
    "total": 48,
    "additions": 33,
    "deletions": 15
  },
  "files": [
    {
      "sha": "1c2b0d803c0b84c9233856a618f14b188db9dbab",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 18,
      "deletions": 0,
      "changes": 18,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b4ef5aeb3a1880490f9441655d9de74727c9063a/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b4ef5aeb3a1880490f9441655d9de74727c9063a/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=b4ef5aeb3a1880490f9441655d9de74727c9063a",
      "patch": "@@ -1,3 +1,21 @@\n+2019-08-13  Tom Tromey  <tom@tromey.com>\n+\n+\t* tui/tui-winsource.c (tui_erase_source_content)\n+\t(tui_show_source_content, tui_source_window_base::refresh_all):\n+\tUpdate.\n+\t* tui/tui-wingeneral.h\n+\t(tui_check_and_display_highlight_if_needed): Don't declare.\n+\t* tui/tui-wingeneral.c\n+\t(tui_win_info::check_and_display_highlight_if_needed): Rename from\n+\tcheck_and_display_highlight_if_needed.\n+\t* tui/tui-win.c (tui_rehighlight_all)\n+\t(tui_win_info::make_visible_with_new_height): Update.\n+\t* tui/tui-regs.c (tui_data_window::display_registers_from_line)\n+\t(tui_data_window::erase_data_content)\n+\t(tui_data_window::display_all_data): Update.\n+\t* tui/tui-data.h (struct tui_win_info)\n+\t<check_and_display_highlight_if_needed>: Declare.\n+\n 2019-08-13  Tom Tromey  <tom@tromey.com>\n \n \t* tui/tui-win.c (tui_resize_all): Call"
    },
    {
      "sha": "6683848bc186165dbd263d46efe486aa29e30e2f",
      "filename": "gdb/tui/tui-data.h",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b4ef5aeb3a1880490f9441655d9de74727c9063a/gdb/tui/tui-data.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b4ef5aeb3a1880490f9441655d9de74727c9063a/gdb/tui/tui-data.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/tui/tui-data.h?ref=b4ef5aeb3a1880490f9441655d9de74727c9063a",
      "patch": "@@ -291,6 +291,8 @@ struct tui_win_info : public tui_gen_win_info\n     return true;\n   }\n \n+  void check_and_display_highlight_if_needed ();\n+\n   /* Can this window ever be highlighted?  */\n   bool can_highlight = true;\n "
    },
    {
      "sha": "aaba94da46785ede7c276d6c5c41f8e8f6fbcd76",
      "filename": "gdb/tui/tui-regs.c",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b4ef5aeb3a1880490f9441655d9de74727c9063a/gdb/tui/tui-regs.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b4ef5aeb3a1880490f9441655d9de74727c9063a/gdb/tui/tui-regs.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/tui/tui-regs.c?ref=b4ef5aeb3a1880490f9441655d9de74727c9063a",
      "patch": "@@ -369,7 +369,7 @@ tui_data_window::display_reg_element_at_line (int start_element_no,\n int\n tui_data_window::display_registers_from_line (int line_no)\n {\n-  tui_check_and_display_highlight_if_needed (this);\n+  check_and_display_highlight_if_needed ();\n   if (!regs_content.empty ())\n     {\n       int element_no;\n@@ -436,7 +436,7 @@ void\n tui_data_window::erase_data_content (const char *prompt)\n {\n   werase (handle);\n-  tui_check_and_display_highlight_if_needed (this);\n+  check_and_display_highlight_if_needed ();\n   if (prompt != NULL)\n     {\n       int half_width = (width - 2) / 2;\n@@ -462,7 +462,7 @@ tui_data_window::display_all_data ()\n     {\n       erase_data_content (NULL);\n       delete_data_content_windows ();\n-      tui_check_and_display_highlight_if_needed (this);\n+      check_and_display_highlight_if_needed ();\n       display_registers_from (0);\n     }\n }"
    },
    {
      "sha": "ff4f2ee5b3983b32df8bb7adad97c3724f333c11",
      "filename": "gdb/tui/tui-win.c",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b4ef5aeb3a1880490f9441655d9de74727c9063a/gdb/tui/tui-win.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b4ef5aeb3a1880490f9441655d9de74727c9063a/gdb/tui/tui-win.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/tui/tui-win.c?ref=b4ef5aeb3a1880490f9441655d9de74727c9063a",
      "patch": "@@ -515,7 +515,7 @@ void\n tui_rehighlight_all (void)\n {\n   for (tui_win_info *win_info : all_tui_windows ())\n-    tui_check_and_display_highlight_if_needed (win_info);\n+    win_info->check_and_display_highlight_if_needed ();\n }\n \n /* Resize all the windows based on the terminal size.  This function\n@@ -1205,7 +1205,7 @@ void\n tui_win_info::make_visible_with_new_height ()\n {\n   make_visible (true);\n-  tui_check_and_display_highlight_if_needed (this);\n+  check_and_display_highlight_if_needed ();\n   do_make_visible_with_new_height ();\n }\n "
    },
    {
      "sha": "8ff5aa5fce8e40ab84b6b7f69e060f587da07b72",
      "filename": "gdb/tui/tui-wingeneral.c",
      "status": "modified",
      "additions": 5,
      "deletions": 6,
      "changes": 11,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b4ef5aeb3a1880490f9441655d9de74727c9063a/gdb/tui/tui-wingeneral.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b4ef5aeb3a1880490f9441655d9de74727c9063a/gdb/tui/tui-wingeneral.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/tui/tui-wingeneral.c?ref=b4ef5aeb3a1880490f9441655d9de74727c9063a",
      "patch": "@@ -112,15 +112,14 @@ tui_highlight_win (struct tui_win_info *win_info)\n }\n \n void\n-tui_check_and_display_highlight_if_needed (struct tui_win_info *win_info)\n+tui_win_info::check_and_display_highlight_if_needed ()\n {\n-  if (win_info != NULL && win_info->can_highlight)\n+  if (can_highlight)\n     {\n-      if (win_info->is_highlighted)\n-\ttui_highlight_win (win_info);\n+      if (is_highlighted)\n+\ttui_highlight_win (this);\n       else\n-\ttui_unhighlight_win (win_info);\n-\n+\ttui_unhighlight_win (this);\n     }\n }\n "
    },
    {
      "sha": "54d6eb684f7a2c419de441eafef14cd33cc55999",
      "filename": "gdb/tui/tui-wingeneral.h",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b4ef5aeb3a1880490f9441655d9de74727c9063a/gdb/tui/tui-wingeneral.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b4ef5aeb3a1880490f9441655d9de74727c9063a/gdb/tui/tui-wingeneral.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/tui/tui-wingeneral.h?ref=b4ef5aeb3a1880490f9441655d9de74727c9063a",
      "patch": "@@ -33,7 +33,6 @@ extern void tui_make_all_invisible (void);\n extern void tui_unhighlight_win (struct tui_win_info *);\n extern void tui_make_window (struct tui_gen_win_info *, enum tui_box);\n extern void tui_highlight_win (struct tui_win_info *);\n-extern void tui_check_and_display_highlight_if_needed (struct tui_win_info *);\n extern void tui_refresh_all ();\n extern void tui_delete_win (WINDOW *window);\n "
    },
    {
      "sha": "6a72c6fe74b697b583229f86efccf38606f54690",
      "filename": "gdb/tui/tui-winsource.c",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b4ef5aeb3a1880490f9441655d9de74727c9063a/gdb/tui/tui-winsource.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b4ef5aeb3a1880490f9441655d9de74727c9063a/gdb/tui/tui-winsource.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/tui/tui-winsource.c?ref=b4ef5aeb3a1880490f9441655d9de74727c9063a",
      "patch": "@@ -225,7 +225,7 @@ tui_erase_source_content (struct tui_source_window_base *win_info)\n   if (win_info->handle != NULL)\n     {\n       werase (win_info->handle);\n-      tui_check_and_display_highlight_if_needed (win_info);\n+      win_info->check_and_display_highlight_if_needed ();\n \n       const char *no_src_str;\n \n@@ -287,7 +287,7 @@ tui_show_source_content (struct tui_source_window_base *win_info)\n   else\n     tui_erase_source_content (win_info);\n \n-  tui_check_and_display_highlight_if_needed (win_info);\n+  win_info->check_and_display_highlight_if_needed ();\n   win_info->refresh_window ();\n }\n \n@@ -333,7 +333,7 @@ void\n tui_source_window_base::refresh_all ()\n {\n   tui_show_source_content (this);\n-  tui_check_and_display_highlight_if_needed (this);\n+  check_and_display_highlight_if_needed ();\n   tui_erase_exec_info_content (this);\n   tui_update_exec_info (this);\n }"
    }
  ]
}