{
  "sha": "5b45e89f56db79fc22ecbb1657eff8ef39fc2c5f",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NWI0NWU4OWY1NmRiNzlmYzIyZWNiYjE2NTdlZmY4ZWYzOWZjMmM1Zg==",
  "commit": {
    "author": {
      "name": "Dimitar Dimitrov",
      "email": "dimitar@dinux.eu",
      "date": "2021-05-10T13:00:00Z"
    },
    "committer": {
      "name": "Nick Clifton",
      "email": "nickc@redhat.com",
      "date": "2021-05-10T13:00:00Z"
    },
    "message": "Enable linker garbage collection for the PRU target.\n\nbfd\t* elf32-pru.c (elf_backend_can_gc_sections): Define as 1.\n\nld\t* testsuite/ld-elf/group8a.d: Remove pru from XFAIL list.\n\t* testsuite/ld-elf/group8b.d: Ditto.\n\t* testsuite/ld-elf/group9a.d: Ditto.\n\t* testsuite/ld-elf/group9b.d: Ditto.\n\t* testsuite/ld-elf/pr12851.d: Ditto.\n\t* testsuite/ld-elf/pr22677.d: Ditto.\n\t* testsuite/lib/ld-lib.exp (check_gc_sections_available): Remove\n\tpru from list.",
    "tree": {
      "sha": "615c47ed75ce7f0fc1057af369573119703388ab",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/615c47ed75ce7f0fc1057af369573119703388ab"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/5b45e89f56db79fc22ecbb1657eff8ef39fc2c5f",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/5b45e89f56db79fc22ecbb1657eff8ef39fc2c5f",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/5b45e89f56db79fc22ecbb1657eff8ef39fc2c5f",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/5b45e89f56db79fc22ecbb1657eff8ef39fc2c5f/comments",
  "author": null,
  "committer": {
    "login": "nickclifton",
    "id": 31441682,
    "node_id": "MDQ6VXNlcjMxNDQxNjgy",
    "avatar_url": "https://avatars.githubusercontent.com/u/31441682?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nickclifton",
    "html_url": "https://github.com/nickclifton",
    "followers_url": "https://api.github.com/users/nickclifton/followers",
    "following_url": "https://api.github.com/users/nickclifton/following{/other_user}",
    "gists_url": "https://api.github.com/users/nickclifton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nickclifton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nickclifton/subscriptions",
    "organizations_url": "https://api.github.com/users/nickclifton/orgs",
    "repos_url": "https://api.github.com/users/nickclifton/repos",
    "events_url": "https://api.github.com/users/nickclifton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nickclifton/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "261980de18b895d270dc7876d22b706db696e669",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/261980de18b895d270dc7876d22b706db696e669",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/261980de18b895d270dc7876d22b706db696e669"
    }
  ],
  "stats": {
    "total": 29,
    "additions": 22,
    "deletions": 7
  },
  "files": [
    {
      "sha": "39395faff36d81628070be9cc4b0354464b23c3e",
      "filename": "bfd/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5b45e89f56db79fc22ecbb1657eff8ef39fc2c5f/bfd/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5b45e89f56db79fc22ecbb1657eff8ef39fc2c5f/bfd/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/ChangeLog?ref=5b45e89f56db79fc22ecbb1657eff8ef39fc2c5f",
      "patch": "@@ -1,3 +1,7 @@\n+2021-05-10  Dimitar Dimitrov  <dimitar@dinux.eu>\n+\n+\t* elf32-pru.c (elf_backend_can_gc_sections): Define as 1.\n+\n 2021-05-08  Mike Frysinger  <vapier@gentoo.org>\n \n \t* doc/Makefile.am (html-local, bfd/index.html): New targets."
    },
    {
      "sha": "b93684408435308fb77a917d7391d1ad77c2c454",
      "filename": "bfd/elf32-pru.c",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5b45e89f56db79fc22ecbb1657eff8ef39fc2c5f/bfd/elf32-pru.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5b45e89f56db79fc22ecbb1657eff8ef39fc2c5f/bfd/elf32-pru.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/elf32-pru.c?ref=5b45e89f56db79fc22ecbb1657eff8ef39fc2c5f",
      "patch": "@@ -1601,6 +1601,7 @@ pru_elf32_link_hash_table_create (bfd *abfd)\n \n #define elf_backend_relocate_section\tpru_elf32_relocate_section\n #define bfd_elf32_bfd_relax_section\tpru_elf32_relax_section\n+#define elf_backend_can_gc_sections\t1\n \n #define TARGET_LITTLE_SYM\t\tpru_elf32_vec\n #define TARGET_LITTLE_NAME\t\t\"elf32-pru\""
    },
    {
      "sha": "e92638a162ba66c8301089a5b136404b5b25a06b",
      "filename": "ld/ChangeLog",
      "status": "modified",
      "additions": 11,
      "deletions": 0,
      "changes": 11,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5b45e89f56db79fc22ecbb1657eff8ef39fc2c5f/ld/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5b45e89f56db79fc22ecbb1657eff8ef39fc2c5f/ld/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/ChangeLog?ref=5b45e89f56db79fc22ecbb1657eff8ef39fc2c5f",
      "patch": "@@ -1,3 +1,14 @@\n+2021-05-10  Dimitar Dimitrov  <dimitar@dinux.eu>\n+\n+\t* testsuite/ld-elf/group8a.d: Remove pru from XFAIL list.\n+\t* testsuite/ld-elf/group8b.d: Ditto.\n+\t* testsuite/ld-elf/group9a.d: Ditto.\n+\t* testsuite/ld-elf/group9b.d: Ditto.\n+\t* testsuite/ld-elf/pr12851.d: Ditto.\n+\t* testsuite/ld-elf/pr22677.d: Ditto.\n+\t* testsuite/lib/ld-lib.exp (check_gc_sections_available): Remove\n+\tpru from list.\n+\n 2021-05-10  Dimitar Dimitrov  <dimitar@dinux.eu>\n \n \t* scripttempl/pru.sc (.resource_table): Add ALIGN directive."
    },
    {
      "sha": "96cab9e014616f040d8d7cddcfd7ffdfb6eeb79b",
      "filename": "ld/testsuite/ld-elf/group8a.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5b45e89f56db79fc22ecbb1657eff8ef39fc2c5f/ld/testsuite/ld-elf/group8a.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5b45e89f56db79fc22ecbb1657eff8ef39fc2c5f/ld/testsuite/ld-elf/group8a.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-elf/group8a.d?ref=5b45e89f56db79fc22ecbb1657eff8ef39fc2c5f",
      "patch": "@@ -2,7 +2,7 @@\n #ld: -r --gc-sections --entry foo\n #readelf: -g --wide\n # generic linker targets don't support --gc-sections, nor do a bunch of others\n-#xfail: [is_generic] hppa64-*-* mep-*-* mn10200-*-* pru-*-*\n+#xfail: [is_generic] hppa64-*-* mep-*-* mn10200-*-*\n \n COMDAT group section \\[[ 0-9]+\\] `.group' \\[foo\\] contains . sections:\n    \\[Index\\]    Name"
    },
    {
      "sha": "8ff5b97d7e8f77285590ae29bf9c9bd6e33b347f",
      "filename": "ld/testsuite/ld-elf/group8b.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5b45e89f56db79fc22ecbb1657eff8ef39fc2c5f/ld/testsuite/ld-elf/group8b.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5b45e89f56db79fc22ecbb1657eff8ef39fc2c5f/ld/testsuite/ld-elf/group8b.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-elf/group8b.d?ref=5b45e89f56db79fc22ecbb1657eff8ef39fc2c5f",
      "patch": "@@ -2,7 +2,7 @@\n #ld: -r --gc-sections --entry bar\n #readelf: -g --wide\n # generic linker targets don't support --gc-sections, nor do a bunch of others\n-#xfail: [is_generic] hppa64-*-* mep-*-* mn10200-*-* pru-*-*\n+#xfail: [is_generic] hppa64-*-* mep-*-* mn10200-*-*\n \n COMDAT group section \\[[ 0-9]+\\] `.group' \\[bar\\] contains . sections:\n    \\[Index\\]    Name"
    },
    {
      "sha": "a44e75b0ad9a3c46d04c13499111c8e4e0827691",
      "filename": "ld/testsuite/ld-elf/group9a.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5b45e89f56db79fc22ecbb1657eff8ef39fc2c5f/ld/testsuite/ld-elf/group9a.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5b45e89f56db79fc22ecbb1657eff8ef39fc2c5f/ld/testsuite/ld-elf/group9a.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-elf/group9a.d?ref=5b45e89f56db79fc22ecbb1657eff8ef39fc2c5f",
      "patch": "@@ -2,7 +2,7 @@\n #ld: -r --gc-sections --entry foo\n #readelf: -g --wide\n # generic linker targets don't support --gc-sections, nor do a bunch of others\n-#xfail: [is_generic] hppa64-*-* mep-*-* mn10200-*-* pru-*-*\n+#xfail: [is_generic] hppa64-*-* mep-*-* mn10200-*-*\n \n COMDAT group section \\[[ 0-9]+\\] `.group' \\[foo\\] contains . sections:\n    \\[Index\\]    Name"
    },
    {
      "sha": "0007ebee9fd3f4b48f2e23e5eee69eec6de6f687",
      "filename": "ld/testsuite/ld-elf/group9b.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5b45e89f56db79fc22ecbb1657eff8ef39fc2c5f/ld/testsuite/ld-elf/group9b.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5b45e89f56db79fc22ecbb1657eff8ef39fc2c5f/ld/testsuite/ld-elf/group9b.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-elf/group9b.d?ref=5b45e89f56db79fc22ecbb1657eff8ef39fc2c5f",
      "patch": "@@ -2,7 +2,7 @@\n #ld: -r --gc-sections --entry bar\n #readelf: -g --wide\n # generic linker targets don't support --gc-sections, nor do a bunch of others\n-#xfail: [is_generic] hppa64-*-* mep-*-* mn10200-*-* pru-*-*\n+#xfail: [is_generic] hppa64-*-* mep-*-* mn10200-*-*\n \n COMDAT group section \\[[ 0-9]+\\] `.group' \\[foo\\] contains . sections:\n    \\[Index\\]    Name"
    },
    {
      "sha": "8b88f032c71e737be986e4174a92f51ab362448c",
      "filename": "ld/testsuite/ld-elf/pr12851.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5b45e89f56db79fc22ecbb1657eff8ef39fc2c5f/ld/testsuite/ld-elf/pr12851.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5b45e89f56db79fc22ecbb1657eff8ef39fc2c5f/ld/testsuite/ld-elf/pr12851.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-elf/pr12851.d?ref=5b45e89f56db79fc22ecbb1657eff8ef39fc2c5f",
      "patch": "@@ -2,7 +2,7 @@\n #source: start.s\n #ld: --gc-sections\n #readelf: -s --wide\n-#xfail: [is_generic] hppa64-*-* mep-*-* mn10200-*-* pru-*-*\n+#xfail: [is_generic] hppa64-*-* mep-*-* mn10200-*-*\n # generic linker targets don't support --gc-sections, nor do a bunch of others\n \n #..."
    },
    {
      "sha": "e229f85a44865efa01b5d2a142fa836d8296c85d",
      "filename": "ld/testsuite/ld-elf/pr22677.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5b45e89f56db79fc22ecbb1657eff8ef39fc2c5f/ld/testsuite/ld-elf/pr22677.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5b45e89f56db79fc22ecbb1657eff8ef39fc2c5f/ld/testsuite/ld-elf/pr22677.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-elf/pr22677.d?ref=5b45e89f56db79fc22ecbb1657eff8ef39fc2c5f",
      "patch": "@@ -2,7 +2,7 @@\n #readelf: -S --wide\n # generic linker targets don't support --gc-sections, nor do a bunch of\n # others.\n-#xfail: [is_generic] hppa64-*-* mep-*-* mn10200-*-* pru-*-*\n+#xfail: [is_generic] hppa64-*-* mep-*-* mn10200-*-*\n \n #...\n   \\[[ 0-9]+\\] \\.preinit_array\\.01000[ \\t]+PREINIT_ARRAY[ \\t0-9a-f]+WA?.*"
    },
    {
      "sha": "8fd14afc63efbf7098cc1056047ca499338d7a9d",
      "filename": "ld/testsuite/lib/ld-lib.exp",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5b45e89f56db79fc22ecbb1657eff8ef39fc2c5f/ld/testsuite/lib/ld-lib.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5b45e89f56db79fc22ecbb1657eff8ef39fc2c5f/ld/testsuite/lib/ld-lib.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/lib/ld-lib.exp?ref=5b45e89f56db79fc22ecbb1657eff8ef39fc2c5f",
      "patch": "@@ -1090,7 +1090,6 @@ proc check_gc_sections_available { } {\n \t    || [istarget mep-*-*]\n \t    || [istarget mn10200-*-*]\n \t    || [istarget pj*-*-*]\n-\t    || [istarget pru*-*-*]\n \t    || [istarget s12z-*-*]\n \t    || [istarget xgate-*-*]\n \t    || [istarget z80-*-*] } {"
    }
  ]
}