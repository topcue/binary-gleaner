{
  "sha": "1fea0d5379be553f9bcee7c50fba4cff00176d1b",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MWZlYTBkNTM3OWJlNTUzZjliY2VlN2M1MGZiYTRjZmYwMDE3NmQxYg==",
  "commit": {
    "author": {
      "name": "Simon Marchi",
      "email": "simon.marchi@ericsson.com",
      "date": "2019-01-16T19:32:13Z"
    },
    "committer": {
      "name": "Simon Marchi",
      "email": "simon.marchi@ericsson.com",
      "date": "2019-01-16T19:32:32Z"
    },
    "message": "doc: Add table of MI versions\n\nThis patch adds a table summarizing the history or MI versions:\n\n- The version number\n- Which GDB version introduced it\n- Breaking changes compared to the previous version\n\nThe goal of the table is to help writers of front ends know which\nversion of MI they can use with a given GDB version.  It will also help\nthem update their code to work against a newer MI version.\n\nRight now, we just have 1 and 2, but we expect to add an entry for 3\nsoon.  I did a bit of archelogy and reverse engineering of the code to\ncome up with the breaking changes for MI 2.\n\nI did some changes to the text around it, some things that I thought\nneeded to be clarified, seemed a bit dated or seemed just wrong\n(especially \"Apart from mi0, new versions of @value{GDBN} will not\nsupport old versions of MI\").\n\ngdb/doc/ChangeLog:\n\n\t* gdb.texinfo (GDB/MI Development and Front Ends): Add table of\n\tMI versions.  Update text around it.",
    "tree": {
      "sha": "61e85eaff80e9caf0bf726d273bb12b298b5421a",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/61e85eaff80e9caf0bf726d273bb12b298b5421a"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/1fea0d5379be553f9bcee7c50fba4cff00176d1b",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/1fea0d5379be553f9bcee7c50fba4cff00176d1b",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/1fea0d5379be553f9bcee7c50fba4cff00176d1b",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/1fea0d5379be553f9bcee7c50fba4cff00176d1b/comments",
  "author": null,
  "committer": null,
  "parents": [
    {
      "sha": "e7b47f2e68c6eaff916ea4d1202a77e15730f48f",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/e7b47f2e68c6eaff916ea4d1202a77e15730f48f",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/e7b47f2e68c6eaff916ea4d1202a77e15730f48f"
    }
  ],
  "stats": {
    "total": 64,
    "additions": 53,
    "deletions": 11
  },
  "files": [
    {
      "sha": "d38d4625c48cbac5ae18e23b670a520460146a95",
      "filename": "gdb/doc/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/1fea0d5379be553f9bcee7c50fba4cff00176d1b/gdb/doc/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/1fea0d5379be553f9bcee7c50fba4cff00176d1b/gdb/doc/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/doc/ChangeLog?ref=1fea0d5379be553f9bcee7c50fba4cff00176d1b",
      "patch": "@@ -1,3 +1,8 @@\n+2019-01-16  Simon Marchi  <simon.marchi@ericsson.com>\n+\n+\t* gdb.texinfo (GDB/MI Development and Front Ends): Add table of\n+\tMI versions.  Update text around it.\n+\n 2019-01-14  Pedro Franco de Carvalho  <pedromfc@linux.ibm.com>\n \n \t* gdb.texinfo (PowerPC Features): Document the alias"
    },
    {
      "sha": "173d18be6f7bf07d9f351abd96d4ae1a7a158651",
      "filename": "gdb/doc/gdb.texinfo",
      "status": "modified",
      "additions": 48,
      "deletions": 11,
      "changes": 59,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/1fea0d5379be553f9bcee7c50fba4cff00176d1b/gdb/doc/gdb.texinfo",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/1fea0d5379be553f9bcee7c50fba4cff00176d1b/gdb/doc/gdb.texinfo",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/doc/gdb.texinfo?ref=1fea0d5379be553f9bcee7c50fba4cff00176d1b",
      "patch": "@@ -27761,11 +27761,10 @@ recommended that front ends use the @code{-interpreter-exec} command\n The application which takes the MI output and presents the state of the\n program being debugged to the user is called a @dfn{front end}.\n \n-Although @sc{gdb/mi} is still incomplete, it is currently being used\n-by a variety of front ends to @value{GDBN}.  This makes it difficult\n-to introduce new functionality without breaking existing usage.  This\n-section tries to minimize the problems by describing how the protocol\n-might change.\n+Since @sc{gdb/mi} is used by a variety of front ends to @value{GDBN}, changes\n+to the MI interface may break existing usage.  This section describes how the\n+protocol changes and how to request previous version of the protocol when it\n+does.\n \n Some changes in MI need not break a carefully designed front end, and\n for these the MI version will remain unchanged.  The following is a\n@@ -27791,13 +27790,51 @@ The range of values for fields with specified values, e.g.,\n @end itemize\n \n If the changes are likely to break front ends, the MI version level\n-will be increased by one.  This will allow the front end to parse the\n-output according to the MI version.  Apart from mi0, new versions of\n-@value{GDBN} will not support old versions of MI and it will be the\n-responsibility of the front end to work with the new one.\n+will be increased by one.  The new versions of the MI protocol are not compatible\n+with the old versions.  Old versions of MI remain available, allowing front ends\n+to keep using them until they are modified to use the latest MI version.\n \n-@c Starting with mi3, add a new command -mi-version that prints the MI\n-@c version?\n+Since @code{--interpreter=mi} always points to the latest MI version, it is\n+recommended that front ends request a specific version of MI when launching\n+@value{GDBN} (e.g. @code{--interpreter=mi2}) to make sure they get an\n+interpreter with the MI version they expect.\n+\n+The following table gives a summary of the the released versions of the MI\n+interface: the version number, the version of GDB in which it first appeared\n+and the breaking changes compared to the previous version.\n+\n+@multitable @columnfractions .05 .05 .9\n+@headitem MI version @tab GDB version @tab Breaking changes\n+\n+@item\n+@center 1\n+@tab\n+@center 5.1\n+@tab\n+None\n+\n+@item\n+@center 2\n+@tab\n+@center 6.0\n+@tab\n+\n+@itemize\n+@item\n+The @code{-environment-pwd}, @code{-environment-directory} and\n+@code{-environment-path} commands now returns values using the MI output\n+syntax, rather than CLI output syntax.\n+\n+@item\n+@code{-var-list-children}'s @code{children} result field is now a list, rather\n+than a tuple.\n+\n+@item\n+@code{-var-update}'s @code{changelist} result field is now a list, rather than\n+a tuple.\n+@end itemize\n+\n+@end multitable\n \n The best way to avoid unexpected changes in MI that might break your front\n end is to make your project known to @value{GDBN} developers and"
    }
  ]
}