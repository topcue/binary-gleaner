{
  "sha": "0df28b1b4b319a63c556bfb4beec491ea715ca57",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MGRmMjhiMWI0YjMxOWE2M2M1NTZiZmI0YmVlYzQ5MWVhNzE1Y2E1Nw==",
  "commit": {
    "author": {
      "name": "Tankut Baris Aktemur",
      "email": "tankut.baris.aktemur@intel.com",
      "date": "2020-02-17T15:11:58Z"
    },
    "committer": {
      "name": "Tankut Baris Aktemur",
      "email": "tankut.baris.aktemur@intel.com",
      "date": "2020-02-20T16:35:13Z"
    },
    "message": "gdbserver: turn target op 'process_qsupported' into a method\n\ngdbserver/ChangeLog:\n2020-02-20  Tankut Baris Aktemur  <tankut.baris.aktemur@intel.com>\n\n\tTurn process_stratum_target's process_qsupported op into a method\n\tof process_target.\n\n\t* target.h (struct process_stratum_target): Remove the target op.\n\t(class process_target): Add the target op.\n\t(target_process_qsupported): Update the macro.\n\t* target.cc (process_target::process_qsupported): Define.\n\n\tUpdate the derived classes and callers below.\n\n\t* linux-low.cc (linux_target_ops): Update.\n\t(linux_process_qsupported): Turn into ...\n\t(linux_process_target::process_qsupported): ... this.\n\t* linux-low.h (class linux_process_target): Update.\n\t* lynx-low.cc (lynx_target_ops): Update.\n\t* nto-low.cc (nto_target_ops): Update.\n\t* win32-low.cc (win32_target_ops): Update.",
    "tree": {
      "sha": "70414d4bc5df8a26cdcc6b3e2b1a702d25d614cc",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/70414d4bc5df8a26cdcc6b3e2b1a702d25d614cc"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/0df28b1b4b319a63c556bfb4beec491ea715ca57",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/0df28b1b4b319a63c556bfb4beec491ea715ca57",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/0df28b1b4b319a63c556bfb4beec491ea715ca57",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/0df28b1b4b319a63c556bfb4beec491ea715ca57/comments",
  "author": {
    "login": "barisaktemur",
    "id": 55686642,
    "node_id": "MDQ6VXNlcjU1Njg2NjQy",
    "avatar_url": "https://avatars.githubusercontent.com/u/55686642?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/barisaktemur",
    "html_url": "https://github.com/barisaktemur",
    "followers_url": "https://api.github.com/users/barisaktemur/followers",
    "following_url": "https://api.github.com/users/barisaktemur/following{/other_user}",
    "gists_url": "https://api.github.com/users/barisaktemur/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/barisaktemur/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/barisaktemur/subscriptions",
    "organizations_url": "https://api.github.com/users/barisaktemur/orgs",
    "repos_url": "https://api.github.com/users/barisaktemur/repos",
    "events_url": "https://api.github.com/users/barisaktemur/events{/privacy}",
    "received_events_url": "https://api.github.com/users/barisaktemur/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "barisaktemur",
    "id": 55686642,
    "node_id": "MDQ6VXNlcjU1Njg2NjQy",
    "avatar_url": "https://avatars.githubusercontent.com/u/55686642?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/barisaktemur",
    "html_url": "https://github.com/barisaktemur",
    "followers_url": "https://api.github.com/users/barisaktemur/followers",
    "following_url": "https://api.github.com/users/barisaktemur/following{/other_user}",
    "gists_url": "https://api.github.com/users/barisaktemur/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/barisaktemur/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/barisaktemur/subscriptions",
    "organizations_url": "https://api.github.com/users/barisaktemur/orgs",
    "repos_url": "https://api.github.com/users/barisaktemur/repos",
    "events_url": "https://api.github.com/users/barisaktemur/events{/privacy}",
    "received_events_url": "https://api.github.com/users/barisaktemur/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "9da41fdae03e8cb020d9a92a7c867ec98b7fd313",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/9da41fdae03e8cb020d9a92a7c867ec98b7fd313",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/9da41fdae03e8cb020d9a92a7c867ec98b7fd313"
    }
  ],
  "stats": {
    "total": 50,
    "additions": 35,
    "deletions": 15
  },
  "files": [
    {
      "sha": "b8d2014d25c4aa3deea2660d935ba899f1adbac7",
      "filename": "gdbserver/ChangeLog",
      "status": "modified",
      "additions": 20,
      "deletions": 0,
      "changes": 20,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/0df28b1b4b319a63c556bfb4beec491ea715ca57/gdbserver/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/0df28b1b4b319a63c556bfb4beec491ea715ca57/gdbserver/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/ChangeLog?ref=0df28b1b4b319a63c556bfb4beec491ea715ca57",
      "patch": "@@ -1,3 +1,23 @@\n+2020-02-20  Tankut Baris Aktemur  <tankut.baris.aktemur@intel.com>\n+\n+\tTurn process_stratum_target's process_qsupported op into a method\n+\tof process_target.\n+\n+\t* target.h (struct process_stratum_target): Remove the target op.\n+\t(class process_target): Add the target op.\n+\t(target_process_qsupported): Update the macro.\n+\t* target.cc (process_target::process_qsupported): Define.\n+\n+\tUpdate the derived classes and callers below.\n+\n+\t* linux-low.cc (linux_target_ops): Update.\n+\t(linux_process_qsupported): Turn into ...\n+\t(linux_process_target::process_qsupported): ... this.\n+\t* linux-low.h (class linux_process_target): Update.\n+\t* lynx-low.cc (lynx_target_ops): Update.\n+\t* nto-low.cc (nto_target_ops): Update.\n+\t* win32-low.cc (win32_target_ops): Update.\n+\n 2020-02-20  Tankut Baris Aktemur  <tankut.baris.aktemur@intel.com>\n \n \tTurn process_stratum_target's read_loadmap op into a method of"
    },
    {
      "sha": "7927a18402a8d7d8f0493d4686a1245dcb00738d",
      "filename": "gdbserver/linux-low.cc",
      "status": "modified",
      "additions": 2,
      "deletions": 3,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/0df28b1b4b319a63c556bfb4beec491ea715ca57/gdbserver/linux-low.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/0df28b1b4b319a63c556bfb4beec491ea715ca57/gdbserver/linux-low.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/linux-low.cc?ref=0df28b1b4b319a63c556bfb4beec491ea715ca57",
      "patch": "@@ -6523,8 +6523,8 @@ linux_process_target::read_loadmap (const char *annex, CORE_ADDR offset,\n }\n #endif /* defined PT_GETDSBT || defined PTRACE_GETFDPIC */\n \n-static void\n-linux_process_qsupported (char **features, int count)\n+void\n+linux_process_target::process_qsupported (char **features, int count)\n {\n   if (the_low_target.process_qsupported != NULL)\n     the_low_target.process_qsupported (features, count);\n@@ -7449,7 +7449,6 @@ linux_get_hwcap2 (int wordsize)\n static linux_process_target the_linux_target;\n \n static process_stratum_target linux_target_ops = {\n-  linux_process_qsupported,\n   linux_supports_tracepoints,\n   linux_read_pc,\n   linux_write_pc,"
    },
    {
      "sha": "5c75ae44ecd730b2158a19ed7814ff648f231378",
      "filename": "gdbserver/linux-low.h",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/0df28b1b4b319a63c556bfb4beec491ea715ca57/gdbserver/linux-low.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/0df28b1b4b319a63c556bfb4beec491ea715ca57/gdbserver/linux-low.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/linux-low.h?ref=0df28b1b4b319a63c556bfb4beec491ea715ca57",
      "patch": "@@ -384,6 +384,8 @@ class linux_process_target : public process_target\n   int read_loadmap (const char *annex, CORE_ADDR offset,\n \t\t    unsigned char *myaddr, unsigned int len) override;\n #endif\n+\n+  void process_qsupported (char **features, int count) override;\n };\n \n #define get_thread_lwp(thr) ((struct lwp_info *) (thread_target_data (thr)))"
    },
    {
      "sha": "c42a9b401e511b2277b3957f06da26dfb8ebe651",
      "filename": "gdbserver/lynx-low.cc",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/0df28b1b4b319a63c556bfb4beec491ea715ca57/gdbserver/lynx-low.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/0df28b1b4b319a63c556bfb4beec491ea715ca57/gdbserver/lynx-low.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/lynx-low.cc?ref=0df28b1b4b319a63c556bfb4beec491ea715ca57",
      "patch": "@@ -735,7 +735,6 @@ static lynx_process_target the_lynx_target;\n /* The LynxOS target_ops vector.  */\n \n static process_stratum_target lynx_target_ops = {\n-  NULL,  /* process_qsupported */\n   NULL,  /* supports_tracepoints */\n   NULL,  /* read_pc */\n   NULL,  /* write_pc */"
    },
    {
      "sha": "86863f67f729f6a0cdbf4c57437f999bc057c38c",
      "filename": "gdbserver/nto-low.cc",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/0df28b1b4b319a63c556bfb4beec491ea715ca57/gdbserver/nto-low.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/0df28b1b4b319a63c556bfb4beec491ea715ca57/gdbserver/nto-low.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/nto-low.cc?ref=0df28b1b4b319a63c556bfb4beec491ea715ca57",
      "patch": "@@ -947,7 +947,6 @@ nto_sw_breakpoint_from_kind (int kind, int *size)\n static nto_process_target the_nto_target;\n \n static process_stratum_target nto_target_ops = {\n-  NULL, /* process_qsupported */\n   NULL, /* supports_tracepoints */\n   NULL, /* read_pc */\n   NULL, /* write_pc */"
    },
    {
      "sha": "49e4b01495cedd3f00cf0b562570847d0bf61a0b",
      "filename": "gdbserver/target.cc",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/0df28b1b4b319a63c556bfb4beec491ea715ca57/gdbserver/target.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/0df28b1b4b319a63c556bfb4beec491ea715ca57/gdbserver/target.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/target.cc?ref=0df28b1b4b319a63c556bfb4beec491ea715ca57",
      "patch": "@@ -602,3 +602,9 @@ process_target::read_loadmap (const char *annex, CORE_ADDR offset,\n {\n   gdb_assert_not_reached (\"target op read_loadmap not supported\");\n }\n+\n+void\n+process_target::process_qsupported (char **features, int count)\n+{\n+  /* Nop.  */\n+}"
    },
    {
      "sha": "61f13e3a6f64cf658ddfa50ff92005dabbdbbdb4",
      "filename": "gdbserver/target.h",
      "status": "modified",
      "additions": 5,
      "deletions": 9,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/0df28b1b4b319a63c556bfb4beec491ea715ca57/gdbserver/target.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/0df28b1b4b319a63c556bfb4beec491ea715ca57/gdbserver/target.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/target.h?ref=0df28b1b4b319a63c556bfb4beec491ea715ca57",
      "patch": "@@ -70,10 +70,6 @@ class process_target;\n    shared code.  */\n struct process_stratum_target\n {\n-  /* Target specific qSupported support.  FEATURES is an array of\n-     features with COUNT elements.  */\n-  void (*process_qsupported) (char **features, int count);\n-\n   /* Return 1 if the target supports tracepoints, 0 (or leave the\n      callback NULL) otherwise.  */\n   int (*supports_tracepoints) (void);\n@@ -489,6 +485,10 @@ class process_target\n   /* Read loadmaps.  Read LEN bytes at OFFSET into a buffer at MYADDR.  */\n   virtual int read_loadmap (const char *annex, CORE_ADDR offset,\n \t\t\t    unsigned char *myaddr, unsigned int len);\n+\n+  /* Target specific qSupported support.  FEATURES is an array of\n+     features with COUNT elements.  */\n+  virtual void process_qsupported (char **features, int count);\n };\n \n extern process_stratum_target *the_target;\n@@ -540,11 +540,7 @@ int kill_inferior (process_info *proc);\n   the_target->pt->async (enable)\n \n #define target_process_qsupported(features, count)\t\\\n-  do\t\t\t\t\t\t\t\\\n-    {\t\t\t\t\t\t\t\\\n-      if (the_target->process_qsupported)\t\t\\\n-\tthe_target->process_qsupported (features, count); \\\n-    } while (0)\n+  the_target->pt->process_qsupported (features, count)\n \n #define target_supports_catch_syscall()              \t\\\n   (the_target->supports_catch_syscall ?\t\t\t\\"
    },
    {
      "sha": "f068091dc987606e3ff02152dbf991c2b5c9dbb7",
      "filename": "gdbserver/win32-low.cc",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/0df28b1b4b319a63c556bfb4beec491ea715ca57/gdbserver/win32-low.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/0df28b1b4b319a63c556bfb4beec491ea715ca57/gdbserver/win32-low.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/win32-low.cc?ref=0df28b1b4b319a63c556bfb4beec491ea715ca57",
      "patch": "@@ -1852,7 +1852,6 @@ win32_sw_breakpoint_from_kind (int kind, int *size)\n static win32_process_target the_win32_target;\n \n static process_stratum_target win32_target_ops = {\n-  NULL, /* process_qsupported */\n   NULL, /* supports_tracepoints */\n   NULL, /* read_pc */\n   NULL, /* write_pc */"
    }
  ]
}