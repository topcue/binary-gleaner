{
  "sha": "e90a813d9660bb9d951963fd7ae03ce004a52ad6",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ZTkwYTgxM2Q5NjYwYmI5ZDk1MTk2M2ZkN2FlMDNjZTAwNGE1MmFkNg==",
  "commit": {
    "author": {
      "name": "Kevin Buettner",
      "email": "kevinb@redhat.com",
      "date": "2019-05-06T17:28:44Z"
    },
    "committer": {
      "name": "Kevin Buettner",
      "email": "kevinb@redhat.com",
      "date": "2019-05-06T18:00:48Z"
    },
    "message": "Fix regression caused by recently added syscall restart code\n\nThis line of code...\n\n       *(int64_t *) ptr = *(int32_t *) ptr;\n\n...in linux-x86-low.c is not needed (and does not work correctly)\nwithin a 32-bit executable.  I added an __x86_64__ ifdef (which is\nused extensively elsewhere in the file for like purposes) to prevent\nthis code from being included in 32-bit builds.\n\nIt fixes the following regressions when running on native\ni686-pc-linux-gnu:\n\nFAIL: gdb.server/abspath.exp: continue to main\nFAIL: gdb.server/connect-without-multi-process.exp: multiprocess=auto: continue to main\nFAIL: gdb.server/connect-without-multi-process.exp: multiprocess=off: continue to main\nFAIL: gdb.server/ext-restart.exp: restart: run to main\nFAIL: gdb.server/ext-restart.exp: run to main\nFAIL: gdb.server/ext-run.exp: continue to main\nFAIL: gdb.server/ext-wrapper.exp: print d\nFAIL: gdb.server/ext-wrapper.exp: restart: print d\nFAIL: gdb.server/ext-wrapper.exp: restart: run to marker\nFAIL: gdb.server/ext-wrapper.exp: run to marker\nFAIL: gdb.server/no-thread-db.exp: continue to breakpoint: after tls assignment\nFAIL: gdb.server/reconnect-ctrl-c.exp: first: stop with control-c\nFAIL: gdb.server/reconnect-ctrl-c.exp: second: stop with control-c\nFAIL: gdb.server/run-without-local-binary.exp: run test program until the end\nFAIL: gdb.server/server-kill.exp: continue to breakpoint: after server_pid assignment\nFAIL: gdb.server/server-kill.exp: tstatus\nFAIL: gdb.server/server-run.exp: continue to main\n\ngdb/gdbserver/ChangeLog:\n\n\t* linux-x86-low.c (x86_fill_gregset): Don't compile 64-bit\n\tsign extension code on 32-bit builds.",
    "tree": {
      "sha": "b5a4de7e8eea14d9c779a02bec66579155f80d12",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/b5a4de7e8eea14d9c779a02bec66579155f80d12"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/e90a813d9660bb9d951963fd7ae03ce004a52ad6",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/e90a813d9660bb9d951963fd7ae03ce004a52ad6",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/e90a813d9660bb9d951963fd7ae03ce004a52ad6",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/e90a813d9660bb9d951963fd7ae03ce004a52ad6/comments",
  "author": {
    "login": "KevinBuettner",
    "id": 65747518,
    "node_id": "MDQ6VXNlcjY1NzQ3NTE4",
    "avatar_url": "https://avatars.githubusercontent.com/u/65747518?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/KevinBuettner",
    "html_url": "https://github.com/KevinBuettner",
    "followers_url": "https://api.github.com/users/KevinBuettner/followers",
    "following_url": "https://api.github.com/users/KevinBuettner/following{/other_user}",
    "gists_url": "https://api.github.com/users/KevinBuettner/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/KevinBuettner/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/KevinBuettner/subscriptions",
    "organizations_url": "https://api.github.com/users/KevinBuettner/orgs",
    "repos_url": "https://api.github.com/users/KevinBuettner/repos",
    "events_url": "https://api.github.com/users/KevinBuettner/events{/privacy}",
    "received_events_url": "https://api.github.com/users/KevinBuettner/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "KevinBuettner",
    "id": 65747518,
    "node_id": "MDQ6VXNlcjY1NzQ3NTE4",
    "avatar_url": "https://avatars.githubusercontent.com/u/65747518?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/KevinBuettner",
    "html_url": "https://github.com/KevinBuettner",
    "followers_url": "https://api.github.com/users/KevinBuettner/followers",
    "following_url": "https://api.github.com/users/KevinBuettner/following{/other_user}",
    "gists_url": "https://api.github.com/users/KevinBuettner/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/KevinBuettner/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/KevinBuettner/subscriptions",
    "organizations_url": "https://api.github.com/users/KevinBuettner/orgs",
    "repos_url": "https://api.github.com/users/KevinBuettner/repos",
    "events_url": "https://api.github.com/users/KevinBuettner/events{/privacy}",
    "received_events_url": "https://api.github.com/users/KevinBuettner/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "41cee0897b670168e0d6f455c9bc45c73f8023df",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/41cee0897b670168e0d6f455c9bc45c73f8023df",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/41cee0897b670168e0d6f455c9bc45c73f8023df"
    }
  ],
  "stats": {
    "total": 7,
    "additions": 7,
    "deletions": 0
  },
  "files": [
    {
      "sha": "2e98158aa6f4ab7e731792269292a7dc77a8479a",
      "filename": "gdb/gdbserver/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e90a813d9660bb9d951963fd7ae03ce004a52ad6/gdb/gdbserver/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e90a813d9660bb9d951963fd7ae03ce004a52ad6/gdb/gdbserver/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/gdbserver/ChangeLog?ref=e90a813d9660bb9d951963fd7ae03ce004a52ad6",
      "patch": "@@ -1,3 +1,8 @@\n+2019-05-06  Kevin Buettner  <kevinb@redhat.com>\n+\n+\t* linux-x86-low.c (x86_fill_gregset): Don't compile 64-bit\n+\tsign extension code on 32-bit builds.\n+\n 2019-05-03  Eli Zaretskii  <eliz@gnu.org>\n \n \t* remote-utils.c:"
    },
    {
      "sha": "adddfe779710abc9577a0f57fd912e9e4057866d",
      "filename": "gdb/gdbserver/linux-x86-low.c",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e90a813d9660bb9d951963fd7ae03ce004a52ad6/gdb/gdbserver/linux-x86-low.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e90a813d9660bb9d951963fd7ae03ce004a52ad6/gdb/gdbserver/linux-x86-low.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/gdbserver/linux-x86-low.c?ref=e90a813d9660bb9d951963fd7ae03ce004a52ad6",
      "patch": "@@ -339,6 +339,7 @@ x86_fill_gregset (struct regcache *regcache, void *buf)\n   collect_register_by_name (regcache, \"orig_eax\",\n \t\t\t    ((char *) buf) + ORIG_EAX * REGSIZE);\n \n+#ifdef __x86_64__\n   /* Sign extend EAX value to avoid potential syscall restart\n      problems. \n \n@@ -351,6 +352,7 @@ x86_fill_gregset (struct regcache *regcache, void *buf)\n \n       *(int64_t *) ptr = *(int32_t *) ptr;\n     }\n+#endif\n }\n \n static void"
    }
  ]
}