{
  "sha": "acde6c6b431a8c38ab18a47bb56f65f515448195",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YWNkZTZjNmI0MzFhOGMzOGFiMThhNDdiYjU2ZjY1ZjUxNTQ0ODE5NQ==",
  "commit": {
    "author": {
      "name": "Sudakshina Das",
      "email": "sudi.das@arm.com",
      "date": "2019-03-20T18:00:07Z"
    },
    "committer": {
      "name": "Sudakshina Das",
      "email": "sudi.das@arm.com",
      "date": "2019-03-20T18:00:07Z"
    },
    "message": "[BFD, AArch64] Define elf_backend_fixup_gnu_properties in AArch64\n\nThis patch add support for elf_backend_fixup_gnu_properties for GNU\nproperty support for AArch64. The new AArch64 specific definition\n_bfd_aarch64_elf_link_fixup_gnu_properties goes through the property\nlist to find AArch64 type properties and removes the properties that\nare marked as \"property_remove\".\n\n*** bfd/ChangeLog ***\n\n2019-03-20  Sudakshina Das  <sudi.das@arm.com>\n\n\t* elfxx-aarch64.c (_bfd_aarch64_elf_link_fixup_gnu_properties): Define.\n\t* elfxx-aarch64.h (_bfd_aarch64_elf_link_fixup_gnu_properties): Declare.\n\t(elf_backend_fixup_gnu_properties): Define for AArch64.",
    "tree": {
      "sha": "740773cde84a46bcee9e079f9567d91d8d3f641d",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/740773cde84a46bcee9e079f9567d91d8d3f641d"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/acde6c6b431a8c38ab18a47bb56f65f515448195",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/acde6c6b431a8c38ab18a47bb56f65f515448195",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/acde6c6b431a8c38ab18a47bb56f65f515448195",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/acde6c6b431a8c38ab18a47bb56f65f515448195/comments",
  "author": {
    "login": "sudakshina-das-arm",
    "id": 28538945,
    "node_id": "MDQ6VXNlcjI4NTM4OTQ1",
    "avatar_url": "https://avatars.githubusercontent.com/u/28538945?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/sudakshina-das-arm",
    "html_url": "https://github.com/sudakshina-das-arm",
    "followers_url": "https://api.github.com/users/sudakshina-das-arm/followers",
    "following_url": "https://api.github.com/users/sudakshina-das-arm/following{/other_user}",
    "gists_url": "https://api.github.com/users/sudakshina-das-arm/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/sudakshina-das-arm/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sudakshina-das-arm/subscriptions",
    "organizations_url": "https://api.github.com/users/sudakshina-das-arm/orgs",
    "repos_url": "https://api.github.com/users/sudakshina-das-arm/repos",
    "events_url": "https://api.github.com/users/sudakshina-das-arm/events{/privacy}",
    "received_events_url": "https://api.github.com/users/sudakshina-das-arm/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "sudakshina-das-arm",
    "id": 28538945,
    "node_id": "MDQ6VXNlcjI4NTM4OTQ1",
    "avatar_url": "https://avatars.githubusercontent.com/u/28538945?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/sudakshina-das-arm",
    "html_url": "https://github.com/sudakshina-das-arm",
    "followers_url": "https://api.github.com/users/sudakshina-das-arm/followers",
    "following_url": "https://api.github.com/users/sudakshina-das-arm/following{/other_user}",
    "gists_url": "https://api.github.com/users/sudakshina-das-arm/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/sudakshina-das-arm/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sudakshina-das-arm/subscriptions",
    "organizations_url": "https://api.github.com/users/sudakshina-das-arm/orgs",
    "repos_url": "https://api.github.com/users/sudakshina-das-arm/repos",
    "events_url": "https://api.github.com/users/sudakshina-das-arm/events{/privacy}",
    "received_events_url": "https://api.github.com/users/sudakshina-das-arm/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "48869a5f9c439dc8f5cb47b8d5bada77b4c3c2cb",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/48869a5f9c439dc8f5cb47b8d5bada77b4c3c2cb",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/48869a5f9c439dc8f5cb47b8d5bada77b4c3c2cb"
    }
  ],
  "stats": {
    "total": 48,
    "additions": 48,
    "deletions": 0
  },
  "files": [
    {
      "sha": "d0daa375fc1bff625e3b96647c158b3626798252",
      "filename": "bfd/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/acde6c6b431a8c38ab18a47bb56f65f515448195/bfd/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/acde6c6b431a8c38ab18a47bb56f65f515448195/bfd/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/ChangeLog?ref=acde6c6b431a8c38ab18a47bb56f65f515448195",
      "patch": "@@ -1,3 +1,9 @@\n+2019-03-20  Sudakshina Das  <sudi.das@arm.com>\n+\n+\t* elfxx-aarch64.c (_bfd_aarch64_elf_link_fixup_gnu_properties): Define.\n+\t* elfxx-aarch64.h (_bfd_aarch64_elf_link_fixup_gnu_properties): Declare.\n+\t(elf_backend_fixup_gnu_properties): Define for AArch64.\n+\n 2019-03-18  Alan Modra  <amodra@gmail.com>\n \n \tPR 24355"
    },
    {
      "sha": "040814097f98071db09564392ed972e2e9f29692",
      "filename": "bfd/elfxx-aarch64.c",
      "status": "modified",
      "additions": 35,
      "deletions": 0,
      "changes": 35,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/acde6c6b431a8c38ab18a47bb56f65f515448195/bfd/elfxx-aarch64.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/acde6c6b431a8c38ab18a47bb56f65f515448195/bfd/elfxx-aarch64.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/elfxx-aarch64.c?ref=acde6c6b431a8c38ab18a47bb56f65f515448195",
      "patch": "@@ -863,3 +863,38 @@ _bfd_aarch64_elf_merge_gnu_properties (struct bfd_link_info *info\n \n   return updated;\n }\n+\n+/* Fix up AArch64 GNU properties.  */\n+void\n+_bfd_aarch64_elf_link_fixup_gnu_properties\n+  (struct bfd_link_info *info ATTRIBUTE_UNUSED,\n+   elf_property_list **listp)\n+{\n+  elf_property_list *p, *prev;\n+\n+  for (p = *listp, prev = *listp; p; p = p->next)\n+    {\n+      unsigned int type = p->property.pr_type;\n+      if (type == GNU_PROPERTY_AARCH64_FEATURE_1_AND)\n+\t{\n+\t  if (p->property.pr_kind == property_remove)\n+\t    {\n+\t      /* Remove empty property.  */\n+\t      if (prev == p)\n+\t\t{\n+\t\t  *listp = p->next;\n+\t\t  prev = *listp;\n+\t\t}\n+\t      else\n+\t\t  prev->next = p->next;\n+\t      continue;\n+\t    }\n+\t  prev = p;\n+\t}\n+      else if (type > GNU_PROPERTY_HIPROC)\n+\t{\n+\t  /* The property list is sorted in order of type.  */\n+\t  break;\n+\t}\n+    }\n+}"
    },
    {
      "sha": "9ab13bb865bc3e31c35f6d00c83e074a72f0ff55",
      "filename": "bfd/elfxx-aarch64.h",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/acde6c6b431a8c38ab18a47bb56f65f515448195/bfd/elfxx-aarch64.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/acde6c6b431a8c38ab18a47bb56f65f515448195/bfd/elfxx-aarch64.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/elfxx-aarch64.h?ref=acde6c6b431a8c38ab18a47bb56f65f515448195",
      "patch": "@@ -69,5 +69,12 @@ _bfd_aarch64_elf_merge_gnu_properties (struct bfd_link_info *, bfd *,\n \t\t\t\t       elf_property *, elf_property *,\n \t\t\t\t       uint32_t);\n \n+extern void\n+_bfd_aarch64_elf_link_fixup_gnu_properties (struct bfd_link_info *,\n+\t\t\t\t\t    elf_property_list **);\n+\n #define elf_backend_parse_gnu_properties\t\\\n   _bfd_aarch64_elf_parse_gnu_properties\n+\n+#define elf_backend_fixup_gnu_properties\t\\\n+  _bfd_aarch64_elf_link_fixup_gnu_properties"
    }
  ]
}