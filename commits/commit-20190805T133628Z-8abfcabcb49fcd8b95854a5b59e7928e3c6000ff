{
  "sha": "8abfcabcb49fcd8b95854a5b59e7928e3c6000ff",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6OGFiZmNhYmNiNDlmY2Q4Yjk1ODU0YTViNTllNzkyOGUzYzYwMDBmZg==",
  "commit": {
    "author": {
      "name": "Tom Tromey",
      "email": "tromey@adacore.com",
      "date": "2019-08-02T14:12:31Z"
    },
    "committer": {
      "name": "Tom Tromey",
      "email": "tromey@adacore.com",
      "date": "2019-08-05T13:36:28Z"
    },
    "message": "Use _() in calls to build_help\n\nCurrently some code in gdb uses build_help with N_(), like:\n\n  static const std::string compile_print_help\n    = gdb::option::build_help (N_(\"\\\n\nI believe this is incorrect.  The N_ macro is used to mark text that\nshould end up in the message catalog, but which will be translated by\na later call to gettext.\n\nHowever, in this case, there is no later call to gettext, so (if gdb\nhad translations), this text would remain untranslated.\n\nInstead, I think using the ordinary _() macro is correct here.\nTranslators will have to know to preserve \"%OPTIONS%\" in the text --\nbut that seems both unavoidable and fine.\n\nTested by rebuilding as there's not much else to do.\n\ngdb/ChangeLog\n2019-08-05  Tom Tromey  <tromey@adacore.com>\n\n\t* compile/compile.c (_initialize_compile): Use _(), not N_().\n\t* thread.c (_initialize_thread): Use _(), not N_().\n\t* stack.c (_initialize_stack): Use _(), not N_().\n\t* printcmd.c (_initialize_printcmd): Use _(), not N_().",
    "tree": {
      "sha": "893690767cf48b6862208522976afc8d9c9183f3",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/893690767cf48b6862208522976afc8d9c9183f3"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/8abfcabcb49fcd8b95854a5b59e7928e3c6000ff",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/8abfcabcb49fcd8b95854a5b59e7928e3c6000ff",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/8abfcabcb49fcd8b95854a5b59e7928e3c6000ff",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/8abfcabcb49fcd8b95854a5b59e7928e3c6000ff/comments",
  "author": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "23d188c74e7481bb0af3c42b84fc9cb0c94267e5",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/23d188c74e7481bb0af3c42b84fc9cb0c94267e5",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/23d188c74e7481bb0af3c42b84fc9cb0c94267e5"
    }
  ],
  "stats": {
    "total": 27,
    "additions": 17,
    "deletions": 10
  },
  "files": [
    {
      "sha": "0d324a56cfb02c2425077750c229af5c4fea54e1",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8abfcabcb49fcd8b95854a5b59e7928e3c6000ff/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8abfcabcb49fcd8b95854a5b59e7928e3c6000ff/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=8abfcabcb49fcd8b95854a5b59e7928e3c6000ff",
      "patch": "@@ -1,3 +1,10 @@\n+2019-08-05  Tom Tromey  <tromey@adacore.com>\n+\n+\t* compile/compile.c (_initialize_compile): Use _(), not N_().\n+\t* thread.c (_initialize_thread): Use _(), not N_().\n+\t* stack.c (_initialize_stack): Use _(), not N_().\n+\t* printcmd.c (_initialize_printcmd): Use _(), not N_().\n+\n 2019-08-04  Simon Marchi  <simon.marchi@polymtl.ca>\n \n \t* dwarf2read.c (struct dw2_symtab_iterator):"
    },
    {
      "sha": "1c0513ae97eb1e4f654dad7a81f1b6d58a19efdf",
      "filename": "gdb/compile/compile.c",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8abfcabcb49fcd8b95854a5b59e7928e3c6000ff/gdb/compile/compile.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8abfcabcb49fcd8b95854a5b59e7928e3c6000ff/gdb/compile/compile.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/compile/compile.c?ref=8abfcabcb49fcd8b95854a5b59e7928e3c6000ff",
      "patch": "@@ -971,7 +971,7 @@ Command to compile source code and inject it into the inferior.\"),\n   const auto compile_opts = make_compile_options_def_group (nullptr);\n \n   static const std::string compile_code_help\n-    = gdb::option::build_help (N_(\"\\\n+    = gdb::option::build_help (_(\"\\\n Compile, inject, and execute code.\\n\\\n \\n\\\n Usage: compile code [OPTION]... [CODE]\\n\\\n@@ -994,7 +994,7 @@ indicate the end of the expression.\"),\n   set_cmd_completer_handle_brkchars (c, compile_code_command_completer);\n \n static const std::string compile_file_help\n-    = gdb::option::build_help (N_(\"\\\n+    = gdb::option::build_help (_(\"\\\n Evaluate a file containing source code.\\n\\\n \\n\\\n Usage: compile file [OPTION].. [FILENAME]\\n\\\n@@ -1011,7 +1011,7 @@ Options:\\n\\\n   const auto compile_print_opts = make_value_print_options_def_group (nullptr);\n \n   static const std::string compile_print_help\n-    = gdb::option::build_help (N_(\"\\\n+    = gdb::option::build_help (_(\"\\\n Evaluate EXPR by using the compiler and print result.\\n\\\n \\n\\\n Usage: compile print [[OPTION]... --] [/FMT] [EXPR]\\n\\"
    },
    {
      "sha": "0c368a6f6d8058d4d0c74db0e94e72dd3b31cb47",
      "filename": "gdb/printcmd.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8abfcabcb49fcd8b95854a5b59e7928e3c6000ff/gdb/printcmd.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8abfcabcb49fcd8b95854a5b59e7928e3c6000ff/gdb/printcmd.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/printcmd.c?ref=8abfcabcb49fcd8b95854a5b59e7928e3c6000ff",
      "patch": "@@ -2848,7 +2848,7 @@ This may usually be abbreviated to simply \\\"set\\\".\"),\n \n   const auto print_opts = make_value_print_options_def_group (nullptr);\n \n-  static const std::string print_help = gdb::option::build_help (N_(\"\\\n+  static const std::string print_help = gdb::option::build_help (_(\"\\\n Print value of expression EXP.\\n\\\n Usage: print [[OPTION]... --] [/FMT] [EXP]\\n\\\n \\n\\"
    },
    {
      "sha": "0dd7057fe1f7ceaff53cd9f2b01695d7f3c2b849",
      "filename": "gdb/stack.c",
      "status": "modified",
      "additions": 4,
      "deletions": 4,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8abfcabcb49fcd8b95854a5b59e7928e3c6000ff/gdb/stack.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8abfcabcb49fcd8b95854a5b59e7928e3c6000ff/gdb/stack.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/stack.c?ref=8abfcabcb49fcd8b95854a5b59e7928e3c6000ff",
      "patch": "@@ -3275,7 +3275,7 @@ Options:\\n\\\n   const auto frame_apply_opts\n     = make_frame_apply_options_def_group (nullptr, nullptr);\n \n-  static std::string frame_apply_cmd_help = gdb::option::build_help (N_(\"\\\n+  static std::string frame_apply_cmd_help = gdb::option::build_help (_(\"\\\n Apply a command to a number of frames.\\n\\\n Usage: frame apply COUNT [OPTION]... COMMAND\\n\\\n With a negative COUNT argument, applies the command on outermost -COUNT frames.\\n\"\n@@ -3288,7 +3288,7 @@ With a negative COUNT argument, applies the command on outermost -COUNT frames.\\\n \t\t\t&frame_cmd_list);\n   set_cmd_completer_handle_brkchars (cmd, frame_apply_cmd_completer);\n \n-  static std::string frame_apply_all_cmd_help = gdb::option::build_help (N_(\"\\\n+  static std::string frame_apply_all_cmd_help = gdb::option::build_help (_(\"\\\n Apply a command to all frames.\\n\\\n \\n\\\n Usage: frame apply all [OPTION]... COMMAND\\n\"\n@@ -3300,7 +3300,7 @@ Usage: frame apply all [OPTION]... COMMAND\\n\"\n \t\t &frame_apply_cmd_list);\n   set_cmd_completer_handle_brkchars (cmd, frame_apply_all_cmd_completer);\n \n-  static std::string frame_apply_level_cmd_help = gdb::option::build_help (N_(\"\\\n+  static std::string frame_apply_level_cmd_help = gdb::option::build_help (_(\"\\\n Apply a command to a list of frames.\\n\\\n \\n\\\n Usage: frame apply level LEVEL... [OPTION]... COMMAND\\n\\\n@@ -3407,7 +3407,7 @@ Usage: select-frame level LEVEL\"),\n     = make_backtrace_options_def_group (nullptr, nullptr, nullptr);\n \n   static std::string backtrace_help\n-    = gdb::option::build_help (N_(\"\\\n+    = gdb::option::build_help (_(\"\\\n Print backtrace of all stack frames, or innermost COUNT frames.\\n\\\n Usage: backtrace [OPTION]... [QUALIFIER]... [COUNT | -COUNT]\\n\\\n \\n\\"
    },
    {
      "sha": "4a7fe689dbb8b80d40136ace4f7fea842c63fd42",
      "filename": "gdb/thread.c",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8abfcabcb49fcd8b95854a5b59e7928e3c6000ff/gdb/thread.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8abfcabcb49fcd8b95854a5b59e7928e3c6000ff/gdb/thread.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/thread.c?ref=8abfcabcb49fcd8b95854a5b59e7928e3c6000ff",
      "patch": "@@ -2150,7 +2150,7 @@ Options:\\n\\\n \n   const auto thread_apply_opts = make_thread_apply_options_def_group (nullptr);\n \n-  static std::string thread_apply_help = gdb::option::build_help (N_(\"\\\n+  static std::string thread_apply_help = gdb::option::build_help (_(\"\\\n Apply a command to a list of threads.\\n\\\n Usage: thread apply ID... [OPTION]... COMMAND\\n\\\n ID is a space-separated list of IDs of threads to apply COMMAND on.\\n\"\n@@ -2166,7 +2166,7 @@ THREAD_APPLY_OPTION_HELP),\n   const auto thread_apply_all_opts\n     = make_thread_apply_all_options_def_group (nullptr, nullptr);\n \n-  static std::string thread_apply_all_help = gdb::option::build_help (N_(\"\\\n+  static std::string thread_apply_all_help = gdb::option::build_help (_(\"\\\n Apply a command to all threads.\\n\\\n \\n\\\n Usage: thread apply all [OPTION]... COMMAND\\n\""
    }
  ]
}