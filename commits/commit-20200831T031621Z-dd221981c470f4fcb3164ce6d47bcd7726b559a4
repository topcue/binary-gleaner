{
  "sha": "dd221981c470f4fcb3164ce6d47bcd7726b559a4",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ZGQyMjE5ODFjNDcwZjRmY2IzMTY0Y2U2ZDQ3YmNkNzcyNmI1NTlhNA==",
  "commit": {
    "author": {
      "name": "Cooper Qu",
      "email": "cooper.qu@linux.alibaba.com",
      "date": "2020-08-31T02:55:06Z"
    },
    "committer": {
      "name": "Lifang Xia",
      "email": "lifang_xia@c-sky.com",
      "date": "2020-08-31T03:16:21Z"
    },
    "message": "CSKY: Add warning when -mdsp and -mcpu=ck803ern are both added.\n\ngas/\n\t* config/tc-csky.c (md_begin): Add warning when -mdsp and\n \t-mcpu=ck803ern are both added.\n \t(parse_ldst_imm): Fix error message.",
    "tree": {
      "sha": "136700f36796c676169dcb4d63e7fad63effd654",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/136700f36796c676169dcb4d63e7fad63effd654"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/dd221981c470f4fcb3164ce6d47bcd7726b559a4",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/dd221981c470f4fcb3164ce6d47bcd7726b559a4",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/dd221981c470f4fcb3164ce6d47bcd7726b559a4",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/dd221981c470f4fcb3164ce6d47bcd7726b559a4/comments",
  "author": {
    "login": "Cooper-Qu",
    "id": 68842787,
    "node_id": "MDQ6VXNlcjY4ODQyNzg3",
    "avatar_url": "https://avatars.githubusercontent.com/u/68842787?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Cooper-Qu",
    "html_url": "https://github.com/Cooper-Qu",
    "followers_url": "https://api.github.com/users/Cooper-Qu/followers",
    "following_url": "https://api.github.com/users/Cooper-Qu/following{/other_user}",
    "gists_url": "https://api.github.com/users/Cooper-Qu/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Cooper-Qu/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Cooper-Qu/subscriptions",
    "organizations_url": "https://api.github.com/users/Cooper-Qu/orgs",
    "repos_url": "https://api.github.com/users/Cooper-Qu/repos",
    "events_url": "https://api.github.com/users/Cooper-Qu/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Cooper-Qu/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "Lifang-XIA",
    "id": 22215568,
    "node_id": "MDQ6VXNlcjIyMjE1NTY4",
    "avatar_url": "https://avatars.githubusercontent.com/u/22215568?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Lifang-XIA",
    "html_url": "https://github.com/Lifang-XIA",
    "followers_url": "https://api.github.com/users/Lifang-XIA/followers",
    "following_url": "https://api.github.com/users/Lifang-XIA/following{/other_user}",
    "gists_url": "https://api.github.com/users/Lifang-XIA/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Lifang-XIA/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Lifang-XIA/subscriptions",
    "organizations_url": "https://api.github.com/users/Lifang-XIA/orgs",
    "repos_url": "https://api.github.com/users/Lifang-XIA/repos",
    "events_url": "https://api.github.com/users/Lifang-XIA/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Lifang-XIA/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "18856f435ea415100464cc3219ec10cf4d037dcc",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/18856f435ea415100464cc3219ec10cf4d037dcc",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/18856f435ea415100464cc3219ec10cf4d037dcc"
    }
  ],
  "stats": {
    "total": 25,
    "additions": 22,
    "deletions": 3
  },
  "files": [
    {
      "sha": "1f30a6bc52bea750833fa0cb9bd7841faf0cd993",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/dd221981c470f4fcb3164ce6d47bcd7726b559a4/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/dd221981c470f4fcb3164ce6d47bcd7726b559a4/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=dd221981c470f4fcb3164ce6d47bcd7726b559a4",
      "patch": "@@ -1,3 +1,9 @@\n+2020-08-31  Cooper Qu  <cooper.qu@linux.alibaba.com>\n+\n+\t* config/tc-csky.c (md_begin): Add warning when -mdsp and\n+\t-mcpu=ck803ern are both added.\n+\t(parse_ldst_imm): Fix error message.\n+\n 2020-08-30  Alan Modra  <amodra@gmail.com>\n \n \t* testsuite/gas/cr16/cbitb_test.d: Update expected output."
    },
    {
      "sha": "6fc24acde0ff0c50e4098ef2071e0553bef65068",
      "filename": "gas/config/tc-csky.c",
      "status": "modified",
      "additions": 16,
      "deletions": 3,
      "changes": 19,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/dd221981c470f4fcb3164ce6d47bcd7726b559a4/gas/config/tc-csky.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/dd221981c470f4fcb3164ce6d47bcd7726b559a4/gas/config/tc-csky.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/config/tc-csky.c?ref=dd221981c470f4fcb3164ce6d47bcd7726b559a4",
      "patch": "@@ -1359,8 +1359,20 @@ md_begin (void)\n \t{\n \t  if ((dsp_flag & CSKY_DSP_FLAG_V1))\n \t    {\n-\t      isa_flag |= (CSKY_ISA_MAC_DSP | CSKY_ISA_DSP);\n-\t      isa_flag &= ~CSKY_ISA_DSP_ENHANCE;\n+\t      if (isa_flag & CSKY_ISA_DSP_ENHANCE)\n+\t\t{\n+\t\t  /* Option -mdsp conflicts with -mcpu=ck803ern,\n+\t\t     CPU already indicates the dsp version.  */\n+\t\t  as_warn (\"Option -mdsp conflicts with -mcpu=ck803ern which \"\n+\t\t           \"has indicated DSP version, ignoring -mdsp.\");\n+\t\t  isa_flag &= ~(CSKY_ISA_MAC_DSP | CSKY_ISA_DSP);\n+\t\t  isa_flag |= CSKY_ISA_DSP_ENHANCE;\n+\t\t}\n+\t      else\n+\t\t{\n+\t\t  isa_flag |= (CSKY_ISA_MAC_DSP | CSKY_ISA_DSP);\n+\t\t  isa_flag &= ~CSKY_ISA_DSP_ENHANCE;\n+\t\t}\n \t    }\n \n \t  if ((dsp_flag & CSKY_DSP_FLAG_V2))\n@@ -2938,7 +2950,8 @@ parse_ldst_imm (char **oper, struct csky_opcode_info *op ATTRIBUTE_UNUSED,\n   if ((e.X_add_number % (1 << shift)) != 0)\n     {\n       /* Not aligned.  */\n-      SET_ERROR_NUMBER (ERROR_OFFSET_UNALIGNED, ((unsigned long)1 << shift));\n+      SET_ERROR_NUMBER (ERROR_OFFSET_UNALIGNED,\n+\t\t\t(void *)\"Operand format is error. eg. \\\"ld rz, (rx, n)\\\"\");\n       return FALSE;\n     }\n "
    }
  ]
}