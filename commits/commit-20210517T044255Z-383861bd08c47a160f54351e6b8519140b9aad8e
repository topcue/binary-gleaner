{
  "sha": "383861bd08c47a160f54351e6b8519140b9aad8e",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MzgzODYxYmQwOGM0N2ExNjBmNTQzNTFlNmI4NTE5MTQwYjlhYWQ4ZQ==",
  "commit": {
    "author": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2016-01-22T02:00:25Z"
    },
    "committer": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-05-17T04:42:55Z"
    },
    "message": "sim: invert sim_state storage\n\nCurrently all ports have to declare sim_state themselves in their\nsim-main.h and then embed the common sim_state_base & sim_cpu in it.\nThis dynamic makes it impossible to share common object code among\nmultiple ports because the core data structure is always different.\n\nLet's invert this relationship: common code declares sim_state, and\nif the port actually needs state on a per-instance basis, it can use\nthe new arch_data field for it.  Most ports don't actually use it,\nso they don't need to declare anything at all.\n\nThis is the first in a series of changes: it adds a define to select\nbetween the old & new layouts, then converts all the ports that don't\nneed custom state over to the new layout.",
    "tree": {
      "sha": "dc43aadd66fbcc1f7cf18d8bebd7b14740086e48",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/dc43aadd66fbcc1f7cf18d8bebd7b14740086e48"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/383861bd08c47a160f54351e6b8519140b9aad8e",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/383861bd08c47a160f54351e6b8519140b9aad8e",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/383861bd08c47a160f54351e6b8519140b9aad8e",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/383861bd08c47a160f54351e6b8519140b9aad8e/comments",
  "author": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "92bc001e1f91390b8e009c29e75f4e8b9be02d76",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/92bc001e1f91390b8e009c29e75f4e8b9be02d76",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/92bc001e1f91390b8e009c29e75f4e8b9be02d76"
    }
  ],
  "stats": {
    "total": 267,
    "additions": 143,
    "deletions": 124
  },
  "files": [
    {
      "sha": "c02019fc3757fe117d78a8ff977aacd5ba5426a4",
      "filename": "sim/aarch64/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/383861bd08c47a160f54351e6b8519140b9aad8e/sim/aarch64/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/383861bd08c47a160f54351e6b8519140b9aad8e/sim/aarch64/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/aarch64/ChangeLog?ref=383861bd08c47a160f54351e6b8519140b9aad8e",
      "patch": "@@ -1,3 +1,8 @@\n+2021-05-17  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* sim-main.h (SIM_HAVE_COMMON_SIM_STATE): Define.\n+\t(struct sim_state): Delete.\n+\n 2021-05-16  Mike Frysinger  <vapier@gentoo.org>\n \n \t* cpustate.c: Include defs.h."
    },
    {
      "sha": "f1f9e5cf681fd4d1e3d9e41e00c80ffc19679d46",
      "filename": "sim/aarch64/sim-main.h",
      "status": "modified",
      "additions": 2,
      "deletions": 7,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/383861bd08c47a160f54351e6b8519140b9aad8e/sim/aarch64/sim-main.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/383861bd08c47a160f54351e6b8519140b9aad8e/sim/aarch64/sim-main.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/aarch64/sim-main.h?ref=383861bd08c47a160f54351e6b8519140b9aad8e",
      "patch": "@@ -22,6 +22,8 @@\n #ifndef _SIM_MAIN_H\n #define _SIM_MAIN_H\n \n+#define SIM_HAVE_COMMON_SIM_STATE\n+\n #include \"sim-basics.h\"\n #include \"sim-types.h\"\n #include \"sim-base.h\"\n@@ -60,11 +62,4 @@ typedef enum\n   AARCH64_MAX_REGNO  = 67\n } aarch64_regno;\n \n-/* The simulator state structure used to hold all global variables.  */\n-struct sim_state\n-{\n-  sim_cpu *       cpu[MAX_NR_PROCESSORS];\n-  sim_state_base  base;\n-};\n-\n #endif /* _SIM_MAIN_H */"
    },
    {
      "sha": "f8aa04223c4e658bf0ac5997167a96502fc1edfc",
      "filename": "sim/arm/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/383861bd08c47a160f54351e6b8519140b9aad8e/sim/arm/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/383861bd08c47a160f54351e6b8519140b9aad8e/sim/arm/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/arm/ChangeLog?ref=383861bd08c47a160f54351e6b8519140b9aad8e",
      "patch": "@@ -1,3 +1,8 @@\n+2021-05-17  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* sim-main.h (SIM_HAVE_COMMON_SIM_STATE): Define.\n+\t(struct sim_state): Delete.\n+\n 2021-05-16  Mike Frysinger  <vapier@gentoo.org>\n \n \t* armcopro.c, armemu.c, arminit.c, armsupp.c, armvirt.c, iwmmxt.c,"
    },
    {
      "sha": "b47149441339a404210c227c9af31823c032b1b0",
      "filename": "sim/arm/sim-main.h",
      "status": "modified",
      "additions": 2,
      "deletions": 7,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/383861bd08c47a160f54351e6b8519140b9aad8e/sim/arm/sim-main.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/383861bd08c47a160f54351e6b8519140b9aad8e/sim/arm/sim-main.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/arm/sim-main.h?ref=383861bd08c47a160f54351e6b8519140b9aad8e",
      "patch": "@@ -19,6 +19,8 @@\n #ifndef SIM_MAIN_H\n #define SIM_MAIN_H\n \n+#define SIM_HAVE_COMMON_SIM_STATE\n+\n #include \"sim-basics.h\"\n #include \"sim-base.h\"\n #include \"bfd.h\"\n@@ -33,11 +35,4 @@ struct _sim_cpu {\n   sim_cpu_base base;\n };\n \n-struct sim_state {\n-\n-  sim_cpu *cpu[MAX_NR_PROCESSORS];\n-\n-  sim_state_base base;\n-};\n-\n #endif"
    },
    {
      "sha": "f3fcaee0b05584df6073b6ccd91fbf988351d270",
      "filename": "sim/common/ChangeLog",
      "status": "modified",
      "additions": 10,
      "deletions": 0,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/383861bd08c47a160f54351e6b8519140b9aad8e/sim/common/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/383861bd08c47a160f54351e6b8519140b9aad8e/sim/common/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/common/ChangeLog?ref=383861bd08c47a160f54351e6b8519140b9aad8e",
      "patch": "@@ -1,3 +1,13 @@\n+2021-05-17  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* sim-base.h (struct sim_state): Update comment.\n+\t(struct sim_state): Define.\n+\t(STATE_ARCH_DATA): Likewise.\n+\t(sim_state_alloc): New define.\n+\t(sim_state_alloc_extra): Renamed & add 3rd arg.\n+\t* sim-utils.c (sim_state_alloc): Likewise.\n+\t(sim_state_alloc_extra): Set arch data.\n+\n 2021-05-16  Mike Frysinger  <vapier@gentoo.org>\n \n \t* callback.c: Replace config.h include with defs.h."
    },
    {
      "sha": "f38e8412aed6df16fe98bc5e44a776755751b4b3",
      "filename": "sim/common/sim-base.h",
      "status": "modified",
      "additions": 21,
      "deletions": 9,
      "changes": 30,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/383861bd08c47a160f54351e6b8519140b9aad8e/sim/common/sim-base.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/383861bd08c47a160f54351e6b8519140b9aad8e/sim/common/sim-base.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/common/sim-base.h?ref=383861bd08c47a160f54351e6b8519140b9aad8e",
      "patch": "@@ -42,14 +42,7 @@ along with this program.  If not, see <http://www.gnu.org/licenses/>.  */\n         sim_cpu_base base;\n      };\n \n-     struct sim_state {\n-       sim_cpu *cpu[MAX_NR_PROCESSORS];\n-       ... simulator specific members ...\n-       sim_state_base base;\n-     };\n-\n-   Note that `base' appears last.  This makes `base.magic' appear last\n-   in the entire struct and helps catch miscompilation errors. */\n+   If your sim needs to allocate sim-wide state, use STATE_ARCH_DATA.  */\n \n \n #ifndef SIM_BASE_H\n@@ -226,8 +219,27 @@ typedef struct {\n #define STATE_MAGIC(sd) ((sd)->base.magic)\n } sim_state_base;\n \n+#ifdef SIM_HAVE_COMMON_SIM_STATE\n+/* TODO: Merge sim_state & sim_state_base.  */\n+struct sim_state {\n+  /* All the cpus for this instance.  */\n+  sim_cpu *cpu[MAX_NR_PROCESSORS];\n+\n+  /* All the common state.  */\n+  sim_state_base base;\n+\n+  /* Pointer for sim target to store arbitrary state data.  Normally the\n+     target should define a struct and use it here.  */\n+  void *arch_data;\n+#define STATE_ARCH_DATA(sd) ((sd)->arch_data)\n+};\n+#endif\n+\n /* Functions for allocating/freeing a sim_state.  */\n-SIM_DESC sim_state_alloc (SIM_OPEN_KIND kind, host_callback *callback);\n+SIM_DESC sim_state_alloc_extra (SIM_OPEN_KIND kind, host_callback *callback,\n+\t\t\t\tsize_t extra_bytes);\n+#define sim_state_alloc(kind, callback) sim_state_alloc_extra(kind, callback, 0)\n+\n void sim_state_free (SIM_DESC);\n \n #ifdef __cplusplus"
    },
    {
      "sha": "7a943756daf9fdee2abb53184adfe627f1257186",
      "filename": "sim/common/sim-utils.c",
      "status": "modified",
      "additions": 7,
      "deletions": 2,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/383861bd08c47a160f54351e6b8519140b9aad8e/sim/common/sim-utils.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/383861bd08c47a160f54351e6b8519140b9aad8e/sim/common/sim-utils.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/common/sim-utils.c?ref=383861bd08c47a160f54351e6b8519140b9aad8e",
      "patch": "@@ -48,15 +48,20 @@ zalloc (unsigned long size)\n /* Allocate a sim_state struct.  */\n \n SIM_DESC\n-sim_state_alloc (SIM_OPEN_KIND kind,\n-\t\t host_callback *callback)\n+sim_state_alloc_extra (SIM_OPEN_KIND kind, host_callback *callback,\n+\t\t       size_t extra_bytes)\n {\n   SIM_DESC sd = ZALLOC (struct sim_state);\n \n   STATE_MAGIC (sd) = SIM_MAGIC_NUMBER;\n   STATE_CALLBACK (sd) = callback;\n   STATE_OPEN_KIND (sd) = kind;\n \n+#ifdef SIM_HAVE_COMMON_SIM_STATE\n+  if (extra_bytes)\n+    STATE_ARCH_DATA (sd) = zalloc (extra_bytes);\n+#endif\n+\n #if 0\n   {\n     int cpu_nr;"
    },
    {
      "sha": "84e0f8fed21b8777e1eb6f8421e0b5d2bef615ee",
      "filename": "sim/cr16/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/383861bd08c47a160f54351e6b8519140b9aad8e/sim/cr16/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/383861bd08c47a160f54351e6b8519140b9aad8e/sim/cr16/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/cr16/ChangeLog?ref=383861bd08c47a160f54351e6b8519140b9aad8e",
      "patch": "@@ -1,3 +1,8 @@\n+2021-05-17  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* sim-main.h (SIM_HAVE_COMMON_SIM_STATE): Define.\n+\t(struct sim_state): Delete.\n+\n 2021-05-16  Mike Frysinger  <vapier@gentoo.org>\n \n \t* cr16_sim.h: Delete config.h include."
    },
    {
      "sha": "7ea5b1d32802e9c872db3d4d17bf0744108e7a69",
      "filename": "sim/cr16/sim-main.h",
      "status": "modified",
      "additions": 2,
      "deletions": 7,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/383861bd08c47a160f54351e6b8519140b9aad8e/sim/cr16/sim-main.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/383861bd08c47a160f54351e6b8519140b9aad8e/sim/cr16/sim-main.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/cr16/sim-main.h?ref=383861bd08c47a160f54351e6b8519140b9aad8e",
      "patch": "@@ -19,6 +19,8 @@\n #ifndef SIM_MAIN_H\n #define SIM_MAIN_H\n \n+#define SIM_HAVE_COMMON_SIM_STATE\n+\n #include \"sim-basics.h\"\n \n typedef long int           word;\n@@ -34,11 +36,4 @@ struct _sim_cpu {\n   sim_cpu_base base;\n };\n \n-struct sim_state {\n-\n-  sim_cpu *cpu[MAX_NR_PROCESSORS];\n-\n-  sim_state_base base;\n-};\n-\n #endif"
    },
    {
      "sha": "421faeb08965e18a012531ac307253ddf18786bc",
      "filename": "sim/d10v/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/383861bd08c47a160f54351e6b8519140b9aad8e/sim/d10v/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/383861bd08c47a160f54351e6b8519140b9aad8e/sim/d10v/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/d10v/ChangeLog?ref=383861bd08c47a160f54351e6b8519140b9aad8e",
      "patch": "@@ -1,3 +1,8 @@\n+2021-05-17  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* sim-main.h (SIM_HAVE_COMMON_SIM_STATE): Define.\n+\t(struct sim_state): Delete.\n+\n 2021-05-16  Mike Frysinger  <vapier@gentoo.org>\n \n \t* d10v_sim.h, gencode.c: Delete config.h include."
    },
    {
      "sha": "83b34b06454d09b1940ff47ab21decd8ba7b54cb",
      "filename": "sim/d10v/sim-main.h",
      "status": "modified",
      "additions": 2,
      "deletions": 7,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/383861bd08c47a160f54351e6b8519140b9aad8e/sim/d10v/sim-main.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/383861bd08c47a160f54351e6b8519140b9aad8e/sim/d10v/sim-main.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/d10v/sim-main.h?ref=383861bd08c47a160f54351e6b8519140b9aad8e",
      "patch": "@@ -19,6 +19,8 @@\n #ifndef SIM_MAIN_H\n #define SIM_MAIN_H\n \n+#define SIM_HAVE_COMMON_SIM_STATE\n+\n #include \"sim-basics.h\"\n \n typedef long int           word;\n@@ -34,11 +36,4 @@ struct _sim_cpu {\n   sim_cpu_base base;\n };\n \n-struct sim_state {\n-\n-  sim_cpu *cpu[MAX_NR_PROCESSORS];\n-\n-  sim_state_base base;\n-};\n-\n #endif"
    },
    {
      "sha": "e65ec6568c4410373f73ec80c79ae3f694082ec4",
      "filename": "sim/example-synacor/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/383861bd08c47a160f54351e6b8519140b9aad8e/sim/example-synacor/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/383861bd08c47a160f54351e6b8519140b9aad8e/sim/example-synacor/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/example-synacor/ChangeLog?ref=383861bd08c47a160f54351e6b8519140b9aad8e",
      "patch": "@@ -1,3 +1,8 @@\n+2021-05-17  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* sim-main.h (SIM_HAVE_COMMON_SIM_STATE): Define.\n+\t(struct sim_state): Delete.\n+\n 2021-05-16  Mike Frysinger  <vapier@gentoo.org>\n \n \t* interp.c, sim-main.c: Replace config.h include with defs.h."
    },
    {
      "sha": "32b33b4e90bf59522396c1e4478793120a2de326",
      "filename": "sim/example-synacor/sim-main.h",
      "status": "modified",
      "additions": 2,
      "deletions": 7,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/383861bd08c47a160f54351e6b8519140b9aad8e/sim/example-synacor/sim-main.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/383861bd08c47a160f54351e6b8519140b9aad8e/sim/example-synacor/sim-main.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/example-synacor/sim-main.h?ref=383861bd08c47a160f54351e6b8519140b9aad8e",
      "patch": "@@ -21,6 +21,8 @@\n #ifndef SIM_MAIN_H\n #define SIM_MAIN_H\n \n+#define SIM_HAVE_COMMON_SIM_STATE\n+\n #include \"sim-basics.h\"\n #include \"sim-base.h\"\n \n@@ -36,13 +38,6 @@ struct _sim_cpu {\n   sim_cpu_base base;\n };\n \n-struct sim_state {\n-  sim_cpu *cpu[MAX_NR_PROCESSORS];\n-\n-  /* ... simulator specific members ... */\n-  sim_state_base base;\n-};\n-\n extern void step_once (SIM_CPU *);\n extern void initialize_cpu (SIM_DESC, SIM_CPU *);\n "
    },
    {
      "sha": "256058ac89124d2a2beac305ae06b3377bbb5d51",
      "filename": "sim/ft32/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/383861bd08c47a160f54351e6b8519140b9aad8e/sim/ft32/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/383861bd08c47a160f54351e6b8519140b9aad8e/sim/ft32/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ft32/ChangeLog?ref=383861bd08c47a160f54351e6b8519140b9aad8e",
      "patch": "@@ -1,3 +1,8 @@\n+2021-05-17  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* sim-main.h (SIM_HAVE_COMMON_SIM_STATE): Define.\n+\t(struct sim_state): Delete.\n+\n 2021-05-16  Mike Frysinger  <vapier@gentoo.org>\n \n \t* interp.c: Replace config.h include with defs.h."
    },
    {
      "sha": "8cf384ceb8b127b2b2b402526d962d671cba2381",
      "filename": "sim/ft32/sim-main.h",
      "status": "modified",
      "additions": 2,
      "deletions": 7,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/383861bd08c47a160f54351e6b8519140b9aad8e/sim/ft32/sim-main.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/383861bd08c47a160f54351e6b8519140b9aad8e/sim/ft32/sim-main.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ft32/sim-main.h?ref=383861bd08c47a160f54351e6b8519140b9aad8e",
      "patch": "@@ -21,6 +21,8 @@\n #ifndef SIM_MAIN_H\n #define SIM_MAIN_H\n \n+#define SIM_HAVE_COMMON_SIM_STATE\n+\n #include \"sim-basics.h\"\n #include \"sim-base.h\"\n #include \"bfd.h\"\n@@ -36,11 +38,4 @@ struct _sim_cpu {\n   sim_cpu_base base;\n };\n \n-struct sim_state {\n-\n-  sim_cpu *cpu[MAX_NR_PROCESSORS];\n-\n-  sim_state_base base;\n-};\n-\n #endif"
    },
    {
      "sha": "c8d117717ac053f89b2ea6a9d72c23fd1d4ebeca",
      "filename": "sim/m68hc11/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/383861bd08c47a160f54351e6b8519140b9aad8e/sim/m68hc11/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/383861bd08c47a160f54351e6b8519140b9aad8e/sim/m68hc11/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/m68hc11/ChangeLog?ref=383861bd08c47a160f54351e6b8519140b9aad8e",
      "patch": "@@ -1,3 +1,8 @@\n+2021-05-17  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* sim-main.h (SIM_HAVE_COMMON_SIM_STATE): Define.\n+\t(struct sim_state): Delete.\n+\n 2021-05-16  Mike Frysinger  <vapier@gentoo.org>\n \n \t* dv-m68hc11.c, dv-m68hc11eepr.c, dv-m68hc11sio.c, dv-m68hc11spi.c,"
    },
    {
      "sha": "d72ede1aefa1e8268bd39557a64e3f069fafc636",
      "filename": "sim/m68hc11/sim-main.h",
      "status": "modified",
      "additions": 2,
      "deletions": 7,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/383861bd08c47a160f54351e6b8519140b9aad8e/sim/m68hc11/sim-main.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/383861bd08c47a160f54351e6b8519140b9aad8e/sim/m68hc11/sim-main.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/m68hc11/sim-main.h?ref=383861bd08c47a160f54351e6b8519140b9aad8e",
      "patch": "@@ -20,6 +20,8 @@ along with this program.  If not, see <http://www.gnu.org/licenses/>.  */\n #ifndef _SIM_MAIN_H\n #define _SIM_MAIN_H\n \n+#define SIM_HAVE_COMMON_SIM_STATE\n+\n #include \"sim-basics.h\"\n #include \"sim-signal.h\"\n #include \"sim-base.h\"\n@@ -560,13 +562,6 @@ extern int m68hc11cpu_clear_oscillator (SIM_DESC sd, const char *port);\n extern void m68hc11cpu_set_port (struct hw *me, sim_cpu *cpu,\n \t\t\t\t unsigned addr, uint8 val);\n \n-/* The current state of the processor; registers, memory, etc.  */\n-\n-struct sim_state {\n-  sim_cpu        *cpu[MAX_NR_PROCESSORS];\n-  sim_state_base base;\n-};\n-\n extern void sim_board_reset (SIM_DESC sd);\n \n #define PRINT_TIME  0x01"
    },
    {
      "sha": "7a5453f61f1d4501baa8aa47b9c7a33f45c8657e",
      "filename": "sim/mcore/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/383861bd08c47a160f54351e6b8519140b9aad8e/sim/mcore/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/383861bd08c47a160f54351e6b8519140b9aad8e/sim/mcore/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/mcore/ChangeLog?ref=383861bd08c47a160f54351e6b8519140b9aad8e",
      "patch": "@@ -1,3 +1,8 @@\n+2021-05-17  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* sim-main.h (SIM_HAVE_COMMON_SIM_STATE): Define.\n+\t(struct sim_state): Delete.\n+\n 2021-05-16  Mike Frysinger  <vapier@gentoo.org>\n \n \t* interp.c: Replace config.h include with defs.h."
    },
    {
      "sha": "bfa28d045cea02792c29b1c44568b2beb136644a",
      "filename": "sim/mcore/sim-main.h",
      "status": "modified",
      "additions": 2,
      "deletions": 7,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/383861bd08c47a160f54351e6b8519140b9aad8e/sim/mcore/sim-main.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/383861bd08c47a160f54351e6b8519140b9aad8e/sim/mcore/sim-main.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/mcore/sim-main.h?ref=383861bd08c47a160f54351e6b8519140b9aad8e",
      "patch": "@@ -19,6 +19,8 @@ along with this program.  If not, see <http://www.gnu.org/licenses/>.  */\n #ifndef SIM_MAIN_H\n #define SIM_MAIN_H\n \n+#define SIM_HAVE_COMMON_SIM_STATE\n+\n #include \"sim-basics.h\"\n \n typedef long int           word;\n@@ -68,12 +70,5 @@ struct _sim_cpu {\n   sim_cpu_base base;\n };\n \n-struct sim_state {\n-\n-  sim_cpu *cpu[MAX_NR_PROCESSORS];\n-\n-  sim_state_base base;\n-};\n-\n #endif\n "
    },
    {
      "sha": "f583623a43d69c71c5148cafef6311d92b47e9ab",
      "filename": "sim/microblaze/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/383861bd08c47a160f54351e6b8519140b9aad8e/sim/microblaze/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/383861bd08c47a160f54351e6b8519140b9aad8e/sim/microblaze/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/microblaze/ChangeLog?ref=383861bd08c47a160f54351e6b8519140b9aad8e",
      "patch": "@@ -1,3 +1,8 @@\n+2021-05-17  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* sim-main.h (SIM_HAVE_COMMON_SIM_STATE): Define.\n+\t(struct sim_state): Delete.\n+\n 2021-05-16  Mike Frysinger  <vapier@gentoo.org>\n \n \t* interp.c: Replace config.h include with defs.h."
    },
    {
      "sha": "d69d814252a44ea04368a0483b478e45f74f45bb",
      "filename": "sim/microblaze/sim-main.h",
      "status": "modified",
      "additions": 2,
      "deletions": 7,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/383861bd08c47a160f54351e6b8519140b9aad8e/sim/microblaze/sim-main.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/383861bd08c47a160f54351e6b8519140b9aad8e/sim/microblaze/sim-main.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/microblaze/sim-main.h?ref=383861bd08c47a160f54351e6b8519140b9aad8e",
      "patch": "@@ -18,6 +18,8 @@\n #ifndef MICROBLAZE_SIM_MAIN\n #define MICROBLAZE_SIM_MAIN\n \n+#define SIM_HAVE_COMMON_SIM_STATE\n+\n #include \"microblaze.h\"\n #include \"sim-basics.h\"\n #include \"sim-base.h\"\n@@ -48,11 +50,4 @@ struct _sim_cpu {\n   sim_cpu_base base;\n };\n \n-struct sim_state {\n-\n-  sim_cpu *cpu[MAX_NR_PROCESSORS];\n-\n-  sim_state_base base;\n-};\n-\n #endif /* MICROBLAZE_SIM_MAIN */"
    },
    {
      "sha": "75a447dedf1f5db8fbebf203a3eb3258865fe974",
      "filename": "sim/mn10300/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/383861bd08c47a160f54351e6b8519140b9aad8e/sim/mn10300/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/383861bd08c47a160f54351e6b8519140b9aad8e/sim/mn10300/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/mn10300/ChangeLog?ref=383861bd08c47a160f54351e6b8519140b9aad8e",
      "patch": "@@ -1,3 +1,8 @@\n+2021-05-17  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* sim-main.h (SIM_HAVE_COMMON_SIM_STATE): Define.\n+\t(struct sim_state): Delete.\n+\n 2021-05-16  Mike Frysinger  <vapier@gentoo.org>\n \n \t* dv-mn103cpu.c, dv-mn103int.c, dv-mn103iop.c, dv-mn103ser.c,"
    },
    {
      "sha": "5bf068b51fa626864afa7c6d0b1fdb336be2d5ca",
      "filename": "sim/mn10300/sim-main.h",
      "status": "modified",
      "additions": 2,
      "deletions": 11,
      "changes": 13,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/383861bd08c47a160f54351e6b8519140b9aad8e/sim/mn10300/sim-main.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/383861bd08c47a160f54351e6b8519140b9aad8e/sim/mn10300/sim-main.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/mn10300/sim-main.h?ref=383861bd08c47a160f54351e6b8519140b9aad8e",
      "patch": "@@ -22,6 +22,8 @@\n #ifndef SIM_MAIN_H\n #define SIM_MAIN_H\n \n+#define SIM_HAVE_COMMON_SIM_STATE\n+\n #define SIM_ENGINE_HALT_HOOK(SD,LAST_CPU,CIA) 0 /* disable this hook */\n \n #include \"sim-basics.h\"\n@@ -65,17 +67,6 @@ struct _sim_cpu {\n   sim_cpu_base base;\n };\n \n-\n-struct sim_state {\n-\n-  /* the processors proper */\n-  sim_cpu *cpu[MAX_NR_PROCESSORS];\n-\n-  /* The base class.  */\n-  sim_state_base base;\n-\n-};\n-\n /* For compatibility, until all functions converted to passing\n    SIM_DESC as an argument */\n extern SIM_DESC simulator;"
    },
    {
      "sha": "a8a46a6ab6e985dd124c8c7b9cb9dec5ee74a7e5",
      "filename": "sim/moxie/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/383861bd08c47a160f54351e6b8519140b9aad8e/sim/moxie/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/383861bd08c47a160f54351e6b8519140b9aad8e/sim/moxie/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/moxie/ChangeLog?ref=383861bd08c47a160f54351e6b8519140b9aad8e",
      "patch": "@@ -1,3 +1,8 @@\n+2021-05-17  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* sim-main.h (SIM_HAVE_COMMON_SIM_STATE): Define.\n+\t(struct sim_state): Delete.\n+\n 2021-05-16  Mike Frysinger  <vapier@gentoo.org>\n \n \t* interp.c: Replace config.h include with defs.h."
    },
    {
      "sha": "19b9475e98566260df7d30e189b305945ebc0a91",
      "filename": "sim/moxie/sim-main.h",
      "status": "modified",
      "additions": 2,
      "deletions": 7,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/383861bd08c47a160f54351e6b8519140b9aad8e/sim/moxie/sim-main.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/383861bd08c47a160f54351e6b8519140b9aad8e/sim/moxie/sim-main.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/moxie/sim-main.h?ref=383861bd08c47a160f54351e6b8519140b9aad8e",
      "patch": "@@ -20,6 +20,8 @@ along with this program.  If not, see <http://www.gnu.org/licenses/>.  */\n #ifndef SIM_MAIN_H\n #define SIM_MAIN_H\n \n+#define SIM_HAVE_COMMON_SIM_STATE\n+\n #include \"sim-basics.h\"\n #include \"sim-base.h\"\n #include \"bfd.h\"\n@@ -39,11 +41,4 @@ struct _sim_cpu {\n   sim_cpu_base base;\n };\n \n-struct sim_state {\n-\n-  sim_cpu *cpu[MAX_NR_PROCESSORS];\n-\n-  sim_state_base base;\n-};\n-\n #endif"
    },
    {
      "sha": "1ea283ca052663efd6b0e4c183ce494afee60869",
      "filename": "sim/msp430/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/383861bd08c47a160f54351e6b8519140b9aad8e/sim/msp430/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/383861bd08c47a160f54351e6b8519140b9aad8e/sim/msp430/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/msp430/ChangeLog?ref=383861bd08c47a160f54351e6b8519140b9aad8e",
      "patch": "@@ -1,3 +1,8 @@\n+2021-05-17  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* sim-main.h (SIM_HAVE_COMMON_SIM_STATE): Define.\n+\t(struct sim_state): Delete.\n+\n 2021-05-16  Mike Frysinger  <vapier@gentoo.org>\n \n \t* msp430-sim.c: Replace config.h include with defs.h."
    },
    {
      "sha": "f98712c12e5c5e1bb61aa7333c4895a58fd869df",
      "filename": "sim/msp430/sim-main.h",
      "status": "modified",
      "additions": 2,
      "deletions": 8,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/383861bd08c47a160f54351e6b8519140b9aad8e/sim/msp430/sim-main.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/383861bd08c47a160f54351e6b8519140b9aad8e/sim/msp430/sim-main.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/msp430/sim-main.h?ref=383861bd08c47a160f54351e6b8519140b9aad8e",
      "patch": "@@ -21,6 +21,8 @@\n #ifndef _MSP430_MAIN_SIM_H_\n #define _MSP430_MAIN_SIM_H_\n \n+#define SIM_HAVE_COMMON_SIM_STATE\n+\n #include \"sim-basics.h\"\n #include \"sim-signal.h\"\n #include \"msp430-sim.h\"\n@@ -33,14 +35,6 @@ struct _sim_cpu\n   sim_cpu_base base;\n };\n \n-struct sim_state\n-{\n-  sim_cpu *cpu[MAX_NR_PROCESSORS];\n-\n-  /* Simulator specific members.  */\n-  sim_state_base base;\n-};\n-\n #define MSP430_CPU(sd)       (STATE_CPU ((sd), 0))\n #define MSP430_CPU_STATE(sd) (MSP430_CPU ((sd)->state))\n "
    },
    {
      "sha": "27a0f9e900844dc7f2ee32ab3000b4ca6ede8691",
      "filename": "sim/pru/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/383861bd08c47a160f54351e6b8519140b9aad8e/sim/pru/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/383861bd08c47a160f54351e6b8519140b9aad8e/sim/pru/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/pru/ChangeLog?ref=383861bd08c47a160f54351e6b8519140b9aad8e",
      "patch": "@@ -1,3 +1,8 @@\n+2021-05-17  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* sim-main.h (SIM_HAVE_COMMON_SIM_STATE): Define.\n+\t(struct sim_state): Delete.\n+\n 2021-05-16  Mike Frysinger  <vapier@gentoo.org>\n \n \t* interp.c: Replace config.h include with defs.h."
    },
    {
      "sha": "49c54f4f467799308eb6104d13dd69e4ec1c6ca1",
      "filename": "sim/pru/sim-main.h",
      "status": "modified",
      "additions": 2,
      "deletions": 5,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/383861bd08c47a160f54351e6b8519140b9aad8e/sim/pru/sim-main.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/383861bd08c47a160f54351e6b8519140b9aad8e/sim/pru/sim-main.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/pru/sim-main.h?ref=383861bd08c47a160f54351e6b8519140b9aad8e",
      "patch": "@@ -19,6 +19,8 @@\n #ifndef PRU_SIM_MAIN\n #define PRU_SIM_MAIN\n \n+#define SIM_HAVE_COMMON_SIM_STATE\n+\n #include <stdint.h>\n #include <stddef.h>\n #include \"pru.h\"\n@@ -83,9 +85,4 @@ struct _sim_cpu {\n   sim_cpu_base base;\n };\n \n-struct sim_state {\n-  sim_cpu *cpu[MAX_NR_PROCESSORS];\n-\n-  sim_state_base base;\n-};\n #endif /* PRU_SIM_MAIN */"
    },
    {
      "sha": "b031cd3d0dbc806ff84627398d564e140268894d",
      "filename": "sim/sh/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/383861bd08c47a160f54351e6b8519140b9aad8e/sim/sh/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/383861bd08c47a160f54351e6b8519140b9aad8e/sim/sh/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/sh/ChangeLog?ref=383861bd08c47a160f54351e6b8519140b9aad8e",
      "patch": "@@ -1,3 +1,8 @@\n+2021-05-17  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* sim-main.h (SIM_HAVE_COMMON_SIM_STATE): Define.\n+\t(struct sim_state): Delete.\n+\n 2021-05-16  Mike Frysinger  <vapier@gentoo.org>\n \n \t* interp.c: Replace config.h include with defs.h."
    },
    {
      "sha": "58c1436531f1bdb9e175fe0ed9bc2175ed491bb2",
      "filename": "sim/sh/sim-main.h",
      "status": "modified",
      "additions": 2,
      "deletions": 7,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/383861bd08c47a160f54351e6b8519140b9aad8e/sim/sh/sim-main.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/383861bd08c47a160f54351e6b8519140b9aad8e/sim/sh/sim-main.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/sh/sim-main.h?ref=383861bd08c47a160f54351e6b8519140b9aad8e",
      "patch": "@@ -19,6 +19,8 @@ along with this program.  If not, see <http://www.gnu.org/licenses/>.  */\n #ifndef SIM_MAIN_H\n #define SIM_MAIN_H\n \n+#define SIM_HAVE_COMMON_SIM_STATE\n+\n #include \"sim-basics.h\"\n #include \"sim-base.h\"\n \n@@ -131,11 +133,4 @@ struct _sim_cpu {\n   sim_cpu_base base;\n };\n \n-struct sim_state {\n-\n-  sim_cpu *cpu[MAX_NR_PROCESSORS];\n-\n-  sim_state_base base;\n-};\n-\n #endif"
    },
    {
      "sha": "82491e7a2d2fc525eec17ee1dd22ab5000a23d69",
      "filename": "sim/v850/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/383861bd08c47a160f54351e6b8519140b9aad8e/sim/v850/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/383861bd08c47a160f54351e6b8519140b9aad8e/sim/v850/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/v850/ChangeLog?ref=383861bd08c47a160f54351e6b8519140b9aad8e",
      "patch": "@@ -1,3 +1,8 @@\n+2021-05-17  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* sim-main.h (SIM_HAVE_COMMON_SIM_STATE): Define.\n+\t(struct sim_state): Delete.\n+\n 2021-05-16  Mike Frysinger  <vapier@gentoo.org>\n \n \t* interp.c, simops.c: Include defs.h."
    },
    {
      "sha": "6dc5c44582b5b7adbd5d8c6a15a4cd152bbfb8e9",
      "filename": "sim/v850/sim-main.h",
      "status": "modified",
      "additions": 2,
      "deletions": 12,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/383861bd08c47a160f54351e6b8519140b9aad8e/sim/v850/sim-main.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/383861bd08c47a160f54351e6b8519140b9aad8e/sim/v850/sim-main.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/v850/sim-main.h?ref=383861bd08c47a160f54351e6b8519140b9aad8e",
      "patch": "@@ -1,6 +1,8 @@\n #ifndef SIM_MAIN_H\n #define SIM_MAIN_H\n \n+#define SIM_HAVE_COMMON_SIM_STATE\n+\n /* The v850 has 32bit words, numbered 31 (MSB) to 0 (LSB) */\n \n #define WITH_TARGET_WORD_MSB 31\n@@ -48,18 +50,6 @@ struct _sim_cpu\n   sim_cpu_base base;\n };\n \n-struct sim_state {\n-  sim_cpu *cpu[MAX_NR_PROCESSORS];\n-#if 0\n-  SIM_ADDR rom_size;\n-  SIM_ADDR low_end;\n-  SIM_ADDR high_start;\n-  SIM_ADDR high_base;\n-  void *mem;\n-#endif\n-  sim_state_base base;\n-};\n-\n /* For compatibility, until all functions converted to passing\n    SIM_DESC as an argument */\n extern SIM_DESC simulator;"
    }
  ]
}