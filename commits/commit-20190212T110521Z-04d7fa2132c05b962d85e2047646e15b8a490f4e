{
  "sha": "04d7fa2132c05b962d85e2047646e15b8a490f4e",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MDRkN2ZhMjEzMmMwNWI5NjJkODVlMjA0NzY0NmUxNWI4YTQ5MGY0ZQ==",
  "commit": {
    "author": {
      "name": "Nick Clifton",
      "email": "nickc@redhat.com",
      "date": "2019-02-12T11:05:21Z"
    },
    "committer": {
      "name": "Nick Clifton",
      "email": "nickc@redhat.com",
      "date": "2019-02-12T11:05:21Z"
    },
    "message": "Update description of how to make a release to include the use of the git clean command.\n\n\tPR 23440\n\t* README-how-to-make-a-release: Use git clean to delete spurious\n\tfiles from the local source repository.",
    "tree": {
      "sha": "7c2de66762f30d463dec56e28179d2d5ae78c199",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/7c2de66762f30d463dec56e28179d2d5ae78c199"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/04d7fa2132c05b962d85e2047646e15b8a490f4e",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/04d7fa2132c05b962d85e2047646e15b8a490f4e",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/04d7fa2132c05b962d85e2047646e15b8a490f4e",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/04d7fa2132c05b962d85e2047646e15b8a490f4e/comments",
  "author": {
    "login": "nickclifton",
    "id": 31441682,
    "node_id": "MDQ6VXNlcjMxNDQxNjgy",
    "avatar_url": "https://avatars.githubusercontent.com/u/31441682?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nickclifton",
    "html_url": "https://github.com/nickclifton",
    "followers_url": "https://api.github.com/users/nickclifton/followers",
    "following_url": "https://api.github.com/users/nickclifton/following{/other_user}",
    "gists_url": "https://api.github.com/users/nickclifton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nickclifton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nickclifton/subscriptions",
    "organizations_url": "https://api.github.com/users/nickclifton/orgs",
    "repos_url": "https://api.github.com/users/nickclifton/repos",
    "events_url": "https://api.github.com/users/nickclifton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nickclifton/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "nickclifton",
    "id": 31441682,
    "node_id": "MDQ6VXNlcjMxNDQxNjgy",
    "avatar_url": "https://avatars.githubusercontent.com/u/31441682?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nickclifton",
    "html_url": "https://github.com/nickclifton",
    "followers_url": "https://api.github.com/users/nickclifton/followers",
    "following_url": "https://api.github.com/users/nickclifton/following{/other_user}",
    "gists_url": "https://api.github.com/users/nickclifton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nickclifton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nickclifton/subscriptions",
    "organizations_url": "https://api.github.com/users/nickclifton/orgs",
    "repos_url": "https://api.github.com/users/nickclifton/repos",
    "events_url": "https://api.github.com/users/nickclifton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nickclifton/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "43c4685f146a56b721566528f60023d91949c2ac",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/43c4685f146a56b721566528f60023d91949c2ac",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/43c4685f146a56b721566528f60023d91949c2ac"
    }
  ],
  "stats": {
    "total": 131,
    "additions": 57,
    "deletions": 74
  },
  "files": [
    {
      "sha": "b017f5ec533997090f194e87cc68653f7573a686",
      "filename": "binutils/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/04d7fa2132c05b962d85e2047646e15b8a490f4e/binutils/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/04d7fa2132c05b962d85e2047646e15b8a490f4e/binutils/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/ChangeLog?ref=04d7fa2132c05b962d85e2047646e15b8a490f4e",
      "patch": "@@ -1,3 +1,9 @@\n+2019-02-12  Nick Clifton  <nickc@redhat.com>\n+\n+\tPR 23440\n+\t* README-how-to-make-a-release: Use git clean to delete spurious\n+\tfiles from the local source repository.\n+\n 2019-02-08  Andrew Burgess  <andrew.burgess@embecosm.com>\n \n \t* size.c (berkeley_format): Delete."
    },
    {
      "sha": "66c5eccccdd027e9a348cdaa9d073437dfbb1202",
      "filename": "binutils/README-how-to-make-a-release",
      "status": "modified",
      "additions": 51,
      "deletions": 74,
      "changes": 125,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/04d7fa2132c05b962d85e2047646e15b8a490f4e/binutils/README-how-to-make-a-release",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/04d7fa2132c05b962d85e2047646e15b8a490f4e/binutils/README-how-to-make-a-release",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/README-how-to-make-a-release?ref=04d7fa2132c05b962d85e2047646e15b8a490f4e",
      "patch": "@@ -95,14 +95,19 @@ How to perform a release.\n      Make sure that this includes the .pot files as well as the\n      configure and makefiles.\n \n-  8. Create an initial prerelease:\n+  8. Create an initial pre-release:\n \n-     a. Create a source tarball of the BRANCH sources:\n+     a. Remove any auto-generated files, in order to force the\n+        src-release script to rebuild them.\n+\t \n+          cd <branch-sources>\n+          git clean -fdx .\n+\t  \n+     b. Create a source tarball of the BRANCH sources:\n \n-           cd <branch-sources>\n-           ./src-release -x binutils\n+          ./src-release -x binutils\n \n-     b. Build a test target using this tarball.\n+     c. Build a test target using this tarball.\n \n            cp binutils-<version>.tar.xz /dev/shm\n \t   cd /dev/shm\n@@ -114,29 +119,15 @@ How to perform a release.\n \n         If there are problems, fix them.\n \n-     c. Upload the prerelease snapshot to the sourceware FTP site:\n+     d. Upload the pre-release snapshot to the sourceware FTP site:\n \n           cd <branch-sources>\n           scp binutils-<version>.tar.xz sourceware.org:~ftp/pub/binutils/snapshots\n           ssh sourceware.org md5sum ~ftp/pub/binutils/snapshots/binutils-<version>.tar.xz\n \n-     d. Clean up the source directory.\n-\n-          rm binutils-<version> binutils-<version>.tar binutils-<version>.tar.xz\n-\t  rm gas/bfin-lex.c \\\n-\t     gas/bfin-parse.c \\\n-\t     gas/bfin-parse.h \\\n-\t     gas/itbl-lex.c \\\n-\t     gas/itbl-parse.c \\\n-\t     gas/itbl-parse.h \\\n-\t     gas/m68k-parse.c \\\n-\t     gas/rl78-parse.c \\\n-\t     gas/rl78-parse.h \\\n-\t     gas/rx-parse.c \\\n-\t     gas/rx-parse.h \\\n-\t     gold/yyscript.c \\\n-\t     gold/yyscript.h\n-\trm -fr proto-toplev\n+     e. Clean up the source directory again.\n+\n+         git clean -fdx .\n \n    9. Tell the Translation Project where to find the new tarball.\n       <coordinator@translationproject.org>\n@@ -145,11 +136,11 @@ How to perform a release.\n ------------------------------------------------------------------------\n Dear Translation Project\n \n-  The 2.31 release branch has been created for the FSF binutils.\n+  The 2.3x release branch has been created for the FSF binutils.\n \n   A snapshot of the branch sources can be found here:\n \n-    https://sourceware.org/pub/binutils/snapshots/binutils-2.30.90.tar.xz\n+    https://sourceware.org/pub/binutils/snapshots/binutils-2.3x.90.tar.xz\n \n   We hope to make the official release of the sources on the 8th July\n   although that could change if there are important bugs that need to\n@@ -163,13 +154,13 @@ Dear Translation Project\n ------------------------------------------------------------------------\n Hi Everyone, \n \n-  The 2.XX branch has now been created:\n+  The 2.3x branch has now been created:\n \n-     git clone git://sourceware.org/git/binutils-gdb.git -b binutils-2_XX-branch 2.XX\n+     git clone git://sourceware.org/git/binutils-gdb.git -b binutils-2_3x-branch 2.3x\n \n   A snapshot of the sources is also available here:\n \n-    https://sourceware.org/pub/binutils/snapshots/binutils-2.XX.90.tar.xz\n+    https://sourceware.org/pub/binutils/snapshots/binutils-2.3x.90.tar.xz\n \n   Please could all patches for the branch be run by me.\n   The rules for the branch are:\n@@ -199,15 +190,15 @@ When the time comes to actually make the release....\n       patch files (.reg .orig *~) left over.\n \n          cd <branch>\n-\t cvsclean | xargs rm\n+\t git clean -dfx .\n \n   21. Update the release number in bfd/version.m4 on the release\n       branch to a whole new minor version number, without a point\n       value.  Eg \"2.29.90\" becomes \"2.30\".  Change bfd/development.sh\n       to set all values to \"false\".  Regenerate the configure and\n       makefiles.  And *info* files.  Add ChangeLog entries for the\n-      updates and add a  \"this-is-the-2.XX-release\" comment and\n-      commit.  Make sure to include the .gmo files.\n+      updates and add a  \"this-is-the-2.3x-release\" comment and\n+      commit.\n \n   22. Check that your file creation mask will create the\n       correct file permissions.  Eg:\n@@ -239,16 +230,16 @@ When the time comes to actually make the release....\n \n   26. Tag the branch with the new release number:\n \n-            git tag -a binutils-2_XX\n+            git tag -a binutils-2_3x\n \t      [optional: add \"-u XXXXX\" to sign with a gpg key]\n-\t    git push origin binutils-2_XX\n+\t    git push origin binutils-2_3x\n \n         NB/ If you do sign the binaries make sure to use a key\n \tthat has been published with the FSF.\n \n   27. Upload the tarballs to ftp.gnu.org.\n \n-       gnupload --to ftp.gnu.org:binutils binutils-X.XX.tar.*\n+       gnupload --to ftp.gnu.org:binutils binutils-2.3x.tar.*\n \n       The gnupload script is in the gnulib/build-aux directory.\n \n@@ -259,8 +250,8 @@ When the time comes to actually make the release....\n \n        sftp sourceware.org\n          cd /sourceware/ftp/pub/binutils/releases\n- \t put binutils-X.XX.tar.*\n- \t chmod 644 binutils-X.XX.tar.*\n+ \t put binutils-2.3x.tar.*\n+ \t chmod 644 binutils-2.3x.tar.*\n \t quit\n \n       FIXME: Should the signatures (created by the gnupload script in\n@@ -269,20 +260,20 @@ When the time comes to actually make the release....\n   29. Update web pages.  For sourceware.org:\n \n       Create a new documentation folder on the sourceware.org web\n-      pages as /sourceware/www/sourceware/htdocs/binutils/docs-X.XX.\n+      pages as /sourceware/www/sourceware/htdocs/binutils/docs-2.3x.\n \n        sftp sourceware.org\n          cd /sourceware/www/sourceware/htdocs/binutils\n-\t mkdir docs-X.XX\n-\t cd docs-X.XX\n+\t mkdir docs-2.3x\n+\t cd docs-2.3x\n \t mkdir as bfd binutils gprof ld\n-\t cd ../docs-X.(XX-1)\n+\t cd ../docs-2.3(x-1)\n \t get index.html\n \n       Update the (local copy of the) index.html file to point to the\n       new documentation and mention the new version and then upload it.\n \n-\t cd ../docs-X.XX\n+\t cd ../docs-2.3x\n \t put index.html\n \n       Make the html documentation locally with the \"make html\" command\n@@ -310,7 +301,7 @@ When the time comes to actually make the release....\n       to the new documentation.\n \n          cd ../../..\n-\t get indexl.html\n+\t get index.html\n \t [edit]\n \t put index.html\n \t quit\n@@ -328,7 +319,7 @@ When the time comes to actually make the release....\n       -----------------------------------------------------------------------\n         Hi Everyone,\n \n-        We are pleased to announce that version 2.XX of the GNU Binutils project\n+        We are pleased to announce that version 2.3x of the GNU Binutils project\n         sources have been released and are now available for download at:\n \n           https://ftp.gnu.org/gnu/binutils\n@@ -346,32 +337,17 @@ When the time comes to actually make the release....\n \n       -----------------------------------------------------------------------\n \n-  31. Clean up the source tree.  (Use \"git status\" to find new\n-      files, and remove them).\n-\n-          rm binutils-<version> binutils-<version>.tar binutils-<version>.tar.xz\n-\t  rm gas/bfin-lex.c \\\n-\t     gas/bfin-parse.c \\\n-\t     gas/bfin-parse.h \\\n-\t     gas/itbl-lex.c \\\n-\t     gas/itbl-parse.c \\\n-\t     gas/itbl-parse.h \\\n-\t     gas/m68k-parse.c \\\n-\t     gas/rl78-parse.c \\\n-\t     gas/rl78-parse.h \\\n-\t     gas/rx-parse.c \\\n-\t     gas/rx-parse.h \\\n-\t     gold/yyscript.c \\\n-\t     gold/yyscript.h\n-\trm -fr proto-toplev\n+  31. Clean up the source tree:\n+\n+        git clean -fdx .\n \n   32. Edit bfd/development.sh on the branch and set the development flag\n       to \"true\".  (Leave the experimental flag set to \"false\").  Also bump\n       the version in bfd/version.m4 by adding a trailing .0, so that the\n       date suffix keeps the version lower than the trunk version.\n       Regenerate files.  Commit these changes.\n \n-  33. Email the binutils list telling everyone that the 2.XX branch\n+  33. Email the binutils list telling everyone that the 2.3x branch\n       is now open for business as usual and that patched no longer\n       need special approval.\n \n@@ -409,52 +385,53 @@ looks like this:\n   3. In the branch sources:\n \n        a. Update the minor release number in bfd/version.m4.\n-       b. Edit bfd/development.sh, set \"development=false\" and\n-       \"experimental=false\".\n+       b. Edit bfd/development.sh, set \"development=false\".\n        c. Regenerate the configure files.\n        c.1. Remove spurious autom4te.cache files:\n \n           find . -depth -name autom4te.cache -exec rm -r {} \\;\n \t  \n-       d. Commit the updates along with a \"this-is-the-2.XX.X-release\"\n+       d. Commit the updates along with a \"this-is-the-2.3x.y-release\"\n           note in all of the changelogs.\n        e. Tag the branch with the new release number:\n \n-            git tag -a binutils-2_XX_X\n+            git tag -a binutils-2_3x_y\n \t      [optional: add \"-u XXXXX\" to sign with a gpg key]\n-\t    git push origin binutils-2_XX_X\n+\t    git push origin binutils-2_3x_y\n \n        f. Check that your file creation mask will create the\n           correct file permissions.  Eg:\n \n \t    umask 022\n \n        g. Create the release tarballs:\n+       \n             ./src-release -b -g -l -x binutils\n \n        h. Check that the files in the tarballs have the correct\n           permissions.\n \n        i. Edit bfd/development.sh and set \"development=true\".\n        j. Commit this change into the git repository.\n-       k. Clean up the source tree.  (Use \"git status\" to find new\n-           files, and remove them).\n+       k. Clean up the source tree.\n+       \n+            git clean -dfx .\n \n   4. [If paranoid - upload the tarballs to one of the FTP servers and\n       ask people to test it before going on to step 5].\n \n   5. Upload the tarballs to ftp.gnu.org.\n \n-       gnupload --to ftp.gnu.org:binutils binutils-X.XX.X.tar.*\n+       gnupload --to ftp.gnu.org:binutils binutils-2.3x.y.tar.*\n \n      The gnupload script is in the gnulib/build-aux directory.\n \n   6. Upload the tarballs to sourceware.org:\n \n        sftp sourceware.org\n          cd /sourceware/ftp/pub/binutils/releases\n- \t put binutils-X.XX.X.tar.*\n- \t chmod 644 binutils-X.XX.X.tar.*\n+ \t put binutils-2.3x.y.tar.*\n+ \t chmod 644 binutils-2.3x.y.tar.*\n \t quit\n \n     It is OK to upload the signatures as well.\n@@ -475,13 +452,13 @@ looks like this:\n ------------------------------------------------------------------------\n Hi Everyone,\n \n-  We are pleased to announce that version 2.XX.X of the GNU Binutils\n+  We are pleased to announce that version 2.3x.y of the GNU Binutils\n   project sources have been released and are now available for download at:\n \n     https://ftp.gnu.org/gnu/binutils\n     https://sourceware.org/pub/binutils/releases/\n \n-  This is a point release over the previous 2.XX version, containing bug\n+  This is a point release over the previous 2.3x version, containing bug\n   fixes but no new features.\n \n   Our thanks go out to all of the binutils contributors, past and"
    }
  ]
}