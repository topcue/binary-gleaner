{
  "sha": "75c1c971842f43157c173728e8465e1ce3c1b838",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NzVjMWM5NzE4NDJmNDMxNTdjMTczNzI4ZTg0NjVlMWNlM2MxYjgzOA==",
  "commit": {
    "author": {
      "name": "Max Filippov",
      "email": "jcmvbkbc@gmail.com",
      "date": "2019-01-26T02:52:32Z"
    },
    "committer": {
      "name": "Max Filippov",
      "email": "jcmvbkbc@gmail.com",
      "date": "2019-01-28T18:55:04Z"
    },
    "message": "xtensa: gas: don't keep relocations for constants\n\nxtensa gas chokes on 8/16 bit data entries representing constant symbols\nbecause it leaves BFD_RELOC_8/BFD_RELOC_16 fixups for which xtensa BFD\ncannot emit relocations. Resolve fixups for constant symbols in\nmd_apply_fix.\n\ngas/\n2019-01-28  Max Filippov  <jcmvbkbc@gmail.com>\n\n\t* config/tc-xtensa.c (md_apply_fix): Mark fixups for constant\n\tsymbols as done in md_apply_fix.\n\t* testsuite/gas/all/forward.d: Don't XFAIL for xtensa.",
    "tree": {
      "sha": "c2afb558416b24cbc3be6ce1a6c0dfbb3addb1a4",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/c2afb558416b24cbc3be6ce1a6c0dfbb3addb1a4"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/75c1c971842f43157c173728e8465e1ce3c1b838",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/75c1c971842f43157c173728e8465e1ce3c1b838",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/75c1c971842f43157c173728e8465e1ce3c1b838",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/75c1c971842f43157c173728e8465e1ce3c1b838/comments",
  "author": {
    "login": "jcmvbkbc",
    "id": 166731,
    "node_id": "MDQ6VXNlcjE2NjczMQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/166731?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jcmvbkbc",
    "html_url": "https://github.com/jcmvbkbc",
    "followers_url": "https://api.github.com/users/jcmvbkbc/followers",
    "following_url": "https://api.github.com/users/jcmvbkbc/following{/other_user}",
    "gists_url": "https://api.github.com/users/jcmvbkbc/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jcmvbkbc/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jcmvbkbc/subscriptions",
    "organizations_url": "https://api.github.com/users/jcmvbkbc/orgs",
    "repos_url": "https://api.github.com/users/jcmvbkbc/repos",
    "events_url": "https://api.github.com/users/jcmvbkbc/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jcmvbkbc/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "jcmvbkbc",
    "id": 166731,
    "node_id": "MDQ6VXNlcjE2NjczMQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/166731?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jcmvbkbc",
    "html_url": "https://github.com/jcmvbkbc",
    "followers_url": "https://api.github.com/users/jcmvbkbc/followers",
    "following_url": "https://api.github.com/users/jcmvbkbc/following{/other_user}",
    "gists_url": "https://api.github.com/users/jcmvbkbc/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jcmvbkbc/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jcmvbkbc/subscriptions",
    "organizations_url": "https://api.github.com/users/jcmvbkbc/orgs",
    "repos_url": "https://api.github.com/users/jcmvbkbc/repos",
    "events_url": "https://api.github.com/users/jcmvbkbc/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jcmvbkbc/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "7054e2fff6d93e4c2b3b6d0de0d8bda72d3c3d59",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/7054e2fff6d93e4c2b3b6d0de0d8bda72d3c3d59",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/7054e2fff6d93e4c2b3b6d0de0d8bda72d3c3d59"
    }
  ],
  "stats": {
    "total": 14,
    "additions": 13,
    "deletions": 1
  },
  "files": [
    {
      "sha": "5e2d81349102d8fc7c10455ae8bc71e678fa0111",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/75c1c971842f43157c173728e8465e1ce3c1b838/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/75c1c971842f43157c173728e8465e1ce3c1b838/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=75c1c971842f43157c173728e8465e1ce3c1b838",
      "patch": "@@ -1,3 +1,9 @@\n+2019-01-28  Max Filippov  <jcmvbkbc@gmail.com>\n+\n+\t* config/tc-xtensa.c (md_apply_fix): Mark fixups for constant\n+\tsymbols as done in md_apply_fix.\n+\t* testsuite/gas/all/forward.d: Don't XFAIL for xtensa.\n+\n 2019-01-28  Nick Clifton  <nickc@redhat.com>\n \n \t* po/fr.po: Updated French translation."
    },
    {
      "sha": "3bdbbc931cfc04906b9a94fd9e5658fe8b6ca6f7",
      "filename": "gas/config/tc-xtensa.c",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/75c1c971842f43157c173728e8465e1ce3c1b838/gas/config/tc-xtensa.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/75c1c971842f43157c173728e8465e1ce3c1b838/gas/config/tc-xtensa.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/config/tc-xtensa.c?ref=75c1c971842f43157c173728e8465e1ce3c1b838",
      "patch": "@@ -6019,6 +6019,12 @@ md_apply_fix (fixS *fixP, valueT *valP, segT seg)\n \t  val = *valP;\n \t  fixP->fx_done = 1;\n \t}\n+      else if (S_GET_SEGMENT (fixP->fx_addsy) == absolute_section)\n+\t{\n+\t  val = S_GET_VALUE (fixP->fx_addsy) + fixP->fx_offset;\n+\t  *valP = val;\n+\t  fixP->fx_done = 1;\n+\t}\n       /* fall through */\n \n     case BFD_RELOC_XTENSA_PLT:"
    },
    {
      "sha": "5a7f370a17e213a684f7cb3fae7ecc22091d76b7",
      "filename": "gas/testsuite/gas/all/forward.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/75c1c971842f43157c173728e8465e1ce3c1b838/gas/testsuite/gas/all/forward.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/75c1c971842f43157c173728e8465e1ce3c1b838/gas/testsuite/gas/all/forward.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/all/forward.d?ref=75c1c971842f43157c173728e8465e1ce3c1b838",
      "patch": "@@ -1,7 +1,7 @@\n #objdump: -s -j .data\n #name: forward references\n # Some targets don't manage to resolve BFD_RELOC_8 for constants.\n-#xfail: *c30-*-* *c4x-*-* d10v-*-* d30v-*-* pdp11-*-* xtensa*-*-*\n+#xfail: *c30-*-* *c4x-*-* d10v-*-* d30v-*-* pdp11-*-*\n \n .*: .*\n "
    }
  ]
}