{
  "sha": "be472decb251e0a27edf4575e054cce107956d26",
  "node_id": "C_kwDOANOeidoAKGJlNDcyZGVjYjI1MWUwYTI3ZWRmNDU3NWUwNTRjY2UxMDc5NTZkMjY",
  "commit": {
    "author": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2021-11-12T08:08:23Z"
    },
    "committer": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2021-11-12T08:32:12Z"
    },
    "message": "Import Makefile.def from gcc\n\n\t* Makefile.def: Import from gcc.\n\t* Makefile.in: Regenerate.",
    "tree": {
      "sha": "e74535dde5458d1f1504eda95eaf3aab4868399e",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/e74535dde5458d1f1504eda95eaf3aab4868399e"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/be472decb251e0a27edf4575e054cce107956d26",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/be472decb251e0a27edf4575e054cce107956d26",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/be472decb251e0a27edf4575e054cce107956d26",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/be472decb251e0a27edf4575e054cce107956d26/comments",
  "author": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "0d64622696e02ad649d048f4af3a3f293481f89f",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/0d64622696e02ad649d048f4af3a3f293481f89f",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/0d64622696e02ad649d048f4af3a3f293481f89f"
    }
  ],
  "stats": {
    "total": 18278,
    "additions": 14386,
    "deletions": 3892
  },
  "files": [
    {
      "sha": "a504192e6d7234d8983dacacb58b722b56b2e347",
      "filename": "Makefile.def",
      "status": "modified",
      "additions": 62,
      "deletions": 16,
      "changes": 78,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/be472decb251e0a27edf4575e054cce107956d26/Makefile.def",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/be472decb251e0a27edf4575e054cce107956d26/Makefile.def",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/Makefile.def?ref=be472decb251e0a27edf4575e054cce107956d26",
      "patch": "@@ -4,7 +4,7 @@ AutoGen definitions Makefile.tpl;\n // Makefile.in is generated from Makefile.tpl by 'autogen Makefile.def'.\n // This file was originally written by Nathanael Nerode.\n //\n-//   Copyright 2002-2017 Free Software Foundation\n+//   Copyright 2002-2021 Free Software Foundation\n //\n // This file is free software; you can redistribute it and/or modify\n // it under the terms of the GNU General Public License as published by\n@@ -42,7 +42,8 @@ host_modules= { module= dejagnu; };\n host_modules= { module= etc; };\n host_modules= { module= fastjar; no_check_cross= true; };\n host_modules= { module= fixincludes; bootstrap=true;\n-\t\tmissing= TAGS; };\n+\t\tmissing= TAGS;\n+\t\tmissing= install-dvi; };\n host_modules= { module= flex; no_check_cross= true; };\n host_modules= { module= gas; bootstrap=true; };\n host_modules= { module= gcc; bootstrap=true; \n@@ -63,7 +64,7 @@ host_modules= { module= mpfr; lib_path=src/.libs; bootstrap=true;\n \t\textra_make_flags='AM_CFLAGS=\"-DNO_ASM\"';\n \t\tno_install= true; };\n host_modules= { module= mpc; lib_path=src/.libs; bootstrap=true;\n-\t\textra_configure_flags='--disable-shared @extra_mpc_gmp_configure_flags@ @extra_mpc_mpfr_configure_flags@';\n+\t\textra_configure_flags='--disable-shared @extra_mpc_gmp_configure_flags@ @extra_mpc_mpfr_configure_flags@ --disable-maintainer-mode';\n \t\tno_install= true; };\n host_modules= { module= isl; lib_path=.libs; bootstrap=true;\n \t\textra_configure_flags='--disable-shared @extra_isl_gmp_configure_flags@';\n@@ -81,7 +82,20 @@ host_modules= { module= itcl; };\n host_modules= { module= ld; bootstrap=true; };\n host_modules= { module= libbacktrace; bootstrap=true; };\n host_modules= { module= libcpp; bootstrap=true; };\n-host_modules= { module= libdecnumber; bootstrap=true; };\n+// As with libiconv, don't install any of libcody\n+host_modules= { module= libcody; bootstrap=true;\n+\t\tno_install= true;\n+\t\tmissing= pdf;\n+\t\tmissing= html;\n+\t\tmissing= info;\n+\t\tmissing= dvi;\n+\t\tmissing= install-pdf;\n+\t\tmissing= install-html;\n+\t\tmissing= install-info;\n+\t\tmissing= install-dvi;\n+\t\tmissing=TAGS; };\n+host_modules= { module= libdecnumber; bootstrap=true;\n+\t\tmissing=TAGS; };\n host_modules= { module= libgui; };\n host_modules= { module= libiberty; bootstrap=true;\n \t        extra_configure_flags='@extra_host_libiberty_configure_flags@';};\n@@ -125,6 +139,8 @@ host_modules= { module= libtermcap; no_check=true;\n                 missing=distclean;\n                 missing=maintainer-clean; };\n host_modules= { module= utils; no_check=true; };\n+host_modules= { module= c++tools;\n+                missing=TAGS; };\n host_modules= { module= gnattools; };\n host_modules= { module= lto-plugin; bootstrap=true;\n \t\textra_configure_flags='--enable-shared @extra_linker_plugin_flags@ @extra_linker_plugin_configure_flags@';\n@@ -141,26 +157,27 @@ target_modules = { module= libsanitizer;\n \t\t   bootstrap=true;\n \t\t   lib_path=.libs;\n \t\t   raw_cxx=true; };\n-target_modules = { module= libmpx;\n-\t\t   bootstrap=true;\n-\t\t   lib_path=.libs; };\n target_modules = { module= libvtv;\n \t\t   bootstrap=true;\n \t\t   lib_path=.libs;\n \t\t   raw_cxx=true; };\n-target_modules = { module= libcilkrts;\n-\t\t   lib_path=.libs; };\n target_modules = { module= liboffloadmic;\n \t\t   lib_path=.libs;\n \t\t   extra_configure_flags='@extra_liboffloadmic_configure_flags@'; };\n target_modules = { module= libssp; lib_path=.libs; };\n target_modules = { module= newlib; };\n-target_modules = { module= libgcc; bootstrap=true; no_check=true; };\n+target_modules = { module= libgcc; bootstrap=true; no_check=true;\n+\t\t  missing=TAGS;\n+\t\t  missing=install-dvi; };\n target_modules = { module= libbacktrace; };\n target_modules = { module= libquadmath; };\n target_modules = { module= libgfortran; };\n-target_modules = { module= libobjc; };\n+target_modules = { module= libobjc;\n+\t\t  missing=TAGS;\n+\t\t  missing=install-dvi; };\n target_modules = { module= libgo; };\n+target_modules = { module= libphobos;\n+\t\t   lib_path=src/.libs; };\n target_modules = { module= libtermcap; no_check=true;\n                    missing=mostlyclean;\n                    missing=clean;\n@@ -193,6 +210,9 @@ recursive_targets = { make_target= TAGS;\n recursive_targets = { make_target= install-info; \n                       depend=configure;\n                       depend=info; };\n+recursive_targets = { make_target= install-dvi;\n+                      depend=configure;\n+                      depend=dvi; };\n recursive_targets = { make_target= install-pdf; \n                       depend=configure;\n                       depend=pdf; };\n@@ -273,6 +293,8 @@ flags_to_pass = { flag= STAGE1_CHECKING ; };\n flags_to_pass = { flag= STAGE1_LANGUAGES ; };\n flags_to_pass = { flag= GNATBIND ; };\n flags_to_pass = { flag= GNATMAKE ; };\n+flags_to_pass = { flag= GDC ; };\n+flags_to_pass = { flag= GDCFLAGS ; };\n \n // Target tools\n flags_to_pass = { flag= AR_FOR_TARGET ; };\n@@ -282,10 +304,13 @@ flags_to_pass = { flag= CFLAGS_FOR_TARGET ; };\n flags_to_pass = { flag= CPPFLAGS_FOR_TARGET ; };\n flags_to_pass = { flag= CXXFLAGS_FOR_TARGET ; };\n flags_to_pass = { flag= DLLTOOL_FOR_TARGET ; };\n+flags_to_pass = { flag= DSYMUTIL_FOR_TARGET ; };\n flags_to_pass = { flag= FLAGS_FOR_TARGET ; };\n flags_to_pass = { flag= GFORTRAN_FOR_TARGET ; };\n flags_to_pass = { flag= GOC_FOR_TARGET ; };\n flags_to_pass = { flag= GOCFLAGS_FOR_TARGET ; };\n+flags_to_pass = { flag= GDC_FOR_TARGET ; };\n+flags_to_pass = { flag= GDCFLAGS_FOR_TARGET ; };\n flags_to_pass = { flag= LD_FOR_TARGET ; };\n flags_to_pass = { flag= LIPO_FOR_TARGET ; };\n flags_to_pass = { flag= LDFLAGS_FOR_TARGET ; };\n@@ -344,6 +369,7 @@ dependencies = { module=all-gcc; on=all-build-libcpp; };\n dependencies = { module=all-gcc; on=all-zlib; };\n dependencies = { module=all-gcc; on=all-libbacktrace; hard=true; };\n dependencies = { module=all-gcc; on=all-libcpp; hard=true; };\n+dependencies = { module=all-gcc; on=all-libcody; hard=true; };\n dependencies = { module=all-gcc; on=all-libdecnumber; hard=true; };\n dependencies = { module=all-gcc; on=all-libiberty; };\n dependencies = { module=all-gcc; on=all-fixincludes; };\n@@ -378,6 +404,8 @@ dependencies = { module=all-lto-plugin; on=all-libiberty-linker-plugin; };\n dependencies = { module=configure-libcc1; on=configure-gcc; };\n dependencies = { module=all-libcc1; on=all-gcc; };\n \n+// we want version.o from gcc, and implicitly depend on libcody\n+dependencies = { module=all-c++tools; on=all-gcc; };\n dependencies = { module=all-gotools; on=all-target-libgo; };\n \n dependencies = { module=all-utils; on=all-libiberty; };\n@@ -465,6 +493,7 @@ dependencies = { module=install-strip-ld; on=install-strip-bfd; };\n dependencies = { module=install-strip-ld; on=install-strip-libctf; };\n \n // libopcodes depends on libbfd\n+dependencies = { module=configure-opcodes; on=configure-bfd; hard=true; };\n dependencies = { module=install-opcodes; on=install-bfd; };\n dependencies = { module=install-strip-opcodes; on=install-strip-bfd; };\n \n@@ -578,7 +607,6 @@ dependencies = { module=all-m4; on=all-build-texinfo; };\n // on libgcc and newlib/libgloss.\n lang_env_dependencies = { module=libitm; cxx=true; };\n lang_env_dependencies = { module=libffi; cxx=true; };\n-lang_env_dependencies = { module=libcilkrts; cxx=true; };\n lang_env_dependencies = { module=liboffloadmic; cxx=true; };\n lang_env_dependencies = { module=newlib; no_c=true; };\n lang_env_dependencies = { module=libgloss; no_c=true; };\n@@ -592,9 +620,15 @@ dependencies = { module=configure-target-fastjar; on=configure-target-zlib; };\n dependencies = { module=all-target-fastjar; on=all-target-zlib; };\n dependencies = { module=configure-target-libgo; on=configure-target-libffi; };\n dependencies = { module=configure-target-libgo; on=all-target-libstdc++-v3; };\n+dependencies = { module=configure-target-libffi; on=all-target-libstdc++-v3; };\n dependencies = { module=all-target-libgo; on=all-target-libbacktrace; };\n dependencies = { module=all-target-libgo; on=all-target-libffi; };\n dependencies = { module=all-target-libgo; on=all-target-libatomic; };\n+dependencies = { module=configure-target-libphobos; on=configure-target-libbacktrace; };\n+dependencies = { module=configure-target-libphobos; on=configure-target-zlib; };\n+dependencies = { module=all-target-libphobos; on=all-target-libbacktrace; };\n+dependencies = { module=all-target-libphobos; on=all-target-zlib; };\n+dependencies = { module=all-target-libphobos; on=all-target-libatomic; };\n dependencies = { module=configure-target-libstdc++-v3; on=configure-target-libgomp; };\n dependencies = { module=configure-target-liboffloadmic; on=configure-target-libgomp; };\n dependencies = { module=configure-target-libsanitizer; on=all-target-libstdc++-v3; };\n@@ -608,12 +642,11 @@ dependencies = { module=all-target-liboffloadmic; on=all-target-libgomp; };\n dependencies = { module=install-target-libgo; on=install-target-libatomic; };\n dependencies = { module=install-target-libgfortran; on=install-target-libquadmath; };\n dependencies = { module=install-target-libgfortran; on=install-target-libgcc; };\n+dependencies = { module=install-target-libphobos; on=install-target-libatomic; };\n dependencies = { module=install-target-libsanitizer; on=install-target-libstdc++-v3; };\n dependencies = { module=install-target-libsanitizer; on=install-target-libgcc; };\n dependencies = { module=install-target-libvtv; on=install-target-libstdc++-v3; };\n dependencies = { module=install-target-libvtv; on=install-target-libgcc; };\n-dependencies = { module=install-target-libcilkrts; on=install-target-libstdc++-v3; };\n-dependencies = { module=install-target-libcilkrts; on=install-target-libgcc; };\n dependencies = { module=install-target-liboffloadmic; on=install-target-libstdc++-v3; };\n dependencies = { module=install-target-liboffloadmic; on=install-target-libgcc; };\n dependencies = { module=install-target-libitm; on=install-target-libgcc; };\n@@ -647,7 +680,11 @@ languages = { language=objc;\tgcc-check-target=check-objc;\n \t\t\t\tlib-check-target=check-target-libobjc; };\n languages = { language=obj-c++;\tgcc-check-target=check-obj-c++; };\n languages = { language=go;\tgcc-check-target=check-go;\n-\t\t\t\tlib-check-target=check-target-libgo; };\n+\t\t\t\tlib-check-target=check-target-libgo;\n+\t\t\t\tlib-check-target=check-gotools; };\n+languages = { language=d;\tgcc-check-target=check-d;\n+\t\t\t\tlib-check-target=check-target-libphobos; };\n+languages = { language=jit;\tgcc-check-target=check-jit; };\n \n // Toplevel bootstrap\n bootstrap_stage = { id=1 ; };\n@@ -666,5 +703,14 @@ bootstrap_stage = {\n bootstrap_stage = {\n \tid=profile ; prev=1 ; };\n bootstrap_stage = {\n-\tid=feedback ; prev=profile ;\n+\tid=train; prev=profile ; } ;\n+bootstrap_stage = {\n+\tid=feedback ; prev=train;\n \tbootstrap_target=profiledbootstrap ; };\n+bootstrap_stage = {\n+\tid=autoprofile ; prev=1 ;\n+        autoprofile=\"$$s/gcc/config/i386/$(AUTO_PROFILE)\" ; };\n+bootstrap_stage = {\n+\tid=autofeedback ; prev=autoprofile ;\n+\tbootstrap_target=autoprofiledbootstrap ;\n+\tprofile_data=\"PERF_DATA=perf.data\" ; };"
    },
    {
      "sha": "97b276150cf9d499fd58993bc45f281baf8d91bf",
      "filename": "Makefile.in",
      "status": "modified",
      "additions": 14324,
      "deletions": 3876,
      "changes": 18200,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/be472decb251e0a27edf4575e054cce107956d26/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/be472decb251e0a27edf4575e054cce107956d26/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/Makefile.in?ref=be472decb251e0a27edf4575e054cce107956d26"
    }
  ]
}