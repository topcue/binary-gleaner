{
  "sha": "99aedb6243a8ab8b434ec321de0fc3fbb2b6eebf",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6OTlhZWRiNjI0M2E4YWI4YjQzNGVjMzIxZGUwZmMzZmJiMmI2ZWViZg==",
  "commit": {
    "author": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-08-19T21:21:55Z"
    },
    "committer": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-09-08T05:24:15Z"
    },
    "message": "sim: update configure target list\n\nFix sorting of the list, and update the globs to match the list used\nin gdb's configure script.",
    "tree": {
      "sha": "5db340e44ba833a096653c97dc94dcf17a294007",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/5db340e44ba833a096653c97dc94dcf17a294007"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/99aedb6243a8ab8b434ec321de0fc3fbb2b6eebf",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/99aedb6243a8ab8b434ec321de0fc3fbb2b6eebf",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/99aedb6243a8ab8b434ec321de0fc3fbb2b6eebf",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/99aedb6243a8ab8b434ec321de0fc3fbb2b6eebf/comments",
  "author": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "551a11e1fb395926a4fbe9b3d2d8a27d869ebb52",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/551a11e1fb395926a4fbe9b3d2d8a27d869ebb52",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/551a11e1fb395926a4fbe9b3d2d8a27d869ebb52"
    }
  ],
  "stats": {
    "total": 55,
    "additions": 29,
    "deletions": 26
  },
  "files": [
    {
      "sha": "44b34e7bc60531fb063472f4699cfc53cf636492",
      "filename": "sim/configure",
      "status": "modified",
      "additions": 22,
      "deletions": 22,
      "changes": 44,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/99aedb6243a8ab8b434ec321de0fc3fbb2b6eebf/sim/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/99aedb6243a8ab8b434ec321de0fc3fbb2b6eebf/sim/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/configure?ref=99aedb6243a8ab8b434ec321de0fc3fbb2b6eebf",
      "patch": "@@ -867,8 +867,8 @@ ac_subdirs_all='bpf\n mips\n mn10300\n or1k\n-riscv\n ppc\n+riscv\n v850'\n \n # Initialize some variables set by options.\n@@ -11386,7 +11386,7 @@ haiku*)\n   soname_spec='${libname}${release}${shared_ext}$major'\n   shlibpath_var=LIBRARY_PATH\n   shlibpath_overrides_runpath=yes\n-  sys_lib_dlsearch_path_spec='/boot/home/config/lib /boot/common/lib /boot/beos/system/lib'\n+  sys_lib_dlsearch_path_spec='/boot/home/config/lib /boot/common/lib /boot/system/lib'\n   hardcode_into_libs=yes\n   ;;\n \n@@ -14028,7 +14028,7 @@ subdirs=\"$subdirs bpf\"\n   esac\n \n       case \"${targ}\" in\n-    all|microblaze-*-*)\n+    all|microblaze*-*-*)\n       if test \"${targ}\" = \"${target}\"; then\n         SIM_PRIMARY_TARGET=microblaze\n       fi\n@@ -14112,7 +14112,7 @@ subdirs=\"$subdirs bpf\"\n   esac\n \n       case \"${targ}\" in\n-    all|or1k-*-* | or1knd-*-*)\n+    all|or1k*-*-*)\n       if test \"${targ}\" = \"${target}\"; then\n         SIM_PRIMARY_TARGET=or1k\n       fi\n@@ -14123,6 +14123,21 @@ subdirs=\"$subdirs bpf\"\n \n \n \n+      ;;\n+  esac\n+\n+      case \"${targ}\" in\n+    all|powerpc*-*-*)\n+      if test \"${targ}\" = \"${target}\"; then\n+        SIM_PRIMARY_TARGET=ppc\n+      fi\n+            subdirs=\"$subdirs ppc\"\n+\n+\n+    ac_config_commands=\"$ac_config_commands depdir-ppc\"\n+\n+\n+\n       ;;\n   esac\n \n@@ -14214,7 +14229,7 @@ subdirs=\"$subdirs bpf\"\n   esac\n \n       case \"${targ}\" in\n-    all|sparc-*-rtems*|sparc-*-elf*)\n+    all|sparc-*-*)\n       if test \"${targ}\" = \"${target}\"; then\n         SIM_PRIMARY_TARGET=erc32\n       fi\n@@ -14228,21 +14243,6 @@ subdirs=\"$subdirs bpf\"\n \n \n \n-      ;;\n-  esac\n-\n-      case \"${targ}\" in\n-    all|powerpc*-*-*)\n-      if test \"${targ}\" = \"${target}\"; then\n-        SIM_PRIMARY_TARGET=ppc\n-      fi\n-            subdirs=\"$subdirs ppc\"\n-\n-\n-    ac_config_commands=\"$ac_config_commands depdir-ppc\"\n-\n-\n-\n       ;;\n   esac\n \n@@ -15882,6 +15882,7 @@ do\n     \"msp430/Makefile\") CONFIG_COMMANDS=\"$CONFIG_COMMANDS msp430/Makefile\" ;;\n     \"depdir-msp430\") CONFIG_COMMANDS=\"$CONFIG_COMMANDS depdir-msp430\" ;;\n     \"depdir-or1k\") CONFIG_COMMANDS=\"$CONFIG_COMMANDS depdir-or1k\" ;;\n+    \"depdir-ppc\") CONFIG_COMMANDS=\"$CONFIG_COMMANDS depdir-ppc\" ;;\n     \"pru/Makefile.sim\") CONFIG_FILES=\"$CONFIG_FILES pru/Makefile.sim:pru/Makefile.in\" ;;\n     \"pru/Makefile\") CONFIG_COMMANDS=\"$CONFIG_COMMANDS pru/Makefile\" ;;\n     \"depdir-pru\") CONFIG_COMMANDS=\"$CONFIG_COMMANDS depdir-pru\" ;;\n@@ -15898,7 +15899,6 @@ do\n     \"erc32/Makefile.sim\") CONFIG_FILES=\"$CONFIG_FILES erc32/Makefile.sim:erc32/Makefile.in\" ;;\n     \"erc32/Makefile\") CONFIG_COMMANDS=\"$CONFIG_COMMANDS erc32/Makefile\" ;;\n     \"depdir-erc32\") CONFIG_COMMANDS=\"$CONFIG_COMMANDS depdir-erc32\" ;;\n-    \"depdir-ppc\") CONFIG_COMMANDS=\"$CONFIG_COMMANDS depdir-ppc\" ;;\n     \"depdir-v850\") CONFIG_COMMANDS=\"$CONFIG_COMMANDS depdir-v850\" ;;\n     \"example-synacor/Makefile.sim\") CONFIG_FILES=\"$CONFIG_FILES example-synacor/Makefile.sim:example-synacor/Makefile.in\" ;;\n     \"example-synacor/Makefile\") CONFIG_COMMANDS=\"$CONFIG_COMMANDS example-synacor/Makefile\" ;;\n@@ -17483,6 +17483,7 @@ $as_echo X\"$file\" |\n  ;;\n     \"depdir-msp430\":C) $SHELL $ac_aux_dir/mkinstalldirs msp430/$DEPDIR ;;\n     \"depdir-or1k\":C) $SHELL $ac_aux_dir/mkinstalldirs or1k/$DEPDIR ;;\n+    \"depdir-ppc\":C) $SHELL $ac_aux_dir/mkinstalldirs ppc/$DEPDIR ;;\n     \"pru/Makefile\":C) sed -n \\\n \t-e '/^## COMMON_PRE_/,/^## End COMMON_PRE_/ {\n \t\t/^srcdir = / s:$:/pru:\n@@ -17549,7 +17550,6 @@ $as_echo X\"$file\" |\n  rm -f erc32/Makesim1.tmp erc32/Makesim2.tmp\n  ;;\n     \"depdir-erc32\":C) $SHELL $ac_aux_dir/mkinstalldirs erc32/$DEPDIR ;;\n-    \"depdir-ppc\":C) $SHELL $ac_aux_dir/mkinstalldirs ppc/$DEPDIR ;;\n     \"depdir-v850\":C) $SHELL $ac_aux_dir/mkinstalldirs v850/$DEPDIR ;;\n     \"example-synacor/Makefile\":C) sed -n \\\n \t-e '/^## COMMON_PRE_/,/^## End COMMON_PRE_/ {"
    },
    {
      "sha": "5d36e5556d342d922b31413f6fc0db25ff5f9ae9",
      "filename": "sim/configure.ac",
      "status": "modified",
      "additions": 7,
      "deletions": 4,
      "changes": 11,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/99aedb6243a8ab8b434ec321de0fc3fbb2b6eebf/sim/configure.ac",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/99aedb6243a8ab8b434ec321de0fc3fbb2b6eebf/sim/configure.ac",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/configure.ac?ref=99aedb6243a8ab8b434ec321de0fc3fbb2b6eebf",
      "patch": "@@ -107,6 +107,9 @@ dnl WHEN ADDING ENTRIES TO THIS MATRIX:\n dnl Make sure that the left side always has two dashes.  Otherwise you can get\n dnl spurious matches.  Even for unambiguous cases, do this as a convention, else\n dnl the table becomes a real mess to understand and maintain.\n+dnl\n+dnl NB: Target matching is aligned with gdb/configure.tgt.  Changes must be kept\n+dnl in sync with that file.\n if test \"${enable_sim}\" != no; then\n   sim_igen=no\n   for targ in `echo $target $enable_targets | sed 's/,/ /g'`\n@@ -128,19 +131,19 @@ if test \"${enable_sim}\" != no; then\n     SIM_TARGET([m32r-*-*], [m32r])\n     SIM_TARGET([m68hc11-*-*|m6811-*-*], [m68hc11])\n     SIM_TARGET([mcore-*-*], [mcore])\n-    SIM_TARGET([microblaze-*-*], [microblaze])\n+    SIM_TARGET([microblaze*-*-*], [microblaze])\n     SIM_TARGET([mips*-*-*], [mips], [true], [sim_igen=yes])\n     SIM_TARGET([mn10300*-*-*], [mn10300], [true], [sim_igen=yes])\n     SIM_TARGET([moxie-*-*], [moxie])\n     SIM_TARGET([msp430*-*-*], [msp430])\n-    SIM_TARGET([or1k-*-* | or1knd-*-*], [or1k], [true])\n+    SIM_TARGET([or1k*-*-*], [or1k], [true])\n+    SIM_TARGET([powerpc*-*-*], [ppc], [true])\n     SIM_TARGET([pru*-*-*], [pru])\n     SIM_TARGET([riscv*-*-*], [riscv], [true])\n     SIM_TARGET([rl78-*-*], [rl78])\n     SIM_TARGET([rx-*-*], [rx])\n     SIM_TARGET([sh*-*-*], [sh])\n-    SIM_TARGET([sparc-*-rtems*|sparc-*-elf*], [erc32])\n-    SIM_TARGET([powerpc*-*-*], [ppc], [true])\n+    SIM_TARGET([sparc-*-*], [erc32])\n     SIM_TARGET([v850*-*-*], [v850], [true], [sim_igen=yes])\n   done\n "
    }
  ]
}