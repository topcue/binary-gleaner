{
  "sha": "4268ec187d401b9b132afa1a13c73e0026a53c5d",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NDI2OGVjMTg3ZDQwMWI5YjEzMmFmYTFhMTNjNzNlMDAyNmE1M2M1ZA==",
  "commit": {
    "author": {
      "name": "Tom Tromey",
      "email": "tromey@adacore.com",
      "date": "2019-06-07T17:29:36Z"
    },
    "committer": {
      "name": "Tom Tromey",
      "email": "tromey@adacore.com",
      "date": "2019-06-14T14:02:20Z"
    },
    "message": "Recognize _ in attribute names\n\nAda attribute names can contain \"_\", but the lexer currently does not\nallow this -- even though the \"attributes\" array lists some attributes\nspelled this way.\n\nThis patch fixes the bug and adds test cases for the existing\nattributes.\n\nThis was reviewed off-list by Joel.  I'm checking it in.\n\ngdb/ChangeLog\n2019-06-14  Tom Tromey  <tromey@adacore.com>\n\n\t* ada-lex.l: Allow \"_\" in attribute names.\n\ngdb/testsuite/ChangeLog\n2019-06-14  Tom Tromey  <tromey@adacore.com>\n\n\t* gdb.ada/formatted_ref.exp (test_p_x_addr): Check\n\t'unchecked_access and 'unrestricted_access as well.",
    "tree": {
      "sha": "c897ebf2928eea030e6f1bdddf012e3eb6d95908",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/c897ebf2928eea030e6f1bdddf012e3eb6d95908"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/4268ec187d401b9b132afa1a13c73e0026a53c5d",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/4268ec187d401b9b132afa1a13c73e0026a53c5d",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/4268ec187d401b9b132afa1a13c73e0026a53c5d",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/4268ec187d401b9b132afa1a13c73e0026a53c5d/comments",
  "author": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "abdb711e0855f0597a96db0486b598144b788212",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/abdb711e0855f0597a96db0486b598144b788212",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/abdb711e0855f0597a96db0486b598144b788212"
    }
  ],
  "stats": {
    "total": 29,
    "additions": 20,
    "deletions": 9
  },
  "files": [
    {
      "sha": "9fbfcfa9b7203b41b183f8114317d4f62b3a5381",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4268ec187d401b9b132afa1a13c73e0026a53c5d/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4268ec187d401b9b132afa1a13c73e0026a53c5d/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=4268ec187d401b9b132afa1a13c73e0026a53c5d",
      "patch": "@@ -1,3 +1,7 @@\n+2019-06-14  Tom Tromey  <tromey@adacore.com>\n+\n+\t* ada-lex.l: Allow \"_\" in attribute names.\n+\n 2019-06-14  Tom Tromey  <tromey@adacore.com>\n \n \tPR gdb/24653:"
    },
    {
      "sha": "35db478baaa30654ac1d6b78b0982565523dd97a",
      "filename": "gdb/ada-lex.l",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4268ec187d401b9b132afa1a13c73e0026a53c5d/gdb/ada-lex.l",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4268ec187d401b9b132afa1a13c73e0026a53c5d/gdb/ada-lex.l",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ada-lex.l?ref=4268ec187d401b9b132afa1a13c73e0026a53c5d",
      "patch": "@@ -216,7 +216,7 @@ false\t\t{ return FALSEKEYWORD; }\n \n         /* ATTRIBUTES */\n \n-{TICK}[a-zA-Z][a-zA-Z]+ { BEGIN INITIAL; return processAttribute (yytext+1); }\n+{TICK}[a-zA-Z][a-zA-Z_]+ { BEGIN INITIAL; return processAttribute (yytext+1); }\n \n \t/* PUNCTUATION */\n "
    },
    {
      "sha": "9bfd570f48fb42dd6d1e1c423575b00f7f6af6b2",
      "filename": "gdb/testsuite/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4268ec187d401b9b132afa1a13c73e0026a53c5d/gdb/testsuite/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4268ec187d401b9b132afa1a13c73e0026a53c5d/gdb/testsuite/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/ChangeLog?ref=4268ec187d401b9b132afa1a13c73e0026a53c5d",
      "patch": "@@ -1,3 +1,8 @@\n+2019-06-14  Tom Tromey  <tromey@adacore.com>\n+\n+\t* gdb.ada/formatted_ref.exp (test_p_x_addr): Check\n+\t'unchecked_access and 'unrestricted_access as well.\n+\n 2019-06-14  Tom Tromey  <tromey@adacore.com>\n \n \tPR ada/24539:"
    },
    {
      "sha": "9641af87d5e559057ade54dbb49d6a6a4bf8b709",
      "filename": "gdb/testsuite/gdb.ada/formatted_ref.exp",
      "status": "modified",
      "additions": 10,
      "deletions": 8,
      "changes": 18,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4268ec187d401b9b132afa1a13c73e0026a53c5d/gdb/testsuite/gdb.ada/formatted_ref.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4268ec187d401b9b132afa1a13c73e0026a53c5d/gdb/testsuite/gdb.ada/formatted_ref.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.ada/formatted_ref.exp?ref=4268ec187d401b9b132afa1a13c73e0026a53c5d",
      "patch": "@@ -67,14 +67,16 @@ proc test_p_x { var val addr } {\n proc test_p_x_addr { var addr } {\n     global gdb_prompt\n \n-    set test \"print/x $var'access\"\n-    gdb_test_multiple $test $test {\n-        -re \"\\\\$\\[0-9\\]+ = $addr.*$gdb_prompt $\" {\n-\t    pass $test\n-\t} \n-\t-re \"\\\\$\\[0-9\\]+ = 0x\\[a-f0-9+\\]+.*$gdb_prompt $\" {\n-            fail \"$test (prints unexpected address)\"\n-        }\n+    foreach attr {access unchecked_access unrestricted_access} {\n+\tset test \"print/x $var'$attr\"\n+\tgdb_test_multiple $test $test {\n+\t    -re \"\\\\$\\[0-9\\]+ = $addr.*$gdb_prompt $\" {\n+\t\tpass $test\n+\t    }\n+\t    -re \"\\\\$\\[0-9\\]+ = 0x\\[a-f0-9+\\]+.*$gdb_prompt $\" {\n+\t\tfail \"$test (prints unexpected address)\"\n+\t    }\n+\t}\n     }\n     return 0\n }"
    }
  ]
}