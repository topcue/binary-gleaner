{
  "sha": "75cafaa61a0244016a2c2ee1d0b2742d674d7373",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NzVjYWZhYTYxYTAyNDQwMTZhMmMyZWUxZDBiMjc0MmQ2NzRkNzM3Mw==",
  "commit": {
    "author": {
      "name": "Christian Biesinger",
      "email": "cbiesinger@google.com",
      "date": "2019-10-30T21:19:11Z"
    },
    "committer": {
      "name": "Christian Biesinger",
      "email": "cbiesinger@google.com",
      "date": "2019-10-31T18:28:14Z"
    },
    "message": "Convert int to bool in agent.c\n\nAlso moves an int declaration inside the for loop.\n\nCode cleanup, no change in behavior intended.\n\ngdb/ChangeLog:\n\n2019-10-31  Christian Biesinger  <cbiesinger@google.com>\n\n\t* gdbsupport/agent.c (debug_agent): Change type to bool.\n\t(use_agent): Likewise.\n\t(all_agent_symbols_look_up): Likewise.\n\t(agent_loaded_p): Change return value to bool.\n\t(agent_look_up_symbols): Update.\n\t(agent_capability_check): Change return value to bool.\n\t* gdbsupport/agent.h (agent_loaded_p): Likewise.\n\t(debug_agent): Change type to bool.\n\t(use_agent): Likewise.\n\t(agent_capability_check): Change return value to bool.\n\ngdb/gdbserver/ChangeLog:\n\n2019-10-31  Christian Biesinger  <cbiesinger@google.com>\n\n\t* ax.h (debug_agent): Remove duplicate declaration.\n\nChange-Id: Icb28a65fcc8c7108bcd59287e6be66bf56f8ccb5",
    "tree": {
      "sha": "e259080487ae88c096bc987b2c88ab0f34f714ea",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/e259080487ae88c096bc987b2c88ab0f34f714ea"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/75cafaa61a0244016a2c2ee1d0b2742d674d7373",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/75cafaa61a0244016a2c2ee1d0b2742d674d7373",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/75cafaa61a0244016a2c2ee1d0b2742d674d7373",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/75cafaa61a0244016a2c2ee1d0b2742d674d7373/comments",
  "author": {
    "login": "cbiesinger",
    "id": 1483109,
    "node_id": "MDQ6VXNlcjE0ODMxMDk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1483109?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cbiesinger",
    "html_url": "https://github.com/cbiesinger",
    "followers_url": "https://api.github.com/users/cbiesinger/followers",
    "following_url": "https://api.github.com/users/cbiesinger/following{/other_user}",
    "gists_url": "https://api.github.com/users/cbiesinger/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cbiesinger/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cbiesinger/subscriptions",
    "organizations_url": "https://api.github.com/users/cbiesinger/orgs",
    "repos_url": "https://api.github.com/users/cbiesinger/repos",
    "events_url": "https://api.github.com/users/cbiesinger/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cbiesinger/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "cbiesinger",
    "id": 1483109,
    "node_id": "MDQ6VXNlcjE0ODMxMDk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1483109?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cbiesinger",
    "html_url": "https://github.com/cbiesinger",
    "followers_url": "https://api.github.com/users/cbiesinger/followers",
    "following_url": "https://api.github.com/users/cbiesinger/following{/other_user}",
    "gists_url": "https://api.github.com/users/cbiesinger/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cbiesinger/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cbiesinger/subscriptions",
    "organizations_url": "https://api.github.com/users/cbiesinger/orgs",
    "repos_url": "https://api.github.com/users/cbiesinger/repos",
    "events_url": "https://api.github.com/users/cbiesinger/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cbiesinger/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "f78d04905a457abde48c8f521ec2303e84683100",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/f78d04905a457abde48c8f521ec2303e84683100",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/f78d04905a457abde48c8f521ec2303e84683100"
    }
  ],
  "stats": {
    "total": 46,
    "additions": 30,
    "deletions": 16
  },
  "files": [
    {
      "sha": "ee48133aa7a74eb7977aa444a9d0ef5c55705326",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 13,
      "deletions": 0,
      "changes": 13,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/75cafaa61a0244016a2c2ee1d0b2742d674d7373/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/75cafaa61a0244016a2c2ee1d0b2742d674d7373/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=75cafaa61a0244016a2c2ee1d0b2742d674d7373",
      "patch": "@@ -1,3 +1,16 @@\n+2019-10-31  Christian Biesinger  <cbiesinger@google.com>\n+\n+\t* gdbsupport/agent.c (debug_agent): Change type to bool.\n+\t(use_agent): Likewise.\n+\t(all_agent_symbols_look_up): Likewise.\n+\t(agent_loaded_p): Change return value to bool.\n+\t(agent_look_up_symbols): Update.\n+\t(agent_capability_check): Change return value to bool.\n+\t* gdbsupport/agent.h (agent_loaded_p): Likewise.\n+\t(debug_agent): Change type to bool.\n+\t(use_agent): Likewise.\n+\t(agent_capability_check): Change return value to bool.\n+\n 2019-10-30  Christian Biesinger  <cbiesinger@google.com>\n \n \t* minsyms.c (clear_minimal_symbol_hash_tables): New function."
    },
    {
      "sha": "9606596e3d82eb90818773e0b9aa3786148ca9a5",
      "filename": "gdb/gdbserver/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/75cafaa61a0244016a2c2ee1d0b2742d674d7373/gdb/gdbserver/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/75cafaa61a0244016a2c2ee1d0b2742d674d7373/gdb/gdbserver/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/gdbserver/ChangeLog?ref=75cafaa61a0244016a2c2ee1d0b2742d674d7373",
      "patch": "@@ -1,3 +1,7 @@\n+2019-10-31  Christian Biesinger  <cbiesinger@google.com>\n+\n+\t* ax.h (debug_agent): Remove duplicate declaration.\n+\n 2019-10-26  Tom de Vries  <tdevries@suse.de>\n \n \t* linux-aarch64-low.c: Fix typos in comments."
    },
    {
      "sha": "db8ecae076ef266af2f1b19508f3f778253cbef9",
      "filename": "gdb/gdbserver/ax.h",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/75cafaa61a0244016a2c2ee1d0b2742d674d7373/gdb/gdbserver/ax.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/75cafaa61a0244016a2c2ee1d0b2742d674d7373/gdb/gdbserver/ax.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/gdbserver/ax.h?ref=75cafaa61a0244016a2c2ee1d0b2742d674d7373",
      "patch": "@@ -22,7 +22,6 @@\n #include \"regcache.h\"\n \n #ifdef IN_PROCESS_AGENT\n-extern int debug_agent;\n #define debug_threads debug_agent\n #endif\n "
    },
    {
      "sha": "6d55f586b8fc8b9e1acaa71f3499065249f72f6b",
      "filename": "gdb/gdbsupport/agent.c",
      "status": "modified",
      "additions": 9,
      "deletions": 11,
      "changes": 20,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/75cafaa61a0244016a2c2ee1d0b2742d674d7373/gdb/gdbsupport/agent.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/75cafaa61a0244016a2c2ee1d0b2742d674d7373/gdb/gdbsupport/agent.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/gdbsupport/agent.c?ref=75cafaa61a0244016a2c2ee1d0b2742d674d7373",
      "patch": "@@ -26,7 +26,7 @@\n #define IPA_SYM_STRUCT_NAME ipa_sym_addresses_common\n #include \"agent.h\"\n \n-int debug_agent = 0;\n+bool debug_agent = false;\n \n /* A stdarg wrapper for debug_vprintf.  */\n \n@@ -45,7 +45,7 @@ debug_agent_printf (const char *fmt, ...)\n #define DEBUG_AGENT debug_agent_printf\n \n /* Global flag to determine using agent or not.  */\n-int use_agent = 0;\n+bool use_agent = false;\n \n /* Addresses of in-process agent's symbols both GDB and GDBserver cares\n    about.  */\n@@ -73,9 +73,9 @@ static struct\n \n static struct ipa_sym_addresses_common ipa_sym_addrs;\n \n-static int all_agent_symbols_looked_up = 0;\n+static bool all_agent_symbols_looked_up = false;\n \n-int\n+bool\n agent_loaded_p (void)\n {\n   return all_agent_symbols_looked_up;\n@@ -87,11 +87,9 @@ agent_loaded_p (void)\n int\n agent_look_up_symbols (void *arg)\n {\n-  int i;\n-\n-  all_agent_symbols_looked_up = 0;\n+  all_agent_symbols_looked_up = false;\n \n-  for (i = 0; i < sizeof (symbol_list) / sizeof (symbol_list[0]); i++)\n+  for (int i = 0; i < sizeof (symbol_list) / sizeof (symbol_list[0]); i++)\n     {\n       CORE_ADDR *addrp =\n \t(CORE_ADDR *) ((char *) &ipa_sym_addrs + symbol_list[i].offset);\n@@ -105,7 +103,7 @@ agent_look_up_symbols (void *arg)\n \t}\n     }\n \n-  all_agent_symbols_looked_up = 1;\n+  all_agent_symbols_looked_up = true;\n   return 0;\n }\n \n@@ -260,7 +258,7 @@ static uint32_t agent_capability = 0;\n \n /* Return true if agent has capability AGENT_CAP, otherwise return false.  */\n \n-int\n+bool\n agent_capability_check (enum agent_capa agent_capa)\n {\n   if (agent_capability == 0)\n@@ -269,7 +267,7 @@ agent_capability_check (enum agent_capa agent_capa)\n \t\t\t      &agent_capability))\n \twarning (_(\"Error reading capability of agent\"));\n     }\n-  return agent_capability & agent_capa;\n+  return (agent_capability & agent_capa) != 0;\n }\n \n /* Invalidate the cache of agent capability, so we'll read it from inferior"
    },
    {
      "sha": "27f515dc9c30a18c3ab5f2018042ea4e29ba21ed",
      "filename": "gdb/gdbsupport/agent.h",
      "status": "modified",
      "additions": 4,
      "deletions": 4,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/75cafaa61a0244016a2c2ee1d0b2742d674d7373/gdb/gdbsupport/agent.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/75cafaa61a0244016a2c2ee1d0b2742d674d7373/gdb/gdbsupport/agent.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/gdbsupport/agent.h?ref=75cafaa61a0244016a2c2ee1d0b2742d674d7373",
      "patch": "@@ -42,11 +42,11 @@ int agent_look_up_symbols (void *);\n    thread.  */\n #define IPA_CMD_BUF_SIZE 1024\n \n-int agent_loaded_p (void);\n+bool agent_loaded_p (void);\n \n-extern int debug_agent;\n+extern bool debug_agent;\n \n-extern int use_agent;\n+extern bool use_agent;\n \n /* Capability of agent.  Different agents may have different capabilities,\n    such as installing fast tracepoint or evaluating breakpoint conditions.\n@@ -61,7 +61,7 @@ enum agent_capa\n   AGENT_CAPA_STATIC_TRACE = (0x1 << 1),\n };\n \n-int agent_capability_check (enum agent_capa);\n+bool agent_capability_check (enum agent_capa);\n \n void agent_capability_invalidate (void);\n "
    }
  ]
}