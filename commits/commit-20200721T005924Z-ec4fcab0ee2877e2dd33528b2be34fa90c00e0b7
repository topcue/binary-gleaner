{
  "sha": "ec4fcab0ee2877e2dd33528b2be34fa90c00e0b7",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ZWM0ZmNhYjBlZTI4NzdlMmRkMzM1MjhiMmJlMzRmYTkwYzAwZTBiNw==",
  "commit": {
    "author": {
      "name": "Maciej W. Rozycki",
      "email": "macro@linux-mips.org",
      "date": "2020-07-21T00:59:24Z"
    },
    "committer": {
      "name": "Maciej W. Rozycki",
      "email": "macro@linux-mips.org",
      "date": "2020-07-21T00:59:24Z"
    },
    "message": "MIPS/GAS: Remove stale `prev_reloc_op_frag' variable\n\nEver since commit 4d7206a284ee (\"Rework MIPS macro relaxation, fix string\nmerging bug\"), <https://sourceware.org/ml/binutils/2004-01/msg00248.html>,\n`prev_reloc_op_frag' has only been set and never used.  Remove it then.\n\n\tgas/\n\t* config/tc-mips.c (prev_reloc_op_frag): Remove variable.\n\t(my_getSmallExpression): Adjust accordingly.",
    "tree": {
      "sha": "abc4f9a0bdfa5e20d078b27dcace95d1c3d6cc10",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/abc4f9a0bdfa5e20d078b27dcace95d1c3d6cc10"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/ec4fcab0ee2877e2dd33528b2be34fa90c00e0b7",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/ec4fcab0ee2877e2dd33528b2be34fa90c00e0b7",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/ec4fcab0ee2877e2dd33528b2be34fa90c00e0b7",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/ec4fcab0ee2877e2dd33528b2be34fa90c00e0b7/comments",
  "author": null,
  "committer": null,
  "parents": [
    {
      "sha": "3ce8f1ed68ff1dc02c2fca477d628f432294833a",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/3ce8f1ed68ff1dc02c2fca477d628f432294833a",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/3ce8f1ed68ff1dc02c2fca477d628f432294833a"
    }
  ],
  "stats": {
    "total": 18,
    "additions": 7,
    "deletions": 11
  },
  "files": [
    {
      "sha": "38cbe1cfeb926c2342b76219d8f5d7f4c18b4a27",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ec4fcab0ee2877e2dd33528b2be34fa90c00e0b7/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ec4fcab0ee2877e2dd33528b2be34fa90c00e0b7/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=ec4fcab0ee2877e2dd33528b2be34fa90c00e0b7",
      "patch": "@@ -1,3 +1,8 @@\n+2020-07-21  Maciej W. Rozycki  <macro@linux-mips.org>\n+\n+\t* config/tc-mips.c (prev_reloc_op_frag): Remove variable.\n+\t(my_getSmallExpression): Adjust accordingly.\n+\n 2020-07-20  Jan Beulich  <jbeulich@suse.com>\n \n \tPR gas/4572"
    },
    {
      "sha": "2d85cb5da1ac03b59550c7d4d635d011b0d8c51f",
      "filename": "gas/config/tc-mips.c",
      "status": "modified",
      "additions": 2,
      "deletions": 11,
      "changes": 13,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ec4fcab0ee2877e2dd33528b2be34fa90c00e0b7/gas/config/tc-mips.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ec4fcab0ee2877e2dd33528b2be34fa90c00e0b7/gas/config/tc-mips.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/config/tc-mips.c?ref=ec4fcab0ee2877e2dd33528b2be34fa90c00e0b7",
      "patch": "@@ -889,11 +889,6 @@ struct mips_hi_fixup\n \n static struct mips_hi_fixup *mips_hi_fixup_list;\n \n-/* The frag containing the last explicit relocation operator.\n-   Null if explicit relocations have not been used.  */\n-\n-static fragS *prev_reloc_op_frag;\n-\n /* Map mips16 register numbers to normal MIPS register numbers.  */\n \n static const unsigned int mips16_to_32_reg_map[] =\n@@ -14720,12 +14715,8 @@ my_getSmallExpression (expressionS *ep, bfd_reloc_code_real_type *reloc,\n \n   expr_end = str;\n \n-  if (reloc_index != 0)\n-    {\n-      prev_reloc_op_frag = frag_now;\n-      for (i = 0; i < reloc_index; i++)\n-\treloc[i] = reversed_reloc[reloc_index - 1 - i];\n-    }\n+  for (i = 0; i < reloc_index; i++)\n+    reloc[i] = reversed_reloc[reloc_index - 1 - i];\n \n   return reloc_index;\n }"
    }
  ]
}