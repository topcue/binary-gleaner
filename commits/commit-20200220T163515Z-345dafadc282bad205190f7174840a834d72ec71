{
  "sha": "345dafadc282bad205190f7174840a834d72ec71",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MzQ1ZGFmYWRjMjgyYmFkMjA1MTkwZjcxNzQ4NDBhODM0ZDcyZWM3MQ==",
  "commit": {
    "author": {
      "name": "Tankut Baris Aktemur",
      "email": "tankut.baris.aktemur@intel.com",
      "date": "2020-02-17T15:12:00Z"
    },
    "committer": {
      "name": "Tankut Baris Aktemur",
      "email": "tankut.baris.aktemur@intel.com",
      "date": "2020-02-20T16:35:15Z"
    },
    "message": "gdbserver: turn target op 'emit_ops' into a method\n\ngdbserver/ChangeLog:\n2020-02-20  Tankut Baris Aktemur  <tankut.baris.aktemur@intel.com>\n\n\tTurn process_stratum_target's emit_ops op into a method of\n\tprocess_target.\n\n\t* target.h (struct process_stratum_target): Remove the target op.\n\t(class process_target): Add the target op.\n\t(target_emit_ops): Update the macro.\n\t* target.cc (process_target::emit_ops): Define.\n\n\tUpdate the derived classes and callers below.\n\n\t* linux-low.cc (linux_target_ops): Update.\n\t(linux_emit_ops): Turn into ...\n\t(linux_process_target::emit_ops): ... this.\n\t* linux-low.h (class linux_process_target): Update.\n\t* lynx-low.cc (lynx_target_ops): Update.\n\t* nto-low.cc (nto_target_ops): Update.\n\t* win32-low.cc (win32_target_ops): Update.",
    "tree": {
      "sha": "31dca39713c42db2313bb2c9d562eb2de4133862",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/31dca39713c42db2313bb2c9d562eb2de4133862"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/345dafadc282bad205190f7174840a834d72ec71",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/345dafadc282bad205190f7174840a834d72ec71",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/345dafadc282bad205190f7174840a834d72ec71",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/345dafadc282bad205190f7174840a834d72ec71/comments",
  "author": {
    "login": "barisaktemur",
    "id": 55686642,
    "node_id": "MDQ6VXNlcjU1Njg2NjQy",
    "avatar_url": "https://avatars.githubusercontent.com/u/55686642?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/barisaktemur",
    "html_url": "https://github.com/barisaktemur",
    "followers_url": "https://api.github.com/users/barisaktemur/followers",
    "following_url": "https://api.github.com/users/barisaktemur/following{/other_user}",
    "gists_url": "https://api.github.com/users/barisaktemur/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/barisaktemur/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/barisaktemur/subscriptions",
    "organizations_url": "https://api.github.com/users/barisaktemur/orgs",
    "repos_url": "https://api.github.com/users/barisaktemur/repos",
    "events_url": "https://api.github.com/users/barisaktemur/events{/privacy}",
    "received_events_url": "https://api.github.com/users/barisaktemur/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "barisaktemur",
    "id": 55686642,
    "node_id": "MDQ6VXNlcjU1Njg2NjQy",
    "avatar_url": "https://avatars.githubusercontent.com/u/55686642?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/barisaktemur",
    "html_url": "https://github.com/barisaktemur",
    "followers_url": "https://api.github.com/users/barisaktemur/followers",
    "following_url": "https://api.github.com/users/barisaktemur/following{/other_user}",
    "gists_url": "https://api.github.com/users/barisaktemur/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/barisaktemur/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/barisaktemur/subscriptions",
    "organizations_url": "https://api.github.com/users/barisaktemur/orgs",
    "repos_url": "https://api.github.com/users/barisaktemur/repos",
    "events_url": "https://api.github.com/users/barisaktemur/events{/privacy}",
    "received_events_url": "https://api.github.com/users/barisaktemur/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "c23c939174445a65de521041509b038f5839a742",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/c23c939174445a65de521041509b038f5839a742",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/c23c939174445a65de521041509b038f5839a742"
    }
  ],
  "stats": {
    "total": 46,
    "additions": 35,
    "deletions": 11
  },
  "files": [
    {
      "sha": "fc01891dd9c5f80382369a2bb5743b40c84cf33d",
      "filename": "gdbserver/ChangeLog",
      "status": "modified",
      "additions": 20,
      "deletions": 0,
      "changes": 20,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/345dafadc282bad205190f7174840a834d72ec71/gdbserver/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/345dafadc282bad205190f7174840a834d72ec71/gdbserver/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/ChangeLog?ref=345dafadc282bad205190f7174840a834d72ec71",
      "patch": "@@ -1,3 +1,23 @@\n+2020-02-20  Tankut Baris Aktemur  <tankut.baris.aktemur@intel.com>\n+\n+\tTurn process_stratum_target's emit_ops op into a method of\n+\tprocess_target.\n+\n+\t* target.h (struct process_stratum_target): Remove the target op.\n+\t(class process_target): Add the target op.\n+\t(target_emit_ops): Update the macro.\n+\t* target.cc (process_target::emit_ops): Define.\n+\n+\tUpdate the derived classes and callers below.\n+\n+\t* linux-low.cc (linux_target_ops): Update.\n+\t(linux_emit_ops): Turn into ...\n+\t(linux_process_target::emit_ops): ... this.\n+\t* linux-low.h (class linux_process_target): Update.\n+\t* lynx-low.cc (lynx_target_ops): Update.\n+\t* nto-low.cc (nto_target_ops): Update.\n+\t* win32-low.cc (win32_target_ops): Update.\n+\n 2020-02-20  Tankut Baris Aktemur  <tankut.baris.aktemur@intel.com>\n \n \tTurn process_stratum_target's install_fast_tracepoint_jump_pad"
    },
    {
      "sha": "f93d66a41bd66c0dcd3f6e381878c715c73c66de",
      "filename": "gdbserver/linux-low.cc",
      "status": "modified",
      "additions": 2,
      "deletions": 3,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/345dafadc282bad205190f7174840a834d72ec71/gdbserver/linux-low.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/345dafadc282bad205190f7174840a834d72ec71/gdbserver/linux-low.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/linux-low.cc?ref=345dafadc282bad205190f7174840a834d72ec71",
      "patch": "@@ -6643,8 +6643,8 @@ linux_process_target::install_fast_tracepoint_jump_pad\n      err);\n }\n \n-static struct emit_ops *\n-linux_emit_ops (void)\n+emit_ops *\n+linux_process_target::emit_ops ()\n {\n   if (the_low_target.emit_ops != NULL)\n     return (*the_low_target.emit_ops) ();\n@@ -7456,7 +7456,6 @@ linux_get_hwcap2 (int wordsize)\n static linux_process_target the_linux_target;\n \n static process_stratum_target linux_target_ops = {\n-  linux_emit_ops,\n   linux_supports_disable_randomization,\n   linux_qxfer_libraries_svr4,\n   linux_supports_agent,"
    },
    {
      "sha": "3a6d2d02dffbbbb29d5cab36d1466c082f10ec0c",
      "filename": "gdbserver/linux-low.h",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/345dafadc282bad205190f7174840a834d72ec71/gdbserver/linux-low.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/345dafadc282bad205190f7174840a834d72ec71/gdbserver/linux-low.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/linux-low.h?ref=345dafadc282bad205190f7174840a834d72ec71",
      "patch": "@@ -420,6 +420,8 @@ class linux_process_target : public process_target\n \t\t\t\t\tchar *err) override;\n \n   int get_min_fast_tracepoint_insn_len () override;\n+\n+  struct emit_ops *emit_ops () override;\n };\n \n #define get_thread_lwp(thr) ((struct lwp_info *) (thread_target_data (thr)))"
    },
    {
      "sha": "1c71c60f096b56f472044680fb415d4e17074ad5",
      "filename": "gdbserver/lynx-low.cc",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/345dafadc282bad205190f7174840a834d72ec71/gdbserver/lynx-low.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/345dafadc282bad205190f7174840a834d72ec71/gdbserver/lynx-low.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/lynx-low.cc?ref=345dafadc282bad205190f7174840a834d72ec71",
      "patch": "@@ -735,7 +735,6 @@ static lynx_process_target the_lynx_target;\n /* The LynxOS target_ops vector.  */\n \n static process_stratum_target lynx_target_ops = {\n-  NULL,  /* emit_ops */\n   NULL,  /* supports_disable_randomization */\n   NULL,  /* qxfer_libraries_svr4 */\n   NULL,  /* support_agent */"
    },
    {
      "sha": "502e6104638a3d3b795be358206218b6b68791db",
      "filename": "gdbserver/nto-low.cc",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/345dafadc282bad205190f7174840a834d72ec71/gdbserver/nto-low.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/345dafadc282bad205190f7174840a834d72ec71/gdbserver/nto-low.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/nto-low.cc?ref=345dafadc282bad205190f7174840a834d72ec71",
      "patch": "@@ -947,7 +947,6 @@ nto_sw_breakpoint_from_kind (int kind, int *size)\n static nto_process_target the_nto_target;\n \n static process_stratum_target nto_target_ops = {\n-  NULL, /* emit_ops */\n   NULL, /* supports_disable_randomization */\n   NULL, /* qxfer_libraries_svr4 */\n   NULL, /* support_agent */"
    },
    {
      "sha": "44069f1ad44e160f9d8f3f120e16daf5e969361f",
      "filename": "gdbserver/target.cc",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/345dafadc282bad205190f7174840a834d72ec71/gdbserver/target.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/345dafadc282bad205190f7174840a834d72ec71/gdbserver/target.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/target.cc?ref=345dafadc282bad205190f7174840a834d72ec71",
      "patch": "@@ -693,3 +693,9 @@ process_target::get_min_fast_tracepoint_insn_len ()\n {\n   return 0;\n }\n+\n+struct emit_ops *\n+process_target::emit_ops ()\n+{\n+  return nullptr;\n+}"
    },
    {
      "sha": "0d51af7965cf3699b96ecf535308e24f1715ea3e",
      "filename": "gdbserver/target.h",
      "status": "modified",
      "additions": 5,
      "deletions": 5,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/345dafadc282bad205190f7174840a834d72ec71/gdbserver/target.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/345dafadc282bad205190f7174840a834d72ec71/gdbserver/target.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/target.h?ref=345dafadc282bad205190f7174840a834d72ec71",
      "patch": "@@ -70,10 +70,6 @@ class process_target;\n    shared code.  */\n struct process_stratum_target\n {\n-  /* Return the bytecode operations vector for the current inferior.\n-     Returns NULL if bytecode compilation is not supported.  */\n-  struct emit_ops *(*emit_ops) (void);\n-\n   /* Returns true if the target supports disabling randomization.  */\n   int (*supports_disable_randomization) (void);\n \n@@ -493,6 +489,10 @@ class process_target\n   /* Return the minimum length of an instruction that can be safely\n      overwritten for use as a fast tracepoint.  */\n   virtual int get_min_fast_tracepoint_insn_len ();\n+\n+  /* Return the bytecode operations vector for the current inferior.\n+     Returns nullptr if bytecode compilation is not supported.  */\n+  virtual struct emit_ops *emit_ops ();\n };\n \n extern process_stratum_target *the_target;\n@@ -597,7 +597,7 @@ int kill_inferior (process_info *proc);\n \t\t\t\t\t\t    err)\n \n #define target_emit_ops() \\\n-  (the_target->emit_ops ? (*the_target->emit_ops) () : NULL)\n+  the_target->pt->emit_ops ()\n \n #define target_supports_disable_randomization() \\\n   (the_target->supports_disable_randomization ? \\"
    },
    {
      "sha": "297882bc8a8eb5db2c800525c315b301314892b1",
      "filename": "gdbserver/win32-low.cc",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/345dafadc282bad205190f7174840a834d72ec71/gdbserver/win32-low.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/345dafadc282bad205190f7174840a834d72ec71/gdbserver/win32-low.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/win32-low.cc?ref=345dafadc282bad205190f7174840a834d72ec71",
      "patch": "@@ -1858,7 +1858,6 @@ win32_sw_breakpoint_from_kind (int kind, int *size)\n static win32_process_target the_win32_target;\n \n static process_stratum_target win32_target_ops = {\n-  NULL, /* emit_ops */\n   NULL, /* supports_disable_randomization */\n   NULL, /* qxfer_libraries_svr4 */\n   NULL, /* support_agent */"
    }
  ]
}