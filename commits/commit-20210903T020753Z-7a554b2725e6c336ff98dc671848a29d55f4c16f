{
  "sha": "7a554b2725e6c336ff98dc671848a29d55f4c16f",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6N2E1NTRiMjcyNWU2YzMzNmZmOThkYzY3MTg0OGEyOWQ1NWY0YzE2Zg==",
  "commit": {
    "author": {
      "name": "Fangrui Song",
      "email": "maskray@google.com",
      "date": "2021-09-03T02:07:53Z"
    },
    "committer": {
      "name": "Fangrui Song",
      "email": "maskray@google.com",
      "date": "2021-09-03T02:07:53Z"
    },
    "message": "gold: --export-dynamic-symbol: don't imply -u\n\nto match GNU ld.\n\ngold/\n\t* archive.cc (Library_base::should_include_member): Don't handle\n\t--export-dynamic-symbol.\n\t* symtab.cc (Symbol_table::do_add_undefined_symbols_from_command_line):\n\tLikewise.",
    "tree": {
      "sha": "51b91832de1c9d5000578b3a9d635170f964be02",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/51b91832de1c9d5000578b3a9d635170f964be02"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/7a554b2725e6c336ff98dc671848a29d55f4c16f",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/7a554b2725e6c336ff98dc671848a29d55f4c16f",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/7a554b2725e6c336ff98dc671848a29d55f4c16f",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/7a554b2725e6c336ff98dc671848a29d55f4c16f/comments",
  "author": {
    "login": "MaskRay",
    "id": 416322,
    "node_id": "MDQ6VXNlcjQxNjMyMg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/416322?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MaskRay",
    "html_url": "https://github.com/MaskRay",
    "followers_url": "https://api.github.com/users/MaskRay/followers",
    "following_url": "https://api.github.com/users/MaskRay/following{/other_user}",
    "gists_url": "https://api.github.com/users/MaskRay/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MaskRay/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MaskRay/subscriptions",
    "organizations_url": "https://api.github.com/users/MaskRay/orgs",
    "repos_url": "https://api.github.com/users/MaskRay/repos",
    "events_url": "https://api.github.com/users/MaskRay/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MaskRay/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "MaskRay",
    "id": 416322,
    "node_id": "MDQ6VXNlcjQxNjMyMg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/416322?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MaskRay",
    "html_url": "https://github.com/MaskRay",
    "followers_url": "https://api.github.com/users/MaskRay/followers",
    "following_url": "https://api.github.com/users/MaskRay/following{/other_user}",
    "gists_url": "https://api.github.com/users/MaskRay/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MaskRay/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MaskRay/subscriptions",
    "organizations_url": "https://api.github.com/users/MaskRay/orgs",
    "repos_url": "https://api.github.com/users/MaskRay/repos",
    "events_url": "https://api.github.com/users/MaskRay/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MaskRay/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "68e503ecf0d01ca22e5d7c3f225347e6d25c53b8",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/68e503ecf0d01ca22e5d7c3f225347e6d25c53b8",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/68e503ecf0d01ca22e5d7c3f225347e6d25c53b8"
    }
  ],
  "stats": {
    "total": 13,
    "additions": 0,
    "deletions": 13
  },
  "files": [
    {
      "sha": "ff426b2395e96ff081d61c1ac0780b3f75ea2209",
      "filename": "gold/archive.cc",
      "status": "modified",
      "additions": 0,
      "deletions": 7,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7a554b2725e6c336ff98dc671848a29d55f4c16f/gold/archive.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7a554b2725e6c336ff98dc671848a29d55f4c16f/gold/archive.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gold/archive.cc?ref=7a554b2725e6c336ff98dc671848a29d55f4c16f",
      "patch": "@@ -120,13 +120,6 @@ Library_base::should_include_member(Symbol_table* symtab, Layout* layout,\n       return Library_base::SHOULD_INCLUDE_YES;\n     }\n \n-  if (parameters->options().is_export_dynamic_symbol(sym_name))\n-    {\n-      *why = \"--export-dynamic-symbol \";\n-      *why += sym_name;\n-      return Library_base::SHOULD_INCLUDE_YES;\n-    }\n-\n   if (layout->script_options()->is_referenced(sym_name))\n     {\n       size_t alc = 100 + strlen(sym_name);"
    },
    {
      "sha": "5a21ddc8cc2f560be109f755c3d2bf8a9ef9763c",
      "filename": "gold/symtab.cc",
      "status": "modified",
      "additions": 0,
      "deletions": 6,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7a554b2725e6c336ff98dc671848a29d55f4c16f/gold/symtab.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7a554b2725e6c336ff98dc671848a29d55f4c16f/gold/symtab.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gold/symtab.cc?ref=7a554b2725e6c336ff98dc671848a29d55f4c16f",
      "patch": "@@ -2475,12 +2475,6 @@ Symbol_table::do_add_undefined_symbols_from_command_line(Layout* layout)\n        ++p)\n     this->add_undefined_symbol_from_command_line<size>(p->c_str());\n \n-  for (options::String_set::const_iterator p =\n-\t parameters->options().export_dynamic_symbol_begin();\n-       p != parameters->options().export_dynamic_symbol_end();\n-       ++p)\n-    this->add_undefined_symbol_from_command_line<size>(p->c_str());\n-\n   for (Script_options::referenced_const_iterator p =\n \t layout->script_options()->referenced_begin();\n        p != layout->script_options()->referenced_end();"
    }
  ]
}