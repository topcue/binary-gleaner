{
  "sha": "161972082386042858ee68b5335ddd09648e5bea",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MTYxOTcyMDgyMzg2MDQyODU4ZWU2OGI1MzM1ZGRkMDk2NDhlNWJlYQ==",
  "commit": {
    "author": {
      "name": "Simon Marchi",
      "email": "simon.marchi@polymtl.ca",
      "date": "2020-04-16T19:46:16Z"
    },
    "committer": {
      "name": "Simon Marchi",
      "email": "simon.marchi@polymtl.ca",
      "date": "2020-04-16T19:46:44Z"
    },
    "message": "gdb: is_linked_with_cygwin_dll: mention filename in warning messages\n\nWhen a warning is displayed, it isn't clear to the user which file is\nthe cause of the warning.  Add the filename in there.  Remove the\n\"Failed to parse .idata section\" part, since the .idata section is\nalways mentioned one way or another anyway, so it just contributes to\nmake the message longer than it needs to be.\n\ngdb/ChangeLog:\n\n\t* windows-tdep.c (is_linked_with_cygwin_dll): Add filename to\n\twarning messages.",
    "tree": {
      "sha": "8f296daafe2e93369e6dfb66608447b6be47eb39",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/8f296daafe2e93369e6dfb66608447b6be47eb39"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/161972082386042858ee68b5335ddd09648e5bea",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/161972082386042858ee68b5335ddd09648e5bea",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/161972082386042858ee68b5335ddd09648e5bea",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/161972082386042858ee68b5335ddd09648e5bea/comments",
  "author": {
    "login": "simark",
    "id": 1758287,
    "node_id": "MDQ6VXNlcjE3NTgyODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1758287?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/simark",
    "html_url": "https://github.com/simark",
    "followers_url": "https://api.github.com/users/simark/followers",
    "following_url": "https://api.github.com/users/simark/following{/other_user}",
    "gists_url": "https://api.github.com/users/simark/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/simark/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/simark/subscriptions",
    "organizations_url": "https://api.github.com/users/simark/orgs",
    "repos_url": "https://api.github.com/users/simark/repos",
    "events_url": "https://api.github.com/users/simark/events{/privacy}",
    "received_events_url": "https://api.github.com/users/simark/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "simark",
    "id": 1758287,
    "node_id": "MDQ6VXNlcjE3NTgyODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1758287?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/simark",
    "html_url": "https://github.com/simark",
    "followers_url": "https://api.github.com/users/simark/followers",
    "following_url": "https://api.github.com/users/simark/following{/other_user}",
    "gists_url": "https://api.github.com/users/simark/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/simark/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/simark/subscriptions",
    "organizations_url": "https://api.github.com/users/simark/orgs",
    "repos_url": "https://api.github.com/users/simark/repos",
    "events_url": "https://api.github.com/users/simark/events{/privacy}",
    "received_events_url": "https://api.github.com/users/simark/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "00ac85d3751b763155adb4e9d15dd134399b4e77",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/00ac85d3751b763155adb4e9d15dd134399b4e77",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/00ac85d3751b763155adb4e9d15dd134399b4e77"
    }
  ],
  "stats": {
    "total": 19,
    "additions": 13,
    "deletions": 6
  },
  "files": [
    {
      "sha": "c57ffe1a7b30ed8c5f01b828073d36ea12fe891e",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/161972082386042858ee68b5335ddd09648e5bea/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/161972082386042858ee68b5335ddd09648e5bea/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=161972082386042858ee68b5335ddd09648e5bea",
      "patch": "@@ -1,3 +1,8 @@\n+2020-04-16  Simon Marchi  <simon.marchi@polymtl.ca>\n+\n+\t* windows-tdep.c (is_linked_with_cygwin_dll): Add filename to\n+\twarning messages.\n+\n 2020-04-16  Simon Marchi  <simon.marchi@polymtl.ca>\n \n \t* windows-tdep.c (is_linked_with_cygwin_dll): Consider case where"
    },
    {
      "sha": "13eaf8f1cabd636ad549d03baac83bfb628f5983",
      "filename": "gdb/windows-tdep.c",
      "status": "modified",
      "additions": 8,
      "deletions": 6,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/161972082386042858ee68b5335ddd09648e5bea/gdb/windows-tdep.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/161972082386042858ee68b5335ddd09648e5bea/gdb/windows-tdep.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/windows-tdep.c?ref=161972082386042858ee68b5335ddd09648e5bea",
      "patch": "@@ -1030,7 +1030,8 @@ section's range [0x%\" BFD_VMA_FMT \"x, 0x%\" BFD_VMA_FMT \"x[.\"),\n   gdb::byte_vector idata_contents;\n   if (!gdb_bfd_get_full_section_contents (abfd, idata_section, &idata_contents))\n     {\n-      warning (_(\"Failed to get content of .idata section.\"));\n+      warning (_(\"%s: failed to get contents of .idata section.\"),\n+\t       bfd_get_filename (abfd));\n       return false;\n     }\n \n@@ -1046,8 +1047,8 @@ section's range [0x%\" BFD_VMA_FMT \"x, 0x%\" BFD_VMA_FMT \"x[.\"),\n       /* Is there enough space left in the section for another entry?  */\n       if (iter + sizeof (pe_import_directory_entry) > end)\n \t{\n-\t  warning (_(\"Failed to parse .idata section: unexpected end of \"\n-\t\t     \".idata section.\"));\n+\t  warning (_(\"%s: unexpected end of .idata section.\"),\n+\t\t   bfd_get_filename (abfd));\n \t  break;\n \t}\n \n@@ -1065,9 +1066,10 @@ section's range [0x%\" BFD_VMA_FMT \"x, 0x%\" BFD_VMA_FMT \"x[.\"),\n       if (name_va < idata_section_va || name_va >= idata_section_end_va)\n \t{\n \t  warning (_(\"\\\n-Failed to parse .idata section: name's virtual address (0x%\" BFD_VMA_FMT \"x) \\\n-is outside .idata section's range [0x%\" BFD_VMA_FMT \"x, 0x%\" BFD_VMA_FMT \"x[.\"),\n-\t\t   name_va, idata_section_va, idata_section_end_va);\n+%s: name's virtual address (0x%\" BFD_VMA_FMT \"x) is outside .idata section's \\\n+range [0x%\" BFD_VMA_FMT \"x, 0x%\" BFD_VMA_FMT \"x[.\"),\n+\t\t   bfd_get_filename (abfd), name_va, idata_section_va,\n+\t\t   idata_section_end_va);\n \t  break;\n \t}\n "
    }
  ]
}