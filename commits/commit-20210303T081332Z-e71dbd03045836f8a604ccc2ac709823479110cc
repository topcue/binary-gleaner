{
  "sha": "e71dbd03045836f8a604ccc2ac709823479110cc",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ZTcxZGJkMDMwNDU4MzZmOGE2MDRjY2MyYWM3MDk4MjM0NzkxMTBjYw==",
  "commit": {
    "author": {
      "name": "Markus Metzger",
      "email": "markus.t.metzger@intel.com",
      "date": "2020-12-15T11:46:58Z"
    },
    "committer": {
      "name": "Markus Metzger",
      "email": "markus.t.metzger@intel.com",
      "date": "2021-03-03T08:13:32Z"
    },
    "message": "testsuite, gdb.btrace: remove assembly-check in delta.exp\n\nIn gdb.btrace/delta.exp, we test that we do not extend the trace\nunintentionally.  This can be tested by checking the number of\ninstructions.\n\nIf we wanted to check the instruction history, as well, we'd need to work\non an assembly file to have deterministic behaviour.  This isn't really\nnecessary for this test, however, and covered elsewhere.  Also remove the\nfunction call history check for the same reason.",
    "tree": {
      "sha": "267a21d4d3676e249bd14e4f05bf103537f3ea41",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/267a21d4d3676e249bd14e4f05bf103537f3ea41"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/e71dbd03045836f8a604ccc2ac709823479110cc",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/e71dbd03045836f8a604ccc2ac709823479110cc",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/e71dbd03045836f8a604ccc2ac709823479110cc",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/e71dbd03045836f8a604ccc2ac709823479110cc/comments",
  "author": {
    "login": "markus-metzger",
    "id": 5424725,
    "node_id": "MDQ6VXNlcjU0MjQ3MjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5424725?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/markus-metzger",
    "html_url": "https://github.com/markus-metzger",
    "followers_url": "https://api.github.com/users/markus-metzger/followers",
    "following_url": "https://api.github.com/users/markus-metzger/following{/other_user}",
    "gists_url": "https://api.github.com/users/markus-metzger/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/markus-metzger/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/markus-metzger/subscriptions",
    "organizations_url": "https://api.github.com/users/markus-metzger/orgs",
    "repos_url": "https://api.github.com/users/markus-metzger/repos",
    "events_url": "https://api.github.com/users/markus-metzger/events{/privacy}",
    "received_events_url": "https://api.github.com/users/markus-metzger/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "markus-metzger",
    "id": 5424725,
    "node_id": "MDQ6VXNlcjU0MjQ3MjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5424725?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/markus-metzger",
    "html_url": "https://github.com/markus-metzger",
    "followers_url": "https://api.github.com/users/markus-metzger/followers",
    "following_url": "https://api.github.com/users/markus-metzger/following{/other_user}",
    "gists_url": "https://api.github.com/users/markus-metzger/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/markus-metzger/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/markus-metzger/subscriptions",
    "organizations_url": "https://api.github.com/users/markus-metzger/orgs",
    "repos_url": "https://api.github.com/users/markus-metzger/repos",
    "events_url": "https://api.github.com/users/markus-metzger/events{/privacy}",
    "received_events_url": "https://api.github.com/users/markus-metzger/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "b93a3ed0a8561cb8f9541eca975e8c76f728d86c",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/b93a3ed0a8561cb8f9541eca975e8c76f728d86c",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/b93a3ed0a8561cb8f9541eca975e8c76f728d86c"
    }
  ],
  "stats": {
    "total": 14,
    "additions": 6,
    "deletions": 8
  },
  "files": [
    {
      "sha": "1f0941e13e1840d96c044745bcba29422616b327",
      "filename": "gdb/testsuite/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e71dbd03045836f8a604ccc2ac709823479110cc/gdb/testsuite/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e71dbd03045836f8a604ccc2ac709823479110cc/gdb/testsuite/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/ChangeLog?ref=e71dbd03045836f8a604ccc2ac709823479110cc",
      "patch": "@@ -1,3 +1,8 @@\n+2021-03-03  Markus Metzger  <markus.t.metzger@intel.com>\n+\n+\t* gdb.btrace/delta.exp: Remove instruction-history and\n+\tfunction-call-history checks.\n+\n 2021-03-03  Markus Metzger  <markus.t.metzger@intel.com>\n \n \t* README (Note): Add nopie_ldflag."
    },
    {
      "sha": "0d61e9aa54ed339866e0ef015099f3f95c2e5925",
      "filename": "gdb/testsuite/gdb.btrace/delta.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 8,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e71dbd03045836f8a604ccc2ac709823479110cc/gdb/testsuite/gdb.btrace/delta.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e71dbd03045836f8a604ccc2ac709823479110cc/gdb/testsuite/gdb.btrace/delta.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.btrace/delta.exp?ref=e71dbd03045836f8a604ccc2ac709823479110cc",
      "patch": "@@ -58,9 +58,6 @@ proc check_trace {} {\n     \"Recording format: .*\" \\\n     \"Recorded 1 instructions in 1 functions \\\\\\(0 gaps\\\\\\) for .*\" \\\n     ]\n-  gdb_test \"record instruction-history /f 1\" \\\n-    \"1\\t   0x\\[0-9a-f\\]+ <\\\\+\\[0-9\\]+>:\\tmov *\\\\\\$0x0,%eax\\r\"\n-  gdb_test \"record function-call-history /c 1\" \"1\\tmain\"\n }\n \n # make sure we don't extend the trace when we ask twice.\n@@ -86,9 +83,5 @@ with_test_prefix \"reverse\" {\n # and back\n with_test_prefix \"forward\" {\n     gdb_test \"stepi\"\n-    gdb_test \"info record\" [multi_line \\\n-      \"Active record target: record-btrace\" \\\n-      \"Recording format: .*\" \\\n-      \"Recorded 1 instructions in 1 functions \\\\\\(0 gaps\\\\\\) for .*\" \\\n-    ]\n+    check_trace\n }"
    }
  ]
}