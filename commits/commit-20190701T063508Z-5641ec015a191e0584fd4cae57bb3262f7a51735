{
  "sha": "5641ec015a191e0584fd4cae57bb3262f7a51735",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NTY0MWVjMDE1YTE5MWUwNTg0ZmQ0Y2FlNTdiYjMyNjJmN2E1MTczNQ==",
  "commit": {
    "author": {
      "name": "Jan Beulich",
      "email": "jbeulich@suse.com",
      "date": "2019-07-01T06:35:08Z"
    },
    "committer": {
      "name": "Jan Beulich",
      "email": "jbeulich@suse.com",
      "date": "2019-07-01T06:35:08Z"
    },
    "message": "x86: optimize AND/OR with twice the same register\n\nIt seems to be not uncommon for people to use AND or OR in this form for\njust setting the status flags. TEST, which doesn't write to any\nregister other than EFLAGS, ought to be preferred. Make the change only\nfor -O2 and above though, at least for now.",
    "tree": {
      "sha": "4a0364a281bb459f742a431a19448ef0e76d2083",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/4a0364a281bb459f742a431a19448ef0e76d2083"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/5641ec015a191e0584fd4cae57bb3262f7a51735",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/5641ec015a191e0584fd4cae57bb3262f7a51735",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/5641ec015a191e0584fd4cae57bb3262f7a51735",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/5641ec015a191e0584fd4cae57bb3262f7a51735/comments",
  "author": {
    "login": "jbeulich",
    "id": 5610135,
    "node_id": "MDQ6VXNlcjU2MTAxMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5610135?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jbeulich",
    "html_url": "https://github.com/jbeulich",
    "followers_url": "https://api.github.com/users/jbeulich/followers",
    "following_url": "https://api.github.com/users/jbeulich/following{/other_user}",
    "gists_url": "https://api.github.com/users/jbeulich/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jbeulich/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jbeulich/subscriptions",
    "organizations_url": "https://api.github.com/users/jbeulich/orgs",
    "repos_url": "https://api.github.com/users/jbeulich/repos",
    "events_url": "https://api.github.com/users/jbeulich/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jbeulich/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "jbeulich",
    "id": 5610135,
    "node_id": "MDQ6VXNlcjU2MTAxMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5610135?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jbeulich",
    "html_url": "https://github.com/jbeulich",
    "followers_url": "https://api.github.com/users/jbeulich/followers",
    "following_url": "https://api.github.com/users/jbeulich/following{/other_user}",
    "gists_url": "https://api.github.com/users/jbeulich/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jbeulich/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jbeulich/subscriptions",
    "organizations_url": "https://api.github.com/users/jbeulich/orgs",
    "repos_url": "https://api.github.com/users/jbeulich/repos",
    "events_url": "https://api.github.com/users/jbeulich/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jbeulich/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "79dec6b7baa243a4ada018a082491990adb6aec1",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/79dec6b7baa243a4ada018a082491990adb6aec1",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/79dec6b7baa243a4ada018a082491990adb6aec1"
    }
  ],
  "stats": {
    "total": 450,
    "additions": 445,
    "deletions": 5
  },
  "files": [
    {
      "sha": "2206e3ddd154c45e3083c242c8bd02ed42377d2e",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 14,
      "deletions": 0,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5641ec015a191e0584fd4cae57bb3262f7a51735/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5641ec015a191e0584fd4cae57bb3262f7a51735/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=5641ec015a191e0584fd4cae57bb3262f7a51735",
      "patch": "@@ -1,3 +1,17 @@\n+2019-07-01  Jan Beulich  <jbeulich@suse.com>\n+\n+\t* config/tc-i386.c (optimize_encoding): Handle AND / OR with\n+\tboth operands being the same register.\n+\t* doc/c-i386.texi: Update -O2 documentation.\n+\t* testsuite/gas/i386/optimize-2.s,\n+\ttestsuite/gas/i386/x86-64-optimize-3.s: Add cases of AND / OR\n+\twith both operands being the same register.\n+\t* testsuite/gas/i386/optimize-2.d,\n+\ttestsuite/gas/i386/x86-64-optimize-3.d: Adjust expectations.\n+\t* testsuite/gas/i386/optimize-2b.d,\n+\ttestsuite/gas/i386/x86-64-optimize-3b.d: New.\n+\t* testsuite/gas/i386/i386.exp: Run new test.\n+\n 2019-07-01  Jan Beulich  <jbeulich@suse.com>\n \n \t* config/tc-i386.c (commutative): New."
    },
    {
      "sha": "56ccd12376aec938d12c7cd9fcd37a73363968fc",
      "filename": "gas/config/tc-i386.c",
      "status": "modified",
      "additions": 23,
      "deletions": 0,
      "changes": 23,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5641ec015a191e0584fd4cae57bb3262f7a51735/gas/config/tc-i386.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5641ec015a191e0584fd4cae57bb3262f7a51735/gas/config/tc-i386.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/config/tc-i386.c?ref=5641ec015a191e0584fd4cae57bb3262f7a51735",
      "patch": "@@ -4040,6 +4040,29 @@ optimize_encoding (void)\n \t    }\n \t}\n     }\n+  else if (optimize > 1\n+\t   && !optimize_for_space\n+\t   && i.reg_operands == 2\n+\t   && i.op[0].regs == i.op[1].regs\n+\t   && ((i.tm.base_opcode & ~(Opcode_D | 1)) == 0x8\n+\t       || (i.tm.base_opcode & ~(Opcode_D | 1)) == 0x20)\n+\t   && (flag_code != CODE_64BIT || !i.types[0].bitfield.dword))\n+    {\n+      /* Optimize: -O2:\n+\t   andb %rN, %rN  -> testb %rN, %rN\n+\t   andw %rN, %rN  -> testw %rN, %rN\n+\t   andq %rN, %rN  -> testq %rN, %rN\n+\t   orb %rN, %rN   -> testb %rN, %rN\n+\t   orw %rN, %rN   -> testw %rN, %rN\n+\t   orq %rN, %rN   -> testq %rN, %rN\n+\n+\t   and outside of 64-bit mode\n+\n+\t   andl %rN, %rN  -> testl %rN, %rN\n+\t   orl %rN, %rN   -> testl %rN, %rN\n+       */\n+      i.tm.base_opcode = 0x84 | (i.tm.base_opcode & 1);\n+    }\n   else if (i.reg_operands == 3\n \t   && i.op[0].regs == i.op[1].regs\n \t   && !i.types[2].bitfield.xmmword"
    },
    {
      "sha": "e0d0bc9f945f47aa3cb1ee30b061a6012620ed44",
      "filename": "gas/doc/c-i386.texi",
      "status": "modified",
      "additions": 2,
      "deletions": 1,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5641ec015a191e0584fd4cae57bb3262f7a51735/gas/doc/c-i386.texi",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5641ec015a191e0584fd4cae57bb3262f7a51735/gas/doc/c-i386.texi",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/doc/c-i386.texi?ref=5641ec015a191e0584fd4cae57bb3262f7a51735",
      "patch": "@@ -477,7 +477,8 @@ instructions with 128-bit/256-bit VEX packed integer logical.\n EVEX vector register clearing instructions.  In 64-bit mode VEX encoded\n instructions with commutative source operands will also have their\n source operands swapped if this allows using the 2-byte VEX prefix form\n-instead of the 3-byte one.\n+instead of the 3-byte one.  Certain forms of AND as well as OR with the\n+same (register) operand specified twice will also be changed to TEST.\n \n @samp{-Os} includes @samp{-O2} optimization plus encodes 16-bit, 32-bit\n and 64-bit register tests with immediate as 8-bit register test with"
    },
    {
      "sha": "988f3fffb23471ea01963c991e7c12c91b987d30",
      "filename": "gas/testsuite/gas/i386/i386.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5641ec015a191e0584fd4cae57bb3262f7a51735/gas/testsuite/gas/i386/i386.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5641ec015a191e0584fd4cae57bb3262f7a51735/gas/testsuite/gas/i386/i386.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/i386.exp?ref=5641ec015a191e0584fd4cae57bb3262f7a51735",
      "patch": "@@ -488,6 +488,7 @@ if [expr ([istarget \"i*86-*-*\"] ||  [istarget \"x86_64-*-*\"]) && [gas_32_check]]\n     run_dump_test \"optimize-1\"\n     run_dump_test \"optimize-1a\"\n     run_dump_test \"optimize-2\"\n+    run_dump_test \"optimize-2b\"\n     run_dump_test \"optimize-3\"\n     run_dump_test \"optimize-4\"\n     run_dump_test \"optimize-5\"\n@@ -1016,6 +1017,7 @@ if [expr ([istarget \"i*86-*-*\"] || [istarget \"x86_64-*-*\"]) && [gas_64_check]] t\n     run_dump_test \"x86-64-optimize-2a\"\n     run_dump_test \"x86-64-optimize-2b\"\n     run_dump_test \"x86-64-optimize-3\"\n+    run_dump_test \"x86-64-optimize-3b\"\n     run_dump_test \"x86-64-optimize-4\"\n     run_dump_test \"x86-64-optimize-5\"\n     run_dump_test \"x86-64-optimize-6\""
    },
    {
      "sha": "243cf9f545c6be4ab74b6f4732fa12857e31b659",
      "filename": "gas/testsuite/gas/i386/optimize-2.d",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5641ec015a191e0584fd4cae57bb3262f7a51735/gas/testsuite/gas/i386/optimize-2.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5641ec015a191e0584fd4cae57bb3262f7a51735/gas/testsuite/gas/i386/optimize-2.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/optimize-2.d?ref=5641ec015a191e0584fd4cae57bb3262f7a51735",
      "patch": "@@ -16,6 +16,12 @@ Disassembly of section .text:\n  +[a-f0-9]+:\tf6 c3 7f             \ttest   \\$0x7f,%bl\n  +[a-f0-9]+:\tf7 c7 7f 00 00 00    \ttest   \\$0x7f,%edi\n  +[a-f0-9]+:\t66 f7 c7 7f 00       \ttest   \\$0x7f,%di\n+ +[a-f0-9]+:\t20 c9                \tand    %cl,%cl\n+ +[a-f0-9]+:\t66 21 d2             \tand    %dx,%dx\n+ +[a-f0-9]+:\t21 db                \tand    %ebx,%ebx\n+ +[a-f0-9]+:\t08 e4                \tor     %ah,%ah\n+ +[a-f0-9]+:\t66 09 ed             \tor     %bp,%bp\n+ +[a-f0-9]+:\t09 f6                \tor     %esi,%esi\n  +[a-f0-9]+:\tc5 f1 55 e9          \tvandnpd %xmm1,%xmm1,%xmm5\n  +[a-f0-9]+:\tc5 f9 6f d1          \tvmovdqa %xmm1,%xmm2\n  +[a-f0-9]+:\tc5 f9 6f d1          \tvmovdqa %xmm1,%xmm2"
    },
    {
      "sha": "0ad973cd07fe51ae01eda8d6fa9fe7eb9dc7451a",
      "filename": "gas/testsuite/gas/i386/optimize-2.s",
      "status": "modified",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5641ec015a191e0584fd4cae57bb3262f7a51735/gas/testsuite/gas/i386/optimize-2.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5641ec015a191e0584fd4cae57bb3262f7a51735/gas/testsuite/gas/i386/optimize-2.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/optimize-2.s?ref=5641ec015a191e0584fd4cae57bb3262f7a51735",
      "patch": "@@ -12,6 +12,14 @@ _start:\n \ttest\t$0x7f, %edi\n \ttest\t$0x7f, %di\n \n+\tand\t%cl, %cl\n+\tand\t%dx, %dx\n+\tand\t%ebx, %ebx\n+\n+\tor\t%ah, %ah\n+\tor\t%bp, %bp\n+\tor\t%esi, %esi\n+\n \tvandnpd\t%zmm1, %zmm1, %zmm5\n \n \tvmovdqa32\t%xmm1, %xmm2"
    },
    {
      "sha": "c9e4f92b4ad223fc861945759ded86a992095bbc",
      "filename": "gas/testsuite/gas/i386/optimize-2b.d",
      "status": "added",
      "additions": 163,
      "deletions": 0,
      "changes": 163,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5641ec015a191e0584fd4cae57bb3262f7a51735/gas/testsuite/gas/i386/optimize-2b.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5641ec015a191e0584fd4cae57bb3262f7a51735/gas/testsuite/gas/i386/optimize-2b.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/optimize-2b.d?ref=5641ec015a191e0584fd4cae57bb3262f7a51735",
      "patch": "@@ -0,0 +1,163 @@\n+#source: optimize-2.s\n+#as: -O2\n+#objdump: -drw\n+#name: optimized encoding 2 with -O2\n+\n+.*: +file format .*\n+\n+\n+Disassembly of section .text:\n+\n+0+ <_start>:\n+ +[a-f0-9]+:\ta9 7f 00 00 00       \ttest   \\$0x7f,%eax\n+ +[a-f0-9]+:\t66 a9 7f 00          \ttest   \\$0x7f,%ax\n+ +[a-f0-9]+:\ta8 7f                \ttest   \\$0x7f,%al\n+ +[a-f0-9]+:\tf7 c3 7f 00 00 00    \ttest   \\$0x7f,%ebx\n+ +[a-f0-9]+:\t66 f7 c3 7f 00       \ttest   \\$0x7f,%bx\n+ +[a-f0-9]+:\tf6 c3 7f             \ttest   \\$0x7f,%bl\n+ +[a-f0-9]+:\tf7 c7 7f 00 00 00    \ttest   \\$0x7f,%edi\n+ +[a-f0-9]+:\t66 f7 c7 7f 00       \ttest   \\$0x7f,%di\n+ +[a-f0-9]+:\t84 c9                \ttest   %cl,%cl\n+ +[a-f0-9]+:\t66 85 d2             \ttest   %dx,%dx\n+ +[a-f0-9]+:\t85 db                \ttest   %ebx,%ebx\n+ +[a-f0-9]+:\t84 e4                \ttest   %ah,%ah\n+ +[a-f0-9]+:\t66 85 ed             \ttest   %bp,%bp\n+ +[a-f0-9]+:\t85 f6                \ttest   %esi,%esi\n+ +[a-f0-9]+:\tc5 f1 55 e9          \tvandnpd %xmm1,%xmm1,%xmm5\n+ +[a-f0-9]+:\tc5 f9 6f d1          \tvmovdqa %xmm1,%xmm2\n+ +[a-f0-9]+:\tc5 f9 6f d1          \tvmovdqa %xmm1,%xmm2\n+ +[a-f0-9]+:\tc5 fa 6f d1          \tvmovdqu %xmm1,%xmm2\n+ +[a-f0-9]+:\tc5 fa 6f d1          \tvmovdqu %xmm1,%xmm2\n+ +[a-f0-9]+:\tc5 fa 6f d1          \tvmovdqu %xmm1,%xmm2\n+ +[a-f0-9]+:\tc5 fa 6f d1          \tvmovdqu %xmm1,%xmm2\n+ +[a-f0-9]+:\tc5 f9 6f 50 7f       \tvmovdqa 0x7f\\(%eax\\),%xmm2\n+ +[a-f0-9]+:\tc5 f9 6f 50 7f       \tvmovdqa 0x7f\\(%eax\\),%xmm2\n+ +[a-f0-9]+:\tc5 fa 6f 50 7f       \tvmovdqu 0x7f\\(%eax\\),%xmm2\n+ +[a-f0-9]+:\tc5 fa 6f 50 7f       \tvmovdqu 0x7f\\(%eax\\),%xmm2\n+ +[a-f0-9]+:\tc5 fa 6f 50 7f       \tvmovdqu 0x7f\\(%eax\\),%xmm2\n+ +[a-f0-9]+:\tc5 fa 6f 50 7f       \tvmovdqu 0x7f\\(%eax\\),%xmm2\n+ +[a-f0-9]+:\t62 f1 7d 08 7f 48 08 \tvmovdqa32 %xmm1,0x80\\(%eax\\)\n+ +[a-f0-9]+:\t62 f1 fd 08 7f 48 08 \tvmovdqa64 %xmm1,0x80\\(%eax\\)\n+ +[a-f0-9]+:\t62 f1 7f 08 7f 48 08 \tvmovdqu8 %xmm1,0x80\\(%eax\\)\n+ +[a-f0-9]+:\t62 f1 ff 08 7f 48 08 \tvmovdqu16 %xmm1,0x80\\(%eax\\)\n+ +[a-f0-9]+:\t62 f1 7e 08 7f 48 08 \tvmovdqu32 %xmm1,0x80\\(%eax\\)\n+ +[a-f0-9]+:\t62 f1 fe 08 7f 48 08 \tvmovdqu64 %xmm1,0x80\\(%eax\\)\n+ +[a-f0-9]+:\tc5 fd 6f d1          \tvmovdqa %ymm1,%ymm2\n+ +[a-f0-9]+:\tc5 fd 6f d1          \tvmovdqa %ymm1,%ymm2\n+ +[a-f0-9]+:\tc5 fe 6f d1          \tvmovdqu %ymm1,%ymm2\n+ +[a-f0-9]+:\tc5 fe 6f d1          \tvmovdqu %ymm1,%ymm2\n+ +[a-f0-9]+:\tc5 fe 6f d1          \tvmovdqu %ymm1,%ymm2\n+ +[a-f0-9]+:\tc5 fe 6f d1          \tvmovdqu %ymm1,%ymm2\n+ +[a-f0-9]+:\tc5 fd 6f 50 7f       \tvmovdqa 0x7f\\(%eax\\),%ymm2\n+ +[a-f0-9]+:\tc5 fd 6f 50 7f       \tvmovdqa 0x7f\\(%eax\\),%ymm2\n+ +[a-f0-9]+:\tc5 fe 6f 50 7f       \tvmovdqu 0x7f\\(%eax\\),%ymm2\n+ +[a-f0-9]+:\tc5 fe 6f 50 7f       \tvmovdqu 0x7f\\(%eax\\),%ymm2\n+ +[a-f0-9]+:\tc5 fe 6f 50 7f       \tvmovdqu 0x7f\\(%eax\\),%ymm2\n+ +[a-f0-9]+:\tc5 fe 6f 50 7f       \tvmovdqu 0x7f\\(%eax\\),%ymm2\n+ +[a-f0-9]+:\t62 f1 7d 28 7f 48 04 \tvmovdqa32 %ymm1,0x80\\(%eax\\)\n+ +[a-f0-9]+:\t62 f1 fd 28 7f 48 04 \tvmovdqa64 %ymm1,0x80\\(%eax\\)\n+ +[a-f0-9]+:\t62 f1 7f 28 7f 48 04 \tvmovdqu8 %ymm1,0x80\\(%eax\\)\n+ +[a-f0-9]+:\t62 f1 ff 28 7f 48 04 \tvmovdqu16 %ymm1,0x80\\(%eax\\)\n+ +[a-f0-9]+:\t62 f1 7e 28 7f 48 04 \tvmovdqu32 %ymm1,0x80\\(%eax\\)\n+ +[a-f0-9]+:\t62 f1 fe 28 7f 48 04 \tvmovdqu64 %ymm1,0x80\\(%eax\\)\n+ +[a-f0-9]+:\t62 f1 7d 48 6f d1    \tvmovdqa32 %zmm1,%zmm2\n+ +[a-f0-9]+:\t62 f1 fd 48 6f d1    \tvmovdqa64 %zmm1,%zmm2\n+ +[a-f0-9]+:\t62 f1 7f 48 6f d1    \tvmovdqu8 %zmm1,%zmm2\n+ +[a-f0-9]+:\t62 f1 ff 48 6f d1    \tvmovdqu16 %zmm1,%zmm2\n+ +[a-f0-9]+:\t62 f1 7e 48 6f d1    \tvmovdqu32 %zmm1,%zmm2\n+ +[a-f0-9]+:\t62 f1 fe 48 6f d1    \tvmovdqu64 %zmm1,%zmm2\n+ +[a-f0-9]+:\t62 f1 7d 28 6f d1    \tvmovdqa32 %ymm1,%ymm2\n+ +[a-f0-9]+:\t62 f1 fd 28 6f d1    \tvmovdqa64 %ymm1,%ymm2\n+ +[a-f0-9]+:\t62 f1 7f 08 6f d1    \tvmovdqu8 %xmm1,%xmm2\n+ +[a-f0-9]+:\t62 f1 ff 08 6f d1    \tvmovdqu16 %xmm1,%xmm2\n+ +[a-f0-9]+:\t62 f1 7e 08 6f d1    \tvmovdqu32 %xmm1,%xmm2\n+ +[a-f0-9]+:\t62 f1 fe 08 6f d1    \tvmovdqu64 %xmm1,%xmm2\n+ +[a-f0-9]+:\t62 f1 7d 29 6f d1    \tvmovdqa32 %ymm1,%ymm2\\{%k1\\}\n+ +[a-f0-9]+:\t62 f1 fd 29 6f d1    \tvmovdqa64 %ymm1,%ymm2\\{%k1\\}\n+ +[a-f0-9]+:\t62 f1 7f 09 6f d1    \tvmovdqu8 %xmm1,%xmm2\\{%k1\\}\n+ +[a-f0-9]+:\t62 f1 ff 09 6f d1    \tvmovdqu16 %xmm1,%xmm2\\{%k1\\}\n+ +[a-f0-9]+:\t62 f1 7e 09 6f d1    \tvmovdqu32 %xmm1,%xmm2\\{%k1\\}\n+ +[a-f0-9]+:\t62 f1 fe 09 6f d1    \tvmovdqu64 %xmm1,%xmm2\\{%k1\\}\n+ +[a-f0-9]+:\t62 f1 7d 29 6f 10    \tvmovdqa32 \\(%eax\\),%ymm2\\{%k1\\}\n+ +[a-f0-9]+:\t62 f1 fd 29 6f 10    \tvmovdqa64 \\(%eax\\),%ymm2\\{%k1\\}\n+ +[a-f0-9]+:\t62 f1 7f 09 6f 10    \tvmovdqu8 \\(%eax\\),%xmm2\\{%k1\\}\n+ +[a-f0-9]+:\t62 f1 ff 09 6f 10    \tvmovdqu16 \\(%eax\\),%xmm2\\{%k1\\}\n+ +[a-f0-9]+:\t62 f1 7e 09 6f 10    \tvmovdqu32 \\(%eax\\),%xmm2\\{%k1\\}\n+ +[a-f0-9]+:\t62 f1 fe 09 6f 10    \tvmovdqu64 \\(%eax\\),%xmm2\\{%k1\\}\n+ +[a-f0-9]+:\t62 f1 7d 29 7f 08    \tvmovdqa32 %ymm1,\\(%eax\\)\\{%k1\\}\n+ +[a-f0-9]+:\t62 f1 fd 29 7f 08    \tvmovdqa64 %ymm1,\\(%eax\\)\\{%k1\\}\n+ +[a-f0-9]+:\t62 f1 7f 09 7f 08    \tvmovdqu8 %xmm1,\\(%eax\\)\\{%k1\\}\n+ +[a-f0-9]+:\t62 f1 ff 09 7f 08    \tvmovdqu16 %xmm1,\\(%eax\\)\\{%k1\\}\n+ +[a-f0-9]+:\t62 f1 7e 09 7f 08    \tvmovdqu32 %xmm1,\\(%eax\\)\\{%k1\\}\n+ +[a-f0-9]+:\t62 f1 fe 09 7f 08    \tvmovdqu64 %xmm1,\\(%eax\\)\\{%k1\\}\n+ +[a-f0-9]+:\t62 f1 7d 89 6f d1    \tvmovdqa32 %xmm1,%xmm2\\{%k1\\}\\{z\\}\n+ +[a-f0-9]+:\t62 f1 fd 89 6f d1    \tvmovdqa64 %xmm1,%xmm2\\{%k1\\}\\{z\\}\n+ +[a-f0-9]+:\t62 f1 7f 89 6f d1    \tvmovdqu8 %xmm1,%xmm2\\{%k1\\}\\{z\\}\n+ +[a-f0-9]+:\t62 f1 ff 89 6f d1    \tvmovdqu16 %xmm1,%xmm2\\{%k1\\}\\{z\\}\n+ +[a-f0-9]+:\t62 f1 7e 89 6f d1    \tvmovdqu32 %xmm1,%xmm2\\{%k1\\}\\{z\\}\n+ +[a-f0-9]+:\t62 f1 fe 89 6f d1    \tvmovdqu64 %xmm1,%xmm2\\{%k1\\}\\{z\\}\n+ +[a-f0-9]+:\tc5 .*\tvpand  %xmm2,%xmm3,%xmm4\n+ +[a-f0-9]+:\tc5 .*\tvpand  %xmm2,%xmm3,%xmm4\n+ +[a-f0-9]+:\tc5 .*\tvpandn %xmm2,%xmm3,%xmm4\n+ +[a-f0-9]+:\tc5 .*\tvpandn %xmm2,%xmm3,%xmm4\n+ +[a-f0-9]+:\tc5 .*\tvpor   %xmm2,%xmm3,%xmm4\n+ +[a-f0-9]+:\tc5 .*\tvpor   %xmm2,%xmm3,%xmm4\n+ +[a-f0-9]+:\tc5 .*\tvpxor  %xmm2,%xmm3,%xmm4\n+ +[a-f0-9]+:\tc5 .*\tvpxor  %xmm2,%xmm3,%xmm4\n+ +[a-f0-9]+:\tc5 .*\tvpand  %ymm2,%ymm3,%ymm4\n+ +[a-f0-9]+:\tc5 .*\tvpand  %ymm2,%ymm3,%ymm4\n+ +[a-f0-9]+:\tc5 .*\tvpandn %ymm2,%ymm3,%ymm4\n+ +[a-f0-9]+:\tc5 .*\tvpandn %ymm2,%ymm3,%ymm4\n+ +[a-f0-9]+:\tc5 .*\tvpor   %ymm2,%ymm3,%ymm4\n+ +[a-f0-9]+:\tc5 .*\tvpor   %ymm2,%ymm3,%ymm4\n+ +[a-f0-9]+:\tc5 .*\tvpxor  %ymm2,%ymm3,%ymm4\n+ +[a-f0-9]+:\tc5 .*\tvpxor  %ymm2,%ymm3,%ymm4\n+ +[a-f0-9]+:\tc5 .*\tvpand  0x70\\(%eax\\),%xmm2,%xmm3\n+ +[a-f0-9]+:\tc5 .*\tvpand  0x70\\(%eax\\),%xmm2,%xmm3\n+ +[a-f0-9]+:\tc5 .*\tvpandn 0x70\\(%eax\\),%xmm2,%xmm3\n+ +[a-f0-9]+:\tc5 .*\tvpandn 0x70\\(%eax\\),%xmm2,%xmm3\n+ +[a-f0-9]+:\tc5 .*\tvpor   0x70\\(%eax\\),%xmm2,%xmm3\n+ +[a-f0-9]+:\tc5 .*\tvpor   0x70\\(%eax\\),%xmm2,%xmm3\n+ +[a-f0-9]+:\tc5 .*\tvpxor  0x70\\(%eax\\),%xmm2,%xmm3\n+ +[a-f0-9]+:\tc5 .*\tvpxor  0x70\\(%eax\\),%xmm2,%xmm3\n+ +[a-f0-9]+:\t62 .*\tvpandd 0x80\\(%eax\\),%xmm2,%xmm3\n+ +[a-f0-9]+:\t62 .*\tvpandq 0x80\\(%eax\\),%xmm2,%xmm3\n+ +[a-f0-9]+:\t62 .*\tvpandnd 0x80\\(%eax\\),%xmm2,%xmm3\n+ +[a-f0-9]+:\t62 .*\tvpandnq 0x80\\(%eax\\),%xmm2,%xmm3\n+ +[a-f0-9]+:\t62 .*\tvpord  0x80\\(%eax\\),%xmm2,%xmm3\n+ +[a-f0-9]+:\t62 .*\tvporq  0x80\\(%eax\\),%xmm2,%xmm3\n+ +[a-f0-9]+:\t62 .*\tvpxord 0x80\\(%eax\\),%xmm2,%xmm3\n+ +[a-f0-9]+:\t62 .*\tvpxorq 0x80\\(%eax\\),%xmm2,%xmm3\n+ +[a-f0-9]+:\tc5 .*\tvpand  0x60\\(%eax\\),%ymm2,%ymm3\n+ +[a-f0-9]+:\tc5 .*\tvpand  0x60\\(%eax\\),%ymm2,%ymm3\n+ +[a-f0-9]+:\tc5 .*\tvpandn 0x60\\(%eax\\),%ymm2,%ymm3\n+ +[a-f0-9]+:\tc5 .*\tvpandn 0x60\\(%eax\\),%ymm2,%ymm3\n+ +[a-f0-9]+:\tc5 .*\tvpor   0x60\\(%eax\\),%ymm2,%ymm3\n+ +[a-f0-9]+:\tc5 .*\tvpor   0x60\\(%eax\\),%ymm2,%ymm3\n+ +[a-f0-9]+:\tc5 .*\tvpxor  0x60\\(%eax\\),%ymm2,%ymm3\n+ +[a-f0-9]+:\tc5 .*\tvpxor  0x60\\(%eax\\),%ymm2,%ymm3\n+ +[a-f0-9]+:\t62 .*\tvpandd 0x80\\(%eax\\),%ymm2,%ymm3\n+ +[a-f0-9]+:\t62 .*\tvpandq 0x80\\(%eax\\),%ymm2,%ymm3\n+ +[a-f0-9]+:\t62 .*\tvpandnd 0x80\\(%eax\\),%ymm2,%ymm3\n+ +[a-f0-9]+:\t62 .*\tvpandnq 0x80\\(%eax\\),%ymm2,%ymm3\n+ +[a-f0-9]+:\t62 .*\tvpord  0x80\\(%eax\\),%ymm2,%ymm3\n+ +[a-f0-9]+:\t62 .*\tvporq  0x80\\(%eax\\),%ymm2,%ymm3\n+ +[a-f0-9]+:\t62 .*\tvpxord 0x80\\(%eax\\),%ymm2,%ymm3\n+ +[a-f0-9]+:\t62 .*\tvpxorq 0x80\\(%eax\\),%ymm2,%ymm3\n+ +[a-f0-9]+:\t62 .*\tvpandd %xmm2,%xmm3,%xmm4\\{%k5\\}\n+ +[a-f0-9]+:\t62 .*\tvpandq %ymm2,%ymm3,%ymm4\\{%k5\\}\n+ +[a-f0-9]+:\t62 .*\tvpandnd %ymm2,%ymm3,%ymm4\\{%k5\\}\n+ +[a-f0-9]+:\t62 .*\tvpandnq %xmm2,%xmm3,%xmm4\\{%k5\\}\n+ +[a-f0-9]+:\t62 .*\tvpord  %xmm2,%xmm3,%xmm4\\{%k5\\}\n+ +[a-f0-9]+:\t62 .*\tvporq  %ymm2,%ymm3,%ymm4\\{%k5\\}\n+ +[a-f0-9]+:\t62 .*\tvpxord %ymm2,%ymm3,%ymm4\\{%k5\\}\n+ +[a-f0-9]+:\t62 .*\tvpxorq %xmm2,%xmm3,%xmm4\\{%k5\\}\n+ +[a-f0-9]+:\t62 .*\tvpandd \\(%eax\\)\\{1to8\\},%ymm2,%ymm3\n+ +[a-f0-9]+:\t62 .*\tvpandq \\(%eax\\)\\{1to2\\},%xmm2,%xmm3\n+ +[a-f0-9]+:\t62 .*\tvpandnd \\(%eax\\)\\{1to4\\},%xmm2,%xmm3\n+ +[a-f0-9]+:\t62 .*\tvpandnq \\(%eax\\)\\{1to4\\},%ymm2,%ymm3\n+ +[a-f0-9]+:\t62 .*\tvpord  \\(%eax\\)\\{1to8\\},%ymm2,%ymm3\n+ +[a-f0-9]+:\t62 .*\tvporq  \\(%eax\\)\\{1to2\\},%xmm2,%xmm3\n+ +[a-f0-9]+:\t62 .*\tvpxord \\(%eax\\)\\{1to4\\},%xmm2,%xmm3\n+ +[a-f0-9]+:\t62 .*\tvpxorq \\(%eax\\)\\{1to4\\},%ymm2,%ymm3\n+#pass"
    },
    {
      "sha": "66ed213b58a55524999bd86d7baa412ed4a23640",
      "filename": "gas/testsuite/gas/i386/x86-64-optimize-3.d",
      "status": "modified",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5641ec015a191e0584fd4cae57bb3262f7a51735/gas/testsuite/gas/i386/x86-64-optimize-3.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5641ec015a191e0584fd4cae57bb3262f7a51735/gas/testsuite/gas/i386/x86-64-optimize-3.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/x86-64-optimize-3.d?ref=5641ec015a191e0584fd4cae57bb3262f7a51735",
      "patch": "@@ -24,6 +24,14 @@ Disassembly of section .text:\n  +[a-f0-9]+:\t41 f6 c1 7f          \ttest   \\$0x7f,%r9b\n  +[a-f0-9]+:\t41 f6 c1 7f          \ttest   \\$0x7f,%r9b\n  +[a-f0-9]+:\t41 f6 c1 7f          \ttest   \\$0x7f,%r9b\n+ +[a-f0-9]+:\t20 c9                \tand    %cl,%cl\n+ +[a-f0-9]+:\t66 21 d2             \tand    %dx,%dx\n+ +[a-f0-9]+:\t21 db                \tand    %ebx,%ebx\n+ +[a-f0-9]+:\t48 21 e4             \tand    %rsp,%rsp\n+ +[a-f0-9]+:\t40 08 ed             \tor     %bpl,%bpl\n+ +[a-f0-9]+:\t66 09 f6             \tor     %si,%si\n+ +[a-f0-9]+:\t09 ff                \tor     %edi,%edi\n+ +[a-f0-9]+:\t4d 09 c0             \tor     %r8,%r8\n  +[a-f0-9]+:\tc5 f1 55 e9          \tvandnpd %xmm1,%xmm1,%xmm5\n  +[a-f0-9]+:\tc5 f9 6f d1          \tvmovdqa %xmm1,%xmm2\n  +[a-f0-9]+:\tc5 f9 6f d1          \tvmovdqa %xmm1,%xmm2"
    },
    {
      "sha": "45b418a6fd1a38cde3c2a771a7b6831db60174d9",
      "filename": "gas/testsuite/gas/i386/x86-64-optimize-3.s",
      "status": "modified",
      "additions": 10,
      "deletions": 0,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5641ec015a191e0584fd4cae57bb3262f7a51735/gas/testsuite/gas/i386/x86-64-optimize-3.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5641ec015a191e0584fd4cae57bb3262f7a51735/gas/testsuite/gas/i386/x86-64-optimize-3.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/x86-64-optimize-3.s?ref=5641ec015a191e0584fd4cae57bb3262f7a51735",
      "patch": "@@ -20,6 +20,16 @@ _start:\n \ttest\t$0x7f, %r9w\n \ttest\t$0x7f, %r9b\n \n+\tand\t%cl, %cl\n+\tand\t%dx, %dx\n+\tand\t%ebx, %ebx\n+\tand\t%rsp, %rsp\n+\n+\tor\t%bpl, %bpl\n+\tor\t%si, %si\n+\tor\t%edi, %edi\n+\tor\t%r8, %r8\n+\n \tvandnpd\t%zmm1, %zmm1, %zmm5\n \n \tvmovdqa32\t%xmm1, %xmm2"
    },
    {
      "sha": "19ea29ac066206b79eba0b818ae5309244ebc2cb",
      "filename": "gas/testsuite/gas/i386/x86-64-optimize-3b.d",
      "status": "added",
      "additions": 199,
      "deletions": 0,
      "changes": 199,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5641ec015a191e0584fd4cae57bb3262f7a51735/gas/testsuite/gas/i386/x86-64-optimize-3b.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5641ec015a191e0584fd4cae57bb3262f7a51735/gas/testsuite/gas/i386/x86-64-optimize-3b.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/x86-64-optimize-3b.d?ref=5641ec015a191e0584fd4cae57bb3262f7a51735",
      "patch": "@@ -0,0 +1,199 @@\n+#source: x86-64-optimize-3.s\n+#as: -O2\n+#objdump: -drw\n+#name: x86-64 optimized encoding 3 with -O2\n+\n+.*: +file format .*\n+\n+\n+Disassembly of section .text:\n+\n+0+ <_start>:\n+ +[a-f0-9]+:\ta9 7f 00 00 00       \ttest   \\$0x7f,%eax\n+ +[a-f0-9]+:\ta9 7f 00 00 00       \ttest   \\$0x7f,%eax\n+ +[a-f0-9]+:\t66 a9 7f 00          \ttest   \\$0x7f,%ax\n+ +[a-f0-9]+:\ta8 7f                \ttest   \\$0x7f,%al\n+ +[a-f0-9]+:\tf7 c3 7f 00 00 00    \ttest   \\$0x7f,%ebx\n+ +[a-f0-9]+:\tf7 c3 7f 00 00 00    \ttest   \\$0x7f,%ebx\n+ +[a-f0-9]+:\t66 f7 c3 7f 00       \ttest   \\$0x7f,%bx\n+ +[a-f0-9]+:\tf6 c3 7f             \ttest   \\$0x7f,%bl\n+ +[a-f0-9]+:\tf7 c7 7f 00 00 00    \ttest   \\$0x7f,%edi\n+ +[a-f0-9]+:\tf7 c7 7f 00 00 00    \ttest   \\$0x7f,%edi\n+ +[a-f0-9]+:\t66 f7 c7 7f 00       \ttest   \\$0x7f,%di\n+ +[a-f0-9]+:\t40 f6 c7 7f          \ttest   \\$0x7f,%dil\n+ +[a-f0-9]+:\t41 f7 c1 7f 00 00 00 \ttest   \\$0x7f,%r9d\n+ +[a-f0-9]+:\t41 f7 c1 7f 00 00 00 \ttest   \\$0x7f,%r9d\n+ +[a-f0-9]+:\t66 41 f7 c1 7f 00    \ttest   \\$0x7f,%r9w\n+ +[a-f0-9]+:\t41 f6 c1 7f          \ttest   \\$0x7f,%r9b\n+ +[a-f0-9]+:\t84 c9                \ttest   %cl,%cl\n+ +[a-f0-9]+:\t66 85 d2             \ttest   %dx,%dx\n+ +[a-f0-9]+:\t21 db                \tand    %ebx,%ebx\n+ +[a-f0-9]+:\t48 85 e4             \ttest   %rsp,%rsp\n+ +[a-f0-9]+:\t40 84 ed             \ttest   %bpl,%bpl\n+ +[a-f0-9]+:\t66 85 f6             \ttest   %si,%si\n+ +[a-f0-9]+:\t09 ff                \tor     %edi,%edi\n+ +[a-f0-9]+:\t4d 85 c0             \ttest   %r8,%r8\n+ +[a-f0-9]+:\tc5 f1 55 e9          \tvandnpd %xmm1,%xmm1,%xmm5\n+ +[a-f0-9]+:\tc5 f9 6f d1          \tvmovdqa %xmm1,%xmm2\n+ +[a-f0-9]+:\tc5 f9 6f d1          \tvmovdqa %xmm1,%xmm2\n+ +[a-f0-9]+:\tc5 fa 6f d1          \tvmovdqu %xmm1,%xmm2\n+ +[a-f0-9]+:\tc5 fa 6f d1          \tvmovdqu %xmm1,%xmm2\n+ +[a-f0-9]+:\tc5 fa 6f d1          \tvmovdqu %xmm1,%xmm2\n+ +[a-f0-9]+:\tc5 fa 6f d1          \tvmovdqu %xmm1,%xmm2\n+ +[a-f0-9]+:\tc4 41 79 6f e3       \tvmovdqa %xmm11,%xmm12\n+ +[a-f0-9]+:\tc4 41 79 6f e3       \tvmovdqa %xmm11,%xmm12\n+ +[a-f0-9]+:\tc4 41 7a 6f e3       \tvmovdqu %xmm11,%xmm12\n+ +[a-f0-9]+:\tc4 41 7a 6f e3       \tvmovdqu %xmm11,%xmm12\n+ +[a-f0-9]+:\tc4 41 7a 6f e3       \tvmovdqu %xmm11,%xmm12\n+ +[a-f0-9]+:\tc4 41 7a 6f e3       \tvmovdqu %xmm11,%xmm12\n+ +[a-f0-9]+:\tc5 f9 6f 50 7f       \tvmovdqa 0x7f\\(%rax\\),%xmm2\n+ +[a-f0-9]+:\tc5 f9 6f 50 7f       \tvmovdqa 0x7f\\(%rax\\),%xmm2\n+ +[a-f0-9]+:\tc5 fa 6f 50 7f       \tvmovdqu 0x7f\\(%rax\\),%xmm2\n+ +[a-f0-9]+:\tc5 fa 6f 50 7f       \tvmovdqu 0x7f\\(%rax\\),%xmm2\n+ +[a-f0-9]+:\tc5 fa 6f 50 7f       \tvmovdqu 0x7f\\(%rax\\),%xmm2\n+ +[a-f0-9]+:\tc5 fa 6f 50 7f       \tvmovdqu 0x7f\\(%rax\\),%xmm2\n+ +[a-f0-9]+:\t62 f1 7d 08 7f 48 08 \tvmovdqa32 %xmm1,0x80\\(%rax\\)\n+ +[a-f0-9]+:\t62 f1 fd 08 7f 48 08 \tvmovdqa64 %xmm1,0x80\\(%rax\\)\n+ +[a-f0-9]+:\t62 f1 7f 08 7f 48 08 \tvmovdqu8 %xmm1,0x80\\(%rax\\)\n+ +[a-f0-9]+:\t62 f1 ff 08 7f 48 08 \tvmovdqu16 %xmm1,0x80\\(%rax\\)\n+ +[a-f0-9]+:\t62 f1 7e 08 7f 48 08 \tvmovdqu32 %xmm1,0x80\\(%rax\\)\n+ +[a-f0-9]+:\t62 f1 fe 08 7f 48 08 \tvmovdqu64 %xmm1,0x80\\(%rax\\)\n+ +[a-f0-9]+:\tc5 fd 6f d1          \tvmovdqa %ymm1,%ymm2\n+ +[a-f0-9]+:\tc5 fd 6f d1          \tvmovdqa %ymm1,%ymm2\n+ +[a-f0-9]+:\tc5 fe 6f d1          \tvmovdqu %ymm1,%ymm2\n+ +[a-f0-9]+:\tc5 fe 6f d1          \tvmovdqu %ymm1,%ymm2\n+ +[a-f0-9]+:\tc5 fe 6f d1          \tvmovdqu %ymm1,%ymm2\n+ +[a-f0-9]+:\tc5 fe 6f d1          \tvmovdqu %ymm1,%ymm2\n+ +[a-f0-9]+:\tc4 41 7d 6f e3       \tvmovdqa %ymm11,%ymm12\n+ +[a-f0-9]+:\tc4 41 7d 6f e3       \tvmovdqa %ymm11,%ymm12\n+ +[a-f0-9]+:\tc4 41 7e 6f e3       \tvmovdqu %ymm11,%ymm12\n+ +[a-f0-9]+:\tc4 41 7e 6f e3       \tvmovdqu %ymm11,%ymm12\n+ +[a-f0-9]+:\tc4 41 7e 6f e3       \tvmovdqu %ymm11,%ymm12\n+ +[a-f0-9]+:\tc4 41 7e 6f e3       \tvmovdqu %ymm11,%ymm12\n+ +[a-f0-9]+:\tc5 fd 6f 50 7f       \tvmovdqa 0x7f\\(%rax\\),%ymm2\n+ +[a-f0-9]+:\tc5 fd 6f 50 7f       \tvmovdqa 0x7f\\(%rax\\),%ymm2\n+ +[a-f0-9]+:\tc5 fe 6f 50 7f       \tvmovdqu 0x7f\\(%rax\\),%ymm2\n+ +[a-f0-9]+:\tc5 fe 6f 50 7f       \tvmovdqu 0x7f\\(%rax\\),%ymm2\n+ +[a-f0-9]+:\tc5 fe 6f 50 7f       \tvmovdqu 0x7f\\(%rax\\),%ymm2\n+ +[a-f0-9]+:\tc5 fe 6f 50 7f       \tvmovdqu 0x7f\\(%rax\\),%ymm2\n+ +[a-f0-9]+:\t62 f1 7d 28 7f 48 04 \tvmovdqa32 %ymm1,0x80\\(%rax\\)\n+ +[a-f0-9]+:\t62 f1 fd 28 7f 48 04 \tvmovdqa64 %ymm1,0x80\\(%rax\\)\n+ +[a-f0-9]+:\t62 f1 7f 28 7f 48 04 \tvmovdqu8 %ymm1,0x80\\(%rax\\)\n+ +[a-f0-9]+:\t62 f1 ff 28 7f 48 04 \tvmovdqu16 %ymm1,0x80\\(%rax\\)\n+ +[a-f0-9]+:\t62 f1 7e 28 7f 48 04 \tvmovdqu32 %ymm1,0x80\\(%rax\\)\n+ +[a-f0-9]+:\t62 f1 fe 28 7f 48 04 \tvmovdqu64 %ymm1,0x80\\(%rax\\)\n+ +[a-f0-9]+:\t62 b1 7d 08 6f d5    \tvmovdqa32 %xmm21,%xmm2\n+ +[a-f0-9]+:\t62 b1 fd 08 6f d5    \tvmovdqa64 %xmm21,%xmm2\n+ +[a-f0-9]+:\t62 b1 7f 08 6f d5    \tvmovdqu8 %xmm21,%xmm2\n+ +[a-f0-9]+:\t62 b1 ff 08 6f d5    \tvmovdqu16 %xmm21,%xmm2\n+ +[a-f0-9]+:\t62 b1 7e 08 6f d5    \tvmovdqu32 %xmm21,%xmm2\n+ +[a-f0-9]+:\t62 b1 fe 08 6f d5    \tvmovdqu64 %xmm21,%xmm2\n+ +[a-f0-9]+:\t62 f1 7d 48 6f d1    \tvmovdqa32 %zmm1,%zmm2\n+ +[a-f0-9]+:\t62 f1 fd 48 6f d1    \tvmovdqa64 %zmm1,%zmm2\n+ +[a-f0-9]+:\t62 f1 7f 48 6f d1    \tvmovdqu8 %zmm1,%zmm2\n+ +[a-f0-9]+:\t62 f1 ff 48 6f d1    \tvmovdqu16 %zmm1,%zmm2\n+ +[a-f0-9]+:\t62 f1 7e 48 6f d1    \tvmovdqu32 %zmm1,%zmm2\n+ +[a-f0-9]+:\t62 f1 fe 48 6f d1    \tvmovdqu64 %zmm1,%zmm2\n+ +[a-f0-9]+:\t62 f1 7d 28 6f d1    \tvmovdqa32 %ymm1,%ymm2\n+ +[a-f0-9]+:\t62 f1 fd 28 6f d1    \tvmovdqa64 %ymm1,%ymm2\n+ +[a-f0-9]+:\t62 f1 7f 08 6f d1    \tvmovdqu8 %xmm1,%xmm2\n+ +[a-f0-9]+:\t62 f1 ff 08 6f d1    \tvmovdqu16 %xmm1,%xmm2\n+ +[a-f0-9]+:\t62 f1 7e 08 6f d1    \tvmovdqu32 %xmm1,%xmm2\n+ +[a-f0-9]+:\t62 f1 fe 08 6f d1    \tvmovdqu64 %xmm1,%xmm2\n+ +[a-f0-9]+:\t62 f1 7d 29 6f d1    \tvmovdqa32 %ymm1,%ymm2\\{%k1\\}\n+ +[a-f0-9]+:\t62 f1 fd 29 6f d1    \tvmovdqa64 %ymm1,%ymm2\\{%k1\\}\n+ +[a-f0-9]+:\t62 f1 7f 09 6f d1    \tvmovdqu8 %xmm1,%xmm2\\{%k1\\}\n+ +[a-f0-9]+:\t62 f1 ff 09 6f d1    \tvmovdqu16 %xmm1,%xmm2\\{%k1\\}\n+ +[a-f0-9]+:\t62 f1 7e 09 6f d1    \tvmovdqu32 %xmm1,%xmm2\\{%k1\\}\n+ +[a-f0-9]+:\t62 f1 fe 09 6f d1    \tvmovdqu64 %xmm1,%xmm2\\{%k1\\}\n+ +[a-f0-9]+:\t62 f1 7d 29 6f 10    \tvmovdqa32 \\(%rax\\),%ymm2\\{%k1\\}\n+ +[a-f0-9]+:\t62 f1 fd 29 6f 10    \tvmovdqa64 \\(%rax\\),%ymm2\\{%k1\\}\n+ +[a-f0-9]+:\t62 f1 7f 09 6f 10    \tvmovdqu8 \\(%rax\\),%xmm2\\{%k1\\}\n+ +[a-f0-9]+:\t62 f1 ff 09 6f 10    \tvmovdqu16 \\(%rax\\),%xmm2\\{%k1\\}\n+ +[a-f0-9]+:\t62 f1 7e 09 6f 10    \tvmovdqu32 \\(%rax\\),%xmm2\\{%k1\\}\n+ +[a-f0-9]+:\t62 f1 fe 09 6f 10    \tvmovdqu64 \\(%rax\\),%xmm2\\{%k1\\}\n+ +[a-f0-9]+:\t62 f1 7d 29 7f 08    \tvmovdqa32 %ymm1,\\(%rax\\)\\{%k1\\}\n+ +[a-f0-9]+:\t62 f1 fd 29 7f 08    \tvmovdqa64 %ymm1,\\(%rax\\)\\{%k1\\}\n+ +[a-f0-9]+:\t62 f1 7f 09 7f 08    \tvmovdqu8 %xmm1,\\(%rax\\)\\{%k1\\}\n+ +[a-f0-9]+:\t62 f1 ff 09 7f 08    \tvmovdqu16 %xmm1,\\(%rax\\)\\{%k1\\}\n+ +[a-f0-9]+:\t62 f1 7e 09 7f 08    \tvmovdqu32 %xmm1,\\(%rax\\)\\{%k1\\}\n+ +[a-f0-9]+:\t62 f1 fe 09 7f 08    \tvmovdqu64 %xmm1,\\(%rax\\)\\{%k1\\}\n+ +[a-f0-9]+:\t62 f1 7d 89 6f d1    \tvmovdqa32 %xmm1,%xmm2\\{%k1\\}\\{z\\}\n+ +[a-f0-9]+:\t62 f1 fd 89 6f d1    \tvmovdqa64 %xmm1,%xmm2\\{%k1\\}\\{z\\}\n+ +[a-f0-9]+:\t62 f1 7f 89 6f d1    \tvmovdqu8 %xmm1,%xmm2\\{%k1\\}\\{z\\}\n+ +[a-f0-9]+:\t62 f1 ff 89 6f d1    \tvmovdqu16 %xmm1,%xmm2\\{%k1\\}\\{z\\}\n+ +[a-f0-9]+:\t62 f1 7e 89 6f d1    \tvmovdqu32 %xmm1,%xmm2\\{%k1\\}\\{z\\}\n+ +[a-f0-9]+:\t62 f1 fe 89 6f d1    \tvmovdqu64 %xmm1,%xmm2\\{%k1\\}\\{z\\}\n+ +[a-f0-9]+:\tc5 .*\tvpand  %xmm2,%xmm3,%xmm4\n+ +[a-f0-9]+:\tc5 .*\tvpand  %xmm3,%xmm12,%xmm4\n+ +[a-f0-9]+:\tc5 .*\tvpandn %xmm2,%xmm13,%xmm4\n+ +[a-f0-9]+:\tc5 .*\tvpandn %xmm2,%xmm3,%xmm14\n+ +[a-f0-9]+:\tc5 .*\tvpor   %xmm2,%xmm3,%xmm4\n+ +[a-f0-9]+:\tc5 .*\tvpor   %xmm3,%xmm12,%xmm4\n+ +[a-f0-9]+:\tc5 .*\tvpxor  %xmm2,%xmm13,%xmm4\n+ +[a-f0-9]+:\tc5 .*\tvpxor  %xmm2,%xmm3,%xmm14\n+ +[a-f0-9]+:\tc5 .*\tvpand  %ymm2,%ymm3,%ymm4\n+ +[a-f0-9]+:\tc5 .*\tvpand  %ymm3,%ymm12,%ymm4\n+ +[a-f0-9]+:\tc5 .*\tvpandn %ymm2,%ymm13,%ymm4\n+ +[a-f0-9]+:\tc5 .*\tvpandn %ymm2,%ymm3,%ymm14\n+ +[a-f0-9]+:\tc5 .*\tvpor   %ymm2,%ymm3,%ymm4\n+ +[a-f0-9]+:\tc5 .*\tvpor   %ymm3,%ymm12,%ymm4\n+ +[a-f0-9]+:\tc5 .*\tvpxor  %ymm2,%ymm13,%ymm4\n+ +[a-f0-9]+:\tc5 .*\tvpxor  %ymm2,%ymm3,%ymm14\n+ +[a-f0-9]+:\tc5 .*\tvpand  0x70\\(%rax\\),%xmm2,%xmm3\n+ +[a-f0-9]+:\tc5 .*\tvpand  0x70\\(%rax\\),%xmm2,%xmm3\n+ +[a-f0-9]+:\tc5 .*\tvpandn 0x70\\(%rax\\),%xmm2,%xmm3\n+ +[a-f0-9]+:\tc5 .*\tvpandn 0x70\\(%rax\\),%xmm2,%xmm3\n+ +[a-f0-9]+:\tc5 .*\tvpor   0x70\\(%rax\\),%xmm2,%xmm3\n+ +[a-f0-9]+:\tc5 .*\tvpor   0x70\\(%rax\\),%xmm2,%xmm3\n+ +[a-f0-9]+:\tc5 .*\tvpxor  0x70\\(%rax\\),%xmm2,%xmm3\n+ +[a-f0-9]+:\tc5 .*\tvpxor  0x70\\(%rax\\),%xmm2,%xmm3\n+ +[a-f0-9]+:\t62 .*\tvpandd 0x80\\(%rax\\),%xmm2,%xmm3\n+ +[a-f0-9]+:\t62 .*\tvpandq 0x80\\(%rax\\),%xmm2,%xmm3\n+ +[a-f0-9]+:\t62 .*\tvpandnd 0x80\\(%rax\\),%xmm2,%xmm3\n+ +[a-f0-9]+:\t62 .*\tvpandnq 0x80\\(%rax\\),%xmm2,%xmm3\n+ +[a-f0-9]+:\t62 .*\tvpord  0x80\\(%rax\\),%xmm2,%xmm3\n+ +[a-f0-9]+:\t62 .*\tvporq  0x80\\(%rax\\),%xmm2,%xmm3\n+ +[a-f0-9]+:\t62 .*\tvpxord 0x80\\(%rax\\),%xmm2,%xmm3\n+ +[a-f0-9]+:\t62 .*\tvpxorq 0x80\\(%rax\\),%xmm2,%xmm3\n+ +[a-f0-9]+:\tc5 .*\tvpand  0x60\\(%rax\\),%ymm2,%ymm3\n+ +[a-f0-9]+:\tc5 .*\tvpand  0x60\\(%rax\\),%ymm2,%ymm3\n+ +[a-f0-9]+:\tc5 .*\tvpandn 0x60\\(%rax\\),%ymm2,%ymm3\n+ +[a-f0-9]+:\tc5 .*\tvpandn 0x60\\(%rax\\),%ymm2,%ymm3\n+ +[a-f0-9]+:\tc5 .*\tvpor   0x60\\(%rax\\),%ymm2,%ymm3\n+ +[a-f0-9]+:\tc5 .*\tvpor   0x60\\(%rax\\),%ymm2,%ymm3\n+ +[a-f0-9]+:\tc5 .*\tvpxor  0x60\\(%rax\\),%ymm2,%ymm3\n+ +[a-f0-9]+:\tc5 .*\tvpxor  0x60\\(%rax\\),%ymm2,%ymm3\n+ +[a-f0-9]+:\t62 .*\tvpandd 0x80\\(%rax\\),%ymm2,%ymm3\n+ +[a-f0-9]+:\t62 .*\tvpandq 0x80\\(%rax\\),%ymm2,%ymm3\n+ +[a-f0-9]+:\t62 .*\tvpandnd 0x80\\(%rax\\),%ymm2,%ymm3\n+ +[a-f0-9]+:\t62 .*\tvpandnq 0x80\\(%rax\\),%ymm2,%ymm3\n+ +[a-f0-9]+:\t62 .*\tvpord  0x80\\(%rax\\),%ymm2,%ymm3\n+ +[a-f0-9]+:\t62 .*\tvporq  0x80\\(%rax\\),%ymm2,%ymm3\n+ +[a-f0-9]+:\t62 .*\tvpxord 0x80\\(%rax\\),%ymm2,%ymm3\n+ +[a-f0-9]+:\t62 .*\tvpxorq 0x80\\(%rax\\),%ymm2,%ymm3\n+ +[a-f0-9]+:\t62 .*\tvpandd %xmm22,%xmm23,%xmm24\n+ +[a-f0-9]+:\t62 .*\tvpandq %ymm22,%ymm3,%ymm4\n+ +[a-f0-9]+:\t62 .*\tvpandnd %ymm2,%ymm23,%ymm4\n+ +[a-f0-9]+:\t62 .*\tvpandnq %xmm2,%xmm3,%xmm24\n+ +[a-f0-9]+:\t62 .*\tvpord  %xmm22,%xmm23,%xmm24\n+ +[a-f0-9]+:\t62 .*\tvporq  %ymm22,%ymm3,%ymm4\n+ +[a-f0-9]+:\t62 .*\tvpxord %ymm2,%ymm23,%ymm4\n+ +[a-f0-9]+:\t62 .*\tvpxorq %xmm2,%xmm3,%xmm24\n+ +[a-f0-9]+:\t62 .*\tvpandd %xmm2,%xmm3,%xmm4\\{%k5\\}\n+ +[a-f0-9]+:\t62 .*\tvpandq %ymm12,%ymm3,%ymm4\\{%k5\\}\n+ +[a-f0-9]+:\t62 .*\tvpandnd %ymm2,%ymm13,%ymm4\\{%k5\\}\n+ +[a-f0-9]+:\t62 .*\tvpandnq %xmm2,%xmm3,%xmm14\\{%k5\\}\n+ +[a-f0-9]+:\t62 .*\tvpord  %xmm2,%xmm3,%xmm4\\{%k5\\}\n+ +[a-f0-9]+:\t62 .*\tvporq  %ymm12,%ymm3,%ymm4\\{%k5\\}\n+ +[a-f0-9]+:\t62 .*\tvpxord %ymm2,%ymm13,%ymm4\\{%k5\\}\n+ +[a-f0-9]+:\t62 .*\tvpxorq %xmm2,%xmm3,%xmm14\\{%k5\\}\n+ +[a-f0-9]+:\t62 .*\tvpandd \\(%rax\\)\\{1to8\\},%ymm2,%ymm3\n+ +[a-f0-9]+:\t62 .*\tvpandq \\(%rax\\)\\{1to2\\},%xmm2,%xmm3\n+ +[a-f0-9]+:\t62 .*\tvpandnd \\(%rax\\)\\{1to4\\},%xmm2,%xmm3\n+ +[a-f0-9]+:\t62 .*\tvpandnq \\(%rax\\)\\{1to4\\},%ymm2,%ymm3\n+ +[a-f0-9]+:\t62 .*\tvpord  \\(%rax\\)\\{1to8\\},%ymm2,%ymm3\n+ +[a-f0-9]+:\t62 .*\tvporq  \\(%rax\\)\\{1to2\\},%xmm2,%xmm3\n+ +[a-f0-9]+:\t62 .*\tvpxord \\(%rax\\)\\{1to4\\},%xmm2,%xmm3\n+ +[a-f0-9]+:\t62 .*\tvpxorq \\(%rax\\)\\{1to4\\},%ymm2,%ymm3\n+#pass"
    },
    {
      "sha": "0b2bdf3b17ebf5c32d463a82bb65d744bdd8ae3c",
      "filename": "opcodes/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5641ec015a191e0584fd4cae57bb3262f7a51735/opcodes/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5641ec015a191e0584fd4cae57bb3262f7a51735/opcodes/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/ChangeLog?ref=5641ec015a191e0584fd4cae57bb3262f7a51735",
      "patch": "@@ -1,3 +1,9 @@\n+2019-07-01  Jan Beulich  <jbeulich@suse.com>\n+\n+\t* i386-opc.tbl (and, or): Add Optimize to forms allowing two\n+\tregister operands.\n+\t* i386-tbl.h: Re-generate.\n+\n 2019-07-01  Jan Beulich  <jbeulich@suse.com>\n \n \t* i386-opc.tbl (C): New."
    },
    {
      "sha": "59b9a25d027f8c52ea4c1bc4d567ad287372dacf",
      "filename": "opcodes/i386-opc.tbl",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5641ec015a191e0584fd4cae57bb3262f7a51735/opcodes/i386-opc.tbl",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5641ec015a191e0584fd4cae57bb3262f7a51735/opcodes/i386-opc.tbl",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/i386-opc.tbl?ref=5641ec015a191e0584fd4cae57bb3262f7a51735",
      "patch": "@@ -213,12 +213,12 @@ test, 2, 0x84, None, 1, 0, W|Modrm|No_sSuf|No_ldSuf, { Byte|Word|Dword|Qword|Uns\n test, 2, 0xa8, None, 1, 0, W|No_sSuf|No_ldSuf|Optimize, { Imm8|Imm16|Imm32|Imm32S, Acc|Byte|Word|Dword|Qword }\n test, 2, 0xf6, 0x0, 1, 0, W|Modrm|No_sSuf|No_ldSuf|Optimize, { Imm8|Imm16|Imm32|Imm32S, Reg8|Reg16|Reg32|Reg64|Byte|Word|Dword|Qword|Unspecified|BaseIndex }\n \n-and, 2, 0x20, None, 1, 0, D|W|CheckRegSize|Modrm|No_sSuf|No_ldSuf|IsLockable|HLEPrefixOk, { Reg8|Reg16|Reg32|Reg64, Reg8|Reg16|Reg32|Reg64|Byte|Word|Dword|Qword|Unspecified|BaseIndex }\n+and, 2, 0x20, None, 1, 0, D|W|CheckRegSize|Modrm|No_sSuf|No_ldSuf|IsLockable|HLEPrefixOk|Optimize, { Reg8|Reg16|Reg32|Reg64, Reg8|Reg16|Reg32|Reg64|Byte|Word|Dword|Qword|Unspecified|BaseIndex }\n and, 2, 0x83, 0x4, 1, 0, Modrm|No_bSuf|No_sSuf|No_ldSuf|IsLockable|HLEPrefixOk|Optimize, { Imm8S, Reg16|Reg32|Reg64|Word|Dword|Qword|Unspecified|BaseIndex }\n and, 2, 0x24, None, 1, 0, W|No_sSuf|No_ldSuf|Optimize, { Imm8|Imm16|Imm32|Imm32S, Acc|Byte|Word|Dword|Qword }\n and, 2, 0x80, 0x4, 1, 0, W|Modrm|No_sSuf|No_ldSuf|IsLockable|HLEPrefixOk|Optimize, { Imm8|Imm16|Imm32|Imm32S, Reg8|Reg16|Reg32|Reg64|Byte|Word|Dword|Qword|Unspecified|BaseIndex }\n \n-or, 2, 0x8, None, 1, 0, D|W|CheckRegSize|Modrm|No_sSuf|No_ldSuf|IsLockable|HLEPrefixOk, { Reg8|Reg16|Reg32|Reg64, Reg8|Reg16|Reg32|Reg64|Byte|Word|Dword|Qword|Unspecified|BaseIndex }\n+or, 2, 0x8, None, 1, 0, D|W|CheckRegSize|Modrm|No_sSuf|No_ldSuf|IsLockable|HLEPrefixOk|Optimize, { Reg8|Reg16|Reg32|Reg64, Reg8|Reg16|Reg32|Reg64|Byte|Word|Dword|Qword|Unspecified|BaseIndex }\n or, 2, 0x83, 0x1, 1, 0, Modrm|No_bSuf|No_sSuf|No_ldSuf|IsLockable|HLEPrefixOk, { Imm8S, Reg16|Reg32|Reg64|Word|Dword|Qword|Unspecified|BaseIndex }\n or, 2, 0xc, None, 1, 0, W|No_sSuf|No_ldSuf, { Imm8|Imm16|Imm32|Imm32S, Acc|Byte|Word|Dword|Qword }\n or, 2, 0x80, 0x1, 1, 0, W|Modrm|No_sSuf|No_ldSuf|IsLockable|HLEPrefixOk, { Imm8|Imm16|Imm32|Imm32S, Reg8|Reg16|Reg32|Reg64|Byte|Word|Dword|Qword|Unspecified|BaseIndex }"
    },
    {
      "sha": "4bb7598123b04396d95206744a88ba5f809ce696",
      "filename": "opcodes/i386-tbl.h",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5641ec015a191e0584fd4cae57bb3262f7a51735/opcodes/i386-tbl.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5641ec015a191e0584fd4cae57bb3262f7a51735/opcodes/i386-tbl.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/i386-tbl.h?ref=5641ec015a191e0584fd4cae57bb3262f7a51735",
      "patch": "@@ -1713,7 +1713,7 @@ const insn_template i386_optab[] =\n         0, 0, 0, 0, 0, 0, 0, 0, 0 } },\n     { 1, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0,\n       1, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },\n+      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0 },\n     { { { 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n \t  0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0,\n \t  0, 0 } },\n@@ -1777,7 +1777,7 @@ const insn_template i386_optab[] =\n         0, 0, 0, 0, 0, 0, 0, 0, 0 } },\n     { 1, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0,\n       1, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },\n+      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0 },\n     { { { 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n \t  0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0,\n \t  0, 0 } },"
    }
  ]
}