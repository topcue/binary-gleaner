{
  "sha": "cccc84faff88135ea118250d1b19cfb7aac7e8c1",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6Y2NjYzg0ZmFmZjg4MTM1ZWExMTgyNTBkMWIxOWNmYjdhYWM3ZThjMQ==",
  "commit": {
    "author": {
      "name": "Maciej W. Rozycki",
      "email": "macro@orcam.me.uk",
      "date": "2021-05-29T01:26:32Z"
    },
    "committer": {
      "name": "Maciej W. Rozycki",
      "email": "macro@orcam.me.uk",
      "date": "2021-05-29T01:26:32Z"
    },
    "message": "MIPS/opcodes: Free up redundant `g' operand code\n\nIn the operand handling rewrite made for the MIPS disassembler with\ncommit ab90248154ba (\"Add structures to describe MIPS operands\"),\n<https://sourceware.org/ml/binutils/2013-07/msg00135.html>, the `g'\noperand code has become redundant for the regular MIPS instruction set\nby duplicating the OP_REG_COPRO semantics of the `G' operand code.\n\nLater commit 351cdf24d223 (\"Implement O32 FPXX, FP64 and FP64A ABI\nextensions\") converted the CTTC1 instruction from the `g' to the `G'\noperand code, but still left a few instructions behind.\n\nConvert the three remaining instructions still using the `g' code then,\nnamely: CTTC2, MTTC2 and MTTHC2, and remove all traces of the operand\ncode, freeing it up for other use.\n\n\topcodes/\n\t* mips-opc.c (mips_builtin_opcodes): Switch \"cttc2\", \"mttc2\",\n\tand \"mtthc2\" to using the `G' rather than `g' operand code for\n\tthe coprocessor control register referred.\n\n\tinclude/\n\t* opcode/mips.h: Complement change made to opcodes and remove\n\treferences to the `g' regular MIPS ISA operand code.",
    "tree": {
      "sha": "1f4022bf2b69b21b17daa41f06df559fd7200a91",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/1f4022bf2b69b21b17daa41f06df559fd7200a91"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/cccc84faff88135ea118250d1b19cfb7aac7e8c1",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/cccc84faff88135ea118250d1b19cfb7aac7e8c1",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/cccc84faff88135ea118250d1b19cfb7aac7e8c1",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/cccc84faff88135ea118250d1b19cfb7aac7e8c1/comments",
  "author": null,
  "committer": null,
  "parents": [
    {
      "sha": "c9de3168a9568c6fb8038b9b83a912a9a391152b",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/c9de3168a9568c6fb8038b9b83a912a9a391152b",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/c9de3168a9568c6fb8038b9b83a912a9a391152b"
    }
  ],
  "stats": {
    "total": 21,
    "additions": 15,
    "deletions": 6
  },
  "files": [
    {
      "sha": "b97775ec2141d7a4be6d1c58214d0ed707d4f395",
      "filename": "include/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/cccc84faff88135ea118250d1b19cfb7aac7e8c1/include/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/cccc84faff88135ea118250d1b19cfb7aac7e8c1/include/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/include/ChangeLog?ref=cccc84faff88135ea118250d1b19cfb7aac7e8c1",
      "patch": "@@ -1,3 +1,8 @@\n+2021-05-29  Maciej W. Rozycki  <macro@orcam.me.uk>\n+\n+\t* opcode/mips.h: Complement change made to opcodes and remove\n+\treferences to the `g' regular MIPS ISA operand code.\n+\n 2021-05-28  H.J. Lu  <hongjiu.lu@intel.com>\n \n \tPR ld/27905"
    },
    {
      "sha": "9fa9fcbafde697911ceedef762a6dfd3d0a85e63",
      "filename": "include/opcode/mips.h",
      "status": "modified",
      "additions": 1,
      "deletions": 2,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/cccc84faff88135ea118250d1b19cfb7aac7e8c1/include/opcode/mips.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/cccc84faff88135ea118250d1b19cfb7aac7e8c1/include/opcode/mips.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/include/opcode/mips.h?ref=cccc84faff88135ea118250d1b19cfb7aac7e8c1",
      "patch": "@@ -899,7 +899,6 @@ mips_opcode_32bit_p (const struct mips_opcode *mo)\n    \"$\" 1 bit load high flag (OP_*_MT_H)\n    \"*\" 2 bit dsp/smartmips accumulator register (OP_*_MTACC_T)\n    \"&\" 2 bit dsp/smartmips accumulator register (OP_*_MTACC_D)\n-   \"g\" 5 bit coprocessor 1 and 2 destination register (OP_*_RD)\n    \"+t\" 5 bit coprocessor 0 destination register (OP_*_RT)\n \n    MCU ASE usage:\n@@ -1001,7 +1000,7 @@ mips_opcode_32bit_p (const struct mips_opcode *mo)\n    \"1234567890\"\n    \"%[]<>(),+-:'@!#$*&\\~\"\n    \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\"\n-   \"abcdefghijklopqrstuvwxz\"\n+   \"abcdef hijkl  opqrstuvwx z\"\n \n    Extension character sequences used so far (\"+\" followed by the\n    following), for quick reference when adding more:"
    },
    {
      "sha": "f81b2f7cad383584b2d44d1a53a532c361f9a558",
      "filename": "opcodes/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/cccc84faff88135ea118250d1b19cfb7aac7e8c1/opcodes/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/cccc84faff88135ea118250d1b19cfb7aac7e8c1/opcodes/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/ChangeLog?ref=cccc84faff88135ea118250d1b19cfb7aac7e8c1",
      "patch": "@@ -1,3 +1,9 @@\n+2021-05-29  Maciej W. Rozycki  <macro@orcam.me.uk>\n+\n+\t* mips-opc.c (mips_builtin_opcodes): Switch \"cttc2\", \"mttc2\",\n+\tand \"mtthc2\" to using the `G' rather than `g' operand code for\n+\tthe coprocessor control register referred.\n+\n 2021-05-29  Maciej W. Rozycki  <macro@orcam.me.uk>\n \n \t* micromips-opc.c (micromips_opcodes): Swap the two \"dmtc1\""
    },
    {
      "sha": "373c362ca8356ef168aee82d30fcee2873b7f14c",
      "filename": "opcodes/mips-opc.c",
      "status": "modified",
      "additions": 3,
      "deletions": 4,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/cccc84faff88135ea118250d1b19cfb7aac7e8c1/opcodes/mips-opc.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/cccc84faff88135ea118250d1b19cfb7aac7e8c1/opcodes/mips-opc.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/mips-opc.c?ref=cccc84faff88135ea118250d1b19cfb7aac7e8c1",
      "patch": "@@ -195,7 +195,6 @@ decode_mips_operand (const char *p)\n     case 'c': HINT (10, 16);\n     case 'd': REG (5, 11, GP);\n     case 'e': UINT (3, 22)\n-    case 'g': REG (5, 11, COPRO);\n     case 'h': HINT (5, 11);\n     case 'i': HINT (16, 0);\n     case 'j': SINT (16, 0);\n@@ -997,7 +996,7 @@ const struct mips_opcode mips_builtin_opcodes[] =\n /* ctc3 is at the bottom of the table.  */\n {\"cttc1\",\t\t\"t,G\",\t\t0x41800023, 0xffe007ff, RD_1|WR_CC|TRAP|CM,\t0,\t\t0,\t\tMT32,\t0 },\n {\"cttc1\",\t\t\"t,S\",\t\t0x41800023, 0xffe007ff, RD_1|WR_CC|TRAP|CM,\t0,\t\t0,\t\tMT32,\t0 },\n-{\"cttc2\",\t\t\"t,g\",\t\t0x41800025, 0xffe007ff,\tRD_1|WR_CC|TRAP|CM,\t0,\t\t0,\t\tMT32,\tIOCT|IOCTP|IOCT2 },\n+{\"cttc2\",\t\t\"t,G\",\t\t0x41800025, 0xffe007ff,\tRD_1|WR_CC|TRAP|CM,\t0,\t\t0,\t\tMT32,\tIOCT|IOCTP|IOCT2 },\n {\"cvt.d.l\",\t\t\"D,S\",\t\t0x46a00021, 0xffff003f,\tWR_1|RD_2|FP_D,\t\t0,\t\tI3_33,\t\t0,\t0 },\n {\"cvt.d.s\",\t\t\"D,S\",\t\t0x46000021, 0xffff003f,\tWR_1|RD_2|FP_S|FP_D,\t0,\t\tI1,\t\t0,\tSF },\n {\"cvt.d.w\",\t\t\"D,S\",\t\t0x46800021, 0xffff003f,\tWR_1|RD_2|FP_S|FP_D,\t0,\t\tI1,\t\t0,\tSF },\n@@ -1556,14 +1555,14 @@ const struct mips_opcode mips_builtin_opcodes[] =\n {\"mttc0\",\t\t\"t,G,H\",\t0x41800000, 0xffe007f8, RD_1|WR_C0|WR_CC|TRAP|CM, 0,\t\t0,\t\tMT32,\t0 },\n {\"mttc1\",\t\t\"t,S\",\t\t0x41800022, 0xffe007ff, RD_1|WR_2|TRAP|CM|FP_S, 0,\t\t0,\t\tMT32,\t0 },\n {\"mttc1\",\t\t\"t,G\",\t\t0x41800022, 0xffe007ff, RD_1|WR_2|TRAP|CM|FP_S, 0,\t\t0,\t\tMT32,\t0 },\n-{\"mttc2\",\t\t\"t,g\",\t\t0x41800024, 0xffe007ff,\tRD_1|WR_C2|WR_CC|TRAP|CM, 0,\t\t0,\t\tMT32,\tIOCT|IOCTP|IOCT2 },\n+{\"mttc2\",\t\t\"t,G\",\t\t0x41800024, 0xffe007ff,\tRD_1|WR_C2|WR_CC|TRAP|CM, 0,\t\t0,\t\tMT32,\tIOCT|IOCTP|IOCT2 },\n {\"mttacx\",\t\t\"t\",\t\t0x41801021, 0xffe0ffff, RD_1|WR_a|TRAP,\t\t0,\t\t0,\t\tMT32,\t0 },\n {\"mttacx\",\t\t\"t,&\",\t\t0x41801021, 0xffe09fff, RD_1|WR_a|TRAP,\t\t0,\t\t0,\t\tMT32,\t0 },\n {\"mttdsp\",\t\t\"t\",\t\t0x41808021, 0xffe0ffff, RD_1|TRAP,\t\t0,\t\t0,\t\tMT32,\t0 },\n {\"mttgpr\",\t\t\"t,d\",\t\t0x41800020, 0xffe007ff, RD_1|WR_2|TRAP,\t\t0,\t\t0,\t\tMT32,\t0 },\n {\"mtthc1\",\t\t\"t,S\",\t\t0x41800032, 0xffe007ff, RD_1|WR_2|TRAP|CM|FP_D, 0,\t\t0,\t\tMT32,\t0 },\n {\"mtthc1\",\t\t\"t,G\",\t\t0x41800032, 0xffe007ff, RD_1|WR_2|TRAP|CM|FP_D, 0,\t\t0,\t\tMT32,\t0 },\n-{\"mtthc2\",\t\t\"t,g\",\t\t0x41800034, 0xffe007ff,\tRD_1|WR_C2|WR_CC|TRAP|CM, 0,\t\t0,\t\tMT32,\tIOCT|IOCTP|IOCT2 },\n+{\"mtthc2\",\t\t\"t,G\",\t\t0x41800034, 0xffe007ff,\tRD_1|WR_C2|WR_CC|TRAP|CM, 0,\t\t0,\t\tMT32,\tIOCT|IOCTP|IOCT2 },\n {\"mtthi\",\t\t\"t\",\t\t0x41800821, 0xffe0ffff, RD_1|WR_a|TRAP,\t\t0,\t\t0,\t\tMT32,\t0 },\n {\"mtthi\",\t\t\"t,&\",\t\t0x41800821, 0xffe09fff, RD_1|WR_a|TRAP,\t\t0,\t\t0,\t\tMT32,\t0 },\n {\"mttlo\",\t\t\"t\",\t\t0x41800021, 0xffe0ffff, RD_1|WR_a|TRAP,\t\t0,\t\t0,\t\tMT32,\t0 },"
    }
  ]
}