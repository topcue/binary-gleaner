{
  "sha": "8941884429c305ad42a41f759a98c8cca4d4aacc",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ODk0MTg4NDQyOWMzMDVhZDQyYTQxZjc1OWE5OGM4Y2NhNGQ0YWFjYw==",
  "commit": {
    "author": {
      "name": "Richard Sandiford",
      "email": "richard.sandiford@arm.com",
      "date": "2019-07-02T09:51:05Z"
    },
    "committer": {
      "name": "Richard Sandiford",
      "email": "richard.sandiford@arm.com",
      "date": "2019-07-02T09:51:05Z"
    },
    "message": "[AArch64] Fix bogus MOVPRFX warning for GPR form of CPY\n\nOne of the MOVPRFX tests has:\n\n  output register of preceding `movprfx' used as input at operand 3 -- `cpy z1.d,p1/m,x1'\n\nBut X1 and Z1 are not the same register, so the instruction is\nactually OK.\n\n2019-07-02  Richard Sandiford  <richard.sandiford@arm.com>\n\nopcodes/\n\t* aarch64-opc.c (verify_constraints): Skip GPRs when scanning the\n\tregisters in an instruction prefixed by MOVPRFX.\n\ngas/\n\t* testsuite/gas/aarch64/sve-movprfx_25.s: Allow CPY Z1.D.P1/M,X1\n\tto be prefixed by MOVPRFX.\n\t* testsuite/gas/aarch64/sve-movprfx_25.d: Update accordingly.\n\t* testsuite/gas/aarch64/sve-movprfx_25.l: Likewise.",
    "tree": {
      "sha": "c198a6e2bbe1d26851bc4716b68840793ef5359c",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/c198a6e2bbe1d26851bc4716b68840793ef5359c"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/8941884429c305ad42a41f759a98c8cca4d4aacc",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/8941884429c305ad42a41f759a98c8cca4d4aacc",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/8941884429c305ad42a41f759a98c8cca4d4aacc",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/8941884429c305ad42a41f759a98c8cca4d4aacc/comments",
  "author": {
    "login": "rsandifo-arm",
    "id": 28043039,
    "node_id": "MDQ6VXNlcjI4MDQzMDM5",
    "avatar_url": "https://avatars.githubusercontent.com/u/28043039?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rsandifo-arm",
    "html_url": "https://github.com/rsandifo-arm",
    "followers_url": "https://api.github.com/users/rsandifo-arm/followers",
    "following_url": "https://api.github.com/users/rsandifo-arm/following{/other_user}",
    "gists_url": "https://api.github.com/users/rsandifo-arm/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rsandifo-arm/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rsandifo-arm/subscriptions",
    "organizations_url": "https://api.github.com/users/rsandifo-arm/orgs",
    "repos_url": "https://api.github.com/users/rsandifo-arm/repos",
    "events_url": "https://api.github.com/users/rsandifo-arm/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rsandifo-arm/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "rsandifo-arm",
    "id": 28043039,
    "node_id": "MDQ6VXNlcjI4MDQzMDM5",
    "avatar_url": "https://avatars.githubusercontent.com/u/28043039?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rsandifo-arm",
    "html_url": "https://github.com/rsandifo-arm",
    "followers_url": "https://api.github.com/users/rsandifo-arm/followers",
    "following_url": "https://api.github.com/users/rsandifo-arm/following{/other_user}",
    "gists_url": "https://api.github.com/users/rsandifo-arm/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rsandifo-arm/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rsandifo-arm/subscriptions",
    "organizations_url": "https://api.github.com/users/rsandifo-arm/orgs",
    "repos_url": "https://api.github.com/users/rsandifo-arm/repos",
    "events_url": "https://api.github.com/users/rsandifo-arm/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rsandifo-arm/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "390b205f456be85e309570f1b6e9b75f27194de7",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/390b205f456be85e309570f1b6e9b75f27194de7",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/390b205f456be85e309570f1b6e9b75f27194de7"
    }
  ],
  "stats": {
    "total": 22,
    "additions": 14,
    "deletions": 8
  },
  "files": [
    {
      "sha": "05537e2e223a25163ed2d13a4d4774303059d984",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8941884429c305ad42a41f759a98c8cca4d4aacc/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8941884429c305ad42a41f759a98c8cca4d4aacc/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=8941884429c305ad42a41f759a98c8cca4d4aacc",
      "patch": "@@ -1,3 +1,10 @@\n+2019-07-02  Richard Sandiford  <richard.sandiford@arm.com>\n+\n+\t* testsuite/gas/aarch64/sve-movprfx_25.s: Allow CPY Z1.D.P1/M,X1\n+\tto be prefixed by MOVPRFX.\n+\t* testsuite/gas/aarch64/sve-movprfx_25.d: Update accordingly.\n+\t* testsuite/gas/aarch64/sve-movprfx_25.l: Likewise.\n+\n 2019-07-01  Nick Clifton  <nickc@redhat.com>\n \n \tPR 24748"
    },
    {
      "sha": "2b4f654823ba4c1d198c3c137e652b551cbdc416",
      "filename": "gas/testsuite/gas/aarch64/sve-movprfx_25.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8941884429c305ad42a41f759a98c8cca4d4aacc/gas/testsuite/gas/aarch64/sve-movprfx_25.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8941884429c305ad42a41f759a98c8cca4d4aacc/gas/testsuite/gas/aarch64/sve-movprfx_25.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/aarch64/sve-movprfx_25.d?ref=8941884429c305ad42a41f759a98c8cca4d4aacc",
      "patch": "@@ -21,7 +21,7 @@ Disassembly of section .*:\n [^:]+:\t04d12461 \tmovprfx\tz1.d, p1/m, z3.d\n [^:]+:\t05e8a441 \tmov\tz1.d, p1/m, x2\n [^:]+:\t04d12461 \tmovprfx\tz1.d, p1/m, z3.d\n-[^:]+:\t05e8a421 \tmov\tz1.d, p1/m, x1  // note: output register of preceding `movprfx' used as input at operand 3\n+[^:]+:\t05e8a421 \tmov\tz1.d, p1/m, x1\n [^:]+:\t04d12461 \tmovprfx\tz1.d, p1/m, z3.d\n [^:]+:\t05e08441 \tmov\tz1.d, p1/m, d2\n [^:]+:\t04d12461 \tmovprfx\tz1.d, p1/m, z3.d"
    },
    {
      "sha": "259ad555475be41724360786fa744c767c5a0569",
      "filename": "gas/testsuite/gas/aarch64/sve-movprfx_25.l",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8941884429c305ad42a41f759a98c8cca4d4aacc/gas/testsuite/gas/aarch64/sve-movprfx_25.l",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8941884429c305ad42a41f759a98c8cca4d4aacc/gas/testsuite/gas/aarch64/sve-movprfx_25.l",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/aarch64/sve-movprfx_25.l?ref=8941884429c305ad42a41f759a98c8cca4d4aacc",
      "patch": "@@ -1,5 +1,4 @@\n [^:]*: Assembler messages:\n .*: Warning: predicate register differs from that in preceding `movprfx' at operand 2 -- `cpy z1.d,p9/m,#12'\n .*: Warning: merging predicate expected due to preceding `movprfx' at operand 2 -- `cpy z1.d,p1/z,#12'\n-.*: Warning: output register of preceding `movprfx' used as input at operand 3 -- `cpy z1.d,p1/m,x1'\n .*: Warning: output register of preceding `movprfx' used as input at operand 3 -- `cpy z1.d,p1/m,d1'"
    },
    {
      "sha": "0e64763de192edf222083586d1806bfb710cd4b0",
      "filename": "gas/testsuite/gas/aarch64/sve-movprfx_25.s",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8941884429c305ad42a41f759a98c8cca4d4aacc/gas/testsuite/gas/aarch64/sve-movprfx_25.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8941884429c305ad42a41f759a98c8cca4d4aacc/gas/testsuite/gas/aarch64/sve-movprfx_25.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/aarch64/sve-movprfx_25.s?ref=8941884429c305ad42a41f759a98c8cca4d4aacc",
      "patch": "@@ -29,7 +29,7 @@ f:\n    movprfx z1.d, p1/m, z3.d\n    cpy z1.d, p1/m, x2\n \n-   /* Not OK, scalar but register z1 and x1 are architecturally the same.  */\n+   /* OK, scalar predicated, alias mov.  */\n    movprfx z1.d, p1/m, z3.d\n    cpy z1.d, p1/m, x1\n "
    },
    {
      "sha": "8b0da31e63ce1056f8a44665f4a4898e790d4a07",
      "filename": "opcodes/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8941884429c305ad42a41f759a98c8cca4d4aacc/opcodes/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8941884429c305ad42a41f759a98c8cca4d4aacc/opcodes/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/ChangeLog?ref=8941884429c305ad42a41f759a98c8cca4d4aacc",
      "patch": "@@ -1,3 +1,8 @@\n+2019-07-02  Richard Sandiford  <richard.sandiford@arm.com>\n+\n+\t* aarch64-opc.c (verify_constraints): Skip GPRs when scanning the\n+\tregisters in an instruction prefixed by MOVPRFX.\n+\n 2019-07-01  Matthew Malcomson  <matthew.malcomson@arm.com>\n \n \t* aarch64-asm.c (aarch64_encode_variant_using_iclass): Use new"
    },
    {
      "sha": "7ffec2d87517328f1b54d20e922da992b892e85b",
      "filename": "opcodes/aarch64-opc.c",
      "status": "modified",
      "additions": 0,
      "deletions": 5,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8941884429c305ad42a41f759a98c8cca4d4aacc/opcodes/aarch64-opc.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8941884429c305ad42a41f759a98c8cca4d4aacc/opcodes/aarch64-opc.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/aarch64-opc.c?ref=8941884429c305ad42a41f759a98c8cca4d4aacc",
      "patch": "@@ -4968,11 +4968,6 @@ verify_constraints (const struct aarch64_inst *inst,\n \t\t  case AARCH64_OPND_Vm:\n \t\t  case AARCH64_OPND_Sn:\n \t\t  case AARCH64_OPND_Sm:\n-\t\t  case AARCH64_OPND_Rn:\n-\t\t  case AARCH64_OPND_Rm:\n-\t\t  case AARCH64_OPND_Rn_SP:\n-\t\t  case AARCH64_OPND_Rt_SP:\n-\t\t  case AARCH64_OPND_Rm_SP:\n \t\t    if (inst_op.reg.regno == blk_dest.reg.regno)\n \t\t      {\n \t\t\tnum_op_used++;"
    }
  ]
}