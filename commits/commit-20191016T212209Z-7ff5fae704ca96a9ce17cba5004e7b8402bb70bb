{
  "sha": "7ff5fae704ca96a9ce17cba5004e7b8402bb70bb",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6N2ZmNWZhZTcwNGNhOTZhOWNlMTdjYmE1MDA0ZTdiODQwMmJiNzBiYg==",
  "commit": {
    "author": {
      "name": "Andrew Burgess",
      "email": "andrew.burgess@embecosm.com",
      "date": "2019-08-29T15:07:01Z"
    },
    "committer": {
      "name": "Andrew Burgess",
      "email": "andrew.burgess@embecosm.com",
      "date": "2019-10-16T21:22:09Z"
    },
    "message": "gdb/testsuite: Allow cc-with-tweaks board file to be used with Fortran\n\nThe board file cc-with-tweaks is used as the core for lots of other\nboard files, for example cc-with-gdb-index and cc-with-debug-names.\nThis commit extends cc-with-tweaks so that it will wrap the Fortran\ncompiler, allowing for more test coverage.\n\nI tested all of the board files that make use of cc-with-tweaks\nrunning the gdb.fortran/*.exp test set, and in some cases I did see\nextra failures.  The \"standard\" results are:\n\n                    === gdb Summary ===\n\n    # of expected passes            953\n    # of known failures             2\n\nWith board file 'cc-with-dwz-m':\n\n                    === gdb Summary ===\n\n    # of expected passes            903\n    # of unexpected failures        1\n    # of known failures             2\n    # of untested testcases         4\n\nWith board file 'dwarf4-gdb-index':\n\n                    === gdb Summary ===\n\n    # of expected passes            950\n    # of unexpected failures        3\n    # of known failures             2\n\nWith board file 'fission-dwp':\n\n                    === gdb Summary ===\n\n    # of expected passes            949\n    # of unexpected failures        4\n    # of known failures             2\n\nDespite these extra failure I don't think this should prevent this\nchange going in as these failures presumably already exist in GDB.\n\ngdb/testsuite/ChangeLog:\n\n\t* boards/cc-with-tweaks.exp: Setup F90_FOR_TARGET and\n\tF77_FOR_TARGET.\n\nChange-Id: I06d412f94d0e119ad652dd6c20829f6705a54622",
    "tree": {
      "sha": "11d9dcbedd0c25b8380f5bf175e92f8e4291f881",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/11d9dcbedd0c25b8380f5bf175e92f8e4291f881"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/7ff5fae704ca96a9ce17cba5004e7b8402bb70bb",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/7ff5fae704ca96a9ce17cba5004e7b8402bb70bb",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/7ff5fae704ca96a9ce17cba5004e7b8402bb70bb",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/7ff5fae704ca96a9ce17cba5004e7b8402bb70bb/comments",
  "author": {
    "login": "T-J-Teru",
    "id": 475372,
    "node_id": "MDQ6VXNlcjQ3NTM3Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/475372?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/T-J-Teru",
    "html_url": "https://github.com/T-J-Teru",
    "followers_url": "https://api.github.com/users/T-J-Teru/followers",
    "following_url": "https://api.github.com/users/T-J-Teru/following{/other_user}",
    "gists_url": "https://api.github.com/users/T-J-Teru/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/T-J-Teru/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/T-J-Teru/subscriptions",
    "organizations_url": "https://api.github.com/users/T-J-Teru/orgs",
    "repos_url": "https://api.github.com/users/T-J-Teru/repos",
    "events_url": "https://api.github.com/users/T-J-Teru/events{/privacy}",
    "received_events_url": "https://api.github.com/users/T-J-Teru/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "T-J-Teru",
    "id": 475372,
    "node_id": "MDQ6VXNlcjQ3NTM3Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/475372?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/T-J-Teru",
    "html_url": "https://github.com/T-J-Teru",
    "followers_url": "https://api.github.com/users/T-J-Teru/followers",
    "following_url": "https://api.github.com/users/T-J-Teru/following{/other_user}",
    "gists_url": "https://api.github.com/users/T-J-Teru/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/T-J-Teru/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/T-J-Teru/subscriptions",
    "organizations_url": "https://api.github.com/users/T-J-Teru/orgs",
    "repos_url": "https://api.github.com/users/T-J-Teru/repos",
    "events_url": "https://api.github.com/users/T-J-Teru/events{/privacy}",
    "received_events_url": "https://api.github.com/users/T-J-Teru/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "17bfe554b9a8c57c4d377bce930046138298fd8b",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/17bfe554b9a8c57c4d377bce930046138298fd8b",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/17bfe554b9a8c57c4d377bce930046138298fd8b"
    }
  ],
  "stats": {
    "total": 15,
    "additions": 15,
    "deletions": 0
  },
  "files": [
    {
      "sha": "d2fa9ed24ea1be1ff1b3a6b9f96b217345b050e3",
      "filename": "gdb/testsuite/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7ff5fae704ca96a9ce17cba5004e7b8402bb70bb/gdb/testsuite/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7ff5fae704ca96a9ce17cba5004e7b8402bb70bb/gdb/testsuite/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/ChangeLog?ref=7ff5fae704ca96a9ce17cba5004e7b8402bb70bb",
      "patch": "@@ -1,3 +1,8 @@\n+2019-10-16  Andrew Burgess  <andrew.burgess@embecosm.com>\n+\n+\t* boards/cc-with-tweaks.exp: Setup F90_FOR_TARGET and\n+\tF77_FOR_TARGET.\n+\n 2019-10-16  Tom de Vries  <tdevries@suse.de>\n \n \tPR tdep/25096"
    },
    {
      "sha": "dfca1ad94bbbdf31b5a7d2d3b6ffae7e25dc19bf",
      "filename": "gdb/testsuite/boards/cc-with-tweaks.exp",
      "status": "modified",
      "additions": 10,
      "deletions": 0,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7ff5fae704ca96a9ce17cba5004e7b8402bb70bb/gdb/testsuite/boards/cc-with-tweaks.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7ff5fae704ca96a9ce17cba5004e7b8402bb70bb/gdb/testsuite/boards/cc-with-tweaks.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/boards/cc-with-tweaks.exp?ref=7ff5fae704ca96a9ce17cba5004e7b8402bb70bb",
      "patch": "@@ -43,6 +43,8 @@ process_multilib_options \"\"\n set found_gcc [find_gcc]\n set found_gxx [find_g++]\n set found_gnatmake [find_gnatmake]\n+set found_f90 [find_gfortran]\n+set found_f77 [find_g77]\n set_board_info compiler \"$found_gcc\"\n \n set contrib_dir [file normalize $srcdir/../contrib]\n@@ -58,6 +60,14 @@ if ![info exists GNATMAKE_FOR_TARGET] {\n     set GNATMAKE_FOR_TARGET \"$found_gnatmake\"\n }\n set GNATMAKE_FOR_TARGET \"$contrib_dir/cc-with-tweaks.sh $CC_WITH_TWEAKS_FLAGS $GNATMAKE_FOR_TARGET\"\n+if ![info exists F90_FOR_TARGET] {\n+    set F90_FOR_TARGET \"$found_f90\"\n+}\n+set F90_FOR_TARGET \"$contrib_dir/cc-with-tweaks.sh $CC_WITH_TWEAKS_FLAGS $F90_FOR_TARGET\"\n+if ![info exists F77_FOR_TARGET] {\n+    set F77_FOR_TARGET \"$found_f77\"\n+}\n+set F77_FOR_TARGET \"$contrib_dir/cc-with-tweaks.sh $CC_WITH_TWEAKS_FLAGS $F77_FOR_TARGET\"\n \n set pwd [exec pwd -P]\n exec echo $GDB $INTERNAL_GDBFLAGS $GDBFLAGS \\\"\\$@\\\" > $pwd/gdb.sh"
    }
  ]
}