{
  "sha": "296cfb88895e35d8bfc5ce43449e65a92d87354d",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6Mjk2Y2ZiODg4OTVlMzVkOGJmYzVjZTQzNDQ5ZTY1YTkyZDg3MzU0ZA==",
  "commit": {
    "author": {
      "name": "Giancarlo Frix",
      "email": "gfrix@rocketsoftware.com",
      "date": "2020-12-06T10:27:52Z"
    },
    "committer": {
      "name": "Joel Brobecker",
      "email": "brobecker@adacore.com",
      "date": "2020-12-06T10:27:52Z"
    },
    "message": "s390: Fix BC instruction breakpoint handling\n\nThis fixes a long-lived bug in the s390 port.\n\nWhen trying to step over a breakpoint set on a BC (branch on condition)\ninstruction with displaced stepping on IBM Z, gdb would incorrectly\nadjust the pc regardless of whether or not the branch was taken. Since\nthe branch target is an absolute address, this would cause the inferior\nto jump around wildly whenever the branch was taken, either crashing it\nor causing it to behave unpredictably.\n\nIt turns out that the logic to handle BC instructions correctly was in\nthe code, but that the enum value representing its opcode has always\nbeen incorrect.\n\nThis patch corrects the enum value to the actual opcode, fixing the\nstepping problem. The enum value is also used in the prologue analysis\ncode, so this also fixes a minor bug where more of the prologue would\nbe read than was necessary.\n\ngdb/ChangeLog:\n\n        PR breakpoints/27009\n        * s390-tdep.h (op_bc): Correct BC opcode value.",
    "tree": {
      "sha": "64e1c51035dce4d6b88c0d04f19cff7458dfca2a",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/64e1c51035dce4d6b88c0d04f19cff7458dfca2a"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/296cfb88895e35d8bfc5ce43449e65a92d87354d",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/296cfb88895e35d8bfc5ce43449e65a92d87354d",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/296cfb88895e35d8bfc5ce43449e65a92d87354d",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/296cfb88895e35d8bfc5ce43449e65a92d87354d/comments",
  "author": {
    "login": "gfrix",
    "id": 9940691,
    "node_id": "MDQ6VXNlcjk5NDA2OTE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9940691?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gfrix",
    "html_url": "https://github.com/gfrix",
    "followers_url": "https://api.github.com/users/gfrix/followers",
    "following_url": "https://api.github.com/users/gfrix/following{/other_user}",
    "gists_url": "https://api.github.com/users/gfrix/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gfrix/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gfrix/subscriptions",
    "organizations_url": "https://api.github.com/users/gfrix/orgs",
    "repos_url": "https://api.github.com/users/gfrix/repos",
    "events_url": "https://api.github.com/users/gfrix/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gfrix/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "brobecke",
    "id": 11981700,
    "node_id": "MDQ6VXNlcjExOTgxNzAw",
    "avatar_url": "https://avatars.githubusercontent.com/u/11981700?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/brobecke",
    "html_url": "https://github.com/brobecke",
    "followers_url": "https://api.github.com/users/brobecke/followers",
    "following_url": "https://api.github.com/users/brobecke/following{/other_user}",
    "gists_url": "https://api.github.com/users/brobecke/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/brobecke/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/brobecke/subscriptions",
    "organizations_url": "https://api.github.com/users/brobecke/orgs",
    "repos_url": "https://api.github.com/users/brobecke/repos",
    "events_url": "https://api.github.com/users/brobecke/events{/privacy}",
    "received_events_url": "https://api.github.com/users/brobecke/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "63c457b911043aa6ebf3558e2d2050ee53d28a8e",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/63c457b911043aa6ebf3558e2d2050ee53d28a8e",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/63c457b911043aa6ebf3558e2d2050ee53d28a8e"
    }
  ],
  "stats": {
    "total": 7,
    "additions": 6,
    "deletions": 1
  },
  "files": [
    {
      "sha": "21115067e58a003fbf6054210f42ae53158d3760",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/296cfb88895e35d8bfc5ce43449e65a92d87354d/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/296cfb88895e35d8bfc5ce43449e65a92d87354d/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=296cfb88895e35d8bfc5ce43449e65a92d87354d",
      "patch": "@@ -1,3 +1,8 @@\n+2020-12-06  Giancarlo Frix  <gfrix@rocketsoftware.com>  (tiny change)\n+\n+\tPR breakpoints/27009\n+\t* s390-tdep.h (op_bc): Correct BC opcode value.\n+\n 2020-12-06  Joel Brobecker  <brobecker@adacore.com>\n \n \t* gmp-utils.h (gdb_mpz::safe_export): New private method."
    },
    {
      "sha": "fc8918fe77ba2c3de77f2efd124674605b93e3b4",
      "filename": "gdb/s390-tdep.h",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/296cfb88895e35d8bfc5ce43449e65a92d87354d/gdb/s390-tdep.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/296cfb88895e35d8bfc5ce43449e65a92d87354d/gdb/s390-tdep.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/s390-tdep.h?ref=296cfb88895e35d8bfc5ce43449e65a92d87354d",
      "patch": "@@ -117,7 +117,7 @@ enum\n   op_basr  = 0x0d,\n   op_bas   = 0x4d,\n   op_bcr   = 0x07,\n-  op_bc    = 0x0d,\n+  op_bc    = 0x47,\n   op_bctr  = 0x06,\n   op_bctgr = 0xb946,\n   op_bct   = 0x46,"
    }
  ]
}