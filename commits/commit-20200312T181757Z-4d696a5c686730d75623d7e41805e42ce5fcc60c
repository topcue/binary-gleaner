{
  "sha": "4d696a5c686730d75623d7e41805e42ce5fcc60c",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NGQ2OTZhNWM2ODY3MzBkNzU2MjNkN2U0MTgwNWU0MmNlNWZjYzYwYw==",
  "commit": {
    "author": {
      "name": "Simon Marchi",
      "email": "simon.marchi@efficios.com",
      "date": "2020-03-12T18:12:36Z"
    },
    "committer": {
      "name": "Simon Marchi",
      "email": "simon.marchi@efficios.com",
      "date": "2020-03-12T18:17:57Z"
    },
    "message": "gdb/selftest.m4: ensure $development is set\n\nBefore commit 3d1e5a43cbe (\"gdbsupport/configure.ac: source\ndevelopment.sh\"), the GDB build in non-development mode (turn\ndevelopment to false in bfd/development.sh if you want to try) was\nbroken because the gdbsupport configure script didn't source\nbfd/development.sh to set the development variable.\n\nSince the GDB_AC_SELFTEST macro relies on the `development` variable, I\npropose to modify it such that it errors out if $development does not\nhave an expected value of \"true\" or \"false\".  This could prevent a\nfuture similar problem from happening while refactoring the configure\nscripts.  It would have caught the problem fixed by the patch mentioned\nearlier.\n\ngdb/ChangeLog:\n\n\t* selftest.m4 (GDB_AC_SELFTEST): Error out if $development is\n\tnot \"true\" or \"false\".\n\t* configure: Re-generate.\n\ngdbserver/ChangeLog:\n\n\t* configure: Re-generate.\n\ngdbsupport/ChangeLog:\n\n\t* configure: Re-generate.",
    "tree": {
      "sha": "077ef2a22bca4befd6b2f9088b80c7b49f703e7f",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/077ef2a22bca4befd6b2f9088b80c7b49f703e7f"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/4d696a5c686730d75623d7e41805e42ce5fcc60c",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/4d696a5c686730d75623d7e41805e42ce5fcc60c",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/4d696a5c686730d75623d7e41805e42ce5fcc60c",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/4d696a5c686730d75623d7e41805e42ce5fcc60c/comments",
  "author": {
    "login": "simark",
    "id": 1758287,
    "node_id": "MDQ6VXNlcjE3NTgyODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1758287?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/simark",
    "html_url": "https://github.com/simark",
    "followers_url": "https://api.github.com/users/simark/followers",
    "following_url": "https://api.github.com/users/simark/following{/other_user}",
    "gists_url": "https://api.github.com/users/simark/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/simark/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/simark/subscriptions",
    "organizations_url": "https://api.github.com/users/simark/orgs",
    "repos_url": "https://api.github.com/users/simark/repos",
    "events_url": "https://api.github.com/users/simark/events{/privacy}",
    "received_events_url": "https://api.github.com/users/simark/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "simark",
    "id": 1758287,
    "node_id": "MDQ6VXNlcjE3NTgyODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1758287?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/simark",
    "html_url": "https://github.com/simark",
    "followers_url": "https://api.github.com/users/simark/followers",
    "following_url": "https://api.github.com/users/simark/following{/other_user}",
    "gists_url": "https://api.github.com/users/simark/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/simark/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/simark/subscriptions",
    "organizations_url": "https://api.github.com/users/simark/orgs",
    "repos_url": "https://api.github.com/users/simark/repos",
    "events_url": "https://api.github.com/users/simark/events{/privacy}",
    "received_events_url": "https://api.github.com/users/simark/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "8dd8e1c7228d5dd57b3b36379718c806017988e1",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/8dd8e1c7228d5dd57b3b36379718c806017988e1",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/8dd8e1c7228d5dd57b3b36379718c806017988e1"
    }
  ],
  "stats": {
    "total": 33,
    "additions": 33,
    "deletions": 0
  },
  "files": [
    {
      "sha": "490d9cbae5c77767f89fff743ba333a86af47f94",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4d696a5c686730d75623d7e41805e42ce5fcc60c/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4d696a5c686730d75623d7e41805e42ce5fcc60c/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=4d696a5c686730d75623d7e41805e42ce5fcc60c",
      "patch": "@@ -1,3 +1,9 @@\n+2020-03-12  Simon Marchi  <simon.marchi@efficios.com>\n+\n+\t* selftest.m4 (GDB_AC_SELFTEST): Error out if $development is\n+\tnot \"true\" or \"false\".\n+\t* configure: Re-generate.\n+\n 2020-03-12  Christian Biesinger  <cbiesinger@google.com>\n \n \t* Makefile.in (HFILES_NO_SRCDIR): Add new arm-nbsd-tdep.h file."
    },
    {
      "sha": "dd34688687edc915611902dcfd91f69834e55bdf",
      "filename": "gdb/configure",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4d696a5c686730d75623d7e41805e42ce5fcc60c/gdb/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4d696a5c686730d75623d7e41805e42ce5fcc60c/gdb/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/configure?ref=4d696a5c686730d75623d7e41805e42ce5fcc60c",
      "patch": "@@ -19187,6 +19187,11 @@ $as_echo \"#define GDB_DEFAULT_HOST_CHARSET \\\"UTF-8\\\"\" >>confdefs.h\n # The default value of this option changes depending whether we're on\n # development mode (in which case it's \"true\") or not (in which case\n # it's \"false\").\n+\n+if test \"x$development\" != xtrue && test \"x$development\" != xfalse; then :\n+  as_fn_error $? \"Invalid value for \\$development, got \\\"$development\\\", expecting \\\"true\\\" or \\\"false\\\".\" \"$LINENO\" 5\n+fi\n+\n # Check whether --enable-unit-tests was given.\n if test \"${enable_unit_tests+set}\" = set; then :\n   enableval=$enable_unit_tests; case \"${enableval}\" in"
    },
    {
      "sha": "a88aa96171cb4cee78a91ccdbd9a4b740933bc22",
      "filename": "gdb/selftest.m4",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4d696a5c686730d75623d7e41805e42ce5fcc60c/gdb/selftest.m4",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4d696a5c686730d75623d7e41805e42ce5fcc60c/gdb/selftest.m4",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/selftest.m4?ref=4d696a5c686730d75623d7e41805e42ce5fcc60c",
      "patch": "@@ -27,6 +27,10 @@ AC_DEFUN([GDB_AC_SELFTEST],[\n # The default value of this option changes depending whether we're on\n # development mode (in which case it's \"true\") or not (in which case\n # it's \"false\").\n+\n+AS_IF([test \"x$development\" != xtrue && test \"x$development\" != xfalse],\n+  [AC_MSG_ERROR([Invalid value for \\$development, got \"$development\", expecting \"true\" or \"false\".])])\n+\n AC_ARG_ENABLE(unit-tests,\n AS_HELP_STRING([--enable-unit-tests],\n [Enable the inclusion of unit tests when compiling GDB]),"
    },
    {
      "sha": "94e1c040ea75dd70c0323bcc1243c688b32125d6",
      "filename": "gdbserver/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4d696a5c686730d75623d7e41805e42ce5fcc60c/gdbserver/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4d696a5c686730d75623d7e41805e42ce5fcc60c/gdbserver/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/ChangeLog?ref=4d696a5c686730d75623d7e41805e42ce5fcc60c",
      "patch": "@@ -1,3 +1,7 @@\n+2020-03-12  Simon Marchi  <simon.marchi@efficios.com>\n+\n+\t* configure: Re-generate.\n+\n 2020-03-11  Simon Marchi  <simon.marchi@efficios.com>\n \n \t* configure: Re-generate."
    },
    {
      "sha": "b0a25688c75d3cb4e322c1365928cef807c8c26c",
      "filename": "gdbserver/configure",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4d696a5c686730d75623d7e41805e42ce5fcc60c/gdbserver/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4d696a5c686730d75623d7e41805e42ce5fcc60c/gdbserver/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/configure?ref=4d696a5c686730d75623d7e41805e42ce5fcc60c",
      "patch": "@@ -6083,6 +6083,11 @@ fi\n # The default value of this option changes depending whether we're on\n # development mode (in which case it's \"true\") or not (in which case\n # it's \"false\").\n+\n+if test \"x$development\" != xtrue && test \"x$development\" != xfalse; then :\n+  as_fn_error $? \"Invalid value for \\$development, got \\\"$development\\\", expecting \\\"true\\\" or \\\"false\\\".\" \"$LINENO\" 5\n+fi\n+\n # Check whether --enable-unit-tests was given.\n if test \"${enable_unit_tests+set}\" = set; then :\n   enableval=$enable_unit_tests; case \"${enableval}\" in"
    },
    {
      "sha": "5e4f27758dc5738123aa27505c1fb88ffb41560b",
      "filename": "gdbsupport/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4d696a5c686730d75623d7e41805e42ce5fcc60c/gdbsupport/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4d696a5c686730d75623d7e41805e42ce5fcc60c/gdbsupport/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbsupport/ChangeLog?ref=4d696a5c686730d75623d7e41805e42ce5fcc60c",
      "patch": "@@ -1,3 +1,7 @@\n+2020-03-12  Simon Marchi  <simon.marchi@efficios.com>\n+\n+\t* configure: Re-generate.\n+\n 2020-03-11  Simon Marchi  <simon.marchi@efficios.com>\n \n \t* configure: Re-generate."
    },
    {
      "sha": "66dc9062045c1631e40e3a711bccade4a9d84867",
      "filename": "gdbsupport/configure",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4d696a5c686730d75623d7e41805e42ce5fcc60c/gdbsupport/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4d696a5c686730d75623d7e41805e42ce5fcc60c/gdbsupport/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbsupport/configure?ref=4d696a5c686730d75623d7e41805e42ce5fcc60c",
      "patch": "@@ -10606,6 +10606,11 @@ $as_echo \"$bfd_cv_have_sys_procfs_type_elf_fpregset_t\" >&6; }\n # The default value of this option changes depending whether we're on\n # development mode (in which case it's \"true\") or not (in which case\n # it's \"false\").\n+\n+if test \"x$development\" != xtrue && test \"x$development\" != xfalse; then :\n+  as_fn_error $? \"Invalid value for \\$development, got \\\"$development\\\", expecting \\\"true\\\" or \\\"false\\\".\" \"$LINENO\" 5\n+fi\n+\n # Check whether --enable-unit-tests was given.\n if test \"${enable_unit_tests+set}\" = set; then :\n   enableval=$enable_unit_tests; case \"${enableval}\" in"
    }
  ]
}