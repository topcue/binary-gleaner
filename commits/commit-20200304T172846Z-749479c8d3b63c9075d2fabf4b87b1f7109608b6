{
  "sha": "749479c8d3b63c9075d2fabf4b87b1f7109608b6",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NzQ5NDc5YzhkM2I2M2M5MDc1ZDJmYWJmNGI4N2IxZjcxMDk2MDhiNg==",
  "commit": {
    "author": {
      "name": "Alexandre Oliva",
      "email": "oliva@adacore.com",
      "date": "2020-03-04T17:28:46Z"
    },
    "committer": {
      "name": "Nick Clifton",
      "email": "nickc@redhat.com",
      "date": "2020-03-04T17:28:46Z"
    },
    "message": "Generate a warning in the ARM assembler if a PC-relative thumb load instruction is detected in a section with insufficient alignment.\n\n\t* config/tc-arm.c (md_apply_fix): Warn if a PC-relative load is\n\tdetected in a section which does not have at least 4 byte\n\talignment.\n\t* testsuite/gas/arm/armv8-ar-it-bad.s: Add alignment directive.\n\t* testsuite/gas/arm/ldr-t.s: Likewise.\n\t* testsuite/gas/arm/sp-pc-usage-t.s: Likewise.\n\t* testsuite/gas/arm/sp-pc-usage-t.d: Finish test at end of\n\tdisassembly, ignoring any NOPs that may have been inserted because\n\tof section alignment.\n\t* testsuite/gas/arm/ldr-t.d: Likewise.",
    "tree": {
      "sha": "ea0bf41a6d7fb0dd11a33e930893a96adb2a9f38",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/ea0bf41a6d7fb0dd11a33e930893a96adb2a9f38"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/749479c8d3b63c9075d2fabf4b87b1f7109608b6",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/749479c8d3b63c9075d2fabf4b87b1f7109608b6",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/749479c8d3b63c9075d2fabf4b87b1f7109608b6",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/749479c8d3b63c9075d2fabf4b87b1f7109608b6/comments",
  "author": null,
  "committer": {
    "login": "nickclifton",
    "id": 31441682,
    "node_id": "MDQ6VXNlcjMxNDQxNjgy",
    "avatar_url": "https://avatars.githubusercontent.com/u/31441682?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nickclifton",
    "html_url": "https://github.com/nickclifton",
    "followers_url": "https://api.github.com/users/nickclifton/followers",
    "following_url": "https://api.github.com/users/nickclifton/following{/other_user}",
    "gists_url": "https://api.github.com/users/nickclifton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nickclifton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nickclifton/subscriptions",
    "organizations_url": "https://api.github.com/users/nickclifton/orgs",
    "repos_url": "https://api.github.com/users/nickclifton/repos",
    "events_url": "https://api.github.com/users/nickclifton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nickclifton/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "440cf44eb0f70830b8d8ac35289f84129c7a35c1",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/440cf44eb0f70830b8d8ac35289f84129c7a35c1",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/440cf44eb0f70830b8d8ac35289f84129c7a35c1"
    }
  ],
  "stats": {
    "total": 30,
    "additions": 24,
    "deletions": 6
  },
  "files": [
    {
      "sha": "d5611ee76854d1fee3bc9b85815d635ec51c9cb6",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 13,
      "deletions": 0,
      "changes": 13,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/749479c8d3b63c9075d2fabf4b87b1f7109608b6/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/749479c8d3b63c9075d2fabf4b87b1f7109608b6/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=749479c8d3b63c9075d2fabf4b87b1f7109608b6",
      "patch": "@@ -1,3 +1,16 @@\n+2020-03-04  Alexandre Oliva  <oliva@adacore.com>\n+\n+\t* config/tc-arm.c (md_apply_fix): Warn if a PC-relative load is\n+\tdetected in a section which does not have at least 4 byte\n+\talignment.\n+\t* testsuite/gas/arm/armv8-ar-it-bad.s: Add alignment directive.\n+\t* testsuite/gas/arm/ldr-t.s: Likewise.\n+\t* testsuite/gas/arm/sp-pc-usage-t.s: Likewise.\n+\t* testsuite/gas/arm/sp-pc-usage-t.d: Finish test at end of\n+\tdisassembly, ignoring any NOPs that may have been inserted because\n+\tof section alignment.\n+\t* testsuite/gas/arm/ldr-t.d: Likewise.\n+\n 2020-03-04  Jan Beulich  <jbeulich@suse.com>\n \n \t* config/tc-i386.c (cpu_arch): Add .sev_es entry."
    },
    {
      "sha": "329a2de10714843684d01e6f87ed622b7c968ba3",
      "filename": "gas/config/tc-arm.c",
      "status": "modified",
      "additions": 3,
      "deletions": 0,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/749479c8d3b63c9075d2fabf4b87b1f7109608b6/gas/config/tc-arm.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/749479c8d3b63c9075d2fabf4b87b1f7109608b6/gas/config/tc-arm.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/config/tc-arm.c?ref=749479c8d3b63c9075d2fabf4b87b1f7109608b6",
      "patch": "@@ -29290,6 +29290,9 @@ md_apply_fix (fixS *\tfixP,\n \t\t\t  (((unsigned long) fixP->fx_frag->fr_address\n \t\t\t    + (unsigned long) fixP->fx_where) & ~3)\n \t\t\t  + (unsigned long) value);\n+\t  else if (get_recorded_alignment (seg) < 2)\n+\t    as_warn_where (fixP->fx_file, fixP->fx_line,\n+\t\t\t   _(\"section does not have enough alignment to ensure safe PC-relative loads\"));\n \n \t  if (value & ~0x3fc)\n \t    as_bad_where (fixP->fx_file, fixP->fx_line,"
    },
    {
      "sha": "3a67e8d4788a79c7a47fe32820599802ad252070",
      "filename": "gas/testsuite/gas/arm/armv8-ar-it-bad.s",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/749479c8d3b63c9075d2fabf4b87b1f7109608b6/gas/testsuite/gas/arm/armv8-ar-it-bad.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/749479c8d3b63c9075d2fabf4b87b1f7109608b6/gas/testsuite/gas/arm/armv8-ar-it-bad.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/arm/armv8-ar-it-bad.s?ref=749479c8d3b63c9075d2fabf4b87b1f7109608b6",
      "patch": "@@ -1,6 +1,6 @@\n-.syntax unified\n-\n-.thumb\n+\t.syntax unified\n+\t.thumb\n+\t.align 2\n @ Wide instruction in IT block is deprecated.\n it eq\n ldrdeq r0, [r1]"
    },
    {
      "sha": "97637392c16787dee1c39f23c4cea9fb17d0d13a",
      "filename": "gas/testsuite/gas/arm/ldr-t.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/749479c8d3b63c9075d2fabf4b87b1f7109608b6/gas/testsuite/gas/arm/ldr-t.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/749479c8d3b63c9075d2fabf4b87b1f7109608b6/gas/testsuite/gas/arm/ldr-t.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/arm/ldr-t.d?ref=749479c8d3b63c9075d2fabf4b87b1f7109608b6",
      "patch": "@@ -34,4 +34,4 @@ Disassembly of section [^>]+:\n 0+4e <[^>]+> f8c1 100a \tstr.w\tr1, \\[r1, #10\\]\n 0+52 <[^>]+> f842 1f0a \tstr.w\tr1, \\[r2, #10\\]!\n 0+56 <[^>]+> 50d1      \tstr\tr1, \\[r2, r3\\]\n-\n+#pass"
    },
    {
      "sha": "ba3b1e066d48b404c171f209b8fbd458fda3da45",
      "filename": "gas/testsuite/gas/arm/ldr-t.s",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/749479c8d3b63c9075d2fabf4b87b1f7109608b6/gas/testsuite/gas/arm/ldr-t.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/749479c8d3b63c9075d2fabf4b87b1f7109608b6/gas/testsuite/gas/arm/ldr-t.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/arm/ldr-t.s?ref=749479c8d3b63c9075d2fabf4b87b1f7109608b6",
      "patch": "@@ -3,6 +3,7 @@\n .thumb\n \t.global foo\n foo:\n+\t.align 4\n \t@ldr-immediate\n \n \t@!wback && (n == t)"
    },
    {
      "sha": "c9b0800223a76c49995f65dcfb3da066348d6497",
      "filename": "gas/testsuite/gas/arm/sp-pc-usage-t.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/749479c8d3b63c9075d2fabf4b87b1f7109608b6/gas/testsuite/gas/arm/sp-pc-usage-t.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/749479c8d3b63c9075d2fabf4b87b1f7109608b6/gas/testsuite/gas/arm/sp-pc-usage-t.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/arm/sp-pc-usage-t.d?ref=749479c8d3b63c9075d2fabf4b87b1f7109608b6",
      "patch": "@@ -79,4 +79,4 @@ Disassembly of section .text:\n 000000f6 <foo\\+0xf6> bf00      \tnop\n 000000f8 <foo\\+0xf8> bf00      \tnop\n 000000fa <foo\\+0xfa> bf00      \tnop\n-\n+#pass"
    },
    {
      "sha": "70bf0d9e7c8c35658f069a993a2ab59bd2d8332f",
      "filename": "gas/testsuite/gas/arm/sp-pc-usage-t.s",
      "status": "modified",
      "additions": 2,
      "deletions": 1,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/749479c8d3b63c9075d2fabf4b87b1f7109608b6/gas/testsuite/gas/arm/sp-pc-usage-t.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/749479c8d3b63c9075d2fabf4b87b1f7109608b6/gas/testsuite/gas/arm/sp-pc-usage-t.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/arm/sp-pc-usage-t.s?ref=749479c8d3b63c9075d2fabf4b87b1f7109608b6",
      "patch": "@@ -3,7 +3,8 @@\n .text\n .thumb\n \t.global foo\n-foo:\t\n+foo:\n+\t.align 4\n @ Section A6.1.3 \"Use of 0b1101 as a register specifier\".\n \n @ R13 as the source or destination register of a mov instruction."
    }
  ]
}