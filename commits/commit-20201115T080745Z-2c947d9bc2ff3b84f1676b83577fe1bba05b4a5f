{
  "sha": "2c947d9bc2ff3b84f1676b83577fe1bba05b4a5f",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MmM5NDdkOWJjMmZmM2I4NGYxNjc2YjgzNTc3ZmUxYmJhMDViNGE1Zg==",
  "commit": {
    "author": {
      "name": "Joel Brobecker",
      "email": "brobecker@adacore.com",
      "date": "2020-11-15T08:07:45Z"
    },
    "committer": {
      "name": "Joel Brobecker",
      "email": "brobecker@adacore.com",
      "date": "2020-11-15T08:07:45Z"
    },
    "message": "gdb/configure: Add --with-libgmp-prefix option\n\nThis patch allows a user to tell gdb's configure script where\nhis GMP library is installed.\n\ngdb/ChangeLog:\n\n        * configure.ac: Add support for --with-libgmp-prefix.\n        * Makefile.in (LIBGMP): New variable.\n        (CLIBS): Include $(LIBGMP).\n        * configure, config.in: Regenerate",
    "tree": {
      "sha": "d6b6b0bb010031ea838bf432a4a584896eaab205",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/d6b6b0bb010031ea838bf432a4a584896eaab205"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/2c947d9bc2ff3b84f1676b83577fe1bba05b4a5f",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/2c947d9bc2ff3b84f1676b83577fe1bba05b4a5f",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/2c947d9bc2ff3b84f1676b83577fe1bba05b4a5f",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/2c947d9bc2ff3b84f1676b83577fe1bba05b4a5f/comments",
  "author": {
    "login": "brobecke",
    "id": 11981700,
    "node_id": "MDQ6VXNlcjExOTgxNzAw",
    "avatar_url": "https://avatars.githubusercontent.com/u/11981700?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/brobecke",
    "html_url": "https://github.com/brobecke",
    "followers_url": "https://api.github.com/users/brobecke/followers",
    "following_url": "https://api.github.com/users/brobecke/following{/other_user}",
    "gists_url": "https://api.github.com/users/brobecke/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/brobecke/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/brobecke/subscriptions",
    "organizations_url": "https://api.github.com/users/brobecke/orgs",
    "repos_url": "https://api.github.com/users/brobecke/repos",
    "events_url": "https://api.github.com/users/brobecke/events{/privacy}",
    "received_events_url": "https://api.github.com/users/brobecke/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "brobecke",
    "id": 11981700,
    "node_id": "MDQ6VXNlcjExOTgxNzAw",
    "avatar_url": "https://avatars.githubusercontent.com/u/11981700?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/brobecke",
    "html_url": "https://github.com/brobecke",
    "followers_url": "https://api.github.com/users/brobecke/followers",
    "following_url": "https://api.github.com/users/brobecke/following{/other_user}",
    "gists_url": "https://api.github.com/users/brobecke/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/brobecke/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/brobecke/subscriptions",
    "organizations_url": "https://api.github.com/users/brobecke/orgs",
    "repos_url": "https://api.github.com/users/brobecke/repos",
    "events_url": "https://api.github.com/users/brobecke/events{/privacy}",
    "received_events_url": "https://api.github.com/users/brobecke/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "0eb994e572a58d2f9421429e2610cdd36dea78c0",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/0eb994e572a58d2f9421429e2610cdd36dea78c0",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/0eb994e572a58d2f9421429e2610cdd36dea78c0"
    }
  ],
  "stats": {
    "total": 508,
    "additions": 507,
    "deletions": 1
  },
  "files": [
    {
      "sha": "ee1dea309f4e696c6a3aa66a9f8b6fa1ab20febe",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2c947d9bc2ff3b84f1676b83577fe1bba05b4a5f/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2c947d9bc2ff3b84f1676b83577fe1bba05b4a5f/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=2c947d9bc2ff3b84f1676b83577fe1bba05b4a5f",
      "patch": "@@ -1,3 +1,10 @@\n+2020-11-15  Joel Brobecker  <brobecker@adacore.com>\n+\n+\t* configure.ac: Add support for --with-libgmp-prefix.\n+\t* Makefile.in (LIBGMP): New variable.\n+\t(CLIBS): Include $(LIBGMP).\n+\t* configure, config.in: Regenerate\n+\n 2020-11-14  Andrew Burgess  <andrew.burgess@embecosm.com>\n \n \tPR cli/26879"
    },
    {
      "sha": "c461964837fdd7c0487eb7b60bb73f0f72000d8b",
      "filename": "gdb/Makefile.in",
      "status": "modified",
      "additions": 4,
      "deletions": 1,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2c947d9bc2ff3b84f1676b83577fe1bba05b4a5f/gdb/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2c947d9bc2ff3b84f1676b83577fe1bba05b4a5f/gdb/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/Makefile.in?ref=2c947d9bc2ff3b84f1676b83577fe1bba05b4a5f",
      "patch": "@@ -203,6 +203,9 @@ LIBXXHASH = @LIBXXHASH@\n # Where is libipt?  This will be empty if libipt was not available.\n LIBIPT = @LIBIPT@\n \n+# Where is libgmp?\n+LIBGMP = @LIBGMP@\n+\n # Where is libmpfr?  This will be empty if libmpfr was not available.\n LIBMPFR = @LIBMPFR@\n \n@@ -632,7 +635,7 @@ CLIBS = $(SIM) $(READLINE) $(OPCODES) $(LIBCTF) $(BFD) $(ZLIB) \\\n \t@LIBS@ @GUILE_LIBS@ @PYTHON_LIBS@ \\\n \t$(LIBEXPAT) $(LIBLZMA) $(LIBBABELTRACE) $(LIBIPT) \\\n \t$(WIN32LIBS) $(LIBGNU) $(LIBGNU_EXTRA_LIBS) $(LIBICONV) \\\n-\t$(LIBMPFR) $(SRCHIGH_LIBS) $(LIBXXHASH) $(PTHREAD_LIBS) \\\n+\t$(LIBMPFR) $(LIBGMP) $(SRCHIGH_LIBS) $(LIBXXHASH) $(PTHREAD_LIBS) \\\n \t$(DEBUGINFOD_LIBS)\n CDEPS = $(NAT_CDEPS) $(SIM) $(BFD) $(READLINE_DEPS) $(CTF_DEPS) \\\n \t$(OPCODES) $(INTL_DEPS) $(LIBIBERTY) $(CONFIG_DEPS) $(LIBGNU) \\"
    },
    {
      "sha": "14a77c661d5f7d2cbe2e8bcfec341b436cc86eb2",
      "filename": "gdb/config.in",
      "status": "modified",
      "additions": 3,
      "deletions": 0,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2c947d9bc2ff3b84f1676b83577fe1bba05b4a5f/gdb/config.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2c947d9bc2ff3b84f1676b83577fe1bba05b4a5f/gdb/config.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/config.in?ref=2c947d9bc2ff3b84f1676b83577fe1bba05b4a5f",
      "patch": "@@ -229,6 +229,9 @@\n /* Define if you have the expat library. */\n #undef HAVE_LIBEXPAT\n \n+/* Define if you have the gmp library. */\n+#undef HAVE_LIBGMP\n+\n /* Define to 1 if you have the `libiconvlist' function. */\n #undef HAVE_LIBICONVLIST\n "
    },
    {
      "sha": "2bf08569bf5733bcc36b3d9bb7bee741775c88ab",
      "filename": "gdb/configure",
      "status": "modified",
      "additions": 488,
      "deletions": 0,
      "changes": 488,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2c947d9bc2ff3b84f1676b83577fe1bba05b4a5f/gdb/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2c947d9bc2ff3b84f1676b83577fe1bba05b4a5f/gdb/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/configure?ref=2c947d9bc2ff3b84f1676b83577fe1bba05b4a5f",
      "patch": "@@ -732,6 +732,9 @@ python_prog_path\n LTLIBMPFR\n LIBMPFR\n HAVE_LIBMPFR\n+LTLIBGMP\n+LIBGMP\n+HAVE_LIBGMP\n LTLIBEXPAT\n LIBEXPAT\n HAVE_LIBEXPAT\n@@ -896,6 +899,8 @@ with_jit_reader_dir\n with_expat\n with_libexpat_prefix\n with_libexpat_type\n+with_libgmp_prefix\n+with_libgmp_type\n with_mpfr\n with_libmpfr_prefix\n with_libmpfr_type\n@@ -1639,6 +1644,9 @@ Optional Packages:\n   --with-libexpat-prefix[=DIR]  search for libexpat in DIR/include and DIR/lib\n   --without-libexpat-prefix     don't search for libexpat in includedir and libdir\n   --with-libexpat-type=TYPE     type of library to search for (auto/static/shared)\n+  --with-libgmp-prefix[=DIR]  search for libgmp in DIR/include and DIR/lib\n+  --without-libgmp-prefix     don't search for libgmp in includedir and libdir\n+  --with-libgmp-type=TYPE     type of library to search for (auto/static/shared)\n   --with-mpfr             include MPFR support (auto/yes/no)\n   --with-libmpfr-prefix[=DIR]  search for libmpfr in DIR/include and DIR/lib\n   --without-libmpfr-prefix     don't search for libmpfr in includedir and libdir\n@@ -9982,6 +9990,486 @@ done\n   fi\n fi\n \n+# Verify that we have a usable GMP library.\n+\n+\n+\n+\n+\n+\n+\n+\n+    use_additional=yes\n+\n+  acl_save_prefix=\"$prefix\"\n+  prefix=\"$acl_final_prefix\"\n+  acl_save_exec_prefix=\"$exec_prefix\"\n+  exec_prefix=\"$acl_final_exec_prefix\"\n+\n+    eval additional_includedir=\\\"$includedir\\\"\n+    eval additional_libdir=\\\"$libdir\\\"\n+\n+  exec_prefix=\"$acl_save_exec_prefix\"\n+  prefix=\"$acl_save_prefix\"\n+\n+\n+# Check whether --with-libgmp-prefix was given.\n+if test \"${with_libgmp_prefix+set}\" = set; then :\n+  withval=$with_libgmp_prefix;\n+    if test \"X$withval\" = \"Xno\"; then\n+      use_additional=no\n+    else\n+      if test \"X$withval\" = \"X\"; then\n+\n+  acl_save_prefix=\"$prefix\"\n+  prefix=\"$acl_final_prefix\"\n+  acl_save_exec_prefix=\"$exec_prefix\"\n+  exec_prefix=\"$acl_final_exec_prefix\"\n+\n+          eval additional_includedir=\\\"$includedir\\\"\n+          eval additional_libdir=\\\"$libdir\\\"\n+\n+  exec_prefix=\"$acl_save_exec_prefix\"\n+  prefix=\"$acl_save_prefix\"\n+\n+      else\n+        additional_includedir=\"$withval/include\"\n+        additional_libdir=\"$withval/lib\"\n+      fi\n+    fi\n+\n+fi\n+\n+\n+# Check whether --with-libgmp-type was given.\n+if test \"${with_libgmp_type+set}\" = set; then :\n+  withval=$with_libgmp_type;  with_libgmp_type=$withval\n+else\n+   with_libgmp_type=auto\n+fi\n+\n+  lib_type=`eval echo \\$with_libgmp_type`\n+\n+      LIBGMP=\n+  LTLIBGMP=\n+  INCGMP=\n+  rpathdirs=\n+  ltrpathdirs=\n+  names_already_handled=\n+  names_next_round='gmp '\n+  while test -n \"$names_next_round\"; do\n+    names_this_round=\"$names_next_round\"\n+    names_next_round=\n+    for name in $names_this_round; do\n+      already_handled=\n+      for n in $names_already_handled; do\n+        if test \"$n\" = \"$name\"; then\n+          already_handled=yes\n+          break\n+        fi\n+      done\n+      if test -z \"$already_handled\"; then\n+        names_already_handled=\"$names_already_handled $name\"\n+                        uppername=`echo \"$name\" | sed -e 'y|abcdefghijklmnopqrstuvwxyz./-|ABCDEFGHIJKLMNOPQRSTUVWXYZ___|'`\n+        eval value=\\\"\\$HAVE_LIB$uppername\\\"\n+        if test -n \"$value\"; then\n+          if test \"$value\" = yes; then\n+            eval value=\\\"\\$LIB$uppername\\\"\n+            test -z \"$value\" || LIBGMP=\"${LIBGMP}${LIBGMP:+ }$value\"\n+            eval value=\\\"\\$LTLIB$uppername\\\"\n+            test -z \"$value\" || LTLIBGMP=\"${LTLIBGMP}${LTLIBGMP:+ }$value\"\n+          else\n+                                    :\n+          fi\n+        else\n+                              found_dir=\n+          found_la=\n+          found_so=\n+          found_a=\n+          if test $use_additional = yes; then\n+            if test -n \"$shlibext\" && test -f \"$additional_libdir/lib$name.$shlibext\" && test x$lib_type != xstatic; then\n+              found_dir=\"$additional_libdir\"\n+              found_so=\"$additional_libdir/lib$name.$shlibext\"\n+              if test -f \"$additional_libdir/lib$name.la\"; then\n+                found_la=\"$additional_libdir/lib$name.la\"\n+              fi\n+            elif test x$lib_type != xshared; then\n+              if test -f \"$additional_libdir/lib$name.$libext\"; then\n+                found_dir=\"$additional_libdir\"\n+                found_a=\"$additional_libdir/lib$name.$libext\"\n+                if test -f \"$additional_libdir/lib$name.la\"; then\n+                  found_la=\"$additional_libdir/lib$name.la\"\n+                fi\n+              fi\n+            fi\n+          fi\n+          if test \"X$found_dir\" = \"X\"; then\n+            for x in $LDFLAGS $LTLIBGMP; do\n+\n+  acl_save_prefix=\"$prefix\"\n+  prefix=\"$acl_final_prefix\"\n+  acl_save_exec_prefix=\"$exec_prefix\"\n+  exec_prefix=\"$acl_final_exec_prefix\"\n+  eval x=\\\"$x\\\"\n+  exec_prefix=\"$acl_save_exec_prefix\"\n+  prefix=\"$acl_save_prefix\"\n+\n+              case \"$x\" in\n+                -L*)\n+                  dir=`echo \"X$x\" | sed -e 's/^X-L//'`\n+                  if test -n \"$shlibext\" && test -f \"$dir/lib$name.$shlibext\" && test x$lib_type != xstatic; then\n+                    found_dir=\"$dir\"\n+                    found_so=\"$dir/lib$name.$shlibext\"\n+                    if test -f \"$dir/lib$name.la\"; then\n+                      found_la=\"$dir/lib$name.la\"\n+                    fi\n+                  elif test x$lib_type != xshared; then\n+                    if test -f \"$dir/lib$name.$libext\"; then\n+                      found_dir=\"$dir\"\n+                      found_a=\"$dir/lib$name.$libext\"\n+                      if test -f \"$dir/lib$name.la\"; then\n+                        found_la=\"$dir/lib$name.la\"\n+                      fi\n+                    fi\n+                  fi\n+                  ;;\n+              esac\n+              if test \"X$found_dir\" != \"X\"; then\n+                break\n+              fi\n+            done\n+          fi\n+          if test \"X$found_dir\" != \"X\"; then\n+                        LTLIBGMP=\"${LTLIBGMP}${LTLIBGMP:+ }-L$found_dir -l$name\"\n+            if test \"X$found_so\" != \"X\"; then\n+                                                        if test \"$enable_rpath\" = no || test \"X$found_dir\" = \"X/usr/lib\"; then\n+                                LIBGMP=\"${LIBGMP}${LIBGMP:+ }$found_so\"\n+              else\n+                                                                                haveit=\n+                for x in $ltrpathdirs; do\n+                  if test \"X$x\" = \"X$found_dir\"; then\n+                    haveit=yes\n+                    break\n+                  fi\n+                done\n+                if test -z \"$haveit\"; then\n+                  ltrpathdirs=\"$ltrpathdirs $found_dir\"\n+                fi\n+                                if test \"$hardcode_direct\" = yes; then\n+                                                      LIBGMP=\"${LIBGMP}${LIBGMP:+ }$found_so\"\n+                else\n+                  if test -n \"$hardcode_libdir_flag_spec\" && test \"$hardcode_minus_L\" = no; then\n+                                                            LIBGMP=\"${LIBGMP}${LIBGMP:+ }$found_so\"\n+                                                            haveit=\n+                    for x in $rpathdirs; do\n+                      if test \"X$x\" = \"X$found_dir\"; then\n+                        haveit=yes\n+                        break\n+                      fi\n+                    done\n+                    if test -z \"$haveit\"; then\n+                      rpathdirs=\"$rpathdirs $found_dir\"\n+                    fi\n+                  else\n+                                                                                haveit=\n+                    for x in $LDFLAGS $LIBGMP; do\n+\n+  acl_save_prefix=\"$prefix\"\n+  prefix=\"$acl_final_prefix\"\n+  acl_save_exec_prefix=\"$exec_prefix\"\n+  exec_prefix=\"$acl_final_exec_prefix\"\n+  eval x=\\\"$x\\\"\n+  exec_prefix=\"$acl_save_exec_prefix\"\n+  prefix=\"$acl_save_prefix\"\n+\n+                      if test \"X$x\" = \"X-L$found_dir\"; then\n+                        haveit=yes\n+                        break\n+                      fi\n+                    done\n+                    if test -z \"$haveit\"; then\n+                      LIBGMP=\"${LIBGMP}${LIBGMP:+ }-L$found_dir\"\n+                    fi\n+                    if test \"$hardcode_minus_L\" != no; then\n+                                                                                        LIBGMP=\"${LIBGMP}${LIBGMP:+ }$found_so\"\n+                    else\n+                                                                                                                                                                                LIBGMP=\"${LIBGMP}${LIBGMP:+ }-l$name\"\n+                    fi\n+                  fi\n+                fi\n+              fi\n+            else\n+              if test \"X$found_a\" != \"X\"; then\n+                                LIBGMP=\"${LIBGMP}${LIBGMP:+ }$found_a\"\n+              else\n+                                                LIBGMP=\"${LIBGMP}${LIBGMP:+ }-L$found_dir -l$name\"\n+              fi\n+            fi\n+                        additional_includedir=\n+            case \"$found_dir\" in\n+              */lib | */lib/)\n+                basedir=`echo \"X$found_dir\" | sed -e 's,^X,,' -e 's,/lib/*$,,'`\n+                additional_includedir=\"$basedir/include\"\n+                ;;\n+            esac\n+            if test \"X$additional_includedir\" != \"X\"; then\n+                                                                                                                if test \"X$additional_includedir\" != \"X/usr/include\"; then\n+                haveit=\n+                if test \"X$additional_includedir\" = \"X/usr/local/include\"; then\n+                  if test -n \"$GCC\"; then\n+                    case $host_os in\n+                      linux*) haveit=yes;;\n+                    esac\n+                  fi\n+                fi\n+                if test -z \"$haveit\"; then\n+                  for x in $CPPFLAGS $INCGMP; do\n+\n+  acl_save_prefix=\"$prefix\"\n+  prefix=\"$acl_final_prefix\"\n+  acl_save_exec_prefix=\"$exec_prefix\"\n+  exec_prefix=\"$acl_final_exec_prefix\"\n+  eval x=\\\"$x\\\"\n+  exec_prefix=\"$acl_save_exec_prefix\"\n+  prefix=\"$acl_save_prefix\"\n+\n+                    if test \"X$x\" = \"X-I$additional_includedir\"; then\n+                      haveit=yes\n+                      break\n+                    fi\n+                  done\n+                  if test -z \"$haveit\"; then\n+                    if test -d \"$additional_includedir\"; then\n+                                            INCGMP=\"${INCGMP}${INCGMP:+ }-I$additional_includedir\"\n+                    fi\n+                  fi\n+                fi\n+              fi\n+            fi\n+                        if test -n \"$found_la\"; then\n+                                                        save_libdir=\"$libdir\"\n+              case \"$found_la\" in\n+                */* | *\\\\*) . \"$found_la\" ;;\n+                *) . \"./$found_la\" ;;\n+              esac\n+              libdir=\"$save_libdir\"\n+                            for dep in $dependency_libs; do\n+                case \"$dep\" in\n+                  -L*)\n+                    additional_libdir=`echo \"X$dep\" | sed -e 's/^X-L//'`\n+                                                                                                                                                                if test \"X$additional_libdir\" != \"X/usr/lib\"; then\n+                      haveit=\n+                      if test \"X$additional_libdir\" = \"X/usr/local/lib\"; then\n+                        if test -n \"$GCC\"; then\n+                          case $host_os in\n+                            linux*) haveit=yes;;\n+                          esac\n+                        fi\n+                      fi\n+                      if test -z \"$haveit\"; then\n+                        haveit=\n+                        for x in $LDFLAGS $LIBGMP; do\n+\n+  acl_save_prefix=\"$prefix\"\n+  prefix=\"$acl_final_prefix\"\n+  acl_save_exec_prefix=\"$exec_prefix\"\n+  exec_prefix=\"$acl_final_exec_prefix\"\n+  eval x=\\\"$x\\\"\n+  exec_prefix=\"$acl_save_exec_prefix\"\n+  prefix=\"$acl_save_prefix\"\n+\n+                          if test \"X$x\" = \"X-L$additional_libdir\"; then\n+                            haveit=yes\n+                            break\n+                          fi\n+                        done\n+                        if test -z \"$haveit\"; then\n+                          if test -d \"$additional_libdir\"; then\n+                                                        LIBGMP=\"${LIBGMP}${LIBGMP:+ }-L$additional_libdir\"\n+                          fi\n+                        fi\n+                        haveit=\n+                        for x in $LDFLAGS $LTLIBGMP; do\n+\n+  acl_save_prefix=\"$prefix\"\n+  prefix=\"$acl_final_prefix\"\n+  acl_save_exec_prefix=\"$exec_prefix\"\n+  exec_prefix=\"$acl_final_exec_prefix\"\n+  eval x=\\\"$x\\\"\n+  exec_prefix=\"$acl_save_exec_prefix\"\n+  prefix=\"$acl_save_prefix\"\n+\n+                          if test \"X$x\" = \"X-L$additional_libdir\"; then\n+                            haveit=yes\n+                            break\n+                          fi\n+                        done\n+                        if test -z \"$haveit\"; then\n+                          if test -d \"$additional_libdir\"; then\n+                                                        LTLIBGMP=\"${LTLIBGMP}${LTLIBGMP:+ }-L$additional_libdir\"\n+                          fi\n+                        fi\n+                      fi\n+                    fi\n+                    ;;\n+                  -R*)\n+                    dir=`echo \"X$dep\" | sed -e 's/^X-R//'`\n+                    if test \"$enable_rpath\" != no; then\n+                                                                  haveit=\n+                      for x in $rpathdirs; do\n+                        if test \"X$x\" = \"X$dir\"; then\n+                          haveit=yes\n+                          break\n+                        fi\n+                      done\n+                      if test -z \"$haveit\"; then\n+                        rpathdirs=\"$rpathdirs $dir\"\n+                      fi\n+                                                                  haveit=\n+                      for x in $ltrpathdirs; do\n+                        if test \"X$x\" = \"X$dir\"; then\n+                          haveit=yes\n+                          break\n+                        fi\n+                      done\n+                      if test -z \"$haveit\"; then\n+                        ltrpathdirs=\"$ltrpathdirs $dir\"\n+                      fi\n+                    fi\n+                    ;;\n+                  -l*)\n+                                        names_next_round=\"$names_next_round \"`echo \"X$dep\" | sed -e 's/^X-l//'`\n+                    ;;\n+                  *.la)\n+                                                                                names_next_round=\"$names_next_round \"`echo \"X$dep\" | sed -e 's,^X.*/,,' -e 's,^lib,,' -e 's,\\.la$,,'`\n+                    ;;\n+                  *)\n+                                        LIBGMP=\"${LIBGMP}${LIBGMP:+ }$dep\"\n+                    LTLIBGMP=\"${LTLIBGMP}${LTLIBGMP:+ }$dep\"\n+                    ;;\n+                esac\n+              done\n+            fi\n+          else\n+                                                            if test \"x$lib_type\" = \"xauto\" || test \"x$lib_type\" = \"xshared\"; then\n+              LIBGMP=\"${LIBGMP}${LIBGMP:+ }-l$name\"\n+              LTLIBGMP=\"${LTLIBGMP}${LTLIBGMP:+ }-l$name\"\n+            else\n+              LIBGMP=\"${LIBGMP}${LIBGMP:+ }-l:lib$name.$libext\"\n+              LTLIBGMP=\"${LTLIBGMP}${LTLIBGMP:+ }-l:lib$name.$libext\"\n+            fi\n+          fi\n+        fi\n+      fi\n+    done\n+  done\n+  if test \"X$rpathdirs\" != \"X\"; then\n+    if test -n \"$hardcode_libdir_separator\"; then\n+                        alldirs=\n+      for found_dir in $rpathdirs; do\n+        alldirs=\"${alldirs}${alldirs:+$hardcode_libdir_separator}$found_dir\"\n+      done\n+            acl_save_libdir=\"$libdir\"\n+      libdir=\"$alldirs\"\n+      eval flag=\\\"$hardcode_libdir_flag_spec\\\"\n+      libdir=\"$acl_save_libdir\"\n+      LIBGMP=\"${LIBGMP}${LIBGMP:+ }$flag\"\n+    else\n+            for found_dir in $rpathdirs; do\n+        acl_save_libdir=\"$libdir\"\n+        libdir=\"$found_dir\"\n+        eval flag=\\\"$hardcode_libdir_flag_spec\\\"\n+        libdir=\"$acl_save_libdir\"\n+        LIBGMP=\"${LIBGMP}${LIBGMP:+ }$flag\"\n+      done\n+    fi\n+  fi\n+  if test \"X$ltrpathdirs\" != \"X\"; then\n+            for found_dir in $ltrpathdirs; do\n+      LTLIBGMP=\"${LTLIBGMP}${LTLIBGMP:+ }-R$found_dir\"\n+    done\n+  fi\n+\n+\n+        ac_save_CPPFLAGS=\"$CPPFLAGS\"\n+\n+  for element in $INCGMP; do\n+    haveit=\n+    for x in $CPPFLAGS; do\n+\n+  acl_save_prefix=\"$prefix\"\n+  prefix=\"$acl_final_prefix\"\n+  acl_save_exec_prefix=\"$exec_prefix\"\n+  exec_prefix=\"$acl_final_exec_prefix\"\n+  eval x=\\\"$x\\\"\n+  exec_prefix=\"$acl_save_exec_prefix\"\n+  prefix=\"$acl_save_prefix\"\n+\n+      if test \"X$x\" = \"X$element\"; then\n+        haveit=yes\n+        break\n+      fi\n+    done\n+    if test -z \"$haveit\"; then\n+      CPPFLAGS=\"${CPPFLAGS}${CPPFLAGS:+ }$element\"\n+    fi\n+  done\n+\n+\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for libgmp\" >&5\n+$as_echo_n \"checking for libgmp... \" >&6; }\n+if ${ac_cv_libgmp+:} false; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+\n+    ac_save_LIBS=\"$LIBS\"\n+    LIBS=\"$LIBS $LIBGMP\"\n+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+#include <gmp.h>\n+int\n+main ()\n+{\n+mpz_t n;\n+                       mpz_init (n);\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+if ac_fn_c_try_link \"$LINENO\"; then :\n+  ac_cv_libgmp=yes\n+else\n+  ac_cv_libgmp=no\n+fi\n+rm -f core conftest.err conftest.$ac_objext \\\n+    conftest$ac_exeext conftest.$ac_ext\n+    LIBS=\"$ac_save_LIBS\"\n+\n+fi\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_libgmp\" >&5\n+$as_echo \"$ac_cv_libgmp\" >&6; }\n+  if test \"$ac_cv_libgmp\" = yes; then\n+    HAVE_LIBGMP=yes\n+\n+$as_echo \"#define HAVE_LIBGMP 1\" >>confdefs.h\n+\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking how to link with libgmp\" >&5\n+$as_echo_n \"checking how to link with libgmp... \" >&6; }\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $LIBGMP\" >&5\n+$as_echo \"$LIBGMP\" >&6; }\n+  else\n+    HAVE_LIBGMP=no\n+            CPPFLAGS=\"$ac_save_CPPFLAGS\"\n+    LIBGMP=\n+    LTLIBGMP=\n+  fi\n+\n+\n+\n+\n+\n+\n+\n \n # Check whether --with-mpfr was given.\n if test \"${with_mpfr+set}\" = set; then :"
    },
    {
      "sha": "0264a4f2c9c9950e55ae39216603aa3a3920b60a",
      "filename": "gdb/configure.ac",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2c947d9bc2ff3b84f1676b83577fe1bba05b4a5f/gdb/configure.ac",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2c947d9bc2ff3b84f1676b83577fe1bba05b4a5f/gdb/configure.ac",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/configure.ac?ref=2c947d9bc2ff3b84f1676b83577fe1bba05b4a5f",
      "patch": "@@ -683,6 +683,11 @@ else\n   fi\n fi\n \n+# Verify that we have a usable GMP library.\n+AC_LIB_HAVE_LINKFLAGS([gmp], [], [#include <gmp.h>],\n+                      [mpz_t n;\n+                       mpz_init (n);])\n+\n AC_ARG_WITH(mpfr,\n   AS_HELP_STRING([--with-mpfr], [include MPFR support (auto/yes/no)]),\n   [], [with_mpfr=auto])"
    }
  ]
}