{
  "sha": "f2a13264fbcf991d553488750280413a818545ed",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ZjJhMTMyNjRmYmNmOTkxZDU1MzQ4ODc1MDI4MDQxM2E4MTg1NDVlZA==",
  "commit": {
    "author": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-09-09T03:31:27Z"
    },
    "committer": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-09-09T03:33:32Z"
    },
    "message": "sim: ppc: switch to common warning flags\n\nNow that the ppc code has been cleaned up enough to use the same set\nof warning flags as the common code, delete the ppc-specific configure\nlogic so we can leverage what the common code already defined for us.",
    "tree": {
      "sha": "76b54cc33758bf09f813db3ba116e6b852feee5a",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/76b54cc33758bf09f813db3ba116e6b852feee5a"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/f2a13264fbcf991d553488750280413a818545ed",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/f2a13264fbcf991d553488750280413a818545ed",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/f2a13264fbcf991d553488750280413a818545ed",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/f2a13264fbcf991d553488750280413a818545ed/comments",
  "author": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "81f839676d98024f6c0a6609866bfa81b5f35325",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/81f839676d98024f6c0a6609866bfa81b5f35325",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/81f839676d98024f6c0a6609866bfa81b5f35325"
    }
  ],
  "stats": {
    "total": 111,
    "additions": 2,
    "deletions": 109
  },
  "files": [
    {
      "sha": "b0d2ae99a04e2111d65ddd43be5d9d274c710ca1",
      "filename": "sim/ppc/Makefile.in",
      "status": "modified",
      "additions": 2,
      "deletions": 3,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f2a13264fbcf991d553488750280413a818545ed/sim/ppc/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f2a13264fbcf991d553488750280413a818545ed/sim/ppc/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ppc/Makefile.in?ref=f2a13264fbcf991d553488750280413a818545ed",
      "patch": "@@ -68,7 +68,6 @@ FLOAT_CFLAGS = @sim_float@\n MONITOR_CFLAGS = @sim_monitor@\n MODEL_CFLAGS = @sim_model@ @sim_default_model@ @sim_model_issue@\n TERMIO_CFLAGS = @sim_termio@\n-WARNING_CFLAGS = @sim_warnings@\n DEVZERO_CFLAGS = @sim_devzero@\n CONFIG_CFLAGS = \\\n   $(SMP_CFLAGS) \\\n@@ -83,9 +82,9 @@ CONFIG_CFLAGS = \\\n   $(DEVZERO_CFLAGS)\n SIM_FPU_CFLAGS = @sim_fpu_cflags@\n \n-STD_CFLAGS\t= $(CFLAGS) $(WERROR_CFLAGS) $(INLINE_CFLAGS) $(CONFIG_CFLAGS) $(WARNING_CFLAGS) $(INCLUDES) $(INTL_CFLAGS) $(SIM_FPU_CFLAGS)\n+STD_CFLAGS\t= $(CFLAGS) $(WERROR_CFLAGS) $(INLINE_CFLAGS) $(CONFIG_CFLAGS) $(WARN_CFLAGS) $(INCLUDES) $(INTL_CFLAGS) $(SIM_FPU_CFLAGS)\n NOWARN_CFLAGS\t= $(CFLAGS) $(INLINE_CFLAGS) $(CONFIG_CFLAGS) $(INCLUDES) $(SIM_FPU_CFLAGS)\n-BUILD_CFLAGS\t= $(CFLAGS_FOR_BUILD) $(INCLUDES) $(WARNING_CFLAGS)\n+BUILD_CFLAGS\t= $(CFLAGS_FOR_BUILD) $(INCLUDES) $(WARN_CFLAGS)\n \n LIBS = $(COMMON_LIBS) @LIBS@\n "
    },
    {
      "sha": "7b41344fb05a4c0846714892eca2a8c228c1b65e",
      "filename": "sim/ppc/configure",
      "status": "modified",
      "additions": 0,
      "deletions": 62,
      "changes": 62,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f2a13264fbcf991d553488750280413a818545ed/sim/ppc/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f2a13264fbcf991d553488750280413a818545ed/sim/ppc/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ppc/configure?ref=f2a13264fbcf991d553488750280413a818545ed",
      "patch": "@@ -651,7 +651,6 @@ sim_switch\n sim_opcode\n sim_config\n sim_line_nr\n-sim_warnings\n EGREP\n GREP\n CPP\n@@ -726,7 +725,6 @@ enable_sim_packages\n enable_sim_smp\n enable_sim_switch\n enable_sim_timebase\n-enable_sim_warnings\n enable_sim_xor_endian\n '\n       ac_precious_vars='build_alias\n@@ -1365,7 +1363,6 @@ Optional Features:\n   --enable-sim-smp=n\t\t\tSpecify number of processors to configure for.\n   --enable-sim-switch\t\t\tUse a switch instead of a table for instruction call.\n   --enable-sim-timebase\t\t\tSpecify whether the PPC timebase is supported.\n-  --enable-sim-warnings=opts\t\tExtra CFLAGS for turning on compiler warnings except for idecode.o, semantics.o and psim.o\n   --enable-sim-xor-endian=n\t\tSpecify number bytes involved in PowerPC XOR bi-endian mode (default 8).\n \n Some influential environment variables:\n@@ -3478,64 +3475,6 @@ else\n fi\n \n \n-sim_warnings=\"-Wall -Wdeclaration-after-statement -Wpointer-arith\n--Wno-unused -Wunused-value -Wunused-function\n--Wno-switch -Wno-char-subscripts\n--Wempty-body -Wunused-but-set-parameter\n--Wno-error=maybe-uninitialized\n--Wmissing-declarations\n--Wmissing-prototypes\n--Wdeclaration-after-statement -Wmissing-parameter-type\n--Wpointer-sign\n--Wold-style-declaration -Wold-style-definition\n-\"\n-# Enable -Wno-format by default when using gcc on mingw since many\n-# GCC versions complain about %I64.\n-case \"${host}\" in\n-  *-*-mingw32*) sim_warnings=\"$sim_warnings -Wno-format\" ;;\n-  *) sim_warnings=\"$sim_warnings -Wformat-nonliteral\" ;;\n-esac\n-# Check whether --enable-sim-warnings was given.\n-if test \"${enable_sim_warnings+set}\" = set; then :\n-  enableval=$enable_sim_warnings; case \"${enableval}\" in\n-  yes)\t;;\n-  no)\tsim_warnings=\"-w\";;\n-  *)\tsim_warnings=`echo \"${enableval}\" | sed -e \"s/,/ /g\"`;;\n-esac\n-if test x\"$silent\" != x\"yes\" && test x\"$sim_warnings\" != x\"\"; then\n-  echo \"Setting warning flags = $sim_warnings\" 6>&1\n-fi\n-fi\n-if test \"x${sim_warnings}\" != x -a \"x$GCC\" = xyes; then\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking compiler warning flags\" >&5\n-$as_echo_n \"checking compiler warning flags... \" >&6; }\n-  build_warnings=\"${sim_warnings}\"\n-  sim_warnings=\n-  for w in ${build_warnings}; do\n-        saved_CFLAGS=\"$CFLAGS\"\n-    CFLAGS=\"$CFLAGS -Werror $w\"\n-    cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-\n-int\n-main ()\n-{\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n-  sim_warnings=\"${sim_warnings} $w\"\n-fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-    CFLAGS=\"$saved_CFLAGS\"\n-  done\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: ${sim_warnings}\" >&5\n-$as_echo \"${sim_warnings}\" >&6; }\n-fi\n-\n-\n # Check whether --enable-sim-xor-endian was given.\n if test \"${enable_sim_xor_endian+set}\" = set; then :\n   enableval=$enable_sim_xor_endian; case \"${enableval}\" in\n@@ -4300,7 +4239,6 @@ fi\n \n \n \n-\n \n \n ac_config_files=\"$ac_config_files Makefile\""
    },
    {
      "sha": "e264c8763865bd26cb369f22ad77d2517770e15f",
      "filename": "sim/ppc/configure.ac",
      "status": "modified",
      "additions": 0,
      "deletions": 44,
      "changes": 44,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f2a13264fbcf991d553488750280413a818545ed/sim/ppc/configure.ac",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f2a13264fbcf991d553488750280413a818545ed/sim/ppc/configure.ac",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ppc/configure.ac?ref=f2a13264fbcf991d553488750280413a818545ed",
      "patch": "@@ -418,49 +418,6 @@ if test x\"$silent\" != x\"yes\" && test x\"$sim_timebase\" != x\"\"; then\n fi],[sim_timebase=\"\"])dnl\n \n \n-dnl TODO: Switch to common $(WARN_CFLAGS).\n-sim_warnings=\"-Wall -Wdeclaration-after-statement -Wpointer-arith\n--Wno-unused -Wunused-value -Wunused-function\n--Wno-switch -Wno-char-subscripts\n--Wempty-body -Wunused-but-set-parameter\n--Wno-error=maybe-uninitialized\n--Wmissing-declarations\n--Wmissing-prototypes\n--Wdeclaration-after-statement -Wmissing-parameter-type\n--Wpointer-sign\n--Wold-style-declaration -Wold-style-definition\n-\"\n-# Enable -Wno-format by default when using gcc on mingw since many\n-# GCC versions complain about %I64.\n-case \"${host}\" in\n-  *-*-mingw32*) sim_warnings=\"$sim_warnings -Wno-format\" ;;\n-  *) sim_warnings=\"$sim_warnings -Wformat-nonliteral\" ;;\n-esac\n-AC_ARG_ENABLE(sim-warnings,\n-[  --enable-sim-warnings=opts\t\tExtra CFLAGS for turning on compiler warnings except for idecode.o, semantics.o and psim.o],\n-[case \"${enableval}\" in\n-  yes)\t;;\n-  no)\tsim_warnings=\"-w\";;\n-  *)\tsim_warnings=`echo \"${enableval}\" | sed -e \"s/,/ /g\"`;;\n-esac\n-if test x\"$silent\" != x\"yes\" && test x\"$sim_warnings\" != x\"\"; then\n-  echo \"Setting warning flags = $sim_warnings\" 6>&1\n-fi])dnl\n-if test \"x${sim_warnings}\" != x -a \"x$GCC\" = xyes; then\n-  AC_MSG_CHECKING(compiler warning flags)\n-  build_warnings=\"${sim_warnings}\"\n-  sim_warnings=\n-  for w in ${build_warnings}; do\n-    dnl Check that GCC accepts it\n-    saved_CFLAGS=\"$CFLAGS\"\n-    CFLAGS=\"$CFLAGS -Werror $w\"\n-    AC_TRY_COMPILE([],[],sim_warnings=\"${sim_warnings} $w\",)\n-    CFLAGS=\"$saved_CFLAGS\"\n-  done\n-  AC_MSG_RESULT(${sim_warnings})\n-fi\n-\n-\n AC_ARG_ENABLE(sim-xor-endian,\n [  --enable-sim-xor-endian=n\t\tSpecify number bytes involved in PowerPC XOR bi-endian mode (default 8).],\n [case \"${enableval}\" in\n@@ -663,7 +620,6 @@ else\n   rm -rf $tempdir\n fi\n \n-AC_SUBST(sim_warnings)\n AC_SUBST(sim_line_nr)\n AC_SUBST(sim_config)\n AC_SUBST(sim_opcode)"
    }
  ]
}