{
  "sha": "202e762b322444344827acbf98162fcb2910e0dd",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MjAyZTc2MmIzMjI0NDQzNDQ4MjdhY2JmOTgxNjJmY2IyOTEwZTBkZA==",
  "commit": {
    "author": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2020-01-11T02:02:11Z"
    },
    "committer": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2020-01-13T01:42:05Z"
    },
    "message": "ubsan: fr30: left shift of negative value\n\ncpu/\n\t* fr30.cpu (f-disp9, f-disp10, f-s10, f-rel9, f-rel12): Don't\n\tleft shift signed values.\nopcodes/\n\t* fr30-ibld.c: Regenerate.",
    "tree": {
      "sha": "16e2e65d75ba1e4fb0c66277c2955eb8fd2c322a",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/16e2e65d75ba1e4fb0c66277c2955eb8fd2c322a"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/202e762b322444344827acbf98162fcb2910e0dd",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/202e762b322444344827acbf98162fcb2910e0dd",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/202e762b322444344827acbf98162fcb2910e0dd",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/202e762b322444344827acbf98162fcb2910e0dd/comments",
  "author": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "7ef412cf72a197d68e532604cc1fa21351adc858",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/7ef412cf72a197d68e532604cc1fa21351adc858",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/7ef412cf72a197d68e532604cc1fa21351adc858"
    }
  ],
  "stats": {
    "total": 29,
    "additions": 19,
    "deletions": 10
  },
  "files": [
    {
      "sha": "cd40af4113209f8687cedb24476672630a832b0f",
      "filename": "cpu/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/202e762b322444344827acbf98162fcb2910e0dd/cpu/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/202e762b322444344827acbf98162fcb2910e0dd/cpu/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/cpu/ChangeLog?ref=202e762b322444344827acbf98162fcb2910e0dd",
      "patch": "@@ -1,3 +1,8 @@\n+2020-01-13  Alan Modra  <amodra@gmail.com>\n+\n+\t* fr30.cpu (f-disp9, f-disp10, f-s10, f-rel9, f-rel12): Don't\n+\tleft shift signed values.\n+\n 2020-01-06  Alan Modra  <amodra@gmail.com>\n \n \t* m32c.cpu (f-dsp-8-u16, f-dsp-8-s16): Rearrange to mask any sign"
    },
    {
      "sha": "07bf1daf119bb40c366104e116911723399bc46d",
      "filename": "cpu/fr30.cpu",
      "status": "modified",
      "additions": 5,
      "deletions": 5,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/202e762b322444344827acbf98162fcb2910e0dd/cpu/fr30.cpu",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/202e762b322444344827acbf98162fcb2910e0dd/cpu/fr30.cpu",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/cpu/fr30.cpu?ref=202e762b322444344827acbf98162fcb2910e0dd",
      "patch": "@@ -193,23 +193,23 @@\n (df  f-disp8     \"8 bit signed offset\"   ()  4  8 INT #f #f)\n (df  f-disp9     \"9 bit signed offset\"   ()  4  8 INT\n     ((value pc) (sra WI value (const 1)))\n-    ((value pc) (sll WI value (const 1)))\n+    ((value pc) (mul WI value (const 2)))\n )\n (df  f-disp10    \"10 bit signed offset\"  ()  4  8 INT\n      ((value pc) (sra WI value (const 2)))\n-     ((value pc) (sll WI value (const 2)))\n+     ((value pc) (mul WI value (const 4)))\n )\n (df  f-s10       \"10 bit signed offset\"  ()  8  8 INT\n      ((value pc) (sra WI value (const 2)))\n-     ((value pc) (sll WI value (const 2)))\n+     ((value pc) (mul WI value (const 4)))\n )\n (df  f-u10       \"10 bit unsigned offset\" ()  8  8 UINT\n      ((value pc) (srl UWI value (const 2)))\n      ((value pc) (sll UWI value (const 2)))\n )\n (df  f-rel9 \"9 pc relative signed offset\" (PCREL-ADDR) 8 8 INT\n      ((value pc) (sra WI (sub WI value (add WI pc (const 2))) (const 1)))\n-     ((value pc) (add WI (sll WI value (const 1)) (add WI pc (const 2))))\n+     ((value pc) (add WI (mul WI value (const 2)) (add WI pc (const 2))))\n )\n (dnf f-dir8      \"8  bit direct address\"  ()  8  8)\n (df  f-dir9      \"9  bit direct address\"  ()  8  8 UINT\n@@ -222,7 +222,7 @@\n )\n (df  f-rel12     \"12 bit pc relative signed offset\" (PCREL-ADDR) 5 11 INT\n      ((value pc) (sra WI (sub WI value (add WI pc (const 2))) (const 1)))\n-     ((value pc) (add WI (sll WI value (const 1)) (add WI pc (const 2))))\n+     ((value pc) (add WI (mul WI value (const 2)) (add WI pc (const 2))))\n )\n \n (dnf f-reglist_hi_st  \"8 bit register mask for stm\" () 8 8)"
    },
    {
      "sha": "feeb7c55357227efc12b7d80f9f352572d8cdae1",
      "filename": "opcodes/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/202e762b322444344827acbf98162fcb2910e0dd/opcodes/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/202e762b322444344827acbf98162fcb2910e0dd/opcodes/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/ChangeLog?ref=202e762b322444344827acbf98162fcb2910e0dd",
      "patch": "@@ -1,3 +1,7 @@\n+2020-01-13  Alan Modra  <amodra@gmail.com>\n+\n+\t* fr30-ibld.c: Regenerate.\n+\n 2020-01-13  Alan Modra  <amodra@gmail.com>\n \n \t* xgate-dis.c (print_insn): Don't left shift signed value."
    },
    {
      "sha": "ea4ea0a6aac9dc4e26b417b1be3677cb2334aa47",
      "filename": "opcodes/fr30-ibld.c",
      "status": "modified",
      "additions": 5,
      "deletions": 5,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/202e762b322444344827acbf98162fcb2910e0dd/opcodes/fr30-ibld.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/202e762b322444344827acbf98162fcb2910e0dd/opcodes/fr30-ibld.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/fr30-ibld.c?ref=202e762b322444344827acbf98162fcb2910e0dd",
      "patch": "@@ -831,7 +831,7 @@ fr30_cgen_extract_operand (CGEN_CPU_DESC cd,\n       {\n         long value;\n         length = extract_normal (cd, ex_info, insn_value, 0|(1<<CGEN_IFLD_SIGNED), 0, 4, 8, 16, total_length, pc, & value);\n-        value = ((value) << (2));\n+        value = ((value) * (4));\n         fields->f_disp10 = value;\n       }\n       break;\n@@ -842,7 +842,7 @@ fr30_cgen_extract_operand (CGEN_CPU_DESC cd,\n       {\n         long value;\n         length = extract_normal (cd, ex_info, insn_value, 0|(1<<CGEN_IFLD_SIGNED), 0, 4, 8, 16, total_length, pc, & value);\n-        value = ((value) << (1));\n+        value = ((value) * (2));\n         fields->f_disp9 = value;\n       }\n       break;\n@@ -867,15 +867,15 @@ fr30_cgen_extract_operand (CGEN_CPU_DESC cd,\n       {\n         long value;\n         length = extract_normal (cd, ex_info, insn_value, 0|(1<<CGEN_IFLD_SIGNED)|(1<<CGEN_IFLD_PCREL_ADDR), 0, 5, 11, 16, total_length, pc, & value);\n-        value = ((((value) << (1))) + (((pc) + (2))));\n+        value = ((((value) * (2))) + (((pc) + (2))));\n         fields->f_rel12 = value;\n       }\n       break;\n     case FR30_OPERAND_LABEL9 :\n       {\n         long value;\n         length = extract_normal (cd, ex_info, insn_value, 0|(1<<CGEN_IFLD_SIGNED)|(1<<CGEN_IFLD_PCREL_ADDR), 0, 8, 8, 16, total_length, pc, & value);\n-        value = ((((value) << (1))) + (((pc) + (2))));\n+        value = ((((value) * (2))) + (((pc) + (2))));\n         fields->f_rel9 = value;\n       }\n       break;\n@@ -905,7 +905,7 @@ fr30_cgen_extract_operand (CGEN_CPU_DESC cd,\n       {\n         long value;\n         length = extract_normal (cd, ex_info, insn_value, 0|(1<<CGEN_IFLD_SIGNED), 0, 8, 8, 16, total_length, pc, & value);\n-        value = ((value) << (2));\n+        value = ((value) * (4));\n         fields->f_s10 = value;\n       }\n       break;"
    }
  ]
}