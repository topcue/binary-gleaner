{
  "sha": "1d942ae90810156b9875ea3e11754ab447c748db",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MWQ5NDJhZTkwODEwMTU2Yjk4NzVlYTNlMTE3NTRhYjQ0N2M3NDhkYg==",
  "commit": {
    "author": {
      "name": "Jan Beulich",
      "email": "jbeulich@suse.com",
      "date": "2019-07-17T07:15:49Z"
    },
    "committer": {
      "name": "Jan Beulich",
      "email": "jbeulich@suse.com",
      "date": "2019-07-17T07:15:49Z"
    },
    "message": "x86: drop stale Mem enumerator\n\nThis was supposed to also be removed by c48dadc9a8 ('x86: drop \"mem\"\noperand type attribute').  It's odd enough that this hasn't caused\nbuild issues, considering the careful use of OTunused (apparently to\navoid \"missing initializer\" warnings).\n\nTo avoid such happening again introduce compile time consistency\nchecks.",
    "tree": {
      "sha": "f8d77767f8a3400f8b0d5aa132f1bd93262764ee",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/f8d77767f8a3400f8b0d5aa132f1bd93262764ee"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/1d942ae90810156b9875ea3e11754ab447c748db",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/1d942ae90810156b9875ea3e11754ab447c748db",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/1d942ae90810156b9875ea3e11754ab447c748db",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/1d942ae90810156b9875ea3e11754ab447c748db/comments",
  "author": {
    "login": "jbeulich",
    "id": 5610135,
    "node_id": "MDQ6VXNlcjU2MTAxMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5610135?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jbeulich",
    "html_url": "https://github.com/jbeulich",
    "followers_url": "https://api.github.com/users/jbeulich/followers",
    "following_url": "https://api.github.com/users/jbeulich/following{/other_user}",
    "gists_url": "https://api.github.com/users/jbeulich/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jbeulich/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jbeulich/subscriptions",
    "organizations_url": "https://api.github.com/users/jbeulich/orgs",
    "repos_url": "https://api.github.com/users/jbeulich/repos",
    "events_url": "https://api.github.com/users/jbeulich/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jbeulich/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "jbeulich",
    "id": 5610135,
    "node_id": "MDQ6VXNlcjU2MTAxMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5610135?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jbeulich",
    "html_url": "https://github.com/jbeulich",
    "followers_url": "https://api.github.com/users/jbeulich/followers",
    "following_url": "https://api.github.com/users/jbeulich/following{/other_user}",
    "gists_url": "https://api.github.com/users/jbeulich/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jbeulich/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jbeulich/subscriptions",
    "organizations_url": "https://api.github.com/users/jbeulich/orgs",
    "repos_url": "https://api.github.com/users/jbeulich/repos",
    "events_url": "https://api.github.com/users/jbeulich/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jbeulich/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "bd7918379d2688898dfb29851f2019d2a7a70959",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/bd7918379d2688898dfb29851f2019d2a7a70959",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/bd7918379d2688898dfb29851f2019d2a7a70959"
    }
  ],
  "stats": {
    "total": 28,
    "additions": 24,
    "deletions": 4
  },
  "files": [
    {
      "sha": "254bc091f6a9896d9112d4738b250d00fe747c4b",
      "filename": "opcodes/ChangeLog",
      "status": "modified",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/1d942ae90810156b9875ea3e11754ab447c748db/opcodes/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/1d942ae90810156b9875ea3e11754ab447c748db/opcodes/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/ChangeLog?ref=1d942ae90810156b9875ea3e11754ab447c748db",
      "patch": "@@ -1,3 +1,11 @@\n+2019-07-17  Jan Beulich  <jbeulich@suse.com>\n+\n+\t* i386-gen.c (static_assert): Define.\n+\t(main): Use it.\n+\t* i386-opc.h (Opcode_Modifier_Max): Rename to ...\n+\t(Opcode_Modifier_Num): ... this.\n+\t(Mem): Delete.\n+\n 2019-07-16  Jan Beulich  <jbeulich@suse.com>\n \n \t* i386-gen.c (operand_types): Move RegMem ..."
    },
    {
      "sha": "0c7ea10e2324461070f9bca0c025b3e1dabc12e2",
      "filename": "opcodes/i386-gen.c",
      "status": "modified",
      "additions": 15,
      "deletions": 1,
      "changes": 16,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/1d942ae90810156b9875ea3e11754ab447c748db/opcodes/i386-gen.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/1d942ae90810156b9875ea3e11754ab447c748db/opcodes/i386-gen.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/i386-gen.c?ref=1d942ae90810156b9875ea3e11754ab447c748db",
      "patch": "@@ -30,6 +30,10 @@\n #include <libintl.h>\n #define _(String) gettext (String)\n \n+/* Build-time checks are preferrable over runtime ones.  Use this construct\n+   in preference where possible.  */\n+#define static_assert(e) ((void)sizeof (struct { int _:1 - 2 * !(e); }))\n+\n static const char *program_name = NULL;\n static int debug = 0;\n \n@@ -1665,9 +1669,13 @@ main (int argc, char **argv)\n \n   /* Check the unused bitfield in i386_cpu_flags.  */\n #ifdef CpuUnused\n+  static_assert (ARRAY_SIZE (cpu_flags) == CpuMax + 2);\n+\n   if ((cpumax - 1) != CpuMax)\n     fail (_(\"CpuMax != %d!\\n\"), cpumax);\n #else\n+  static_assert (ARRAY_SIZE (cpu_flags) == CpuMax + 1);\n+\n   if (cpumax != CpuMax)\n     fail (_(\"CpuMax != %d!\\n\"), cpumax);\n \n@@ -1676,8 +1684,14 @@ main (int argc, char **argv)\n     fail (_(\"%d unused bits in i386_cpu_flags.\\n\"), c);\n #endif\n \n+  static_assert (ARRAY_SIZE (opcode_modifiers) == Opcode_Modifier_Num);\n+\n   /* Check the unused bitfield in i386_operand_type.  */\n-#ifndef OTUnused\n+#ifdef OTUnused\n+  static_assert (ARRAY_SIZE (operand_types) == OTNum + 1);\n+#else\n+  static_assert (ARRAY_SIZE (operand_types) == OTNum);\n+\n   c = OTNumOfBits - OTMax - 1;\n   if (c)\n     fail (_(\"%d unused bits in i386_operand_type.\\n\"), c);"
    },
    {
      "sha": "4246d0be59225ede4645b2cc1c460333850a6462",
      "filename": "opcodes/i386-opc.h",
      "status": "modified",
      "additions": 1,
      "deletions": 3,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/1d942ae90810156b9875ea3e11754ab447c748db/opcodes/i386-opc.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/1d942ae90810156b9875ea3e11754ab447c748db/opcodes/i386-opc.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/i386-opc.h?ref=1d942ae90810156b9875ea3e11754ab447c748db",
      "patch": "@@ -626,7 +626,7 @@ enum\n   /* Intel64.  */\n   Intel64,\n   /* The last bitfield in i386_opcode_modifier.  */\n-  Opcode_Modifier_Max\n+  Opcode_Modifier_Num\n };\n \n typedef struct i386_opcode_modifier\n@@ -757,8 +757,6 @@ enum\n   JumpAbsolute,\n   /* String insn operand with fixed es segment */\n   EsSeg,\n-  /* Memory.  */\n-  Mem,\n   /* BYTE size. */\n   Byte,\n   /* WORD size. 2 byte */"
    }
  ]
}