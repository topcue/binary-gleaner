{
  "sha": "e91488f739f0dbb93bfd9d96164c25d9674846c4",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ZTkxNDg4ZjczOWYwZGJiOTNiZmQ5ZDk2MTY0YzI1ZDk2NzQ4NDZjNA==",
  "commit": {
    "author": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-06-21T03:42:20Z"
    },
    "committer": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-06-24T00:10:08Z"
    },
    "message": "sim: cris: override getpid callback\n\nThe cris linux syscall layers assume getpid returns a constant,\nso add a custom function to provide that.",
    "tree": {
      "sha": "18b441cb6497ccdfb7062f4dc96a6cb4b7c9397d",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/18b441cb6497ccdfb7062f4dc96a6cb4b7c9397d"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/e91488f739f0dbb93bfd9d96164c25d9674846c4",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/e91488f739f0dbb93bfd9d96164c25d9674846c4",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/e91488f739f0dbb93bfd9d96164c25d9674846c4",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/e91488f739f0dbb93bfd9d96164c25d9674846c4/comments",
  "author": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "d394a6efed4723b86f8e4f09fc23f6d03a7ad835",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/d394a6efed4723b86f8e4f09fc23f6d03a7ad835",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/d394a6efed4723b86f8e4f09fc23f6d03a7ad835"
    }
  ],
  "stats": {
    "total": 13,
    "additions": 13,
    "deletions": 0
  },
  "files": [
    {
      "sha": "1f4bd8bb3c30715343ccca7df74ed432496ab3f5",
      "filename": "sim/cris/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e91488f739f0dbb93bfd9d96164c25d9674846c4/sim/cris/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e91488f739f0dbb93bfd9d96164c25d9674846c4/sim/cris/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/cris/ChangeLog?ref=e91488f739f0dbb93bfd9d96164c25d9674846c4",
      "patch": "@@ -1,3 +1,8 @@\n+2021-06-23  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* traps.c (cris_getpid): New function.\n+\t(cris_set_callbacks): Assign cris_getpid.\n+\n 2021-06-22  Mike Frysinger  <vapier@gentoo.org>\n \n \t* sim-if.c: Include sim-hw.h."
    },
    {
      "sha": "fd7f9bc7ae29e7638aa28f2f076f57ab92dc6090",
      "filename": "sim/cris/traps.c",
      "status": "modified",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e91488f739f0dbb93bfd9d96164c25d9674846c4/sim/cris/traps.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e91488f739f0dbb93bfd9d96164c25d9674846c4/sim/cris/traps.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/cris/traps.c?ref=e91488f739f0dbb93bfd9d96164c25d9674846c4",
      "patch": "@@ -3336,6 +3336,12 @@ cris_time (host_callback *cb ATTRIBUTE_UNUSED)\n   return TARGET_TIME (current_cpu_for_cb_callback);\n }\n \n+static int\n+cris_getpid (host_callback *cb ATTRIBUTE_UNUSED)\n+{\n+  return TARGET_PID;\n+}\n+\n /* Set target-specific callback data. */\n \n void\n@@ -3345,6 +3351,8 @@ cris_set_callbacks (host_callback *cb)\n   cb->syscall_map = (CB_TARGET_DEFS_MAP *) syscall_map;\n   cb->errno_map = (CB_TARGET_DEFS_MAP *) errno_map;\n \n+  cb->getpid = cris_getpid;\n+\n   /* The kernel stat64 layout.  If we see a file > 2G, the \"long\"\n      parameter to cb_store_target_endian will make st_size negative.\n      Similarly for st_ino.  FIXME: Find a 64-bit type, and use it"
    }
  ]
}