{
  "sha": "7cde5fc2ec2e32e8a81ac613d26cf86bf8623816",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6N2NkZTVmYzJlYzJlMzJlOGE4MWFjNjEzZDI2Y2Y4NmJmODYyMzgxNg==",
  "commit": {
    "author": {
      "name": "Andrew Burgess",
      "email": "andrew.burgess@embecosm.com",
      "date": "2019-03-07T13:20:37Z"
    },
    "committer": {
      "name": "Andrew Burgess",
      "email": "andrew.burgess@embecosm.com",
      "date": "2019-03-12T19:50:43Z"
    },
    "message": "gdb/testsuite: Prepare for DejaGnu 1.6.2\n\nChanges in DejaGnu 1.6.2 mean that our testsuite will no longer run.\nThis is because of some confusion over how the gdb.exp file is\nhandled.\n\nThe gdb.exp file is really the tool init file, which is loaded from\nwithin the DejaGnu core, and it should not be loaded directly from any\nother file in the testsuite.\n\nDejaGnu tries to prevent the same library being loaded twice by\nremembering the names of library files as they are loaded.  Until\nrecently loading the tool init file in DejaGnu was very similar to\nloading a library file, as a result, loading the gdb.exp tool init\nfile simply recorded 'gdb.exp' as having been loaded, future attempts\nto load 'gdb.exp' as a library would then be ignored (as the file was\nmarked as already loaded).\n\nDejaGnu has now changed so that it supports having both a tool init\nfile and a library with the same name, something that was not possible\nbefore.  What this means however is that when the core loads the\n'gdb.exp' tool init file it no longer marks the library 'gdb.exp' as\nhaving been loaded.  When we then execute 'load_lib gdb.exp' we then\ntry to reload the 'gdb.exp' file.\n\nUnfortunately our gdb.exp file can only be loaded once.  It use of\n'rename cd builtin_cd' means that a second attempt to load this file\nwill fail.\n\nThis was discussed on the DejaGnu list here:\n   http://lists.gnu.org/archive/html/dejagnu/2019-03/msg00000.html\n\nand the suggested advice is that, unless we have some real requirement\nto load the tool init file twice, we should remove calls to 'load_lib\ngdb.exp' and rely on DejaGnu to load the file for us, which is what\nthis patch does.\n\nI've tested with native X86-64/GNU Linux and see no regressions.\n\ngdb/testsuite/ChangeLog:\n\n\t* config/default.exp: Remove 'load_lib gdb.exp'.\n\t* config/monitor.exp: Likewise.\n\t* config/sid.exp: Likewise.\n\t* config/sim.exp: Likewise.\n\t* config/slite.exp: Likewise.\n\t* config/unix.exp: Likewise.\n\t* gdb.base/default.exp: Remove unhelpful comment.",
    "tree": {
      "sha": "f4a47cff3f0c9c59958dd230720bf36bb007f3a6",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/f4a47cff3f0c9c59958dd230720bf36bb007f3a6"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/7cde5fc2ec2e32e8a81ac613d26cf86bf8623816",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/7cde5fc2ec2e32e8a81ac613d26cf86bf8623816",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/7cde5fc2ec2e32e8a81ac613d26cf86bf8623816",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/7cde5fc2ec2e32e8a81ac613d26cf86bf8623816/comments",
  "author": {
    "login": "T-J-Teru",
    "id": 475372,
    "node_id": "MDQ6VXNlcjQ3NTM3Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/475372?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/T-J-Teru",
    "html_url": "https://github.com/T-J-Teru",
    "followers_url": "https://api.github.com/users/T-J-Teru/followers",
    "following_url": "https://api.github.com/users/T-J-Teru/following{/other_user}",
    "gists_url": "https://api.github.com/users/T-J-Teru/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/T-J-Teru/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/T-J-Teru/subscriptions",
    "organizations_url": "https://api.github.com/users/T-J-Teru/orgs",
    "repos_url": "https://api.github.com/users/T-J-Teru/repos",
    "events_url": "https://api.github.com/users/T-J-Teru/events{/privacy}",
    "received_events_url": "https://api.github.com/users/T-J-Teru/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "T-J-Teru",
    "id": 475372,
    "node_id": "MDQ6VXNlcjQ3NTM3Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/475372?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/T-J-Teru",
    "html_url": "https://github.com/T-J-Teru",
    "followers_url": "https://api.github.com/users/T-J-Teru/followers",
    "following_url": "https://api.github.com/users/T-J-Teru/following{/other_user}",
    "gists_url": "https://api.github.com/users/T-J-Teru/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/T-J-Teru/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/T-J-Teru/subscriptions",
    "organizations_url": "https://api.github.com/users/T-J-Teru/orgs",
    "repos_url": "https://api.github.com/users/T-J-Teru/repos",
    "events_url": "https://api.github.com/users/T-J-Teru/events{/privacy}",
    "received_events_url": "https://api.github.com/users/T-J-Teru/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "3a3508220eecf27e1952a73cd3ea6d6314ce8e1d",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/3a3508220eecf27e1952a73cd3ea6d6314ce8e1d",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/3a3508220eecf27e1952a73cd3ea6d6314ce8e1d"
    }
  ],
  "stats": {
    "total": 25,
    "additions": 12,
    "deletions": 13
  },
  "files": [
    {
      "sha": "15fbbe1b47b1320806e464f61baa09025047af43",
      "filename": "gdb/testsuite/ChangeLog",
      "status": "modified",
      "additions": 10,
      "deletions": 0,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7cde5fc2ec2e32e8a81ac613d26cf86bf8623816/gdb/testsuite/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7cde5fc2ec2e32e8a81ac613d26cf86bf8623816/gdb/testsuite/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/ChangeLog?ref=7cde5fc2ec2e32e8a81ac613d26cf86bf8623816",
      "patch": "@@ -1,3 +1,13 @@\n+2019-03-12  Andrew Burgess  <andrew.burgess@embecosm.com>\n+\n+\t* config/default.exp: Remove 'load_lib gdb.exp'.\n+\t* config/monitor.exp: Likewise.\n+\t* config/sid.exp: Likewise.\n+\t* config/sim.exp: Likewise.\n+\t* config/slite.exp: Likewise.\n+\t* config/unix.exp: Likewise.\n+\t* gdb.base/default.exp: Remove unhelpful comment.\n+\n 2019-03-06  Andrew Burgess  <andrew.burgess@embecosm.com>\n \n \t* gdb.fortran/type-kinds.exp: Extend to cover TYPE*SIZE cases."
    },
    {
      "sha": "325a58851ec6e6bc288b9e5543475d92c4ebe28d",
      "filename": "gdb/testsuite/config/default.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7cde5fc2ec2e32e8a81ac613d26cf86bf8623816/gdb/testsuite/config/default.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7cde5fc2ec2e32e8a81ac613d26cf86bf8623816/gdb/testsuite/config/default.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/config/default.exp?ref=7cde5fc2ec2e32e8a81ac613d26cf86bf8623816",
      "patch": "@@ -13,4 +13,4 @@\n # You should have received a copy of the GNU General Public License\n # along with this program.  If not, see <http://www.gnu.org/licenses/>.\n \n-load_lib gdb.exp\n+# Nothing extra is needed here."
    },
    {
      "sha": "48a01feb7061516d493ad5a97bd18ac8b663f8c6",
      "filename": "gdb/testsuite/config/monitor.exp",
      "status": "modified",
      "additions": 0,
      "deletions": 3,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7cde5fc2ec2e32e8a81ac613d26cf86bf8623816/gdb/testsuite/config/monitor.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7cde5fc2ec2e32e8a81ac613d26cf86bf8623816/gdb/testsuite/config/monitor.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/config/monitor.exp?ref=7cde5fc2ec2e32e8a81ac613d26cf86bf8623816",
      "patch": "@@ -14,9 +14,6 @@\n # You should have received a copy of the GNU General Public License\n # along with this program.  If not, see <http://www.gnu.org/licenses/>.\n \n-load_lib gdb.exp\n-# puts \"***** DID USE MONITOR ******\"\n-\n #\n # gdb_target_cmd\n # Send gdb the \"target\" command"
    },
    {
      "sha": "17a3ad568d9ee8382ec0b2adb91280a911455932",
      "filename": "gdb/testsuite/config/sid.exp",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7cde5fc2ec2e32e8a81ac613d26cf86bf8623816/gdb/testsuite/config/sid.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7cde5fc2ec2e32e8a81ac613d26cf86bf8623816/gdb/testsuite/config/sid.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/config/sid.exp?ref=7cde5fc2ec2e32e8a81ac613d26cf86bf8623816",
      "patch": "@@ -14,8 +14,6 @@\n # You should have received a copy of the GNU General Public License\n # along with this program.  If not, see <http://www.gnu.org/licenses/>.\n \n-load_lib gdb.exp\n-\n proc sid_start {} {\n     global verbose\n "
    },
    {
      "sha": "8d87e3089b04bb3cdca20b6cebf0082fa5fbc70b",
      "filename": "gdb/testsuite/config/sim.exp",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7cde5fc2ec2e32e8a81ac613d26cf86bf8623816/gdb/testsuite/config/sim.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7cde5fc2ec2e32e8a81ac613d26cf86bf8623816/gdb/testsuite/config/sim.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/config/sim.exp?ref=7cde5fc2ec2e32e8a81ac613d26cf86bf8623816",
      "patch": "@@ -14,8 +14,6 @@\n # You should have received a copy of the GNU General Public License\n # along with this program.  If not, see <http://www.gnu.org/licenses/>.\n \n-load_lib gdb.exp\n-\n #\n # gdb_target_sim\n # Set gdb to target the simulator"
    },
    {
      "sha": "ffbd9c811e83167d615868e8d5f8829880db93ae",
      "filename": "gdb/testsuite/config/slite.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7cde5fc2ec2e32e8a81ac613d26cf86bf8623816/gdb/testsuite/config/slite.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7cde5fc2ec2e32e8a81ac613d26cf86bf8623816/gdb/testsuite/config/slite.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/config/slite.exp?ref=7cde5fc2ec2e32e8a81ac613d26cf86bf8623816",
      "patch": "@@ -27,7 +27,7 @@\n # rather than being displayed by gdb.\n \n load_lib remote.exp\n-load_lib gdb.exp\n+\n set gdb_prompt \"\\\\(gdb\\\\)\"\n \n #"
    },
    {
      "sha": "770e69b4c3246578aced9863d5ab1daf88b9d96c",
      "filename": "gdb/testsuite/config/unix.exp",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7cde5fc2ec2e32e8a81ac613d26cf86bf8623816/gdb/testsuite/config/unix.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7cde5fc2ec2e32e8a81ac613d26cf86bf8623816/gdb/testsuite/config/unix.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/config/unix.exp?ref=7cde5fc2ec2e32e8a81ac613d26cf86bf8623816",
      "patch": "@@ -21,5 +21,3 @@\n # does not seem to be enough.  Try starting with 60.\n set timeout 60\n verbose \"Timeout is now $timeout seconds\" 2\n-\n-load_lib gdb.exp"
    },
    {
      "sha": "ece1428e617e20bec668a284330490e19a4d4767",
      "filename": "gdb/testsuite/gdb.base/default.exp",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7cde5fc2ec2e32e8a81ac613d26cf86bf8623816/gdb/testsuite/gdb.base/default.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7cde5fc2ec2e32e8a81ac613d26cf86bf8623816/gdb/testsuite/gdb.base/default.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/default.exp?ref=7cde5fc2ec2e32e8a81ac613d26cf86bf8623816",
      "patch": "@@ -25,8 +25,6 @@ set timeout 60\n # test default actions of gdb commands\n #\n \n-#load_lib gdb.exp\n-\n gdb_test \"add-symbol-file\" \"add-symbol-file takes a file name and an address\" \"add-symbol-file\"\n \n # test append"
    }
  ]
}