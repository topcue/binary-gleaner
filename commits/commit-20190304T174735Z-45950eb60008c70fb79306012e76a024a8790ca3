{
  "sha": "45950eb60008c70fb79306012e76a024a8790ca3",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NDU5NTBlYjYwMDA4YzcwZmI3OTMwNjAxMmU3NmEwMjRhODc5MGNhMw==",
  "commit": {
    "author": {
      "name": "Sergio Durigan Junior",
      "email": "sergiodj@redhat.com",
      "date": "2019-03-04T17:44:20Z"
    },
    "committer": {
      "name": "Sergio Durigan Junior",
      "email": "sergiodj@redhat.com",
      "date": "2019-03-04T17:47:35Z"
    },
    "message": "Use '$enable_unittest' instead of '$development' on gdbserver/configure.srv (for 'aarch64*-*-linux*' case)\n\nOn commit 8ecfd7bd4acd69213c06fac6de9af38299123547 (\"Add parameter to\nallow enabling/disabling selftests via configure\") it seems that I\nforgot to use the proper '$enable_unittest' variable when checking to\nsee whether to add selftest-related objects to 'srv_regobj'.  This\ncauses a build failure on Aarch64 when 'development=false' (which is\nthe case for the 8.3 branch) and 'enable_unittest=true'.\n\nThis patch fixes the problem by using '$enable_unittest' instead of\n'$development' when performing the check.  As a reminder, it's\nimportant to notice that '$enable_unittest's default value (i.e., when\nthe option '--enable-unit-tests' is not passed to configure) is the\nsame as '$development', so this patch doesn't affect the current\nbuild.\n\nI'd like to install this patch both on master and on the 8.3 branch.\n\nOK?\n\ngdb/gdbserver/ChangeLog:\n2019-03-04  Sergio Durigan Junior  <sergiodj@redhat.com>\n\n\t* configure.srv: Use '$enable_unittest' instead of '$development'\n\twhen checking whether to fill 'srv_regobj' on 'aarch64*-*-linux*'\n\tcase.",
    "tree": {
      "sha": "132c400d5007cf8b2e61670282787ec3c0e837c3",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/132c400d5007cf8b2e61670282787ec3c0e837c3"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/45950eb60008c70fb79306012e76a024a8790ca3",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/45950eb60008c70fb79306012e76a024a8790ca3",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/45950eb60008c70fb79306012e76a024a8790ca3",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/45950eb60008c70fb79306012e76a024a8790ca3/comments",
  "author": null,
  "committer": null,
  "parents": [
    {
      "sha": "7b63ad86ab1a56812772f266b345ecaa494ece95",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/7b63ad86ab1a56812772f266b345ecaa494ece95",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/7b63ad86ab1a56812772f266b345ecaa494ece95"
    }
  ],
  "stats": {
    "total": 8,
    "additions": 7,
    "deletions": 1
  },
  "files": [
    {
      "sha": "1cdbb63b6317987cdd2c8f11fd30e4918f398419",
      "filename": "gdb/gdbserver/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/45950eb60008c70fb79306012e76a024a8790ca3/gdb/gdbserver/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/45950eb60008c70fb79306012e76a024a8790ca3/gdb/gdbserver/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/gdbserver/ChangeLog?ref=45950eb60008c70fb79306012e76a024a8790ca3",
      "patch": "@@ -1,3 +1,9 @@\n+2019-03-04  Sergio Durigan Junior  <sergiodj@redhat.com>\n+\n+\t* configure.srv: Use '$enable_unittest' instead of '$development'\n+\twhen checking whether to fill 'srv_regobj' on 'aarch64*-*-linux*'\n+\tcase.\n+\n 2019-02-27  Tom Tromey  <tromey@adacore.com>\n \n \t* gdbreplay.c (logchar): Handle \\r\\n."
    },
    {
      "sha": "bec72e2b193554dba3373bd0661ba7527e246b46",
      "filename": "gdb/gdbserver/configure.srv",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/45950eb60008c70fb79306012e76a024a8790ca3/gdb/gdbserver/configure.srv",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/45950eb60008c70fb79306012e76a024a8790ca3/gdb/gdbserver/configure.srv",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/gdbserver/configure.srv?ref=45950eb60008c70fb79306012e76a024a8790ca3",
      "patch": "@@ -43,7 +43,7 @@ srv_linux_obj=\"linux-low.o linux-osdata.o linux-procfs.o linux-ptrace.o linux-wa\n case \"${target}\" in\n   aarch64*-*-linux*)\n \t\t\tsrv_regobj=\"arm-with-neon.o\"\n-\t\t\tif $development; then\n+\t\t\tif $enable_unittests; then\n \t\t\t  srv_regobj=\"${srv_regobj} aarch64.o\"\n \t\t\t  srv_regobj=\"${srv_regobj} linux-aarch64-tdesc-selftest.o\"\n                         fi"
    }
  ]
}