{
  "sha": "c3344b626d4c593f81a840be521d9ad47d37f979",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YzMzNDRiNjI2ZDRjNTkzZjgxYTg0MGJlNTIxZDlhZDQ3ZDM3Zjk3OQ==",
  "commit": {
    "author": {
      "name": "Jan Beulich",
      "email": "jbeulich@suse.com",
      "date": "2021-03-26T10:43:19Z"
    },
    "committer": {
      "name": "Jan Beulich",
      "email": "jbeulich@suse.com",
      "date": "2021-03-26T10:43:19Z"
    },
    "message": "x86-64: don't accept supposedly disabled MOVQ forms\n\nWhile all of MMX, SSE, and SSE2 are included in \"generic64\", they can be\nindividually disabled. There are two MOVQ forms lacking respective\nattributes. While the MMX one would get refused anyway (due to MMX\nregisters not recognized with .nommx), the assembler did happily accept\nthe SSE2 form. Add respective CPU settings to both, paralleling what the\nMOVD counterparts have.",
    "tree": {
      "sha": "d9b3c47d13a07f29a60c796023b5194e8a2a97dd",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/d9b3c47d13a07f29a60c796023b5194e8a2a97dd"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/c3344b626d4c593f81a840be521d9ad47d37f979",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/c3344b626d4c593f81a840be521d9ad47d37f979",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/c3344b626d4c593f81a840be521d9ad47d37f979",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/c3344b626d4c593f81a840be521d9ad47d37f979/comments",
  "author": {
    "login": "jbeulich",
    "id": 5610135,
    "node_id": "MDQ6VXNlcjU2MTAxMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5610135?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jbeulich",
    "html_url": "https://github.com/jbeulich",
    "followers_url": "https://api.github.com/users/jbeulich/followers",
    "following_url": "https://api.github.com/users/jbeulich/following{/other_user}",
    "gists_url": "https://api.github.com/users/jbeulich/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jbeulich/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jbeulich/subscriptions",
    "organizations_url": "https://api.github.com/users/jbeulich/orgs",
    "repos_url": "https://api.github.com/users/jbeulich/repos",
    "events_url": "https://api.github.com/users/jbeulich/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jbeulich/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "jbeulich",
    "id": 5610135,
    "node_id": "MDQ6VXNlcjU2MTAxMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5610135?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jbeulich",
    "html_url": "https://github.com/jbeulich",
    "followers_url": "https://api.github.com/users/jbeulich/followers",
    "following_url": "https://api.github.com/users/jbeulich/following{/other_user}",
    "gists_url": "https://api.github.com/users/jbeulich/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jbeulich/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jbeulich/subscriptions",
    "organizations_url": "https://api.github.com/users/jbeulich/orgs",
    "repos_url": "https://api.github.com/users/jbeulich/repos",
    "events_url": "https://api.github.com/users/jbeulich/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jbeulich/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "574d27ede49e565bc4d951ae547eeee7ae9f74bf",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/574d27ede49e565bc4d951ae547eeee7ae9f74bf",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/574d27ede49e565bc4d951ae547eeee7ae9f74bf"
    }
  ],
  "stats": {
    "total": 45,
    "additions": 41,
    "deletions": 4
  },
  "files": [
    {
      "sha": "4f6bcf7c3af915f3de27acdbc462e1ae4970ff08",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c3344b626d4c593f81a840be521d9ad47d37f979/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c3344b626d4c593f81a840be521d9ad47d37f979/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=c3344b626d4c593f81a840be521d9ad47d37f979",
      "patch": "@@ -1,3 +1,9 @@\n+2021-03-26  Jan Beulich  <jbeulich@suse.com>\n+\n+\t* testsuite/gas/i386/x86-64-nosse2.s,\n+\ttestsuite/gas/i386/x86-64-nosse2.l: New.\n+\t* testsuite/gas/i386/i386.exp: Run new test.\n+\n 2021-03-25  Abid Qadeer  <abidh@codesourcery.com>\n \n \t* testsuite/gas/nios2/brn.d: New."
    },
    {
      "sha": "e1dab453b42d73661b860180458c6cea2c313b79",
      "filename": "gas/testsuite/gas/i386/i386.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c3344b626d4c593f81a840be521d9ad47d37f979/gas/testsuite/gas/i386/i386.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c3344b626d4c593f81a840be521d9ad47d37f979/gas/testsuite/gas/i386/i386.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/i386.exp?ref=c3344b626d4c593f81a840be521d9ad47d37f979",
      "patch": "@@ -826,6 +826,7 @@ if [gas_64_check] then {\n     run_list_test \"noreg-intel64\" \"-I${srcdir}/$subdir -mintel64\"\n     run_list_test \"movx64\" \"-al\"\n     run_list_test \"cvtsi2sX\"\n+    run_list_test \"x86-64-nosse2\" \"-al\"\n     run_dump_test \"x86-64-sse4_1\"\n     run_dump_test \"x86-64-sse4_1-intel\"\n     run_dump_test \"x86-64-sse4_2\""
    },
    {
      "sha": "2404dc316ff02d5f87230a2f5c655d8657525fdd",
      "filename": "gas/testsuite/gas/i386/x86-64-nosse2.l",
      "status": "added",
      "additions": 15,
      "deletions": 0,
      "changes": 15,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c3344b626d4c593f81a840be521d9ad47d37f979/gas/testsuite/gas/i386/x86-64-nosse2.l",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c3344b626d4c593f81a840be521d9ad47d37f979/gas/testsuite/gas/i386/x86-64-nosse2.l",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/x86-64-nosse2.l?ref=c3344b626d4c593f81a840be521d9ad47d37f979",
      "patch": "@@ -0,0 +1,15 @@\n+.*: Assembler messages:\n+.*:6: Error: .*paddb.*\n+.*:7: Error: .*movq.*\n+.*:8: Error: .*movq.*\n+GAS LISTING .*\n+#...\n+[ \t]*1[ \t]+\\# Test \\.arch \\.nosse2\n+[ \t]*2[ \t]+\\.text\n+[ \t]*3[ \t]+\\.arch generic64\n+[ \t]*4[ \t]+\\.arch \\.nosse2\n+[ \t]*5[ \t]+\\?\\?\\?\\? 0F58C0   \t\taddps %xmm0, %xmm0\n+[ \t]*6[ \t]+paddb %xmm0, %xmm0\n+[ \t]*7[ \t]+movq %xmm0, %rax\n+[ \t]*8[ \t]+movq %rax, %xmm0\n+#pass"
    },
    {
      "sha": "b151ac2d6c21c187b42067bc99c5bfdecab81df8",
      "filename": "gas/testsuite/gas/i386/x86-64-nosse2.s",
      "status": "added",
      "additions": 9,
      "deletions": 0,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c3344b626d4c593f81a840be521d9ad47d37f979/gas/testsuite/gas/i386/x86-64-nosse2.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c3344b626d4c593f81a840be521d9ad47d37f979/gas/testsuite/gas/i386/x86-64-nosse2.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/x86-64-nosse2.s?ref=c3344b626d4c593f81a840be521d9ad47d37f979",
      "patch": "@@ -0,0 +1,9 @@\n+# Test .arch .nosse2\n+\t.text\n+\t.arch generic64\n+\t.arch .nosse2\n+\taddps %xmm0, %xmm0\n+\tpaddb %xmm0, %xmm0\n+\tmovq %xmm0, %rax\n+\tmovq %rax, %xmm0\n+\t.p2align 4"
    },
    {
      "sha": "0e2e94c111c7d11c80c555b97952900f4ea8ff32",
      "filename": "opcodes/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c3344b626d4c593f81a840be521d9ad47d37f979/opcodes/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c3344b626d4c593f81a840be521d9ad47d37f979/opcodes/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/ChangeLog?ref=c3344b626d4c593f81a840be521d9ad47d37f979",
      "patch": "@@ -1,3 +1,9 @@\n+2021-03-26  Jan Beulich  <jbeulich@suse.com>\n+\n+\t* i386-opc.tbl (movq): Add CpuSSE2 to SSE2 form. Add CpuMMX to\n+\tMMX form.\n+\t* i386-tbl.h: Re-generate.\n+\n 2021-03-25  Abid Qadeer  <abidh@codesourcery.com>\n \n \t* nios2-dis.c (nios2_print_insn_arg): Fix sign extension of"
    },
    {
      "sha": "49ff868527313cbd8a4e37c1a5da1dc2f63bade2",
      "filename": "opcodes/i386-opc.tbl",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c3344b626d4c593f81a840be521d9ad47d37f979/opcodes/i386-opc.tbl",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c3344b626d4c593f81a840be521d9ad47d37f979/opcodes/i386-opc.tbl",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/i386-opc.tbl?ref=c3344b626d4c593f81a840be521d9ad47d37f979",
      "patch": "@@ -972,9 +972,9 @@ movq, 0x66d6, None, CpuAVX, Modrm|Vex=1|Space0F|VexWIG|No_bSuf|No_wSuf|No_lSuf|N\n movq, 0x666e, None, CpuAVX|Cpu64, D|Modrm|Vex=1|Space0F|VexW1|No_bSuf|No_wSuf|No_lSuf|No_sSuf|No_qSuf|No_ldSuf|Size64|SSE2AVX, { Reg64|Unspecified|BaseIndex, RegXMM }\n movq, 0x0f7e, None, CpuSSE2, Prefix_0XF3|Load|Modrm|No_bSuf|No_wSuf|No_lSuf|No_sSuf|No_qSuf|No_ldSuf|NoRex64, { Unspecified|Qword|BaseIndex|RegXMM, RegXMM }\n movq, 0x0fd6, None, CpuSSE2, Prefix_0X66|Modrm|No_bSuf|No_wSuf|No_lSuf|No_sSuf|No_qSuf|No_ldSuf|NoRex64, { RegXMM, Unspecified|Qword|BaseIndex|RegXMM }\n-movq, 0x0f6e, None, Cpu64, Prefix_0X66|D|Modrm|No_bSuf|No_wSuf|No_lSuf|No_sSuf|No_qSuf|No_ldSuf|Size64, { Reg64|Unspecified|BaseIndex, RegXMM }\n+movq, 0x0f6e, None, CpuSSE2|Cpu64, Prefix_0X66|D|Modrm|No_bSuf|No_wSuf|No_lSuf|No_sSuf|No_qSuf|No_ldSuf|Size64, { Reg64|Unspecified|BaseIndex, RegXMM }\n movq, 0xf6f, None, CpuMMX, D|Modrm|No_bSuf|No_wSuf|No_lSuf|No_sSuf|No_qSuf|No_ldSuf|NoRex64, { Unspecified|Qword|BaseIndex|RegMMX, RegMMX }\n-movq, 0xf6e, None, Cpu64, D|Modrm|No_bSuf|No_wSuf|No_lSuf|No_sSuf|No_qSuf|No_ldSuf|Size64, { Reg64|Unspecified|BaseIndex, RegMMX }\n+movq, 0xf6e, None, CpuMMX|Cpu64, D|Modrm|No_bSuf|No_wSuf|No_lSuf|No_sSuf|No_qSuf|No_ldSuf|Size64, { Reg64|Unspecified|BaseIndex, RegMMX }\n // The segment register moves accept Reg64 so that a segment register\n // can be copied to a 64 bit register, and vice versa.\n movq, 0x8c, None, Cpu64, D|RegMem|Size64|No_bSuf|No_wSuf|No_lSuf|No_sSuf|No_qSuf|No_ldSuf, { SReg, Reg64 }"
    },
    {
      "sha": "72585a2b4cb48bac7b2c5c32528f4d6b226cce64",
      "filename": "opcodes/i386-tbl.h",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c3344b626d4c593f81a840be521d9ad47d37f979/opcodes/i386-tbl.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c3344b626d4c593f81a840be521d9ad47d37f979/opcodes/i386-tbl.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/i386-tbl.h?ref=c3344b626d4c593f81a840be521d9ad47d37f979",
      "patch": "@@ -9847,7 +9847,7 @@ const insn_template i386_optab[] =\n     { 1, 0, 0, 1, 0, 0, 0, 3, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0,\n       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0,\n       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },\n-    { { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+    { { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0,\n         0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n         0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n         0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -9877,7 +9877,7 @@ const insn_template i386_optab[] =\n     { 1, 0, 0, 1, 0, 0, 0, 3, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0,\n       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },\n-    { { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+    { { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0,\n         0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n         0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n         0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,"
    }
  ]
}