{
  "sha": "014d61ea14540cc524a6f75d2b925e7bb1a6d289",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MDE0ZDYxZWExNDU0MGNjNTI0YTZmNzVkMmI5MjVlN2JiMWE2ZDI4OQ==",
  "commit": {
    "author": {
      "name": "Jan Beulich",
      "email": "jbeulich@suse.com",
      "date": "2021-02-16T10:32:18Z"
    },
    "committer": {
      "name": "Jan Beulich",
      "email": "jbeulich@suse.com",
      "date": "2021-02-16T10:32:18Z"
    },
    "message": "x86: record register use for SIMD insns without respective explicit operands\n\nVZERO{ALL,UPPER} modify YMM registers despite having no operands.\n\nWhile {,V}{LD,ST}MXCSR don't modify XMM registers, MXCSR and XMMn\ncollectively form underlying machine state.",
    "tree": {
      "sha": "82d2c225bcd0707d63e1cf64f52919c5f7a0cd7a",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/82d2c225bcd0707d63e1cf64f52919c5f7a0cd7a"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/014d61ea14540cc524a6f75d2b925e7bb1a6d289",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/014d61ea14540cc524a6f75d2b925e7bb1a6d289",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/014d61ea14540cc524a6f75d2b925e7bb1a6d289",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/014d61ea14540cc524a6f75d2b925e7bb1a6d289/comments",
  "author": {
    "login": "jbeulich",
    "id": 5610135,
    "node_id": "MDQ6VXNlcjU2MTAxMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5610135?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jbeulich",
    "html_url": "https://github.com/jbeulich",
    "followers_url": "https://api.github.com/users/jbeulich/followers",
    "following_url": "https://api.github.com/users/jbeulich/following{/other_user}",
    "gists_url": "https://api.github.com/users/jbeulich/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jbeulich/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jbeulich/subscriptions",
    "organizations_url": "https://api.github.com/users/jbeulich/orgs",
    "repos_url": "https://api.github.com/users/jbeulich/repos",
    "events_url": "https://api.github.com/users/jbeulich/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jbeulich/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "jbeulich",
    "id": 5610135,
    "node_id": "MDQ6VXNlcjU2MTAxMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5610135?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jbeulich",
    "html_url": "https://github.com/jbeulich",
    "followers_url": "https://api.github.com/users/jbeulich/followers",
    "following_url": "https://api.github.com/users/jbeulich/following{/other_user}",
    "gists_url": "https://api.github.com/users/jbeulich/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jbeulich/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jbeulich/subscriptions",
    "organizations_url": "https://api.github.com/users/jbeulich/orgs",
    "repos_url": "https://api.github.com/users/jbeulich/repos",
    "events_url": "https://api.github.com/users/jbeulich/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jbeulich/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "cbe686965606262a9e4a3ca0e148d7812b368e7b",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/cbe686965606262a9e4a3ca0e148d7812b368e7b",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/cbe686965606262a9e4a3ca0e148d7812b368e7b"
    }
  ],
  "stats": {
    "total": 60,
    "additions": 60,
    "deletions": 0
  },
  "files": [
    {
      "sha": "a269303e0805337353b2542276d0f84d4c03044f",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 12,
      "deletions": 0,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/014d61ea14540cc524a6f75d2b925e7bb1a6d289/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/014d61ea14540cc524a6f75d2b925e7bb1a6d289/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=014d61ea14540cc524a6f75d2b925e7bb1a6d289",
      "patch": "@@ -1,3 +1,15 @@\n+2021-02-16  Jan Beulich  <jbeulich@suse.com>\n+\n+\t* config/tc-i386.c (output_insn): Handle ldmxcsr, stmxcsr,\n+\tvldmxcsr, vstmxcsr, vzeroall, and vzeroupper.\n+\t* testsuite/gas/i386/property-ldmxcsr.s,\n+\ttestsuite/gas/i386/property-ldmxcsr.d,\n+\ttestsuite/gas/i386/property-vldmxcsr.s,\n+\ttestsuite/gas/i386/property-vldmxcsr.d,\n+\ttestsuite/gas/i386/property-vzeroall.s,\n+\ttestsuite/gas/i386/property-vzeroall.d: New.\n+\t* testsuite/gas/i386/i386.exp: Run new tests.\n+\n 2021-02-16  Jan Beulich  <jbeulich@suse.com>\n \n \t* testsuite/gas/i386/i386.exp: Move bitness-independent property"
    },
    {
      "sha": "94783f51550fa3bebe6ff39916a61662eae0d54d",
      "filename": "gas/config/tc-i386.c",
      "status": "modified",
      "additions": 12,
      "deletions": 0,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/014d61ea14540cc524a6f75d2b925e7bb1a6d289/gas/config/tc-i386.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/014d61ea14540cc524a6f75d2b925e7bb1a6d289/gas/config/tc-i386.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/config/tc-i386.c?ref=014d61ea14540cc524a6f75d2b925e7bb1a6d289",
      "patch": "@@ -9208,10 +9208,12 @@ output_insn (void)\n \t  || i.tm.cpu_flags.bitfield.cpu687\n \t  || i.tm.cpu_flags.bitfield.cpufisttp)\n \tx86_feature_2_used |= GNU_PROPERTY_X86_FEATURE_2_X87;\n+\n       if ((i.xstate & xstate_mmx)\n \t  || i.tm.base_opcode == 0xf77 /* emms */\n \t  || i.tm.base_opcode == 0xf0e /* femms */)\n \tx86_feature_2_used |= GNU_PROPERTY_X86_FEATURE_2_MMX;\n+\n       if (i.index_reg)\n \t{\n \t  if (i.index_reg->reg_type.bitfield.zmmword)\n@@ -9221,10 +9223,20 @@ output_insn (void)\n \t  else if (i.index_reg->reg_type.bitfield.xmmword)\n \t    i.xstate |= xstate_xmm;\n \t}\n+\n+      /* vzeroall / vzeroupper */\n+      if (i.tm.base_opcode == 0x77 && i.tm.cpu_flags.bitfield.cpuavx)\n+\ti.xstate |= xstate_ymm;\n+\n       if ((i.xstate & xstate_xmm)\n+\t  /* ldmxcsr / stmxcsr */\n+\t  || (i.tm.base_opcode == 0xfae && i.tm.cpu_flags.bitfield.cpusse)\n+\t  /* vldmxcsr / vstmxcsr */\n+\t  || (i.tm.base_opcode == 0xae && i.tm.cpu_flags.bitfield.cpuavx)\n \t  || i.tm.cpu_flags.bitfield.cpuwidekl\n \t  || i.tm.cpu_flags.bitfield.cpukl)\n \tx86_feature_2_used |= GNU_PROPERTY_X86_FEATURE_2_XMM;\n+\n       if ((i.xstate & xstate_ymm) == xstate_ymm)\n \tx86_feature_2_used |= GNU_PROPERTY_X86_FEATURE_2_YMM;\n       if ((i.xstate & xstate_zmm) == xstate_zmm)"
    },
    {
      "sha": "89f62b3aeca04cada0073650a61c6df14b3a1b04",
      "filename": "gas/testsuite/gas/i386/i386.exp",
      "status": "modified",
      "additions": 3,
      "deletions": 0,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/014d61ea14540cc524a6f75d2b925e7bb1a6d289/gas/testsuite/gas/i386/i386.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/014d61ea14540cc524a6f75d2b925e7bb1a6d289/gas/testsuite/gas/i386/i386.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/i386.exp?ref=014d61ea14540cc524a6f75d2b925e7bb1a6d289",
      "patch": "@@ -725,6 +725,9 @@ if {[is_elf_format] || [istarget \"*-*-vxworks*\"]} then {\n     run_dump_test \"property-11\"\n     run_dump_test \"property-12\"\n     run_dump_test \"property-13\"\n+    run_dump_test \"property-ldmxcsr\"\n+    run_dump_test \"property-vldmxcsr\"\n+    run_dump_test \"property-vzeroall\"\n \n     if {![istarget \"*-*-dragonfly*\"]\n \t&& ![istarget \"*-*-gnu*\"]"
    },
    {
      "sha": "7fb546e42145cff11b5c3192f83420e499a27956",
      "filename": "gas/testsuite/gas/i386/property-ldmxcsr.d",
      "status": "added",
      "additions": 9,
      "deletions": 0,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/014d61ea14540cc524a6f75d2b925e7bb1a6d289/gas/testsuite/gas/i386/property-ldmxcsr.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/014d61ea14540cc524a6f75d2b925e7bb1a6d289/gas/testsuite/gas/i386/property-ldmxcsr.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/property-ldmxcsr.d?ref=014d61ea14540cc524a6f75d2b925e7bb1a6d289",
      "patch": "@@ -0,0 +1,9 @@\n+#name: i386 property ldmxcsr\n+#as: -mx86-used-note=yes --generate-missing-build-notes=no\n+#readelf: -n\n+\n+Displaying notes found in: .note.gnu.property\n+[ \t]+Owner[ \t]+Data size[ \t]+Description\n+  GNU                  0x[0-9a-f]+\tNT_GNU_PROPERTY_TYPE_0\n+      Properties: x86 ISA used: x86-64-baseline\n+\tx86 feature used: x86, XMM"
    },
    {
      "sha": "8a8a39926d8856f0f0dd36a06d90be335930340d",
      "filename": "gas/testsuite/gas/i386/property-ldmxcsr.s",
      "status": "added",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/014d61ea14540cc524a6f75d2b925e7bb1a6d289/gas/testsuite/gas/i386/property-ldmxcsr.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/014d61ea14540cc524a6f75d2b925e7bb1a6d289/gas/testsuite/gas/i386/property-ldmxcsr.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/property-ldmxcsr.s?ref=014d61ea14540cc524a6f75d2b925e7bb1a6d289",
      "patch": "@@ -0,0 +1,2 @@\n+\t.text\n+\tldmxcsr (%eax)"
    },
    {
      "sha": "b913b11f7f6ce500379f45cf5c5b67f36e7cc339",
      "filename": "gas/testsuite/gas/i386/property-vldmxcsr.d",
      "status": "added",
      "additions": 9,
      "deletions": 0,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/014d61ea14540cc524a6f75d2b925e7bb1a6d289/gas/testsuite/gas/i386/property-vldmxcsr.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/014d61ea14540cc524a6f75d2b925e7bb1a6d289/gas/testsuite/gas/i386/property-vldmxcsr.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/property-vldmxcsr.d?ref=014d61ea14540cc524a6f75d2b925e7bb1a6d289",
      "patch": "@@ -0,0 +1,9 @@\n+#name: i386 property vldmxcsr\n+#as: -mx86-used-note=yes --generate-missing-build-notes=no\n+#readelf: -n\n+\n+Displaying notes found in: .note.gnu.property\n+[ \t]+Owner[ \t]+Data size[ \t]+Description\n+  GNU                  0x[0-9a-f]+\tNT_GNU_PROPERTY_TYPE_0\n+      Properties: x86 ISA used: x86-64-baseline, x86-64-v3\n+\tx86 feature used: x86, XMM"
    },
    {
      "sha": "69071fe416b1440756e89ddc7662b62384668ee6",
      "filename": "gas/testsuite/gas/i386/property-vldmxcsr.s",
      "status": "added",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/014d61ea14540cc524a6f75d2b925e7bb1a6d289/gas/testsuite/gas/i386/property-vldmxcsr.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/014d61ea14540cc524a6f75d2b925e7bb1a6d289/gas/testsuite/gas/i386/property-vldmxcsr.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/property-vldmxcsr.s?ref=014d61ea14540cc524a6f75d2b925e7bb1a6d289",
      "patch": "@@ -0,0 +1,2 @@\n+\t.text\n+\tvldmxcsr (%eax)"
    },
    {
      "sha": "e1faee47259fddcc9a648d2755d5158ee5c65e6e",
      "filename": "gas/testsuite/gas/i386/property-vzeroall.d",
      "status": "added",
      "additions": 9,
      "deletions": 0,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/014d61ea14540cc524a6f75d2b925e7bb1a6d289/gas/testsuite/gas/i386/property-vzeroall.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/014d61ea14540cc524a6f75d2b925e7bb1a6d289/gas/testsuite/gas/i386/property-vzeroall.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/property-vzeroall.d?ref=014d61ea14540cc524a6f75d2b925e7bb1a6d289",
      "patch": "@@ -0,0 +1,9 @@\n+#name: i386 property vzeroall\n+#as: -mx86-used-note=yes --generate-missing-build-notes=no\n+#readelf: -n\n+\n+Displaying notes found in: .note.gnu.property\n+[ \t]+Owner[ \t]+Data size[ \t]+Description\n+  GNU                  0x[0-9a-f]+\tNT_GNU_PROPERTY_TYPE_0\n+      Properties: x86 ISA used: x86-64-baseline, x86-64-v3\n+\tx86 feature used: x86, XMM, YMM"
    },
    {
      "sha": "ec83d6bfd1c79ef40b7a560ea89422cbbb2d4437",
      "filename": "gas/testsuite/gas/i386/property-vzeroall.s",
      "status": "added",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/014d61ea14540cc524a6f75d2b925e7bb1a6d289/gas/testsuite/gas/i386/property-vzeroall.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/014d61ea14540cc524a6f75d2b925e7bb1a6d289/gas/testsuite/gas/i386/property-vzeroall.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/property-vzeroall.s?ref=014d61ea14540cc524a6f75d2b925e7bb1a6d289",
      "patch": "@@ -0,0 +1,2 @@\n+\t.text\n+\tvzeroall"
    }
  ]
}