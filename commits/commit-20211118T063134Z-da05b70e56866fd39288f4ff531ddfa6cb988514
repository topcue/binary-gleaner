{
  "sha": "da05b70e56866fd39288f4ff531ddfa6cb988514",
  "node_id": "C_kwDOANOeidoAKGRhMDViNzBlNTY4NjZmZDM5Mjg4ZjRmZjUzMWRkZmE2Y2I5ODg1MTQ",
  "commit": {
    "author": {
      "name": "jiawei",
      "email": "jiawei@iscas.ac.cn",
      "date": "2021-11-17T12:10:06Z"
    },
    "committer": {
      "name": "Nelson Chu",
      "email": "nelson.chu@sifive.com",
      "date": "2021-11-18T06:31:34Z"
    },
    "message": "RISC-V: Add mininal support for z[fdq]inx\n\nMinimal support for zfinx, zdinx, zqinx. Like f/d/q, the zqinx\nimply zdinx and zdinx imply zfinx, where zfinx are not compatible\nwith f/d/q.\n\nbfd/ChangeLog:\n\n* elfxx-riscv.c (riscv_implicit_subsets): Added implicit rules\nfor z*inx extensions.\n(riscv_supported_std_z_ext): Added entries for z*inx.\n(riscv_parse_check_conflicts): Added conflict check for z*inx.\n\nReviewed-by: Palmer Dabbelt <palmer@rivosinc.com>",
    "tree": {
      "sha": "3f91ff3dc80f1608f3e7996a07a80b9d19eda4cc",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/3f91ff3dc80f1608f3e7996a07a80b9d19eda4cc"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/da05b70e56866fd39288f4ff531ddfa6cb988514",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/da05b70e56866fd39288f4ff531ddfa6cb988514",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/da05b70e56866fd39288f4ff531ddfa6cb988514",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/da05b70e56866fd39288f4ff531ddfa6cb988514/comments",
  "author": {
    "login": "pz9115",
    "id": 43362020,
    "node_id": "MDQ6VXNlcjQzMzYyMDIw",
    "avatar_url": "https://avatars.githubusercontent.com/u/43362020?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pz9115",
    "html_url": "https://github.com/pz9115",
    "followers_url": "https://api.github.com/users/pz9115/followers",
    "following_url": "https://api.github.com/users/pz9115/following{/other_user}",
    "gists_url": "https://api.github.com/users/pz9115/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pz9115/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pz9115/subscriptions",
    "organizations_url": "https://api.github.com/users/pz9115/orgs",
    "repos_url": "https://api.github.com/users/pz9115/repos",
    "events_url": "https://api.github.com/users/pz9115/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pz9115/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": null,
  "parents": [
    {
      "sha": "bd97e65f874427cdc264ce273c4d7646ba2934e0",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/bd97e65f874427cdc264ce273c4d7646ba2934e0",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/bd97e65f874427cdc264ce273c4d7646ba2934e0"
    }
  ],
  "stats": {
    "total": 12,
    "additions": 12,
    "deletions": 0
  },
  "files": [
    {
      "sha": "d2ffaa941e57c466427a43ec075d79545d015cb9",
      "filename": "bfd/elfxx-riscv.c",
      "status": "modified",
      "additions": 12,
      "deletions": 0,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/da05b70e56866fd39288f4ff531ddfa6cb988514/bfd/elfxx-riscv.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/da05b70e56866fd39288f4ff531ddfa6cb988514/bfd/elfxx-riscv.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/elfxx-riscv.c?ref=da05b70e56866fd39288f4ff531ddfa6cb988514",
      "patch": "@@ -1100,6 +1100,8 @@ static struct riscv_implicit_subset riscv_implicit_subsets[] =\n   {\"zvl64b\", \"zvl32b\",\t\tcheck_implicit_always},\n   {\"d\", \"f\",\t\tcheck_implicit_always},\n   {\"f\", \"zicsr\",\tcheck_implicit_always},\n+  {\"zqinx\", \"zdinx\",\tcheck_implicit_always},\n+  {\"zdinx\", \"zfinx\",\tcheck_implicit_always},\n   {\"zk\", \"zkn\",\t\tcheck_implicit_always},\n   {\"zk\", \"zkr\",\t\tcheck_implicit_always},\n   {\"zk\", \"zkt\",\t\tcheck_implicit_always},\n@@ -1182,6 +1184,9 @@ static struct riscv_supported_ext riscv_supported_std_z_ext[] =\n   {\"zifencei\",\t\tISA_SPEC_CLASS_20191213,\t2, 0,  0 },\n   {\"zifencei\",\t\tISA_SPEC_CLASS_20190608,\t2, 0,  0 },\n   {\"zihintpause\",\tISA_SPEC_CLASS_DRAFT,\t\t1, 0,  0 },\n+  {\"zfinx\",\t\tISA_SPEC_CLASS_DRAFT,\t\t1, 0,  0 },\n+  {\"zdinx\",\t\tISA_SPEC_CLASS_DRAFT,\t\t1, 0,  0 },\n+  {\"zqinx\",\t\tISA_SPEC_CLASS_DRAFT,\t\t1, 0,  0 },\n   {\"zbb\",\t\tISA_SPEC_CLASS_DRAFT,\t\t1, 0,  0 },\n   {\"zba\",\t\tISA_SPEC_CLASS_DRAFT,\t\t1, 0,  0 },\n   {\"zbc\",\t\tISA_SPEC_CLASS_DRAFT,\t\t1, 0,  0 },\n@@ -1897,6 +1902,13 @@ riscv_parse_check_conflicts (riscv_parse_subset_t *rps)\n         (_(\"rv32e does not support the `f' extension\"));\n       no_conflict = false;\n     }\n+  if (riscv_lookup_subset (rps->subset_list, \"zfinx\", &subset)\n+      && riscv_lookup_subset (rps->subset_list, \"f\", &subset))\n+    {\n+      rps->error_handler\n+\t(_(\"`zfinx' is conflict with the `f/d/q' extension\"));\n+      no_conflict = false;\n+    }\n \n   bool support_zve = false;\n   bool support_zvl = false;"
    }
  ]
}