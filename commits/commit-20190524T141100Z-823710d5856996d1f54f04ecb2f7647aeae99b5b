{
  "sha": "823710d5856996d1f54f04ecb2f7647aeae99b5b",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ODIzNzEwZDU4NTY5OTZkMWY1NGYwNGVjYjJmNzY0N2FlYWU5OWI1Yg==",
  "commit": {
    "author": {
      "name": "Szabolcs Nagy",
      "email": "szabolcs.nagy@arm.com",
      "date": "2019-04-25T14:07:14Z"
    },
    "committer": {
      "name": "Szabolcs Nagy",
      "email": "szabolcs.nagy@arm.com",
      "date": "2019-05-24T14:11:00Z"
    },
    "message": "aarch64: handle STO_AARCH64_VARIANT_PCS in bfd\n\nPropagate STO_AARCH64_VARIANT_PCS st_other attribute to the output and\nadd DT_AARCH64_VARIANT_PCS dynamic tag if necessary.\n\nMismatching attributes are not diagnosed.\n\nbfd/ChangeLog:\n\n\t* elfnn-aarch64.c (elfNN_aarch64_merge_symbol_attribute): New function.\n\t(struct elf_aarch64_link_hash_table): Add variant_pcs member.\n\t(elfNN_aarch64_allocate_dynrelocs): Update variant_pcs.\n\t(elfNN_aarch64_size_dynamic_sections): Add DT_AARCH64_VARIANT_PCS.\n\t(elf_backend_merge_symbol_attribute): Define.\n\nld/ChangeLog:\n\n\t* testsuite/ld-aarch64/aarch64-elf.exp: Add new tests.\n\t* testsuite/ld-aarch64/variant_pcs-1.s: New asm for tests.\n\t* testsuite/ld-aarch64/variant_pcs-2.s: New asm for tests.\n\t* testsuite/ld-aarch64/variant_pcs-now.d: New test.\n\t* testsuite/ld-aarch64/variant_pcs-r.d: New test.\n\t* testsuite/ld-aarch64/variant_pcs-shared.d: New test.\n\t* testsuite/ld-aarch64/variant_pcs.ld: New linker script for tests.",
    "tree": {
      "sha": "7b44adae584db07fd7736ad67b89626e1a757a00",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/7b44adae584db07fd7736ad67b89626e1a757a00"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/823710d5856996d1f54f04ecb2f7647aeae99b5b",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/823710d5856996d1f54f04ecb2f7647aeae99b5b",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/823710d5856996d1f54f04ecb2f7647aeae99b5b",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/823710d5856996d1f54f04ecb2f7647aeae99b5b/comments",
  "author": {
    "login": "nsz-arm",
    "id": 30925343,
    "node_id": "MDQ6VXNlcjMwOTI1MzQz",
    "avatar_url": "https://avatars.githubusercontent.com/u/30925343?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nsz-arm",
    "html_url": "https://github.com/nsz-arm",
    "followers_url": "https://api.github.com/users/nsz-arm/followers",
    "following_url": "https://api.github.com/users/nsz-arm/following{/other_user}",
    "gists_url": "https://api.github.com/users/nsz-arm/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nsz-arm/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nsz-arm/subscriptions",
    "organizations_url": "https://api.github.com/users/nsz-arm/orgs",
    "repos_url": "https://api.github.com/users/nsz-arm/repos",
    "events_url": "https://api.github.com/users/nsz-arm/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nsz-arm/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "nsz-arm",
    "id": 30925343,
    "node_id": "MDQ6VXNlcjMwOTI1MzQz",
    "avatar_url": "https://avatars.githubusercontent.com/u/30925343?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nsz-arm",
    "html_url": "https://github.com/nsz-arm",
    "followers_url": "https://api.github.com/users/nsz-arm/followers",
    "following_url": "https://api.github.com/users/nsz-arm/following{/other_user}",
    "gists_url": "https://api.github.com/users/nsz-arm/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nsz-arm/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nsz-arm/subscriptions",
    "organizations_url": "https://api.github.com/users/nsz-arm/orgs",
    "repos_url": "https://api.github.com/users/nsz-arm/repos",
    "events_url": "https://api.github.com/users/nsz-arm/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nsz-arm/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "0b4eac57c44ec4c9e13f5201b40936c3b3e6c639",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/0b4eac57c44ec4c9e13f5201b40936c3b3e6c639",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/0b4eac57c44ec4c9e13f5201b40936c3b3e6c639"
    }
  ],
  "stats": {
    "total": 388,
    "additions": 388,
    "deletions": 0
  },
  "files": [
    {
      "sha": "a7603da77245e5c33c5dad87ba2dfa0ce08cbe30",
      "filename": "bfd/ChangeLog",
      "status": "modified",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/823710d5856996d1f54f04ecb2f7647aeae99b5b/bfd/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/823710d5856996d1f54f04ecb2f7647aeae99b5b/bfd/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/ChangeLog?ref=823710d5856996d1f54f04ecb2f7647aeae99b5b",
      "patch": "@@ -1,3 +1,11 @@\n+2019-05-24  Szabolcs Nagy  <szabolcs.nagy@arm.com>\n+\n+\t* elfnn-aarch64.c (elfNN_aarch64_merge_symbol_attribute): New function.\n+\t(struct elf_aarch64_link_hash_table): Add variant_pcs member.\n+\t(elfNN_aarch64_allocate_dynrelocs): Update variant_pcs.\n+\t(elfNN_aarch64_size_dynamic_sections): Add DT_AARCH64_VARIANT_PCS.\n+\t(elf_backend_merge_symbol_attribute): Define.\n+\n 2019-05-24  Alan Modra  <amodra@gmail.com>\n \n \t* po/SRC-POTFILES.in: Regenerate."
    },
    {
      "sha": "761e6b92b518e16da19504861d6164edec81f8b0",
      "filename": "bfd/elfnn-aarch64.c",
      "status": "modified",
      "additions": 41,
      "deletions": 0,
      "changes": 41,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/823710d5856996d1f54f04ecb2f7647aeae99b5b/bfd/elfnn-aarch64.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/823710d5856996d1f54f04ecb2f7647aeae99b5b/bfd/elfnn-aarch64.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/elfnn-aarch64.c?ref=823710d5856996d1f54f04ecb2f7647aeae99b5b",
      "patch": "@@ -2681,6 +2681,9 @@ struct elf_aarch64_link_hash_table\n   unsigned int top_index;\n   asection **input_list;\n \n+  /* JUMP_SLOT relocs for variant PCS symbols may be present.  */\n+  int variant_pcs;\n+\n   /* The offset into splt of the PLT entry for the TLS descriptor\n      resolver.  Special values are 0, if not necessary (or not found\n      to be necessary yet), and -1 if needed but not determined\n@@ -2895,6 +2898,31 @@ elfNN_aarch64_copy_indirect_symbol (struct bfd_link_info *info,\n   _bfd_elf_link_hash_copy_indirect (info, dir, ind);\n }\n \n+/* Merge non-visibility st_other attributes.  */\n+\n+static void\n+elfNN_aarch64_merge_symbol_attribute (struct elf_link_hash_entry *h,\n+\t\t\t\t      const Elf_Internal_Sym *isym,\n+\t\t\t\t      bfd_boolean definition ATTRIBUTE_UNUSED,\n+\t\t\t\t      bfd_boolean dynamic ATTRIBUTE_UNUSED)\n+{\n+  unsigned int isym_sto = isym->st_other & ~ELF_ST_VISIBILITY (-1);\n+  unsigned int h_sto = h->other & ~ELF_ST_VISIBILITY (-1);\n+\n+  if (isym_sto == h_sto)\n+    return;\n+\n+  if (isym_sto & ~STO_AARCH64_VARIANT_PCS)\n+    /* Not fatal, this callback cannot fail.  */\n+    _bfd_error_handler (_(\"unknown attribute for symbol `%s': 0x%02x\"),\n+\t\t\th->root.root.string, isym_sto);\n+\n+  /* Note: Ideally we would warn about any attribute mismatch, but\n+     this api does not allow that without substantial changes.  */\n+  if (isym_sto & STO_AARCH64_VARIANT_PCS)\n+    h->other |= STO_AARCH64_VARIANT_PCS;\n+}\n+\n /* Destroy an AArch64 elf linker hash table.  */\n \n static void\n@@ -8571,6 +8599,12 @@ elfNN_aarch64_allocate_dynrelocs (struct elf_link_hash_entry *h, void *inf)\n \t     updated.  */\n \n \t  htab->root.srelplt->reloc_count++;\n+\n+\t  /* Mark the DSO in case R_<CLS>_JUMP_SLOT relocs against\n+\t     variant PCS symbols are present.  */\n+\t  if (h->other & STO_AARCH64_VARIANT_PCS)\n+\t    htab->variant_pcs = 1;\n+\n \t}\n       else\n \t{\n@@ -9159,6 +9193,10 @@ elfNN_aarch64_size_dynamic_sections (bfd *output_bfd ATTRIBUTE_UNUSED,\n \t      || !add_dynamic_entry (DT_JMPREL, 0))\n \t    return FALSE;\n \n+\t  if (htab->variant_pcs\n+\t      && !add_dynamic_entry (DT_AARCH64_VARIANT_PCS, 0))\n+\t    return FALSE;\n+\n \t  if (htab->tlsdesc_plt\n \t      && !(info->flags & DF_BIND_NOW)\n \t      && (!add_dynamic_entry (DT_TLSDESC_PLT, 0)\n@@ -10083,6 +10121,9 @@ const struct elf_size_info elfNN_aarch64_size_info =\n #define elf_backend_copy_indirect_symbol\t\\\n   elfNN_aarch64_copy_indirect_symbol\n \n+#define elf_backend_merge_symbol_attribute\t\\\n+  elfNN_aarch64_merge_symbol_attribute\n+\n /* Create .dynbss, and .rela.bss sections in DYNOBJ, and set up shortcuts\n    to them in our hash.  */\n #define elf_backend_create_dynamic_sections\t\\"
    },
    {
      "sha": "4de04b6b18046786c4287eedb2995d58e8baf937",
      "filename": "ld/ChangeLog",
      "status": "modified",
      "additions": 10,
      "deletions": 0,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/823710d5856996d1f54f04ecb2f7647aeae99b5b/ld/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/823710d5856996d1f54f04ecb2f7647aeae99b5b/ld/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/ChangeLog?ref=823710d5856996d1f54f04ecb2f7647aeae99b5b",
      "patch": "@@ -1,3 +1,13 @@\n+2019-04-24  Szabolcs Nagy  <szabolcs.nagy@arm.com>\n+\n+\t* testsuite/ld-aarch64/aarch64-elf.exp: Add new tests.\n+\t* testsuite/ld-aarch64/variant_pcs-1.s: New asm for tests.\n+\t* testsuite/ld-aarch64/variant_pcs-2.s: New asm for tests.\n+\t* testsuite/ld-aarch64/variant_pcs-now.d: New test.\n+\t* testsuite/ld-aarch64/variant_pcs-r.d: New test.\n+\t* testsuite/ld-aarch64/variant_pcs-shared.d: New test.\n+\t* testsuite/ld-aarch64/variant_pcs.ld: New linker script for tests.\n+\n 2019-05-24  Alan Modra  <amodra@gmail.com>\n \n \t* po/BLD-POTFILES.in: Regenerate."
    },
    {
      "sha": "c1a94957aae77a82926dbfa4f9790fb3e387665d",
      "filename": "ld/testsuite/ld-aarch64/aarch64-elf.exp",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/823710d5856996d1f54f04ecb2f7647aeae99b5b/ld/testsuite/ld-aarch64/aarch64-elf.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/823710d5856996d1f54f04ecb2f7647aeae99b5b/ld/testsuite/ld-aarch64/aarch64-elf.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-aarch64/aarch64-elf.exp?ref=823710d5856996d1f54f04ecb2f7647aeae99b5b",
      "patch": "@@ -384,6 +384,10 @@ run_dump_test \"property-bti-pac3\"\n run_dump_test \"bti-plt-1\"\n run_dump_test \"bti-plt-2\"\n \n+run_dump_test_lp64 \"variant_pcs-r\"\n+run_dump_test_lp64 \"variant_pcs-shared\"\n+run_dump_test_lp64 \"variant_pcs-now\"\n+\n set aarch64elflinktests {\n   {\"ld-aarch64/so with global symbol\" \"-shared\" \"\" \"\" {copy-reloc-so.s}\n     {} \"copy-reloc-so.so\"}"
    },
    {
      "sha": "8461e8ff5ee18c26d689fbb913b839728b419810",
      "filename": "ld/testsuite/ld-aarch64/variant_pcs-1.s",
      "status": "added",
      "additions": 59,
      "deletions": 0,
      "changes": 59,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/823710d5856996d1f54f04ecb2f7647aeae99b5b/ld/testsuite/ld-aarch64/variant_pcs-1.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/823710d5856996d1f54f04ecb2f7647aeae99b5b/ld/testsuite/ld-aarch64/variant_pcs-1.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-aarch64/variant_pcs-1.s?ref=823710d5856996d1f54f04ecb2f7647aeae99b5b",
      "patch": "@@ -0,0 +1,59 @@\n+.text\n+\n+.variant_pcs f_spec_global_default_def\n+.variant_pcs f_spec_global_default_undef\n+.variant_pcs f_spec_global_hidden_def\n+.variant_pcs f_spec_local\n+.variant_pcs f_spec_global_default_ifunc\n+.variant_pcs f_spec_global_hidden_ifunc\n+.variant_pcs f_spec_local_ifunc\n+\n+.global f_spec_global_default_def\n+.global f_spec_global_default_undef\n+.global f_spec_global_hidden_def\n+.global f_spec_global_default_ifunc\n+.global f_spec_global_hidden_ifunc\n+.global f_base_global_default_def\n+.global f_base_global_default_undef\n+.global f_base_global_hidden_def\n+.global f_base_global_default_ifunc\n+.global f_base_global_hidden_ifunc\n+\n+.hidden f_spec_global_hidden_def\n+.hidden f_spec_global_hidden_ifunc\n+.hidden f_base_global_hidden_def\n+.hidden f_base_global_hidden_ifunc\n+\n+.type f_spec_global_default_ifunc, %gnu_indirect_function\n+.type f_spec_global_hidden_ifunc, %gnu_indirect_function\n+.type f_spec_local_ifunc, %gnu_indirect_function\n+.type f_base_global_default_ifunc, %gnu_indirect_function\n+.type f_base_global_hidden_ifunc, %gnu_indirect_function\n+.type f_base_local_ifunc, %gnu_indirect_function\n+\n+f_spec_global_default_def:\n+f_spec_global_hidden_def:\n+f_spec_local:\n+f_base_global_default_def:\n+f_base_global_hidden_def:\n+f_base_local:\n+f_spec_global_default_ifunc:\n+f_spec_global_hidden_ifunc:\n+f_spec_local_ifunc:\n+f_base_global_default_ifunc:\n+f_base_global_hidden_ifunc:\n+f_base_local_ifunc:\n+\tbl f_spec_global_default_def\n+\tbl f_spec_global_default_undef\n+\tbl f_spec_global_hidden_def\n+\tbl f_spec_local\n+\tbl f_base_global_default_def\n+\tbl f_base_global_default_undef\n+\tbl f_base_global_hidden_def\n+\tbl f_base_local\n+\tbl f_spec_global_default_ifunc\n+\tbl f_spec_global_hidden_ifunc\n+\tbl f_spec_local_ifunc\n+\tbl f_base_global_default_ifunc\n+\tbl f_base_global_hidden_ifunc\n+\tbl f_base_local_ifunc"
    },
    {
      "sha": "e8f13ad941756e9aefc02e437ebbbc0b1c6f0e59",
      "filename": "ld/testsuite/ld-aarch64/variant_pcs-2.s",
      "status": "added",
      "additions": 47,
      "deletions": 0,
      "changes": 47,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/823710d5856996d1f54f04ecb2f7647aeae99b5b/ld/testsuite/ld-aarch64/variant_pcs-2.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/823710d5856996d1f54f04ecb2f7647aeae99b5b/ld/testsuite/ld-aarch64/variant_pcs-2.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-aarch64/variant_pcs-2.s?ref=823710d5856996d1f54f04ecb2f7647aeae99b5b",
      "patch": "@@ -0,0 +1,47 @@\n+.text\n+\n+.variant_pcs f_spec_global_default_def\n+.variant_pcs f_spec_global_default_undef\n+.variant_pcs f_spec_global_hidden_def\n+.variant_pcs f_spec_local2\n+.variant_pcs f_spec_global_default_ifunc\n+.variant_pcs f_spec_global_hidden_ifunc\n+.variant_pcs f_spec_local2_ifunc\n+\n+.global f_spec_global_default_def\n+.global f_spec_global_default_undef\n+.global f_spec_global_hidden_def\n+.global f_spec_global_default_ifunc\n+.global f_spec_global_hidden_ifunc\n+.global f_base_global_default_def\n+.global f_base_global_default_undef\n+.global f_base_global_hidden_def\n+.global f_base_global_default_ifunc\n+.global f_base_global_hidden_ifunc\n+\n+.hidden f_spec_global_hidden_def\n+.hidden f_spec_global_hidden_ifunc\n+.hidden f_base_global_hidden_def\n+.hidden f_base_global_hidden_ifunc\n+\n+.type f_spec_local2_ifunc, %gnu_indirect_function\n+.type f_base_local2_ifunc, %gnu_indirect_function\n+\n+f_spec_local2:\n+f_base_local2:\n+f_spec_local2_ifunc:\n+f_base_local2_ifunc:\n+\tbl f_spec_global_default_def\n+\tbl f_spec_global_default_undef\n+\tbl f_spec_global_hidden_def\n+\tbl f_spec_local2\n+\tbl f_base_global_default_def\n+\tbl f_base_global_default_undef\n+\tbl f_base_global_hidden_def\n+\tbl f_base_local2\n+\tbl f_spec_global_default_ifunc\n+\tbl f_spec_global_hidden_ifunc\n+\tbl f_spec_local2_ifunc\n+\tbl f_base_global_default_ifunc\n+\tbl f_base_global_hidden_ifunc\n+\tbl f_base_local2_ifunc"
    },
    {
      "sha": "fc238929da8e755703a9d0cd550f1a1c8f4ed1dc",
      "filename": "ld/testsuite/ld-aarch64/variant_pcs-now.d",
      "status": "added",
      "additions": 68,
      "deletions": 0,
      "changes": 68,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/823710d5856996d1f54f04ecb2f7647aeae99b5b/ld/testsuite/ld-aarch64/variant_pcs-now.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/823710d5856996d1f54f04ecb2f7647aeae99b5b/ld/testsuite/ld-aarch64/variant_pcs-now.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-aarch64/variant_pcs-now.d?ref=823710d5856996d1f54f04ecb2f7647aeae99b5b",
      "patch": "@@ -0,0 +1,68 @@\n+#source: variant_pcs-1.s\n+#source: variant_pcs-2.s\n+#ld: -shared -T variant_pcs.ld -z now\n+#readelf: -rsW\n+\n+Relocation section '\\.rela\\.plt' at offset 0x11000 contains 12 entries:\n+    Offset             Info             Type               Symbol's Value  Symbol's Name \\+ Addend\n+0000000000009020  0000000100000402 R_AARCH64_JUMP_SLOT    0000000000000000 f_base_global_default_undef \\+ 0\n+0000000000009028  0000000200000402 R_AARCH64_JUMP_SLOT    0000000000000000 f_spec_global_default_undef \\+ 0\n+0000000000009030  0000000500000402 R_AARCH64_JUMP_SLOT    0000000000008000 f_base_global_default_def \\+ 0\n+0000000000009038  0000000600000402 R_AARCH64_JUMP_SLOT    0000000000008000 f_spec_global_default_def \\+ 0\n+0000000000009040  0000000000000408 R_AARCH64_IRELATIVE                       8000\n+0000000000009048  0000000400000402 R_AARCH64_JUMP_SLOT    f_spec_global_default_ifunc\\(\\) f_spec_global_default_ifunc \\+ 0\n+0000000000009050  0000000000000408 R_AARCH64_IRELATIVE                       8000\n+0000000000009058  0000000300000402 R_AARCH64_JUMP_SLOT    f_base_global_default_ifunc\\(\\) f_base_global_default_ifunc \\+ 0\n+0000000000009060  0000000000000408 R_AARCH64_IRELATIVE                       8038\n+0000000000009068  0000000000000408 R_AARCH64_IRELATIVE                       8038\n+0000000000009070  0000000000000408 R_AARCH64_IRELATIVE                       8000\n+0000000000009078  0000000000000408 R_AARCH64_IRELATIVE                       8000\n+\n+Symbol table '\\.dynsym' contains 7 entries:\n+   Num:    Value          Size Type    Bind   Vis      Ndx Name\n+     0: 0000000000000000     0 NOTYPE  LOCAL  DEFAULT  UND \n+     1: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND f_base_global_default_undef\n+     2: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT \\[VARIANT_PCS\\]   UND f_spec_global_default_undef\n+     3: 0000000000008000     0 IFUNC   GLOBAL DEFAULT    1 f_base_global_default_ifunc\n+     4: 0000000000008000     0 IFUNC   GLOBAL DEFAULT \\[VARIANT_PCS\\]     1 f_spec_global_default_ifunc\n+     5: 0000000000008000     0 NOTYPE  GLOBAL DEFAULT    1 f_base_global_default_def\n+     6: 0000000000008000     0 NOTYPE  GLOBAL DEFAULT \\[VARIANT_PCS\\]     1 f_spec_global_default_def\n+\n+Symbol table '\\.symtab' contains 36 entries:\n+   Num:    Value          Size Type    Bind   Vis      Ndx Name\n+     0: 0000000000000000     0 NOTYPE  LOCAL  DEFAULT  UND \n+     1: 0000000000008000     0 SECTION LOCAL  DEFAULT    1 \n+     2: 0000000000008070     0 SECTION LOCAL  DEFAULT    2 \n+     3: 0000000000009000     0 SECTION LOCAL  DEFAULT    3 \n+     4: 0000000000009080     0 SECTION LOCAL  DEFAULT    4 \n+     5: 0000000000011000     0 SECTION LOCAL  DEFAULT    5 \n+     6: 0000000000011120     0 SECTION LOCAL  DEFAULT    6 \n+     7: 00000000000111c8     0 SECTION LOCAL  DEFAULT    7 \n+     8: 0000000000011270     0 SECTION LOCAL  DEFAULT    8 \n+     9: 00000000000112a0     0 SECTION LOCAL  DEFAULT    9 \n+    10: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS .*variant_pcs-1\\.o\n+    11: 0000000000008000     0 NOTYPE  LOCAL  DEFAULT \\[VARIANT_PCS\\]     1 f_spec_local\n+    12: 0000000000008000     0 IFUNC   LOCAL  DEFAULT \\[VARIANT_PCS\\]     1 f_spec_local_ifunc\n+    13: 0000000000008000     0 IFUNC   LOCAL  DEFAULT    1 f_base_local_ifunc\n+    14: 0000000000008000     0 NOTYPE  LOCAL  DEFAULT    1 f_base_local\n+    15: 0000000000008000     0 NOTYPE  LOCAL  DEFAULT    1 \\$x\n+    16: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS .*variant_pcs-2\\.o\n+    17: 0000000000008038     0 NOTYPE  LOCAL  DEFAULT \\[VARIANT_PCS\\]     1 f_spec_local2\n+    18: 0000000000008038     0 IFUNC   LOCAL  DEFAULT \\[VARIANT_PCS\\]     1 f_spec_local2_ifunc\n+    19: 0000000000008038     0 IFUNC   LOCAL  DEFAULT    1 f_base_local2_ifunc\n+    20: 0000000000008038     0 NOTYPE  LOCAL  DEFAULT    1 f_base_local2\n+    21: 0000000000008038     0 NOTYPE  LOCAL  DEFAULT    1 \\$x\n+    22: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS \n+    23: 0000000000009080     0 OBJECT  LOCAL  DEFAULT  ABS _DYNAMIC\n+    24: 0000000000008000     0 NOTYPE  LOCAL  DEFAULT \\[VARIANT_PCS\\]     1 f_spec_global_hidden_def\n+    25: 0000000000008000     0 IFUNC   LOCAL  DEFAULT    1 f_base_global_hidden_ifunc\n+    26: 0000000000008000     0 NOTYPE  LOCAL  DEFAULT    1 f_base_global_hidden_def\n+    27: 0000000000009000     0 OBJECT  LOCAL  DEFAULT  ABS _GLOBAL_OFFSET_TABLE_\n+    28: 0000000000008000     0 IFUNC   LOCAL  DEFAULT \\[VARIANT_PCS\\]     1 f_spec_global_hidden_ifunc\n+    29: 0000000000008070     0 NOTYPE  LOCAL  DEFAULT    2 \\$x\n+    30: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND f_base_global_default_undef\n+    31: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT \\[VARIANT_PCS\\]   UND f_spec_global_default_undef\n+    32: 0000000000008000     0 IFUNC   GLOBAL DEFAULT \\[VARIANT_PCS\\]     1 f_spec_global_default_ifunc\n+    33: 0000000000008000     0 NOTYPE  GLOBAL DEFAULT    1 f_base_global_default_def\n+    34: 0000000000008000     0 NOTYPE  GLOBAL DEFAULT \\[VARIANT_PCS\\]     1 f_spec_global_default_def\n+    35: 0000000000008000     0 IFUNC   GLOBAL DEFAULT    1 f_base_global_default_ifunc"
    },
    {
      "sha": "a534149d9eb6df45e43c6999c4ca9b267c86f25a",
      "filename": "ld/testsuite/ld-aarch64/variant_pcs-r.d",
      "status": "added",
      "additions": 60,
      "deletions": 0,
      "changes": 60,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/823710d5856996d1f54f04ecb2f7647aeae99b5b/ld/testsuite/ld-aarch64/variant_pcs-r.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/823710d5856996d1f54f04ecb2f7647aeae99b5b/ld/testsuite/ld-aarch64/variant_pcs-r.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-aarch64/variant_pcs-r.d?ref=823710d5856996d1f54f04ecb2f7647aeae99b5b",
      "patch": "@@ -0,0 +1,60 @@\n+#source: variant_pcs-1.s\n+#source: variant_pcs-2.s\n+#ld: -r\n+#readelf: -rsW\n+\n+Relocation section '\\.rela\\.text' at offset .* contains 24 entries:\n+    Offset             Info             Type               Symbol's Value  Symbol's Name \\+ Addend\n+0000000000000000  000000180000011b R_AARCH64_CALL26       0000000000000000 f_spec_global_default_def \\+ 0\n+0000000000000004  000000110000011b R_AARCH64_CALL26       0000000000000000 f_spec_global_default_undef \\+ 0\n+0000000000000008  000000120000011b R_AARCH64_CALL26       0000000000000000 f_spec_global_hidden_def \\+ 0\n+0000000000000010  000000170000011b R_AARCH64_CALL26       0000000000000000 f_base_global_default_def \\+ 0\n+0000000000000014  000000100000011b R_AARCH64_CALL26       0000000000000000 f_base_global_default_undef \\+ 0\n+0000000000000018  000000150000011b R_AARCH64_CALL26       0000000000000000 f_base_global_hidden_def \\+ 0\n+0000000000000020  000000140000011b R_AARCH64_CALL26       f_spec_global_default_ifunc\\(\\) f_spec_global_default_ifunc \\+ 0\n+0000000000000024  000000160000011b R_AARCH64_CALL26       f_spec_global_hidden_ifunc\\(\\) f_spec_global_hidden_ifunc \\+ 0\n+0000000000000028  000000060000011b R_AARCH64_CALL26       f_spec_local_ifunc\\(\\) f_spec_local_ifunc \\+ 0\n+000000000000002c  000000190000011b R_AARCH64_CALL26       f_base_global_default_ifunc\\(\\) f_base_global_default_ifunc \\+ 0\n+0000000000000030  000000130000011b R_AARCH64_CALL26       f_base_global_hidden_ifunc\\(\\) f_base_global_hidden_ifunc \\+ 0\n+0000000000000034  000000070000011b R_AARCH64_CALL26       f_base_local_ifunc\\(\\) f_base_local_ifunc \\+ 0\n+0000000000000038  000000180000011b R_AARCH64_CALL26       0000000000000000 f_spec_global_default_def \\+ 0\n+000000000000003c  000000110000011b R_AARCH64_CALL26       0000000000000000 f_spec_global_default_undef \\+ 0\n+0000000000000040  000000120000011b R_AARCH64_CALL26       0000000000000000 f_spec_global_hidden_def \\+ 0\n+0000000000000048  000000170000011b R_AARCH64_CALL26       0000000000000000 f_base_global_default_def \\+ 0\n+000000000000004c  000000100000011b R_AARCH64_CALL26       0000000000000000 f_base_global_default_undef \\+ 0\n+0000000000000050  000000150000011b R_AARCH64_CALL26       0000000000000000 f_base_global_hidden_def \\+ 0\n+0000000000000058  000000140000011b R_AARCH64_CALL26       f_spec_global_default_ifunc\\(\\) f_spec_global_default_ifunc \\+ 0\n+000000000000005c  000000160000011b R_AARCH64_CALL26       f_spec_global_hidden_ifunc\\(\\) f_spec_global_hidden_ifunc \\+ 0\n+0000000000000060  0000000c0000011b R_AARCH64_CALL26       f_spec_local2_ifunc\\(\\) f_spec_local2_ifunc \\+ 0\n+0000000000000064  000000190000011b R_AARCH64_CALL26       f_base_global_default_ifunc\\(\\) f_base_global_default_ifunc \\+ 0\n+0000000000000068  000000130000011b R_AARCH64_CALL26       f_base_global_hidden_ifunc\\(\\) f_base_global_hidden_ifunc \\+ 0\n+000000000000006c  0000000d0000011b R_AARCH64_CALL26       f_base_local2_ifunc\\(\\) f_base_local2_ifunc \\+ 0\n+\n+Symbol table '\\.symtab' contains 26 entries:\n+   Num:    Value          Size Type    Bind   Vis      Ndx Name\n+     0: 0000000000000000     0 NOTYPE  LOCAL  DEFAULT  UND \n+     1: 0000000000000000     0 SECTION LOCAL  DEFAULT    1 \n+     2: 0000000000000000     0 SECTION LOCAL  DEFAULT    3 \n+     3: 0000000000000000     0 SECTION LOCAL  DEFAULT    4 \n+     4: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS .*variant_pcs-1\\.o\n+     5: 0000000000000000     0 NOTYPE  LOCAL  DEFAULT \\[VARIANT_PCS\\]     1 f_spec_local\n+     6: 0000000000000000     0 IFUNC   LOCAL  DEFAULT \\[VARIANT_PCS\\]     1 f_spec_local_ifunc\n+     7: 0000000000000000     0 IFUNC   LOCAL  DEFAULT    1 f_base_local_ifunc\n+     8: 0000000000000000     0 NOTYPE  LOCAL  DEFAULT    1 f_base_local\n+     9: 0000000000000000     0 NOTYPE  LOCAL  DEFAULT    1 \\$x\n+    10: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS .*variant_pcs-2\\.o\n+    11: 0000000000000038     0 NOTYPE  LOCAL  DEFAULT \\[VARIANT_PCS\\]     1 f_spec_local2\n+    12: 0000000000000038     0 IFUNC   LOCAL  DEFAULT \\[VARIANT_PCS\\]     1 f_spec_local2_ifunc\n+    13: 0000000000000038     0 IFUNC   LOCAL  DEFAULT    1 f_base_local2_ifunc\n+    14: 0000000000000038     0 NOTYPE  LOCAL  DEFAULT    1 f_base_local2\n+    15: 0000000000000038     0 NOTYPE  LOCAL  DEFAULT    1 \\$x\n+    16: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND f_base_global_default_undef\n+    17: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT \\[VARIANT_PCS\\]   UND f_spec_global_default_undef\n+    18: 0000000000000000     0 NOTYPE  GLOBAL HIDDEN  \\[VARIANT_PCS\\]     1 f_spec_global_hidden_def\n+    19: 0000000000000000     0 IFUNC   GLOBAL HIDDEN     1 f_base_global_hidden_ifunc\n+    20: 0000000000000000     0 IFUNC   GLOBAL DEFAULT \\[VARIANT_PCS\\]     1 f_spec_global_default_ifunc\n+    21: 0000000000000000     0 NOTYPE  GLOBAL HIDDEN     1 f_base_global_hidden_def\n+    22: 0000000000000000     0 IFUNC   GLOBAL HIDDEN  \\[VARIANT_PCS\\]     1 f_spec_global_hidden_ifunc\n+    23: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT    1 f_base_global_default_def\n+    24: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT \\[VARIANT_PCS\\]     1 f_spec_global_default_def\n+    25: 0000000000000000     0 IFUNC   GLOBAL DEFAULT    1 f_base_global_default_ifunc"
    },
    {
      "sha": "508bdaa20612e53e39aaa7431f3da7b9910ea3a0",
      "filename": "ld/testsuite/ld-aarch64/variant_pcs-shared.d",
      "status": "added",
      "additions": 68,
      "deletions": 0,
      "changes": 68,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/823710d5856996d1f54f04ecb2f7647aeae99b5b/ld/testsuite/ld-aarch64/variant_pcs-shared.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/823710d5856996d1f54f04ecb2f7647aeae99b5b/ld/testsuite/ld-aarch64/variant_pcs-shared.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-aarch64/variant_pcs-shared.d?ref=823710d5856996d1f54f04ecb2f7647aeae99b5b",
      "patch": "@@ -0,0 +1,68 @@\n+#source: variant_pcs-1.s\n+#source: variant_pcs-2.s\n+#ld: -shared -T variant_pcs.ld\n+#readelf: -rsW\n+\n+Relocation section '\\.rela\\.plt' at offset 0x11000 contains 12 entries:\n+    Offset             Info             Type               Symbol's Value  Symbol's Name \\+ Addend\n+0000000000009020  0000000100000402 R_AARCH64_JUMP_SLOT    0000000000000000 f_base_global_default_undef \\+ 0\n+0000000000009028  0000000200000402 R_AARCH64_JUMP_SLOT    0000000000000000 f_spec_global_default_undef \\+ 0\n+0000000000009030  0000000500000402 R_AARCH64_JUMP_SLOT    0000000000008000 f_base_global_default_def \\+ 0\n+0000000000009038  0000000600000402 R_AARCH64_JUMP_SLOT    0000000000008000 f_spec_global_default_def \\+ 0\n+0000000000009040  0000000000000408 R_AARCH64_IRELATIVE                       8000\n+0000000000009048  0000000400000402 R_AARCH64_JUMP_SLOT    f_spec_global_default_ifunc\\(\\) f_spec_global_default_ifunc \\+ 0\n+0000000000009050  0000000000000408 R_AARCH64_IRELATIVE                       8000\n+0000000000009058  0000000300000402 R_AARCH64_JUMP_SLOT    f_base_global_default_ifunc\\(\\) f_base_global_default_ifunc \\+ 0\n+0000000000009060  0000000000000408 R_AARCH64_IRELATIVE                       8038\n+0000000000009068  0000000000000408 R_AARCH64_IRELATIVE                       8038\n+0000000000009070  0000000000000408 R_AARCH64_IRELATIVE                       8000\n+0000000000009078  0000000000000408 R_AARCH64_IRELATIVE                       8000\n+\n+Symbol table '\\.dynsym' contains 7 entries:\n+   Num:    Value          Size Type    Bind   Vis      Ndx Name\n+     0: 0000000000000000     0 NOTYPE  LOCAL  DEFAULT  UND \n+     1: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND f_base_global_default_undef\n+     2: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT \\[VARIANT_PCS\\]   UND f_spec_global_default_undef\n+     3: 0000000000008000     0 IFUNC   GLOBAL DEFAULT    1 f_base_global_default_ifunc\n+     4: 0000000000008000     0 IFUNC   GLOBAL DEFAULT \\[VARIANT_PCS\\]     1 f_spec_global_default_ifunc\n+     5: 0000000000008000     0 NOTYPE  GLOBAL DEFAULT    1 f_base_global_default_def\n+     6: 0000000000008000     0 NOTYPE  GLOBAL DEFAULT \\[VARIANT_PCS\\]     1 f_spec_global_default_def\n+\n+Symbol table '\\.symtab' contains 36 entries:\n+   Num:    Value          Size Type    Bind   Vis      Ndx Name\n+     0: 0000000000000000     0 NOTYPE  LOCAL  DEFAULT  UND \n+     1: 0000000000008000     0 SECTION LOCAL  DEFAULT    1 \n+     2: 0000000000008070     0 SECTION LOCAL  DEFAULT    2 \n+     3: 0000000000009000     0 SECTION LOCAL  DEFAULT    3 \n+     4: 0000000000009080     0 SECTION LOCAL  DEFAULT    4 \n+     5: 0000000000011000     0 SECTION LOCAL  DEFAULT    5 \n+     6: 0000000000011120     0 SECTION LOCAL  DEFAULT    6 \n+     7: 00000000000111c8     0 SECTION LOCAL  DEFAULT    7 \n+     8: 0000000000011270     0 SECTION LOCAL  DEFAULT    8 \n+     9: 00000000000112a0     0 SECTION LOCAL  DEFAULT    9 \n+    10: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS .*variant_pcs-1\\.o\n+    11: 0000000000008000     0 NOTYPE  LOCAL  DEFAULT \\[VARIANT_PCS\\]     1 f_spec_local\n+    12: 0000000000008000     0 IFUNC   LOCAL  DEFAULT \\[VARIANT_PCS\\]     1 f_spec_local_ifunc\n+    13: 0000000000008000     0 IFUNC   LOCAL  DEFAULT    1 f_base_local_ifunc\n+    14: 0000000000008000     0 NOTYPE  LOCAL  DEFAULT    1 f_base_local\n+    15: 0000000000008000     0 NOTYPE  LOCAL  DEFAULT    1 \\$x\n+    16: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS .*variant_pcs-2\\.o\n+    17: 0000000000008038     0 NOTYPE  LOCAL  DEFAULT \\[VARIANT_PCS\\]     1 f_spec_local2\n+    18: 0000000000008038     0 IFUNC   LOCAL  DEFAULT \\[VARIANT_PCS\\]     1 f_spec_local2_ifunc\n+    19: 0000000000008038     0 IFUNC   LOCAL  DEFAULT    1 f_base_local2_ifunc\n+    20: 0000000000008038     0 NOTYPE  LOCAL  DEFAULT    1 f_base_local2\n+    21: 0000000000008038     0 NOTYPE  LOCAL  DEFAULT    1 \\$x\n+    22: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS \n+    23: 0000000000009080     0 OBJECT  LOCAL  DEFAULT  ABS _DYNAMIC\n+    24: 0000000000008000     0 NOTYPE  LOCAL  DEFAULT \\[VARIANT_PCS\\]     1 f_spec_global_hidden_def\n+    25: 0000000000008000     0 IFUNC   LOCAL  DEFAULT    1 f_base_global_hidden_ifunc\n+    26: 0000000000008000     0 NOTYPE  LOCAL  DEFAULT    1 f_base_global_hidden_def\n+    27: 0000000000009000     0 OBJECT  LOCAL  DEFAULT  ABS _GLOBAL_OFFSET_TABLE_\n+    28: 0000000000008000     0 IFUNC   LOCAL  DEFAULT \\[VARIANT_PCS\\]     1 f_spec_global_hidden_ifunc\n+    29: 0000000000008070     0 NOTYPE  LOCAL  DEFAULT    2 \\$x\n+    30: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND f_base_global_default_undef\n+    31: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT \\[VARIANT_PCS\\]   UND f_spec_global_default_undef\n+    32: 0000000000008000     0 IFUNC   GLOBAL DEFAULT \\[VARIANT_PCS\\]     1 f_spec_global_default_ifunc\n+    33: 0000000000008000     0 NOTYPE  GLOBAL DEFAULT    1 f_base_global_default_def\n+    34: 0000000000008000     0 NOTYPE  GLOBAL DEFAULT \\[VARIANT_PCS\\]     1 f_spec_global_default_def\n+    35: 0000000000008000     0 IFUNC   GLOBAL DEFAULT    1 f_base_global_default_ifunc"
    },
    {
      "sha": "a66a9343a77bd2ed42addf35f828f85b8492b039",
      "filename": "ld/testsuite/ld-aarch64/variant_pcs.ld",
      "status": "added",
      "additions": 23,
      "deletions": 0,
      "changes": 23,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/823710d5856996d1f54f04ecb2f7647aeae99b5b/ld/testsuite/ld-aarch64/variant_pcs.ld",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/823710d5856996d1f54f04ecb2f7647aeae99b5b/ld/testsuite/ld-aarch64/variant_pcs.ld",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-aarch64/variant_pcs.ld?ref=823710d5856996d1f54f04ecb2f7647aeae99b5b",
      "patch": "@@ -0,0 +1,23 @@\n+/* Script for .variant_pcs symbol tests.  */\n+OUTPUT_ARCH(aarch64)\n+ENTRY(_start)\n+SECTIONS\n+{\n+  /* Read-only sections, merged into text segment: */\n+  PROVIDE (__executable_start = 0x8000); . = 0x8000;\n+  .text           :\n+  {\n+    *(.before)\n+    *(.text)\n+    *(.after)\n+  } =0\n+  . = 0x9000;\n+  .got            : { *(.got) *(.got.plt)}\n+  . = 0x10000;\n+  .rela.dyn       : { *(.rela.ifunc) }\n+  . = 0x11000;\n+  .rela.plt       : { *(.rela.plt) *(.rela.iplt) }\n+  . = 0x12340000;\n+  .far : { *(.far) }\n+  .ARM.attributes 0 : { *(.ARM.atttributes) }\n+}"
    }
  ]
}