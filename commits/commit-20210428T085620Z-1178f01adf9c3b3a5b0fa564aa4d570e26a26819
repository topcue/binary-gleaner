{
  "sha": "1178f01adf9c3b3a5b0fa564aa4d570e26a26819",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MTE3OGYwMWFkZjljM2IzYTViMGZhNTY0YWE0ZDU3MGUyNmEyNjgxOQ==",
  "commit": {
    "author": {
      "name": "Andrew Burgess",
      "email": "andrew.burgess@embecosm.com",
      "date": "2020-08-26T16:31:12Z"
    },
    "committer": {
      "name": "Andrew Burgess",
      "email": "andrew.burgess@embecosm.com",
      "date": "2021-04-28T08:56:20Z"
    },
    "message": "gdb: initialise extension languages after processing early startup files\n\nNow (thanks to the last few commits) all extension languages are\nfully initialised in their finish_initialization method, this commit\ndelays the call to this method until after the early initialization\nfiles have been processed.\n\nRight now there's no benefit from doing this, but in a later commit I\nplan to add new options for Python that will control how Python is\ninitialized.\n\nWith this commit in place, my next commits will allow the user to add\noptions to their early initialization file and alter how Python starts\nup.\n\nThere should be no user visible changes after this commit.\n\ngdb/ChangeLog:\n\n\t* main.c (captured_main_1): Add a call to\n\tfinish_ext_lang_initialization.\n\t* top.c (gdb_init): Remove call to finish_ext_lang_initialization.",
    "tree": {
      "sha": "6a3c5a423e9cc2bd7d84a6ef34a69b7eee610c67",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/6a3c5a423e9cc2bd7d84a6ef34a69b7eee610c67"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/1178f01adf9c3b3a5b0fa564aa4d570e26a26819",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/1178f01adf9c3b3a5b0fa564aa4d570e26a26819",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/1178f01adf9c3b3a5b0fa564aa4d570e26a26819",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/1178f01adf9c3b3a5b0fa564aa4d570e26a26819/comments",
  "author": {
    "login": "T-J-Teru",
    "id": 475372,
    "node_id": "MDQ6VXNlcjQ3NTM3Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/475372?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/T-J-Teru",
    "html_url": "https://github.com/T-J-Teru",
    "followers_url": "https://api.github.com/users/T-J-Teru/followers",
    "following_url": "https://api.github.com/users/T-J-Teru/following{/other_user}",
    "gists_url": "https://api.github.com/users/T-J-Teru/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/T-J-Teru/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/T-J-Teru/subscriptions",
    "organizations_url": "https://api.github.com/users/T-J-Teru/orgs",
    "repos_url": "https://api.github.com/users/T-J-Teru/repos",
    "events_url": "https://api.github.com/users/T-J-Teru/events{/privacy}",
    "received_events_url": "https://api.github.com/users/T-J-Teru/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "T-J-Teru",
    "id": 475372,
    "node_id": "MDQ6VXNlcjQ3NTM3Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/475372?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/T-J-Teru",
    "html_url": "https://github.com/T-J-Teru",
    "followers_url": "https://api.github.com/users/T-J-Teru/followers",
    "following_url": "https://api.github.com/users/T-J-Teru/following{/other_user}",
    "gists_url": "https://api.github.com/users/T-J-Teru/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/T-J-Teru/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/T-J-Teru/subscriptions",
    "organizations_url": "https://api.github.com/users/T-J-Teru/orgs",
    "repos_url": "https://api.github.com/users/T-J-Teru/repos",
    "events_url": "https://api.github.com/users/T-J-Teru/events{/privacy}",
    "received_events_url": "https://api.github.com/users/T-J-Teru/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "880ae75a2b7106045ed2ae212bbc28e4dc0ad667",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/880ae75a2b7106045ed2ae212bbc28e4dc0ad667",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/880ae75a2b7106045ed2ae212bbc28e4dc0ad667"
    }
  ],
  "stats": {
    "total": 15,
    "additions": 9,
    "deletions": 6
  },
  "files": [
    {
      "sha": "5cf843954b49207aff85f3882fd950a97667bb17",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/1178f01adf9c3b3a5b0fa564aa4d570e26a26819/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/1178f01adf9c3b3a5b0fa564aa4d570e26a26819/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=1178f01adf9c3b3a5b0fa564aa4d570e26a26819",
      "patch": "@@ -1,3 +1,9 @@\n+2021-04-28  Andrew Burgess  <andrew.burgess@embecosm.com>\n+\n+\t* main.c (captured_main_1): Add a call to\n+\tfinish_ext_lang_initialization.\n+\t* top.c (gdb_init): Remove call to finish_ext_lang_initialization.\n+\n 2021-04-28  Andrew Burgess  <andrew.burgess@embecosm.com>\n \n \t* guile/guile.c (gdbscm_set_backtrace): Add declaration."
    },
    {
      "sha": "2a1c3a4866fdf0e30d7b92131d69109182732253",
      "filename": "gdb/main.c",
      "status": "modified",
      "additions": 3,
      "deletions": 0,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/1178f01adf9c3b3a5b0fa564aa4d570e26a26819/gdb/main.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/1178f01adf9c3b3a5b0fa564aa4d570e26a26819/gdb/main.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/main.c?ref=1178f01adf9c3b3a5b0fa564aa4d570e26a26819",
      "patch": "@@ -1053,6 +1053,9 @@ captured_main_1 (struct captured_main_args *context)\n   execute_cmdargs (&cmdarg_vec, CMDARG_EARLYINIT_FILE,\n \t\t   CMDARG_EARLYINIT_COMMAND, &ret);\n \n+  /* Finish initializing the extension languges.  */\n+  finish_ext_lang_initialization ();\n+\n   /* Recheck if we're starting up quietly after processing the startup\n      scripts and commands.  */\n   if (!quiet)"
    },
    {
      "sha": "a83d16bed1571e0355f7db647979c838a8c73fa0",
      "filename": "gdb/top.c",
      "status": "modified",
      "additions": 0,
      "deletions": 6,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/1178f01adf9c3b3a5b0fa564aa4d570e26a26819/gdb/top.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/1178f01adf9c3b3a5b0fa564aa4d570e26a26819/gdb/top.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/top.c?ref=1178f01adf9c3b3a5b0fa564aa4d570e26a26819",
      "patch": "@@ -2408,12 +2408,6 @@ gdb_init ()\n   set_language (language_c);\n   expected_language = current_language;\t/* Don't warn about the change.  */\n \n-  /* Python initialization, for example, can require various commands to be\n-     installed.  For example \"info pretty-printer\" needs the \"info\"\n-     prefix to be installed.  Keep things simple and just do final\n-     script initialization here.  */\n-  finish_ext_lang_initialization ();\n-\n   /* Create $_gdb_major and $_gdb_minor convenience variables.  */\n   init_gdb_version_vars ();\n }"
    }
  ]
}