{
  "sha": "c0b4cd465573f1772927cb3ad5d6e7d17af21622",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YzBiNGNkNDY1NTczZjE3NzI5MjdjYjNhZDVkNmU3ZDE3YWYyMTYyMg==",
  "commit": {
    "author": {
      "name": "Max Filippov",
      "email": "jcmvbkbc@gmail.com",
      "date": "2019-04-05T00:06:57Z"
    },
    "committer": {
      "name": "Max Filippov",
      "email": "jcmvbkbc@gmail.com",
      "date": "2019-04-11T18:42:12Z"
    },
    "message": "xtensa: gas: add relaxations tests\n\ngas/\n2019-04-11  Max Filippov  <jcmvbkbc@gmail.com>\n\n\t* testsuite/gas/xtensa/loop-relax-2.d: New test definition.\n\t* testsuite/gas/xtensa/loop-relax.d: New test definition.\n\t* testsuite/gas/xtensa/loop-relax.s: New test source.\n\t* testsuite/gas/xtensa/text-section-literals-1a.d: New test\n\tdefinition.\n\t* testsuite/gas/xtensa/text-section-literals-2.d: New test\n\tdefinition.\n\t* testsuite/gas/xtensa/text-section-literals-2.s: New test\n\tsource.\n\t* testsuite/gas/xtensa/text-section-literals-2a.d: New test\n\tdefinition.\n\t* testsuite/gas/xtensa/text-section-literals-3.d: New test\n\tdefinition.\n\t* testsuite/gas/xtensa/text-section-literals-3.s: New test\n\tsource.\n\t* testsuite/gas/xtensa/text-section-literals-4.d: New test\n\tdefinition.\n\t* testsuite/gas/xtensa/text-section-literals-4.s: New test\n\tsource.\n\t* testsuite/gas/xtensa/text-section-literals-4a.d: New test\n\tdefinition.",
    "tree": {
      "sha": "c9c3c02288d6449926309dc8222e3f64690a960b",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/c9c3c02288d6449926309dc8222e3f64690a960b"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/c0b4cd465573f1772927cb3ad5d6e7d17af21622",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/c0b4cd465573f1772927cb3ad5d6e7d17af21622",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/c0b4cd465573f1772927cb3ad5d6e7d17af21622",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/c0b4cd465573f1772927cb3ad5d6e7d17af21622/comments",
  "author": {
    "login": "jcmvbkbc",
    "id": 166731,
    "node_id": "MDQ6VXNlcjE2NjczMQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/166731?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jcmvbkbc",
    "html_url": "https://github.com/jcmvbkbc",
    "followers_url": "https://api.github.com/users/jcmvbkbc/followers",
    "following_url": "https://api.github.com/users/jcmvbkbc/following{/other_user}",
    "gists_url": "https://api.github.com/users/jcmvbkbc/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jcmvbkbc/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jcmvbkbc/subscriptions",
    "organizations_url": "https://api.github.com/users/jcmvbkbc/orgs",
    "repos_url": "https://api.github.com/users/jcmvbkbc/repos",
    "events_url": "https://api.github.com/users/jcmvbkbc/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jcmvbkbc/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "jcmvbkbc",
    "id": 166731,
    "node_id": "MDQ6VXNlcjE2NjczMQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/166731?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jcmvbkbc",
    "html_url": "https://github.com/jcmvbkbc",
    "followers_url": "https://api.github.com/users/jcmvbkbc/followers",
    "following_url": "https://api.github.com/users/jcmvbkbc/following{/other_user}",
    "gists_url": "https://api.github.com/users/jcmvbkbc/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jcmvbkbc/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jcmvbkbc/subscriptions",
    "organizations_url": "https://api.github.com/users/jcmvbkbc/orgs",
    "repos_url": "https://api.github.com/users/jcmvbkbc/repos",
    "events_url": "https://api.github.com/users/jcmvbkbc/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jcmvbkbc/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "6f2b77153170392f6b6c38367d7e5c4d007a9c49",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/6f2b77153170392f6b6c38367d7e5c4d007a9c49",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/6f2b77153170392f6b6c38367d7e5c4d007a9c49"
    }
  ],
  "stats": {
    "total": 179,
    "additions": 179,
    "deletions": 0
  },
  "files": [
    {
      "sha": "12350c7eac43bb66e889b3fdf7c7fa0ed520b11d",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 24,
      "deletions": 0,
      "changes": 24,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0b4cd465573f1772927cb3ad5d6e7d17af21622/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0b4cd465573f1772927cb3ad5d6e7d17af21622/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=c0b4cd465573f1772927cb3ad5d6e7d17af21622",
      "patch": "@@ -1,3 +1,27 @@\n+2019-04-11  Max Filippov  <jcmvbkbc@gmail.com>\n+\n+\t* testsuite/gas/xtensa/loop-relax-2.d: New test definition.\n+\t* testsuite/gas/xtensa/loop-relax.d: New test definition.\n+\t* testsuite/gas/xtensa/loop-relax.s: New test source.\n+\t* testsuite/gas/xtensa/text-section-literals-1a.d: New test\n+\tdefinition.\n+\t* testsuite/gas/xtensa/text-section-literals-2.d: New test\n+\tdefinition.\n+\t* testsuite/gas/xtensa/text-section-literals-2.s: New test\n+\tsource.\n+\t* testsuite/gas/xtensa/text-section-literals-2a.d: New test\n+\tdefinition.\n+\t* testsuite/gas/xtensa/text-section-literals-3.d: New test\n+\tdefinition.\n+\t* testsuite/gas/xtensa/text-section-literals-3.s: New test\n+\tsource.\n+\t* testsuite/gas/xtensa/text-section-literals-4.d: New test\n+\tdefinition.\n+\t* testsuite/gas/xtensa/text-section-literals-4.s: New test\n+\tsource.\n+\t* testsuite/gas/xtensa/text-section-literals-4a.d: New test\n+\tdefinition.\n+\n 2019-04-11  Max Filippov  <jcmvbkbc@gmail.com>\n \n \t* testsuite/gas/xtensa/all.exp: Remove all expect-based"
    },
    {
      "sha": "c0024bf676376f4a0d749eb5c0c6eee52d60e4bb",
      "filename": "gas/testsuite/gas/xtensa/loop-relax-2.d",
      "status": "added",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0b4cd465573f1772927cb3ad5d6e7d17af21622/gas/testsuite/gas/xtensa/loop-relax-2.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0b4cd465573f1772927cb3ad5d6e7d17af21622/gas/testsuite/gas/xtensa/loop-relax-2.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/xtensa/loop-relax-2.d?ref=c0b4cd465573f1772927cb3ad5d6e7d17af21622",
      "patch": "@@ -0,0 +1,7 @@\n+#as: --text-section-literals\n+#source: loop_align.s\n+#objdump: -d\n+\n+#...\n+.*loop.*a5,.*\n+#..."
    },
    {
      "sha": "a5c8793ca21ccec6add53cd064d622a1182b7626",
      "filename": "gas/testsuite/gas/xtensa/loop-relax.d",
      "status": "added",
      "additions": 14,
      "deletions": 0,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0b4cd465573f1772927cb3ad5d6e7d17af21622/gas/testsuite/gas/xtensa/loop-relax.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0b4cd465573f1772927cb3ad5d6e7d17af21622/gas/testsuite/gas/xtensa/loop-relax.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/xtensa/loop-relax.d?ref=c0b4cd465573f1772927cb3ad5d6e7d17af21622",
      "patch": "@@ -0,0 +1,14 @@\n+#as:\n+#objdump: -d\n+\n+#...\n+.*loop.*a2,.*\n+.*rsr.lend.*a2\n+.*wsr.lbeg.*a2\n+.*l32r.*a2,.*\n+.*nop\n+.*wsr.lend.*a2\n+.*isync\n+.*rsr.lcount.*a2\n+.*addi.*a2, a2, 1\n+#..."
    },
    {
      "sha": "26fbdd85cf8eb7b988afaf0d555cc0acb2681276",
      "filename": "gas/testsuite/gas/xtensa/loop-relax.s",
      "status": "added",
      "additions": 58,
      "deletions": 0,
      "changes": 58,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0b4cd465573f1772927cb3ad5d6e7d17af21622/gas/testsuite/gas/xtensa/loop-relax.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0b4cd465573f1772927cb3ad5d6e7d17af21622/gas/testsuite/gas/xtensa/loop-relax.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/xtensa/loop-relax.s?ref=c0b4cd465573f1772927cb3ad5d6e7d17af21622",
      "patch": "@@ -0,0 +1,58 @@\n+foo = 0x12345678\n+bar = 0x12345679\n+baz = 0x1234567a\n+qux = 0x1234567b\n+\n+\t.text\n+\t.globl main\n+\t.align 4\n+main:\n+\tentry   sp, 32\n+\tmovi    a2, foo\n+\tmovi    a3, bar\n+\tmovi    a4, baz\n+\tmovi    a5, qux\n+\tmovi    a6, 0\n+\tmovi    a7, 2\n+\n+\tloop    a2, .Lloop_end\n+\tj       1f\n+\n+2:\n+\tmovi    a2, 10\n+\tloop    a2, 3f\n+\taddi    a6, a6, 1\n+3:\n+\t.rep 100\n+\tnop\n+\t.endr\n+\n+\tmovi    a2, 10\n+\tloop    a2, 3f\n+\taddi    a6, a6, 1\n+3:\n+\t.rep 100\n+\tnop\n+\t.endr\n+\n+\t.align  4\n+\t.literal_position\n+1:\n+\tbeqi    a6, 2, 2b\n+\tmovi    a2, foo\n+\tmovi    a3, bar\n+\tmovi    a4, baz\n+\tmovi    a5, qux\n+\n+\tbeqi    a6, 1, 1f\n+\n+\taddi    a6, a6, 1\n+.Lloop_end:\n+\n+\t.rep    16\n+\till\n+\t.endr\n+\n+1:\n+\tmovi    a2, 0\n+\tretw"
    },
    {
      "sha": "ca18e353bf4f860ffa84c6af02f03067a8821c77",
      "filename": "gas/testsuite/gas/xtensa/text-section-literals-1a.d",
      "status": "added",
      "additions": 18,
      "deletions": 0,
      "changes": 18,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0b4cd465573f1772927cb3ad5d6e7d17af21622/gas/testsuite/gas/xtensa/text-section-literals-1a.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0b4cd465573f1772927cb3ad5d6e7d17af21622/gas/testsuite/gas/xtensa/text-section-literals-1a.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/xtensa/text-section-literals-1a.d?ref=c0b4cd465573f1772927cb3ad5d6e7d17af21622",
      "patch": "@@ -0,0 +1,18 @@\n+#as: --auto-litpools\n+#objdump: -d\n+#source: text-section-literals-1.s\n+\n+.*: +file format .*xtensa.*\n+#...\n+Disassembly of section .init.literal:\n+#...\n+Disassembly of section .fini.literal:\n+#...\n+Disassembly of section .init:\n+#...\n+ *0:.*l32r.*\n+#...\n+Disassembly of section .fini:\n+#...\n+ *0:.*l32r.*\n+#..."
    },
    {
      "sha": "c73c6b15abf027db070b60a0b837969f5537440c",
      "filename": "gas/testsuite/gas/xtensa/text-section-literals-2.d",
      "status": "added",
      "additions": 9,
      "deletions": 0,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0b4cd465573f1772927cb3ad5d6e7d17af21622/gas/testsuite/gas/xtensa/text-section-literals-2.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0b4cd465573f1772927cb3ad5d6e7d17af21622/gas/testsuite/gas/xtensa/text-section-literals-2.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/xtensa/text-section-literals-2.d?ref=c0b4cd465573f1772927cb3ad5d6e7d17af21622",
      "patch": "@@ -0,0 +1,9 @@\n+#as: --text-section-literals\n+#objdump: -ds\n+#Lone literal assembled successfully with --text-section-literals\n+\n+.*file format .*xtensa.*\n+#...\n+Contents of section .text:\n+ 0000 12345678 .*\n+#..."
    },
    {
      "sha": "2846b420fa42bd3467daf641057eb2381514800b",
      "filename": "gas/testsuite/gas/xtensa/text-section-literals-2.s",
      "status": "added",
      "additions": 3,
      "deletions": 0,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0b4cd465573f1772927cb3ad5d6e7d17af21622/gas/testsuite/gas/xtensa/text-section-literals-2.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0b4cd465573f1772927cb3ad5d6e7d17af21622/gas/testsuite/gas/xtensa/text-section-literals-2.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/xtensa/text-section-literals-2.s?ref=c0b4cd465573f1772927cb3ad5d6e7d17af21622",
      "patch": "@@ -0,0 +1,3 @@\n+\t.text\n+\n+\t.literal .L0, 0x12345678"
    },
    {
      "sha": "9b918769f9d54cb5becdb2e496ad3a7d7553fe0b",
      "filename": "gas/testsuite/gas/xtensa/text-section-literals-2a.d",
      "status": "added",
      "additions": 10,
      "deletions": 0,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0b4cd465573f1772927cb3ad5d6e7d17af21622/gas/testsuite/gas/xtensa/text-section-literals-2a.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0b4cd465573f1772927cb3ad5d6e7d17af21622/gas/testsuite/gas/xtensa/text-section-literals-2a.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/xtensa/text-section-literals-2a.d?ref=c0b4cd465573f1772927cb3ad5d6e7d17af21622",
      "patch": "@@ -0,0 +1,10 @@\n+#as: --auto-litpools\n+#objdump: -ds\n+#source: text-section-literals-2.s\n+#Lone literal assembled successfully with --auto-litpools\n+\n+.*file format .*xtensa.*\n+#...\n+Contents of section .text:\n+ 0000 12345678 .*\n+#..."
    },
    {
      "sha": "b45a7e12e1a9f456e0623875f5ac8f603e403be6",
      "filename": "gas/testsuite/gas/xtensa/text-section-literals-3.d",
      "status": "added",
      "additions": 11,
      "deletions": 0,
      "changes": 11,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0b4cd465573f1772927cb3ad5d6e7d17af21622/gas/testsuite/gas/xtensa/text-section-literals-3.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0b4cd465573f1772927cb3ad5d6e7d17af21622/gas/testsuite/gas/xtensa/text-section-literals-3.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/xtensa/text-section-literals-3.d?ref=c0b4cd465573f1772927cb3ad5d6e7d17af21622",
      "patch": "@@ -0,0 +1,11 @@\n+#as: --text-section-literals\n+#objdump: -ds\n+\n+.*file format .*xtensa.*\n+#...\n+Contents of section .text:\n+ 0000 12345678 .*\n+#...\n+00000004 <foo>:\n+.*4:.*l32r.*a2, 0.*\n+#..."
    },
    {
      "sha": "a3fad22548e17bf5fcc93eaaa2a651af21983b2a",
      "filename": "gas/testsuite/gas/xtensa/text-section-literals-3.s",
      "status": "added",
      "additions": 3,
      "deletions": 0,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0b4cd465573f1772927cb3ad5d6e7d17af21622/gas/testsuite/gas/xtensa/text-section-literals-3.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0b4cd465573f1772927cb3ad5d6e7d17af21622/gas/testsuite/gas/xtensa/text-section-literals-3.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/xtensa/text-section-literals-3.s?ref=c0b4cd465573f1772927cb3ad5d6e7d17af21622",
      "patch": "@@ -0,0 +1,3 @@\n+\t.text\n+foo:\n+\tmovi\ta2, 0x12345678"
    },
    {
      "sha": "f09a1f62487f3d64410be3e81039b9d493153700",
      "filename": "gas/testsuite/gas/xtensa/text-section-literals-4.d",
      "status": "added",
      "additions": 9,
      "deletions": 0,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0b4cd465573f1772927cb3ad5d6e7d17af21622/gas/testsuite/gas/xtensa/text-section-literals-4.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0b4cd465573f1772927cb3ad5d6e7d17af21622/gas/testsuite/gas/xtensa/text-section-literals-4.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/xtensa/text-section-literals-4.d?ref=c0b4cd465573f1772927cb3ad5d6e7d17af21622",
      "patch": "@@ -0,0 +1,9 @@\n+#as: --text-section-literals --longcalls\n+#objdump: -d\n+\n+.*file format .*xtensa.*\n+#...\n+00000004 <foo>:\n+.*4:.*l32r.*a0, 0 .*\n+.*7:.*callx0.*a0\n+#..."
    },
    {
      "sha": "57be3ac48c33e7e21bff49ee257f0bfe90344479",
      "filename": "gas/testsuite/gas/xtensa/text-section-literals-4.s",
      "status": "added",
      "additions": 3,
      "deletions": 0,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0b4cd465573f1772927cb3ad5d6e7d17af21622/gas/testsuite/gas/xtensa/text-section-literals-4.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0b4cd465573f1772927cb3ad5d6e7d17af21622/gas/testsuite/gas/xtensa/text-section-literals-4.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/xtensa/text-section-literals-4.s?ref=c0b4cd465573f1772927cb3ad5d6e7d17af21622",
      "patch": "@@ -0,0 +1,3 @@\n+\t.text\n+foo:\n+\tcall0\tbar"
    },
    {
      "sha": "64a186a053c2792db57bcefa045614d0b9fb2f65",
      "filename": "gas/testsuite/gas/xtensa/text-section-literals-4a.d",
      "status": "added",
      "additions": 10,
      "deletions": 0,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0b4cd465573f1772927cb3ad5d6e7d17af21622/gas/testsuite/gas/xtensa/text-section-literals-4a.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0b4cd465573f1772927cb3ad5d6e7d17af21622/gas/testsuite/gas/xtensa/text-section-literals-4a.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/xtensa/text-section-literals-4a.d?ref=c0b4cd465573f1772927cb3ad5d6e7d17af21622",
      "patch": "@@ -0,0 +1,10 @@\n+#as: --auto-litpools --longcalls\n+#objdump: -d\n+#source: text-section-literals-4.s\n+\n+.*file format .*xtensa.*\n+#...\n+00000004 <foo>:\n+.*4:.*l32r.*a0, 0 .*\n+.*7:.*callx0.*a0\n+#..."
    }
  ]
}