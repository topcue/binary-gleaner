{
  "sha": "a3fb396f2dc57f585a49091e12ec6c588c45e681",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YTNmYjM5NmYyZGM1N2Y1ODVhNDkwOTFlMTJlYzZjNTg4YzQ1ZTY4MQ==",
  "commit": {
    "author": {
      "name": "Maciej W. Rozycki",
      "email": "macro@orcam.me.uk",
      "date": "2021-05-29T01:26:32Z"
    },
    "committer": {
      "name": "Maciej W. Rozycki",
      "email": "macro@orcam.me.uk",
      "date": "2021-05-29T01:26:32Z"
    },
    "message": "MIPS/opcodes: Add TX39 CP0 register names\n\nThe TX39 core has its distinct set of CP0 registers[1], so it needs a\nseparate table to hold their names.  Add a test case accordingly.\n\nReferences:\n\n[1] \"32-Bit RISC Microprocessor TX39 Family Core Architecture User's\n    Manual\", Toshiba, Jul. 27, 1995, Section 2.2.2 \"System control\n    coprocessor (CP0) registers\", pp. 9-10\n\n\topcodes/\n\t* mips-dis.c (mips_cp0_names_r3900): New variable.\n\t(mips_arch_choices): Use it rather than `mips_cp0_names_numeric'\n\tfor \"r3900\".\n\n\tgas/\n\t* testsuite/gas/mips/cp0-names-r3900.d: New test.\n\t* testsuite/gas/mips/mips.exp: Run it.",
    "tree": {
      "sha": "3672573d24c85cb9157ad2c5f4a8b9ceb4945fe3",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/3672573d24c85cb9157ad2c5f4a8b9ceb4945fe3"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/a3fb396f2dc57f585a49091e12ec6c588c45e681",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/a3fb396f2dc57f585a49091e12ec6c588c45e681",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/a3fb396f2dc57f585a49091e12ec6c588c45e681",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/a3fb396f2dc57f585a49091e12ec6c588c45e681/comments",
  "author": null,
  "committer": null,
  "parents": [
    {
      "sha": "9623cc5d1fb947daf6a0eadb4f7662d0791f7893",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/9623cc5d1fb947daf6a0eadb4f7662d0791f7893",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/9623cc5d1fb947daf6a0eadb4f7662d0791f7893"
    }
  ],
  "stats": {
    "total": 69,
    "additions": 68,
    "deletions": 1
  },
  "files": [
    {
      "sha": "4d7f814143dc59154f86bd3a025fdcd1c67270a1",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a3fb396f2dc57f585a49091e12ec6c588c45e681/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a3fb396f2dc57f585a49091e12ec6c588c45e681/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=a3fb396f2dc57f585a49091e12ec6c588c45e681",
      "patch": "@@ -1,3 +1,8 @@\n+2021-05-29  Maciej W. Rozycki  <macro@orcam.me.uk>\n+\n+\t* testsuite/gas/mips/cp0-names-r3900.d: New test.\n+\t* testsuite/gas/mips/mips.exp: Run it.\n+\n 2021-05-29  Maciej W. Rozycki  <macro@orcam.me.uk>\n \n \t* testsuite/gas/mips/micromips.d: Update disassembly according"
    },
    {
      "sha": "fe971a86bf8386042407a937b729065279e375bc",
      "filename": "gas/testsuite/gas/mips/cp0-names-r3900.d",
      "status": "added",
      "additions": 43,
      "deletions": 0,
      "changes": 43,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a3fb396f2dc57f585a49091e12ec6c588c45e681/gas/testsuite/gas/mips/cp0-names-r3900.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a3fb396f2dc57f585a49091e12ec6c588c45e681/gas/testsuite/gas/mips/cp0-names-r3900.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/mips/cp0-names-r3900.d?ref=a3fb396f2dc57f585a49091e12ec6c588c45e681",
      "patch": "@@ -0,0 +1,43 @@\n+#objdump: -dr --prefix-addresses --show-raw-insn -M gpr-names=numeric,cp0-names=r3900\n+#name: MIPS CP0 register disassembly (r3900)\n+#as: -32 -march=r3900\n+#source: cp0-names.s\n+\n+# Check objdump's handling of -M cp0-names=foo options.\n+\n+.*: +file format .*mips.*\n+\n+Disassembly of section \\.text:\n+[0-9a-f]+ <[^>]*> 40800000 \tmtc0\t\\$0,\\$0\n+[0-9a-f]+ <[^>]*> 40800800 \tmtc0\t\\$0,\\$1\n+[0-9a-f]+ <[^>]*> 40801000 \tmtc0\t\\$0,\\$2\n+[0-9a-f]+ <[^>]*> 40801800 \tmtc0\t\\$0,c0_config\n+[0-9a-f]+ <[^>]*> 40802000 \tmtc0\t\\$0,\\$4\n+[0-9a-f]+ <[^>]*> 40802800 \tmtc0\t\\$0,\\$5\n+[0-9a-f]+ <[^>]*> 40803000 \tmtc0\t\\$0,\\$6\n+[0-9a-f]+ <[^>]*> 40803800 \tmtc0\t\\$0,c0_cache\n+[0-9a-f]+ <[^>]*> 40804000 \tmtc0\t\\$0,c0_badvaddr\n+[0-9a-f]+ <[^>]*> 40804800 \tmtc0\t\\$0,\\$9\n+[0-9a-f]+ <[^>]*> 40805000 \tmtc0\t\\$0,\\$10\n+[0-9a-f]+ <[^>]*> 40805800 \tmtc0\t\\$0,\\$11\n+[0-9a-f]+ <[^>]*> 40806000 \tmtc0\t\\$0,c0_sr\n+[0-9a-f]+ <[^>]*> 40806800 \tmtc0\t\\$0,c0_cause\n+[0-9a-f]+ <[^>]*> 40807000 \tmtc0\t\\$0,c0_epc\n+[0-9a-f]+ <[^>]*> 40807800 \tmtc0\t\\$0,c0_prid\n+[0-9a-f]+ <[^>]*> 40808000 \tmtc0\t\\$0,c0_debug\n+[0-9a-f]+ <[^>]*> 40808800 \tmtc0\t\\$0,c0_depc\n+[0-9a-f]+ <[^>]*> 40809000 \tmtc0\t\\$0,\\$18\n+[0-9a-f]+ <[^>]*> 40809800 \tmtc0\t\\$0,\\$19\n+[0-9a-f]+ <[^>]*> 4080a000 \tmtc0\t\\$0,\\$20\n+[0-9a-f]+ <[^>]*> 4080a800 \tmtc0\t\\$0,\\$21\n+[0-9a-f]+ <[^>]*> 4080b000 \tmtc0\t\\$0,\\$22\n+[0-9a-f]+ <[^>]*> 4080b800 \tmtc0\t\\$0,\\$23\n+[0-9a-f]+ <[^>]*> 4080c000 \tmtc0\t\\$0,\\$24\n+[0-9a-f]+ <[^>]*> 4080c800 \tmtc0\t\\$0,\\$25\n+[0-9a-f]+ <[^>]*> 4080d000 \tmtc0\t\\$0,\\$26\n+[0-9a-f]+ <[^>]*> 4080d800 \tmtc0\t\\$0,\\$27\n+[0-9a-f]+ <[^>]*> 4080e000 \tmtc0\t\\$0,\\$28\n+[0-9a-f]+ <[^>]*> 4080e800 \tmtc0\t\\$0,\\$29\n+[0-9a-f]+ <[^>]*> 4080f000 \tmtc0\t\\$0,\\$30\n+[0-9a-f]+ <[^>]*> 4080f800 \tmtc0\t\\$0,\\$31\n+\t\\.\\.\\."
    },
    {
      "sha": "8f3c7d9b90755d12896b80dd38deca92d0577aad",
      "filename": "gas/testsuite/gas/mips/mips.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a3fb396f2dc57f585a49091e12ec6c588c45e681/gas/testsuite/gas/mips/mips.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a3fb396f2dc57f585a49091e12ec6c588c45e681/gas/testsuite/gas/mips/mips.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/mips/mips.exp?ref=a3fb396f2dc57f585a49091e12ec6c588c45e681",
      "patch": "@@ -1315,6 +1315,7 @@ if { [istarget mips*-*-vxworks*] } {\n \n     run_dump_test \"cp0-names-numeric\"\n     run_dump_test \"cp0-names-r3000\"\n+    run_dump_test \"cp0-names-r3900\"\n     run_dump_test \"cp0-names-r4000\" \\\n \t\t  { { {name} {(r4000)} } { {objdump} {-M cp0-names=r4000} } }\n     run_dump_test \"cp0-names-r4000\" \\"
    },
    {
      "sha": "1a1833a758adb00a95fc62dabb42b62c431f34da",
      "filename": "opcodes/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a3fb396f2dc57f585a49091e12ec6c588c45e681/opcodes/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a3fb396f2dc57f585a49091e12ec6c588c45e681/opcodes/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/ChangeLog?ref=a3fb396f2dc57f585a49091e12ec6c588c45e681",
      "patch": "@@ -1,3 +1,9 @@\n+2021-05-29  Maciej W. Rozycki  <macro@orcam.me.uk>\n+\n+\t* mips-dis.c (mips_cp0_names_r3900): New variable.\n+\t(mips_arch_choices): Use it rather than `mips_cp0_names_numeric'\n+\tfor \"r3900\".\n+\n 2021-05-29  Maciej W. Rozycki  <macro@orcam.me.uk>\n \n \t* mips-opc.c (mips_builtin_opcodes): Switch \"cttc2\", \"mttc2\","
    },
    {
      "sha": "0bdf7cf8b8de448ad92d22b0333c0a7cca2245b8",
      "filename": "opcodes/mips-dis.c",
      "status": "modified",
      "additions": 13,
      "deletions": 1,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a3fb396f2dc57f585a49091e12ec6c588c45e681/opcodes/mips-dis.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a3fb396f2dc57f585a49091e12ec6c588c45e681/opcodes/mips-dis.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/mips-dis.c?ref=a3fb396f2dc57f585a49091e12ec6c588c45e681",
      "patch": "@@ -122,6 +122,18 @@ static const char * const mips_cp1_names_numeric[32] =\n   \"$24\",  \"$25\",  \"$26\",  \"$27\",  \"$28\",  \"$29\",  \"$30\",  \"$31\"\n };\n \n+static const char * const mips_cp0_names_r3900[32] =\n+{\n+  \"$0\",           \"$1\",           \"$2\",           \"c0_config\",\n+  \"$4\",           \"$5\",           \"$6\",           \"c0_cache\",\n+  \"c0_badvaddr\",  \"$9\",           \"$10\",          \"$11\",\n+  \"c0_sr\",        \"c0_cause\",     \"c0_epc\",       \"c0_prid\",\n+  \"c0_debug\",     \"c0_depc\",      \"$18\",          \"$19\",\n+  \"$20\",          \"$21\",          \"$22\",          \"$23\",\n+  \"$24\",          \"$25\",          \"$26\",          \"$27\",\n+  \"$28\",          \"$29\",          \"$30\",          \"$31\",\n+};\n+\n static const char * const mips_cp0_names_r3000[32] =\n {\n   \"c0_index\",     \"c0_random\",    \"c0_entrylo\",   \"$3\",\n@@ -457,7 +469,7 @@ const struct mips_arch_choice mips_arch_choices[] =\n     mips_cp0_names_r3000, NULL, 0, mips_cp1_names_numeric,\n     mips_hwr_names_numeric },\n   { \"r3900\",\t1, bfd_mach_mips3900, CPU_R3900, ISA_MIPS1, 0,\n-    mips_cp0_names_numeric, NULL, 0, mips_cp1_names_numeric,\n+    mips_cp0_names_r3900, NULL, 0, mips_cp1_names_numeric,\n     mips_hwr_names_numeric },\n   { \"r4000\",\t1, bfd_mach_mips4000, CPU_R4000, ISA_MIPS3, 0,\n     mips_cp0_names_r4000, NULL, 0, mips_cp1_names_numeric,"
    }
  ]
}