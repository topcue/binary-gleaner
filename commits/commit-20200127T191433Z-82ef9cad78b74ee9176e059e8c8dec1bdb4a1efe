{
  "sha": "82ef9cad78b74ee9176e059e8c8dec1bdb4a1efe",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ODJlZjljYWQ3OGI3NGVlOTE3NmUwNTllOGM4ZGVjMWJkYjRhMWVmZQ==",
  "commit": {
    "author": {
      "name": "Roland McGrath",
      "email": "mcgrathr@google.com",
      "date": "2020-01-27T19:14:33Z"
    },
    "committer": {
      "name": "Roland McGrath",
      "email": "mcgrathr@google.com",
      "date": "2020-01-27T19:14:33Z"
    },
    "message": "Fix objcopy --merge-notes dependency on qsort implementation behavior.\n\nbinutils/\n\t* objcopy.c (compare_gnu_build_notes): Fix comparison results\n\tfor overlapping ranges so that (A == B) == (B == A) holds.",
    "tree": {
      "sha": "1174e6bc10beac34313cc94070c8b62d958a7060",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/1174e6bc10beac34313cc94070c8b62d958a7060"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/82ef9cad78b74ee9176e059e8c8dec1bdb4a1efe",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/82ef9cad78b74ee9176e059e8c8dec1bdb4a1efe",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/82ef9cad78b74ee9176e059e8c8dec1bdb4a1efe",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/82ef9cad78b74ee9176e059e8c8dec1bdb4a1efe/comments",
  "author": {
    "login": "frobtech",
    "id": 972096,
    "node_id": "MDQ6VXNlcjk3MjA5Ng==",
    "avatar_url": "https://avatars.githubusercontent.com/u/972096?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/frobtech",
    "html_url": "https://github.com/frobtech",
    "followers_url": "https://api.github.com/users/frobtech/followers",
    "following_url": "https://api.github.com/users/frobtech/following{/other_user}",
    "gists_url": "https://api.github.com/users/frobtech/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/frobtech/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/frobtech/subscriptions",
    "organizations_url": "https://api.github.com/users/frobtech/orgs",
    "repos_url": "https://api.github.com/users/frobtech/repos",
    "events_url": "https://api.github.com/users/frobtech/events{/privacy}",
    "received_events_url": "https://api.github.com/users/frobtech/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "frobtech",
    "id": 972096,
    "node_id": "MDQ6VXNlcjk3MjA5Ng==",
    "avatar_url": "https://avatars.githubusercontent.com/u/972096?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/frobtech",
    "html_url": "https://github.com/frobtech",
    "followers_url": "https://api.github.com/users/frobtech/followers",
    "following_url": "https://api.github.com/users/frobtech/following{/other_user}",
    "gists_url": "https://api.github.com/users/frobtech/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/frobtech/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/frobtech/subscriptions",
    "organizations_url": "https://api.github.com/users/frobtech/orgs",
    "repos_url": "https://api.github.com/users/frobtech/repos",
    "events_url": "https://api.github.com/users/frobtech/events{/privacy}",
    "received_events_url": "https://api.github.com/users/frobtech/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "086b06f3c9daa4eee3c1ddd547af32553d1187d6",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/086b06f3c9daa4eee3c1ddd547af32553d1187d6",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/086b06f3c9daa4eee3c1ddd547af32553d1187d6"
    }
  ],
  "stats": {
    "total": 39,
    "additions": 23,
    "deletions": 16
  },
  "files": [
    {
      "sha": "f37776ff48892c93c79dbfdf2393fe284827aa2d",
      "filename": "binutils/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/82ef9cad78b74ee9176e059e8c8dec1bdb4a1efe/binutils/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/82ef9cad78b74ee9176e059e8c8dec1bdb4a1efe/binutils/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/ChangeLog?ref=82ef9cad78b74ee9176e059e8c8dec1bdb4a1efe",
      "patch": "@@ -1,3 +1,8 @@\n+2020-01-27  Roland McGrath  <mcgrathr@google.com>\n+\n+\t* objcopy.c (compare_gnu_build_notes): Fix comparison results\n+\tfor overlapping ranges so that (A == B) == (B == A) holds.\n+\n 2020-01-27  Alan Modra  <amodra@gmail.com>\n \n \t* testsuite/lib/binutils-common.exp (big_or_little_endian): Replace"
    },
    {
      "sha": "212e25144e6cf914d4aa889828270b92cc82b20c",
      "filename": "binutils/objcopy.c",
      "status": "modified",
      "additions": 18,
      "deletions": 16,
      "changes": 34,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/82ef9cad78b74ee9176e059e8c8dec1bdb4a1efe/binutils/objcopy.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/82ef9cad78b74ee9176e059e8c8dec1bdb4a1efe/binutils/objcopy.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/objcopy.c?ref=82ef9cad78b74ee9176e059e8c8dec1bdb4a1efe",
      "patch": "@@ -1945,7 +1945,7 @@ typedef struct objcopy_internal_note\n   bfd_vma            start;\n   bfd_vma            end;\n } objcopy_internal_note;\n-  \n+\n #define DEBUG_MERGE 0\n \n #if DEBUG_MERGE\n@@ -2041,7 +2041,7 @@ compare_gnu_build_notes (const void * data1, const void * data2)\n \t\t    pnote1->note.namesz - 3 : pnote2->note.namesz - 3);\n   if (cmp)\n     return cmp;\n-  \n+\n   if (pnote1->end < pnote2->start)\n     return -1;\n   if (pnote1->start > pnote2->end)\n@@ -2052,13 +2052,15 @@ compare_gnu_build_notes (const void * data1, const void * data2)\n     return -1;\n   if (pnote1->end > pnote2->end)\n     return 1;\n-  \n+  if (pnote1->end < pnote2->end)\n+    return -1;\n+\n   /* Put OPEN notes before function notes.  */\n   if (is_open_note (pnote1) && ! is_open_note (pnote2))\n     return -1;\n   if (! is_open_note (pnote1) && is_open_note (pnote2))\n     return 1;\n-  \n+\n   return 0;\n }\n \n@@ -2086,7 +2088,7 @@ sort_gnu_build_notes (const void * data1, const void * data2)\n \n       return 1;\t\t\t\t/* 1: F   2: O   */\n     }\n-  \n+\n   /* Sort by starting address.  */\n   if (pnote1->start < pnote2->start)\n     return -1;\n@@ -2104,7 +2106,7 @@ sort_gnu_build_notes (const void * data1, const void * data2)\n       && pnote2->note.namesz > 4\n       && pnote1->note.namedata[3] != pnote2->note.namedata[3])\n     return pnote1->note.namedata[3] - pnote2->note.namedata[3];\n-  \n+\n   return 0;\n }\n \n@@ -2151,7 +2153,7 @@ merge_gnu_build_notes (bfd *          abfd,\n \t  goto done;\n \t}\n     }\n-  \n+\n   /* Make a copy of the notes and convert to our internal format.\n      Minimum size of a note is 12 bytes.  Also locate the version\n      notes and check them.  */\n@@ -2232,7 +2234,7 @@ merge_gnu_build_notes (bfd *          abfd,\n \t     address.  */\n \t  end = (bfd_vma) -1;\n \t  break;\n-\t  \n+\n \tcase 8:\n \t  if (! is_64bit (abfd))\n \t    {\n@@ -2257,7 +2259,7 @@ merge_gnu_build_notes (bfd *          abfd,\n \t  start = bfd_get_64 (abfd, pnote->note.descdata);\n \t  end = bfd_get_64 (abfd, pnote->note.descdata + 8);\n \t  break;\n-\t  \n+\n \tdefault:\n \t  err = _(\"corrupt GNU build attribute note: bad description size\");\n \t  goto done;\n@@ -2396,7 +2398,7 @@ merge_gnu_build_notes (bfd *          abfd,\n \t      || memcmp (back->note.namedata,\n \t\t\t pnote->note.namedata, pnote->note.namesz) != 0)\n \t    break;\n-\t  \n+\n \t  if (back->start == pnote->start\n \t      && back->end == pnote->end)\n \t    {\n@@ -2450,7 +2452,7 @@ merge_gnu_build_notes (bfd *          abfd,\n       if (! is_deleted_note (pnote))\n \tmerge_debug (\"Unable to do anything with note at %#08lx\\n\",\n \t\t     (pnote->note.namedata - (char *) contents) - 12);\n-#endif\t\t     \n+#endif\n     }\n \n   /* Resort the notes.  */\n@@ -2532,7 +2534,7 @@ merge_gnu_build_notes (bfd *          abfd,\n \t\t   pnote->note.namesz\n \t\t   );\n #endif\n-  \n+\n   new_size = new - new_contents;\n   if (new_size < size)\n     {\n@@ -4057,7 +4059,7 @@ setup_section (bfd *ibfd, sec_ptr isection, void *obfdarg)\n     alignment = p->alignment;\n   else\n     alignment = bfd_section_alignment (isection);\n-  \n+\n   /* FIXME: This is probably not enough.  If we change the LMA we\n      may have to recompute the header for the file as well.  */\n   if (!bfd_set_section_alignment (osection, alignment))\n@@ -5468,7 +5470,7 @@ copy_main (int argc, char *argv[])\n \t    s = strchr (optarg, '=');\n \t    if (s == NULL)\n \t      fatal (_(\"bad format for --set-section-alignment: argument needed\"));\n-\t    \n+\n \t    align = atoi (s + 1);\n \t    if (align <= 0)\n \t      fatal (_(\"bad format for --set-section-alignment: numeric argument needed\"));\n@@ -5480,7 +5482,7 @@ copy_main (int argc, char *argv[])\n \t    \talign >>= 1;\n \t    \t++palign;\n \t      }\n-\t    \n+\n \t    if (align != 1)\n \t      /* Number has more than on 1, i.e. wasn't a power of 2.  */\n \t      fatal (_(\"bad format for --set-section-alignment: alignment is not a power of two\"));\n@@ -5496,7 +5498,7 @@ copy_main (int argc, char *argv[])\n \t      p->alignment = palign;\n \t  }\n \t  break;\n-\t  \n+\n \tcase OPTION_RENAME_SECTION:\n \t  {\n \t    flagword flags;"
    }
  ]
}