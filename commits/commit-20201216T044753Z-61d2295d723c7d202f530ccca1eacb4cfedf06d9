{
  "sha": "61d2295d723c7d202f530ccca1eacb4cfedf06d9",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NjFkMjI5NWQ3MjNjN2QyMDJmNTMwY2NjYTFlYWNiNGNmZWRmMDZkOQ==",
  "commit": {
    "author": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2020-12-15T11:39:06Z"
    },
    "committer": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2020-12-16T04:47:53Z"
    },
    "message": "xtensa constify\n\nMove lots of read-only arrays to .rodata.\n\ninclude/\n\t* xtensa-isa-internal.h (xtensa_format_internal),\n\t(xtensa_slot_internal, xtensa_operand_internal),\n\t(xtensa_arg_internal, xtensa_iclass_internal),\n\t(xtensa_opcode_internal, xtensa_regfile_internal),\n\t(xtensa_interface_internal, xtensa_funcUnit_internal),\n\t(xtensa_state_internal, xtensa_sysreg_internal): Constify.\nbfd/\n\t* elf32-xtensa.c (narrowable, widenable): Constify.\n\t* xtensa-modules.c: Constify many arrays.",
    "tree": {
      "sha": "3ca0532f0e9caf045220658c07a5a118b9874893",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/3ca0532f0e9caf045220658c07a5a118b9874893"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/61d2295d723c7d202f530ccca1eacb4cfedf06d9",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/61d2295d723c7d202f530ccca1eacb4cfedf06d9",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/61d2295d723c7d202f530ccca1eacb4cfedf06d9",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/61d2295d723c7d202f530ccca1eacb4cfedf06d9/comments",
  "author": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "8cb1c2c857aa176a410126b4dc01d6fceaf21356",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/8cb1c2c857aa176a410126b4dc01d6fceaf21356",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/8cb1c2c857aa176a410126b4dc01d6fceaf21356"
    }
  ],
  "stats": {
    "total": 1148,
    "additions": 581,
    "deletions": 567
  },
  "files": [
    {
      "sha": "fd9a99ccf9d6439c6c72877e4408ea432564d7cf",
      "filename": "bfd/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/61d2295d723c7d202f530ccca1eacb4cfedf06d9/bfd/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/61d2295d723c7d202f530ccca1eacb4cfedf06d9/bfd/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/ChangeLog?ref=61d2295d723c7d202f530ccca1eacb4cfedf06d9",
      "patch": "@@ -1,3 +1,8 @@\n+2020-12-16  Alan Modra  <amodra@gmail.com>\n+\n+\t* elf32-xtensa.c (narrowable, widenable): Constify.\n+\t* xtensa-modules.c: Constify many arrays.\n+\n 2020-12-16  Alan Modra  <amodra@gmail.com>\n \n \t* elf64-ppc.c (synthetic_opd): Constify."
    },
    {
      "sha": "1b8a71906e26b63f3e95efc0ae997bd9ce58dc9f",
      "filename": "bfd/elf32-xtensa.c",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/61d2295d723c7d202f530ccca1eacb4cfedf06d9/bfd/elf32-xtensa.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/61d2295d723c7d202f530ccca1eacb4cfedf06d9/bfd/elf32-xtensa.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/elf32-xtensa.c?ref=61d2295d723c7d202f530ccca1eacb4cfedf06d9",
      "patch": "@@ -4341,7 +4341,7 @@ struct string_pair\n   const char *narrow;\n };\n \n-struct string_pair narrowable[] =\n+const struct string_pair narrowable[] =\n {\n   { \"add\", \"add.n\" },\n   { \"addi\", \"addi.n\" },\n@@ -4354,7 +4354,7 @@ struct string_pair narrowable[] =\n   { \"or\", \"mov.n\" } /* special case only when op1 == op2 */\n };\n \n-struct string_pair widenable[] =\n+const struct string_pair widenable[] =\n {\n   { \"add\", \"add.n\" },\n   { \"addi\", \"addi.n\" },"
    },
    {
      "sha": "80bda7f35ddbe2eaa1697f790c185512c665d9e4",
      "filename": "bfd/xtensa-modules.c",
      "status": "modified",
      "additions": 550,
      "deletions": 550,
      "changes": 1100,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/61d2295d723c7d202f530ccca1eacb4cfedf06d9/bfd/xtensa-modules.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/61d2295d723c7d202f530ccca1eacb4cfedf06d9/bfd/xtensa-modules.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/xtensa-modules.c?ref=61d2295d723c7d202f530ccca1eacb4cfedf06d9"
    },
    {
      "sha": "a4c5dd90bd595a2af5b5fa8263c1fc8590208a6b",
      "filename": "include/ChangeLog",
      "status": "modified",
      "additions": 9,
      "deletions": 0,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/61d2295d723c7d202f530ccca1eacb4cfedf06d9/include/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/61d2295d723c7d202f530ccca1eacb4cfedf06d9/include/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/include/ChangeLog?ref=61d2295d723c7d202f530ccca1eacb4cfedf06d9",
      "patch": "@@ -1,3 +1,12 @@\n+2020-12-16  Alan Modra  <amodra@gmail.com>\n+\n+\t* xtensa-isa-internal.h (xtensa_format_internal),\n+\t(xtensa_slot_internal, xtensa_operand_internal),\n+\t(xtensa_arg_internal, xtensa_iclass_internal),\n+\t(xtensa_opcode_internal, xtensa_regfile_internal),\n+\t(xtensa_interface_internal, xtensa_funcUnit_internal),\n+\t(xtensa_state_internal, xtensa_sysreg_internal): Constify.\n+\n 2020-12-15  Vivek Das Mohapatra  <vivek@collabora.com>\n \n \t* elf/common.h (DT_GNU_FLAGS_1, DF_GNU_1_UNIQUE): Define."
    },
    {
      "sha": "cf1e8a3cfa172916fba16decd54f72d798eab59c",
      "filename": "include/xtensa-isa-internal.h",
      "status": "modified",
      "additions": 15,
      "deletions": 15,
      "changes": 30,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/61d2295d723c7d202f530ccca1eacb4cfedf06d9/include/xtensa-isa-internal.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/61d2295d723c7d202f530ccca1eacb4cfedf06d9/include/xtensa-isa-internal.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/include/xtensa-isa-internal.h?ref=61d2295d723c7d202f530ccca1eacb4cfedf06d9",
      "patch": "@@ -53,29 +53,29 @@ typedef void (*xtensa_opcode_encode_fn) (xtensa_insnbuf);\n typedef int (*xtensa_format_decode_fn) (const xtensa_insnbuf);\n typedef int (*xtensa_length_decode_fn) (const unsigned char *);\n \n-typedef struct xtensa_format_internal_struct\n+typedef const struct xtensa_format_internal_struct\n {\n   const char *name;\t\t\t/* Instruction format name.  */\n   int length;\t\t\t\t/* Instruction length in bytes.  */\n   xtensa_format_encode_fn encode_fn;\n   int num_slots;\n-  int *slot_id;\t\t\t\t/* Array[num_slots] of slot IDs.  */\n+  const int *slot_id;\t\t\t/* Array[num_slots] of slot IDs.  */\n } xtensa_format_internal;\n \n-typedef struct xtensa_slot_internal_struct\n+typedef const struct xtensa_slot_internal_struct\n {\n   const char *name;\t\t\t/* Not necessarily unique.  */\n   const char *format;\n   int position;\n   xtensa_get_slot_fn get_fn;\n   xtensa_set_slot_fn set_fn;\n-  xtensa_get_field_fn *get_field_fns;\t/* Array[field_id].  */\n-  xtensa_set_field_fn *set_field_fns;\t/* Array[field_id].  */\n+  const xtensa_get_field_fn *get_field_fns; /* Array[field_id].  */\n+  const xtensa_set_field_fn *set_field_fns; /* Array[field_id].  */\n   xtensa_opcode_decode_fn opcode_decode_fn;\n   const char *nop_name;\n } xtensa_slot_internal;\n \n-typedef struct xtensa_operand_internal_struct\n+typedef const struct xtensa_operand_internal_struct\n {\n   const char *name;\n   int field_id;\n@@ -88,7 +88,7 @@ typedef struct xtensa_operand_internal_struct\n   xtensa_undo_reloc_fn undo_reloc;\t/* Undo a PC-relative relocation.  */\n } xtensa_operand_internal;\n \n-typedef struct xtensa_arg_internal_struct\n+typedef const struct xtensa_arg_internal_struct\n {\n   union {\n     int operand_id;\t\t\t/* For normal operands.  */\n@@ -97,7 +97,7 @@ typedef struct xtensa_arg_internal_struct\n   char inout;\t\t\t\t/* Direction: 'i', 'o', or 'm'.  */\n } xtensa_arg_internal;\n \n-typedef struct xtensa_iclass_internal_struct\n+typedef const struct xtensa_iclass_internal_struct\n {\n   int num_operands;\t\t\t/* Size of \"operands\" array.  */\n   xtensa_arg_internal *operands;\t/* Array[num_operands].  */\n@@ -109,17 +109,17 @@ typedef struct xtensa_iclass_internal_struct\n   xtensa_interface *interfaceOperands;\t/* Array[num_interfaceOperands].  */\n } xtensa_iclass_internal;\n \n-typedef struct xtensa_opcode_internal_struct\n+typedef const struct xtensa_opcode_internal_struct\n {\n   const char *name;\t\t\t/* Opcode mnemonic.  */\n   int iclass_id;\t\t\t/* Iclass for this opcode.  */\n   uint32 flags;\t\t\t\t/* See XTENSA_OPCODE_* flags.  */\n-  xtensa_opcode_encode_fn *encode_fns;\t/* Array[slot_id].  */\n+  const xtensa_opcode_encode_fn *encode_fns; /* Array[slot_id].  */\n   int num_funcUnit_uses;\t\t/* Number of funcUnit_use entries.  */\n   xtensa_funcUnit_use *funcUnit_uses;\t/* Array[num_funcUnit_uses].  */\n } xtensa_opcode_internal;\n \n-typedef struct xtensa_regfile_internal_struct\n+typedef const struct xtensa_regfile_internal_struct\n {\n   const char *name;\t\t\t/* Full name of the regfile.  */\n   const char *shortname;\t\t/* Abbreviated name.  */\n@@ -128,7 +128,7 @@ typedef struct xtensa_regfile_internal_struct\n   int num_entries;\t\t\t/* Number of registers.  */\n } xtensa_regfile_internal;\n \n-typedef struct xtensa_interface_internal_struct\n+typedef const struct xtensa_interface_internal_struct\n {\n   const char *name;\t\t\t/* Interface name.  */\n   int num_bits;\t\t\t\t/* Width of the interface.  */\n@@ -137,20 +137,20 @@ typedef struct xtensa_interface_internal_struct\n   char inout;\t\t\t\t/* \"i\" or \"o\".  */\n } xtensa_interface_internal;\n \n-typedef struct xtensa_funcUnit_internal_struct\n+typedef const struct xtensa_funcUnit_internal_struct\n {\n   const char *name;\t\t\t/* Functional unit name.  */\n   int num_copies;\t\t\t/* Number of instances.  */\n } xtensa_funcUnit_internal;\n \n-typedef struct xtensa_state_internal_struct\n+typedef const struct xtensa_state_internal_struct\n {\n   const char *name;\t\t\t/* State name.  */\n   int num_bits;\t\t\t\t/* Number of state bits.  */\n   uint32 flags;\t\t\t\t/* See XTENSA_STATE_* flags.  */\n } xtensa_state_internal;\n \n-typedef struct xtensa_sysreg_internal_struct\n+typedef const struct xtensa_sysreg_internal_struct\n {\n   const char *name;\t\t\t/* Register name.  */\n   int number;\t\t\t\t/* Register number.  */"
    }
  ]
}