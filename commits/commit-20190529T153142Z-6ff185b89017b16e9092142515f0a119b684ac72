{
  "sha": "6ff185b89017b16e9092142515f0a119b684ac72",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NmZmMTg1Yjg5MDE3YjE2ZTkwOTIxNDI1MTVmMGExMTliNjg0YWM3Mg==",
  "commit": {
    "author": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2019-05-29T13:26:30Z"
    },
    "committer": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2019-05-29T15:31:42Z"
    },
    "message": "s12z genelf.em\n\nThis changes s12z to use generic.em and genelf.em, which is more\nsuited to targets that use the generic linker hash table.  A tweak or\ntwo to some testsuite predicates then gives a clean testsuite result\non the target.\n\n\tPR 24596\nbinutils/\n\t* testsuite/lib/binutils-common.exp (supports_gnu_unique): Add\n\ts12z to targets not supporting this feature.\nld/\n\t* emulparams/m9s12zelf.sh (TEMPLATE_NAME): Set to generic.\n\t(EXTRA_EM_FILE): Define to genelf.\n\t* testsuite/lib/ld-lib.exp (uses_genelf): Add s12z.",
    "tree": {
      "sha": "84454f55f3d02befd60e7b34311d9bf22f6089c1",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/84454f55f3d02befd60e7b34311d9bf22f6089c1"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/6ff185b89017b16e9092142515f0a119b684ac72",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/6ff185b89017b16e9092142515f0a119b684ac72",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/6ff185b89017b16e9092142515f0a119b684ac72",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/6ff185b89017b16e9092142515f0a119b684ac72/comments",
  "author": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "1336939d3cd4cb02670c48ef065bafdf0fdae300",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/1336939d3cd4cb02670c48ef065bafdf0fdae300",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/1336939d3cd4cb02670c48ef065bafdf0fdae300"
    }
  ],
  "stats": {
    "total": 23,
    "additions": 19,
    "deletions": 4
  },
  "files": [
    {
      "sha": "76d9d529d8b90f71e1b404118e5dbf9377ad8d3b",
      "filename": "binutils/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6ff185b89017b16e9092142515f0a119b684ac72/binutils/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6ff185b89017b16e9092142515f0a119b684ac72/binutils/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/ChangeLog?ref=6ff185b89017b16e9092142515f0a119b684ac72",
      "patch": "@@ -1,3 +1,8 @@\n+2019-05-30  Alan Modra  <amodra@gmail.com>\n+\n+\t* testsuite/lib/binutils-common.exp (supports_gnu_unique): Add\n+\ts12z to targets not supporting this feature.\n+\n 2019-05-30  Alan Modra  <amodra@gmail.com>\n \n \t* testsuite/lib/binutils-common.exp (run_dump_test): Support"
    },
    {
      "sha": "a523f4b7813211c97647f0ba4eb07bb227a3e39f",
      "filename": "binutils/testsuite/lib/binutils-common.exp",
      "status": "modified",
      "additions": 4,
      "deletions": 3,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6ff185b89017b16e9092142515f0a119b684ac72/binutils/testsuite/lib/binutils-common.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6ff185b89017b16e9092142515f0a119b684ac72/binutils/testsuite/lib/binutils-common.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/testsuite/lib/binutils-common.exp?ref=6ff185b89017b16e9092142515f0a119b684ac72",
      "patch": "@@ -183,9 +183,9 @@ proc match_target { target } {\n # and Visium targets set OSABI to ELFOSABI_STANDALONE and cannot\n # support STB_GNU_UNIQUE.  Likewise non-EABI ARM targets set OSABI to\n # ELFOSABI_ARM, and TI C6X targets to ELFOSABI_C6000_*.  Finally\n-# rather than `bfd_elf_final_link' AM33/2.0, D30V, DLX, and\n-# picoJava targets use `_bfd_generic_final_link', which does not\n-# support STB_GNU_UNIQUE symbol binding causing assertion failures.\n+# rather than `bfd_elf_final_link' a number of targets use\n+# `_bfd_generic_final_link', which does not support STB_GNU_UNIQUE\n+# symbol binding causing assertion failures.\n #\n proc supports_gnu_unique {} {\n     if { [istarget *-*-gnu*]\n@@ -212,6 +212,7 @@ proc supports_gnu_unique {} {\n \t || [istarget \"d30v-*-*\"]\n \t || [istarget \"dlx-*-*\"]\n \t || [istarget \"pj*-*-*\"]\n+\t || [istarget \"s12z-*-*\"]\n \t || [istarget \"xgate-*-*\"] } {\n \treturn 0\n     }"
    },
    {
      "sha": "f0f71784e084c1d85ca8c6e6c576d11068a35341",
      "filename": "ld/ChangeLog",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6ff185b89017b16e9092142515f0a119b684ac72/ld/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6ff185b89017b16e9092142515f0a119b684ac72/ld/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/ChangeLog?ref=6ff185b89017b16e9092142515f0a119b684ac72",
      "patch": "@@ -1,3 +1,10 @@\n+2019-05-30  Alan Modra  <amodra@gmail.com>\n+\n+\tPR 24596\n+\t* emulparams/m9s12zelf.sh (TEMPLATE_NAME): Set to generic.\n+\t(EXTRA_EM_FILE): Define to genelf.\n+\t* testsuite/lib/ld-lib.exp (uses_genelf): Add s12z.\n+\n 2019-05-30  Alan Modra  <amodra@gmail.com>\n \n \t* testsuite/lib/ld-lib.exp (run_ld_link_tests): Support procedure"
    },
    {
      "sha": "758c8e936b166ecab09f57bf30d4506f3fbe12eb",
      "filename": "ld/emulparams/m9s12zelf.sh",
      "status": "modified",
      "additions": 2,
      "deletions": 1,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6ff185b89017b16e9092142515f0a119b684ac72/ld/emulparams/m9s12zelf.sh",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6ff185b89017b16e9092142515f0a119b684ac72/ld/emulparams/m9s12zelf.sh",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/emulparams/m9s12zelf.sh?ref=6ff185b89017b16e9092142515f0a119b684ac72",
      "patch": "@@ -13,6 +13,7 @@ EEPROM_MEMORY=eeprom\n ARCH=s12z\n EMBEDDED=yes\n GENERIC_BOARD=no\n-TEMPLATE_NAME=elf32\n+TEMPLATE_NAME=generic\n+EXTRA_EM_FILE=genelf\n NOP=0x00\n "
    },
    {
      "sha": "250493608257967d97dd313fe8dc83656544f5cf",
      "filename": "ld/testsuite/lib/ld-lib.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6ff185b89017b16e9092142515f0a119b684ac72/ld/testsuite/lib/ld-lib.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6ff185b89017b16e9092142515f0a119b684ac72/ld/testsuite/lib/ld-lib.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/lib/ld-lib.exp?ref=6ff185b89017b16e9092142515f0a119b684ac72",
      "patch": "@@ -1113,6 +1113,7 @@ proc uses_genelf { } {\n \t || [istarget \"msp430-*-*\"]\n \t || [istarget \"mt-*-*\"]\n \t || [istarget \"pj*-*-*\"]\n+\t || [istarget \"s12z-*-*\"]\n \t || [istarget \"xgate-*-*\"] } {\n \treturn 1\n     }"
    }
  ]
}