{
  "sha": "32e4f96ceca798ad21f344e96667de9161c0b857",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MzJlNGY5NmNlY2E3OThhZDIxZjM0NGU5NjY2N2RlOTE2MWMwYjg1Nw==",
  "commit": {
    "author": {
      "name": "Tom de Vries",
      "email": "tdevries@suse.de",
      "date": "2021-02-26T13:30:10Z"
    },
    "committer": {
      "name": "Nick Clifton",
      "email": "nickc@redhat.com",
      "date": "2021-02-26T13:30:10Z"
    },
    "message": "Add support for the split DWARF forms.\n\n\tPR 27390\n\t* dwarf.c: (skip_attr_bytes): Add support for DW_FORM_str* and\n\tDW_FORM_addrx*.\n\t(read_and_display_attr_value): Likewise.",
    "tree": {
      "sha": "4a57a6080e4e19a220ffd901020c4e4f22bd2485",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/4a57a6080e4e19a220ffd901020c4e4f22bd2485"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/32e4f96ceca798ad21f344e96667de9161c0b857",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/32e4f96ceca798ad21f344e96667de9161c0b857",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/32e4f96ceca798ad21f344e96667de9161c0b857",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/32e4f96ceca798ad21f344e96667de9161c0b857/comments",
  "author": {
    "login": "vries",
    "id": 4057235,
    "node_id": "MDQ6VXNlcjQwNTcyMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4057235?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vries",
    "html_url": "https://github.com/vries",
    "followers_url": "https://api.github.com/users/vries/followers",
    "following_url": "https://api.github.com/users/vries/following{/other_user}",
    "gists_url": "https://api.github.com/users/vries/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vries/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vries/subscriptions",
    "organizations_url": "https://api.github.com/users/vries/orgs",
    "repos_url": "https://api.github.com/users/vries/repos",
    "events_url": "https://api.github.com/users/vries/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vries/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "nickclifton",
    "id": 31441682,
    "node_id": "MDQ6VXNlcjMxNDQxNjgy",
    "avatar_url": "https://avatars.githubusercontent.com/u/31441682?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nickclifton",
    "html_url": "https://github.com/nickclifton",
    "followers_url": "https://api.github.com/users/nickclifton/followers",
    "following_url": "https://api.github.com/users/nickclifton/following{/other_user}",
    "gists_url": "https://api.github.com/users/nickclifton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nickclifton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nickclifton/subscriptions",
    "organizations_url": "https://api.github.com/users/nickclifton/orgs",
    "repos_url": "https://api.github.com/users/nickclifton/repos",
    "events_url": "https://api.github.com/users/nickclifton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nickclifton/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "cb51b708fd7e0ba427f07b3209d0df1d9a0e3f94",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/cb51b708fd7e0ba427f07b3209d0df1d9a0e3f94",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/cb51b708fd7e0ba427f07b3209d0df1d9a0e3f94"
    }
  ],
  "stats": {
    "total": 70,
    "additions": 68,
    "deletions": 2
  },
  "files": [
    {
      "sha": "a73c60d3699ca0ed4e5d652c384e0914d8037a95",
      "filename": "binutils/ChangeLog",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/32e4f96ceca798ad21f344e96667de9161c0b857/binutils/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/32e4f96ceca798ad21f344e96667de9161c0b857/binutils/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/ChangeLog?ref=32e4f96ceca798ad21f344e96667de9161c0b857",
      "patch": "@@ -1,3 +1,10 @@\n+2021-02-26  Tom de Vries  <tdevries@suse.de>\n+\n+\tPR 27390\n+\t* dwarf.c: (skip_attr_bytes): Add support for DW_FORM_str* and\n+\tDW_FORM_addrx*.\n+\t(read_and_display_attr_value): Likewise.\n+\n 2021-02-25  Nick Clifton  <nickc@redhat.com>\n \n \t* dwarf.c (get_type_abbrev_from_form): Accept but ignore sup"
    },
    {
      "sha": "9cc51c282fd1e6f4a0f0bf4d13a47317ff0115c3",
      "filename": "binutils/dwarf.c",
      "status": "modified",
      "additions": 61,
      "deletions": 2,
      "changes": 63,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/32e4f96ceca798ad21f344e96667de9161c0b857/binutils/dwarf.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/32e4f96ceca798ad21f344e96667de9161c0b857/binutils/dwarf.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/dwarf.c?ref=32e4f96ceca798ad21f344e96667de9161c0b857",
      "patch": "@@ -2002,16 +2002,27 @@ skip_attr_bytes (unsigned long          form,\n     case DW_FORM_ref1:\n     case DW_FORM_flag:\n     case DW_FORM_data1:\n+    case DW_FORM_strx1:\n+    case DW_FORM_addrx1:\n       SAFE_BYTE_GET_AND_INC (uvalue, data, 1, end);\n       break;\n \n+    case DW_FORM_strx3:\n+    case DW_FORM_addrx3:\n+      SAFE_BYTE_GET_AND_INC (uvalue, data, 3, end);\n+      break;\n+\n     case DW_FORM_ref2:\n     case DW_FORM_data2:\n+    case DW_FORM_strx2:\n+    case DW_FORM_addrx2:\n       SAFE_BYTE_GET_AND_INC (uvalue, data, 2, end);\n       break;\n \n     case DW_FORM_ref4:\n     case DW_FORM_data4:\n+    case DW_FORM_strx4:\n+    case DW_FORM_addrx4:\n       SAFE_BYTE_GET_AND_INC (uvalue, data, 4, end);\n       break;\n \n@@ -2023,7 +2034,9 @@ skip_attr_bytes (unsigned long          form,\n     case DW_FORM_ref_udata:\n     case DW_FORM_udata:\n     case DW_FORM_GNU_str_index:\n+    case DW_FORM_strx:\n     case DW_FORM_GNU_addr_index:\n+    case DW_FORM_addrx:\n       READ_ULEB (uvalue, data, end);\n       break;\n \n@@ -2480,17 +2493,28 @@ read_and_display_attr_value (unsigned long           attribute,\n     case DW_FORM_ref1:\n     case DW_FORM_flag:\n     case DW_FORM_data1:\n+    case DW_FORM_strx1:\n+    case DW_FORM_addrx1:\n       SAFE_BYTE_GET_AND_INC (uvalue, data, 1, end);\n       break;\n \n     case DW_FORM_ref2:\n     case DW_FORM_data2:\n+    case DW_FORM_strx2:\n+    case DW_FORM_addrx2:\n       SAFE_BYTE_GET_AND_INC (uvalue, data, 2, end);\n       break;\n \n+    case DW_FORM_strx3:\n+    case DW_FORM_addrx3:\n+      SAFE_BYTE_GET_AND_INC (uvalue, data, 3, end);\n+      break;\n+\n     case DW_FORM_ref_sup4:\n     case DW_FORM_ref4:\n     case DW_FORM_data4:\n+    case DW_FORM_strx4:\n+    case DW_FORM_addrx4:\n       SAFE_BYTE_GET_AND_INC (uvalue, data, 4, end);\n       break;\n \n@@ -2500,9 +2524,11 @@ read_and_display_attr_value (unsigned long           attribute,\n       break;\n \n     case DW_FORM_GNU_str_index:\n+    case DW_FORM_strx:\n     case DW_FORM_ref_udata:\n     case DW_FORM_udata:\n     case DW_FORM_GNU_addr_index:\n+    case DW_FORM_addrx:\n       READ_ULEB (uvalue, data, end);\n       break;\n \n@@ -2694,6 +2720,11 @@ read_and_display_attr_value (unsigned long           attribute,\n       break;\n \n     case DW_FORM_GNU_str_index:\n+    case DW_FORM_strx:\n+    case DW_FORM_strx1:\n+    case DW_FORM_strx2:\n+    case DW_FORM_strx3:\n+    case DW_FORM_strx4:\n       if (!do_loc)\n \t{\n \t  const char * suffix = strrchr (section->name, '.');\n@@ -2749,17 +2780,34 @@ read_and_display_attr_value (unsigned long           attribute,\n       break;\n \n     case DW_FORM_GNU_addr_index:\n+    case DW_FORM_addrx:\n+    case DW_FORM_addrx1:\n+    case DW_FORM_addrx2:\n+    case DW_FORM_addrx3:\n+    case DW_FORM_addrx4:\n       if (!do_loc)\n \t{\n+\t  dwarf_vma base;\n+\t  dwarf_vma offset;\n+\n+\t  if (debug_info_p == NULL)\n+\t    base = 0;\n+\t  else if (debug_info_p->addr_base == DEBUG_INFO_UNAVAILABLE)\n+\t    base = 0;\n+\t  else\n+\t    base = debug_info_p->addr_base;\n+\n+\t  offset = base + uvalue * pointer_size;\n+\n \t  if (do_wide)\n \t    /* We have already displayed the form name.  */\n \t    printf (_(\"%c(index: 0x%s): %s\"), delimiter,\n \t\t    dwarf_vmatoa (\"x\", uvalue),\n-\t\t    fetch_indexed_value (uvalue * pointer_size, pointer_size));\n+\t\t    fetch_indexed_value (offset, pointer_size));\n \t  else\n \t    printf (_(\"%c(addr_index: 0x%s): %s\"), delimiter,\n \t\t    dwarf_vmatoa (\"x\", uvalue),\n-\t\t    fetch_indexed_value (uvalue * pointer_size, pointer_size));\n+\t\t    fetch_indexed_value (offset, pointer_size));\n \t}\n       break;\n \n@@ -2858,6 +2906,7 @@ read_and_display_attr_value (unsigned long           attribute,\n \t  break;\n \n \tcase DW_AT_GNU_addr_base:\n+\tcase DW_AT_addr_base:\n \t  debug_info_p->addr_base = uvalue;\n \t  break;\n \n@@ -2899,6 +2948,11 @@ read_and_display_attr_value (unsigned long           attribute,\n \t\tadd_dwo_name ((const char *) fetch_alt_indirect_string (uvalue), cu_offset);\n \t\tbreak;\n \t      case DW_FORM_GNU_str_index:\n+\t      case DW_FORM_strx:\n+\t      case DW_FORM_strx1:\n+\t      case DW_FORM_strx2:\n+\t      case DW_FORM_strx3:\n+\t      case DW_FORM_strx4:\n \t\tadd_dwo_name (fetch_indexed_string (uvalue, this_set, offset_size, FALSE), cu_offset);\n \t\tbreak;\n \t      case DW_FORM_string:\n@@ -2926,6 +2980,11 @@ read_and_display_attr_value (unsigned long           attribute,\n \t\tadd_dwo_dir ((const char *) fetch_indirect_line_string (uvalue), cu_offset);\n \t\tbreak;\n \t      case DW_FORM_GNU_str_index:\n+\t      case DW_FORM_strx:\n+\t      case DW_FORM_strx1:\n+\t      case DW_FORM_strx2:\n+\t      case DW_FORM_strx3:\n+\t      case DW_FORM_strx4:\n \t\tadd_dwo_dir (fetch_indexed_string (uvalue, this_set, offset_size, FALSE), cu_offset);\n \t\tbreak;\n \t      case DW_FORM_string:"
    }
  ]
}