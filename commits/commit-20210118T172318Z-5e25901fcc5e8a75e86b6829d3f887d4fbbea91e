{
  "sha": "5e25901fcc5e8a75e86b6829d3f887d4fbbea91e",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NWUyNTkwMWZjYzVlOGE3NWU4NmI2ODI5ZDNmODg3ZDRmYmJlYTkxZQ==",
  "commit": {
    "author": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-01-17T10:32:12Z"
    },
    "committer": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-01-18T17:23:18Z"
    },
    "message": "sim: common: delete configure & Makefile\n\nThis was mostly orphaned a while back, but left behind so people could\nstill run `make headers`.  Merge that one target to the top sim dir and\ndelete all the build logic.  This should avoid confusing people further.",
    "tree": {
      "sha": "1d76eb98dcf87913148b44c756489f340e254bab",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/1d76eb98dcf87913148b44c756489f340e254bab"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/5e25901fcc5e8a75e86b6829d3f887d4fbbea91e",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/5e25901fcc5e8a75e86b6829d3f887d4fbbea91e",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/5e25901fcc5e8a75e86b6829d3f887d4fbbea91e",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/5e25901fcc5e8a75e86b6829d3f887d4fbbea91e/comments",
  "author": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "4cfcd3b333987a8040c1682e1766a1aeb2941a7d",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/4cfcd3b333987a8040c1682e1766a1aeb2941a7d",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/4cfcd3b333987a8040c1682e1766a1aeb2941a7d"
    }
  ],
  "stats": {
    "total": 4099,
    "additions": 208,
    "deletions": 3891
  },
  "files": [
    {
      "sha": "7b83115d9c5c7f29b5c578fc01fe93d980e60898",
      "filename": "sim/ChangeLog",
      "status": "modified",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5e25901fcc5e8a75e86b6829d3f887d4fbbea91e/sim/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5e25901fcc5e8a75e86b6829d3f887d4fbbea91e/sim/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ChangeLog?ref=5e25901fcc5e8a75e86b6829d3f887d4fbbea91e",
      "patch": "@@ -1,3 +1,11 @@\n+2021-01-18  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* configure.ac: Call AC_PROG_CPP.\n+\t* configure: Regenerate.\n+\t* Makefile.in (abs_srcdir, srcroot, CPP): Define.\n+\t(nltvals): New target.\n+\t* README-HACKING: Change headers to nltvals.\n+\n 2021-01-18  Mike Frysinger  <vapier@gentoo.org>\n \n \t* Makefile.in (headers): Change args to gennltvals.sh."
    },
    {
      "sha": "a35f807d6f0b2c1899d2855bb6aa1bca751fc683",
      "filename": "sim/Makefile.in",
      "status": "modified",
      "additions": 14,
      "deletions": 0,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5e25901fcc5e8a75e86b6829d3f887d4fbbea91e/sim/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5e25901fcc5e8a75e86b6829d3f887d4fbbea91e/sim/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/Makefile.in?ref=5e25901fcc5e8a75e86b6829d3f887d4fbbea91e",
      "patch": "@@ -19,6 +19,8 @@\n \n VPATH = @srcdir@\n srcdir = @srcdir@\n+abs_srcdir = @abs_srcdir@\n+srcroot = $(abs_srcdir)/..\n \n prefix = @prefix@\n exec_prefix = @exec_prefix@\n@@ -54,6 +56,7 @@ INSTALL_DATA = @INSTALL_DATA@\n AR = @AR@\n AR_FLAGS = rc\n CC = @CC@\n+CPP = @CPP@\n CFLAGS = @CFLAGS@\n CC_FOR_BUILD = @CC_FOR_BUILD@\n CFLAGS_FOR_BUILD = @CFLAGS_FOR_BUILD@\n@@ -221,6 +224,17 @@ Makefile: Makefile.in config.status\n config.status: configure\n \t$(SHELL) ./config.status --recheck\n \n+# Generate nltvals.def for newlib/libgloss using devo and build tree.\n+# This file is shipped with distributions so we build in the source dir.\n+# Use `make nltvals' to rebuild.\n+# Note: If gdb releases begin to contain target header files (not a good idea,\n+# but if they did ...), nltvals.def coud be generated at build time.\n+# An alternative is to slurp in the tables at runtime.\n+.PHONY: nltvals\n+nltvals:\n+\t$(SHELL) $(abs_srcdir)/common/gennltvals.sh --cpp \"$(CPP)\" --output nltvals.def --srcroot $(srcroot) && \\\n+\t$(SHELL) $(srcroot)/move-if-change nltvals.def $(abs_srcdir)/common/nltvals.def\n+\n # Utility to run autoconf in each directory that uses the common framework.\n # This is intended to be invoked in $srcdir as\n # \"make -f Makefile.in autoconf-common SHELL=/bin/sh\"."
    },
    {
      "sha": "583a559d2b0cb59624e53a53a2abee7db8107a8a",
      "filename": "sim/README-HACKING",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5e25901fcc5e8a75e86b6829d3f887d4fbbea91e/sim/README-HACKING",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5e25901fcc5e8a75e86b6829d3f887d4fbbea91e/sim/README-HACKING",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/README-HACKING?ref=5e25901fcc5e8a75e86b6829d3f887d4fbbea91e",
      "patch": "@@ -191,10 +191,10 @@ convenience):\n \t$  cd /tmp/$$/build\n \t$  /tmp/$$/devo/configure --target=d10v-elf\n \n-In the sim/common directory rebuild the headers:\n+In the sim/ directory rebuild the headers:\n \n-\t$  cd sim/common\n-\t$  make headers\n+\t$  cd sim/\n+\t$  make nltvals\n \n To add a new target:\n "
    },
    {
      "sha": "beca012b601ff7b0c81b264c2dd5bd4065046367",
      "filename": "sim/common/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5e25901fcc5e8a75e86b6829d3f887d4fbbea91e/sim/common/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5e25901fcc5e8a75e86b6829d3f887d4fbbea91e/sim/common/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/common/ChangeLog?ref=5e25901fcc5e8a75e86b6829d3f887d4fbbea91e",
      "patch": "@@ -1,3 +1,7 @@\n+2021-01-18  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* configure, configure.ac, Makefile.in: Delete.\n+\n 2021-01-13  Mike Frysinger  <vapier@gentoo.org>\n \n \t* sim-watch.c (default_interrupt_handler): Define."
    },
    {
      "sha": "33cd788737cbfa7aa3be3499c094feef7a2a33f3",
      "filename": "sim/common/Makefile.in",
      "status": "removed",
      "additions": 0,
      "deletions": 135,
      "changes": 135,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4cfcd3b333987a8040c1682e1766a1aeb2941a7d/sim/common/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4cfcd3b333987a8040c1682e1766a1aeb2941a7d/sim/common/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/common/Makefile.in?ref=4cfcd3b333987a8040c1682e1766a1aeb2941a7d",
      "patch": "@@ -1,135 +0,0 @@\n-#    Makefile template for Configure for simulator common directory\n-#    Copyright (C) 1996-2021 Free Software Foundation, Inc.\n-# \n-# This program is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 3 of the License, or\n-# (at your option) any later version.\n-#\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-#\n-# You should have received a copy of the GNU General Public License\n-# along with this program.  If not, see <http://www.gnu.org/licenses/>.\n-\n-default: all\n-\n-VPATH = @srcdir@\n-srcdir = @srcdir@\n-abs_srcdir = @abs_srcdir@\n-srcroot = $(abs_srcdir)/../..\n-\n-prefix = @prefix@\n-exec_prefix = @exec_prefix@\n-\n-host_alias = @host_alias@\n-target_alias = @target_alias@\n-program_transform_name = @program_transform_name@\n-bindir = @bindir@\n-\n-libdir = @libdir@\n-tooldir = $(libdir)/$(target_alias)\n-\n-datarootdir = @datarootdir@\n-datadir = @datadir@\n-mandir = @mandir@\n-man1dir = $(mandir)/man1\n-infodir = @infodir@\n-includedir = @includedir@\n-\n-SHELL = /bin/sh\n-\n-INSTALL = @INSTALL@\n-INSTALL_PROGRAM = @INSTALL_PROGRAM@\n-INSTALL_DATA = @INSTALL_DATA@\n-\n-CC = @CC@\n-CC_FOR_BUILD = @CC_FOR_BUILD@\n-CFLAGS = @CFLAGS@\n-\n-# These are used to rebuild nltvals.def.\n-CPP_FOR_TARGET = @CPP_FOR_TARGET@\n-TARGET_SUBDIR = @TARGET_SUBDIR@\n-\n-HDEFINES = @HDEFINES@\n-TDEFINES =\n-\n-CONFIG_CFLAGS = @DEFS@ $(HDEFINES) $(TDEFINES)\n-CSEARCH = -I. -I$(srcdir) -I$(srcroot)/include\n-ALL_CFLAGS = $(CFLAGS) $(CONFIG_CFLAGS) $(CSEARCH)\n-BUILD_CFLAGS = -g -O $(CSEARCH)\n-\n-AR = @AR@\n-AR_FLAGS = rc\n-RANLIB = @RANLIB@\n-MAKEINFO = makeinfo\n-\n-.NOEXPORT:\n-MAKEOVERRIDES=\n-\n-all:\n-\n-# Generate nltvals.def for newlib/libgloss using devo and build tree.\n-# This file is shipped with distributions so we build in the source dir.\n-# Use `make headers' to rebuild.\n-# Note: If gdb releases begin to contain target header files (not a good idea,\n-# but if they did ...), nltvals.def coud be generated at build time.\n-# An alternative is to slurp in the tables at runtime.\n-.PHONY: headers\n-headers:\n-\trootme=`pwd` ; \\\n-\tcd $(srcdir) ; \\\n-\trm -f nltvals.new ; \\\n-\t$(SHELL) $(abs_srcdir)/gennltvals.sh --cpp \"$(CPP_FOR_TARGET)\" --srcroot $(srcroot) --output nltvals.new ; \\\n-\t$(SHELL) $(srcroot)/move-if-change nltvals.new nltvals.def\n-\n-.c.o:\n-\t$(CC) -c $< $(ALL_CFLAGS)\n-\n-check:\n-\n-info:\n-clean-info:\n-install-info:\n-\n-tags etags: TAGS\n-\n-# Macros like EXTERN_SIM_CORE confuse tags.\n-# And the sim-n-foo.h files create functions that can't be found either.\n-TAGS: force\n-\tcd $(srcdir) && \\\n-\tetags --regex '/^\\([a-z_]+\\) (/\\1/' --regex '/^.*\\/[*] TAGS: .*/' \\\n-\t\t*.c *.h\n-\n-clean:\n-\trm -f *.[oa] *~ core\n-\n-distclean mostlyclean maintainer-clean realclean: clean\n-\trm -f TAGS\n-\trm -f Makefile config.cache config.log config.status\n-\n-# Dummy target to force execution of dependent targets.\n-force:\n-\n-# Copy the files into directories where they will be run.\n-install: install-man\n-install-strip: install-man\n-\n-install-man: installdirs\n-\tn=`echo run | sed '$(program_transform_name)'`; \\\n-\t$(INSTALL_DATA) $(srcdir)/run.1 $(DESTDIR)$(man1dir)/$$n.1\n-\n-installdirs:\n-\t$(SHELL) $(srcdir)/../../mkinstalldirs $(DESTDIR)$(man1dir)\n-\n-Makefile: Makefile.in config.status\n-\t$(SHELL) ./config.status\n-\n-config.status: configure\n-\t$(SHELL) ./config.status --recheck\n-\n-config.h: stamp-h ; @true\n-stamp-h: config.in config.status\n-\tCONFIG_FILES= CONFIG_HEADERS=config.h:config.in $(SHELL) ./config.status"
    },
    {
      "sha": "8be2e6535f0cd9b52cb0a6f56d65c6c7b65bbe4a",
      "filename": "sim/common/configure",
      "status": "removed",
      "additions": 0,
      "deletions": 3718,
      "changes": 3718,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4cfcd3b333987a8040c1682e1766a1aeb2941a7d/sim/common/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4cfcd3b333987a8040c1682e1766a1aeb2941a7d/sim/common/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/common/configure?ref=4cfcd3b333987a8040c1682e1766a1aeb2941a7d"
    },
    {
      "sha": "ec4ee203743b0266df4ebb48410035dcd7c23f31",
      "filename": "sim/common/configure.ac",
      "status": "removed",
      "additions": 0,
      "deletions": 34,
      "changes": 34,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4cfcd3b333987a8040c1682e1766a1aeb2941a7d/sim/common/configure.ac",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4cfcd3b333987a8040c1682e1766a1aeb2941a7d/sim/common/configure.ac",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/common/configure.ac?ref=4cfcd3b333987a8040c1682e1766a1aeb2941a7d",
      "patch": "@@ -1,34 +0,0 @@\n-dnl Process this file with autoconf to produce a configure script.\n-AC_INIT(Makefile.in)\n-\n-AC_PROG_CC\n-\n-# Put a useful copy of CPP_FOR_TARGET in Makefile.\n-# This is only used to build the target values header files.  These files are\n-# shipped with distributions so CPP_FOR_TARGET only needs to work in\n-# developer's trees.  This value is borrowed from ../../Makefile.in.\n-CPP_FOR_TARGET=\"\\` \\\n-  if test -f \\$\\${rootme}/../../gcc/Makefile ; then \\\n-    if test -f \\$\\${rootme}/../../\\$(TARGET_SUBDIR)/newlib/Makefile ; then \\\n-      echo \\$\\${rootme}/../../gcc/xgcc -B\\$\\${rootme}/../../gcc/ -idirafter \\$\\${rootme}/../../\\$(TARGET_SUBDIR)/newlib/targ-include -idirafter \\$(srcroot)/newlib/libc/include -nostdinc; \\\n-    else \\\n-      echo \\$\\${rootme}/../../gcc/xgcc -B\\$\\${rootme}/../../gcc/; \\\n-    fi; \\\n-  else \\\n-    if test '\\$(host_canonical)' = '\\$(target_canonical)' ; then \\\n-      echo \\$(CC); \\\n-    else \\\n-      t='\\$(program_transform_name)'; echo gcc | sed -e 's/x/x/' \\$\\$t; \\\n-    fi; \\\n-  fi\\` -E\"\n-AC_SUBST(CPP_FOR_TARGET)\n-\n-# Set TARGET_SUBDIR, needed by CPP_FOR_TARGET.\n-if test x\"${host}\" = x\"${target}\" ; then\n-\tTARGET_SUBDIR=\".\"\n-else\n-\tTARGET_SUBDIR=${target_alias}\n-fi\n-AC_SUBST(TARGET_SUBDIR)\n-\n-AC_OUTPUT(Makefile)"
    },
    {
      "sha": "28ed5d7691d58d0d319a1ad527c91c67209f1ff5",
      "filename": "sim/configure",
      "status": "modified",
      "additions": 178,
      "deletions": 1,
      "changes": 179,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5e25901fcc5e8a75e86b6829d3f887d4fbbea91e/sim/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5e25901fcc5e8a75e86b6829d3f887d4fbbea91e/sim/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/configure?ref=5e25901fcc5e8a75e86b6829d3f887d4fbbea91e",
      "patch": "@@ -590,6 +590,7 @@ subdirs\n CFLAGS_FOR_BUILD\n CC_FOR_BUILD\n HDEFINES\n+CPP\n target_os\n target_vendor\n target_cpu\n@@ -664,7 +665,8 @@ CC\n CFLAGS\n LDFLAGS\n LIBS\n-CPPFLAGS'\n+CPPFLAGS\n+CPP'\n ac_subdirs_all='aarch64\n arm\n avr\n@@ -1322,6 +1324,7 @@ Some influential environment variables:\n   LIBS        libraries to pass to the linker, e.g. -l<library>\n   CPPFLAGS    (Objective) C/C++ preprocessor flags, e.g. -I<include dir> if\n               you have headers in a nonstandard directory <include dir>\n+  CPP         C preprocessor\n \n Use these variables to override the choices made by `configure' or to help\n it to find libraries and programs with nonstandard names/locations.\n@@ -1440,6 +1443,43 @@ fi\n   as_fn_set_status $ac_retval\n \n } # ac_fn_c_try_compile\n+\n+# ac_fn_c_try_cpp LINENO\n+# ----------------------\n+# Try to preprocess conftest.$ac_ext, and return whether this succeeded.\n+ac_fn_c_try_cpp ()\n+{\n+  as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n+  if { { ac_try=\"$ac_cpp conftest.$ac_ext\"\n+case \"(($ac_try\" in\n+  *\\\"* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n+  *) ac_try_echo=$ac_try;;\n+esac\n+eval ac_try_echo=\"\\\"\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\"\"\n+$as_echo \"$ac_try_echo\"; } >&5\n+  (eval \"$ac_cpp conftest.$ac_ext\") 2>conftest.err\n+  ac_status=$?\n+  if test -s conftest.err; then\n+    grep -v '^ *+' conftest.err >conftest.er1\n+    cat conftest.er1 >&5\n+    mv -f conftest.er1 conftest.err\n+  fi\n+  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n+  test $ac_status = 0; } > conftest.i && {\n+\t test -z \"$ac_c_preproc_warn_flag$ac_c_werror_flag\" ||\n+\t test ! -s conftest.err\n+       }; then :\n+  ac_retval=0\n+else\n+  $as_echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+    ac_retval=1\n+fi\n+  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno\n+  as_fn_set_status $ac_retval\n+\n+} # ac_fn_c_try_cpp\n cat >config.log <<_ACEOF\n This file contains any messages produced by compilers while\n running configure, to aid debugging if configure makes a mistake.\n@@ -3552,6 +3592,143 @@ ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n ac_compiler_gnu=$ac_cv_c_compiler_gnu\n \n+ac_ext=c\n+ac_cpp='$CPP $CPPFLAGS'\n+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n+ac_compiler_gnu=$ac_cv_c_compiler_gnu\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking how to run the C preprocessor\" >&5\n+$as_echo_n \"checking how to run the C preprocessor... \" >&6; }\n+# On Suns, sometimes $CPP names a directory.\n+if test -n \"$CPP\" && test -d \"$CPP\"; then\n+  CPP=\n+fi\n+if test -z \"$CPP\"; then\n+  if ${ac_cv_prog_CPP+:} false; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+      # Double quotes because CPP needs to be expanded\n+    for CPP in \"$CC -E\" \"$CC -E -traditional-cpp\" \"/lib/cpp\"\n+    do\n+      ac_preproc_ok=false\n+for ac_c_preproc_warn_flag in '' yes\n+do\n+  # Use a header file that comes with gcc, so configuring glibc\n+  # with a fresh cross-compiler works.\n+  # Prefer <limits.h> to <assert.h> if __STDC__ is defined, since\n+  # <limits.h> exists even on freestanding compilers.\n+  # On the NeXT, cc -E runs the code through the compiler's parser,\n+  # not just through cpp. \"Syntax error\" is here to catch this case.\n+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+#ifdef __STDC__\n+# include <limits.h>\n+#else\n+# include <assert.h>\n+#endif\n+\t\t     Syntax error\n+_ACEOF\n+if ac_fn_c_try_cpp \"$LINENO\"; then :\n+\n+else\n+  # Broken: fails on valid input.\n+continue\n+fi\n+rm -f conftest.err conftest.i conftest.$ac_ext\n+\n+  # OK, works on sane cases.  Now check whether nonexistent headers\n+  # can be detected and how.\n+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+#include <ac_nonexistent.h>\n+_ACEOF\n+if ac_fn_c_try_cpp \"$LINENO\"; then :\n+  # Broken: success on invalid input.\n+continue\n+else\n+  # Passes both tests.\n+ac_preproc_ok=:\n+break\n+fi\n+rm -f conftest.err conftest.i conftest.$ac_ext\n+\n+done\n+# Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.\n+rm -f conftest.i conftest.err conftest.$ac_ext\n+if $ac_preproc_ok; then :\n+  break\n+fi\n+\n+    done\n+    ac_cv_prog_CPP=$CPP\n+\n+fi\n+  CPP=$ac_cv_prog_CPP\n+else\n+  ac_cv_prog_CPP=$CPP\n+fi\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $CPP\" >&5\n+$as_echo \"$CPP\" >&6; }\n+ac_preproc_ok=false\n+for ac_c_preproc_warn_flag in '' yes\n+do\n+  # Use a header file that comes with gcc, so configuring glibc\n+  # with a fresh cross-compiler works.\n+  # Prefer <limits.h> to <assert.h> if __STDC__ is defined, since\n+  # <limits.h> exists even on freestanding compilers.\n+  # On the NeXT, cc -E runs the code through the compiler's parser,\n+  # not just through cpp. \"Syntax error\" is here to catch this case.\n+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+#ifdef __STDC__\n+# include <limits.h>\n+#else\n+# include <assert.h>\n+#endif\n+\t\t     Syntax error\n+_ACEOF\n+if ac_fn_c_try_cpp \"$LINENO\"; then :\n+\n+else\n+  # Broken: fails on valid input.\n+continue\n+fi\n+rm -f conftest.err conftest.i conftest.$ac_ext\n+\n+  # OK, works on sane cases.  Now check whether nonexistent headers\n+  # can be detected and how.\n+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+#include <ac_nonexistent.h>\n+_ACEOF\n+if ac_fn_c_try_cpp \"$LINENO\"; then :\n+  # Broken: success on invalid input.\n+continue\n+else\n+  # Passes both tests.\n+ac_preproc_ok=:\n+break\n+fi\n+rm -f conftest.err conftest.i conftest.$ac_ext\n+\n+done\n+# Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.\n+rm -f conftest.i conftest.err conftest.$ac_ext\n+if $ac_preproc_ok; then :\n+\n+else\n+  { { $as_echo \"$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\" >&5\n+$as_echo \"$as_me: error: in \\`$ac_pwd':\" >&2;}\n+as_fn_error $? \"C preprocessor \\\"$CPP\\\" fails sanity check\n+See \\`config.log' for more details\" \"$LINENO\" 5; }\n+fi\n+\n+ac_ext=c\n+ac_cpp='$CPP $CPPFLAGS'\n+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n+ac_compiler_gnu=$ac_cv_c_compiler_gnu\n+\n \n \n AR=${AR-ar}"
    },
    {
      "sha": "99364cac7f4efacc061d15c3a77bf3b50b366478",
      "filename": "sim/configure.ac",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5e25901fcc5e8a75e86b6829d3f887d4fbbea91e/sim/configure.ac",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5e25901fcc5e8a75e86b6829d3f887d4fbbea91e/sim/configure.ac",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/configure.ac?ref=5e25901fcc5e8a75e86b6829d3f887d4fbbea91e",
      "patch": "@@ -10,6 +10,7 @@ AC_CHECK_TOOL(RANLIB, ranlib, :)\n AC_CANONICAL_SYSTEM\n AC_ARG_PROGRAM\n AC_PROG_CC\n+AC_PROG_CPP\n AC_SUBST(CFLAGS)\n AC_SUBST(HDEFINES)\n AR=${AR-ar}"
    }
  ]
}