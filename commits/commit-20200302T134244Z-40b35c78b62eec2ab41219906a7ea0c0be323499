{
  "sha": "40b35c78b62eec2ab41219906a7ea0c0be323499",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NDBiMzVjNzhiNjJlZWMyYWI0MTIxOTkwNmE3ZWEwYzBiZTMyMzQ5OQ==",
  "commit": {
    "author": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2020-03-02T13:38:42Z"
    },
    "committer": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2020-03-02T13:42:44Z"
    },
    "message": "Re: bfd_cleanup for object_p\n\nI hate files that you can't compile.\n\n\t* cisco-core.c (cisco_core_file_p): Return bfd_cleanup.\n\t* hpux-core.c (hpux_core_core_file_p): Update prototype.\n\t* sco5-core.c (sco5_core_file_p): Return bfd_cleanup.\n\t(core_sco5_vec): Correct initialisers.",
    "tree": {
      "sha": "396142410fbe8e426380c6b7c90075f5c8a3ddbb",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/396142410fbe8e426380c6b7c90075f5c8a3ddbb"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/40b35c78b62eec2ab41219906a7ea0c0be323499",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/40b35c78b62eec2ab41219906a7ea0c0be323499",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/40b35c78b62eec2ab41219906a7ea0c0be323499",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/40b35c78b62eec2ab41219906a7ea0c0be323499/comments",
  "author": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "601b73d5003ef804b49dfe42afd0fba0952218de",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/601b73d5003ef804b49dfe42afd0fba0952218de",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/601b73d5003ef804b49dfe42afd0fba0952218de"
    }
  ],
  "stats": {
    "total": 35,
    "additions": 23,
    "deletions": 12
  },
  "files": [
    {
      "sha": "1f9e20581fe1194f52a4ef4bd28401611d5a6739",
      "filename": "bfd/ChangeLog",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/40b35c78b62eec2ab41219906a7ea0c0be323499/bfd/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/40b35c78b62eec2ab41219906a7ea0c0be323499/bfd/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/ChangeLog?ref=40b35c78b62eec2ab41219906a7ea0c0be323499",
      "patch": "@@ -1,3 +1,10 @@\n+2020-03-02  Alan Modra  <amodra@gmail.com>\n+\n+\t* cisco-core.c (cisco_core_file_p): Return bfd_cleanup.\n+\t* hpux-core.c (hpux_core_core_file_p): Update prototype.\n+\t* sco5-core.c (sco5_core_file_p): Return bfd_cleanup.\n+\t(core_sco5_vec): Correct initialisers.\n+\n 2020-03-02  Alan Modra  <amodra@gmail.com>\n \n \t* aix386-core.c (aix386_core_file_p): Return bfd_cleanup."
    },
    {
      "sha": "b733d14249463b4c0f78a135b4769957589e7ae1",
      "filename": "bfd/cisco-core.c",
      "status": "modified",
      "additions": 5,
      "deletions": 5,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/40b35c78b62eec2ab41219906a7ea0c0be323499/bfd/cisco-core.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/40b35c78b62eec2ab41219906a7ea0c0be323499/bfd/cisco-core.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/cisco-core.c?ref=40b35c78b62eec2ab41219906a7ea0c0be323499",
      "patch": "@@ -286,19 +286,19 @@ cisco_core_file_validate (bfd *abfd, int crash_info_loc)\n   return NULL;\n }\n \n-static const bfd_target *\n+static bfd_cleanup\n cisco_core_file_p (bfd *abfd)\n {\n   int *crash_info_locp;\n-  const bfd_target *target = NULL;\n+  bfd_cleanup cleanup = NULL;\n \n   for (crash_info_locp = crash_info_locs;\n-       *crash_info_locp != -1  &&  target == NULL;\n+       *crash_info_locp != -1 && cleanup == NULL;\n        crash_info_locp++)\n     {\n-      target = cisco_core_file_validate (abfd, *crash_info_locp);\n+      cleanup = cisco_core_file_validate (abfd, *crash_info_locp);\n     }\n-  return (target);\n+  return cleanup;\n }\n \n static char *"
    },
    {
      "sha": "2ecd4f17d5916f780a7e7940fa3b03bf88e76a6a",
      "filename": "bfd/hpux-core.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/40b35c78b62eec2ab41219906a7ea0c0be323499/bfd/hpux-core.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/40b35c78b62eec2ab41219906a7ea0c0be323499/bfd/hpux-core.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/hpux-core.c?ref=40b35c78b62eec2ab41219906a7ea0c0be323499",
      "patch": "@@ -106,7 +106,7 @@ struct hpux_core_struct\n \n static asection *make_bfd_asection (bfd *, const char *, flagword,\n \t\t\t\t    bfd_size_type, bfd_vma, unsigned int);\n-static const bfd_target *hpux_core_core_file_p (bfd *);\n+static bfd_cleanup hpux_core_core_file_p (bfd *);\n static char *hpux_core_core_file_failing_command (bfd *);\n static int hpux_core_core_file_failing_signal (bfd *);\n static void swap_abort (void);"
    },
    {
      "sha": "71e264da4aa3638ebab6da177abf00adef2a0cbc",
      "filename": "bfd/sco5-core.c",
      "status": "modified",
      "additions": 10,
      "deletions": 6,
      "changes": 16,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/40b35c78b62eec2ab41219906a7ea0c0be323499/bfd/sco5-core.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/40b35c78b62eec2ab41219906a7ea0c0be323499/bfd/sco5-core.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/sco5-core.c?ref=40b35c78b62eec2ab41219906a7ea0c0be323499",
      "patch": "@@ -101,7 +101,7 @@ read_uarea (bfd *abfd, int filepos)\n   return &rawptr->u;\n }\n \n-const bfd_cleanup\n+bfd_cleanup\n sco5_core_file_p (bfd *abfd)\n {\n   int coffset_siz, val, nsecs, cheadoffs;\n@@ -172,7 +172,7 @@ sco5_core_file_p (bfd *abfd)\n \t\t\t      (file_ptr) coffsets.u_stack))\n \tgoto fail;\n \n-      return abfd->xvec;\t\t/* Done for version 1 */\n+      return _bfd_no_cleanup;\t\t/* Done for version 1 */\n     }\n \n   /* Immediately before coreoffsets region is a long with offset in core\n@@ -372,12 +372,16 @@ const bfd_target core_sco5_vec =\n       sco5_core_file_p\t\t\t/* a core file */\n     },\n     {\t\t\t\t/* bfd_set_format */\n-      _bfd_bool_bfd_false_error, bfd_false,\n-      _bfd_bool_bfd_false_error, bfd_false\n+      _bfd_bool_bfd_false_error,\n+      _bfd_bool_bfd_false_error,\n+      _bfd_bool_bfd_false_error,\n+      _bfd_bool_bfd_false_error\n     },\n     {\t\t\t\t/* bfd_write_contents */\n-      _bfd_bool_bfd_false_error, bfd_false,\n-      _bfd_bool_bfd_false_error, bfd_false\n+      _bfd_bool_bfd_false_error,\n+      _bfd_bool_bfd_false_error,\n+      _bfd_bool_bfd_false_error,\n+      _bfd_bool_bfd_false_error\n     },\n \n     BFD_JUMP_TABLE_GENERIC (_bfd_generic),"
    }
  ]
}