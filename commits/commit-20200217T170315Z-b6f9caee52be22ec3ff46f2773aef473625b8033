{
  "sha": "b6f9caee52be22ec3ff46f2773aef473625b8033",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YjZmOWNhZWU1MmJlMjJlYzNmZjQ2ZjI3NzNhZWY0NzM2MjViODAzMw==",
  "commit": {
    "author": {
      "name": "Tom Tromey",
      "email": "tom@tromey.com",
      "date": "2020-02-17T17:00:26Z"
    },
    "committer": {
      "name": "Tom Tromey",
      "email": "tom@tromey.com",
      "date": "2020-02-17T17:03:15Z"
    },
    "message": "Fix gdbserver-without-gdb build\n\nAn earlier patch changed gdbserver to use the already-built top-level\ngnulib and gdbsupport.  However, if one did a build that did not\ninclude gdb, then gdbserver would fail to build.\n\nThe problem is that configure.ac only adds gnulib and gdbsupport to\nthe build when gdb is being built.  This patch fixes the problem by\narranging for this to happen when gdbserver is built.\n\nChangeLog\n2020-02-17  Tom Tromey  <tom@tromey.com>\n\n\t* configure: Rebuild.\n\t* configure.ac (configdirs): Add gnulib and gdbsupport when building\n\tgdbserver.",
    "tree": {
      "sha": "7fea7987745ca938bcc36056365c95c968a0c5ed",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/7fea7987745ca938bcc36056365c95c968a0c5ed"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/b6f9caee52be22ec3ff46f2773aef473625b8033",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/b6f9caee52be22ec3ff46f2773aef473625b8033",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/b6f9caee52be22ec3ff46f2773aef473625b8033",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/b6f9caee52be22ec3ff46f2773aef473625b8033/comments",
  "author": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "272a84b1204fdd4e96df689383b163b4a52be933",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/272a84b1204fdd4e96df689383b163b4a52be933",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/272a84b1204fdd4e96df689383b163b4a52be933"
    }
  ],
  "stats": {
    "total": 42,
    "additions": 28,
    "deletions": 14
  },
  "files": [
    {
      "sha": "880ffdd70c96c91dd28243f9824cfafde3b3fb6b",
      "filename": "ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b6f9caee52be22ec3ff46f2773aef473625b8033/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b6f9caee52be22ec3ff46f2773aef473625b8033/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ChangeLog?ref=b6f9caee52be22ec3ff46f2773aef473625b8033",
      "patch": "@@ -1,3 +1,9 @@\n+2020-02-17  Tom Tromey  <tom@tromey.com>\n+\n+\t* configure: Rebuild.\n+\t* configure.ac (configdirs): Add gnulib and gdbsupport when building\n+\tgdbserver.\n+\n 2020-02-14  Tom Tromey  <tom@tromey.com>\n \n \t* Makefile.in: Rebuild."
    },
    {
      "sha": "1c5403e9e4d327c849998bd9abaa2a75f4390c8c",
      "filename": "configure",
      "status": "modified",
      "additions": 11,
      "deletions": 7,
      "changes": 18,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b6f9caee52be22ec3ff46f2773aef473625b8033/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b6f9caee52be22ec3ff46f2773aef473625b8033/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/configure?ref=b6f9caee52be22ec3ff46f2773aef473625b8033",
      "patch": "@@ -7360,13 +7360,17 @@ esac\n CONFIGURE_GDB_TK=`echo ${GDB_TK} | sed s/-all-/-configure-/g`\n INSTALL_GDB_TK=`echo ${GDB_TK} | sed s/-all-/-install-/g`\n \n-# gdb depends on gnulib and gdbsupport, but as nothing else does, only\n-# include them if gdb is built.\n-if echo \" ${configdirs} \" | grep \" gdb \" > /dev/null 2>&1 ; then\n-  # The Makefile provides the ordering, so it's enough here to add to\n-  # the list.\n-  configdirs=\"${configdirs} gnulib gdbsupport\"\n-fi\n+# gdb and gdbserver depend on gnulib and gdbsupport, but as nothing\n+# else does, only include them if one of these is built.  The Makefile\n+# provides the ordering, so it's enough here to add to the list.\n+case \" ${configdirs} \" in\n+  *\\ gdb\\ *)\n+    configdirs=\"${configdirs} gnulib gdbsupport\"\n+    ;;\n+  *\\ gdbserver\\ *)\n+    configdirs=\"${configdirs} gnulib gdbsupport\"\n+    ;;\n+esac\n \n # Strip out unwanted targets.\n "
    },
    {
      "sha": "f3065091c26413a3a120dbf6a1492554ac142084",
      "filename": "configure.ac",
      "status": "modified",
      "additions": 11,
      "deletions": 7,
      "changes": 18,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b6f9caee52be22ec3ff46f2773aef473625b8033/configure.ac",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b6f9caee52be22ec3ff46f2773aef473625b8033/configure.ac",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/configure.ac?ref=b6f9caee52be22ec3ff46f2773aef473625b8033",
      "patch": "@@ -2746,13 +2746,17 @@ esac\n CONFIGURE_GDB_TK=`echo ${GDB_TK} | sed s/-all-/-configure-/g`\n INSTALL_GDB_TK=`echo ${GDB_TK} | sed s/-all-/-install-/g`\n \n-# gdb depends on gnulib and gdbsupport, but as nothing else does, only\n-# include them if gdb is built.\n-if echo \" ${configdirs} \" | grep \" gdb \" > /dev/null 2>&1 ; then\n-  # The Makefile provides the ordering, so it's enough here to add to\n-  # the list.\n-  configdirs=\"${configdirs} gnulib gdbsupport\"\n-fi\n+# gdb and gdbserver depend on gnulib and gdbsupport, but as nothing\n+# else does, only include them if one of these is built.  The Makefile\n+# provides the ordering, so it's enough here to add to the list.\n+case \" ${configdirs} \" in\n+  *\\ gdb\\ *)\n+    configdirs=\"${configdirs} gnulib gdbsupport\"\n+    ;;\n+  *\\ gdbserver\\ *)\n+    configdirs=\"${configdirs} gnulib gdbsupport\"\n+    ;;\n+esac\n \n # Strip out unwanted targets.\n "
    }
  ]
}