{
  "sha": "b34084121ae20b04e22d44d6a2891f54fef7ffd2",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YjM0MDg0MTIxYWUyMGIwNGUyMmQ0NGQ2YTI4OTFmNTRmZWY3ZmZkMg==",
  "commit": {
    "author": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-06-23T02:31:12Z"
    },
    "committer": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-06-23T22:12:43Z"
    },
    "message": "sim: switch common srcdir to abs_srcdir\n\nWe rewrite srcdir in subdir Makefiles that we generate from the common\nparent dir since it points to the parent dir.  Since @srcdir@ can be a\nvariety of formats (relative & absolute), switch to @abs_srcdir@ which\nis a lot easier to adjust.  Our use of srcdir in here should handle it.",
    "tree": {
      "sha": "47e2956f2e6829dda0a5a14555daeff16776d11f",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/47e2956f2e6829dda0a5a14555daeff16776d11f"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/b34084121ae20b04e22d44d6a2891f54fef7ffd2",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/b34084121ae20b04e22d44d6a2891f54fef7ffd2",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/b34084121ae20b04e22d44d6a2891f54fef7ffd2",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/b34084121ae20b04e22d44d6a2891f54fef7ffd2/comments",
  "author": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "2dd865d7c13559fe389e0c3e9ba4a92c5e312e9b",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/2dd865d7c13559fe389e0c3e9ba4a92c5e312e9b",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/2dd865d7c13559fe389e0c3e9ba4a92c5e312e9b"
    }
  ],
  "stats": {
    "total": 49,
    "additions": 29,
    "deletions": 20
  },
  "files": [
    {
      "sha": "804a2ac11dbca0f4e1bf883babcb6e59d54f0e27",
      "filename": "sim/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b34084121ae20b04e22d44d6a2891f54fef7ffd2/sim/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b34084121ae20b04e22d44d6a2891f54fef7ffd2/sim/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ChangeLog?ref=b34084121ae20b04e22d44d6a2891f54fef7ffd2",
      "patch": "@@ -1,3 +1,8 @@\n+2021-06-23  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* configure.ac (SIM_BUILD_TARGET): Simplify sed script.\n+\t* configure: Regenerate.\n+\n 2021-06-22  Mike Frysinger  <vapier@gentoo.org>\n \n \t* configure.ac: Update rx SIM_TARGET call.  Include rx/acinclude.m4."
    },
    {
      "sha": "bb1a967c298cae0afdcb07a3616809b6ee9116cc",
      "filename": "sim/common/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b34084121ae20b04e22d44d6a2891f54fef7ffd2/sim/common/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b34084121ae20b04e22d44d6a2891f54fef7ffd2/sim/common/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/common/ChangeLog?ref=b34084121ae20b04e22d44d6a2891f54fef7ffd2",
      "patch": "@@ -1,3 +1,7 @@\n+2021-06-23  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* Make-common.in (srcdir): Change to abs_srcdir.\n+\n 2021-06-22  Mike Frysinger  <vapier@gentoo.org>\n \n \t* callback.c (cb_target_to_host_signal): New function."
    },
    {
      "sha": "c203b4e1c7bf6bd2f1458868d4d1995964fa2d18",
      "filename": "sim/common/Make-common.in",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b34084121ae20b04e22d44d6a2891f54fef7ffd2/sim/common/Make-common.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b34084121ae20b04e22d44d6a2891f54fef7ffd2/sim/common/Make-common.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/common/Make-common.in?ref=b34084121ae20b04e22d44d6a2891f54fef7ffd2",
      "patch": "@@ -34,7 +34,7 @@\n \n ## COMMON_PRE_CONFIG_FRAG\n \n-srcdir = @srcdir@\n+srcdir = @abs_srcdir@\n VPATH = $(srcdir):$(srccom)\n srccom = $(srcdir)/../common\n srcroot = $(srcdir)/../.."
    },
    {
      "sha": "21ba12179d29081319f48730fdba3bda2566c8f2",
      "filename": "sim/configure",
      "status": "modified",
      "additions": 18,
      "deletions": 18,
      "changes": 36,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b34084121ae20b04e22d44d6a2891f54fef7ffd2/sim/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b34084121ae20b04e22d44d6a2891f54fef7ffd2/sim/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/configure?ref=b34084121ae20b04e22d44d6a2891f54fef7ffd2",
      "patch": "@@ -16709,7 +16709,7 @@ $as_echo X\"$file\" |\n  ;;\n     \"aarch64/Makefile\":C) sed -n \\\n \t-e '/^## COMMON_PRE_/,/^## End COMMON_PRE_/ {\n-\t\t/^srcdir / { s:= := ../:; s:$:/aarch64:; }\n+\t\t/^srcdir = / s:$:/aarch64:\n \t\tp\n \t}' \\\n \t<Make-common.sim >aarch64/Makesim1.tmp\n@@ -16722,7 +16722,7 @@ $as_echo X\"$file\" |\n     \"depdir-aarch64\":C) $SHELL $ac_aux_dir/mkinstalldirs aarch64/$DEPDIR ;;\n     \"arm/Makefile\":C) sed -n \\\n \t-e '/^## COMMON_PRE_/,/^## End COMMON_PRE_/ {\n-\t\t/^srcdir / { s:= := ../:; s:$:/arm:; }\n+\t\t/^srcdir = / s:$:/arm:\n \t\tp\n \t}' \\\n \t<Make-common.sim >arm/Makesim1.tmp\n@@ -16735,7 +16735,7 @@ $as_echo X\"$file\" |\n     \"depdir-arm\":C) $SHELL $ac_aux_dir/mkinstalldirs arm/$DEPDIR ;;\n     \"avr/Makefile\":C) sed -n \\\n \t-e '/^## COMMON_PRE_/,/^## End COMMON_PRE_/ {\n-\t\t/^srcdir / { s:= := ../:; s:$:/avr:; }\n+\t\t/^srcdir = / s:$:/avr:\n \t\tp\n \t}' \\\n \t<Make-common.sim >avr/Makesim1.tmp\n@@ -16750,7 +16750,7 @@ $as_echo X\"$file\" |\n     \"depdir-bpf\":C) $SHELL $ac_aux_dir/mkinstalldirs bpf/$DEPDIR ;;\n     \"cr16/Makefile\":C) sed -n \\\n \t-e '/^## COMMON_PRE_/,/^## End COMMON_PRE_/ {\n-\t\t/^srcdir / { s:= := ../:; s:$:/cr16:; }\n+\t\t/^srcdir = / s:$:/cr16:\n \t\tp\n \t}' \\\n \t<Make-common.sim >cr16/Makesim1.tmp\n@@ -16764,7 +16764,7 @@ $as_echo X\"$file\" |\n     \"depdir-cris\":C) $SHELL $ac_aux_dir/mkinstalldirs cris/$DEPDIR ;;\n     \"d10v/Makefile\":C) sed -n \\\n \t-e '/^## COMMON_PRE_/,/^## End COMMON_PRE_/ {\n-\t\t/^srcdir / { s:= := ../:; s:$:/d10v:; }\n+\t\t/^srcdir = / s:$:/d10v:\n \t\tp\n \t}' \\\n \t<Make-common.sim >d10v/Makesim1.tmp\n@@ -16778,7 +16778,7 @@ $as_echo X\"$file\" |\n     \"depdir-frv\":C) $SHELL $ac_aux_dir/mkinstalldirs frv/$DEPDIR ;;\n     \"ft32/Makefile\":C) sed -n \\\n \t-e '/^## COMMON_PRE_/,/^## End COMMON_PRE_/ {\n-\t\t/^srcdir / { s:= := ../:; s:$:/ft32:; }\n+\t\t/^srcdir = / s:$:/ft32:\n \t\tp\n \t}' \\\n \t<Make-common.sim >ft32/Makesim1.tmp\n@@ -16791,7 +16791,7 @@ $as_echo X\"$file\" |\n     \"depdir-ft32\":C) $SHELL $ac_aux_dir/mkinstalldirs ft32/$DEPDIR ;;\n     \"h8300/Makefile\":C) sed -n \\\n \t-e '/^## COMMON_PRE_/,/^## End COMMON_PRE_/ {\n-\t\t/^srcdir / { s:= := ../:; s:$:/h8300:; }\n+\t\t/^srcdir = / s:$:/h8300:\n \t\tp\n \t}' \\\n \t<Make-common.sim >h8300/Makesim1.tmp\n@@ -16806,7 +16806,7 @@ $as_echo X\"$file\" |\n     \"depdir-lm32\":C) $SHELL $ac_aux_dir/mkinstalldirs lm32/$DEPDIR ;;\n     \"m32c/Makefile\":C) sed -n \\\n \t-e '/^## COMMON_PRE_/,/^## End COMMON_PRE_/ {\n-\t\t/^srcdir / { s:= := ../:; s:$:/m32c:; }\n+\t\t/^srcdir = / s:$:/m32c:\n \t\tp\n \t}' \\\n \t<Make-common.sim >m32c/Makesim1.tmp\n@@ -16820,7 +16820,7 @@ $as_echo X\"$file\" |\n     \"depdir-m32r\":C) $SHELL $ac_aux_dir/mkinstalldirs m32r/$DEPDIR ;;\n     \"m68hc11/Makefile\":C) sed -n \\\n \t-e '/^## COMMON_PRE_/,/^## End COMMON_PRE_/ {\n-\t\t/^srcdir / { s:= := ../:; s:$:/m68hc11:; }\n+\t\t/^srcdir = / s:$:/m68hc11:\n \t\tp\n \t}' \\\n \t<Make-common.sim >m68hc11/Makesim1.tmp\n@@ -16833,7 +16833,7 @@ $as_echo X\"$file\" |\n     \"depdir-m68hc11\":C) $SHELL $ac_aux_dir/mkinstalldirs m68hc11/$DEPDIR ;;\n     \"mcore/Makefile\":C) sed -n \\\n \t-e '/^## COMMON_PRE_/,/^## End COMMON_PRE_/ {\n-\t\t/^srcdir / { s:= := ../:; s:$:/mcore:; }\n+\t\t/^srcdir = / s:$:/mcore:\n \t\tp\n \t}' \\\n \t<Make-common.sim >mcore/Makesim1.tmp\n@@ -16846,7 +16846,7 @@ $as_echo X\"$file\" |\n     \"depdir-mcore\":C) $SHELL $ac_aux_dir/mkinstalldirs mcore/$DEPDIR ;;\n     \"microblaze/Makefile\":C) sed -n \\\n \t-e '/^## COMMON_PRE_/,/^## End COMMON_PRE_/ {\n-\t\t/^srcdir / { s:= := ../:; s:$:/microblaze:; }\n+\t\t/^srcdir = / s:$:/microblaze:\n \t\tp\n \t}' \\\n \t<Make-common.sim >microblaze/Makesim1.tmp\n@@ -16861,7 +16861,7 @@ $as_echo X\"$file\" |\n     \"depdir-mn10300\":C) $SHELL $ac_aux_dir/mkinstalldirs mn10300/$DEPDIR ;;\n     \"moxie/Makefile\":C) sed -n \\\n \t-e '/^## COMMON_PRE_/,/^## End COMMON_PRE_/ {\n-\t\t/^srcdir / { s:= := ../:; s:$:/moxie:; }\n+\t\t/^srcdir = / s:$:/moxie:\n \t\tp\n \t}' \\\n \t<Make-common.sim >moxie/Makesim1.tmp\n@@ -16874,7 +16874,7 @@ $as_echo X\"$file\" |\n     \"depdir-moxie\":C) $SHELL $ac_aux_dir/mkinstalldirs moxie/$DEPDIR ;;\n     \"msp430/Makefile\":C) sed -n \\\n \t-e '/^## COMMON_PRE_/,/^## End COMMON_PRE_/ {\n-\t\t/^srcdir / { s:= := ../:; s:$:/msp430:; }\n+\t\t/^srcdir = / s:$:/msp430:\n \t\tp\n \t}' \\\n \t<Make-common.sim >msp430/Makesim1.tmp\n@@ -16888,7 +16888,7 @@ $as_echo X\"$file\" |\n     \"depdir-or1k\":C) $SHELL $ac_aux_dir/mkinstalldirs or1k/$DEPDIR ;;\n     \"pru/Makefile\":C) sed -n \\\n \t-e '/^## COMMON_PRE_/,/^## End COMMON_PRE_/ {\n-\t\t/^srcdir / { s:= := ../:; s:$:/pru:; }\n+\t\t/^srcdir = / s:$:/pru:\n \t\tp\n \t}' \\\n \t<Make-common.sim >pru/Makesim1.tmp\n@@ -16902,7 +16902,7 @@ $as_echo X\"$file\" |\n     \"depdir-riscv\":C) $SHELL $ac_aux_dir/mkinstalldirs riscv/$DEPDIR ;;\n     \"rl78/Makefile\":C) sed -n \\\n \t-e '/^## COMMON_PRE_/,/^## End COMMON_PRE_/ {\n-\t\t/^srcdir / { s:= := ../:; s:$:/rl78:; }\n+\t\t/^srcdir = / s:$:/rl78:\n \t\tp\n \t}' \\\n \t<Make-common.sim >rl78/Makesim1.tmp\n@@ -16915,7 +16915,7 @@ $as_echo X\"$file\" |\n     \"depdir-rl78\":C) $SHELL $ac_aux_dir/mkinstalldirs rl78/$DEPDIR ;;\n     \"rx/Makefile\":C) sed -n \\\n \t-e '/^## COMMON_PRE_/,/^## End COMMON_PRE_/ {\n-\t\t/^srcdir / { s:= := ../:; s:$:/rx:; }\n+\t\t/^srcdir = / s:$:/rx:\n \t\tp\n \t}' \\\n \t<Make-common.sim >rx/Makesim1.tmp\n@@ -16928,7 +16928,7 @@ $as_echo X\"$file\" |\n     \"depdir-rx\":C) $SHELL $ac_aux_dir/mkinstalldirs rx/$DEPDIR ;;\n     \"sh/Makefile\":C) sed -n \\\n \t-e '/^## COMMON_PRE_/,/^## End COMMON_PRE_/ {\n-\t\t/^srcdir / { s:= := ../:; s:$:/sh:; }\n+\t\t/^srcdir = / s:$:/sh:\n \t\tp\n \t}' \\\n \t<Make-common.sim >sh/Makesim1.tmp\n@@ -16944,7 +16944,7 @@ $as_echo X\"$file\" |\n     \"depdir-v850\":C) $SHELL $ac_aux_dir/mkinstalldirs v850/$DEPDIR ;;\n     \"example-synacor/Makefile\":C) sed -n \\\n \t-e '/^## COMMON_PRE_/,/^## End COMMON_PRE_/ {\n-\t\t/^srcdir / { s:= := ../:; s:$:/example-synacor:; }\n+\t\t/^srcdir = / s:$:/example-synacor:\n \t\tp\n \t}' \\\n \t<Make-common.sim >example-synacor/Makesim1.tmp"
    },
    {
      "sha": "3632b559bf0fd07c39d0baa595d594fd36c217d3",
      "filename": "sim/configure.ac",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b34084121ae20b04e22d44d6a2891f54fef7ffd2/sim/configure.ac",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b34084121ae20b04e22d44d6a2891f54fef7ffd2/sim/configure.ac",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/configure.ac?ref=b34084121ae20b04e22d44d6a2891f54fef7ffd2",
      "patch": "@@ -69,7 +69,7 @@ m4_define([SIM_BUILD_TARGET], [dnl\n     AC_CONFIG_COMMANDS([$1/Makefile],\n [sed -n \\\n \t-e '/^## COMMON_PRE_/,/^## End COMMON_PRE_/ {\n-\t\t/^srcdir / { s:= := ../:; s:$:/$1:; }\n+\t\t/^srcdir = / s:$:/$1:\n \t\tp\n \t}' \\\n \t<Make-common.sim >$1/Makesim1.tmp"
    }
  ]
}