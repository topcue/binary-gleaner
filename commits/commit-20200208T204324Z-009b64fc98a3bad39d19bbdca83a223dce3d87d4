{
  "sha": "009b64fc98a3bad39d19bbdca83a223dce3d87d4",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MDA5YjY0ZmM5OGEzYmFkMzlkMTliYmRjYTgzYTIyM2RjZTNkODdkNA==",
  "commit": {
    "author": {
      "name": "Tom Tromey",
      "email": "tom@tromey.com",
      "date": "2020-02-08T20:40:54Z"
    },
    "committer": {
      "name": "Tom Tromey",
      "email": "tom@tromey.com",
      "date": "2020-02-08T20:43:24Z"
    },
    "message": "Move dwarf_always_disassemble to dwarf2/loc.c\n\ndwarf_always_disassemble is only used in dwarf2/loc.c, so move the\ndefinition and the command infrastructure to that file.\n\n2020-02-08  Tom Tromey  <tom@tromey.com>\n\n\t* dwarf2/read.c (dwarf_always_disassemble)\n\t(show_dwarf_always_disassemble): Move to loc.c.\n\t(_initialize_dwarf2_read): Move \"always-disassemble\" registration\n\tto loc.c.\n\t* dwarf2/read.h (dwarf_always_disassemble): Don't declare.\n\t* dwarf2/loc.c (dwarf_always_disassemble): Move from read.c.  Now\n\tstatic.\n\t(show_dwarf_always_disassemble): Move from read.c.\n\t(_initialize_dwarf2loc): Move always-disassemble from read.c.\n\nChange-Id: I33fb88112e98e583c3f4919d20e4d100f2ea0124",
    "tree": {
      "sha": "882afa596b156b851e975ff9d67aada38c59b26f",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/882afa596b156b851e975ff9d67aada38c59b26f"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/009b64fc98a3bad39d19bbdca83a223dce3d87d4",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/009b64fc98a3bad39d19bbdca83a223dce3d87d4",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/009b64fc98a3bad39d19bbdca83a223dce3d87d4",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/009b64fc98a3bad39d19bbdca83a223dce3d87d4/comments",
  "author": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "5895093f4a8767f8ad41cdc06f3f24b41cacf748",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/5895093f4a8767f8ad41cdc06f3f24b41cacf748",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/5895093f4a8767f8ad41cdc06f3f24b41cacf748"
    }
  ],
  "stats": {
    "total": 62,
    "additions": 36,
    "deletions": 26
  },
  "files": [
    {
      "sha": "07481add73c0f8f93dc102c494027dbe336d22cd",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 12,
      "deletions": 0,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/009b64fc98a3bad39d19bbdca83a223dce3d87d4/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/009b64fc98a3bad39d19bbdca83a223dce3d87d4/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=009b64fc98a3bad39d19bbdca83a223dce3d87d4",
      "patch": "@@ -1,3 +1,15 @@\n+2020-02-08  Tom Tromey  <tom@tromey.com>\n+\n+\t* dwarf2/read.c (dwarf_always_disassemble)\n+\t(show_dwarf_always_disassemble): Move to loc.c.\n+\t(_initialize_dwarf2_read): Move \"always-disassemble\" registration\n+\tto loc.c.\n+\t* dwarf2/read.h (dwarf_always_disassemble): Don't declare.\n+\t* dwarf2/loc.c (dwarf_always_disassemble): Move from read.c.  Now\n+\tstatic.\n+\t(show_dwarf_always_disassemble): Move from read.c.\n+\t(_initialize_dwarf2loc): Move always-disassemble from read.c.\n+\n 2020-02-08  Tom Tromey  <tom@tromey.com>\n \n \t* dwarf2/read.c (~dwarf2_per_objfile): Update."
    },
    {
      "sha": "e337a02d473adc8295eaa10c45f45b532411b78a",
      "filename": "gdb/dwarf2/loc.c",
      "status": "modified",
      "additions": 24,
      "deletions": 0,
      "changes": 24,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/009b64fc98a3bad39d19bbdca83a223dce3d87d4/gdb/dwarf2/loc.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/009b64fc98a3bad39d19bbdca83a223dce3d87d4/gdb/dwarf2/loc.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/dwarf2/loc.c?ref=009b64fc98a3bad39d19bbdca83a223dce3d87d4",
      "patch": "@@ -4177,6 +4177,18 @@ disassemble_dwarf_expression (struct ui_file *stream,\n   return data;\n }\n \n+static bool dwarf_always_disassemble;\n+\n+static void\n+show_dwarf_always_disassemble (struct ui_file *file, int from_tty,\n+\t\t\t       struct cmd_list_element *c, const char *value)\n+{\n+  fprintf_filtered (file,\n+\t\t    _(\"Whether to always disassemble \"\n+\t\t      \"DWARF expressions is %s.\\n\"),\n+\t\t    value);\n+}\n+\n /* Describe a single location, which may in turn consist of multiple\n    pieces.  */\n \n@@ -4570,4 +4582,16 @@ _initialize_dwarf2loc ()\n \t\t\t     NULL,\n \t\t\t     show_entry_values_debug,\n \t\t\t     &setdebuglist, &showdebuglist);\n+\n+  add_setshow_boolean_cmd (\"always-disassemble\", class_obscure,\n+\t\t\t   &dwarf_always_disassemble, _(\"\\\n+Set whether `info address' always disassembles DWARF expressions.\"), _(\"\\\n+Show whether `info address' always disassembles DWARF expressions.\"), _(\"\\\n+When enabled, DWARF expressions are always printed in an assembly-like\\n\\\n+syntax.  When disabled, expressions will be printed in a more\\n\\\n+conversational style, when possible.\"),\n+\t\t\t   NULL,\n+\t\t\t   show_dwarf_always_disassemble,\n+\t\t\t   &set_dwarf_cmdlist,\n+\t\t\t   &show_dwarf_cmdlist);\n }"
    },
    {
      "sha": "9cda828b198f316727c81bdc8356b0513c56ba2f",
      "filename": "gdb/dwarf2/read.c",
      "status": "modified",
      "additions": 0,
      "deletions": 24,
      "changes": 24,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/009b64fc98a3bad39d19bbdca83a223dce3d87d4/gdb/dwarf2/read.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/009b64fc98a3bad39d19bbdca83a223dce3d87d4/gdb/dwarf2/read.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/dwarf2/read.c?ref=009b64fc98a3bad39d19bbdca83a223dce3d87d4",
      "patch": "@@ -25345,18 +25345,6 @@ show_dwarf_cmd (const char *args, int from_tty)\n   cmd_show_list (show_dwarf_cmdlist, from_tty, \"\");\n }\n \n-bool dwarf_always_disassemble;\n-\n-static void\n-show_dwarf_always_disassemble (struct ui_file *file, int from_tty,\n-\t\t\t       struct cmd_list_element *c, const char *value)\n-{\n-  fprintf_filtered (file,\n-\t\t    _(\"Whether to always disassemble \"\n-\t\t      \"DWARF expressions is %s.\\n\"),\n-\t\t    value);\n-}\n-\n static void\n show_check_physname (struct ui_file *file, int from_tty,\n \t\t     struct cmd_list_element *c, const char *value)\n@@ -25394,18 +25382,6 @@ caching, which can slow down startup.\"),\n \t\t\t    &set_dwarf_cmdlist,\n \t\t\t    &show_dwarf_cmdlist);\n \n-  add_setshow_boolean_cmd (\"always-disassemble\", class_obscure,\n-\t\t\t   &dwarf_always_disassemble, _(\"\\\n-Set whether `info address' always disassembles DWARF expressions.\"), _(\"\\\n-Show whether `info address' always disassembles DWARF expressions.\"), _(\"\\\n-When enabled, DWARF expressions are always printed in an assembly-like\\n\\\n-syntax.  When disabled, expressions will be printed in a more\\n\\\n-conversational style, when possible.\"),\n-\t\t\t   NULL,\n-\t\t\t   show_dwarf_always_disassemble,\n-\t\t\t   &set_dwarf_cmdlist,\n-\t\t\t   &show_dwarf_cmdlist);\n-\n   add_setshow_zuinteger_cmd (\"dwarf-read\", no_class, &dwarf_read_debug, _(\"\\\n Set debugging of the DWARF reader.\"), _(\"\\\n Show debugging of the DWARF reader.\"), _(\"\\"
    },
    {
      "sha": "fdaafbbafabf5e788e745e53a739169a08eddf26",
      "filename": "gdb/dwarf2/read.h",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/009b64fc98a3bad39d19bbdca83a223dce3d87d4/gdb/dwarf2/read.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/009b64fc98a3bad39d19bbdca83a223dce3d87d4/gdb/dwarf2/read.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/dwarf2/read.h?ref=009b64fc98a3bad39d19bbdca83a223dce3d87d4",
      "patch": "@@ -33,8 +33,6 @@\n extern struct cmd_list_element *set_dwarf_cmdlist;\n extern struct cmd_list_element *show_dwarf_cmdlist;\n \n-extern bool dwarf_always_disassemble;\n-\n struct tu_stats\n {\n   int nr_uniq_abbrev_tables;"
    }
  ]
}