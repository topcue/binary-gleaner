{
  "sha": "22efa3d3074613a0c74e834a1c4366a639c0f763",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MjJlZmEzZDMwNzQ2MTNhMGM3NGU4MzRhMWM0MzY2YTYzOWMwZjc2Mw==",
  "commit": {
    "author": {
      "name": "Tom de Vries",
      "email": "tdevries@suse.de",
      "date": "2021-01-28T07:14:58Z"
    },
    "committer": {
      "name": "Tom de Vries",
      "email": "tdevries@suse.de",
      "date": "2021-01-28T07:14:58Z"
    },
    "message": "[gdb/testsuite] Fix ERROR in gdb.dwarf2/dw2-out-of-range-end-of-seq.exp\n\nWhen running test-case gdb.dwarf2/dw2-out-of-range-end-of-seq.exp on a\nsystem with debug packages installed, I run into:\n...\n(gdb) maint info line-table^M\n  ... <lots of output> ...\nERROR: internal buffer is full.\nUNRESOLVED: gdb.dwarf2/dw2-out-of-range-end-of-seq.exp: \\\n  END with address 1 eliminated\n...\n\nFix this by limiting the output of the command using a regexp.\n\nI also noticed that when making the regexp match nothing, meaning\nthe command has no output, the test didn't FAIL.  Fixed this by adding a\nPASS pattern.\n\nI also noticed that the FAIL pattern didn't work with -m32, fixed that as\nwell.\n\nTested on x86_64-linux.\n\ngdb/testsuite/ChangeLog:\n\n2021-01-28  Tom de Vries  <tdevries@suse.de>\n\n\t* gdb.dwarf2/dw2-out-of-range-end-of-seq.exp: Add regexp to\n\t\"maint info line-table\".  Make PASS pattern more specific.  Make\n\tFAIL pattern work for -m32.",
    "tree": {
      "sha": "e10f5cbd78267dfb135efe66f9420ae927cde9cd",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/e10f5cbd78267dfb135efe66f9420ae927cde9cd"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/22efa3d3074613a0c74e834a1c4366a639c0f763",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/22efa3d3074613a0c74e834a1c4366a639c0f763",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/22efa3d3074613a0c74e834a1c4366a639c0f763",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/22efa3d3074613a0c74e834a1c4366a639c0f763/comments",
  "author": {
    "login": "vries",
    "id": 4057235,
    "node_id": "MDQ6VXNlcjQwNTcyMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4057235?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vries",
    "html_url": "https://github.com/vries",
    "followers_url": "https://api.github.com/users/vries/followers",
    "following_url": "https://api.github.com/users/vries/following{/other_user}",
    "gists_url": "https://api.github.com/users/vries/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vries/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vries/subscriptions",
    "organizations_url": "https://api.github.com/users/vries/orgs",
    "repos_url": "https://api.github.com/users/vries/repos",
    "events_url": "https://api.github.com/users/vries/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vries/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "vries",
    "id": 4057235,
    "node_id": "MDQ6VXNlcjQwNTcyMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4057235?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vries",
    "html_url": "https://github.com/vries",
    "followers_url": "https://api.github.com/users/vries/followers",
    "following_url": "https://api.github.com/users/vries/following{/other_user}",
    "gists_url": "https://api.github.com/users/vries/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vries/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vries/subscriptions",
    "organizations_url": "https://api.github.com/users/vries/orgs",
    "repos_url": "https://api.github.com/users/vries/repos",
    "events_url": "https://api.github.com/users/vries/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vries/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "07b8b9e7c5b1dbd16d630f925f741c517623b9cb",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/07b8b9e7c5b1dbd16d630f925f741c517623b9cb",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/07b8b9e7c5b1dbd16d630f925f741c517623b9cb"
    }
  ],
  "stats": {
    "total": 13,
    "additions": 10,
    "deletions": 3
  },
  "files": [
    {
      "sha": "9256c071746ef9bcbfbda0af63218f8178b13e73",
      "filename": "gdb/testsuite/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/22efa3d3074613a0c74e834a1c4366a639c0f763/gdb/testsuite/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/22efa3d3074613a0c74e834a1c4366a639c0f763/gdb/testsuite/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/ChangeLog?ref=22efa3d3074613a0c74e834a1c4366a639c0f763",
      "patch": "@@ -1,3 +1,9 @@\n+2021-01-28  Tom de Vries  <tdevries@suse.de>\n+\n+\t* gdb.dwarf2/dw2-out-of-range-end-of-seq.exp: Add regexp to\n+\t\"maint info line-table\".  Make PASS pattern more specific.  Make\n+\tFAIL pattern work for -m32.\n+\n 2021-01-27  Lancelot SIX  <lsix@lancelotsix.com>\n \n \tPR gdb/27133"
    },
    {
      "sha": "42cfd0b61ec641d9cb493bcf7b970e9163a9f822",
      "filename": "gdb/testsuite/gdb.dwarf2/dw2-out-of-range-end-of-seq.exp",
      "status": "modified",
      "additions": 4,
      "deletions": 3,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/22efa3d3074613a0c74e834a1c4366a639c0f763/gdb/testsuite/gdb.dwarf2/dw2-out-of-range-end-of-seq.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/22efa3d3074613a0c74e834a1c4366a639c0f763/gdb/testsuite/gdb.dwarf2/dw2-out-of-range-end-of-seq.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.dwarf2/dw2-out-of-range-end-of-seq.exp?ref=22efa3d3074613a0c74e834a1c4366a639c0f763",
      "patch": "@@ -84,11 +84,12 @@ if ![runto_main] {\n     return -1\n }\n \n-gdb_test_multiple \"maint info line-table\" \"END with address 1 eliminated\" {\n-    -re -wrap \"END *0x0*1 Y \\r\\n.*\" {\n+set test \"END with address 1 eliminated\"\n+gdb_test_multiple \"maint info line-table $srcfile$\" $test {\n+    -re -wrap \"END *0x0*1 *Y \\r\\n.*\" {\n \tfail $gdb_test_name\n     }\n-    -re -wrap \"\" {\n+    -re -wrap \"END *$hex *Y \" {\n \tpass $gdb_test_name\n     }\n }"
    }
  ]
}