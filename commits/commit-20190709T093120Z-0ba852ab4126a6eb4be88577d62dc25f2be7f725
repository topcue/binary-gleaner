{
  "sha": "0ba852ab4126a6eb4be88577d62dc25f2be7f725",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MGJhODUyYWI0MTI2YTZlYjRiZTg4NTc3ZDYyZGMyNWYyYmU3ZjcyNQ==",
  "commit": {
    "author": {
      "name": "Andrew Burgess",
      "email": "andrew.burgess@embecosm.com",
      "date": "2019-07-01T15:00:52Z"
    },
    "committer": {
      "name": "Andrew Burgess",
      "email": "andrew.burgess@embecosm.com",
      "date": "2019-07-09T09:31:20Z"
    },
    "message": "gdb: Remove unneeded parameter from set_breakpoint_location_function\n\nThe explicit_loc parameter in set_breakpoint_location_function is not\nuseful.  This parameter is set from two possible fields of the\nsymtab_and_line used to create the breakpoint; the explicit_pc field,\nand the explicit_line field.\n\nFirst, the explicit_line field, this is not currently set for any\nbreakpoint command, so will never be true.\n\nNext, the explicit_pc field.  This can be true but will never be true\nat the same time that the sal->msymbol field is also true - the\nsal->msymbol is only ever set in linespec.c:minsym_found, which\ndoesn't allow for explicitly setting the pc.\n\nThe result of this is that if we are setting a breakpoint on an\nmsymbol that could turn out to be an ifunc, then we will not also have\neither an explicit_pc or an explicit_line, this check can therefore be\nremoved.\n\nThere should be no user visible changes after this commit.\n\ngdb/ChangeLog:\n\n\t* breakpoint.c (set_breakpoint_location_function): Remove\n\texplicit_loc parameter.\n\t(momentary_breakpoint_from_master): Update call to\n\tset_breakpoint_location_function.\n\t(add_location_to_breakpoint): Likewise.",
    "tree": {
      "sha": "0ef80118d4c8ea5beace2189699ffb5dd3714334",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/0ef80118d4c8ea5beace2189699ffb5dd3714334"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/0ba852ab4126a6eb4be88577d62dc25f2be7f725",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/0ba852ab4126a6eb4be88577d62dc25f2be7f725",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/0ba852ab4126a6eb4be88577d62dc25f2be7f725",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/0ba852ab4126a6eb4be88577d62dc25f2be7f725/comments",
  "author": {
    "login": "T-J-Teru",
    "id": 475372,
    "node_id": "MDQ6VXNlcjQ3NTM3Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/475372?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/T-J-Teru",
    "html_url": "https://github.com/T-J-Teru",
    "followers_url": "https://api.github.com/users/T-J-Teru/followers",
    "following_url": "https://api.github.com/users/T-J-Teru/following{/other_user}",
    "gists_url": "https://api.github.com/users/T-J-Teru/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/T-J-Teru/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/T-J-Teru/subscriptions",
    "organizations_url": "https://api.github.com/users/T-J-Teru/orgs",
    "repos_url": "https://api.github.com/users/T-J-Teru/repos",
    "events_url": "https://api.github.com/users/T-J-Teru/events{/privacy}",
    "received_events_url": "https://api.github.com/users/T-J-Teru/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "T-J-Teru",
    "id": 475372,
    "node_id": "MDQ6VXNlcjQ3NTM3Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/475372?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/T-J-Teru",
    "html_url": "https://github.com/T-J-Teru",
    "followers_url": "https://api.github.com/users/T-J-Teru/followers",
    "following_url": "https://api.github.com/users/T-J-Teru/following{/other_user}",
    "gists_url": "https://api.github.com/users/T-J-Teru/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/T-J-Teru/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/T-J-Teru/subscriptions",
    "organizations_url": "https://api.github.com/users/T-J-Teru/orgs",
    "repos_url": "https://api.github.com/users/T-J-Teru/repos",
    "events_url": "https://api.github.com/users/T-J-Teru/events{/privacy}",
    "received_events_url": "https://api.github.com/users/T-J-Teru/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "b3a7d1711e4557811865333a0ac96fc16b750869",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/b3a7d1711e4557811865333a0ac96fc16b750869",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/b3a7d1711e4557811865333a0ac96fc16b750869"
    }
  ],
  "stats": {
    "total": 22,
    "additions": 13,
    "deletions": 9
  },
  "files": [
    {
      "sha": "2fef7d271e3fb3519e9f2e01e9fa025193a0314c",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/0ba852ab4126a6eb4be88577d62dc25f2be7f725/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/0ba852ab4126a6eb4be88577d62dc25f2be7f725/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=0ba852ab4126a6eb4be88577d62dc25f2be7f725",
      "patch": "@@ -1,3 +1,11 @@\n+2019-07-09  Andrew Burgess  <andrew.burgess@embecosm.com>\n+\n+\t* breakpoint.c (set_breakpoint_location_function): Remove\n+\texplicit_loc parameter.\n+\t(momentary_breakpoint_from_master): Update call to\n+\tset_breakpoint_location_function.\n+\t(add_location_to_breakpoint): Likewise.\n+\n 2019-07-09  Andrew Burgess  <andrew.burgess@embecosm.com>\n \n \t* riscv-tdep.c (riscv_features_from_gdbarch_info): Don't modify"
    },
    {
      "sha": "9bae0a0254605b5156240341d331ee3cc0163a4d",
      "filename": "gdb/breakpoint.c",
      "status": "modified",
      "additions": 5,
      "deletions": 9,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/0ba852ab4126a6eb4be88577d62dc25f2be7f725/gdb/breakpoint.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/0ba852ab4126a6eb4be88577d62dc25f2be7f725/gdb/breakpoint.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/breakpoint.c?ref=0ba852ab4126a6eb4be88577d62dc25f2be7f725",
      "patch": "@@ -7095,12 +7095,10 @@ set_raw_breakpoint_without_location (struct gdbarch *gdbarch,\n   return add_to_breakpoint_chain (std::move (b));\n }\n \n-/* Initialize loc->function_name.  EXPLICIT_LOC says no indirect function\n-   resolutions should be made as the user specified the location explicitly\n-   enough.  */\n+/* Initialize loc->function_name.  */\n \n static void\n-set_breakpoint_location_function (struct bp_location *loc, int explicit_loc)\n+set_breakpoint_location_function (struct bp_location *loc)\n {\n   gdb_assert (loc->owner != NULL);\n \n@@ -7112,8 +7110,7 @@ set_breakpoint_location_function (struct bp_location *loc, int explicit_loc)\n \n       if (loc->msymbol != NULL\n \t  && (MSYMBOL_TYPE (loc->msymbol) == mst_text_gnu_ifunc\n-\t      || MSYMBOL_TYPE (loc->msymbol) == mst_data_gnu_ifunc)\n-\t  && !explicit_loc)\n+\t      || MSYMBOL_TYPE (loc->msymbol) == mst_data_gnu_ifunc))\n \t{\n \t  struct breakpoint *b = loc->owner;\n \n@@ -8481,7 +8478,7 @@ momentary_breakpoint_from_master (struct breakpoint *orig,\n \n   copy = set_raw_breakpoint_without_location (orig->gdbarch, type, ops);\n   copy->loc = allocate_bp_location (copy);\n-  set_breakpoint_location_function (copy->loc, 1);\n+  set_breakpoint_location_function (copy->loc);\n \n   copy->loc->gdbarch = orig->loc->gdbarch;\n   copy->loc->requested_address = orig->loc->requested_address;\n@@ -8586,8 +8583,7 @@ add_location_to_breakpoint (struct breakpoint *b,\n   loc->msymbol = sal->msymbol;\n   loc->objfile = sal->objfile;\n \n-  set_breakpoint_location_function (loc,\n-\t\t\t\t    sal->explicit_pc || sal->explicit_line);\n+  set_breakpoint_location_function (loc);\n \n   /* While by definition, permanent breakpoints are already present in the\n      code, we don't mark the location as inserted.  Normally one would expect"
    }
  ]
}