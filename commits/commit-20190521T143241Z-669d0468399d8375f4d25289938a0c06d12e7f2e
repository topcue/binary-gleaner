{
  "sha": "669d0468399d8375f4d25289938a0c06d12e7f2e",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NjY5ZDA0NjgzOTlkODM3NWY0ZDI1Mjg5OTM4YTBjMDZkMTJlN2YyZQ==",
  "commit": {
    "author": {
      "name": "Tom de Vries",
      "email": "tdevries@suse.de",
      "date": "2019-05-21T14:32:41Z"
    },
    "committer": {
      "name": "Tom de Vries",
      "email": "tdevries@suse.de",
      "date": "2019-05-21T14:32:41Z"
    },
    "message": "[gdb/testsuite] Require c++11 where necessary\n\nWhen building gdb on ubuntu 16.04 with gcc 5.4.0, and running the gdb\ntestsuite we run into failures due test-cases requiring at least c++1.\n\nFix this by adding -std=c++11 to those test-cases.\n\nTested on x86_64-linux.\n\ngdb/testsuite/ChangeLog:\n\n2019-05-21  Tom de Vries  <tdevries@suse.de>\n\n\t* gdb.arch/amd64-eval.exp: Require c++11.\n\t* gdb.base/max-depth.exp: Same.\n\t* gdb.compile/compile-cplus-array-decay.exp: Same.\n\t* gdb.cp/meth-typedefs.exp: Same.\n\t* gdb.cp/subtypes.exp: Same.\n\t* gdb.cp/temargs.exp: Same.",
    "tree": {
      "sha": "d23176ea576a95e6656620b0c309d2d02da04db6",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/d23176ea576a95e6656620b0c309d2d02da04db6"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/669d0468399d8375f4d25289938a0c06d12e7f2e",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/669d0468399d8375f4d25289938a0c06d12e7f2e",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/669d0468399d8375f4d25289938a0c06d12e7f2e",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/669d0468399d8375f4d25289938a0c06d12e7f2e/comments",
  "author": {
    "login": "vries",
    "id": 4057235,
    "node_id": "MDQ6VXNlcjQwNTcyMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4057235?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vries",
    "html_url": "https://github.com/vries",
    "followers_url": "https://api.github.com/users/vries/followers",
    "following_url": "https://api.github.com/users/vries/following{/other_user}",
    "gists_url": "https://api.github.com/users/vries/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vries/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vries/subscriptions",
    "organizations_url": "https://api.github.com/users/vries/orgs",
    "repos_url": "https://api.github.com/users/vries/repos",
    "events_url": "https://api.github.com/users/vries/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vries/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "vries",
    "id": 4057235,
    "node_id": "MDQ6VXNlcjQwNTcyMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4057235?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vries",
    "html_url": "https://github.com/vries",
    "followers_url": "https://api.github.com/users/vries/followers",
    "following_url": "https://api.github.com/users/vries/following{/other_user}",
    "gists_url": "https://api.github.com/users/vries/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vries/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vries/subscriptions",
    "organizations_url": "https://api.github.com/users/vries/orgs",
    "repos_url": "https://api.github.com/users/vries/repos",
    "events_url": "https://api.github.com/users/vries/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vries/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "8fe9a076adf308ec813246a96f915c5ab5b6a75f",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/8fe9a076adf308ec813246a96f915c5ab5b6a75f",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/8fe9a076adf308ec813246a96f915c5ab5b6a75f"
    }
  ],
  "stats": {
    "total": 25,
    "additions": 20,
    "deletions": 5
  },
  "files": [
    {
      "sha": "4060eadfbd488bc9290cc8e57e964b11a476d7e8",
      "filename": "gdb/testsuite/ChangeLog",
      "status": "modified",
      "additions": 9,
      "deletions": 0,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/669d0468399d8375f4d25289938a0c06d12e7f2e/gdb/testsuite/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/669d0468399d8375f4d25289938a0c06d12e7f2e/gdb/testsuite/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/ChangeLog?ref=669d0468399d8375f4d25289938a0c06d12e7f2e",
      "patch": "@@ -1,3 +1,12 @@\n+2019-05-21  Tom de Vries  <tdevries@suse.de>\n+\n+\t* gdb.arch/amd64-eval.exp: Require c++11.\n+\t* gdb.base/max-depth.exp: Same.\n+\t* gdb.compile/compile-cplus-array-decay.exp: Same.\n+\t* gdb.cp/meth-typedefs.exp: Same.\n+\t* gdb.cp/subtypes.exp: Same.\n+\t* gdb.cp/temargs.exp: Same.\n+\n 2019-05-21  Alan Hayward  <alan.hayward@arm.com>\n \n \t* lib/gdbserver-support.exp (gdbserver_run): Mark kill as optional."
    },
    {
      "sha": "4b5c28e7ce2d7d941f7dc07a42df2c7ffd6351b0",
      "filename": "gdb/testsuite/gdb.arch/amd64-eval.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/669d0468399d8375f4d25289938a0c06d12e7f2e/gdb/testsuite/gdb.arch/amd64-eval.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/669d0468399d8375f4d25289938a0c06d12e7f2e/gdb/testsuite/gdb.arch/amd64-eval.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.arch/amd64-eval.exp?ref=669d0468399d8375f4d25289938a0c06d12e7f2e",
      "patch": "@@ -20,7 +20,7 @@\n standard_testfile .cc\n \n if { [prepare_for_testing \"failed to prepare\" $testfile $srcfile \\\n-\t  { debug c++ }] } {\n+\t  { debug c++ additional_flags=-std=c++11 }] } {\n     return -1\n }\n "
    },
    {
      "sha": "99f3c98d8f034999c1d87f3b35ac96510398e428",
      "filename": "gdb/testsuite/gdb.base/max-depth.exp",
      "status": "modified",
      "additions": 3,
      "deletions": 0,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/669d0468399d8375f4d25289938a0c06d12e7f2e/gdb/testsuite/gdb.base/max-depth.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/669d0468399d8375f4d25289938a0c06d12e7f2e/gdb/testsuite/gdb.base/max-depth.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/max-depth.exp?ref=669d0468399d8375f4d25289938a0c06d12e7f2e",
      "patch": "@@ -39,6 +39,9 @@ proc compile_and_run_tests { lang } {\n     # Create the additional flags.\n     set flags \"debug\"\n     lappend flags $lang\n+    if { \"$lang\" == \"c++\" } {\n+\tlappend flags \"additional_flags=-std=c++11\"\n+    }\n \n     set dir \"$lang\"\n     set binfile [standard_output_file ${dir}/${testfile}]"
    },
    {
      "sha": "2f2f1c31af5f51043ad106ce912a625bc9c7a1b6",
      "filename": "gdb/testsuite/gdb.compile/compile-cplus-array-decay.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/669d0468399d8375f4d25289938a0c06d12e7f2e/gdb/testsuite/gdb.compile/compile-cplus-array-decay.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/669d0468399d8375f4d25289938a0c06d12e7f2e/gdb/testsuite/gdb.compile/compile-cplus-array-decay.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.compile/compile-cplus-array-decay.exp?ref=669d0468399d8375f4d25289938a0c06d12e7f2e",
      "patch": "@@ -25,7 +25,7 @@ if {[skip_cplus_tests]} {\n }\n \n if {[prepare_for_testing $testfile $testfile $srcfile \\\n-\t {debug nowarnings c++}]} {\n+\t {debug nowarnings c++ additional_flags=-std=c++11}]} {\n     return -1\n }\n "
    },
    {
      "sha": "088315458445a927d383c18a12849821d1e64711",
      "filename": "gdb/testsuite/gdb.cp/meth-typedefs.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 1,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/669d0468399d8375f4d25289938a0c06d12e7f2e/gdb/testsuite/gdb.cp/meth-typedefs.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/669d0468399d8375f4d25289938a0c06d12e7f2e/gdb/testsuite/gdb.cp/meth-typedefs.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.cp/meth-typedefs.exp?ref=669d0468399d8375f4d25289938a0c06d12e7f2e",
      "patch": "@@ -35,7 +35,8 @@ if {[skip_cplus_tests]} { continue }\n # Tests for c++/12266 et al\n standard_testfile .cc\n \n-if {[prepare_for_testing \"failed to prepare\" $testfile $srcfile {c++ debug}]} {\n+if {[prepare_for_testing \"failed to prepare\" $testfile $srcfile \\\n+\t {c++ debug additional_flags=-std=c++11}]} {\n     return -1\n }\n "
    },
    {
      "sha": "a0b6bcd0ef62f1a75f72e2f665ecf598d93f886f",
      "filename": "gdb/testsuite/gdb.cp/subtypes.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 1,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/669d0468399d8375f4d25289938a0c06d12e7f2e/gdb/testsuite/gdb.cp/subtypes.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/669d0468399d8375f4d25289938a0c06d12e7f2e/gdb/testsuite/gdb.cp/subtypes.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.cp/subtypes.exp?ref=669d0468399d8375f4d25289938a0c06d12e7f2e",
      "patch": "@@ -23,7 +23,8 @@ load_lib \"cp-support.exp\"\n standard_testfile .cc subtypes-2.cc\n \n if {[prepare_for_testing \"failed to prepare\" $testfile \\\n-\t [list $srcfile $srcfile2] {debug c++}]} {\n+\t [list $srcfile $srcfile2] \\\n+\t {debug c++ additional_flags=-std=c++11}]} {\n     return -1\n }\n "
    },
    {
      "sha": "a1fbaf1d114b4a1d50b9bbf052cbc44bc83affbb",
      "filename": "gdb/testsuite/gdb.cp/temargs.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 1,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/669d0468399d8375f4d25289938a0c06d12e7f2e/gdb/testsuite/gdb.cp/temargs.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/669d0468399d8375f4d25289938a0c06d12e7f2e/gdb/testsuite/gdb.cp/temargs.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.cp/temargs.exp?ref=669d0468399d8375f4d25289938a0c06d12e7f2e",
      "patch": "@@ -23,7 +23,8 @@ if {[skip_cplus_tests]} {\n \n standard_testfile .cc\n \n-if {[prepare_for_testing \"failed to prepare\" $testfile $srcfile {debug c++}]} {\n+if {[prepare_for_testing \"failed to prepare\" $testfile $srcfile \\\n+\t {debug c++ additional_flags=-std=c++11}]} {\n     return -1\n }\n "
    }
  ]
}