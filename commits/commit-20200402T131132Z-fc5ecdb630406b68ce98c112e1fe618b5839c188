{
  "sha": "fc5ecdb630406b68ce98c112e1fe618b5839c188",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ZmM1ZWNkYjYzMDQwNmI2OGNlOThjMTEyZTFmZTYxOGI1ODM5YzE4OA==",
  "commit": {
    "author": {
      "name": "Tankut Baris Aktemur",
      "email": "tankut.baris.aktemur@intel.com",
      "date": "2020-04-02T13:11:32Z"
    },
    "committer": {
      "name": "Tankut Baris Aktemur",
      "email": "tankut.baris.aktemur@intel.com",
      "date": "2020-04-02T13:11:32Z"
    },
    "message": "gdbserver/linux-low: turn 'get_ipa_tdesc_idx' into a method\n\ngdbserver/ChangeLog:\n2020-04-02  Tankut Baris Aktemur  <tankut.baris.aktemur@intel.com>\n\n\tRemove the 'get_ipa_tdesc_idx' linux target op and let a concrete\n\tlinux target define the op by overriding the declaration in\n\tprocess_stratum_target.\n\n\t* linux-low.h (struct linux_target_ops): Remove the op.\n\t(class linux_process_target) <get_ipa_tdesc_idx>: Remove.\n\t* linux-low.cc (linux_process_target::get_ipa_tdesc_idx): Remove.\n\t* linux-x86-low.cc (class x86_target) <get_ipa_tdesc_idx>: Declare.\n\t(x86_get_ipa_tdesc_idx): Turn into...\n\t(x86_target::get_ipa_tdesc_idx): ...this.\n\t(the_low_target): Remove the op field.\n\t* linux-ppc-low.cc (class ppc_target) <get_ipa_tdesc_idx>: Declare.\n\t(ppc_get_ipa_tdesc_idx): Turn into...\n\t(ppc_target::get_ipa_tdesc_idx): ...this.\n\t(the_low_target): Remove the op field.\n\t* linux-s390-low.cc (class s390_target) <get_ipa_tdesc_idx>: Declare.\n\t(s390_get_ipa_tdesc_idx): Turn into...\n\t(s390_target::get_ipa_tdesc_idx): ...this.\n\t(the_low_target): Remove the op field.",
    "tree": {
      "sha": "0c49efc72a257dd5a81b54ae0190386ab54bdda7",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/0c49efc72a257dd5a81b54ae0190386ab54bdda7"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/fc5ecdb630406b68ce98c112e1fe618b5839c188",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/fc5ecdb630406b68ce98c112e1fe618b5839c188",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/fc5ecdb630406b68ce98c112e1fe618b5839c188",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/fc5ecdb630406b68ce98c112e1fe618b5839c188/comments",
  "author": {
    "login": "barisaktemur",
    "id": 55686642,
    "node_id": "MDQ6VXNlcjU1Njg2NjQy",
    "avatar_url": "https://avatars.githubusercontent.com/u/55686642?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/barisaktemur",
    "html_url": "https://github.com/barisaktemur",
    "followers_url": "https://api.github.com/users/barisaktemur/followers",
    "following_url": "https://api.github.com/users/barisaktemur/following{/other_user}",
    "gists_url": "https://api.github.com/users/barisaktemur/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/barisaktemur/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/barisaktemur/subscriptions",
    "organizations_url": "https://api.github.com/users/barisaktemur/orgs",
    "repos_url": "https://api.github.com/users/barisaktemur/repos",
    "events_url": "https://api.github.com/users/barisaktemur/events{/privacy}",
    "received_events_url": "https://api.github.com/users/barisaktemur/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "barisaktemur",
    "id": 55686642,
    "node_id": "MDQ6VXNlcjU1Njg2NjQy",
    "avatar_url": "https://avatars.githubusercontent.com/u/55686642?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/barisaktemur",
    "html_url": "https://github.com/barisaktemur",
    "followers_url": "https://api.github.com/users/barisaktemur/followers",
    "following_url": "https://api.github.com/users/barisaktemur/following{/other_user}",
    "gists_url": "https://api.github.com/users/barisaktemur/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/barisaktemur/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/barisaktemur/subscriptions",
    "organizations_url": "https://api.github.com/users/barisaktemur/orgs",
    "repos_url": "https://api.github.com/users/barisaktemur/repos",
    "events_url": "https://api.github.com/users/barisaktemur/events{/privacy}",
    "received_events_url": "https://api.github.com/users/barisaktemur/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "9eedd27d42ceeb6f3765c24972a5c97ce20727cd",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/9eedd27d42ceeb6f3765c24972a5c97ce20727cd",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/9eedd27d42ceeb6f3765c24972a5c97ce20727cd"
    }
  ],
  "stats": {
    "total": 60,
    "additions": 36,
    "deletions": 24
  },
  "files": [
    {
      "sha": "e51d3e09b5f8b1b08f340287169271ae165ac980",
      "filename": "gdbserver/ChangeLog",
      "status": "modified",
      "additions": 22,
      "deletions": 0,
      "changes": 22,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/fc5ecdb630406b68ce98c112e1fe618b5839c188/gdbserver/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/fc5ecdb630406b68ce98c112e1fe618b5839c188/gdbserver/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/ChangeLog?ref=fc5ecdb630406b68ce98c112e1fe618b5839c188",
      "patch": "@@ -1,3 +1,25 @@\n+2020-04-02  Tankut Baris Aktemur  <tankut.baris.aktemur@intel.com>\n+\n+\tRemove the 'get_ipa_tdesc_idx' linux target op and let a concrete\n+\tlinux target define the op by overriding the declaration in\n+\tprocess_stratum_target.\n+\n+\t* linux-low.h (struct linux_target_ops): Remove the op.\n+\t(class linux_process_target) <get_ipa_tdesc_idx>: Remove.\n+\t* linux-low.cc (linux_process_target::get_ipa_tdesc_idx): Remove.\n+\t* linux-x86-low.cc (class x86_target) <get_ipa_tdesc_idx>: Declare.\n+\t(x86_get_ipa_tdesc_idx): Turn into...\n+\t(x86_target::get_ipa_tdesc_idx): ...this.\n+\t(the_low_target): Remove the op field.\n+\t* linux-ppc-low.cc (class ppc_target) <get_ipa_tdesc_idx>: Declare.\n+\t(ppc_get_ipa_tdesc_idx): Turn into...\n+\t(ppc_target::get_ipa_tdesc_idx): ...this.\n+\t(the_low_target): Remove the op field.\n+\t* linux-s390-low.cc (class s390_target) <get_ipa_tdesc_idx>: Declare.\n+\t(s390_get_ipa_tdesc_idx): Turn into...\n+\t(s390_target::get_ipa_tdesc_idx): ...this.\n+\t(the_low_target): Remove the op field.\n+\n 2020-04-02  Tankut Baris Aktemur  <tankut.baris.aktemur@intel.com>\n \n \tTurn the 'get_syscall_trapinfo' linux target op into a method"
    },
    {
      "sha": "3cd8d5594dc98ccaa55d39fec960ad3e8d9e81d9",
      "filename": "gdbserver/linux-low.cc",
      "status": "modified",
      "additions": 0,
      "deletions": 9,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/fc5ecdb630406b68ce98c112e1fe618b5839c188/gdbserver/linux-low.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/fc5ecdb630406b68ce98c112e1fe618b5839c188/gdbserver/linux-low.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/linux-low.cc?ref=fc5ecdb630406b68ce98c112e1fe618b5839c188",
      "patch": "@@ -6407,15 +6407,6 @@ linux_process_target::low_supports_catch_syscall ()\n   return false;\n }\n \n-int\n-linux_process_target::get_ipa_tdesc_idx ()\n-{\n-  if (the_low_target.get_ipa_tdesc_idx == NULL)\n-    return 0;\n-\n-  return (*the_low_target.get_ipa_tdesc_idx) ();\n-}\n-\n CORE_ADDR\n linux_process_target::read_pc (regcache *regcache)\n {"
    },
    {
      "sha": "8ad56c3397062b397b03719cc1b7330b4323e7cb",
      "filename": "gdbserver/linux-low.h",
      "status": "modified",
      "additions": 0,
      "deletions": 4,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/fc5ecdb630406b68ce98c112e1fe618b5839c188/gdbserver/linux-low.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/fc5ecdb630406b68ce98c112e1fe618b5839c188/gdbserver/linux-low.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/linux-low.h?ref=fc5ecdb630406b68ce98c112e1fe618b5839c188",
      "patch": "@@ -131,8 +131,6 @@ struct lwp_info;\n \n struct linux_target_ops\n {\n-  /* See target.h.  */\n-  int (*get_ipa_tdesc_idx) (void);\n };\n \n extern struct linux_target_ops the_low_target;\n@@ -319,8 +317,6 @@ class linux_process_target : public process_stratum_target\n \n   bool supports_catch_syscall () override;\n \n-  int get_ipa_tdesc_idx () override;\n-\n   /* Return the information to access registers.  This has public\n      visibility because proc-service uses it.  */\n   virtual const regs_info *get_regs_info () = 0;"
    },
    {
      "sha": "127de5b5fa3b586b9994e641c8634334b39df4d9",
      "filename": "gdbserver/linux-ppc-low.cc",
      "status": "modified",
      "additions": 5,
      "deletions": 4,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/fc5ecdb630406b68ce98c112e1fe618b5839c188/gdbserver/linux-ppc-low.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/fc5ecdb630406b68ce98c112e1fe618b5839c188/gdbserver/linux-ppc-low.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/linux-ppc-low.cc?ref=fc5ecdb630406b68ce98c112e1fe618b5839c188",
      "patch": "@@ -79,6 +79,8 @@ class ppc_target : public linux_process_target\n \n   struct emit_ops *emit_ops () override;\n \n+  int get_ipa_tdesc_idx () override;\n+\n protected:\n \n   void low_arch_setup () override;\n@@ -3392,10 +3394,10 @@ ppc_target::emit_ops ()\n   return &ppc_emit_ops_impl;\n }\n \n-/* Implementation of linux_target_ops method \"get_ipa_tdesc_idx\".  */\n+/* Implementation of target ops method \"get_ipa_tdesc_idx\".  */\n \n-static int\n-ppc_get_ipa_tdesc_idx (void)\n+int\n+ppc_target::get_ipa_tdesc_idx ()\n {\n   struct regcache *regcache = get_thread_regcache (current_thread, 0);\n   const struct target_desc *tdesc = regcache->tdesc;\n@@ -3446,7 +3448,6 @@ ppc_get_ipa_tdesc_idx (void)\n }\n \n struct linux_target_ops the_low_target = {\n-  ppc_get_ipa_tdesc_idx,\n };\n \n /* The linux target ops object.  */"
    },
    {
      "sha": "1c94be04f4b0ad36984471f4d3fc6c12a46c0b07",
      "filename": "gdbserver/linux-s390-low.cc",
      "status": "modified",
      "additions": 5,
      "deletions": 4,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/fc5ecdb630406b68ce98c112e1fe618b5839c188/gdbserver/linux-s390-low.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/fc5ecdb630406b68ce98c112e1fe618b5839c188/gdbserver/linux-s390-low.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/linux-s390-low.cc?ref=fc5ecdb630406b68ce98c112e1fe618b5839c188",
      "patch": "@@ -85,6 +85,8 @@ class s390_target : public linux_process_target\n \n   struct emit_ops *emit_ops () override;\n \n+  int get_ipa_tdesc_idx () override;\n+\n protected:\n \n   void low_arch_setup () override;\n@@ -1445,10 +1447,10 @@ s390_target::get_min_fast_tracepoint_insn_len ()\n   return 6;\n }\n \n-/* Implementation of linux_target_ops method \"get_ipa_tdesc_idx\".  */\n+/* Implementation of target ops method \"get_ipa_tdesc_idx\".  */\n \n-static int\n-s390_get_ipa_tdesc_idx (void)\n+int\n+s390_target::get_ipa_tdesc_idx ()\n {\n   struct regcache *regcache = get_thread_regcache (current_thread, 0);\n   const struct target_desc *tdesc = regcache->tdesc;\n@@ -2855,7 +2857,6 @@ s390_target::emit_ops ()\n }\n \n struct linux_target_ops the_low_target = {\n-  s390_get_ipa_tdesc_idx,\n };\n \n /* The linux target ops object.  */"
    },
    {
      "sha": "67690914f8ccd5ec625a4d8d6f9e8d39b056546b",
      "filename": "gdbserver/linux-x86-low.cc",
      "status": "modified",
      "additions": 4,
      "deletions": 3,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/fc5ecdb630406b68ce98c112e1fe618b5839c188/gdbserver/linux-x86-low.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/fc5ecdb630406b68ce98c112e1fe618b5839c188/gdbserver/linux-x86-low.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/linux-x86-low.cc?ref=fc5ecdb630406b68ce98c112e1fe618b5839c188",
      "patch": "@@ -124,6 +124,8 @@ class x86_target : public linux_process_target\n \n   struct emit_ops *emit_ops () override;\n \n+  int get_ipa_tdesc_idx () override;\n+\n protected:\n \n   void low_arch_setup () override;\n@@ -2974,8 +2976,8 @@ x86_target::low_supports_range_stepping ()\n   return true;\n }\n \n-static int\n-x86_get_ipa_tdesc_idx (void)\n+int\n+x86_target::get_ipa_tdesc_idx ()\n {\n   struct regcache *regcache = get_thread_regcache (current_thread, 0);\n   const struct target_desc *tdesc = regcache->tdesc;\n@@ -2995,7 +2997,6 @@ x86_get_ipa_tdesc_idx (void)\n \n struct linux_target_ops the_low_target =\n {\n-  x86_get_ipa_tdesc_idx,\n };\n \n /* The linux target ops object.  */"
    }
  ]
}