{
  "sha": "6cbb891faa7c5c9f8c4d7bc2d816b0c7863ff4ea",
  "node_id": "C_kwDOANOeidoAKDZjYmI4OTFmYWE3YzVjOWY4YzRkN2JjMmQ4MTZiMGM3ODYzZmY0ZWE",
  "commit": {
    "author": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-11-28T05:23:38Z"
    },
    "committer": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-11-28T18:23:59Z"
    },
    "message": "sim: mcore: switch to new target-newlib-syscall\n\nUse the new target-newlib-syscall module.  This is needed to merge all\nthe architectures into a single build, and mcore has a custom syscall\ntable for its newlib/libgloss port.",
    "tree": {
      "sha": "676f5ed34f5181079d3deae297b83afe2eefcc38",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/676f5ed34f5181079d3deae297b83afe2eefcc38"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/6cbb891faa7c5c9f8c4d7bc2d816b0c7863ff4ea",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/6cbb891faa7c5c9f8c4d7bc2d816b0c7863ff4ea",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/6cbb891faa7c5c9f8c4d7bc2d816b0c7863ff4ea",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/6cbb891faa7c5c9f8c4d7bc2d816b0c7863ff4ea/comments",
  "author": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "c8c6ef3807554a17d4518e45f91c53d17a71c083",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/c8c6ef3807554a17d4518e45f91c53d17a71c083",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/c8c6ef3807554a17d4518e45f91c53d17a71c083"
    }
  ],
  "stats": {
    "total": 8,
    "additions": 5,
    "deletions": 3
  },
  "files": [
    {
      "sha": "8f625839723aeb247358e1760690bc9dc3e16a53",
      "filename": "sim/mcore/Makefile.in",
      "status": "modified",
      "additions": 0,
      "deletions": 3,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6cbb891faa7c5c9f8c4d7bc2d816b0c7863ff4ea/sim/mcore/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6cbb891faa7c5c9f8c4d7bc2d816b0c7863ff4ea/sim/mcore/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/mcore/Makefile.in?ref=6cbb891faa7c5c9f8c4d7bc2d816b0c7863ff4ea",
      "patch": "@@ -15,9 +15,6 @@\n # You should have received a copy of the GNU General Public License\n # along with this program.  If not, see <http://www.gnu.org/licenses/>.\n \n-# This selects the bfin newlib/libgloss syscall definitions.\n-NL_TARGET = -DNL_TARGET_mcore\n-\n ## COMMON_PRE_CONFIG_FRAG\n \n SIM_OBJS = \\"
    },
    {
      "sha": "bc33cc0d450c0857381328cbb07d0af2573147a5",
      "filename": "sim/mcore/interp.c",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6cbb891faa7c5c9f8c4d7bc2d816b0c7863ff4ea/sim/mcore/interp.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6cbb891faa7c5c9f8c4d7bc2d816b0c7863ff4ea/sim/mcore/interp.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/mcore/interp.c?ref=6cbb891faa7c5c9f8c4d7bc2d816b0c7863ff4ea",
      "patch": "@@ -36,6 +36,8 @@ along with this program.  If not, see <http://www.gnu.org/licenses/>.  */\n #include \"sim-syscall.h\"\n #include \"sim-options.h\"\n \n+#include \"target-newlib-syscall.h\"\n+\n #define target_big_endian (CURRENT_TARGET_BYTE_ORDER == BIG_ENDIAN)\n \n \n@@ -1350,6 +1352,9 @@ sim_open (SIM_OPEN_KIND kind, host_callback *cb,\n   SIM_DESC sd = sim_state_alloc (kind, cb);\n   SIM_ASSERT (STATE_MAGIC (sd) == SIM_MAGIC_NUMBER);\n \n+  /* Set default options before parsing user options.  */\n+  cb->syscall_map = cb_mcore_syscall_map;\n+\n   /* The cpu data is kept in a separately allocated chunk of memory.  */\n   if (sim_cpu_alloc_all (sd, 1) != SIM_RC_OK)\n     {"
    }
  ]
}