{
  "sha": "50ad1254d5030d0804cbf89c758359ae202e8d55",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NTBhZDEyNTRkNTAzMGQwODA0Y2JmODljNzU4MzU5YWUyMDJlOGQ1NQ==",
  "commit": {
    "author": {
      "name": "H.J. Lu",
      "email": "hjl.tools@gmail.com",
      "date": "2021-01-09T14:43:11Z"
    },
    "committer": {
      "name": "H.J. Lu",
      "email": "hjl.tools@gmail.com",
      "date": "2021-01-09T14:51:51Z"
    },
    "message": "GCC: Pass --plugin to AR and RANLIB\n\nDetect GCC LTO plugin.  Pass --plugin to AR and RANLIB to support LTO\nbuild.\n\n\t* Makefile.tpl (AR): Add @AR_PLUGIN_OPTION@\n\t(RANLIB): Add @RANLIB_PLUGIN_OPTION@.\n\t* configure.ac: Include config/gcc-plugin.m4.\n\tAC_SUBST AR_PLUGIN_OPTION and RANLIB_PLUGIN_OPTION.\n\t* libtool.m4 (_LT_CMD_OLD_ARCHIVE): Pass --plugin to AR and\n\tRANLIB if possible.\n\t* Makefile.in: Regenerated.\n\t* configure: Likewise.\n\nconfig/\n\n\t* gcc-plugin.m4 (GCC_PLUGIN_OPTION): New.\n\nlibiberty/\n\n\t* Makefile.in (AR): Add @AR_PLUGIN_OPTION@\n\t(RANLIB): Add @RANLIB_PLUGIN_OPTION@.\n\t(configure_deps): Depend on ../config/gcc-plugin.m4.\n\t* aclocal.m4: Include ../config/gcc-plugin.m4.\n\t* configure.ac: AC_SUBST AR_PLUGIN_OPTION and\n\tRANLIB_PLUGIN_OPTION.\n\t* configure: Regenerated.\n\nzlib/\n\n\t* configure: Regenerated.",
    "tree": {
      "sha": "d99205ba73874f43469734356f4f2d71ff8e428b",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/d99205ba73874f43469734356f4f2d71ff8e428b"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/50ad1254d5030d0804cbf89c758359ae202e8d55",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/50ad1254d5030d0804cbf89c758359ae202e8d55",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/50ad1254d5030d0804cbf89c758359ae202e8d55",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/50ad1254d5030d0804cbf89c758359ae202e8d55/comments",
  "author": {
    "login": "hjl-tools",
    "id": 1072356,
    "node_id": "MDQ6VXNlcjEwNzIzNTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hjl-tools",
    "html_url": "https://github.com/hjl-tools",
    "followers_url": "https://api.github.com/users/hjl-tools/followers",
    "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}",
    "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions",
    "organizations_url": "https://api.github.com/users/hjl-tools/orgs",
    "repos_url": "https://api.github.com/users/hjl-tools/repos",
    "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hjl-tools/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "hjl-tools",
    "id": 1072356,
    "node_id": "MDQ6VXNlcjEwNzIzNTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hjl-tools",
    "html_url": "https://github.com/hjl-tools",
    "followers_url": "https://api.github.com/users/hjl-tools/followers",
    "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}",
    "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions",
    "organizations_url": "https://api.github.com/users/hjl-tools/orgs",
    "repos_url": "https://api.github.com/users/hjl-tools/repos",
    "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hjl-tools/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "a9fd212a2416406f8503efe9e449718d0becfcb2",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/a9fd212a2416406f8503efe9e449718d0becfcb2",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/a9fd212a2416406f8503efe9e449718d0becfcb2"
    }
  ],
  "stats": {
    "total": 228,
    "additions": 219,
    "deletions": 9
  },
  "files": [
    {
      "sha": "6d3d9a483838530650f332bff7d2cede0945a6af",
      "filename": "ChangeLog",
      "status": "modified",
      "additions": 11,
      "deletions": 0,
      "changes": 11,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/50ad1254d5030d0804cbf89c758359ae202e8d55/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/50ad1254d5030d0804cbf89c758359ae202e8d55/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ChangeLog?ref=50ad1254d5030d0804cbf89c758359ae202e8d55",
      "patch": "@@ -1,3 +1,14 @@\n+2021-01-09  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\t* Makefile.tpl (AR): Add @AR_PLUGIN_OPTION@\n+\t(RANLIB): Add @RANLIB_PLUGIN_OPTION@.\n+\t* configure.ac: Include config/gcc-plugin.m4.\n+\tAC_SUBST AR_PLUGIN_OPTION and RANLIB_PLUGIN_OPTION.\n+\t* libtool.m4 (_LT_CMD_OLD_ARCHIVE): Pass --plugin to AR and\n+\tRANLIB if possible.\n+\t* Makefile.in: Regenerated.\n+\t* configure: Likewise.\n+\n 2021-01-09  Nick Clifton  <nickc@redhat.com>\n \n \t* 2.36 release branch crated."
    },
    {
      "sha": "a52ff56e5c5fd97f9ca05e58338cc29075baa4f3",
      "filename": "Makefile.in",
      "status": "modified",
      "additions": 3,
      "deletions": 2,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/50ad1254d5030d0804cbf89c758359ae202e8d55/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/50ad1254d5030d0804cbf89c758359ae202e8d55/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/Makefile.in?ref=50ad1254d5030d0804cbf89c758359ae202e8d55",
      "patch": "@@ -387,7 +387,7 @@ MAKEINFOFLAGS = --split-size=5000000\n # ---------------------------------------------\n \n AS = @AS@\n-AR = @AR@\n+AR = @AR@ @AR_PLUGIN_OPTION@\n AR_FLAGS = rc\n CC = @CC@\n CXX = @CXX@\n@@ -396,7 +396,7 @@ LD = @LD@\n LIPO = @LIPO@\n NM = @NM@\n OBJDUMP = @OBJDUMP@\n-RANLIB = @RANLIB@\n+RANLIB = @RANLIB@ @RANLIB_PLUGIN_OPTION@\n READELF = @READELF@\n STRIP = @STRIP@\n WINDRES = @WINDRES@\n@@ -52646,6 +52646,7 @@ AUTOCONF = autoconf\n $(srcdir)/configure: @MAINT@ $(srcdir)/configure.ac $(srcdir)/config/acx.m4 \\\n \t$(srcdir)/config/override.m4 $(srcdir)/config/proginstall.m4 \\\n \t$(srcdir)/config/elf.m4 $(srcdir)/config/isl.m4 \\\n+\t$(srcdir)/config/gcc-plugin.m4 \\\n \t$(srcdir)/libtool.m4 $(srcdir)/ltoptions.m4 $(srcdir)/ltsugar.m4 \\\n \t$(srcdir)/ltversion.m4 $(srcdir)/lt~obsolete.m4\n \tcd $(srcdir) && $(AUTOCONF)"
    },
    {
      "sha": "a280a1498c00451fd55beabb7a8036b665f63bb1",
      "filename": "Makefile.tpl",
      "status": "modified",
      "additions": 3,
      "deletions": 2,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/50ad1254d5030d0804cbf89c758359ae202e8d55/Makefile.tpl",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/50ad1254d5030d0804cbf89c758359ae202e8d55/Makefile.tpl",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/Makefile.tpl?ref=50ad1254d5030d0804cbf89c758359ae202e8d55",
      "patch": "@@ -390,7 +390,7 @@ MAKEINFOFLAGS = --split-size=5000000\n # ---------------------------------------------\n \n AS = @AS@\n-AR = @AR@\n+AR = @AR@ @AR_PLUGIN_OPTION@\n AR_FLAGS = rc\n CC = @CC@\n CXX = @CXX@\n@@ -399,7 +399,7 @@ LD = @LD@\n LIPO = @LIPO@\n NM = @NM@\n OBJDUMP = @OBJDUMP@\n-RANLIB = @RANLIB@\n+RANLIB = @RANLIB@ @RANLIB_PLUGIN_OPTION@\n READELF = @READELF@\n STRIP = @STRIP@\n WINDRES = @WINDRES@\n@@ -1967,6 +1967,7 @@ AUTOCONF = autoconf\n $(srcdir)/configure: @MAINT@ $(srcdir)/configure.ac $(srcdir)/config/acx.m4 \\\n \t$(srcdir)/config/override.m4 $(srcdir)/config/proginstall.m4 \\\n \t$(srcdir)/config/elf.m4 $(srcdir)/config/isl.m4 \\\n+\t$(srcdir)/config/gcc-plugin.m4 \\\n \t$(srcdir)/libtool.m4 $(srcdir)/ltoptions.m4 $(srcdir)/ltsugar.m4 \\\n \t$(srcdir)/ltversion.m4 $(srcdir)/lt~obsolete.m4\n \tcd $(srcdir) && $(AUTOCONF)"
    },
    {
      "sha": "1ec58471f242be9d10c41b0762db428dea1a38d3",
      "filename": "config/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/50ad1254d5030d0804cbf89c758359ae202e8d55/config/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/50ad1254d5030d0804cbf89c758359ae202e8d55/config/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/config/ChangeLog?ref=50ad1254d5030d0804cbf89c758359ae202e8d55",
      "patch": "@@ -1,3 +1,7 @@\n+2021-01-09  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\t* gcc-plugin.m4 (GCC_PLUGIN_OPTION): New.\n+\n 2021-01-09  Nick Clifton  <nickc@redhat.com>\n \n \t* 2.36 release branch crated."
    },
    {
      "sha": "c5b72e9a13dc717578c503679ec04552f9e8c1ee",
      "filename": "config/gcc-plugin.m4",
      "status": "modified",
      "additions": 28,
      "deletions": 0,
      "changes": 28,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/50ad1254d5030d0804cbf89c758359ae202e8d55/config/gcc-plugin.m4",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/50ad1254d5030d0804cbf89c758359ae202e8d55/config/gcc-plugin.m4",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/config/gcc-plugin.m4?ref=50ad1254d5030d0804cbf89c758359ae202e8d55",
      "patch": "@@ -124,3 +124,31 @@ AC_DEFUN([GCC_ENABLE_PLUGINS],\n      fi\n    fi\n ])\n+\n+dnl\n+dnl\n+dnl GCC_PLUGIN_OPTION\n+dnl    (SHELL-CODE_HANDLER)\n+dnl\n+AC_DEFUN([GCC_PLUGIN_OPTION],[dnl\n+AC_MSG_CHECKING([for -plugin option])\n+\n+plugin_names=\"liblto_plugin.so liblto_plugin-0.dll cyglto_plugin-0.dll\"\n+plugin_option=\n+for plugin in $plugin_names; do\n+  plugin_so=`${CC} ${CFLAGS} --print-prog-name $plugin`\n+  if test x$plugin_so = x$plugin; then\n+    plugin_so=`${CC} ${CFLAGS} --print-file-name $plugin`\n+  fi\n+  if test x$plugin_so != x$plugin; then\n+    plugin_option=\"--plugin $plugin_so\"\n+    break\n+  fi\n+done\n+if test -n \"$plugin_option\"; then\n+  $1=\"$plugin_option\"\n+  AC_MSG_RESULT($plugin_option)\n+else\n+  AC_MSG_RESULT([no])\n+fi\n+])"
    },
    {
      "sha": "4c9297d3782c368fb8fe869a7fafde8686b44454",
      "filename": "configure",
      "status": "modified",
      "additions": 39,
      "deletions": 0,
      "changes": 39,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/50ad1254d5030d0804cbf89c758359ae202e8d55/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/50ad1254d5030d0804cbf89c758359ae202e8d55/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/configure?ref=50ad1254d5030d0804cbf89c758359ae202e8d55",
      "patch": "@@ -616,6 +616,8 @@ GFORTRAN_FOR_TARGET\n GCC_FOR_TARGET\n CXX_FOR_TARGET\n CC_FOR_TARGET\n+RANLIB_PLUGIN_OPTION\n+AR_PLUGIN_OPTION\n READELF\n OBJDUMP\n OBJCOPY\n@@ -10007,6 +10009,43 @@ fi\n \n \n \n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for -plugin option\" >&5\n+$as_echo_n \"checking for -plugin option... \" >&6; }\n+\n+plugin_names=\"liblto_plugin.so liblto_plugin-0.dll cyglto_plugin-0.dll\"\n+plugin_option=\n+for plugin in $plugin_names; do\n+  plugin_so=`${CC} ${CFLAGS} --print-prog-name $plugin`\n+  if test x$plugin_so = x$plugin; then\n+    plugin_so=`${CC} ${CFLAGS} --print-file-name $plugin`\n+  fi\n+  if test x$plugin_so != x$plugin; then\n+    plugin_option=\"--plugin $plugin_so\"\n+    break\n+  fi\n+done\n+if test -n \"$plugin_option\"; then\n+  PLUGIN_OPTION=\"$plugin_option\"\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $plugin_option\" >&5\n+$as_echo \"$plugin_option\" >&6; }\n+else\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+fi\n+\n+AR_PLUGIN_OPTION=\n+RANLIB_PLUGIN_OPTION=\n+if test -n \"$PLUGIN_OPTION\"; then\n+  if $AR --help 2>&1 | grep -q \"\\--plugin\"; then\n+    AR_PLUGIN_OPTION=\"$PLUGIN_OPTION\"\n+  fi\n+  if $RANLIB --help 2>&1 | grep -q \"\\--plugin\"; then\n+    RANLIB_PLUGIN_OPTION=\"$PLUGIN_OPTION\"\n+  fi\n+fi\n+\n+\n+\n # Target tools.\n \n # Check whether --with-build-time-tools was given."
    },
    {
      "sha": "7c4bdff0fadab4cd4dcdba983abc2fa403b22ff9",
      "filename": "configure.ac",
      "status": "modified",
      "additions": 15,
      "deletions": 0,
      "changes": 15,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/50ad1254d5030d0804cbf89c758359ae202e8d55/configure.ac",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/50ad1254d5030d0804cbf89c758359ae202e8d55/configure.ac",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/configure.ac?ref=50ad1254d5030d0804cbf89c758359ae202e8d55",
      "patch": "@@ -23,6 +23,7 @@ m4_include(config/acx.m4)\n m4_include(config/override.m4)\n m4_include(config/proginstall.m4)\n m4_include(config/elf.m4)\n+m4_include(config/gcc-plugin.m4)\n m4_include([libtool.m4])\n m4_include([ltoptions.m4])\n m4_include([ltsugar.m4])\n@@ -3376,6 +3377,20 @@ AC_SUBST(CXX)\n AC_SUBST(CFLAGS)\n AC_SUBST(CXXFLAGS)\n \n+GCC_PLUGIN_OPTION(PLUGIN_OPTION)\n+AR_PLUGIN_OPTION=\n+RANLIB_PLUGIN_OPTION=\n+if test -n \"$PLUGIN_OPTION\"; then\n+  if $AR --help 2>&1 | grep -q \"\\--plugin\"; then\n+    AR_PLUGIN_OPTION=\"$PLUGIN_OPTION\"\n+  fi\n+  if $RANLIB --help 2>&1 | grep -q \"\\--plugin\"; then\n+    RANLIB_PLUGIN_OPTION=\"$PLUGIN_OPTION\"\n+  fi\n+fi\n+AC_SUBST(AR_PLUGIN_OPTION)\n+AC_SUBST(RANLIB_PLUGIN_OPTION)\n+\n # Target tools.\n AC_ARG_WITH([build-time-tools], \n   [AS_HELP_STRING([--with-build-time-tools=PATH],"
    },
    {
      "sha": "3fffbc07ef21d77580990c0f43941789f5e647c6",
      "filename": "libiberty/ChangeLog",
      "status": "modified",
      "additions": 10,
      "deletions": 0,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/50ad1254d5030d0804cbf89c758359ae202e8d55/libiberty/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/50ad1254d5030d0804cbf89c758359ae202e8d55/libiberty/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/libiberty/ChangeLog?ref=50ad1254d5030d0804cbf89c758359ae202e8d55",
      "patch": "@@ -1,3 +1,13 @@\n+2021-01-09  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\t* Makefile.in (AR): Add @AR_PLUGIN_OPTION@\n+\t(RANLIB): Add @RANLIB_PLUGIN_OPTION@.\n+\t(configure_deps): Depend on ../config/gcc-plugin.m4.\n+\t* aclocal.m4: Include ../config/gcc-plugin.m4.\n+\t* configure.ac: AC_SUBST AR_PLUGIN_OPTION and\n+\tRANLIB_PLUGIN_OPTION.\n+\t* configure: Regenerated.\n+\n 2021-01-04  Martin Liska  <mliska@suse.cz>\n \n \t* strverscmp.c: Convert to utf8 from iso8859."
    },
    {
      "sha": "711e155b0758f9f987d915c85b396a549210c301",
      "filename": "libiberty/Makefile.in",
      "status": "modified",
      "additions": 3,
      "deletions": 2,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/50ad1254d5030d0804cbf89c758359ae202e8d55/libiberty/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/50ad1254d5030d0804cbf89c758359ae202e8d55/libiberty/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/libiberty/Makefile.in?ref=50ad1254d5030d0804cbf89c758359ae202e8d55",
      "patch": "@@ -49,13 +49,13 @@ mkinstalldirs = $(SHELL) $(libiberty_topdir)/mkinstalldirs\n # Some compilers can't handle cc -c blah.c -o foo/blah.o.\n OUTPUT_OPTION = @OUTPUT_OPTION@\n \n-AR = @AR@\n+AR = @AR@ @AR_PLUGIN_OPTION@\n AR_FLAGS = rc\n \n CC = @CC@\n CFLAGS = @CFLAGS@\n CPPFLAGS = @CPPFLAGS@\n-RANLIB = @RANLIB@\n+RANLIB = @RANLIB@ @RANLIB_PLUGIN_OPTION@\n MAKEINFO = @MAKEINFO@\n PERL = @PERL@\n \n@@ -485,6 +485,7 @@ configure_deps = $(srcdir)/aclocal.m4 \\\n \t$(srcdir)/../config/acx.m4 \\\n \t$(srcdir)/../config/cet.m4 \\\n \t$(srcdir)/../config/enable.m4 \\\n+\t$(srcdir)/../config/gcc-plugin.m4 \\\n \t$(srcdir)/../config/no-executables.m4 \\\n \t$(srcdir)/../config/override.m4 \\\n \t$(srcdir)/../config/picflag.m4 \\"
    },
    {
      "sha": "b2e54d9e32ae5bde5c33e35a493e7a4538712653",
      "filename": "libiberty/aclocal.m4",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/50ad1254d5030d0804cbf89c758359ae202e8d55/libiberty/aclocal.m4",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/50ad1254d5030d0804cbf89c758359ae202e8d55/libiberty/aclocal.m4",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/libiberty/aclocal.m4?ref=50ad1254d5030d0804cbf89c758359ae202e8d55",
      "patch": "@@ -1,6 +1,7 @@\n sinclude(../config/acx.m4)\n sinclude(../config/cet.m4)\n sinclude(../config/enable.m4)\n+sinclude(../config/gcc-plugin.m4)\n sinclude(../config/no-executables.m4)\n sinclude(../config/override.m4)\n sinclude(../config/picflag.m4)"
    },
    {
      "sha": "5d7aee38903b746aed120319d06fda3c8c23313c",
      "filename": "libiberty/configure",
      "status": "modified",
      "additions": 37,
      "deletions": 0,
      "changes": 37,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/50ad1254d5030d0804cbf89c758359ae202e8d55/libiberty/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/50ad1254d5030d0804cbf89c758359ae202e8d55/libiberty/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/libiberty/configure?ref=50ad1254d5030d0804cbf89c758359ae202e8d55",
      "patch": "@@ -645,6 +645,8 @@ CPPFLAGS\n LDFLAGS\n CFLAGS\n CC\n+RANLIB_PLUGIN_OPTION\n+AR_PLUGIN_OPTION\n RANLIB\n AR\n host_os\n@@ -2932,6 +2934,41 @@ else\n fi\n \n \n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for -plugin option\" >&5\n+$as_echo_n \"checking for -plugin option... \" >&6; }\n+\n+plugin_names=\"liblto_plugin.so liblto_plugin-0.dll cyglto_plugin-0.dll\"\n+plugin_option=\n+for plugin in $plugin_names; do\n+  plugin_so=`${CC} ${CFLAGS} --print-prog-name $plugin`\n+  if test x$plugin_so = x$plugin; then\n+    plugin_so=`${CC} ${CFLAGS} --print-file-name $plugin`\n+  fi\n+  if test x$plugin_so != x$plugin; then\n+    plugin_option=\"--plugin $plugin_so\"\n+    break\n+  fi\n+done\n+if test -n \"$plugin_option\"; then\n+  PLUGIN_OPTION=\"$plugin_option\"\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $plugin_option\" >&5\n+$as_echo \"$plugin_option\" >&6; }\n+else\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+fi\n+\n+if test -n \"$PLUGIN_OPTION\"; then\n+  if $AR --help 2>&1 | grep -q \"\\--plugin\"; then\n+    AR_PLUGIN_OPTION=\"$PLUGIN_OPTION\"\n+\n+  fi\n+  if $RANLIB --help 2>&1 | grep -q \"\\--plugin\"; then\n+    RANLIB_PLUGIN_OPTION=\"$PLUGIN_OPTION\"\n+\n+  fi\n+fi\n+\n # Add --enable-multilib to configure.\n # Default to --enable-multilib\n # Check whether --enable-multilib was given."
    },
    {
      "sha": "756d11a82608a1f8c4d590cef9e84d873da50e01",
      "filename": "libiberty/configure.ac",
      "status": "modified",
      "additions": 12,
      "deletions": 0,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/50ad1254d5030d0804cbf89c758359ae202e8d55/libiberty/configure.ac",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/50ad1254d5030d0804cbf89c758359ae202e8d55/libiberty/configure.ac",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/libiberty/configure.ac?ref=50ad1254d5030d0804cbf89c758359ae202e8d55",
      "patch": "@@ -108,6 +108,18 @@ dnl to call AC_CHECK_PROG.\n AC_CHECK_TOOL(AR, ar)\n AC_CHECK_TOOL(RANLIB, ranlib, :)\n \n+GCC_PLUGIN_OPTION(PLUGIN_OPTION)\n+if test -n \"$PLUGIN_OPTION\"; then\n+  if $AR --help 2>&1 | grep -q \"\\--plugin\"; then\n+    AR_PLUGIN_OPTION=\"$PLUGIN_OPTION\"\n+    AC_SUBST(AR_PLUGIN_OPTION)\n+  fi\n+  if $RANLIB --help 2>&1 | grep -q \"\\--plugin\"; then\n+    RANLIB_PLUGIN_OPTION=\"$PLUGIN_OPTION\"\n+    AC_SUBST(RANLIB_PLUGIN_OPTION)\n+  fi\n+fi\n+\n dnl When switching to automake, replace the following with AM_ENABLE_MULTILIB.\n # Add --enable-multilib to configure.\n # Default to --enable-multilib"
    },
    {
      "sha": "3672e9516e28dac1e5127fba55af72ea1545722f",
      "filename": "libtool.m4",
      "status": "modified",
      "additions": 24,
      "deletions": 1,
      "changes": 25,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/50ad1254d5030d0804cbf89c758359ae202e8d55/libtool.m4",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/50ad1254d5030d0804cbf89c758359ae202e8d55/libtool.m4",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/libtool.m4?ref=50ad1254d5030d0804cbf89c758359ae202e8d55",
      "patch": "@@ -1323,8 +1323,26 @@ need_locks=\"$enable_libtool_lock\"\n # _LT_CMD_OLD_ARCHIVE\n # -------------------\n m4_defun([_LT_CMD_OLD_ARCHIVE],\n-[AC_CHECK_TOOL(AR, ar, false)\n+[plugin_option=\n+plugin_names=\"liblto_plugin.so liblto_plugin-0.dll cyglto_plugin-0.dll\"\n+for plugin in $plugin_names; do\n+  plugin_so=`${CC} ${CFLAGS} --print-prog-name $plugin`\n+  if test x$plugin_so = x$plugin; then\n+    plugin_so=`${CC} ${CFLAGS} --print-file-name $plugin`\n+  fi\n+  if test x$plugin_so != x$plugin; then\n+    plugin_option=\"--plugin $plugin_so\"\n+    break\n+  fi\n+done\n+\n+AC_CHECK_TOOL(AR, ar, false)\n test -z \"$AR\" && AR=ar\n+if test -n \"$plugin_option\"; then\n+  if $AR --help 2>&1 | grep -q \"\\--plugin\"; then\n+    AR=\"$AR $plugin_option\"\n+  fi\n+fi\n test -z \"$AR_FLAGS\" && AR_FLAGS=cru\n _LT_DECL([], [AR], [1], [The archiver])\n _LT_DECL([], [AR_FLAGS], [1])\n@@ -1335,6 +1353,11 @@ _LT_DECL([], [STRIP], [1], [A symbol stripping program])\n \n AC_CHECK_TOOL(RANLIB, ranlib, :)\n test -z \"$RANLIB\" && RANLIB=:\n+if test -n \"$plugin_option\" && test \"$RANLIB\" != \":\"; then\n+  if $RANLIB --help 2>&1 | grep -q \"\\--plugin\"; then\n+    RANLIB=\"$RANLIB $plugin_option\"\n+  fi\n+fi\n _LT_DECL([], [RANLIB], [1],\n     [Commands used to install an old-style archive])\n "
    },
    {
      "sha": "e30e67dbaa7ce40c8088c3cee50d16de3738cce3",
      "filename": "zlib/ChangeLog.bin-gdb",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/50ad1254d5030d0804cbf89c758359ae202e8d55/zlib/ChangeLog.bin-gdb",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/50ad1254d5030d0804cbf89c758359ae202e8d55/zlib/ChangeLog.bin-gdb",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/zlib/ChangeLog.bin-gdb?ref=50ad1254d5030d0804cbf89c758359ae202e8d55",
      "patch": "@@ -1,3 +1,7 @@\n+2021-01-09  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\t* configure: Regenerated.\n+\n 2020-02-19  Andrew Burgess  <andrew.burgess@embecosm.com>\n \n \t* configure: Regenerate."
    },
    {
      "sha": "79a79c5d9e7d2b48d972d997efa1889daf2c9fc7",
      "filename": "zlib/configure",
      "status": "modified",
      "additions": 25,
      "deletions": 2,
      "changes": 27,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/50ad1254d5030d0804cbf89c758359ae202e8d55/zlib/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/50ad1254d5030d0804cbf89c758359ae202e8d55/zlib/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/zlib/configure?ref=50ad1254d5030d0804cbf89c758359ae202e8d55",
      "patch": "@@ -5407,6 +5407,19 @@ test -z \"$deplibs_check_method\" && deplibs_check_method=unknown\n \n \n \n+plugin_option=\n+plugin_names=\"liblto_plugin.so liblto_plugin-0.dll cyglto_plugin-0.dll\"\n+for plugin in $plugin_names; do\n+  plugin_so=`${CC} ${CFLAGS} --print-prog-name $plugin`\n+  if test x$plugin_so = x$plugin; then\n+    plugin_so=`${CC} ${CFLAGS} --print-file-name $plugin`\n+  fi\n+  if test x$plugin_so != x$plugin; then\n+    plugin_option=\"--plugin $plugin_so\"\n+    break\n+  fi\n+done\n+\n if test -n \"$ac_tool_prefix\"; then\n   # Extract the first word of \"${ac_tool_prefix}ar\", so it can be a program name with args.\n set dummy ${ac_tool_prefix}ar; ac_word=$2\n@@ -5500,6 +5513,11 @@ else\n fi\n \n test -z \"$AR\" && AR=ar\n+if test -n \"$plugin_option\"; then\n+  if $AR --help 2>&1 | grep -q \"\\--plugin\"; then\n+    AR=\"$AR $plugin_option\"\n+  fi\n+fi\n test -z \"$AR_FLAGS\" && AR_FLAGS=cru\n \n \n@@ -5704,6 +5722,11 @@ else\n fi\n \n test -z \"$RANLIB\" && RANLIB=:\n+if test -n \"$plugin_option\" && test \"$RANLIB\" != \":\"; then\n+  if $RANLIB --help 2>&1 | grep -q \"\\--plugin\"; then\n+    RANLIB=\"$RANLIB $plugin_option\"\n+  fi\n+fi\n \n \n \n@@ -10634,7 +10657,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 10637 \"configure\"\n+#line 10660 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -10740,7 +10763,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 10743 \"configure\"\n+#line 10766 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H"
    }
  ]
}