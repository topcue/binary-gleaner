{
  "sha": "e683cb412046b40085505f42dd141f542661a6ae",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ZTY4M2NiNDEyMDQ2YjQwMDg1NTA1ZjQyZGQxNDFmNTQyNjYxYTZhZQ==",
  "commit": {
    "author": {
      "name": "Alex Coplan",
      "email": "alex.coplan@arm.com",
      "date": "2021-05-17T14:12:39Z"
    },
    "committer": {
      "name": "Alex Coplan",
      "email": "alex.coplan@arm.com",
      "date": "2021-05-17T14:12:39Z"
    },
    "message": "arm: Fix bugs with MVE vmov from two GPRs to vector lanes\n\nThe initial problem I wanted to fix here is that GAS was rejecting MVE\ninstructions such as:\n\nvmov q3[2], q3[0], r2, r2\n\nwith:\n\nError: General purpose registers may not be the same -- `vmov q3[2],q3[0],r2,r2'\n\nwhich is incorrect; such instructions are valid. Note that for moves in\nthe other direction, e.g.:\n\nvmov r2, r2, q3[2], q3[0]\n\nGAS is correct in rejecting this as it does not make sense to move both\nlanes into the same register (the Arm ARM says this is CONSTRAINED\nUNPREDICTABLE).\n\nAfter fixing this issue, I added assembly/disassembly tests for these\nvmovs. This revealed several disassembly issues, including incorrectly\nmarking the moves into vector lanes as UNPREDICTABLE, and disassembling\nmany of the vmovs as vector loads. These are now fixed.\n\ngas/ChangeLog:\n\n\t* config/tc-arm.c (do_mve_mov): Only reject vmov if we're moving\n\tinto the same GPR twice.\n\t* testsuite/gas/arm/mve-vmov-bad-2.l: Tweak error message.\n\t* testsuite/gas/arm/mve-vmov-3.d: New test.\n\t* testsuite/gas/arm/mve-vmov-3.s: New test.\n\nopcodes/ChangeLog:\n\n\t* arm-dis.c (mve_opcodes): Fix disassembly of\n\tMVE_VMOV2_GP_TO_VEC_LANE when idx == 1.\n\t(is_mve_encoding_conflict): MVE vector loads should not match\n\twhen P = W = 0.\n\t(is_mve_unpredictable): It's not unpredictable to use the same\n\tsource register twice (for MVE_VMOV2_GP_TO_VEC_LANE).",
    "tree": {
      "sha": "5691bbcb60d26278a40eb4265c53db1e0a33af35",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/5691bbcb60d26278a40eb4265c53db1e0a33af35"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/e683cb412046b40085505f42dd141f542661a6ae",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/e683cb412046b40085505f42dd141f542661a6ae",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/e683cb412046b40085505f42dd141f542661a6ae",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/e683cb412046b40085505f42dd141f542661a6ae/comments",
  "author": {
    "login": "acoplan-arm",
    "id": 86676934,
    "node_id": "MDQ6VXNlcjg2Njc2OTM0",
    "avatar_url": "https://avatars.githubusercontent.com/u/86676934?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/acoplan-arm",
    "html_url": "https://github.com/acoplan-arm",
    "followers_url": "https://api.github.com/users/acoplan-arm/followers",
    "following_url": "https://api.github.com/users/acoplan-arm/following{/other_user}",
    "gists_url": "https://api.github.com/users/acoplan-arm/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/acoplan-arm/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/acoplan-arm/subscriptions",
    "organizations_url": "https://api.github.com/users/acoplan-arm/orgs",
    "repos_url": "https://api.github.com/users/acoplan-arm/repos",
    "events_url": "https://api.github.com/users/acoplan-arm/events{/privacy}",
    "received_events_url": "https://api.github.com/users/acoplan-arm/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "acoplan-arm",
    "id": 86676934,
    "node_id": "MDQ6VXNlcjg2Njc2OTM0",
    "avatar_url": "https://avatars.githubusercontent.com/u/86676934?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/acoplan-arm",
    "html_url": "https://github.com/acoplan-arm",
    "followers_url": "https://api.github.com/users/acoplan-arm/followers",
    "following_url": "https://api.github.com/users/acoplan-arm/following{/other_user}",
    "gists_url": "https://api.github.com/users/acoplan-arm/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/acoplan-arm/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/acoplan-arm/subscriptions",
    "organizations_url": "https://api.github.com/users/acoplan-arm/orgs",
    "repos_url": "https://api.github.com/users/acoplan-arm/repos",
    "events_url": "https://api.github.com/users/acoplan-arm/events{/privacy}",
    "received_events_url": "https://api.github.com/users/acoplan-arm/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "467f8eb233291031e1883c12fae9c8f41177efa2",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/467f8eb233291031e1883c12fae9c8f41177efa2",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/467f8eb233291031e1883c12fae9c8f41177efa2"
    }
  ],
  "stats": {
    "total": 359,
    "additions": 354,
    "deletions": 5
  },
  "files": [
    {
      "sha": "e12b93cc8f575af26b6adbed29e03cc771731e1e",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e683cb412046b40085505f42dd141f542661a6ae/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e683cb412046b40085505f42dd141f542661a6ae/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=e683cb412046b40085505f42dd141f542661a6ae",
      "patch": "@@ -1,3 +1,11 @@\n+2021-05-17  Alex Coplan  <alex.coplan@arm.com>\n+\n+\t* config/tc-arm.c (do_mve_mov): Only reject vmov if we're moving\n+\tinto the same GPR twice.\n+\t* testsuite/gas/arm/mve-vmov-bad-2.l: Tweak error message.\n+\t* testsuite/gas/arm/mve-vmov-3.d: New test.\n+\t* testsuite/gas/arm/mve-vmov-3.s: New test.\n+\n 2021-05-12  Alan Modra  <amodra@gmail.com>\n \n \t* testsuite/gas/elf/dwarf-5-file0.d: Update."
    },
    {
      "sha": "9229dd081589228997a135117053697db049a370",
      "filename": "gas/config/tc-arm.c",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e683cb412046b40085505f42dd141f542661a6ae/gas/config/tc-arm.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e683cb412046b40085505f42dd141f542661a6ae/gas/config/tc-arm.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/config/tc-arm.c?ref=e683cb412046b40085505f42dd141f542661a6ae",
      "patch": "@@ -20013,8 +20013,8 @@ do_mve_mov (int toQ)\n   constraint (inst.operands[Q0].reg != inst.operands[Q1].reg + 2,\n \t      _(\"Index one must be [2,3] and index two must be two less than\"\n \t\t\" index one.\"));\n-  constraint (inst.operands[Rt].reg == inst.operands[Rt2].reg,\n-\t      _(\"General purpose registers may not be the same\"));\n+  constraint (!toQ && inst.operands[Rt].reg == inst.operands[Rt2].reg,\n+\t      _(\"Destination registers may not be the same\"));\n   constraint (inst.operands[Rt].reg == REG_SP\n \t      || inst.operands[Rt2].reg == REG_SP,\n \t      BAD_SP);"
    },
    {
      "sha": "5355b4ac4cb6c5bfdaebc653bf40de1e7c06edcf",
      "filename": "gas/testsuite/gas/arm/mve-vmov-3.d",
      "status": "added",
      "additions": 169,
      "deletions": 0,
      "changes": 169,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e683cb412046b40085505f42dd141f542661a6ae/gas/testsuite/gas/arm/mve-vmov-3.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e683cb412046b40085505f42dd141f542661a6ae/gas/testsuite/gas/arm/mve-vmov-3.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/arm/mve-vmov-3.d?ref=e683cb412046b40085505f42dd141f542661a6ae",
      "patch": "@@ -0,0 +1,169 @@\n+# name: MVE vmov (between two 32-bit vector lanes and two GPRs)\n+# as: -march=armv8.1-m.main+mve\n+# objdump: -dr -marmv8.1-m.main\n+\n+.*: +file format .*arm.*\n+\n+Disassembly of section .text:\n+\n+0+ <.*>:\n+.*:\tec01 2f00 \tvmov\tr0, r1, q1\\[2\\], q1\\[0\\]\n+.*:\tec01 4f00 \tvmov\tr0, r1, q2\\[2\\], q2\\[0\\]\n+.*:\tec01 6f00 \tvmov\tr0, r1, q3\\[2\\], q3\\[0\\]\n+.*:\tec01 8f00 \tvmov\tr0, r1, q4\\[2\\], q4\\[0\\]\n+.*:\tec01 af00 \tvmov\tr0, r1, q5\\[2\\], q5\\[0\\]\n+.*:\tec01 cf00 \tvmov\tr0, r1, q6\\[2\\], q6\\[0\\]\n+.*:\tec01 ef00 \tvmov\tr0, r1, q7\\[2\\], q7\\[0\\]\n+.*:\tec00 0f01 \tvmov\tr1, r0, q0\\[2\\], q0\\[0\\]\n+.*:\tec00 0f02 \tvmov\tr2, r0, q0\\[2\\], q0\\[0\\]\n+.*:\tec00 0f03 \tvmov\tr3, r0, q0\\[2\\], q0\\[0\\]\n+.*:\tec00 0f04 \tvmov\tr4, r0, q0\\[2\\], q0\\[0\\]\n+.*:\tec00 0f05 \tvmov\tr5, r0, q0\\[2\\], q0\\[0\\]\n+.*:\tec00 0f06 \tvmov\tr6, r0, q0\\[2\\], q0\\[0\\]\n+.*:\tec00 0f07 \tvmov\tr7, r0, q0\\[2\\], q0\\[0\\]\n+.*:\tec00 0f08 \tvmov\tr8, r0, q0\\[2\\], q0\\[0\\]\n+.*:\tec00 0f09 \tvmov\tr9, r0, q0\\[2\\], q0\\[0\\]\n+.*:\tec00 0f0a \tvmov\tsl, r0, q0\\[2\\], q0\\[0\\]\n+.*:\tec00 0f0b \tvmov\tfp, r0, q0\\[2\\], q0\\[0\\]\n+.*:\tec00 0f0c \tvmov\tip, r0, q0\\[2\\], q0\\[0\\]\n+.*:\tec00 0f0e \tvmov\tlr, r0, q0\\[2\\], q0\\[0\\]\n+.*:\tec01 0f00 \tvmov\tr0, r1, q0\\[2\\], q0\\[0\\]\n+.*:\tec02 0f00 \tvmov\tr0, r2, q0\\[2\\], q0\\[0\\]\n+.*:\tec03 0f00 \tvmov\tr0, r3, q0\\[2\\], q0\\[0\\]\n+.*:\tec04 0f00 \tvmov\tr0, r4, q0\\[2\\], q0\\[0\\]\n+.*:\tec05 0f00 \tvmov\tr0, r5, q0\\[2\\], q0\\[0\\]\n+.*:\tec06 0f00 \tvmov\tr0, r6, q0\\[2\\], q0\\[0\\]\n+.*:\tec07 0f00 \tvmov\tr0, r7, q0\\[2\\], q0\\[0\\]\n+.*:\tec08 0f00 \tvmov\tr0, r8, q0\\[2\\], q0\\[0\\]\n+.*:\tec09 0f00 \tvmov\tr0, r9, q0\\[2\\], q0\\[0\\]\n+.*:\tec0a 0f00 \tvmov\tr0, sl, q0\\[2\\], q0\\[0\\]\n+.*:\tec0b 0f00 \tvmov\tr0, fp, q0\\[2\\], q0\\[0\\]\n+.*:\tec0c 0f00 \tvmov\tr0, ip, q0\\[2\\], q0\\[0\\]\n+.*:\tec0e 0f00 \tvmov\tr0, lr, q0\\[2\\], q0\\[0\\]\n+.*:\tec01 2f10 \tvmov\tr0, r1, q1\\[3\\], q1\\[1\\]\n+.*:\tec01 4f10 \tvmov\tr0, r1, q2\\[3\\], q2\\[1\\]\n+.*:\tec01 6f10 \tvmov\tr0, r1, q3\\[3\\], q3\\[1\\]\n+.*:\tec01 8f10 \tvmov\tr0, r1, q4\\[3\\], q4\\[1\\]\n+.*:\tec01 af10 \tvmov\tr0, r1, q5\\[3\\], q5\\[1\\]\n+.*:\tec01 cf10 \tvmov\tr0, r1, q6\\[3\\], q6\\[1\\]\n+.*:\tec01 ef10 \tvmov\tr0, r1, q7\\[3\\], q7\\[1\\]\n+.*:\tec00 0f11 \tvmov\tr1, r0, q0\\[3\\], q0\\[1\\]\n+.*:\tec00 0f12 \tvmov\tr2, r0, q0\\[3\\], q0\\[1\\]\n+.*:\tec00 0f13 \tvmov\tr3, r0, q0\\[3\\], q0\\[1\\]\n+.*:\tec00 0f14 \tvmov\tr4, r0, q0\\[3\\], q0\\[1\\]\n+.*:\tec00 0f15 \tvmov\tr5, r0, q0\\[3\\], q0\\[1\\]\n+.*:\tec00 0f16 \tvmov\tr6, r0, q0\\[3\\], q0\\[1\\]\n+.*:\tec00 0f17 \tvmov\tr7, r0, q0\\[3\\], q0\\[1\\]\n+.*:\tec00 0f18 \tvmov\tr8, r0, q0\\[3\\], q0\\[1\\]\n+.*:\tec00 0f19 \tvmov\tr9, r0, q0\\[3\\], q0\\[1\\]\n+.*:\tec00 0f1a \tvmov\tsl, r0, q0\\[3\\], q0\\[1\\]\n+.*:\tec00 0f1b \tvmov\tfp, r0, q0\\[3\\], q0\\[1\\]\n+.*:\tec00 0f1c \tvmov\tip, r0, q0\\[3\\], q0\\[1\\]\n+.*:\tec00 0f1e \tvmov\tlr, r0, q0\\[3\\], q0\\[1\\]\n+.*:\tec01 0f10 \tvmov\tr0, r1, q0\\[3\\], q0\\[1\\]\n+.*:\tec02 0f10 \tvmov\tr0, r2, q0\\[3\\], q0\\[1\\]\n+.*:\tec03 0f10 \tvmov\tr0, r3, q0\\[3\\], q0\\[1\\]\n+.*:\tec04 0f10 \tvmov\tr0, r4, q0\\[3\\], q0\\[1\\]\n+.*:\tec05 0f10 \tvmov\tr0, r5, q0\\[3\\], q0\\[1\\]\n+.*:\tec06 0f10 \tvmov\tr0, r6, q0\\[3\\], q0\\[1\\]\n+.*:\tec07 0f10 \tvmov\tr0, r7, q0\\[3\\], q0\\[1\\]\n+.*:\tec08 0f10 \tvmov\tr0, r8, q0\\[3\\], q0\\[1\\]\n+.*:\tec09 0f10 \tvmov\tr0, r9, q0\\[3\\], q0\\[1\\]\n+.*:\tec0a 0f10 \tvmov\tr0, sl, q0\\[3\\], q0\\[1\\]\n+.*:\tec0b 0f10 \tvmov\tr0, fp, q0\\[3\\], q0\\[1\\]\n+.*:\tec0c 0f10 \tvmov\tr0, ip, q0\\[3\\], q0\\[1\\]\n+.*:\tec0e 0f10 \tvmov\tr0, lr, q0\\[3\\], q0\\[1\\]\n+.*:\tec11 2f00 \tvmov\tq1\\[2\\], q1\\[0\\], r0, r1\n+.*:\tec11 4f00 \tvmov\tq2\\[2\\], q2\\[0\\], r0, r1\n+.*:\tec11 6f00 \tvmov\tq3\\[2\\], q3\\[0\\], r0, r1\n+.*:\tec11 8f00 \tvmov\tq4\\[2\\], q4\\[0\\], r0, r1\n+.*:\tec11 af00 \tvmov\tq5\\[2\\], q5\\[0\\], r0, r1\n+.*:\tec11 cf00 \tvmov\tq6\\[2\\], q6\\[0\\], r0, r1\n+.*:\tec11 ef00 \tvmov\tq7\\[2\\], q7\\[0\\], r0, r1\n+.*:\tec10 0f00 \tvmov\tq0\\[2\\], q0\\[0\\], r0, r0\n+.*:\tec10 0f01 \tvmov\tq0\\[2\\], q0\\[0\\], r1, r0\n+.*:\tec10 0f02 \tvmov\tq0\\[2\\], q0\\[0\\], r2, r0\n+.*:\tec10 0f03 \tvmov\tq0\\[2\\], q0\\[0\\], r3, r0\n+.*:\tec10 0f04 \tvmov\tq0\\[2\\], q0\\[0\\], r4, r0\n+.*:\tec10 0f05 \tvmov\tq0\\[2\\], q0\\[0\\], r5, r0\n+.*:\tec10 0f06 \tvmov\tq0\\[2\\], q0\\[0\\], r6, r0\n+.*:\tec10 0f07 \tvmov\tq0\\[2\\], q0\\[0\\], r7, r0\n+.*:\tec10 0f08 \tvmov\tq0\\[2\\], q0\\[0\\], r8, r0\n+.*:\tec10 0f09 \tvmov\tq0\\[2\\], q0\\[0\\], r9, r0\n+.*:\tec10 0f0a \tvmov\tq0\\[2\\], q0\\[0\\], sl, r0\n+.*:\tec10 0f0b \tvmov\tq0\\[2\\], q0\\[0\\], fp, r0\n+.*:\tec10 0f0c \tvmov\tq0\\[2\\], q0\\[0\\], ip, r0\n+.*:\tec10 0f0e \tvmov\tq0\\[2\\], q0\\[0\\], lr, r0\n+.*:\tec11 0f00 \tvmov\tq0\\[2\\], q0\\[0\\], r0, r1\n+.*:\tec12 0f00 \tvmov\tq0\\[2\\], q0\\[0\\], r0, r2\n+.*:\tec13 0f00 \tvmov\tq0\\[2\\], q0\\[0\\], r0, r3\n+.*:\tec14 0f00 \tvmov\tq0\\[2\\], q0\\[0\\], r0, r4\n+.*:\tec15 0f00 \tvmov\tq0\\[2\\], q0\\[0\\], r0, r5\n+.*:\tec16 0f00 \tvmov\tq0\\[2\\], q0\\[0\\], r0, r6\n+.*:\tec17 0f00 \tvmov\tq0\\[2\\], q0\\[0\\], r0, r7\n+.*:\tec18 0f00 \tvmov\tq0\\[2\\], q0\\[0\\], r0, r8\n+.*:\tec19 0f00 \tvmov\tq0\\[2\\], q0\\[0\\], r0, r9\n+.*:\tec1a 0f00 \tvmov\tq0\\[2\\], q0\\[0\\], r0, sl\n+.*:\tec1b 0f00 \tvmov\tq0\\[2\\], q0\\[0\\], r0, fp\n+.*:\tec1c 0f00 \tvmov\tq0\\[2\\], q0\\[0\\], r0, ip\n+.*:\tec1e 0f00 \tvmov\tq0\\[2\\], q0\\[0\\], r0, lr\n+.*:\tec11 0f01 \tvmov\tq0\\[2\\], q0\\[0\\], r1, r1\n+.*:\tec12 0f02 \tvmov\tq0\\[2\\], q0\\[0\\], r2, r2\n+.*:\tec13 0f03 \tvmov\tq0\\[2\\], q0\\[0\\], r3, r3\n+.*:\tec14 0f04 \tvmov\tq0\\[2\\], q0\\[0\\], r4, r4\n+.*:\tec15 0f05 \tvmov\tq0\\[2\\], q0\\[0\\], r5, r5\n+.*:\tec16 0f06 \tvmov\tq0\\[2\\], q0\\[0\\], r6, r6\n+.*:\tec17 0f07 \tvmov\tq0\\[2\\], q0\\[0\\], r7, r7\n+.*:\tec18 0f08 \tvmov\tq0\\[2\\], q0\\[0\\], r8, r8\n+.*:\tec19 0f09 \tvmov\tq0\\[2\\], q0\\[0\\], r9, r9\n+.*:\tec1a 0f0a \tvmov\tq0\\[2\\], q0\\[0\\], sl, sl\n+.*:\tec1b 0f0b \tvmov\tq0\\[2\\], q0\\[0\\], fp, fp\n+.*:\tec1c 0f0c \tvmov\tq0\\[2\\], q0\\[0\\], ip, ip\n+.*:\tec1e 0f0e \tvmov\tq0\\[2\\], q0\\[0\\], lr, lr\n+.*:\tec11 2f10 \tvmov\tq1\\[3\\], q1\\[1\\], r0, r1\n+.*:\tec11 4f10 \tvmov\tq2\\[3\\], q2\\[1\\], r0, r1\n+.*:\tec11 6f10 \tvmov\tq3\\[3\\], q3\\[1\\], r0, r1\n+.*:\tec11 8f10 \tvmov\tq4\\[3\\], q4\\[1\\], r0, r1\n+.*:\tec11 af10 \tvmov\tq5\\[3\\], q5\\[1\\], r0, r1\n+.*:\tec11 cf10 \tvmov\tq6\\[3\\], q6\\[1\\], r0, r1\n+.*:\tec11 ef10 \tvmov\tq7\\[3\\], q7\\[1\\], r0, r1\n+.*:\tec10 0f10 \tvmov\tq0\\[3\\], q0\\[1\\], r0, r0\n+.*:\tec10 0f11 \tvmov\tq0\\[3\\], q0\\[1\\], r1, r0\n+.*:\tec10 0f12 \tvmov\tq0\\[3\\], q0\\[1\\], r2, r0\n+.*:\tec10 0f13 \tvmov\tq0\\[3\\], q0\\[1\\], r3, r0\n+.*:\tec10 0f14 \tvmov\tq0\\[3\\], q0\\[1\\], r4, r0\n+.*:\tec10 0f15 \tvmov\tq0\\[3\\], q0\\[1\\], r5, r0\n+.*:\tec10 0f16 \tvmov\tq0\\[3\\], q0\\[1\\], r6, r0\n+.*:\tec10 0f17 \tvmov\tq0\\[3\\], q0\\[1\\], r7, r0\n+.*:\tec10 0f18 \tvmov\tq0\\[3\\], q0\\[1\\], r8, r0\n+.*:\tec10 0f19 \tvmov\tq0\\[3\\], q0\\[1\\], r9, r0\n+.*:\tec10 0f1a \tvmov\tq0\\[3\\], q0\\[1\\], sl, r0\n+.*:\tec10 0f1b \tvmov\tq0\\[3\\], q0\\[1\\], fp, r0\n+.*:\tec10 0f1c \tvmov\tq0\\[3\\], q0\\[1\\], ip, r0\n+.*:\tec10 0f1e \tvmov\tq0\\[3\\], q0\\[1\\], lr, r0\n+.*:\tec11 0f10 \tvmov\tq0\\[3\\], q0\\[1\\], r0, r1\n+.*:\tec12 0f10 \tvmov\tq0\\[3\\], q0\\[1\\], r0, r2\n+.*:\tec13 0f10 \tvmov\tq0\\[3\\], q0\\[1\\], r0, r3\n+.*:\tec14 0f10 \tvmov\tq0\\[3\\], q0\\[1\\], r0, r4\n+.*:\tec15 0f10 \tvmov\tq0\\[3\\], q0\\[1\\], r0, r5\n+.*:\tec16 0f10 \tvmov\tq0\\[3\\], q0\\[1\\], r0, r6\n+.*:\tec17 0f10 \tvmov\tq0\\[3\\], q0\\[1\\], r0, r7\n+.*:\tec18 0f10 \tvmov\tq0\\[3\\], q0\\[1\\], r0, r8\n+.*:\tec19 0f10 \tvmov\tq0\\[3\\], q0\\[1\\], r0, r9\n+.*:\tec1a 0f10 \tvmov\tq0\\[3\\], q0\\[1\\], r0, sl\n+.*:\tec1b 0f10 \tvmov\tq0\\[3\\], q0\\[1\\], r0, fp\n+.*:\tec1c 0f10 \tvmov\tq0\\[3\\], q0\\[1\\], r0, ip\n+.*:\tec1e 0f10 \tvmov\tq0\\[3\\], q0\\[1\\], r0, lr\n+.*:\tec11 0f11 \tvmov\tq0\\[3\\], q0\\[1\\], r1, r1\n+.*:\tec12 0f12 \tvmov\tq0\\[3\\], q0\\[1\\], r2, r2\n+.*:\tec13 0f13 \tvmov\tq0\\[3\\], q0\\[1\\], r3, r3\n+.*:\tec14 0f14 \tvmov\tq0\\[3\\], q0\\[1\\], r4, r4\n+.*:\tec15 0f15 \tvmov\tq0\\[3\\], q0\\[1\\], r5, r5\n+.*:\tec16 0f16 \tvmov\tq0\\[3\\], q0\\[1\\], r6, r6\n+.*:\tec17 0f17 \tvmov\tq0\\[3\\], q0\\[1\\], r7, r7\n+.*:\tec18 0f18 \tvmov\tq0\\[3\\], q0\\[1\\], r8, r8\n+.*:\tec19 0f19 \tvmov\tq0\\[3\\], q0\\[1\\], r9, r9\n+.*:\tec1a 0f1a \tvmov\tq0\\[3\\], q0\\[1\\], sl, sl\n+.*:\tec1b 0f1b \tvmov\tq0\\[3\\], q0\\[1\\], fp, fp\n+.*:\tec1c 0f1c \tvmov\tq0\\[3\\], q0\\[1\\], ip, ip\n+.*:\tec1e 0f1e \tvmov\tq0\\[3\\], q0\\[1\\], lr, lr"
    },
    {
      "sha": "caf09576acda24e7d662d0613152224fe05236a1",
      "filename": "gas/testsuite/gas/arm/mve-vmov-3.s",
      "status": "added",
      "additions": 160,
      "deletions": 0,
      "changes": 160,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e683cb412046b40085505f42dd141f542661a6ae/gas/testsuite/gas/arm/mve-vmov-3.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e683cb412046b40085505f42dd141f542661a6ae/gas/testsuite/gas/arm/mve-vmov-3.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/arm/mve-vmov-3.s?ref=e683cb412046b40085505f42dd141f542661a6ae",
      "patch": "@@ -0,0 +1,160 @@\n+vmov\tr0, r1, q1[2], q1[0]\n+vmov\tr0, r1, q2[2], q2[0]\n+vmov\tr0, r1, q3[2], q3[0]\n+vmov\tr0, r1, q4[2], q4[0]\n+vmov\tr0, r1, q5[2], q5[0]\n+vmov\tr0, r1, q6[2], q6[0]\n+vmov\tr0, r1, q7[2], q7[0]\n+vmov\tr1, r0, q0[2], q0[0]\n+vmov\tr2, r0, q0[2], q0[0]\n+vmov\tr3, r0, q0[2], q0[0]\n+vmov\tr4, r0, q0[2], q0[0]\n+vmov\tr5, r0, q0[2], q0[0]\n+vmov\tr6, r0, q0[2], q0[0]\n+vmov\tr7, r0, q0[2], q0[0]\n+vmov\tr8, r0, q0[2], q0[0]\n+vmov\tr9, r0, q0[2], q0[0]\n+vmov\tsl, r0, q0[2], q0[0]\n+vmov\tfp, r0, q0[2], q0[0]\n+vmov\tip, r0, q0[2], q0[0]\n+vmov\tlr, r0, q0[2], q0[0]\n+vmov\tr0, r1, q0[2], q0[0]\n+vmov\tr0, r2, q0[2], q0[0]\n+vmov\tr0, r3, q0[2], q0[0]\n+vmov\tr0, r4, q0[2], q0[0]\n+vmov\tr0, r5, q0[2], q0[0]\n+vmov\tr0, r6, q0[2], q0[0]\n+vmov\tr0, r7, q0[2], q0[0]\n+vmov\tr0, r8, q0[2], q0[0]\n+vmov\tr0, r9, q0[2], q0[0]\n+vmov\tr0, sl, q0[2], q0[0]\n+vmov\tr0, fp, q0[2], q0[0]\n+vmov\tr0, ip, q0[2], q0[0]\n+vmov\tr0, lr, q0[2], q0[0]\n+vmov\tr0, r1, q1[3], q1[1]\n+vmov\tr0, r1, q2[3], q2[1]\n+vmov\tr0, r1, q3[3], q3[1]\n+vmov\tr0, r1, q4[3], q4[1]\n+vmov\tr0, r1, q5[3], q5[1]\n+vmov\tr0, r1, q6[3], q6[1]\n+vmov\tr0, r1, q7[3], q7[1]\n+vmov\tr1, r0, q0[3], q0[1]\n+vmov\tr2, r0, q0[3], q0[1]\n+vmov\tr3, r0, q0[3], q0[1]\n+vmov\tr4, r0, q0[3], q0[1]\n+vmov\tr5, r0, q0[3], q0[1]\n+vmov\tr6, r0, q0[3], q0[1]\n+vmov\tr7, r0, q0[3], q0[1]\n+vmov\tr8, r0, q0[3], q0[1]\n+vmov\tr9, r0, q0[3], q0[1]\n+vmov\tsl, r0, q0[3], q0[1]\n+vmov\tfp, r0, q0[3], q0[1]\n+vmov\tip, r0, q0[3], q0[1]\n+vmov\tlr, r0, q0[3], q0[1]\n+vmov\tr0, r1, q0[3], q0[1]\n+vmov\tr0, r2, q0[3], q0[1]\n+vmov\tr0, r3, q0[3], q0[1]\n+vmov\tr0, r4, q0[3], q0[1]\n+vmov\tr0, r5, q0[3], q0[1]\n+vmov\tr0, r6, q0[3], q0[1]\n+vmov\tr0, r7, q0[3], q0[1]\n+vmov\tr0, r8, q0[3], q0[1]\n+vmov\tr0, r9, q0[3], q0[1]\n+vmov\tr0, sl, q0[3], q0[1]\n+vmov\tr0, fp, q0[3], q0[1]\n+vmov\tr0, ip, q0[3], q0[1]\n+vmov\tr0, lr, q0[3], q0[1]\n+vmov\tq1[2], q1[0], r0, r1\n+vmov\tq2[2], q2[0], r0, r1\n+vmov\tq3[2], q3[0], r0, r1\n+vmov\tq4[2], q4[0], r0, r1\n+vmov\tq5[2], q5[0], r0, r1\n+vmov\tq6[2], q6[0], r0, r1\n+vmov\tq7[2], q7[0], r0, r1\n+vmov\tq0[2], q0[0], r0, r0\n+vmov\tq0[2], q0[0], r1, r0\n+vmov\tq0[2], q0[0], r2, r0\n+vmov\tq0[2], q0[0], r3, r0\n+vmov\tq0[2], q0[0], r4, r0\n+vmov\tq0[2], q0[0], r5, r0\n+vmov\tq0[2], q0[0], r6, r0\n+vmov\tq0[2], q0[0], r7, r0\n+vmov\tq0[2], q0[0], r8, r0\n+vmov\tq0[2], q0[0], r9, r0\n+vmov\tq0[2], q0[0], sl, r0\n+vmov\tq0[2], q0[0], fp, r0\n+vmov\tq0[2], q0[0], ip, r0\n+vmov\tq0[2], q0[0], lr, r0\n+vmov\tq0[2], q0[0], r0, r1\n+vmov\tq0[2], q0[0], r0, r2\n+vmov\tq0[2], q0[0], r0, r3\n+vmov\tq0[2], q0[0], r0, r4\n+vmov\tq0[2], q0[0], r0, r5\n+vmov\tq0[2], q0[0], r0, r6\n+vmov\tq0[2], q0[0], r0, r7\n+vmov\tq0[2], q0[0], r0, r8\n+vmov\tq0[2], q0[0], r0, r9\n+vmov\tq0[2], q0[0], r0, sl\n+vmov\tq0[2], q0[0], r0, fp\n+vmov\tq0[2], q0[0], r0, ip\n+vmov\tq0[2], q0[0], r0, lr\n+vmov\tq0[2], q0[0], r1, r1\n+vmov\tq0[2], q0[0], r2, r2\n+vmov\tq0[2], q0[0], r3, r3\n+vmov\tq0[2], q0[0], r4, r4\n+vmov\tq0[2], q0[0], r5, r5\n+vmov\tq0[2], q0[0], r6, r6\n+vmov\tq0[2], q0[0], r7, r7\n+vmov\tq0[2], q0[0], r8, r8\n+vmov\tq0[2], q0[0], r9, r9\n+vmov\tq0[2], q0[0], sl, sl\n+vmov\tq0[2], q0[0], fp, fp\n+vmov\tq0[2], q0[0], ip, ip\n+vmov\tq0[2], q0[0], lr, lr\n+vmov\tq1[3], q1[1], r0, r1\n+vmov\tq2[3], q2[1], r0, r1\n+vmov\tq3[3], q3[1], r0, r1\n+vmov\tq4[3], q4[1], r0, r1\n+vmov\tq5[3], q5[1], r0, r1\n+vmov\tq6[3], q6[1], r0, r1\n+vmov\tq7[3], q7[1], r0, r1\n+vmov\tq0[3], q0[1], r0, r0\n+vmov\tq0[3], q0[1], r1, r0\n+vmov\tq0[3], q0[1], r2, r0\n+vmov\tq0[3], q0[1], r3, r0\n+vmov\tq0[3], q0[1], r4, r0\n+vmov\tq0[3], q0[1], r5, r0\n+vmov\tq0[3], q0[1], r6, r0\n+vmov\tq0[3], q0[1], r7, r0\n+vmov\tq0[3], q0[1], r8, r0\n+vmov\tq0[3], q0[1], r9, r0\n+vmov\tq0[3], q0[1], sl, r0\n+vmov\tq0[3], q0[1], fp, r0\n+vmov\tq0[3], q0[1], ip, r0\n+vmov\tq0[3], q0[1], lr, r0\n+vmov\tq0[3], q0[1], r0, r1\n+vmov\tq0[3], q0[1], r0, r2\n+vmov\tq0[3], q0[1], r0, r3\n+vmov\tq0[3], q0[1], r0, r4\n+vmov\tq0[3], q0[1], r0, r5\n+vmov\tq0[3], q0[1], r0, r6\n+vmov\tq0[3], q0[1], r0, r7\n+vmov\tq0[3], q0[1], r0, r8\n+vmov\tq0[3], q0[1], r0, r9\n+vmov\tq0[3], q0[1], r0, sl\n+vmov\tq0[3], q0[1], r0, fp\n+vmov\tq0[3], q0[1], r0, ip\n+vmov\tq0[3], q0[1], r0, lr\n+vmov\tq0[3], q0[1], r1, r1\n+vmov\tq0[3], q0[1], r2, r2\n+vmov\tq0[3], q0[1], r3, r3\n+vmov\tq0[3], q0[1], r4, r4\n+vmov\tq0[3], q0[1], r5, r5\n+vmov\tq0[3], q0[1], r6, r6\n+vmov\tq0[3], q0[1], r7, r7\n+vmov\tq0[3], q0[1], r8, r8\n+vmov\tq0[3], q0[1], r9, r9\n+vmov\tq0[3], q0[1], sl, sl\n+vmov\tq0[3], q0[1], fp, fp\n+vmov\tq0[3], q0[1], ip, ip\n+vmov\tq0[3], q0[1], lr, lr"
    },
    {
      "sha": "7c9226cf8ea9492f21eefb099aeb543c78be32c1",
      "filename": "gas/testsuite/gas/arm/mve-vmov-bad-2.l",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e683cb412046b40085505f42dd141f542661a6ae/gas/testsuite/gas/arm/mve-vmov-bad-2.l",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e683cb412046b40085505f42dd141f542661a6ae/gas/testsuite/gas/arm/mve-vmov-bad-2.l",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/arm/mve-vmov-bad-2.l?ref=e683cb412046b40085505f42dd141f542661a6ae",
      "patch": "@@ -1,5 +1,5 @@\n [^:]*: Assembler messages:\n-[^:]*:3: Error: General purpose registers may not be the same -- `vmov r0,r0,q0\\[2\\],q0\\[0\\]'\n+[^:]*:3: Error: Destination registers may not be the same -- `vmov r0,r0,q0\\[2\\],q0\\[0\\]'\n [^:]*:4: Error: r13 not allowed here -- `vmov sp,r0,q0\\[2\\],q0\\[0\\]'\n [^:]*:5: Error: r13 not allowed here -- `vmov r0,sp,q0\\[2\\],q0\\[0\\]'\n [^:]*:6: Error: r15 not allowed here -- `vmov pc,r0,q0\\[2\\],q0\\[0\\]'"
    },
    {
      "sha": "d506b71155981a9f230c29de781d8d1533f911be",
      "filename": "opcodes/ChangeLog",
      "status": "modified",
      "additions": 9,
      "deletions": 0,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e683cb412046b40085505f42dd141f542661a6ae/opcodes/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e683cb412046b40085505f42dd141f542661a6ae/opcodes/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/ChangeLog?ref=e683cb412046b40085505f42dd141f542661a6ae",
      "patch": "@@ -1,3 +1,12 @@\n+2021-05-17  Alex Coplan  <alex.coplan@arm.com>\n+\n+\t* arm-dis.c (mve_opcodes): Fix disassembly of\n+\tMVE_VMOV2_GP_TO_VEC_LANE when idx == 1.\n+\t(is_mve_encoding_conflict): MVE vector loads should not match\n+\twhen P = W = 0.\n+\t(is_mve_unpredictable): It's not unpredictable to use the same\n+\tsource register twice (for MVE_VMOV2_GP_TO_VEC_LANE).\n+\n 2021-05-11  Nick Clifton  <nickc@redhat.com>\n \n \tPR 27840"
    },
    {
      "sha": "92cd098d6c9afe664fbfeeba70f4428c366baf87",
      "filename": "opcodes/arm-dis.c",
      "status": "modified",
      "additions": 5,
      "deletions": 2,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e683cb412046b40085505f42dd141f542661a6ae/opcodes/arm-dis.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e683cb412046b40085505f42dd141f542661a6ae/opcodes/arm-dis.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/arm-dis.c?ref=e683cb412046b40085505f42dd141f542661a6ae",
      "patch": "@@ -2954,7 +2954,7 @@ static const struct mopcode32 mve_opcodes[] =\n   {ARM_FEATURE_CORE_HIGH (ARM_EXT2_MVE),\n    MVE_VMOV2_GP_TO_VEC_LANE,\n    0xec100f10, 0xffb01ff0,\n-   \"vmov%c\\t%13-15,22Q[2], %13-15,22Q[0], %0-3r, %16-19r\"},\n+   \"vmov%c\\t%13-15,22Q[3], %13-15,22Q[1], %0-3r, %16-19r\"},\n \n   /* Vector VMOV Vector lane to gpr.  */\n   {ARM_FEATURE_CORE_HIGH (ARM_EXT2_MVE_FP),\n@@ -5722,6 +5722,9 @@ is_mve_encoding_conflict (unsigned long given,\n       else\n \treturn false;\n \n+    case MVE_VLDRB_T1:\n+    case MVE_VLDRH_T2:\n+    case MVE_VLDRW_T7:\n     case MVE_VSTRB_T5:\n     case MVE_VSTRH_T6:\n     case MVE_VSTRW_T7:\n@@ -6656,7 +6659,7 @@ is_mve_unpredictable (unsigned long given, enum mve_instructions matched_insn,\n \t    *unpredictable_code = UNPRED_R15;\n \t    return true;\n \t  }\n-\telse if (rt == rt2)\n+\telse if (rt == rt2 && matched_insn != MVE_VMOV2_GP_TO_VEC_LANE)\n \t  {\n \t    *unpredictable_code = UNPRED_GP_REGS_EQUAL;\n \t    return true;"
    }
  ]
}