{
  "sha": "31aceaef1cba910c84b81c78064d226fd10d8976",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MzFhY2VhZWYxY2JhOTEwYzg0YjgxYzc4MDY0ZDIyNmZkMTBkODk3Ng==",
  "commit": {
    "author": {
      "name": "Simon Marchi",
      "email": "simon.marchi@polymtl.ca",
      "date": "2021-05-10T16:13:36Z"
    },
    "committer": {
      "name": "Simon Marchi",
      "email": "simon.marchi@polymtl.ca",
      "date": "2021-05-10T16:13:36Z"
    },
    "message": "gdb, gdbserver: make status_to_str display the signal name\n\nI was looking at some \"set debug lin-lwp\" logs, and saw that a thread\nreceived the \"Child exited\" signal.  It took me a moment to realize that\nthis was SIGCHLD.  I then thought that it would be nice for\nstatus_to_str to show the signal name (SIGCHLD) in addition to the\ndescription \"Child exited\", since people are much more used to referring\nto signals using their names.\n\nFortunately, libiberty contains a handy function to get the signal name\nfrom the signal number, strsigno, use that.\n\nThe output of \"set debug lin-lwp\" now looks like:\n\n    [linux-nat] linux_nat_wait_1: waitpid 1209631 received SIGTRAP - Trace/breakpoint trap (stopped)\n\ngdb/ChangeLog:\n\n\t* nat/linux-waitpid.c (status_to_str): Show signal name.\n\nChange-Id: I8ad9b1e744dd64461fd87b08d5c29f9ef97c4691",
    "tree": {
      "sha": "701268cd60ce80ba998856b978768a9928e0e9ae",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/701268cd60ce80ba998856b978768a9928e0e9ae"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/31aceaef1cba910c84b81c78064d226fd10d8976",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/31aceaef1cba910c84b81c78064d226fd10d8976",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/31aceaef1cba910c84b81c78064d226fd10d8976",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/31aceaef1cba910c84b81c78064d226fd10d8976/comments",
  "author": {
    "login": "simark",
    "id": 1758287,
    "node_id": "MDQ6VXNlcjE3NTgyODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1758287?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/simark",
    "html_url": "https://github.com/simark",
    "followers_url": "https://api.github.com/users/simark/followers",
    "following_url": "https://api.github.com/users/simark/following{/other_user}",
    "gists_url": "https://api.github.com/users/simark/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/simark/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/simark/subscriptions",
    "organizations_url": "https://api.github.com/users/simark/orgs",
    "repos_url": "https://api.github.com/users/simark/repos",
    "events_url": "https://api.github.com/users/simark/events{/privacy}",
    "received_events_url": "https://api.github.com/users/simark/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "simark",
    "id": 1758287,
    "node_id": "MDQ6VXNlcjE3NTgyODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1758287?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/simark",
    "html_url": "https://github.com/simark",
    "followers_url": "https://api.github.com/users/simark/followers",
    "following_url": "https://api.github.com/users/simark/following{/other_user}",
    "gists_url": "https://api.github.com/users/simark/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/simark/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/simark/subscriptions",
    "organizations_url": "https://api.github.com/users/simark/orgs",
    "repos_url": "https://api.github.com/users/simark/repos",
    "events_url": "https://api.github.com/users/simark/events{/privacy}",
    "received_events_url": "https://api.github.com/users/simark/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "23182ac0d832477d316547ec2a758d22b43d0837",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/23182ac0d832477d316547ec2a758d22b43d0837",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/23182ac0d832477d316547ec2a758d22b43d0837"
    }
  ],
  "stats": {
    "total": 14,
    "additions": 10,
    "deletions": 4
  },
  "files": [
    {
      "sha": "52d5faac8a9db8fe66cd64cf533a32260a7a4b48",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/31aceaef1cba910c84b81c78064d226fd10d8976/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/31aceaef1cba910c84b81c78064d226fd10d8976/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=31aceaef1cba910c84b81c78064d226fd10d8976",
      "patch": "@@ -1,3 +1,7 @@\n+2021-05-10  Simon Marchi  <simon.marchi@polymtl.ca>\n+\n+\t* nat/linux-waitpid.c (status_to_str): Show signal name.\n+\n 2021-05-09  Andrew Burgess  <andrew.burgess@embecosm.com>\n \n \t* python/py-breakpoint.c (pybp_debug): New static global."
    },
    {
      "sha": "99489040fb0226ca0c3bf5fb1daa698d75ba72b2",
      "filename": "gdb/nat/linux-waitpid.c",
      "status": "modified",
      "additions": 6,
      "deletions": 4,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/31aceaef1cba910c84b81c78064d226fd10d8976/gdb/nat/linux-waitpid.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/31aceaef1cba910c84b81c78064d226fd10d8976/gdb/nat/linux-waitpid.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/nat/linux-waitpid.c?ref=31aceaef1cba910c84b81c78064d226fd10d8976",
      "patch": "@@ -32,14 +32,16 @@ status_to_str (int status)\n   if (WIFSTOPPED (status))\n     {\n       if (WSTOPSIG (status) == SYSCALL_SIGTRAP)\n-\treturn string_printf (\"%s (stopped at syscall)\",\n-\t\t\t      strsignal (SIGTRAP));\n+\treturn string_printf (\"%s - %s (stopped at syscall)\",\n+\t\t\t      strsigno (SIGTRAP), strsignal (SIGTRAP));\n       else\n-\treturn string_printf (\"%s (stopped)\",\n+\treturn string_printf (\"%s - %s (stopped)\",\n+\t\t\t      strsigno (WSTOPSIG (status)),\n \t\t\t      strsignal (WSTOPSIG (status)));\n     }\n   else if (WIFSIGNALED (status))\n-    return string_printf (\"%s (terminated)\",\n+    return string_printf (\"%s - %s (terminated)\",\n+\t\t\t  strsigno (WTERMSIG (status)),\n \t\t\t  strsignal (WTERMSIG (status)));\n   else\n     return string_printf (\"%d (exited)\", WEXITSTATUS (status));"
    }
  ]
}