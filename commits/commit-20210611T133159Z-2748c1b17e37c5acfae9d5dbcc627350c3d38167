{
  "sha": "2748c1b17e37c5acfae9d5dbcc627350c3d38167",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6Mjc0OGMxYjE3ZTM3YzVhY2ZhZTlkNWRiY2M2MjczNTBjM2QzODE2Nw==",
  "commit": {
    "author": {
      "name": "H.J. Lu",
      "email": "hjl.tools@gmail.com",
      "date": "2021-06-11T13:19:16Z"
    },
    "committer": {
      "name": "H.J. Lu",
      "email": "hjl.tools@gmail.com",
      "date": "2021-06-11T13:31:59Z"
    },
    "message": "x86: Always define TC_PARSE_CONS_EXPRESSION\n\nAlways define TC_PARSE_CONS_EXPRESSION to properly wrap constants for\nall x86 targets.\n\n\t* config/tc-i386.c (x86_cons): Handle GOT/PLT relocations only\n\tif needed.\n\t* config/tc-i386.h (TC_PARSE_CONS_EXPRESSION): Always define.",
    "tree": {
      "sha": "52c943a2e4f92ba781e8d1fa376ae9a76e4afdf6",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/52c943a2e4f92ba781e8d1fa376ae9a76e4afdf6"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/2748c1b17e37c5acfae9d5dbcc627350c3d38167",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/2748c1b17e37c5acfae9d5dbcc627350c3d38167",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/2748c1b17e37c5acfae9d5dbcc627350c3d38167",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/2748c1b17e37c5acfae9d5dbcc627350c3d38167/comments",
  "author": {
    "login": "hjl-tools",
    "id": 1072356,
    "node_id": "MDQ6VXNlcjEwNzIzNTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hjl-tools",
    "html_url": "https://github.com/hjl-tools",
    "followers_url": "https://api.github.com/users/hjl-tools/followers",
    "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}",
    "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions",
    "organizations_url": "https://api.github.com/users/hjl-tools/orgs",
    "repos_url": "https://api.github.com/users/hjl-tools/repos",
    "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hjl-tools/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "hjl-tools",
    "id": 1072356,
    "node_id": "MDQ6VXNlcjEwNzIzNTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hjl-tools",
    "html_url": "https://github.com/hjl-tools",
    "followers_url": "https://api.github.com/users/hjl-tools/followers",
    "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}",
    "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions",
    "organizations_url": "https://api.github.com/users/hjl-tools/orgs",
    "repos_url": "https://api.github.com/users/hjl-tools/repos",
    "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hjl-tools/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "28b2963ffb4b55cbe720538040623f5c7ccb0a1b",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/28b2963ffb4b55cbe720538040623f5c7ccb0a1b",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/28b2963ffb4b55cbe720538040623f5c7ccb0a1b"
    }
  ],
  "stats": {
    "total": 15,
    "additions": 12,
    "deletions": 3
  },
  "files": [
    {
      "sha": "6bcb035621e348eba91e1131c2a638cc5b532a83",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2748c1b17e37c5acfae9d5dbcc627350c3d38167/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2748c1b17e37c5acfae9d5dbcc627350c3d38167/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=2748c1b17e37c5acfae9d5dbcc627350c3d38167",
      "patch": "@@ -1,3 +1,9 @@\n+2021-06-11  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\t* config/tc-i386.c (x86_cons): Handle GOT/PLT relocations only\n+\tif needed.\n+\t* config/tc-i386.h (TC_PARSE_CONS_EXPRESSION): Always define.\n+\n 2021-06-11  Nelson Chu  <nelson.chu@sifive.com>\n \n \t* config/tc-riscv.c (riscv_set_arch): Call riscv_set_rvc"
    },
    {
      "sha": "b3f9f31db768abac979ddf60a63937745a0ce6c7",
      "filename": "gas/config/tc-i386.c",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2748c1b17e37c5acfae9d5dbcc627350c3d38167/gas/config/tc-i386.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2748c1b17e37c5acfae9d5dbcc627350c3d38167/gas/config/tc-i386.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/config/tc-i386.c?ref=2748c1b17e37c5acfae9d5dbcc627350c3d38167",
      "patch": "@@ -10413,6 +10413,9 @@ x86_cons (expressionS *exp, int size)\n {\n   bfd_reloc_code_real_type got_reloc = NO_RELOC;\n \n+#if ((defined (OBJ_ELF) || defined (OBJ_MAYBE_ELF)) \\\n+      && !defined (LEX_AT)) \\\n+    || defined (TE_PE)\n   intel_syntax = -intel_syntax;\n \n   exp->X_md = 0;\n@@ -10468,6 +10471,9 @@ x86_cons (expressionS *exp, int size)\n \n   if (intel_syntax)\n     i386_intel_simplify (exp);\n+#else\n+  expression (exp);\n+#endif\n \n   /* If not 64bit, massage value, to account for wraparound when !BFD64.  */\n   if (size == 4 && exp->X_op == O_constant && !object_64bit)"
    },
    {
      "sha": "90d23da7d91b480e41a538924d128baa96cf5034",
      "filename": "gas/config/tc-i386.h",
      "status": "modified",
      "additions": 0,
      "deletions": 3,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2748c1b17e37c5acfae9d5dbcc627350c3d38167/gas/config/tc-i386.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2748c1b17e37c5acfae9d5dbcc627350c3d38167/gas/config/tc-i386.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/config/tc-i386.h?ref=2748c1b17e37c5acfae9d5dbcc627350c3d38167",
      "patch": "@@ -126,10 +126,7 @@ extern const char *i386_comment_chars;\n #define GLOBAL_OFFSET_TABLE_NAME \"_GLOBAL_OFFSET_TABLE_\"\n #endif\n \n-#if ((defined (OBJ_ELF) || defined (OBJ_MAYBE_ELF)) \\\n-     && !defined (LEX_AT)) || defined (TE_PE)\n #define TC_PARSE_CONS_EXPRESSION(EXP, NBYTES) x86_cons (EXP, NBYTES)\n-#endif\n extern bfd_reloc_code_real_type x86_cons (expressionS *, int);\n \n #define TC_CONS_FIX_NEW(FRAG, OFF, LEN, EXP, RELOC)\t\\"
    }
  ]
}