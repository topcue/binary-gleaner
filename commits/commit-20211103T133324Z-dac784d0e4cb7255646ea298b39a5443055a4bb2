{
  "sha": "dac784d0e4cb7255646ea298b39a5443055a4bb2",
  "node_id": "C_kwDOANOeidoAKGRhYzc4NGQwZTRjYjcyNTU2NDZlYTI5OGIzOWE1NDQzMDU1YTRiYjI",
  "commit": {
    "author": {
      "name": "Tom Tromey",
      "email": "tromey@adacore.com",
      "date": "2021-11-03T13:33:24Z"
    },
    "committer": {
      "name": "Tom Tromey",
      "email": "tromey@adacore.com",
      "date": "2021-11-03T13:33:24Z"
    },
    "message": "Use section name in warnings in display_debug_loc\n\nWhile looking at an apparently malformed executable with\n\"readelf --debug-dump=loc\", I got this warning:\n\n    readelf: ./main: Warning: There is a hole [0x89 - 0x95] in .debug_loc section.\n\nHowever, the executable only has a .debug_loclists section.\n\nThis patch fixes the warning messages in display_debug_loc to use the\nname of the section that is being processed.\n\nbinutils/ChangeLog\n2021-11-03  Tom Tromey  <tromey@adacore.com>\n\n\t* dwarf.c (display_debug_loc): Use section name in warnings.",
    "tree": {
      "sha": "69fc3645a7f64604923a0b66a80ed372f10f3460",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/69fc3645a7f64604923a0b66a80ed372f10f3460"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/dac784d0e4cb7255646ea298b39a5443055a4bb2",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/dac784d0e4cb7255646ea298b39a5443055a4bb2",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/dac784d0e4cb7255646ea298b39a5443055a4bb2",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/dac784d0e4cb7255646ea298b39a5443055a4bb2/comments",
  "author": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "7fd8546853e3f0333ba8d8238413aba7eb45c69f",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/7fd8546853e3f0333ba8d8238413aba7eb45c69f",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/7fd8546853e3f0333ba8d8238413aba7eb45c69f"
    }
  ],
  "stats": {
    "total": 24,
    "additions": 16,
    "deletions": 8
  },
  "files": [
    {
      "sha": "3935b30a8dc69d02f32a65cc685d8928243e6467",
      "filename": "binutils/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/dac784d0e4cb7255646ea298b39a5443055a4bb2/binutils/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/dac784d0e4cb7255646ea298b39a5443055a4bb2/binutils/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/ChangeLog?ref=dac784d0e4cb7255646ea298b39a5443055a4bb2",
      "patch": "@@ -1,3 +1,7 @@\n+2021-11-03  Tom Tromey  <tromey@adacore.com>\n+\n+\t* dwarf.c (display_debug_loc): Use section name in warnings.\n+\n 2021-10-25  Nick Alcock  <nick.alcock@oracle.com>\n \n \t* objdump.c (usage): --ctf now has an optional argument."
    },
    {
      "sha": "9fed11383a84343a7e3bd189f83ca7d2b063a651",
      "filename": "binutils/dwarf.c",
      "status": "modified",
      "additions": 12,
      "deletions": 8,
      "changes": 20,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/dac784d0e4cb7255646ea298b39a5443055a4bb2/binutils/dwarf.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/dac784d0e4cb7255646ea298b39a5443055a4bb2/binutils/dwarf.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/dwarf.c?ref=dac784d0e4cb7255646ea298b39a5443055a4bb2",
      "patch": "@@ -7022,28 +7022,32 @@ display_debug_loc (struct dwarf_section *section, void *file)\n \t  else\n \t    {\n \t      if (start < next)\n-\t\twarn (_(\"There is a hole [0x%lx - 0x%lx] in .debug_loc section.\\n\"),\n+\t\twarn (_(\"There is a hole [0x%lx - 0x%lx] in %s section.\\n\"),\n \t\t      (unsigned long) (start - section_begin),\n-\t\t      (unsigned long) offset);\n+\t\t      (unsigned long) offset,\n+\t\t      section->name);\n \t      else if (start > next)\n-\t\twarn (_(\"There is an overlap [0x%lx - 0x%lx] in .debug_loc section.\\n\"),\n+\t\twarn (_(\"There is an overlap [0x%lx - 0x%lx] in %s section.\\n\"),\n \t\t      (unsigned long) (start - section_begin),\n-\t\t      (unsigned long) offset);\n+\t\t      (unsigned long) offset,\n+\t\t      section->name);\n \t    }\n \t  start = next;\n \t  vstart = vnext;\n \n \t  if (offset >= bytes)\n \t    {\n-\t      warn (_(\"Offset 0x%lx is bigger than .debug_loc section size.\\n\"),\n-\t\t    (unsigned long) offset);\n+\t      warn (_(\"Offset 0x%lx is bigger than %s section size.\\n\"),\n+\t\t    (unsigned long) offset,\n+\t\t    section->name);\n \t      continue;\n \t    }\n \n \t  if (vnext && voffset >= bytes)\n \t    {\n-\t      warn (_(\"View Offset 0x%lx is bigger than .debug_loc section size.\\n\"),\n-\t\t    (unsigned long) voffset);\n+\t      warn (_(\"View Offset 0x%lx is bigger than %s section size.\\n\"),\n+\t\t    (unsigned long) voffset,\n+\t\t    section->name);\n \t      continue;\n \t    }\n "
    }
  ]
}