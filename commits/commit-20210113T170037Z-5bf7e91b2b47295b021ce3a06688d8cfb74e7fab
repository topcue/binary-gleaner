{
  "sha": "5bf7e91b2b47295b021ce3a06688d8cfb74e7fab",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NWJmN2U5MWIyYjQ3Mjk1YjAyMWNlM2EwNjY4OGQ4Y2ZiNzRlN2ZhYg==",
  "commit": {
    "author": {
      "name": "Simon Marchi",
      "email": "simon.marchi@polymtl.ca",
      "date": "2021-01-13T17:00:37Z"
    },
    "committer": {
      "name": "Simon Marchi",
      "email": "simon.marchi@polymtl.ca",
      "date": "2021-01-13T17:00:37Z"
    },
    "message": "gdb: bool-ify users of file_is_auto_load_safe\n\nA previous patch missed those.\n\ngdb/ChangeLog:\n\n\t* auto-load.c (auto_load_objfile_script_1): Use bool.\n\t(execute_script_contents): Use bool.\n\nChange-Id: I214bf7ed25af36ced375eb3ec5a403ded2fa572e",
    "tree": {
      "sha": "935a268263acbc64c00dfe2bc9d2ab207d284cf8",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/935a268263acbc64c00dfe2bc9d2ab207d284cf8"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/5bf7e91b2b47295b021ce3a06688d8cfb74e7fab",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/5bf7e91b2b47295b021ce3a06688d8cfb74e7fab",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/5bf7e91b2b47295b021ce3a06688d8cfb74e7fab",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/5bf7e91b2b47295b021ce3a06688d8cfb74e7fab/comments",
  "author": {
    "login": "simark",
    "id": 1758287,
    "node_id": "MDQ6VXNlcjE3NTgyODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1758287?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/simark",
    "html_url": "https://github.com/simark",
    "followers_url": "https://api.github.com/users/simark/followers",
    "following_url": "https://api.github.com/users/simark/following{/other_user}",
    "gists_url": "https://api.github.com/users/simark/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/simark/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/simark/subscriptions",
    "organizations_url": "https://api.github.com/users/simark/orgs",
    "repos_url": "https://api.github.com/users/simark/repos",
    "events_url": "https://api.github.com/users/simark/events{/privacy}",
    "received_events_url": "https://api.github.com/users/simark/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "simark",
    "id": 1758287,
    "node_id": "MDQ6VXNlcjE3NTgyODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1758287?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/simark",
    "html_url": "https://github.com/simark",
    "followers_url": "https://api.github.com/users/simark/followers",
    "following_url": "https://api.github.com/users/simark/following{/other_user}",
    "gists_url": "https://api.github.com/users/simark/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/simark/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/simark/subscriptions",
    "organizations_url": "https://api.github.com/users/simark/orgs",
    "repos_url": "https://api.github.com/users/simark/repos",
    "events_url": "https://api.github.com/users/simark/events{/privacy}",
    "received_events_url": "https://api.github.com/users/simark/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "db972fce46368f7d2a60e43aca78f0757515c0c8",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/db972fce46368f7d2a60e43aca78f0757515c0c8",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/db972fce46368f7d2a60e43aca78f0757515c0c8"
    }
  ],
  "stats": {
    "total": 23,
    "additions": 14,
    "deletions": 9
  },
  "files": [
    {
      "sha": "58392b25cd9f763ab63ba7c1b19d145944e70c39",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5bf7e91b2b47295b021ce3a06688d8cfb74e7fab/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5bf7e91b2b47295b021ce3a06688d8cfb74e7fab/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=5bf7e91b2b47295b021ce3a06688d8cfb74e7fab",
      "patch": "@@ -1,3 +1,8 @@\n+2021-01-13  Simon Marchi  <simon.marchi@polymtl.ca>\n+\n+\t* auto-load.c (auto_load_objfile_script_1): Use bool.\n+\t(execute_script_contents): Use bool.\n+\n 2021-01-13  Simon Marchi  <simon.marchi@polymtl.ca>\n \n \t* auto-load.h (auto_load_gdb_scripts_enabled): Return bool, move"
    },
    {
      "sha": "b6cb79af34eb99390a551f244771c9ef509b53bc",
      "filename": "gdb/auto-load.c",
      "status": "modified",
      "additions": 9,
      "deletions": 9,
      "changes": 18,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5bf7e91b2b47295b021ce3a06688d8cfb74e7fab/gdb/auto-load.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5bf7e91b2b47295b021ce3a06688d8cfb74e7fab/gdb/auto-load.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/auto-load.c?ref=5bf7e91b2b47295b021ce3a06688d8cfb74e7fab",
      "patch": "@@ -808,10 +808,9 @@ auto_load_objfile_script_1 (struct objfile *objfile, const char *realname,\n \n   if (input)\n     {\n-      int is_safe;\n       struct auto_load_pspace_info *pspace_info;\n \n-      is_safe\n+      bool is_safe\n \t= file_is_auto_load_safe (debugfile,\n \t\t\t\t  _(\"auto-load: Loading %s script \\\"%s\\\"\"\n \t\t\t\t    \" by extension for objfile \\\"%s\\\".\\n\"),\n@@ -968,7 +967,7 @@ execute_script_contents (struct auto_load_pspace_info *pspace_info,\n   objfile_script_executor_func *executor;\n   const char *newline, *script_text;\n   const char *name;\n-  int is_safe, in_hash_table;\n+  int in_hash_table;\n \n   /* The first line of the script is the name of the script.\n      It must not contain any kind of space character.  */\n@@ -1022,12 +1021,13 @@ of file %ps.\"),\n       return;\n     }\n \n-  is_safe = file_is_auto_load_safe (objfile_name (objfile),\n-\t\t\t\t    _(\"auto-load: Loading %s script \"\n-\t\t\t\t      \"\\\"%s\\\" from section \\\"%s\\\" of \"\n-\t\t\t\t      \"objfile \\\"%s\\\".\\n\"),\n-\t\t\t\t    ext_lang_name (language), name,\n-\t\t\t\t    section_name, objfile_name (objfile));\n+  bool is_safe\n+    = file_is_auto_load_safe (objfile_name (objfile),\n+\t\t\t      _(\"auto-load: Loading %s script \"\n+\t\t\t\t\"\\\"%s\\\" from section \\\"%s\\\" of \"\n+\t\t\t\t\"objfile \\\"%s\\\".\\n\"),\n+\t\t\t      ext_lang_name (language), name,\n+\t\t\t      section_name, objfile_name (objfile));\n \n   in_hash_table = maybe_add_script_text (pspace_info, is_safe, name, language);\n "
    }
  ]
}