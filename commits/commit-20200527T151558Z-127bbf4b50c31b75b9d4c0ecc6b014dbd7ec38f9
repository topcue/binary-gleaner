{
  "sha": "127bbf4b50c31b75b9d4c0ecc6b014dbd7ec38f9",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MTI3YmJmNGI1MGMzMWI3NWI5ZDRjMGVjYzZiMDE0ZGJkN2VjMzhmOQ==",
  "commit": {
    "author": {
      "name": "Simon Marchi",
      "email": "simon.marchi@efficios.com",
      "date": "2020-05-27T15:14:06Z"
    },
    "committer": {
      "name": "Simon Marchi",
      "email": "simon.marchi@efficios.com",
      "date": "2020-05-27T15:15:58Z"
    },
    "message": "Remove dwarf2_per_cu_data::dwarf2_per_objfile\n\nNothing references this field anymore, remove it.\n\ngdb/ChangeLog:\n\n\t* dwarf2/read.h (struct dwarf2_per_cu_data):\n\t<dwarf2_per_objfile>: Remove.\n\t* dwarf2/read.c (create_cu_from_index_list): Don't assign\n\tdwarf2_per_objfile.\n\t(create_signatured_type_table_from_index): Likewise.\n\t(create_signatured_type_table_from_debug_names): Likewise.\n\t(create_debug_type_hash_table): Likewise.\n\t(fill_in_sig_entry_from_dwo_entry): Likewise.\n\t(create_type_unit_group): Likewise.\n\t(read_comp_units_from_section): Likewise.\n\t(create_cus_hash_table): Likewise.\n\nChange-Id: Icf0b657a6beec953fe17cbe0fb2ae2c6e744d3ed",
    "tree": {
      "sha": "156488f614b78a54787811af1cc90060e18050c9",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/156488f614b78a54787811af1cc90060e18050c9"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/127bbf4b50c31b75b9d4c0ecc6b014dbd7ec38f9",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/127bbf4b50c31b75b9d4c0ecc6b014dbd7ec38f9",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/127bbf4b50c31b75b9d4c0ecc6b014dbd7ec38f9",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/127bbf4b50c31b75b9d4c0ecc6b014dbd7ec38f9/comments",
  "author": {
    "login": "simark",
    "id": 1758287,
    "node_id": "MDQ6VXNlcjE3NTgyODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1758287?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/simark",
    "html_url": "https://github.com/simark",
    "followers_url": "https://api.github.com/users/simark/followers",
    "following_url": "https://api.github.com/users/simark/following{/other_user}",
    "gists_url": "https://api.github.com/users/simark/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/simark/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/simark/subscriptions",
    "organizations_url": "https://api.github.com/users/simark/orgs",
    "repos_url": "https://api.github.com/users/simark/repos",
    "events_url": "https://api.github.com/users/simark/events{/privacy}",
    "received_events_url": "https://api.github.com/users/simark/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "simark",
    "id": 1758287,
    "node_id": "MDQ6VXNlcjE3NTgyODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1758287?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/simark",
    "html_url": "https://github.com/simark",
    "followers_url": "https://api.github.com/users/simark/followers",
    "following_url": "https://api.github.com/users/simark/following{/other_user}",
    "gists_url": "https://api.github.com/users/simark/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/simark/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/simark/subscriptions",
    "organizations_url": "https://api.github.com/users/simark/orgs",
    "repos_url": "https://api.github.com/users/simark/repos",
    "events_url": "https://api.github.com/users/simark/events{/privacy}",
    "received_events_url": "https://api.github.com/users/simark/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "f6e649ddafd88efbd1c02432181300595dadab33",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/f6e649ddafd88efbd1c02432181300595dadab33",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/f6e649ddafd88efbd1c02432181300595dadab33"
    }
  ],
  "stats": {
    "total": 25,
    "additions": 14,
    "deletions": 11
  },
  "files": [
    {
      "sha": "64e5da9987cdbe26cd0b103447dff8291f730f18",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 14,
      "deletions": 0,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/127bbf4b50c31b75b9d4c0ecc6b014dbd7ec38f9/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/127bbf4b50c31b75b9d4c0ecc6b014dbd7ec38f9/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=127bbf4b50c31b75b9d4c0ecc6b014dbd7ec38f9",
      "patch": "@@ -1,3 +1,17 @@\n+2020-05-27  Simon Marchi  <simon.marchi@efficios.com>\n+\n+\t* dwarf2/read.h (struct dwarf2_per_cu_data):\n+\t<dwarf2_per_objfile>: Remove.\n+\t* dwarf2/read.c (create_cu_from_index_list): Don't assign\n+\tdwarf2_per_objfile.\n+\t(create_signatured_type_table_from_index): Likewise.\n+\t(create_signatured_type_table_from_debug_names): Likewise.\n+\t(create_debug_type_hash_table): Likewise.\n+\t(fill_in_sig_entry_from_dwo_entry): Likewise.\n+\t(create_type_unit_group): Likewise.\n+\t(read_comp_units_from_section): Likewise.\n+\t(create_cus_hash_table): Likewise.\n+\n 2020-05-27  Simon Marchi  <simon.marchi@efficios.com>\n \n \t* dwarf2/read.c (process_psymtab_comp_unit): Remove reference to"
    },
    {
      "sha": "88ab164d5b458233c438ea1c48b8281bb82338a0",
      "filename": "gdb/dwarf2/read.c",
      "status": "modified",
      "additions": 0,
      "deletions": 8,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/127bbf4b50c31b75b9d4c0ecc6b014dbd7ec38f9/gdb/dwarf2/read.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/127bbf4b50c31b75b9d4c0ecc6b014dbd7ec38f9/gdb/dwarf2/read.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/dwarf2/read.c?ref=127bbf4b50c31b75b9d4c0ecc6b014dbd7ec38f9",
      "patch": "@@ -2499,7 +2499,6 @@ create_cu_from_index_list (struct dwarf2_per_objfile *dwarf2_per_objfile,\n   dwarf2_per_cu_data *the_cu = dwarf2_per_objfile->per_bfd->allocate_per_cu ();\n   the_cu->sect_off = sect_off;\n   the_cu->length = length;\n-  the_cu->dwarf2_per_objfile = dwarf2_per_objfile;\n   the_cu->section = section;\n   the_cu->v.quick = OBSTACK_ZALLOC (&dwarf2_per_objfile->per_bfd->obstack,\n \t\t\t\t    struct dwarf2_per_cu_quick_data);\n@@ -2591,7 +2590,6 @@ create_signatured_type_table_from_index\n       sig_type->per_cu.is_debug_types = 1;\n       sig_type->per_cu.section = section;\n       sig_type->per_cu.sect_off = sect_off;\n-      sig_type->per_cu.dwarf2_per_objfile = dwarf2_per_objfile;\n       sig_type->per_cu.v.quick\n \t= OBSTACK_ZALLOC (&dwarf2_per_objfile->per_bfd->obstack,\n \t\t\t  struct dwarf2_per_cu_quick_data);\n@@ -2647,7 +2645,6 @@ create_signatured_type_table_from_debug_names\n       sig_type->per_cu.is_debug_types = 1;\n       sig_type->per_cu.section = section;\n       sig_type->per_cu.sect_off = sect_off;\n-      sig_type->per_cu.dwarf2_per_objfile = dwarf2_per_objfile;\n       sig_type->per_cu.v.quick\n \t= OBSTACK_ZALLOC (&dwarf2_per_objfile->per_bfd->obstack,\n \t\t\t  struct dwarf2_per_cu_quick_data);\n@@ -6337,7 +6334,6 @@ create_debug_type_hash_table (struct dwarf2_per_objfile *dwarf2_per_objfile,\n \t  sig_type = dwarf2_per_objfile->per_bfd->allocate_signatured_type ();\n \t  sig_type->signature = header.signature;\n \t  sig_type->type_offset_in_tu = header.type_cu_offset_in_tu;\n-\t  sig_type->per_cu.dwarf2_per_objfile = dwarf2_per_objfile;\n \t  sig_type->per_cu.is_debug_types = 1;\n \t  sig_type->per_cu.section = section;\n \t  sig_type->per_cu.sect_off = sect_off;\n@@ -6503,7 +6499,6 @@ fill_in_sig_entry_from_dwo_entry (struct dwarf2_per_objfile *dwarf2_per_objfile,\n   sig_entry->per_cu.sect_off = dwo_entry->sect_off;\n   sig_entry->per_cu.length = dwo_entry->length;\n   sig_entry->per_cu.reading_dwo_directly = 1;\n-  sig_entry->per_cu.dwarf2_per_objfile = dwarf2_per_objfile;\n   sig_entry->per_cu.per_bfd = per_bfd;\n   sig_entry->type_offset_in_tu = dwo_entry->type_offset_in_tu;\n   sig_entry->dwo_unit = dwo_entry;\n@@ -7319,7 +7314,6 @@ create_type_unit_group (struct dwarf2_cu *cu, sect_offset line_offset_struct)\n   tu_group = OBSTACK_ZALLOC (&dwarf2_per_objfile->per_bfd->obstack,\n \t\t\t     struct type_unit_group);\n   per_cu = &tu_group->per_cu;\n-  per_cu->dwarf2_per_objfile = dwarf2_per_objfile;\n   per_cu->per_bfd = per_bfd;\n \n   if (per_bfd->using_index)\n@@ -8069,7 +8063,6 @@ read_comp_units_from_section (struct dwarf2_per_objfile *dwarf2_per_objfile,\n       this_cu->sect_off = sect_off;\n       this_cu->length = cu_header.length + cu_header.initial_length_size;\n       this_cu->is_dwz = is_dwz;\n-      this_cu->dwarf2_per_objfile = dwarf2_per_objfile;\n       this_cu->section = section;\n \n       dwarf2_per_objfile->per_bfd->all_comp_units.push_back (this_cu);\n@@ -11349,7 +11342,6 @@ create_cus_hash_table (struct dwarf2_per_objfile *dwarf2_per_objfile,\n       sect_offset sect_off = (sect_offset) (info_ptr - section.buffer);\n \n       memset (&per_cu, 0, sizeof (per_cu));\n-      per_cu.dwarf2_per_objfile = dwarf2_per_objfile;\n       per_cu.per_bfd = per_bfd;\n       per_cu.is_debug_types = 0;\n       per_cu.sect_off = sect_offset (info_ptr - section.buffer);"
    },
    {
      "sha": "0a94036f4e90246e691a4f59dbb760425d4e0cee",
      "filename": "gdb/dwarf2/read.h",
      "status": "modified",
      "additions": 0,
      "deletions": 3,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/127bbf4b50c31b75b9d4c0ecc6b014dbd7ec38f9/gdb/dwarf2/read.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/127bbf4b50c31b75b9d4c0ecc6b014dbd7ec38f9/gdb/dwarf2/read.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/dwarf2/read.h?ref=127bbf4b50c31b75b9d4c0ecc6b014dbd7ec38f9",
      "patch": "@@ -419,9 +419,6 @@ struct dwarf2_per_cu_data\n   /* The language of this CU.  */\n   enum language lang;\n \n-  /* The corresponding dwarf2_per_objfile.  */\n-  struct dwarf2_per_objfile *dwarf2_per_objfile;\n-\n   /* Backlink to the owner of this.  */\n   dwarf2_per_bfd *per_bfd;\n "
    }
  ]
}