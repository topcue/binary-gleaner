{
  "sha": "3714a195e08a5cc7713b27def7a3c3b534da53e8",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MzcxNGExOTVlMDhhNWNjNzcxM2IyN2RlZjdhM2MzYjUzNGRhNTNlOA==",
  "commit": {
    "author": {
      "name": "Andrew Burgess",
      "email": "andrew.burgess@embecosm.com",
      "date": "2019-03-23T22:49:09Z"
    },
    "committer": {
      "name": "Andrew Burgess",
      "email": "andrew.burgess@embecosm.com",
      "date": "2019-03-26T18:23:50Z"
    },
    "message": "gdb/testsuite: Make test names unique in gdb.python/py-prettyprint.exp\n\nThis makes the test names unique in gdb.python/py-prettyprint.exp, it\nalso switches to use gdb_breakpoint and gdb_continue_to_breakpoint\nmore so that we avoid test names with the source line number in - this\nis bad if the test source ever changes as the test names will then\nchange.\n\nOne final change is to switch from using gdb_py_test_silent_cmd to use\ngdb_test_no_output, the former should be used for running python\ncommands and can catch any thrown exception.  However, in this case\nthe command being run is not a python command, its just a normal GDB\nCLI command that produces no output, so lets use the appropriate\nwrapper function.\n\ngdb/testsuite/ChangeLog:\n\n\t* gdb.python/py-prettyprint.exp: Use gdb_breakpoint and\n\tgdb_continue_to_breakpoint more throughout this test.\n\t(run_lang_tests) Supply unique test names, and use\n\tgdb_test_no_output.",
    "tree": {
      "sha": "49709881cade829bc63451c0709083eb4cb3f68b",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/49709881cade829bc63451c0709083eb4cb3f68b"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/3714a195e08a5cc7713b27def7a3c3b534da53e8",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/3714a195e08a5cc7713b27def7a3c3b534da53e8",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/3714a195e08a5cc7713b27def7a3c3b534da53e8",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/3714a195e08a5cc7713b27def7a3c3b534da53e8/comments",
  "author": {
    "login": "T-J-Teru",
    "id": 475372,
    "node_id": "MDQ6VXNlcjQ3NTM3Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/475372?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/T-J-Teru",
    "html_url": "https://github.com/T-J-Teru",
    "followers_url": "https://api.github.com/users/T-J-Teru/followers",
    "following_url": "https://api.github.com/users/T-J-Teru/following{/other_user}",
    "gists_url": "https://api.github.com/users/T-J-Teru/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/T-J-Teru/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/T-J-Teru/subscriptions",
    "organizations_url": "https://api.github.com/users/T-J-Teru/orgs",
    "repos_url": "https://api.github.com/users/T-J-Teru/repos",
    "events_url": "https://api.github.com/users/T-J-Teru/events{/privacy}",
    "received_events_url": "https://api.github.com/users/T-J-Teru/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "T-J-Teru",
    "id": 475372,
    "node_id": "MDQ6VXNlcjQ3NTM3Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/475372?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/T-J-Teru",
    "html_url": "https://github.com/T-J-Teru",
    "followers_url": "https://api.github.com/users/T-J-Teru/followers",
    "following_url": "https://api.github.com/users/T-J-Teru/following{/other_user}",
    "gists_url": "https://api.github.com/users/T-J-Teru/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/T-J-Teru/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/T-J-Teru/subscriptions",
    "organizations_url": "https://api.github.com/users/T-J-Teru/orgs",
    "repos_url": "https://api.github.com/users/T-J-Teru/repos",
    "events_url": "https://api.github.com/users/T-J-Teru/events{/privacy}",
    "received_events_url": "https://api.github.com/users/T-J-Teru/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "18c77628b1e97e412561029ec20195c1ffa61b2d",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/18c77628b1e97e412561029ec20195c1ffa61b2d",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/18c77628b1e97e412561029ec20195c1ffa61b2d"
    }
  ],
  "stats": {
    "total": 33,
    "additions": 21,
    "deletions": 12
  },
  "files": [
    {
      "sha": "04a90fca41c352547e1e46612229b2798ee81d0e",
      "filename": "gdb/testsuite/ChangeLog",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3714a195e08a5cc7713b27def7a3c3b534da53e8/gdb/testsuite/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3714a195e08a5cc7713b27def7a3c3b534da53e8/gdb/testsuite/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/ChangeLog?ref=3714a195e08a5cc7713b27def7a3c3b534da53e8",
      "patch": "@@ -1,3 +1,10 @@\n+2019-03-26  Andrew Burgess  <andrew.burgess@embecosm.com>\n+\n+\t* gdb.python/py-prettyprint.exp: Use gdb_breakpoint and\n+\tgdb_continue_to_breakpoint more throughout this test.\n+\t(run_lang_tests) Supply unique test names, and use\n+\tgdb_test_no_output.\n+\n 2019-03-26  Andrew Burgess  <andrew.burgess@embecosm.com>\n \n \t* gdb.base/finish-pretty.exp: Update expected results."
    },
    {
      "sha": "335908279c9ed90630943a2f78b8fb097d57df32",
      "filename": "gdb/testsuite/gdb.python/py-prettyprint.exp",
      "status": "modified",
      "additions": 14,
      "deletions": 12,
      "changes": 26,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3714a195e08a5cc7713b27def7a3c3b534da53e8/gdb/testsuite/gdb.python/py-prettyprint.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3714a195e08a5cc7713b27def7a3c3b534da53e8/gdb/testsuite/gdb.python/py-prettyprint.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.python/py-prettyprint.exp?ref=3714a195e08a5cc7713b27def7a3c3b534da53e8",
      "patch": "@@ -49,9 +49,9 @@ proc run_lang_tests {exefile lang} {\n \n     gdb_test_no_output \"set print pretty on\"\n \n-    gdb_test \"b [gdb_get_line_number {break to inspect} ${testfile}.c ]\" \\\n-\t\".*Breakpoint.*\"\n-    gdb_test \"continue\" \".*Breakpoint.*\"\n+    gdb_breakpoint [gdb_get_line_number \"break to inspect\" ${testfile}.c]\n+    gdb_continue_to_breakpoint \"break to inspect\" \".*break to inspect.*\"\n+\n \n     set remote_python_file [gdb_remote_download host \\\n \t\t\t\t${srcdir}/${subdir}/${testfile}.py]\n@@ -78,12 +78,15 @@ proc run_lang_tests {exefile lang} {\n \tgdb_test \"print ref\" \"= a=<15> b=< a=<8> b=<$hex>>\"\n \tgdb_test \"print derived\" \\\n \t    \" = \\{.*<Vbase1> = pp class name: Vbase1.*<Vbase2> = \\{.*<VirtualTest> = pp value variable is: 1,.*members of Vbase2:.*_vptr.Vbase2 = $hex.*<Vbase3> = \\{.*members of Vbase3.*members of Derived:.*value = 2.*\"\n-\tgdb_test \"print ns \" \"\\\"embedded\\\\\\\\000null\\\\\\\\000string\\\"\"\n-\tgdb_py_test_silent_cmd \"set print elements 3\" \"\" 1\n-\tgdb_test \"print ns\" \"emb\\.\\.\\..\"\n-\tgdb_py_test_silent_cmd \"set print elements 10\" \"\" 1\n-\tgdb_test \"print ns\" \"embedded\\\\\\\\000n\\.\\.\\..\"\n-\tgdb_py_test_silent_cmd \"set print elements 200\" \"\" 1\n+\tgdb_test \"print ns \" \"\\\"embedded\\\\\\\\000null\\\\\\\\000string\\\"\" \\\n+\t    \"print ns with default element limit\"\n+\tgdb_test_no_output \"set print elements 3\"\n+\tgdb_test \"print ns\" \"emb\\.\\.\\..\" \\\n+\t    \"print ns with element limit of 3\"\n+\tgdb_test_no_output \"set print elements 10\"\n+\tgdb_test \"print ns\" \"embedded\\\\\\\\000n\\.\\.\\..\" \\\n+\t    \"print ns with element limit of 10\"\n+\tgdb_test_no_output \"set print elements 200\"\n     }\n \n     if { ![is_address_zero_readable] } {\n@@ -168,9 +171,8 @@ gdb_continue_to_breakpoint \"eval-break\" \".* eval-break .*\"\n \n gdb_test \"info locals\" \"eval9 = eval=<123456789>\"\n \n-gdb_test \"b [gdb_get_line_number {break to inspect} ${testfile}.c ]\" \\\n-    \".*Breakpoint.*\"\n-gdb_test \"continue\" \".*Breakpoint.*\"\n+gdb_breakpoint [gdb_get_line_number \"break to inspect\" ${testfile}.c ]\n+gdb_continue_to_breakpoint \"break to inspect\" \".*break to inspect.*\"\n \n gdb_test \"print ss\" \" = a=< a=<1> b=<$hex>> b=< a=<2> b=<$hex>>\" \\\n     \"print ss enabled #1\""
    }
  ]
}