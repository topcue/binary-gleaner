{
  "sha": "7a34d0ea4ddd5ff205637fbad5faf2e977921720",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6N2EzNGQwZWE0ZGRkNWZmMjA1NjM3ZmJhZDVmYWYyZTk3NzkyMTcyMA==",
  "commit": {
    "author": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2020-07-13T10:27:28Z"
    },
    "committer": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2020-07-13T12:33:59Z"
    },
    "message": "x86_64-cygwin tests\n\nTests just having \"xfail: x86_64-*-cygwin\" aren't good, since\npresumably if a test fails on x86_64-cygwin then it also fails on\nx86_64-*-pe* and x86_64-*-mingw*.\n\nbinutils/\n\t* testsuite/lib/binutils-common.exp (is_pecoff_format): Accept\n\toptional machine-os arg.\nld/\n\t* testsuite/ld-scripts/default-script1.d: Don't skip, xfail\n\tusing is_pecoff_format.\n\t* testsuite/ld-scripts/default-script2.d: Likewise.\n\t* testsuite/ld-scripts/default-script3.d: Likewise.\n\t* testsuite/ld-scripts/default-script4.d: Likewise.\n\t* testsuite/ld-scripts/pr20302.d: Remove x86_64-*-cygwin from notarget.\n\t* testsuite/ld-scripts/provide-6.d: Remove x86_64-*-cygwin from xfail.\n\t* testsuite/ld-scripts/provide-8.d: Likewise.",
    "tree": {
      "sha": "9d1b12b177bba1e5536986239f8f795f8ef0e2b8",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/9d1b12b177bba1e5536986239f8f795f8ef0e2b8"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/7a34d0ea4ddd5ff205637fbad5faf2e977921720",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/7a34d0ea4ddd5ff205637fbad5faf2e977921720",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/7a34d0ea4ddd5ff205637fbad5faf2e977921720",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/7a34d0ea4ddd5ff205637fbad5faf2e977921720/comments",
  "author": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "8884c29c0f5df9f2ef201f1bc4ba574e7468eb4f",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/8884c29c0f5df9f2ef201f1bc4ba574e7468eb4f",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/8884c29c0f5df9f2ef201f1bc4ba574e7468eb4f"
    }
  ],
  "stats": {
    "total": 77,
    "additions": 48,
    "deletions": 29
  },
  "files": [
    {
      "sha": "b30bbc40984c6548686c3cb9cdb1adf05fc67224",
      "filename": "binutils/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7a34d0ea4ddd5ff205637fbad5faf2e977921720/binutils/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7a34d0ea4ddd5ff205637fbad5faf2e977921720/binutils/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/ChangeLog?ref=7a34d0ea4ddd5ff205637fbad5faf2e977921720",
      "patch": "@@ -1,3 +1,8 @@\n+2020-07-13  Alan Modra  <amodra@gmail.com>\n+\n+\t* testsuite/lib/binutils-common.exp (is_pecoff_format): Accept\n+\toptional machine-os arg.\n+\n 2020-07-11  H.J. Lu  <hongjiu.lu@intel.com>\n \n \t* readelf.c (decode_x86_feature_2): Handle"
    },
    {
      "sha": "345840c0b24f3e591da348da3519ed45e0634f37",
      "filename": "binutils/testsuite/lib/binutils-common.exp",
      "status": "modified",
      "additions": 14,
      "deletions": 9,
      "changes": 23,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7a34d0ea4ddd5ff205637fbad5faf2e977921720/binutils/testsuite/lib/binutils-common.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7a34d0ea4ddd5ff205637fbad5faf2e977921720/binutils/testsuite/lib/binutils-common.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/testsuite/lib/binutils-common.exp?ref=7a34d0ea4ddd5ff205637fbad5faf2e977921720",
      "patch": "@@ -94,15 +94,20 @@ proc is_aout_format {} {\n \n # True if the object format is known to be PE COFF.\n #\n-proc is_pecoff_format {} {\n-    if { [istarget *-*-beospe*]\n-\t || [istarget *-*-cegcc*]\n-\t || [istarget *-*-cygwin*]\n-\t || [istarget *-*-interix*]\n-\t || [istarget *-*-mingw*]\n-\t || [istarget *-*-netbsdpe*]\n-\t || [istarget *-*-pe*]\n-\t || [istarget *-*-winnt*] } {\n+proc is_pecoff_format args {\n+    if { [llength $args] == 1 } {\n+\tset m_os [lindex $args 0]\n+    } else {\n+\tset m_os *-*\n+    }\n+    if { [istarget $m_os-beospe*]\n+\t || [istarget $m_os-cegcc*]\n+\t || [istarget $m_os-cygwin*]\n+\t || [istarget $m_os-interix*]\n+\t || [istarget $m_os-mingw*]\n+\t || [istarget $m_os-netbsdpe*]\n+\t || [istarget $m_os-pe*]\n+\t || [istarget $m_os-winnt*] } {\n \treturn 1\n     }\n     return 0"
    },
    {
      "sha": "98d10c0b73a867867a91d7dae721a4425691c472",
      "filename": "ld/ChangeLog",
      "status": "modified",
      "additions": 11,
      "deletions": 0,
      "changes": 11,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7a34d0ea4ddd5ff205637fbad5faf2e977921720/ld/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7a34d0ea4ddd5ff205637fbad5faf2e977921720/ld/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/ChangeLog?ref=7a34d0ea4ddd5ff205637fbad5faf2e977921720",
      "patch": "@@ -1,3 +1,14 @@\n+2020-07-13  Alan Modra  <amodra@gmail.com>\n+\n+\t* testsuite/ld-scripts/default-script1.d: Don't skip, xfail\n+\tusing is_pecoff_format.\n+\t* testsuite/ld-scripts/default-script2.d: Likewise.\n+\t* testsuite/ld-scripts/default-script3.d: Likewise.\n+\t* testsuite/ld-scripts/default-script4.d: Likewise.\n+\t* testsuite/ld-scripts/pr20302.d: Remove x86_64-*-cygwin from notarget.\n+\t* testsuite/ld-scripts/provide-6.d: Remove x86_64-*-cygwin from xfail.\n+\t* testsuite/ld-scripts/provide-8.d: Likewise.\n+\n 2020-07-10  Alan Modra  <amodra@gmail.com>\n \n \t* ld.texi (PowerPC64 ELF64): Document --no-inline-optimize,"
    },
    {
      "sha": "ec88067f4383eabad22c2330f8376e63494a3c28",
      "filename": "ld/testsuite/ld-scripts/default-script1.d",
      "status": "modified",
      "additions": 4,
      "deletions": 4,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7a34d0ea4ddd5ff205637fbad5faf2e977921720/ld/testsuite/ld-scripts/default-script1.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7a34d0ea4ddd5ff205637fbad5faf2e977921720/ld/testsuite/ld-scripts/default-script1.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-scripts/default-script1.d?ref=7a34d0ea4ddd5ff205637fbad5faf2e977921720",
      "patch": "@@ -1,7 +1,7 @@\n-# source: default-script.s\n-# ld: -defsym _START=0x800 -T default-script.t\n-# nm: -n\n-# skip: x86_64-*-mingw* x86_64-*-cygwin\n+#source: default-script.s\n+#ld: -defsym _START=0x800 -T default-script.t\n+#nm: -n\n+#xfail: {[is_pecoff_format x86_64-*]}\n # Skipped on Mingw64 and Cygwin because the image base defaults to 0x100000000\n \n #..."
    },
    {
      "sha": "b10ac96288eb3f349dfdfbd58e7f1c069d58fa1b",
      "filename": "ld/testsuite/ld-scripts/default-script2.d",
      "status": "modified",
      "additions": 4,
      "deletions": 4,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7a34d0ea4ddd5ff205637fbad5faf2e977921720/ld/testsuite/ld-scripts/default-script2.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7a34d0ea4ddd5ff205637fbad5faf2e977921720/ld/testsuite/ld-scripts/default-script2.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-scripts/default-script2.d?ref=7a34d0ea4ddd5ff205637fbad5faf2e977921720",
      "patch": "@@ -1,7 +1,7 @@\n-# source: default-script.s\n-# ld: -T default-script.t -defsym _START=0x800\n-# nm: -n\n-# skip: x86_64-*-mingw* x86_64-*-cygwin\n+#source: default-script.s\n+#ld: -T default-script.t -defsym _START=0x800\n+#nm: -n\n+#xfail: {[is_pecoff_format x86_64-*]}\n # Skipped on Mingw64 and Cygwin because the image base defaults to 0x100000000\n \n #..."
    },
    {
      "sha": "4742bc31e4f570f1770ad89d87d2d7549bbe0575",
      "filename": "ld/testsuite/ld-scripts/default-script3.d",
      "status": "modified",
      "additions": 4,
      "deletions": 4,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7a34d0ea4ddd5ff205637fbad5faf2e977921720/ld/testsuite/ld-scripts/default-script3.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7a34d0ea4ddd5ff205637fbad5faf2e977921720/ld/testsuite/ld-scripts/default-script3.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-scripts/default-script3.d?ref=7a34d0ea4ddd5ff205637fbad5faf2e977921720",
      "patch": "@@ -1,7 +1,7 @@\n-# source: default-script.s\n-# ld: -defsym _START=0x800 -dT default-script.t\n-# nm: -n\n-# skip: x86_64-*-mingw* x86_64-*-cygwin\n+#source: default-script.s\n+#ld: -defsym _START=0x800 -dT default-script.t\n+#nm: -n\n+#xfail: {[is_pecoff_format x86_64-*]}\n # Skipped on Mingw64 and Cygwin because the image base defaults to 0x100000000\n \n #..."
    },
    {
      "sha": "09b6dbf08bad4beef2dfb787337874050040527b",
      "filename": "ld/testsuite/ld-scripts/default-script4.d",
      "status": "modified",
      "additions": 4,
      "deletions": 4,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7a34d0ea4ddd5ff205637fbad5faf2e977921720/ld/testsuite/ld-scripts/default-script4.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7a34d0ea4ddd5ff205637fbad5faf2e977921720/ld/testsuite/ld-scripts/default-script4.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-scripts/default-script4.d?ref=7a34d0ea4ddd5ff205637fbad5faf2e977921720",
      "patch": "@@ -1,7 +1,7 @@\n-# source: default-script.s\n-# ld: --default-script default-script.t -defsym _START=0x800\n-# nm: -n\n-# skip: x86_64-*-mingw* x86_64-*-cygwin\n+#source: default-script.s\n+#ld: --default-script default-script.t -defsym _START=0x800\n+#nm: -n\n+#xfail: {[is_pecoff_format x86_64-*]}\n # Skipped on Mingw64 and Cygwin because the image base defaults to 0x100000000\n \n #..."
    },
    {
      "sha": "7eb25ce858de14bd0baf2596e3c3d9d00283f87c",
      "filename": "ld/testsuite/ld-scripts/pr20302.d",
      "status": "modified",
      "additions": 1,
      "deletions": 2,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7a34d0ea4ddd5ff205637fbad5faf2e977921720/ld/testsuite/ld-scripts/pr20302.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7a34d0ea4ddd5ff205637fbad5faf2e977921720/ld/testsuite/ld-scripts/pr20302.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-scripts/pr20302.d?ref=7a34d0ea4ddd5ff205637fbad5faf2e977921720",
      "patch": "@@ -1,11 +1,10 @@\n #ld: -Tdata=0x1000 -Tdata=0x2000 -Tcross2.t\n #source: align2a.s\n #objdump: -h\n-#notarget: *-*-*aout *-*-netbsd *-*-vms ns32k-*-* rx-*-* x86_64-*-cygwin\n+#notarget: *-*-*aout *-*-netbsd *-*-vms ns32k-*-* rx-*-*\n # AOUT and NETBSD (ns32k is aout) have fixed address for the data section.\n # VMS targets need extra libraries.\n # RX uses non standard section names.\n-# x86_64 Cygwin biases all start addresses to be > 2Gb.\n \n #...\n   . \\.data[ \t]+0+[0-9a-f]+[ \t]+0+02000[ \t]+0+02000.*"
    },
    {
      "sha": "27a2d0d5a0b33ff544b701c7e35c2e7bb955697e",
      "filename": "ld/testsuite/ld-scripts/provide-6.d",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7a34d0ea4ddd5ff205637fbad5faf2e977921720/ld/testsuite/ld-scripts/provide-6.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7a34d0ea4ddd5ff205637fbad5faf2e977921720/ld/testsuite/ld-scripts/provide-6.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-scripts/provide-6.d?ref=7a34d0ea4ddd5ff205637fbad5faf2e977921720",
      "patch": "@@ -1,7 +1,6 @@\n #source: provide-5.s\n #ld: -T provide-6.t\n #nm: -B\n-#xfail: x86_64-*-cygwin\n \n #...\n 0+1000 D foo"
    },
    {
      "sha": "16510be9e90ffc990b4459bad1c082d316dd5cba",
      "filename": "ld/testsuite/ld-scripts/provide-8.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7a34d0ea4ddd5ff205637fbad5faf2e977921720/ld/testsuite/ld-scripts/provide-8.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7a34d0ea4ddd5ff205637fbad5faf2e977921720/ld/testsuite/ld-scripts/provide-8.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-scripts/provide-8.d?ref=7a34d0ea4ddd5ff205637fbad5faf2e977921720",
      "patch": "@@ -1,7 +1,7 @@\n #source: provide-5.s\n #ld: -T provide-8.t\n #nm: -B\n-#xfail: x86_64-*-cygwin mmix-*-* sh-*-pe spu-*-*\n+#xfail: mmix-*-* sh-*-pe spu-*-*\n \n #...\n 0+4000 D __FOO"
    }
  ]
}