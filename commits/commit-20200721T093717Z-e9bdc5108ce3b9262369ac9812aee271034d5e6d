{
  "sha": "e9bdc5108ce3b9262369ac9812aee271034d5e6d",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ZTliZGM1MTA4Y2UzYjkyNjIzNjlhYzk4MTJhZWUyNzEwMzRkNWU2ZA==",
  "commit": {
    "author": {
      "name": "Tom de Vries",
      "email": "tdevries@suse.de",
      "date": "2020-07-21T09:37:17Z"
    },
    "committer": {
      "name": "Tom de Vries",
      "email": "tdevries@suse.de",
      "date": "2020-07-21T09:37:17Z"
    },
    "message": "[gdb/testsuite] Fix gdb.fortran/info-modules.exp with gcc-8\n\nWhen using test-case gdb.fortran/info-modules.exp with gcc 8.4.0, I run into:\n...\nFAIL: gdb.fortran/info-modules.exp: info module variables: check for entry \\\n  'info-types.f90', '35', 'Type m1t1 mod1::__def_init_mod1_M1t1;'\nFAIL: gdb.fortran/info-modules.exp: info module variables: check for entry \\\n  'info-types.f90', '35', 'Type __vtype_mod1_M1t1 mod1::__vtab_mod1_M1t1;'\n...\n\nThis is caused by this change in gdb output:\n...\n (gdb) info module variables\n    ...\n File gdb.fortran/info-types.f90:\n-35:     Type m1t1 mod1::__def_init_mod1_M1t1;\n+        Type m1t1 mod1::__def_init_mod1_M1t1;\n-35:     Type __vtype_mod1_M1t1 mod1::__vtab_mod1_M1t1;\n+        Type __vtype_mod1_M1t1 mod1::__vtab_mod1_M1t1;\n 21:     real(kind=4) mod1::mod1_var_1;\n 22:     integer(kind=4) mod1::mod1_var_2;\n...\ncaused by a change in debug info.\n\nFix this by allowing those entries without line number.\n\nTested on x86_64-linux.\n\ngdb/testsuite/ChangeLog:\n\n2020-07-21  Tom de Vries  <tdevries@suse.de>\n\n\t* gdb.fortran/info-modules.exp (info module variables): Allow missing\n\tline numbers for some variables.",
    "tree": {
      "sha": "4c2d44d2f9f33d2c45d4db2fd91fb595162e50ae",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/4c2d44d2f9f33d2c45d4db2fd91fb595162e50ae"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/e9bdc5108ce3b9262369ac9812aee271034d5e6d",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/e9bdc5108ce3b9262369ac9812aee271034d5e6d",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/e9bdc5108ce3b9262369ac9812aee271034d5e6d",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/e9bdc5108ce3b9262369ac9812aee271034d5e6d/comments",
  "author": {
    "login": "vries",
    "id": 4057235,
    "node_id": "MDQ6VXNlcjQwNTcyMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4057235?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vries",
    "html_url": "https://github.com/vries",
    "followers_url": "https://api.github.com/users/vries/followers",
    "following_url": "https://api.github.com/users/vries/following{/other_user}",
    "gists_url": "https://api.github.com/users/vries/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vries/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vries/subscriptions",
    "organizations_url": "https://api.github.com/users/vries/orgs",
    "repos_url": "https://api.github.com/users/vries/repos",
    "events_url": "https://api.github.com/users/vries/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vries/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "vries",
    "id": 4057235,
    "node_id": "MDQ6VXNlcjQwNTcyMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4057235?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vries",
    "html_url": "https://github.com/vries",
    "followers_url": "https://api.github.com/users/vries/followers",
    "following_url": "https://api.github.com/users/vries/following{/other_user}",
    "gists_url": "https://api.github.com/users/vries/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vries/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vries/subscriptions",
    "organizations_url": "https://api.github.com/users/vries/orgs",
    "repos_url": "https://api.github.com/users/vries/repos",
    "events_url": "https://api.github.com/users/vries/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vries/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "185a798e666094d92539574da614ac136655bcd6",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/185a798e666094d92539574da614ac136655bcd6",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/185a798e666094d92539574da614ac136655bcd6"
    }
  ],
  "stats": {
    "total": 9,
    "additions": 7,
    "deletions": 2
  },
  "files": [
    {
      "sha": "b14544e1ec762f1cb56495eb5ed3d1ee4ba1685c",
      "filename": "gdb/testsuite/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e9bdc5108ce3b9262369ac9812aee271034d5e6d/gdb/testsuite/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e9bdc5108ce3b9262369ac9812aee271034d5e6d/gdb/testsuite/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/ChangeLog?ref=e9bdc5108ce3b9262369ac9812aee271034d5e6d",
      "patch": "@@ -1,3 +1,8 @@\n+2020-07-21  Tom de Vries  <tdevries@suse.de>\n+\n+\t* gdb.fortran/info-modules.exp (info module variables): Allow missing\n+\tline numbers for some variables.\n+\n 2020-07-21  Tom de Vries  <tdevries@suse.de>\n \n \t* gdb.opt/inline-locals.c (init_array): New func."
    },
    {
      "sha": "02e35c207e1a6c6dbb27dd38ac01b3e008c5e179",
      "filename": "gdb/testsuite/gdb.fortran/info-modules.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e9bdc5108ce3b9262369ac9812aee271034d5e6d/gdb/testsuite/gdb.fortran/info-modules.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e9bdc5108ce3b9262369ac9812aee271034d5e6d/gdb/testsuite/gdb.fortran/info-modules.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.fortran/info-modules.exp?ref=e9bdc5108ce3b9262369ac9812aee271034d5e6d",
      "patch": "@@ -117,9 +117,9 @@ GDBInfoModuleSymbols::check_entry \"${srcfile2}\" \"mod2\" \"19\" \\\n     \"${integer4} mod2::mod2_var_1;\"\n GDBInfoModuleSymbols::check_entry \"${srcfile2}\" \"mod2\" \"20\" \\\n     \"${real4} mod2::mod2_var_2;\"\n-GDBInfoModuleSymbols::check_entry \"${srcfile}\" \"mod1\" \"35\" \\\n+GDBInfoModuleSymbols::check_entry \"${srcfile}\" \"mod1\" \"(35)?\" \\\n     \"Type m1t1 mod1::__def_init_mod1_M1t1;\"\n-GDBInfoModuleSymbols::check_entry \"${srcfile}\" \"mod1\" \"35\" \\\n+GDBInfoModuleSymbols::check_entry \"${srcfile}\" \"mod1\" \"(35)?\" \\\n     \"Type __vtype_mod1_M1t1 mod1::__vtab_mod1_M1t1;\"\n GDBInfoModuleSymbols::check_entry \"${srcfile}\" \"mod1\" \"21\" \\\n     \"${real4} mod1::mod1_var_1;\""
    }
  ]
}