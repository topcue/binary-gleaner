{
  "sha": "b13a7d03c29e28bc0b38ce166ad1907403709d36",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YjEzYTdkMDNjMjllMjhiYzBiMzhjZTE2NmFkMTkwNzQwMzcwOWQzNg==",
  "commit": {
    "author": {
      "name": "Tom de Vries",
      "email": "tdevries@suse.de",
      "date": "2019-06-21T15:03:27Z"
    },
    "committer": {
      "name": "Tom de Vries",
      "email": "tdevries@suse.de",
      "date": "2019-06-21T15:03:27Z"
    },
    "message": "[gdb/testsuite] Mark ptype_union.exp as unsupported for cc-with-gdb-index\n\nWhen testing gdb with board cc-with-gdb-index, we run into:\n...\nFAIL: gdb.ada/ptype_union.exp: ptype global\nFAIL: gdb.ada/ptype_union.exp: print global\n...\n\nThe index is not supported for Ada (PR24713), and cc-with-gdb-index does not\nadd an index for Ada test-cases.  However, this test-case compiles C sources,\nfor which cc-with-gdb-index does add an index.  In gdb we load the executable\ncontaining the index and set the language to Ada, resulting in gdb trying to\nhandle something that is not supported.\n\nFix the fail by marking this unsupported.\n\nTested on x86_64-linux.\n\ngdb/testsuite/ChangeLog:\n\n2019-06-21  Tom de Vries  <tdevries@suse.de>\n\n\tPR testsuite/24518\n\tPR ada/24713\n\t* gdb.ada/ptype_union.exp: Mark as unsupported if executable contains\n\tindex.",
    "tree": {
      "sha": "597cfbc21b77e2966bd2cd3e1418f2d14d92b712",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/597cfbc21b77e2966bd2cd3e1418f2d14d92b712"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/b13a7d03c29e28bc0b38ce166ad1907403709d36",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/b13a7d03c29e28bc0b38ce166ad1907403709d36",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/b13a7d03c29e28bc0b38ce166ad1907403709d36",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/b13a7d03c29e28bc0b38ce166ad1907403709d36/comments",
  "author": {
    "login": "vries",
    "id": 4057235,
    "node_id": "MDQ6VXNlcjQwNTcyMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4057235?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vries",
    "html_url": "https://github.com/vries",
    "followers_url": "https://api.github.com/users/vries/followers",
    "following_url": "https://api.github.com/users/vries/following{/other_user}",
    "gists_url": "https://api.github.com/users/vries/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vries/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vries/subscriptions",
    "organizations_url": "https://api.github.com/users/vries/orgs",
    "repos_url": "https://api.github.com/users/vries/repos",
    "events_url": "https://api.github.com/users/vries/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vries/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "vries",
    "id": 4057235,
    "node_id": "MDQ6VXNlcjQwNTcyMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4057235?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vries",
    "html_url": "https://github.com/vries",
    "followers_url": "https://api.github.com/users/vries/followers",
    "following_url": "https://api.github.com/users/vries/following{/other_user}",
    "gists_url": "https://api.github.com/users/vries/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vries/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vries/subscriptions",
    "organizations_url": "https://api.github.com/users/vries/orgs",
    "repos_url": "https://api.github.com/users/vries/repos",
    "events_url": "https://api.github.com/users/vries/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vries/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "be74b5b71481afe03aad074ad1951dcae152b97a",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/be74b5b71481afe03aad074ad1951dcae152b97a",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/be74b5b71481afe03aad074ad1951dcae152b97a"
    }
  ],
  "stats": {
    "total": 12,
    "additions": 12,
    "deletions": 0
  },
  "files": [
    {
      "sha": "d4e7d8b6707a83024d308b88ea2ee28b0879cc21",
      "filename": "gdb/testsuite/ChangeLog",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b13a7d03c29e28bc0b38ce166ad1907403709d36/gdb/testsuite/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b13a7d03c29e28bc0b38ce166ad1907403709d36/gdb/testsuite/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/ChangeLog?ref=b13a7d03c29e28bc0b38ce166ad1907403709d36",
      "patch": "@@ -1,3 +1,10 @@\n+2019-06-21  Tom de Vries  <tdevries@suse.de>\n+\n+\tPR testsuite/24518\n+\tPR ada/24713\n+\t* gdb.ada/ptype_union.exp: Mark as unsupported if executable contains\n+\tindex.\n+\n 2019-06-19  Tom Tromey  <tromey@adacore.com>\n \n \t* gdb.ada/length_cond.exp: Add intro comment."
    },
    {
      "sha": "c27db1f29263669924ba862a0370db2dc53269fa",
      "filename": "gdb/testsuite/gdb.ada/ptype_union.exp",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b13a7d03c29e28bc0b38ce166ad1907403709d36/gdb/testsuite/gdb.ada/ptype_union.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b13a7d03c29e28bc0b38ce166ad1907403709d36/gdb/testsuite/gdb.ada/ptype_union.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.ada/ptype_union.exp?ref=b13a7d03c29e28bc0b38ce166ad1907403709d36",
      "patch": "@@ -19,6 +19,11 @@ if {[prepare_for_testing \"failed to prepare\" ${testfile} ${srcfile}]} {\n     return -1\n }\n \n+if {[exec_has_index_section $binfile]} {\n+    unsupported \"Ada is not currently supported by the index (PR 24713)\"\n+    return -1\n+}\n+\n # The test case is written in C, because it was easy to make the\n # required type there; but the bug itself only happens in Ada.\n gdb_test \"set lang ada\" \"\""
    }
  ]
}