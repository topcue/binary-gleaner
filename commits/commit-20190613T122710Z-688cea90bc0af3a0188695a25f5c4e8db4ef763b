{
  "sha": "688cea90bc0af3a0188695a25f5c4e8db4ef763b",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6Njg4Y2VhOTBiYzBhZjNhMDE4ODY5NWEyNWY1YzRlOGRiNGVmNzYzYg==",
  "commit": {
    "author": {
      "name": "Stafford Horne",
      "email": "shorne@gmail.com",
      "date": "2019-06-13T12:27:10Z"
    },
    "committer": {
      "name": "Stafford Horne",
      "email": "shorne@gmail.com",
      "date": "2019-06-13T12:27:10Z"
    },
    "message": "sim/common: Wire in df/di conversion\n\nUp until now these have not been used in any CGEN targets, add them as\nthey are now used by OpenRISC.\n\nsim/common/ChangeLog:\n\n\t* cgen-accfp.c (floatdidf, fixdfdi): New functions.\n\t(cgen_init_accurate_fpu): Add floatdidf and fixdfdi.",
    "tree": {
      "sha": "df3335611ca384e08a86a3e42fe3f6e66593d2ba",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/df3335611ca384e08a86a3e42fe3f6e66593d2ba"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/688cea90bc0af3a0188695a25f5c4e8db4ef763b",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/688cea90bc0af3a0188695a25f5c4e8db4ef763b",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/688cea90bc0af3a0188695a25f5c4e8db4ef763b",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/688cea90bc0af3a0188695a25f5c4e8db4ef763b/comments",
  "author": {
    "login": "stffrdhrn",
    "id": 2404255,
    "node_id": "MDQ6VXNlcjI0MDQyNTU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2404255?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/stffrdhrn",
    "html_url": "https://github.com/stffrdhrn",
    "followers_url": "https://api.github.com/users/stffrdhrn/followers",
    "following_url": "https://api.github.com/users/stffrdhrn/following{/other_user}",
    "gists_url": "https://api.github.com/users/stffrdhrn/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/stffrdhrn/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/stffrdhrn/subscriptions",
    "organizations_url": "https://api.github.com/users/stffrdhrn/orgs",
    "repos_url": "https://api.github.com/users/stffrdhrn/repos",
    "events_url": "https://api.github.com/users/stffrdhrn/events{/privacy}",
    "received_events_url": "https://api.github.com/users/stffrdhrn/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "stffrdhrn",
    "id": 2404255,
    "node_id": "MDQ6VXNlcjI0MDQyNTU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2404255?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/stffrdhrn",
    "html_url": "https://github.com/stffrdhrn",
    "followers_url": "https://api.github.com/users/stffrdhrn/followers",
    "following_url": "https://api.github.com/users/stffrdhrn/following{/other_user}",
    "gists_url": "https://api.github.com/users/stffrdhrn/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/stffrdhrn/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/stffrdhrn/subscriptions",
    "organizations_url": "https://api.github.com/users/stffrdhrn/orgs",
    "repos_url": "https://api.github.com/users/stffrdhrn/repos",
    "events_url": "https://api.github.com/users/stffrdhrn/events{/privacy}",
    "received_events_url": "https://api.github.com/users/stffrdhrn/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "7ccbb4437a29896955a6ff3b0406b1cc2a7f6fe2",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/7ccbb4437a29896955a6ff3b0406b1cc2a7f6fe2",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/7ccbb4437a29896955a6ff3b0406b1cc2a7f6fe2"
    }
  ],
  "stats": {
    "total": 29,
    "additions": 29,
    "deletions": 0
  },
  "files": [
    {
      "sha": "7b0e617bf8ae0c921cd01096b0949b1e856e96a6",
      "filename": "sim/common/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/688cea90bc0af3a0188695a25f5c4e8db4ef763b/sim/common/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/688cea90bc0af3a0188695a25f5c4e8db4ef763b/sim/common/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/common/ChangeLog?ref=688cea90bc0af3a0188695a25f5c4e8db4ef763b",
      "patch": "@@ -1,3 +1,8 @@\n+2019-06-13  Stafford Horne  <shorne@gmail.com>\n+\n+\t* cgen-accfp.c (floatdidf, fixdfdi): New functions.\n+\t(cgen_init_accurate_fpu): Add floatdidf and fixdfdi.\n+\n 2019-04-13  Andrew Burgess  <andrew.burgess@embecosm.com>\n \n \t* cgen-ops.h (SUBWORDXFSI): Compare HOST_BYTE_ORDER not"
    },
    {
      "sha": "51f5a29fe24d3cd4ca1105a743d657654d83c85d",
      "filename": "sim/common/cgen-accfp.c",
      "status": "modified",
      "additions": 24,
      "deletions": 0,
      "changes": 24,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/688cea90bc0af3a0188695a25f5c4e8db4ef763b/sim/common/cgen-accfp.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/688cea90bc0af3a0188695a25f5c4e8db4ef763b/sim/common/cgen-accfp.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/common/cgen-accfp.c?ref=688cea90bc0af3a0188695a25f5c4e8db4ef763b",
      "patch": "@@ -349,6 +349,17 @@ floatsidf (CGEN_FPU* fpu, int how UNUSED, SI x)\n   return res;\n }\n \n+static DF\n+floatdidf (CGEN_FPU* fpu, int how UNUSED, DI x)\n+{\n+  sim_fpu ans;\n+  unsigned64 res;\n+\n+  sim_fpu_i64to (&ans, x, sim_fpu_round_near);\n+  sim_fpu_to64 (&res, &ans);\n+  return res;\n+}\n+\n static SF\n ufloatsisf (CGEN_FPU* fpu, int how UNUSED, USI x)\n {\n@@ -382,6 +393,17 @@ fixdfsi (CGEN_FPU* fpu, int how UNUSED, DF x)\n   return res;\n }\n \n+static DI\n+fixdfdi (CGEN_FPU* fpu, int how UNUSED, DF x)\n+{\n+  sim_fpu op1;\n+  unsigned64 res;\n+\n+  sim_fpu_64to (&op1, x);\n+  sim_fpu_to64i (&res, &op1, sim_fpu_round_near);\n+  return res;\n+}\n+\n static USI\n ufixsfsi (CGEN_FPU* fpu, int how UNUSED, SF x)\n {\n@@ -739,8 +761,10 @@ cgen_init_accurate_fpu (SIM_CPU* cpu, CGEN_FPU* fpu, CGEN_FPU_ERROR_FN* error)\n   o->ftruncdfsf = ftruncdfsf;\n   o->floatsisf = floatsisf;\n   o->floatsidf = floatsidf;\n+  o->floatdidf = floatdidf;\n   o->ufloatsisf = ufloatsisf;\n   o->fixsfsi = fixsfsi;\n   o->fixdfsi = fixdfsi;\n+  o->fixdfdi = fixdfdi;\n   o->ufixsfsi = ufixsfsi;\n }"
    }
  ]
}