{
  "sha": "50a97903cea702f618328babd9093bd1fefbd7f1",
  "node_id": "C_kwDOANOeidoAKDUwYTk3OTAzY2VhNzAyZjYxODMyOGJhYmQ5MDkzYmQxZmVmYmQ3ZjE",
  "commit": {
    "author": {
      "name": "Tiezhu Yang",
      "email": "yangtiezhu@loongson.cn",
      "date": "2021-11-06T09:50:20Z"
    },
    "committer": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-11-06T16:19:58Z"
    },
    "message": "sim: mips: use sim_fpu_to{32,64}u to fix build warnings\n\nSince the first argument type is unsigned32 or unsigned64, just use\nsim_fpu_to{32,64}u instead of sim_fpu_to{32,64}i to fix the following\nbuild warnings:\n\n  CC     cp1.o\n.../sim/mips/cp1.c: In function 'convert':\n.../sim/mips/cp1.c:1425:32: warning: pointer targets in passing argument 1 of 'sim_fpu_to32i' differ in signedness [-Wpointer-sign]\n       status |= sim_fpu_to32i (&result32, &wop, round);\n                                ^~~~~~~~~\nIn file included from .../sim/mips/sim-main.h:67,\n                 from .../sim/mips/cp1.c:46:\n.../sim/mips/../common/sim-fpu.h:270:22: note: expected 'signed32 *' {aka 'int *'} but argument is of type 'unsigned32 *' {aka 'unsigned int *'}\n INLINE_SIM_FPU (int) sim_fpu_to32i (signed32 *i, const sim_fpu *f,\n                      ^~~~~~~~~~~~~\n.../sim/mips/cp1.c:1429:32: warning: pointer targets in passing argument 1 of 'sim_fpu_to64i' differ in signedness [-Wpointer-sign]\n       status |= sim_fpu_to64i (&result64, &wop, round);\n                                ^~~~~~~~~\nIn file included from .../sim/mips/sim-main.h:67,\n                 from .../sim/mips/cp1.c:46:\n.../sim/mips/../common/sim-fpu.h:274:22: note: expected 'signed64 *' {aka 'long int *'} but argument is of type 'unsigned64 *' {aka 'long unsigned int *'}\n INLINE_SIM_FPU (int) sim_fpu_to64i (signed64 *i, const sim_fpu *f,\n                      ^~~~~~~~~~~~~\n.../sim/mips/cp1.c: In function 'convert_ps':\n.../sim/mips/cp1.c:1528:34: warning: pointer targets in passing argument 1 of 'sim_fpu_to32i' differ in signedness [-Wpointer-sign]\n       status_u |= sim_fpu_to32i (&res_u, &wop_u, round);\n                                  ^~~~~~\nIn file included from .../sim/mips/sim-main.h:67,\n                 from .../sim/mips/cp1.c:46:\n.../sim/mips/../common/sim-fpu.h:270:22: note: expected 'signed32 *' {aka 'int *'} but argument is of type 'unsigned32 *' {aka 'unsigned int *'}\n INLINE_SIM_FPU (int) sim_fpu_to32i (signed32 *i, const sim_fpu *f,\n                      ^~~~~~~~~~~~~\n.../sim/mips/cp1.c:1529:34: warning: pointer targets in passing argument 1 of 'sim_fpu_to32i' differ in signedness [-Wpointer-sign]\n       status_l |= sim_fpu_to32i (&res_l, &wop_l, round);\n                                  ^~~~~~\nIn file included from .../sim/mips/sim-main.h:67,\n                 from .../sim/mips/cp1.c:46:\n.../sim/mips/../common/sim-fpu.h:270:22: note: expected 'signed32 *' {aka 'int *'} but argument is of type 'unsigned32 *' {aka 'unsigned int *'}\n INLINE_SIM_FPU (int) sim_fpu_to32i (signed32 *i, const sim_fpu *f,\n                      ^~~~~~~~~~~~~\n\nSigned-off-by: Tiezhu Yang <yangtiezhu@loongson.cn>",
    "tree": {
      "sha": "73ae972b0fb510b084f645d7613eb48dabd74114",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/73ae972b0fb510b084f645d7613eb48dabd74114"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/50a97903cea702f618328babd9093bd1fefbd7f1",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/50a97903cea702f618328babd9093bd1fefbd7f1",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/50a97903cea702f618328babd9093bd1fefbd7f1",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/50a97903cea702f618328babd9093bd1fefbd7f1/comments",
  "author": null,
  "committer": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "314ec7aeeb1b2e68f0d8fb9990f2335f475a6e33",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/314ec7aeeb1b2e68f0d8fb9990f2335f475a6e33",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/314ec7aeeb1b2e68f0d8fb9990f2335f475a6e33"
    }
  ],
  "stats": {
    "total": 11,
    "additions": 4,
    "deletions": 7
  },
  "files": [
    {
      "sha": "8a9241dd680e7b5118caa51adc85b5cb9b5dd8b3",
      "filename": "sim/mips/Makefile.in",
      "status": "modified",
      "additions": 0,
      "deletions": 3,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/50a97903cea702f618328babd9093bd1fefbd7f1/sim/mips/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/50a97903cea702f618328babd9093bd1fefbd7f1/sim/mips/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/mips/Makefile.in?ref=50a97903cea702f618328babd9093bd1fefbd7f1",
      "patch": "@@ -77,9 +77,6 @@ all: $(SIM_@sim_gen@_ALL)\n \n SIM_EXTRA_DEPS = itable.h\n \n-# Some modules don't build cleanly yet.\n-cp1.o: SIM_WERROR_CFLAGS =\n-\n ## COMMON_POST_CONFIG_FRAG\n \n IGEN_TRACE= # -G omit-line-numbers # -G trace-rule-selection -G trace-rule-rejection -G trace-entries # -G trace-all"
    },
    {
      "sha": "8d45b84095ee35c682d851c3d419b0bb715d8f86",
      "filename": "sim/mips/cp1.c",
      "status": "modified",
      "additions": 4,
      "deletions": 4,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/50a97903cea702f618328babd9093bd1fefbd7f1/sim/mips/cp1.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/50a97903cea702f618328babd9093bd1fefbd7f1/sim/mips/cp1.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/mips/cp1.c?ref=50a97903cea702f618328babd9093bd1fefbd7f1",
      "patch": "@@ -1422,11 +1422,11 @@ convert (sim_cpu *cpu,\n       sim_fpu_to64 (&result64, &wop);\n       break;\n     case fmt_word:\n-      status |= sim_fpu_to32i (&result32, &wop, round);\n+      status |= sim_fpu_to32u (&result32, &wop, round);\n       result64 = result32;\n       break;\n     case fmt_long:\n-      status |= sim_fpu_to64i (&result64, &wop, round);\n+      status |= sim_fpu_to64u (&result64, &wop, round);\n       break;\n     default:\n       result64 = 0;\n@@ -1525,8 +1525,8 @@ convert_ps (sim_cpu *cpu,\n   switch (to)\n     {\n     case fmt_word:   /* fmt_pw */\n-      status_u |= sim_fpu_to32i (&res_u, &wop_u, round);\n-      status_l |= sim_fpu_to32i (&res_l, &wop_l, round);\n+      status_u |= sim_fpu_to32u (&res_u, &wop_u, round);\n+      status_l |= sim_fpu_to32u (&res_l, &wop_l, round);\n       result = (((unsigned64)res_u) << 32) | (unsigned64)res_l;\n       break;\n     case fmt_ps:"
    }
  ]
}