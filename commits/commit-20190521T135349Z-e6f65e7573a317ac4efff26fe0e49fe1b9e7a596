{
  "sha": "e6f65e7573a317ac4efff26fe0e49fe1b9e7a596",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ZTZmNjVlNzU3M2EzMTdhYzRlZmZmMjZmZTBlNDlmZTFiOWU3YTU5Ng==",
  "commit": {
    "author": {
      "name": "Andre Vieira",
      "email": "andre.simoesdiasvieira@arm.com",
      "date": "2019-05-21T13:49:03Z"
    },
    "committer": {
      "name": "Andre Vieira",
      "email": "andre.simoesdiasvieira@arm.com",
      "date": "2019-05-21T13:53:49Z"
    },
    "message": "[binutils][Arm] Fix Branch Future relocation handling and testisms\n\nbfd/ChangeLog:\n2019-05-21  Andre Vieira  <andre.simoesdiasvieira@arm.com>\n\n\tPR/target 24460\n\t* elf32-arm.c (get_value_helper): Remove.\n\t(elf32_arm_final_link_relocate): Fix branch future relocations.\n\ngas/ChangeLog:\n2019-05-21  Andre Vieira  <andre.simoesdiasvieira@arm.com>\n\n\t* testsuite/gas/arm/armv8_1-m-bf.d: Allow different branch target naming\n\tconventions.\n\t* testsuite/gas/arm/armv8_1-m-bfl.d: Likewise.\n\t* testsuite/gas/arm/armv8_1-m-bfcsel.d: Likewise.\n\t* testsuite/gas/arm/armv8_1-m-loloop.d: Likewise.\n\t* testsuite/gas/arm/armv8_1-m-bf-rel.d: Skip for vxworks.\n\t* testsuite/gas/arm/armv8_1-m-bf-rela.d: New test.\n\t* testsuite/gas/arm/armv8_1-m-bfl-rel.d: Skip for vxworks.\n\t* testsuite/gas/arm/armv8_1-m-bfl-rela.d: New test.\n\nld/ChangeLog:\n2019-05-21  Andre Vieira  <andre.simoesdiasvieira@arm.com>\n\n\t* testsuite/ld-arm/arm-elf.exp: Add tests\n\t* testsuite/ld-arm/bfs-0.s: New test.\n\t* testsuite/ld-arm/bfs-1.s: New test.\n\t* testsuite/ld-arm/branch-futures.d: New test.",
    "tree": {
      "sha": "e12394a240761592fb54c179256bf96004ffe34e",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/e12394a240761592fb54c179256bf96004ffe34e"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/e6f65e7573a317ac4efff26fe0e49fe1b9e7a596",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/e6f65e7573a317ac4efff26fe0e49fe1b9e7a596",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/e6f65e7573a317ac4efff26fe0e49fe1b9e7a596",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/e6f65e7573a317ac4efff26fe0e49fe1b9e7a596/comments",
  "author": {
    "login": "avieira-arm",
    "id": 68072104,
    "node_id": "MDQ6VXNlcjY4MDcyMTA0",
    "avatar_url": "https://avatars.githubusercontent.com/u/68072104?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/avieira-arm",
    "html_url": "https://github.com/avieira-arm",
    "followers_url": "https://api.github.com/users/avieira-arm/followers",
    "following_url": "https://api.github.com/users/avieira-arm/following{/other_user}",
    "gists_url": "https://api.github.com/users/avieira-arm/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/avieira-arm/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/avieira-arm/subscriptions",
    "organizations_url": "https://api.github.com/users/avieira-arm/orgs",
    "repos_url": "https://api.github.com/users/avieira-arm/repos",
    "events_url": "https://api.github.com/users/avieira-arm/events{/privacy}",
    "received_events_url": "https://api.github.com/users/avieira-arm/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "avieira-arm",
    "id": 68072104,
    "node_id": "MDQ6VXNlcjY4MDcyMTA0",
    "avatar_url": "https://avatars.githubusercontent.com/u/68072104?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/avieira-arm",
    "html_url": "https://github.com/avieira-arm",
    "followers_url": "https://api.github.com/users/avieira-arm/followers",
    "following_url": "https://api.github.com/users/avieira-arm/following{/other_user}",
    "gists_url": "https://api.github.com/users/avieira-arm/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/avieira-arm/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/avieira-arm/subscriptions",
    "organizations_url": "https://api.github.com/users/avieira-arm/orgs",
    "repos_url": "https://api.github.com/users/avieira-arm/repos",
    "events_url": "https://api.github.com/users/avieira-arm/events{/privacy}",
    "received_events_url": "https://api.github.com/users/avieira-arm/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "739b5c9c778dee9e2f54d864f83a81ecb0639535",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/739b5c9c778dee9e2f54d864f83a81ecb0639535",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/739b5c9c778dee9e2f54d864f83a81ecb0639535"
    }
  ],
  "stats": {
    "total": 201,
    "additions": 117,
    "deletions": 84
  },
  "files": [
    {
      "sha": "81885bd5202245d20c5013a07e3183aef87581f2",
      "filename": "bfd/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e6f65e7573a317ac4efff26fe0e49fe1b9e7a596/bfd/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e6f65e7573a317ac4efff26fe0e49fe1b9e7a596/bfd/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/ChangeLog?ref=e6f65e7573a317ac4efff26fe0e49fe1b9e7a596",
      "patch": "@@ -1,3 +1,9 @@\n+2019-05-21  Andre Vieira  <andre.simoesdiasvieira@arm.com>\n+\n+\tPR 24460\n+\t* elf32-arm.c (get_value_helper): Remove.\n+\t(elf32_arm_final_link_relocate): Fix branch future relocations.\n+\n 2019-05-21  Tamar Christina  <tamar.christina@arm.com>\n \n \tPR ld/24373"
    },
    {
      "sha": "7f085269c45d31bf797384806e82b8a614490289",
      "filename": "bfd/elf32-arm.c",
      "status": "modified",
      "additions": 6,
      "deletions": 69,
      "changes": 75,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e6f65e7573a317ac4efff26fe0e49fe1b9e7a596/bfd/elf32-arm.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e6f65e7573a317ac4efff26fe0e49fe1b9e7a596/bfd/elf32-arm.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/elf32-arm.c?ref=e6f65e7573a317ac4efff26fe0e49fe1b9e7a596",
      "patch": "@@ -10293,59 +10293,6 @@ identify_add_or_sub (bfd_vma insn)\n   return 0;\n }\n \n-/* Helper function to compute the Addend for Armv8.1-M Mainline relocations.  */\n-static bfd_vma\n-get_value_helper (bfd_vma plt_offset,\n-\t\t  asection *splt,\n-\t\t  asection *input_section,\n-\t\t  asection *sym_sec,\n-\t\t  struct elf_link_hash_entry * h,\n-\t\t  struct bfd_link_info *info,\n-\t\t  bfd *input_bfd,\n-\t\t  Elf_Internal_Rela *rel,\n-\t\t  const char *sym_name,\n-\t\t  unsigned char st_type,\n-\t\t  struct elf32_arm_link_hash_table *globals,\n-\t\t  bfd_boolean *unresolved_reloc_p)\n-{\n-  bfd_vma value = 0;\n-  enum arm_st_branch_type branch_type;\n-  enum elf32_arm_stub_type stub_type = arm_stub_none;\n-  struct elf32_arm_stub_hash_entry *stub_entry;\n-  struct elf32_arm_link_hash_entry *hash\n-    = (struct elf32_arm_link_hash_entry *)h;\n-\n-\n-  if (plt_offset != (bfd_vma) -1)\n-    {\n-      value = (splt->output_section->vma\n-\t       + splt->output_offset\n-\t       + plt_offset);\n-      value -= PLT_THUMB_STUB_SIZE;\n-      *unresolved_reloc_p = FALSE;\n-    }\n-\n-  stub_type = arm_type_of_stub (info, input_section, rel,\n-\t\t\t\tst_type, &branch_type,\n-\t\t\t\thash, value, sym_sec,\n-\t\t\t\tinput_bfd, sym_name);\n-\n-  if (stub_type != arm_stub_none)\n-    {\n-      stub_entry = elf32_arm_get_stub_entry (input_section,\n-\t\t\t\t\t     sym_sec, h,\n-\t\t\t\t\t     rel, globals,\n-\t\t\t\t\t     stub_type);\n-\t    if (stub_entry != NULL)\n-\t      {\n-\t\tvalue = (stub_entry->stub_offset\n-\t\t\t + stub_entry->stub_sec->output_offset\n-\t\t\t + stub_entry->stub_sec->output_section->vma);\n-\t      }\n-\t  }\n-  return value;\n-}\n-\n /* Perform a relocation as part of a final link.  */\n \n static bfd_reloc_status_type\n@@ -12968,14 +12915,10 @@ elf32_arm_final_link_relocate (reloc_howto_type *\t    howto,\n \t    addend |= (immC << 1);\n \t    addend |= 1;\n \t    /* Sign extend.  */\n-\t    addend = (addend & 0x10000) ? addend - (1 << 17) : addend;\n+\t    signed_addend = (addend & 0x10000) ? addend - (1 << 17) : addend;\n \t  }\n \n-\tvalue = get_value_helper (plt_offset, splt, input_section, sym_sec, h,\n-\t\t\t\t  info, input_bfd, rel, sym_name, st_type,\n-\t\t\t\t  globals, unresolved_reloc_p);\n-\n-\trelocation  = value + addend;\n+\trelocation  = value + signed_addend;\n \trelocation -= (input_section->output_section->vma\n \t\t       + input_section->output_offset\n \t\t       + rel->r_offset);\n@@ -13014,13 +12957,10 @@ elf32_arm_final_link_relocate (reloc_howto_type *\t    howto,\n \t    addend |= 1;\n \t    /* Sign extend.  */\n \t    addend = (addend & 0x1000) ? addend - (1 << 13) : addend;\n+\t    signed_addend = addend;\n \t  }\n \n-\tvalue = get_value_helper (plt_offset, splt, input_section, sym_sec, h,\n-\t\t\t\t  info, input_bfd, rel, sym_name, st_type,\n-\t\t\t\t  globals, unresolved_reloc_p);\n-\n-\trelocation  = value + addend;\n+\trelocation  = value + signed_addend;\n \trelocation -= (input_section->output_section->vma\n \t\t       + input_section->output_offset\n \t\t       + rel->r_offset);\n@@ -13059,13 +12999,10 @@ elf32_arm_final_link_relocate (reloc_howto_type *\t    howto,\n \t    addend |= 1;\n \t    /* Sign extend.  */\n \t    addend = (addend & 0x40000) ? addend - (1 << 19) : addend;\n+\t    signed_addend = addend;\n \t  }\n \n-\tvalue = get_value_helper (plt_offset, splt, input_section, sym_sec, h,\n-\t\t\t\t  info, input_bfd, rel, sym_name, st_type,\n-\t\t\t\t  globals, unresolved_reloc_p);\n-\n-\trelocation  = value + addend;\n+\trelocation  = value + signed_addend;\n \trelocation -= (input_section->output_section->vma\n \t\t       + input_section->output_offset\n \t\t       + rel->r_offset);"
    },
    {
      "sha": "90fc3c3efab928da3324110caaad4e6270a5aa0b",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 12,
      "deletions": 0,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e6f65e7573a317ac4efff26fe0e49fe1b9e7a596/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e6f65e7573a317ac4efff26fe0e49fe1b9e7a596/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=e6f65e7573a317ac4efff26fe0e49fe1b9e7a596",
      "patch": "@@ -1,3 +1,15 @@\n+2019-05-21  Andre Vieira  <andre.simoesdiasvieira@arm.com>\n+\n+\t* testsuite/gas/arm/armv8_1-m-bf.d: Allow different branch target naming\n+\tconventions.\n+\t* testsuite/gas/arm/armv8_1-m-bfl.d: Likewise.\n+\t* testsuite/gas/arm/armv8_1-m-bfcsel.d: Likewise.\n+\t* testsuite/gas/arm/armv8_1-m-loloop.d: Likewise.\n+\t* testsuite/gas/arm/armv8_1-m-bf-rel.d: Skip for vxworks.\n+\t* testsuite/gas/arm/armv8_1-m-bf-rela.d: New test.\n+\t* testsuite/gas/arm/armv8_1-m-bfl-rel.d: Skip for vxworks.\n+\t* testsuite/gas/arm/armv8_1-m-bfl-rela.d: New test.\n+\n 2019-05-21  John Darrington <john@darrington.wattle.id.au>\n \n \t* expr.c (literal_prefix_dollar_hex): New variable."
    },
    {
      "sha": "bdb265c5a3aa8cc4f4d0112562249b559d468784",
      "filename": "gas/testsuite/gas/arm/armv8_1-m-bf-rel.d",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e6f65e7573a317ac4efff26fe0e49fe1b9e7a596/gas/testsuite/gas/arm/armv8_1-m-bf-rel.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e6f65e7573a317ac4efff26fe0e49fe1b9e7a596/gas/testsuite/gas/arm/armv8_1-m-bf-rel.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/arm/armv8_1-m-bf-rel.d?ref=e6f65e7573a317ac4efff26fe0e49fe1b9e7a596",
      "patch": "@@ -1,7 +1,7 @@\n-#name: Valid Armv8.1-M Mainline BF instruction with relocation\n+#name: Valid Armv8.1-M Mainline BF instruction with REL\n #as: -march=armv8.1-m.main\n #objdump: -dr --prefix-addresses --show-raw-insn\n-#skip: *-*-pe *-wince-* \n+#skip: *-*-pe *-wince-* *-vxworks\n \n .*: +file format .*arm.*\n "
    },
    {
      "sha": "d363d098523ae5ef54870f595b7aa8dd1bc7a226",
      "filename": "gas/testsuite/gas/arm/armv8_1-m-bf-rela.d",
      "status": "added",
      "additions": 12,
      "deletions": 0,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e6f65e7573a317ac4efff26fe0e49fe1b9e7a596/gas/testsuite/gas/arm/armv8_1-m-bf-rela.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e6f65e7573a317ac4efff26fe0e49fe1b9e7a596/gas/testsuite/gas/arm/armv8_1-m-bf-rela.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/arm/armv8_1-m-bf-rela.d?ref=e6f65e7573a317ac4efff26fe0e49fe1b9e7a596",
      "patch": "@@ -0,0 +1,12 @@\n+#name: Valid Armv8.1-M Mainline BF instruction with RELA\n+#as: -march=armv8.1-m.main\n+#objdump: -dr --prefix-addresses --show-raw-insn\n+#source:armv8_1-m-bf-rel.s\n+#noskip: *-vxworks\n+\n+.*: +file format .*arm.*\n+\n+Disassembly of section .text:\n+0[0-9a-f]+ <[^>]+> f0c0 e001 \tbf\t2, 00000004 <.target\\+0x4>\n+\t\t\t0: R_ARM_THM_BF16\t.target-0x4\n+"
    },
    {
      "sha": "99de065903bca1ffc407b043a0c9cd554c44a25e",
      "filename": "gas/testsuite/gas/arm/armv8_1-m-bf.d",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e6f65e7573a317ac4efff26fe0e49fe1b9e7a596/gas/testsuite/gas/arm/armv8_1-m-bf.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e6f65e7573a317ac4efff26fe0e49fe1b9e7a596/gas/testsuite/gas/arm/armv8_1-m-bf.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/arm/armv8_1-m-bf.d?ref=e6f65e7573a317ac4efff26fe0e49fe1b9e7a596",
      "patch": "@@ -5,9 +5,9 @@\n .*: +file format .*arm.*\n \n Disassembly of section .text:\n-0[0-9a-f]+ <[^>]+> f0c0 e803 \tbf\t2, 0000000a <foo\\+0xa>\n+0[0-9a-f]+ <[^>]+> f0c0 e803 \tbf\t2, 0000000a <.*>\n 0[0-9a-f]+ <[^>]+> 4609      \tmov\tr1, r1\n-0[0-9a-f]+ <[^>]+> f140 e801 \tbf\t4, 0000000c <foo\\+0xc>\n+0[0-9a-f]+ <[^>]+> f140 e801 \tbf\t4, 0000000c <.*>\n 0[0-9a-f]+ <[^>]+> 460a      \tmov\tr2, r1\n 0[0-9a-f]+ <[^>]+> 4613      \tmov\tr3, r2\n 0[0-9a-f]+ <[^>]+> 4614      \tmov\tr4, r2"
    },
    {
      "sha": "b66e9295f59e164533c2dd928fff5173ec6778be",
      "filename": "gas/testsuite/gas/arm/armv8_1-m-bfcsel.d",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e6f65e7573a317ac4efff26fe0e49fe1b9e7a596/gas/testsuite/gas/arm/armv8_1-m-bfcsel.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e6f65e7573a317ac4efff26fe0e49fe1b9e7a596/gas/testsuite/gas/arm/armv8_1-m-bfcsel.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/arm/armv8_1-m-bfcsel.d?ref=e6f65e7573a317ac4efff26fe0e49fe1b9e7a596",
      "patch": "@@ -5,8 +5,8 @@\n .*: +file format .*arm.*\n \n Disassembly of section .text:\n-0[0-9a-f]+ <[^>]+> f080 e803 \tbfcsel\t2, 0000000a <foo\\+0xa>, 4, eq\n+0[0-9a-f]+ <[^>]+> f080 e803 \tbfcsel\t2, 0000000a <.*>, 4, eq\n 0[0-9a-f]+ <[^>]+> 4609      \tmov\tr1, r1\n-0[0-9a-f]+ <[^>]+> d000      \tbeq.n\t0000000a <foo\\+0xa>\n+0[0-9a-f]+ <[^>]+> d000      \tbeq.n\t0000000a <.*>\n 0[0-9a-f]+ <[^>]+> 4613      \tmov\tr3, r2\n 0[0-9a-f]+ <[^>]+> 4614      \tmov\tr4, r2"
    },
    {
      "sha": "951074cff0962e5ee13ebf8219a0ab515df60f5f",
      "filename": "gas/testsuite/gas/arm/armv8_1-m-bfl-rel.d",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e6f65e7573a317ac4efff26fe0e49fe1b9e7a596/gas/testsuite/gas/arm/armv8_1-m-bfl-rel.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e6f65e7573a317ac4efff26fe0e49fe1b9e7a596/gas/testsuite/gas/arm/armv8_1-m-bfl-rel.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/arm/armv8_1-m-bfl-rel.d?ref=e6f65e7573a317ac4efff26fe0e49fe1b9e7a596",
      "patch": "@@ -1,7 +1,7 @@\n-#name: Valid Armv8.1-M Mainline BFL instruction with relocation\n+#name: Valid Armv8.1-M Mainline BFL instruction with REL\n #as: -march=armv8.1-m.main\n #objdump: -dr --prefix-addresses --show-raw-insn\n-#skip: *-*-pe *-wince-*\n+#skip: *-*-pe *-wince-* *-vxworks\n \n .*: +file format .*arm.*\n "
    },
    {
      "sha": "291d10b4af82d376a260d06ee6c434d6fe1b4f6a",
      "filename": "gas/testsuite/gas/arm/armv8_1-m-bfl-rela.d",
      "status": "added",
      "additions": 12,
      "deletions": 0,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e6f65e7573a317ac4efff26fe0e49fe1b9e7a596/gas/testsuite/gas/arm/armv8_1-m-bfl-rela.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e6f65e7573a317ac4efff26fe0e49fe1b9e7a596/gas/testsuite/gas/arm/armv8_1-m-bfl-rela.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/arm/armv8_1-m-bfl-rela.d?ref=e6f65e7573a317ac4efff26fe0e49fe1b9e7a596",
      "patch": "@@ -0,0 +1,12 @@\n+#name: Valid Armv8.1-M Mainline BFL instruction with RELA\n+#as: -march=armv8.1-m.main\n+#objdump: -dr --prefix-addresses --show-raw-insn\n+#source: armv8_1-m-bfl-rel.s\n+#noskip: *-vxworks\n+\n+.*: +file format .*arm.*\n+\n+Disassembly of section .text:\n+0[0-9a-f]+ <[^>]+> f080 c001 \tbfl\t2, 00000004 <.target\\+0x4>\n+\t\t\t0: R_ARM_THM_BF18\t.target-0x4\n+"
    },
    {
      "sha": "b28d0b111e362c130b5c17b57749f1170c845e50",
      "filename": "gas/testsuite/gas/arm/armv8_1-m-bfl.d",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e6f65e7573a317ac4efff26fe0e49fe1b9e7a596/gas/testsuite/gas/arm/armv8_1-m-bfl.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e6f65e7573a317ac4efff26fe0e49fe1b9e7a596/gas/testsuite/gas/arm/armv8_1-m-bfl.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/arm/armv8_1-m-bfl.d?ref=e6f65e7573a317ac4efff26fe0e49fe1b9e7a596",
      "patch": "@@ -5,9 +5,9 @@\n .*: +file format .*arm.*\n \n Disassembly of section .text:\n-0[0-9a-f]+ <[^>]+> f080 c803 \tbfl\t2, 0000000a <foo\\+0xa>\n+0[0-9a-f]+ <[^>]+> f080 c803 \tbfl\t2, 0000000a <.*>\n 0[0-9a-f]+ <[^>]+> 4608      \tmov\tr0, r1\n-0[0-9a-f]+ <[^>]+> f100 c801 \tbfl\t4, 0000000c <foo\\+0xc>\n+0[0-9a-f]+ <[^>]+> f100 c801 \tbfl\t4, 0000000c <.*>\n 0[0-9a-f]+ <[^>]+> 460a      \tmov\tr2, r1\n 0[0-9a-f]+ <[^>]+> 4613      \tmov\tr3, r2\n 0[0-9a-f]+ <[^>]+> 4614      \tmov\tr4, r2"
    },
    {
      "sha": "20506c692005d40e3ed328a0f27251e8663e27ed",
      "filename": "gas/testsuite/gas/arm/armv8_1-m-loloop.d",
      "status": "modified",
      "additions": 5,
      "deletions": 5,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e6f65e7573a317ac4efff26fe0e49fe1b9e7a596/gas/testsuite/gas/arm/armv8_1-m-loloop.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e6f65e7573a317ac4efff26fe0e49fe1b9e7a596/gas/testsuite/gas/arm/armv8_1-m-loloop.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/arm/armv8_1-m-loloop.d?ref=e6f65e7573a317ac4efff26fe0e49fe1b9e7a596",
      "patch": "@@ -6,12 +6,12 @@\n .*: +file format .*arm.*\n \n Disassembly of section .text:\n-0[0-9a-f]+ <[^>]+> f042 c00d \twls\tlr, r2, 0000001c <foo\\+0x1c>\n+0[0-9a-f]+ <[^>]+> f042 c00d \twls\tlr, r2, 0000001c <.*>\n 0[0-9a-f]+ <[^>]+> f042 e001 \tdls\tlr, r2\n 0[0-9a-f]+ <[^>]+> f04e e001 \tdls\tlr, lr\n-0[0-9a-f]+ <[^>]+> f00f c009 \tle\tlr, 00000000 <foo>\n-0[0-9a-f]+ <[^>]+> f02f c00b \tle\t00000000 <foo>\n-0[0-9a-f]+ <[^>]+> f00f c24b \tle\tlr, fffffb84 <foo\\+0xfffffb84>\n-0[0-9a-f]+ <[^>]+> f02f c007 \tle\t00000010 <foo\\+0x10>\n+0[0-9a-f]+ <[^>]+> f00f c009 \tle\tlr, 00000000 <.*>\n+0[0-9a-f]+ <[^>]+> f02f c00b \tle\t00000000 <.*>\n+0[0-9a-f]+ <[^>]+> f00f c24b \tle\tlr, fffffb84 <.*>\n+0[0-9a-f]+ <[^>]+> f02f c007 \tle\t00000010 <.*>\n 0[0-9a-f]+ <[^>]+> 4613      \tmov\tr3, r2\n #..."
    },
    {
      "sha": "05af39368206e04e23229463c7bb219788dd3bf0",
      "filename": "ld/ChangeLog",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e6f65e7573a317ac4efff26fe0e49fe1b9e7a596/ld/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e6f65e7573a317ac4efff26fe0e49fe1b9e7a596/ld/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/ChangeLog?ref=e6f65e7573a317ac4efff26fe0e49fe1b9e7a596",
      "patch": "@@ -1,3 +1,10 @@\n+2019-05-21  Andre Vieira  <andre.simoesdiasvieira@arm.com>\n+\n+\t* testsuite/ld-arm/arm-elf.exp: Add tests\n+\t* testsuite/ld-arm/bfs-0.s: New test.\n+\t* testsuite/ld-arm/bfs-1.s: New test.\n+\t* testsuite/ld-arm/branch-futures.d: New test.\n+\n 2019-05-21  Tamar Christina  <tamar.christina@arm.com>\n \n \tPR ld/24373"
    },
    {
      "sha": "7d3217f87a26303f776d2390cdab9a426ef3d3e9",
      "filename": "ld/testsuite/ld-arm/arm-elf.exp",
      "status": "modified",
      "additions": 9,
      "deletions": 0,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e6f65e7573a317ac4efff26fe0e49fe1b9e7a596/ld/testsuite/ld-arm/arm-elf.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e6f65e7573a317ac4efff26fe0e49fe1b9e7a596/ld/testsuite/ld-arm/arm-elf.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-arm/arm-elf.exp?ref=e6f65e7573a317ac4efff26fe0e49fe1b9e7a596",
      "patch": "@@ -42,6 +42,11 @@ if {[istarget \"arm-*-vxworks\"]} {\n \t \"\" {vxworks2.s}\n \t {{readelf --segments vxworks2-static.sd}}\n \t \"vxworks2\"}\n+\t{\"Branch future relocations for armv8.1-m.main target\"\n+\t  \"-static -T arm.ld\"\n+\t  \"\" \"\" {bfs-0.s bfs-1.s}\n+\t  {{objdump -dw branch-futures.d}}\n+\t \"branch-futures\"}\n     }\n     run_ld_link_tests $armvxworkstests\n     run_dump_test \"vxworks1-static\"\n@@ -260,6 +265,10 @@ set armelftests_common_3 {\n     {\"ADDS thumb1 relocations for armv7-m target\" \"-static -T arm.ld\" \"\" \"\" {thumb1-adds-armv7-m.s}\n      {{objdump -dw thumb1-adds.d}}\n      \"thumb1-adds\"}\n+    {\"Branch future relocations for armv8.1-m.main target\" \"-static -T arm.ld\"\n+      \"\" \"\" {bfs-0.s bfs-1.s}\n+      {{objdump -dw branch-futures.d}}\n+     \"branch-futures\"}\n }\n \n run_ld_link_tests $armelftests_common_1"
    },
    {
      "sha": "844417a56c6f35e56716ef929d3a81f09b7615b2",
      "filename": "ld/testsuite/ld-arm/bfs-0.s",
      "status": "added",
      "additions": 12,
      "deletions": 0,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e6f65e7573a317ac4efff26fe0e49fe1b9e7a596/ld/testsuite/ld-arm/bfs-0.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e6f65e7573a317ac4efff26fe0e49fe1b9e7a596/ld/testsuite/ld-arm/bfs-0.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-arm/bfs-0.s?ref=e6f65e7573a317ac4efff26fe0e49fe1b9e7a596",
      "patch": "@@ -0,0 +1,12 @@\n+.arch armv8.1-m.main\n+.text\n+.syntax unified\n+.thumb\n+future:\n+\tbf\tbranch, target\n+\tbfcsel\tbranch, target, else, eq\n+\tbfl\tbranch, target\n+\tadd\tr0, r0, r1\n+branch:\n+\tb\ttarget\n+else:"
    },
    {
      "sha": "2b72819598edf1509d12cf8b01e5d2028bddda38",
      "filename": "ld/testsuite/ld-arm/bfs-1.s",
      "status": "added",
      "additions": 9,
      "deletions": 0,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e6f65e7573a317ac4efff26fe0e49fe1b9e7a596/ld/testsuite/ld-arm/bfs-1.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e6f65e7573a317ac4efff26fe0e49fe1b9e7a596/ld/testsuite/ld-arm/bfs-1.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-arm/bfs-1.s?ref=e6f65e7573a317ac4efff26fe0e49fe1b9e7a596",
      "patch": "@@ -0,0 +1,9 @@\n+.arch armv8.1-m.main\n+.text\n+.syntax unified\n+.thumb\n+.global _start\n+.global target\n+_start:\n+target:\n+\tadd\tr0, r0, r1"
    },
    {
      "sha": "427ecce62a4d2f22b3b64fe03435802845c567cf",
      "filename": "ld/testsuite/ld-arm/branch-futures.d",
      "status": "added",
      "additions": 17,
      "deletions": 0,
      "changes": 17,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e6f65e7573a317ac4efff26fe0e49fe1b9e7a596/ld/testsuite/ld-arm/branch-futures.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e6f65e7573a317ac4efff26fe0e49fe1b9e7a596/ld/testsuite/ld-arm/branch-futures.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-arm/branch-futures.d?ref=e6f65e7573a317ac4efff26fe0e49fe1b9e7a596",
      "patch": "@@ -0,0 +1,17 @@\n+\n+.*:     file format elf32-.*\n+\n+\n+Disassembly of section .text:\n+\n+0[0-9a-f]+ <future>:\n+    [0-9a-f]+:\tf2c0 e807 \tbf\ta, 8012 <_start>\n+    [0-9a-f]+:\tf182 e805 \tbfcsel\t6, 8012 <_start>, a, eq\n+    [0-9a-f]+:\tf080 c803 \tbfl\t2, 8012 <_start>\n+    [0-9a-f]+:\t4408      \tadd\tr0, r1\n+\n+0[0-9a-f]+ <branch>:\n+    [0-9a-f]+:\tf000 b800 \tb.w\t8012 <_start>\n+\n+0[0-9a-f]+ <_start>:\n+    [0-9a-f]+:\t4408      \tadd\tr0, r1"
    }
  ]
}