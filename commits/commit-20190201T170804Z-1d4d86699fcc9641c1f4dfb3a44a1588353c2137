{
  "sha": "1d4d86699fcc9641c1f4dfb3a44a1588353c2137",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MWQ0ZDg2Njk5ZmNjOTY0MWMxZjRkZmIzYTQ0YTE1ODgzNTNjMjEzNw==",
  "commit": {
    "author": {
      "name": "John Darrington",
      "email": "john@darrington.wattle.id.au",
      "date": "2019-02-01T16:42:54Z"
    },
    "committer": {
      "name": "John Darrington",
      "email": "john@darrington.wattle.id.au",
      "date": "2019-02-01T17:08:04Z"
    },
    "message": "S12Z: GAS: Issue warning if TFR/EXG have identical source and destination.\n\nIt is permissible for the source and destination operands of TFR and EXG to be\nthe same register.  However it is a pointless instruction and anyone writing it\nhas probably made a mistake.  This change emits a warning if such an instruction\nis encountered.\n\ngas/\n\t* config/tc-s12z.c (tfr): Emit warning if operands are the same.\n\t* testsuite/gas/s12z/exg.d: New test case.\n\t* testsuite/gas/s12z/exg.l: New file.",
    "tree": {
      "sha": "6366c97db7f65ae53f3a84501c98a95f42b471f7",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/6366c97db7f65ae53f3a84501c98a95f42b471f7"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/1d4d86699fcc9641c1f4dfb3a44a1588353c2137",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/1d4d86699fcc9641c1f4dfb3a44a1588353c2137",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/1d4d86699fcc9641c1f4dfb3a44a1588353c2137",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/1d4d86699fcc9641c1f4dfb3a44a1588353c2137/comments",
  "author": null,
  "committer": null,
  "parents": [
    {
      "sha": "8b3a46f93c2b9ee839f806713afe7f88f0482214",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/8b3a46f93c2b9ee839f806713afe7f88f0482214",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/8b3a46f93c2b9ee839f806713afe7f88f0482214"
    }
  ],
  "stats": {
    "total": 11,
    "additions": 11,
    "deletions": 0
  },
  "files": [
    {
      "sha": "e168d7280add216aac62c0d2b6c8e356863ba80c",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/1d4d86699fcc9641c1f4dfb3a44a1588353c2137/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/1d4d86699fcc9641c1f4dfb3a44a1588353c2137/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=1d4d86699fcc9641c1f4dfb3a44a1588353c2137",
      "patch": "@@ -1,3 +1,9 @@\n+2019-01-31  John Darrington <john@darrington.wattle.id.au>\n+\n+\t* config/tc-s12z.c (tfr): Emit warning if operands are the same.\n+\t* testsuite/gas/s12z/exg.d: New test case.\n+\t* testsuite/gas/s12z/exg.l: New file.\n+\n 2019-01-31  John Darrington <john@darrington.wattle.id.au>\n \n \t* config/tc-s12z.c (lex_opr): Add a parameter to indicate whether"
    },
    {
      "sha": "a0131490ba66327deef367938bd3411e5244fef6",
      "filename": "gas/config/tc-s12z.c",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/1d4d86699fcc9641c1f4dfb3a44a1588353c2137/gas/config/tc-s12z.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/1d4d86699fcc9641c1f4dfb3a44a1588353c2137/gas/config/tc-s12z.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/config/tc-s12z.c?ref=1d4d86699fcc9641c1f4dfb3a44a1588353c2137",
      "patch": "@@ -1328,6 +1328,8 @@ tfr (const struct instruction *insn)\n        && (registers[reg2].bytes <= registers[reg1].bytes))\n       as_warn (_(\"Source register for %s is no larger than the destination register\"),\n                insn->name);\n+  else if (reg1 == reg2)\n+    as_warn (_(\"The destination and source registers are identical\"));\n \n   char *f = s12z_new_insn (1 + insn->page);\n   if (insn->page == 2)"
    },
    {
      "sha": "e9af154e82dfc093584a38c25badbfc2c5ed8caa",
      "filename": "gas/testsuite/gas/s12z/exg.d",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/1d4d86699fcc9641c1f4dfb3a44a1588353c2137/gas/testsuite/gas/s12z/exg.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/1d4d86699fcc9641c1f4dfb3a44a1588353c2137/gas/testsuite/gas/s12z/exg.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/s12z/exg.d?ref=1d4d86699fcc9641c1f4dfb3a44a1588353c2137",
      "patch": "@@ -1,6 +1,7 @@\n #objdump: -d\n #name:    \n #source:  exg.s\n+#warning_output: exg.l\n \n \n .*:     file format elf32-s12z"
    },
    {
      "sha": "018d8f90dfc82917a3cf069b92ea3619db5b2842",
      "filename": "gas/testsuite/gas/s12z/exg.l",
      "status": "added",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/1d4d86699fcc9641c1f4dfb3a44a1588353c2137/gas/testsuite/gas/s12z/exg.l",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/1d4d86699fcc9641c1f4dfb3a44a1588353c2137/gas/testsuite/gas/s12z/exg.l",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/s12z/exg.l?ref=1d4d86699fcc9641c1f4dfb3a44a1588353c2137",
      "patch": "@@ -0,0 +1,2 @@\n+.*: Assembler messages:\n+.*:2: Warning: The destination and source registers are identical"
    }
  ]
}