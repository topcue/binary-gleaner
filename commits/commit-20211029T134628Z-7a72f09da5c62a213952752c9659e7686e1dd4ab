{
  "sha": "7a72f09da5c62a213952752c9659e7686e1dd4ab",
  "node_id": "C_kwDOANOeidoAKDdhNzJmMDlkYTVjNjJhMjEzOTUyNzUyYzk2NTllNzY4NmUxZGQ0YWI",
  "commit": {
    "author": {
      "name": "Tom Tromey",
      "email": "tromey@adacore.com",
      "date": "2021-10-20T20:25:21Z"
    },
    "committer": {
      "name": "Tom Tromey",
      "email": "tromey@adacore.com",
      "date": "2021-10-29T13:46:28Z"
    },
    "message": "Remove ada_value_print_inner\n\nI noticed that the only caller of ada_value_print_inner is\nvalprint.c:do_val_print (via ada_language::value_print_inner), meaning\nthat the try/catch logic in this function is redundant.  This patch\nremoves the wrapper function.\n\nRegression tested on x86-64 Fedora 34.",
    "tree": {
      "sha": "88853f0b09b6b7ba7564f82bd9d5b3dbdaef380f",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/88853f0b09b6b7ba7564f82bd9d5b3dbdaef380f"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/7a72f09da5c62a213952752c9659e7686e1dd4ab",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/7a72f09da5c62a213952752c9659e7686e1dd4ab",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/7a72f09da5c62a213952752c9659e7686e1dd4ab",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/7a72f09da5c62a213952752c9659e7686e1dd4ab/comments",
  "author": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "52429bbd71af5f14f8f3f5a962a2457a93c6d171",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/52429bbd71af5f14f8f3f5a962a2457a93c6d171",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/52429bbd71af5f14f8f3f5a962a2457a93c6d171"
    }
  ],
  "stats": {
    "total": 29,
    "additions": 5,
    "deletions": 24
  },
  "files": [
    {
      "sha": "6be16ee17ec2f7f869c084fdf7b7163f481f08a5",
      "filename": "gdb/ada-valprint.c",
      "status": "modified",
      "additions": 5,
      "deletions": 24,
      "changes": 29,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7a72f09da5c62a213952752c9659e7686e1dd4ab/gdb/ada-valprint.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7a72f09da5c62a213952752c9659e7686e1dd4ab/gdb/ada-valprint.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ada-valprint.c?ref=7a72f09da5c62a213952752c9659e7686e1dd4ab",
      "patch": "@@ -978,12 +978,12 @@ ada_val_print_ref (struct type *type, const gdb_byte *valaddr,\n }\n \n /* See the comment on ada_value_print.  This function differs in that\n-   it does not catch evaluation errors (leaving that to\n-   ada_value_print).  */\n+   it does not catch evaluation errors (leaving that to its\n+   caller).  */\n \n-static void\n-ada_value_print_1 (struct value *val, struct ui_file *stream, int recurse,\n-\t\t   const struct value_print_options *options)\n+void\n+ada_value_print_inner (struct value *val, struct ui_file *stream, int recurse,\n+\t\t       const struct value_print_options *options)\n {\n   struct type *type = ada_check_typedef (value_type (val));\n \n@@ -1071,25 +1071,6 @@ ada_value_print_1 (struct value *val, struct ui_file *stream, int recurse,\n     }\n }\n \n-/* See ada-lang.h.  */\n-\n-void\n-ada_value_print_inner (struct value *val, struct ui_file *stream,\n-\t\t       int recurse,\n-\t\t       const struct value_print_options *options)\n-{\n-  try\n-    {\n-      ada_value_print_1 (val, stream, recurse, options);\n-    }\n-  catch (const gdb_exception_error &except)\n-    {\n-      fprintf_styled (stream, metadata_style.style (),\n-\t\t      _(\"<error reading variable: %s>\"),\n-\t\t      except.what ());\n-    }\n-}\n-\n void\n ada_value_print (struct value *val0, struct ui_file *stream,\n \t\t const struct value_print_options *options)"
    }
  ]
}