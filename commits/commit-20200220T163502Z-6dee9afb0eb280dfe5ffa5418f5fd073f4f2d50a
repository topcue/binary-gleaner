{
  "sha": "6dee9afb0eb280dfe5ffa5418f5fd073f4f2d50a",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NmRlZTlhZmIwZWIyODBkZmU1ZmZhNTQxOGY1ZmQwNzNmNGYyZDUwYQ==",
  "commit": {
    "author": {
      "name": "Tankut Baris Aktemur",
      "email": "tankut.baris.aktemur@intel.com",
      "date": "2020-02-17T15:11:51Z"
    },
    "committer": {
      "name": "Tankut Baris Aktemur",
      "email": "tankut.baris.aktemur@intel.com",
      "date": "2020-02-20T16:35:02Z"
    },
    "message": "gdbserver: turn target op 'post_create_inferior' into a method\n\ngdbserver/ChangeLog:\n2020-02-20  Tankut Baris Aktemur  <tankut.baris.aktemur@intel.com>\n\n\tTurn process_stratum_target's post_create_inferior op into a method\n\tof process_target.\n\n\t* target.h (struct process_stratum_target): Remove the target op.\n\t(class process_target): Add the target op.\n\t(target_post_create_inferior): Update the macro.\n\t* target.cc (process_target::post_create_inferior): Define.\n\n\tUpdate the derived classes and callers below.\n\n\t* linux-low.cc (linux_target_ops): Update.\n\t(linux_post_create_inferior): Turn into ...\n\t(linux_process_target::post_create_inferior): ... this.\n\t* linux-low.h (class linux_process_target): Update.\n\t* lynx-low.cc (lynx_target_ops): Update.\n\t* nto-low.cc (nto_target_ops): Update.\n\t* win32-low.cc (win32_target_ops): Update.",
    "tree": {
      "sha": "44c7ee6e1cbdf360b86155b5a7f13d2521bab152",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/44c7ee6e1cbdf360b86155b5a7f13d2521bab152"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/6dee9afb0eb280dfe5ffa5418f5fd073f4f2d50a",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/6dee9afb0eb280dfe5ffa5418f5fd073f4f2d50a",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/6dee9afb0eb280dfe5ffa5418f5fd073f4f2d50a",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/6dee9afb0eb280dfe5ffa5418f5fd073f4f2d50a/comments",
  "author": {
    "login": "barisaktemur",
    "id": 55686642,
    "node_id": "MDQ6VXNlcjU1Njg2NjQy",
    "avatar_url": "https://avatars.githubusercontent.com/u/55686642?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/barisaktemur",
    "html_url": "https://github.com/barisaktemur",
    "followers_url": "https://api.github.com/users/barisaktemur/followers",
    "following_url": "https://api.github.com/users/barisaktemur/following{/other_user}",
    "gists_url": "https://api.github.com/users/barisaktemur/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/barisaktemur/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/barisaktemur/subscriptions",
    "organizations_url": "https://api.github.com/users/barisaktemur/orgs",
    "repos_url": "https://api.github.com/users/barisaktemur/repos",
    "events_url": "https://api.github.com/users/barisaktemur/events{/privacy}",
    "received_events_url": "https://api.github.com/users/barisaktemur/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "barisaktemur",
    "id": 55686642,
    "node_id": "MDQ6VXNlcjU1Njg2NjQy",
    "avatar_url": "https://avatars.githubusercontent.com/u/55686642?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/barisaktemur",
    "html_url": "https://github.com/barisaktemur",
    "followers_url": "https://api.github.com/users/barisaktemur/followers",
    "following_url": "https://api.github.com/users/barisaktemur/following{/other_user}",
    "gists_url": "https://api.github.com/users/barisaktemur/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/barisaktemur/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/barisaktemur/subscriptions",
    "organizations_url": "https://api.github.com/users/barisaktemur/orgs",
    "repos_url": "https://api.github.com/users/barisaktemur/repos",
    "events_url": "https://api.github.com/users/barisaktemur/events{/privacy}",
    "received_events_url": "https://api.github.com/users/barisaktemur/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "15295543f94cc5951e1d2802d97b228777e6828e",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/15295543f94cc5951e1d2802d97b228777e6828e",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/15295543f94cc5951e1d2802d97b228777e6828e"
    }
  ],
  "stats": {
    "total": 53,
    "additions": 38,
    "deletions": 15
  },
  "files": [
    {
      "sha": "29584074efa031465d2444e5020e4f0ff2c49ddb",
      "filename": "gdbserver/ChangeLog",
      "status": "modified",
      "additions": 20,
      "deletions": 0,
      "changes": 20,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6dee9afb0eb280dfe5ffa5418f5fd073f4f2d50a/gdbserver/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6dee9afb0eb280dfe5ffa5418f5fd073f4f2d50a/gdbserver/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/ChangeLog?ref=6dee9afb0eb280dfe5ffa5418f5fd073f4f2d50a",
      "patch": "@@ -1,3 +1,23 @@\n+2020-02-20  Tankut Baris Aktemur  <tankut.baris.aktemur@intel.com>\n+\n+\tTurn process_stratum_target's post_create_inferior op into a method\n+\tof process_target.\n+\n+\t* target.h (struct process_stratum_target): Remove the target op.\n+\t(class process_target): Add the target op.\n+\t(target_post_create_inferior): Update the macro.\n+\t* target.cc (process_target::post_create_inferior): Define.\n+\n+\tUpdate the derived classes and callers below.\n+\n+\t* linux-low.cc (linux_target_ops): Update.\n+\t(linux_post_create_inferior): Turn into ...\n+\t(linux_process_target::post_create_inferior): ... this.\n+\t* linux-low.h (class linux_process_target): Update.\n+\t* lynx-low.cc (lynx_target_ops): Update.\n+\t* nto-low.cc (nto_target_ops): Update.\n+\t* win32-low.cc (win32_target_ops): Update.\n+\n 2020-02-20  Tankut Baris Aktemur  <tankut.baris.aktemur@intel.com>\n \n \tTurn process_stratum_target's create_inferior op into a method of"
    },
    {
      "sha": "2e3daa2733fc7826defddedf587a3e55b4b109ee",
      "filename": "gdbserver/linux-low.cc",
      "status": "modified",
      "additions": 2,
      "deletions": 3,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6dee9afb0eb280dfe5ffa5418f5fd073f4f2d50a/gdbserver/linux-low.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6dee9afb0eb280dfe5ffa5418f5fd073f4f2d50a/gdbserver/linux-low.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/linux-low.cc?ref=6dee9afb0eb280dfe5ffa5418f5fd073f4f2d50a",
      "patch": "@@ -1029,8 +1029,8 @@ linux_process_target::create_inferior (const char *program,\n \n /* Implement the post_create_inferior target_ops method.  */\n \n-static void\n-linux_post_create_inferior (void)\n+void\n+linux_process_target::post_create_inferior ()\n {\n   struct lwp_info *lwp = get_thread_lwp (current_thread);\n \n@@ -7359,7 +7359,6 @@ linux_get_hwcap2 (int wordsize)\n static linux_process_target the_linux_target;\n \n static process_stratum_target linux_target_ops = {\n-  linux_post_create_inferior,\n   linux_attach,\n   linux_kill,\n   linux_detach,"
    },
    {
      "sha": "870a0d4d8631970d39c7de775563996a52877340",
      "filename": "gdbserver/linux-low.h",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6dee9afb0eb280dfe5ffa5418f5fd073f4f2d50a/gdbserver/linux-low.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6dee9afb0eb280dfe5ffa5418f5fd073f4f2d50a/gdbserver/linux-low.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/linux-low.h?ref=6dee9afb0eb280dfe5ffa5418f5fd073f4f2d50a",
      "patch": "@@ -272,6 +272,8 @@ class linux_process_target : public process_target\n \n   int create_inferior (const char *program,\n \t\t       const std::vector<char *> &program_args) override;\n+\n+  void post_create_inferior () override;\n };\n \n #define get_thread_lwp(thr) ((struct lwp_info *) (thread_target_data (thr)))"
    },
    {
      "sha": "d9f96de70f6e46635b42f27f53335f64cf1d2b18",
      "filename": "gdbserver/lynx-low.cc",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6dee9afb0eb280dfe5ffa5418f5fd073f4f2d50a/gdbserver/lynx-low.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6dee9afb0eb280dfe5ffa5418f5fd073f4f2d50a/gdbserver/lynx-low.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/lynx-low.cc?ref=6dee9afb0eb280dfe5ffa5418f5fd073f4f2d50a",
      "patch": "@@ -726,7 +726,6 @@ static lynx_process_target the_lynx_target;\n /* The LynxOS target_ops vector.  */\n \n static process_stratum_target lynx_target_ops = {\n-  NULL,  /* post_create_inferior */\n   lynx_attach,\n   lynx_kill,\n   lynx_detach,"
    },
    {
      "sha": "c295be732dfbf64ff94b6a7ebe987f83b468aa08",
      "filename": "gdbserver/nto-low.cc",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6dee9afb0eb280dfe5ffa5418f5fd073f4f2d50a/gdbserver/nto-low.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6dee9afb0eb280dfe5ffa5418f5fd073f4f2d50a/gdbserver/nto-low.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/nto-low.cc?ref=6dee9afb0eb280dfe5ffa5418f5fd073f4f2d50a",
      "patch": "@@ -935,7 +935,6 @@ nto_sw_breakpoint_from_kind (int kind, int *size)\n static nto_process_target the_nto_target;\n \n static process_stratum_target nto_target_ops = {\n-  NULL,  /* post_create_inferior */\n   nto_attach,\n   nto_kill,\n   nto_detach,"
    },
    {
      "sha": "81092e81ea4443e3f995d73e7286f3ceeb02c836",
      "filename": "gdbserver/target.cc",
      "status": "modified",
      "additions": 9,
      "deletions": 0,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6dee9afb0eb280dfe5ffa5418f5fd073f4f2d50a/gdbserver/target.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6dee9afb0eb280dfe5ffa5418f5fd073f4f2d50a/gdbserver/target.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/target.cc?ref=6dee9afb0eb280dfe5ffa5418f5fd073f4f2d50a",
      "patch": "@@ -393,3 +393,12 @@ target_terminal::info (const char *arg, int from_tty)\n {\n   /* Placeholder.  */\n }\n+\n+/* Default implementations of target ops.\n+   See target.h for definitions.  */\n+\n+void\n+process_target::post_create_inferior ()\n+{\n+  /* Nop.  */\n+}"
    },
    {
      "sha": "87036e83846693fe4cd62a1ba9ea2078798e1176",
      "filename": "gdbserver/target.h",
      "status": "modified",
      "additions": 5,
      "deletions": 9,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6dee9afb0eb280dfe5ffa5418f5fd073f4f2d50a/gdbserver/target.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6dee9afb0eb280dfe5ffa5418f5fd073f4f2d50a/gdbserver/target.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/target.h?ref=6dee9afb0eb280dfe5ffa5418f5fd073f4f2d50a",
      "patch": "@@ -70,10 +70,6 @@ class process_target;\n    shared code.  */\n struct process_stratum_target\n {\n-  /* Do additional setup after a new process is created, including\n-     exec-wrapper completion.  */\n-  void (*post_create_inferior) (void);\n-\n   /* Attach to a running process.\n \n      PID is the process ID to attach to, specified by the user\n@@ -489,6 +485,10 @@ class process_target\n      process with the process list.  */\n   virtual int create_inferior (const char *program,\n \t\t\t       const std::vector<char *> &program_args) = 0;\n+\n+  /* Do additional setup after a new process is created, including\n+     exec-wrapper completion.  */\n+  virtual void post_create_inferior ();\n };\n \n extern process_stratum_target *the_target;\n@@ -499,11 +499,7 @@ void set_target_ops (process_stratum_target *);\n   the_target->pt->create_inferior (program, program_args)\n \n #define target_post_create_inferior()\t\t\t \\\n-  do\t\t\t\t\t\t\t \\\n-    {\t\t\t\t\t\t\t \\\n-      if (the_target->post_create_inferior != NULL)\t \\\n-\t(*the_target->post_create_inferior) ();\t\t \\\n-    } while (0)\n+  the_target->pt->post_create_inferior ()\n \n #define myattach(pid) \\\n   (*the_target->attach) (pid)"
    },
    {
      "sha": "a9b1bfb2fd6bb751ae2f2356ee6db4a2b20684c0",
      "filename": "gdbserver/win32-low.cc",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6dee9afb0eb280dfe5ffa5418f5fd073f4f2d50a/gdbserver/win32-low.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6dee9afb0eb280dfe5ffa5418f5fd073f4f2d50a/gdbserver/win32-low.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/win32-low.cc?ref=6dee9afb0eb280dfe5ffa5418f5fd073f4f2d50a",
      "patch": "@@ -1839,7 +1839,6 @@ win32_sw_breakpoint_from_kind (int kind, int *size)\n static win32_process_target the_win32_target;\n \n static process_stratum_target win32_target_ops = {\n-  NULL,  /* post_create_inferior */\n   win32_attach,\n   win32_kill,\n   win32_detach,"
    }
  ]
}