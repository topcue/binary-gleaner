{
  "sha": "d3b0ab8b36319f4232367b046ecfc0c656a177ad",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ZDNiMGFiOGIzNjMxOWY0MjMyMzY3YjA0NmVjZmMwYzY1NmExNzdhZA==",
  "commit": {
    "author": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-04-19T01:13:34Z"
    },
    "committer": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-04-19T01:16:03Z"
    },
    "message": "sim: d10v: fix build warnings\n\nThe printf fix uses our PRIxTA for our sim address type.\n\nThen cast away the const (since the underlying code safely treats it\nas such) even if it's ugly.\n\nFinally touch up the argv iterator pointer to match the new func arg.\n\nWith this tidied up, we can delete the SIM_AC_OPTION_WARNINGS(no) call\nto get the default common behavior where -Werror is enabled.",
    "tree": {
      "sha": "d61954ba1616acfd45c3cd5f7c987142465d3692",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/d61954ba1616acfd45c3cd5f7c987142465d3692"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/d3b0ab8b36319f4232367b046ecfc0c656a177ad",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/d3b0ab8b36319f4232367b046ecfc0c656a177ad",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/d3b0ab8b36319f4232367b046ecfc0c656a177ad",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/d3b0ab8b36319f4232367b046ecfc0c656a177ad/comments",
  "author": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "3912a8db685f5e19a883d02d66900cdf10a200f0",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/3912a8db685f5e19a883d02d66900cdf10a200f0",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/3912a8db685f5e19a883d02d66900cdf10a200f0"
    }
  ],
  "stats": {
    "total": 22,
    "additions": 17,
    "deletions": 5
  },
  "files": [
    {
      "sha": "0d5e8771d3e5c6004892107d3bc3034bcb34adc9",
      "filename": "sim/d10v/ChangeLog",
      "status": "modified",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/d3b0ab8b36319f4232367b046ecfc0c656a177ad/sim/d10v/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/d3b0ab8b36319f4232367b046ecfc0c656a177ad/sim/d10v/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/d10v/ChangeLog?ref=d3b0ab8b36319f4232367b046ecfc0c656a177ad",
      "patch": "@@ -1,3 +1,11 @@\n+2021-04-18  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* interp.c (xfer_mem): Use PRIxTA for printf format.\n+\t(sim_write): Cast buffer to (void *).\n+\t(sim_open): Add const to p.\n+\t* configure.ac (SIM_AC_OPTION_WARNINGS): Delete call.\n+\t* configure: Regenerate.\n+\n 2021-04-12  Mike Frysinger  <vapier@gentoo.org>\n \n \t* interp.c (sim_open): Delete 3rd arg to sim_cpu_alloc_all."
    },
    {
      "sha": "ce7530dafa90bcaa5ae088a79148d708cf94b83e",
      "filename": "sim/d10v/configure",
      "status": "modified",
      "additions": 4,
      "deletions": 1,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/d3b0ab8b36319f4232367b046ecfc0c656a177ad/sim/d10v/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/d3b0ab8b36319f4232367b046ecfc0c656a177ad/sim/d10v/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/d10v/configure?ref=d3b0ab8b36319f4232367b046ecfc0c656a177ad",
      "patch": "@@ -11978,6 +11978,7 @@ fi\n fi\n \n \n+\n # Check whether --enable-werror was given.\n if test \"${enable_werror+set}\" = set; then :\n   enableval=$enable_werror; case \"${enableval}\" in\n@@ -11994,6 +11995,9 @@ if test \"${GCC}\" = yes -a -z \"${ERROR_ON_WARNING}\" ; then\n fi\n \n WERROR_CFLAGS=\"\"\n+  if test \"${ERROR_ON_WARNING}\" = yes ; then\n+    WERROR_CFLAGS=\"-Werror\"\n+  fi\n \n build_warnings=\"-Wall -Wdeclaration-after-statement -Wpointer-arith \\\n -Wpointer-sign \\\n@@ -12075,7 +12079,6 @@ $as_echo \"${WARN_CFLAGS} ${WERROR_CFLAGS}\" >&6; }\n fi\n \n \n-\n cgen_breaks=\"\"\n if grep CGEN_MAINT $srcdir/Makefile.in >/dev/null; then\n cgen_breaks=\"break cgen_rtx_error\";"
    },
    {
      "sha": "811452094557dd9c23dc89ed712d572542f0e4f9",
      "filename": "sim/d10v/configure.ac",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/d3b0ab8b36319f4232367b046ecfc0c656a177ad/sim/d10v/configure.ac",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/d3b0ab8b36319f4232367b046ecfc0c656a177ad/sim/d10v/configure.ac",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/d10v/configure.ac?ref=d3b0ab8b36319f4232367b046ecfc0c656a177ad",
      "patch": "@@ -6,6 +6,5 @@ SIM_AC_COMMON\n \n SIM_AC_OPTION_ENDIAN\n SIM_AC_OPTION_ALIGNMENT(STRICT_ALIGNMENT,STRICT_ALIGNMENT)\n-SIM_AC_OPTION_WARNINGS(no)\n \n SIM_AC_OUTPUT"
    },
    {
      "sha": "90c171eda398b118f29d05994c04f02121784b60",
      "filename": "sim/d10v/interp.c",
      "status": "modified",
      "additions": 5,
      "deletions": 3,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/d3b0ab8b36319f4232367b046ecfc0c656a177ad/sim/d10v/interp.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/d3b0ab8b36319f4232367b046ecfc0c656a177ad/sim/d10v/interp.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/d10v/interp.c?ref=d3b0ab8b36319f4232367b046ecfc0c656a177ad",
      "patch": "@@ -678,7 +678,7 @@ xfer_mem (SIM_DESC sd,\n     {\n       sim_io_printf\n \t(sd,\n-\t \"sim_%s %d bytes: 0x%08lx (%s) -> 0x%08lx (%s) -> 0x%08lx (%s)\\n\",\n+\t \"sim_%s %d bytes: 0x%08\" PRIxTA \" (%s) -> 0x%08lx (%s) -> 0x%08lx (%s)\\n\",\n \t write_p ? \"write\" : \"read\",\n \t phys_size, virt, last_from,\n \t phys, last_to,\n@@ -703,7 +703,9 @@ int\n sim_write (SIM_DESC sd, SIM_ADDR addr, const unsigned char *buffer, int size)\n {\n   /* FIXME: this should be performing a virtual transfer */\n-  return xfer_mem (sd, addr, buffer, size, 1);\n+  /* FIXME: We cast the const away, but it's safe because xfer_mem only reads\n+     when write_p==1.  This is still ugly.  */\n+  return xfer_mem (sd, addr, (void *) buffer, size, 1);\n }\n \n int\n@@ -745,7 +747,7 @@ sim_open (SIM_OPEN_KIND kind, host_callback *cb,\n   struct simops *s;\n   struct hash_entry *h;\n   static int init_p = 0;\n-  char **p;\n+  char * const *p;\n   int i;\n   SIM_DESC sd = sim_state_alloc (kind, cb);\n   SIM_ASSERT (STATE_MAGIC (sd) == SIM_MAGIC_NUMBER);"
    }
  ]
}