{
  "sha": "0f3f71676a8971e0376d7d99b383660f06ff4d95",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MGYzZjcxNjc2YTg5NzFlMDM3NmQ3ZDk5YjM4MzY2MGYwNmZmNGQ5NQ==",
  "commit": {
    "author": {
      "name": "Claudiu Zissulescu",
      "email": "claziss@gmail.com",
      "date": "2019-07-24T13:52:23Z"
    },
    "committer": {
      "name": "Claudiu Zissulescu",
      "email": "claziss@gmail.com",
      "date": "2019-07-24T13:52:23Z"
    },
    "message": "[ARC] Update disassembler opcode selection\n\nNew instruction are added, and some of them are overlapping. Update\ndisassembler to correctly recognize them. Introduce nps400 option.\n\nopcodes/\nxxxx-xx-xx  Claudiu Zissulescu  <claziss@synopsys.com>\n\n\t* arc-dis.c (skip_this_opcode): Check also for 0x07 major opcodes,\n\tand MPY class instructions.\n\t(parse_option): Add nps400 option.\n\t(print_arc_disassembler_options): Add nps400 info.\n\ngas/\nxxxx-xx-xx  Claudiu Zissulescu  <claziss@synopsys.com>\n\n\t* testsuite/gas/arc/nps400-6.d: Update test.",
    "tree": {
      "sha": "4b8d9e9bb46f32326a21903e3ac469cb91ce389d",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/4b8d9e9bb46f32326a21903e3ac469cb91ce389d"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/0f3f71676a8971e0376d7d99b383660f06ff4d95",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/0f3f71676a8971e0376d7d99b383660f06ff4d95",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/0f3f71676a8971e0376d7d99b383660f06ff4d95",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/0f3f71676a8971e0376d7d99b383660f06ff4d95/comments",
  "author": {
    "login": "claziss",
    "id": 2761368,
    "node_id": "MDQ6VXNlcjI3NjEzNjg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2761368?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/claziss",
    "html_url": "https://github.com/claziss",
    "followers_url": "https://api.github.com/users/claziss/followers",
    "following_url": "https://api.github.com/users/claziss/following{/other_user}",
    "gists_url": "https://api.github.com/users/claziss/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/claziss/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/claziss/subscriptions",
    "organizations_url": "https://api.github.com/users/claziss/orgs",
    "repos_url": "https://api.github.com/users/claziss/repos",
    "events_url": "https://api.github.com/users/claziss/events{/privacy}",
    "received_events_url": "https://api.github.com/users/claziss/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "claziss",
    "id": 2761368,
    "node_id": "MDQ6VXNlcjI3NjEzNjg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2761368?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/claziss",
    "html_url": "https://github.com/claziss",
    "followers_url": "https://api.github.com/users/claziss/followers",
    "following_url": "https://api.github.com/users/claziss/following{/other_user}",
    "gists_url": "https://api.github.com/users/claziss/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/claziss/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/claziss/subscriptions",
    "organizations_url": "https://api.github.com/users/claziss/orgs",
    "repos_url": "https://api.github.com/users/claziss/repos",
    "events_url": "https://api.github.com/users/claziss/events{/privacy}",
    "received_events_url": "https://api.github.com/users/claziss/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "7e126ba31ab6536b1dd779e483b72f47d3a76742",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/7e126ba31ab6536b1dd779e483b72f47d3a76742",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/7e126ba31ab6536b1dd779e483b72f47d3a76742"
    }
  ],
  "stats": {
    "total": 37,
    "additions": 35,
    "deletions": 2
  },
  "files": [
    {
      "sha": "ab519fa40350d8a4cc2de19c964dfc00fb6a8e84",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/0f3f71676a8971e0376d7d99b383660f06ff4d95/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/0f3f71676a8971e0376d7d99b383660f06ff4d95/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=0f3f71676a8971e0376d7d99b383660f06ff4d95",
      "patch": "@@ -1,3 +1,7 @@\n+2019-07-24  Claudiu Zissulescu  <claziss@synopsys.com>\n+\n+\t* testsuite/gas/arc/nps400-6.d: Update test.\n+\n 2019-07-24  Alan Modra  <amodra@gmail.com>\n \n \t* config/obj-elf.c (obj_elf_section, obj_elf_type): Set has_gnu_osabi."
    },
    {
      "sha": "95344082bfde5010d90fe672288466b947dbf1f6",
      "filename": "gas/testsuite/gas/arc/nps400-6.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/0f3f71676a8971e0376d7d99b383660f06ff4d95/gas/testsuite/gas/arc/nps400-6.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/0f3f71676a8971e0376d7d99b383660f06ff4d95/gas/testsuite/gas/arc/nps400-6.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/arc/nps400-6.d?ref=0f3f71676a8971e0376d7d99b383660f06ff4d95",
      "patch": "@@ -1,5 +1,5 @@\n #as: -mcpu=arc700 -mnps400\n-#objdump: -dr\n+#objdump: -dr -Mnps400\n \n .*: +file format .*arc.*\n "
    },
    {
      "sha": "ba0be867046cdf9c198f992fb00c6d9597b5c2c2",
      "filename": "opcodes/ChangeLog",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/0f3f71676a8971e0376d7d99b383660f06ff4d95/opcodes/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/0f3f71676a8971e0376d7d99b383660f06ff4d95/opcodes/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/ChangeLog?ref=0f3f71676a8971e0376d7d99b383660f06ff4d95",
      "patch": "@@ -1,3 +1,10 @@\n+2019-07-24  Claudiu Zissulescu  <claziss@synopsys.com>\n+\n+\t* arc-dis.c (skip_this_opcode): Check also for 0x07 major opcodes,\n+\tand MPY class instructions.\n+\t(parse_option): Add nps400 option.\n+\t(print_arc_disassembler_options): Add nps400 info.\n+\n 2019-07-24  Claudiu Zissulescu  <claziss@synopsys.com>\n \n \t* arc-ext-tbl.h (bspeek): Remove it, added to main table."
    },
    {
      "sha": "8207c05519320d315ac20fec1aa5202985a0878b",
      "filename": "opcodes/arc-dis.c",
      "status": "modified",
      "additions": 23,
      "deletions": 1,
      "changes": 24,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/0f3f71676a8971e0376d7d99b383660f06ff4d95/opcodes/arc-dis.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/0f3f71676a8971e0376d7d99b383660f06ff4d95/opcodes/arc-dis.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/arc-dis.c?ref=0f3f71676a8971e0376d7d99b383660f06ff4d95",
      "patch": "@@ -181,7 +181,9 @@ skip_this_opcode (const struct arc_opcode *opcode)\n \n   /* Check opcode for major 0x06, return if it is not in.  */\n   if (arc_opcode_len (opcode) == 4\n-      && OPCODE_32BIT_INSN (opcode->opcode) != 0x06)\n+      && (OPCODE_32BIT_INSN (opcode->opcode) != 0x06\n+\t  /* Can be an APEX extensions.  */\n+\t  && OPCODE_32BIT_INSN (opcode->opcode) != 0x07))\n     return FALSE;\n \n   /* or not a known truble class.  */\n@@ -190,6 +192,7 @@ skip_this_opcode (const struct arc_opcode *opcode)\n     case FLOAT:\n     case DSP:\n     case ARITH:\n+    case MPY:\n       break;\n     default:\n       return FALSE;\n@@ -764,6 +767,23 @@ parse_option (const char *option)\n   else if (disassembler_options_cmp (option, \"fpuda\") == 0)\n     add_to_decodelist (FLOAT, DPA);\n \n+  else if (disassembler_options_cmp (option, \"nps400\") == 0)\n+    {\n+      add_to_decodelist (ACL, NPS400);\n+      add_to_decodelist (ARITH, NPS400);\n+      add_to_decodelist (BITOP, NPS400);\n+      add_to_decodelist (BMU, NPS400);\n+      add_to_decodelist (CONTROL, NPS400);\n+      add_to_decodelist (DMA, NPS400);\n+      add_to_decodelist (DPI, NPS400);\n+      add_to_decodelist (MEMORY, NPS400);\n+      add_to_decodelist (MISC, NPS400);\n+      add_to_decodelist (NET, NPS400);\n+      add_to_decodelist (PMU, NPS400);\n+      add_to_decodelist (PROTOCOL_DECODE, NPS400);\n+      add_to_decodelist (ULTRAIP, NPS400);\n+    }\n+\n   else if (disassembler_options_cmp (option, \"fpus\") == 0)\n     {\n       add_to_decodelist (FLOAT, SP);\n@@ -1411,6 +1431,8 @@ with -M switch (multiple options should be separated by commas):\\n\"));\n   fprintf (stream, _(\"\\\n   fpud            Recognize double precision FPU instructions.\\n\"));\n   fprintf (stream, _(\"\\\n+  nps400          Recognize NPS400 instructions.\\n\"));\n+  fprintf (stream, _(\"\\\n   hex             Use only hexadecimal number to print immediates.\\n\"));\n }\n "
    }
  ]
}