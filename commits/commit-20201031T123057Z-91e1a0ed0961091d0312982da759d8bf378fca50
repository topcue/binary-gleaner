{
  "sha": "91e1a0ed0961091d0312982da759d8bf378fca50",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6OTFlMWEwZWQwOTYxMDkxZDAzMTI5ODJkYTc1OWQ4YmYzNzhmY2E1MA==",
  "commit": {
    "author": {
      "name": "Simon Marchi",
      "email": "simon.marchi@polymtl.ca",
      "date": "2020-10-31T12:30:57Z"
    },
    "committer": {
      "name": "Simon Marchi",
      "email": "simon.marchi@polymtl.ca",
      "date": "2020-10-31T12:30:57Z"
    },
    "message": "gdb, gdbserver, gdbsupport: use AC_CANONICAL_{BUILD,HOST,TARGET} instead of AC_CANONICAL_SYSTEM\n\n`autoreconf -Wall` notes that AC_CANONICAL_SYSTEM is obsolete:\n\n    configure.ac:36: warning: The macro `AC_CANONICAL_SYSTEM' is obsolete.\n\nReplace it by AC_CANONICAL_BUILD, AC_CANONICAL_HOST and\nAC_CANONICAL_TARGET in configure.ac files in gdb, gdbserver and\ngdbsupport.  All three macros may not be needed everywhere, but it is\nhard to completely audit the configure files to see which are required,\nso I think it's better (and that there's no downside) to just call all\nthree.\n\ngdb/ChangeLog:\n\n\t* configure.ac: Use AC_CANONICAL_{BUILD,HOST,TARGET} instead of\n\tAC_CANONICAL_SYSTEM.\n\t* configure: Re-generate.\n\ngdbserver/ChangeLog:\n\n\t* configure.ac: Use AC_CANONICAL_{BUILD,HOST,TARGET} instead of\n\tAC_CANONICAL_SYSTEM.\n\t* configure: Re-generate.\n\ngdbsupport/ChangeLog:\n\n\t* configure.ac: Use AC_CANONICAL_{BUILD,HOST,TARGET} instead of\n\tAC_CANONICAL_SYSTEM.\n\t* configure: Re-generate.\n\nChange-Id: Ifd0e21f1e478634e768b5de1b8ee06a7f690d863",
    "tree": {
      "sha": "f975c28df89bbf2bee9524eb46bfa79113ae2cfc",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/f975c28df89bbf2bee9524eb46bfa79113ae2cfc"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/91e1a0ed0961091d0312982da759d8bf378fca50",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/91e1a0ed0961091d0312982da759d8bf378fca50",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/91e1a0ed0961091d0312982da759d8bf378fca50",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/91e1a0ed0961091d0312982da759d8bf378fca50/comments",
  "author": {
    "login": "simark",
    "id": 1758287,
    "node_id": "MDQ6VXNlcjE3NTgyODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1758287?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/simark",
    "html_url": "https://github.com/simark",
    "followers_url": "https://api.github.com/users/simark/followers",
    "following_url": "https://api.github.com/users/simark/following{/other_user}",
    "gists_url": "https://api.github.com/users/simark/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/simark/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/simark/subscriptions",
    "organizations_url": "https://api.github.com/users/simark/orgs",
    "repos_url": "https://api.github.com/users/simark/repos",
    "events_url": "https://api.github.com/users/simark/events{/privacy}",
    "received_events_url": "https://api.github.com/users/simark/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "simark",
    "id": 1758287,
    "node_id": "MDQ6VXNlcjE3NTgyODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1758287?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/simark",
    "html_url": "https://github.com/simark",
    "followers_url": "https://api.github.com/users/simark/followers",
    "following_url": "https://api.github.com/users/simark/following{/other_user}",
    "gists_url": "https://api.github.com/users/simark/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/simark/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/simark/subscriptions",
    "organizations_url": "https://api.github.com/users/simark/orgs",
    "repos_url": "https://api.github.com/users/simark/repos",
    "events_url": "https://api.github.com/users/simark/events{/privacy}",
    "received_events_url": "https://api.github.com/users/simark/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "b5e72fb54a432e5d2b572ce605dd04629491a30f",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/b5e72fb54a432e5d2b572ce605dd04629491a30f",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/b5e72fb54a432e5d2b572ce605dd04629491a30f"
    }
  ],
  "stats": {
    "total": 70,
    "additions": 66,
    "deletions": 4
  },
  "files": [
    {
      "sha": "03497060e5bc9b7177437e697a9129ed940d88cd",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/91e1a0ed0961091d0312982da759d8bf378fca50/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/91e1a0ed0961091d0312982da759d8bf378fca50/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=91e1a0ed0961091d0312982da759d8bf378fca50",
      "patch": "@@ -1,3 +1,9 @@\n+2020-10-31  Simon Marchi  <simon.marchi@polymtl.ca>\n+\n+\t* configure.ac: Use AC_CANONICAL_{BUILD,HOST,TARGET} instead of\n+\tAC_CANONICAL_SYSTEM.\n+\t* configure: Re-generate.\n+\n 2020-10-30  Simon Marchi  <simon.marchi@efficios.com>\n \n \t* infrun.h (displaced_debug_printf): New macro.  Replace"
    },
    {
      "sha": "d943424ca5bb175df967c989e8cbd212f685381b",
      "filename": "gdb/configure",
      "status": "modified",
      "additions": 9,
      "deletions": 0,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/91e1a0ed0961091d0312982da759d8bf378fca50/gdb/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/91e1a0ed0961091d0312982da759d8bf378fca50/gdb/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/configure?ref=91e1a0ed0961091d0312982da759d8bf378fca50",
      "patch": "@@ -5249,6 +5249,15 @@ ac_configure=\"$SHELL $ac_aux_dir/configure\"  # Please don't use this var.\n \n \n \n+# Set build, build_cpu, build_vendor and build_os.\n+\n+\n+# Set host, host_cpu, host_vendor, and host_os.\n+\n+\n+# Set target, target_cpu, target_vendor, and target_os.\n+\n+\n test \"$program_prefix\" != NONE &&\n   program_transform_name=\"s&^&$program_prefix&;$program_transform_name\"\n # Use a double $ so make ignores it."
    },
    {
      "sha": "1d34d08ee431e7db40f9ef74d5f5b27a6ace30c1",
      "filename": "gdb/configure.ac",
      "status": "modified",
      "additions": 10,
      "deletions": 1,
      "changes": 11,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/91e1a0ed0961091d0312982da759d8bf378fca50/gdb/configure.ac",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/91e1a0ed0961091d0312982da759d8bf378fca50/gdb/configure.ac",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/configure.ac?ref=91e1a0ed0961091d0312982da759d8bf378fca50",
      "patch": "@@ -33,7 +33,16 @@ AM_PROG_CC_STDC\n AM_PROG_INSTALL_STRIP\n \n AC_CONFIG_AUX_DIR(..)\n-AC_CANONICAL_SYSTEM\n+\n+# Set build, build_cpu, build_vendor and build_os.\n+AC_CANONICAL_BUILD\n+\n+# Set host, host_cpu, host_vendor, and host_os.\n+AC_CANONICAL_HOST\n+\n+# Set target, target_cpu, target_vendor, and target_os.\n+AC_CANONICAL_TARGET\n+\n AC_ARG_PROGRAM\n \n # We require a C++11 compiler.  Check if one is available, and if"
    },
    {
      "sha": "f9b2b5ee84ba82d8bfcd82b54afb247faf2bd5dd",
      "filename": "gdbserver/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/91e1a0ed0961091d0312982da759d8bf378fca50/gdbserver/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/91e1a0ed0961091d0312982da759d8bf378fca50/gdbserver/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/ChangeLog?ref=91e1a0ed0961091d0312982da759d8bf378fca50",
      "patch": "@@ -1,3 +1,9 @@\n+2020-10-31  Simon Marchi  <simon.marchi@polymtl.ca>\n+\n+\t* configure.ac: Use AC_CANONICAL_{BUILD,HOST,TARGET} instead of\n+\tAC_CANONICAL_SYSTEM.\n+\t* configure: Re-generate.\n+\n 2020-10-26  Pedro Alves  <pedro@palves.net>\n \n \t* netbsd-low.cc (netbsd_waitpid, netbsd_process_target::kill)"
    },
    {
      "sha": "4b7ef288d06516e63b2998bb2f3fccb2d312fc6f",
      "filename": "gdbserver/configure",
      "status": "modified",
      "additions": 5,
      "deletions": 1,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/91e1a0ed0961091d0312982da759d8bf378fca50/gdbserver/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/91e1a0ed0961091d0312982da759d8bf378fca50/gdbserver/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/configure?ref=91e1a0ed0961091d0312982da759d8bf378fca50",
      "patch": "@@ -4588,6 +4588,7 @@ fi\n INSTALL_STRIP_PROGRAM=\"\\$(install_sh) -c -s\"\n \n \n+# Set build, build_cpu, build_vendor and build_os.\n # Make sure we can run config.sub.\n $SHELL \"$ac_aux_dir/config.sub\" sun4 >/dev/null 2>&1 ||\n   as_fn_error $? \"cannot run $SHELL $ac_aux_dir/config.sub\" \"$LINENO\" 5\n@@ -4626,6 +4627,8 @@ IFS=$ac_save_IFS\n case $build_os in *\\ *) build_os=`echo \"$build_os\" | sed 's/ /-/g'`;; esac\n \n \n+\n+# Set host, host_cpu, host_vendor, and host_os.\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking host system type\" >&5\n $as_echo_n \"checking host system type... \" >&6; }\n if ${ac_cv_host+:} false; then :\n@@ -4659,6 +4662,8 @@ IFS=$ac_save_IFS\n case $host_os in *\\ *) host_os=`echo \"$host_os\" | sed 's/ /-/g'`;; esac\n \n \n+\n+# Set target, target_cpu, target_vendor, and target_os.\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking target system type\" >&5\n $as_echo_n \"checking target system type... \" >&6; }\n if ${ac_cv_target+:} false; then :\n@@ -4699,7 +4704,6 @@ test -n \"$target_alias\" &&\n     NONENONEs,x,x, &&\n   program_prefix=${target_alias}-\n \n-\n # Find a good install program.  We prefer a C program (faster),\n # so one script is as good as another.  But avoid the broken or\n # incompatible versions:"
    },
    {
      "sha": "c4748703dcda005faeaab8d744cd204a221a36f2",
      "filename": "gdbserver/configure.ac",
      "status": "modified",
      "additions": 8,
      "deletions": 1,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/91e1a0ed0961091d0312982da759d8bf378fca50/gdbserver/configure.ac",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/91e1a0ed0961091d0312982da759d8bf378fca50/gdbserver/configure.ac",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/configure.ac?ref=91e1a0ed0961091d0312982da759d8bf378fca50",
      "patch": "@@ -29,7 +29,14 @@ AC_GNU_SOURCE\n AC_SYS_LARGEFILE\n AM_PROG_INSTALL_STRIP\n \n-AC_CANONICAL_SYSTEM\n+# Set build, build_cpu, build_vendor and build_os.\n+AC_CANONICAL_BUILD\n+\n+# Set host, host_cpu, host_vendor, and host_os.\n+AC_CANONICAL_HOST\n+\n+# Set target, target_cpu, target_vendor, and target_os.\n+AC_CANONICAL_TARGET\n \n AC_PROG_INSTALL\n AC_CHECK_TOOL(AR, ar)"
    },
    {
      "sha": "8eae8bb2f5d13e9fb0bbe1c79b00451483ff53a7",
      "filename": "gdbsupport/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/91e1a0ed0961091d0312982da759d8bf378fca50/gdbsupport/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/91e1a0ed0961091d0312982da759d8bf378fca50/gdbsupport/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbsupport/ChangeLog?ref=91e1a0ed0961091d0312982da759d8bf378fca50",
      "patch": "@@ -1,3 +1,9 @@\n+2020-10-31  Simon Marchi  <simon.marchi@polymtl.ca>\n+\n+\t* configure.ac: Use AC_CANONICAL_{BUILD,HOST,TARGET} instead of\n+\tAC_CANONICAL_SYSTEM.\n+\t* configure: Re-generate.\n+\n 2020-10-26  Pedro Alves  <pedro@palves.net>\n \n \t* eintr.h (handle_eintr): Replace Ret template parameter with"
    },
    {
      "sha": "cce6f51701b491b34be2f9866377180c0f7edc9f",
      "filename": "gdbsupport/configure",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/91e1a0ed0961091d0312982da759d8bf378fca50/gdbsupport/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/91e1a0ed0961091d0312982da759d8bf378fca50/gdbsupport/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbsupport/configure?ref=91e1a0ed0961091d0312982da759d8bf378fca50",
      "patch": "@@ -2728,6 +2728,8 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n \n ac_config_headers=\"$ac_config_headers config.h:config.in\"\n \n+\n+# Set build, build_cpu, build_vendor and build_os.\n ac_aux_dir=\n for ac_dir in \"$srcdir\" \"$srcdir/..\" \"$srcdir/../..\"; do\n   if test -f \"$ac_dir/install-sh\"; then\n@@ -2795,6 +2797,8 @@ IFS=$ac_save_IFS\n case $build_os in *\\ *) build_os=`echo \"$build_os\" | sed 's/ /-/g'`;; esac\n \n \n+\n+# Set host, host_cpu, host_vendor, and host_os.\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking host system type\" >&5\n $as_echo_n \"checking host system type... \" >&6; }\n if ${ac_cv_host+:} false; then :\n@@ -2828,6 +2832,8 @@ IFS=$ac_save_IFS\n case $host_os in *\\ *) host_os=`echo \"$host_os\" | sed 's/ /-/g'`;; esac\n \n \n+\n+# Set target, target_cpu, target_vendor, and target_os.\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking target system type\" >&5\n $as_echo_n \"checking target system type... \" >&6; }\n if ${ac_cv_target+:} false; then :"
    },
    {
      "sha": "a62a130fe9965ba944d098b530b02f1476449f02",
      "filename": "gdbsupport/configure.ac",
      "status": "modified",
      "additions": 10,
      "deletions": 1,
      "changes": 11,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/91e1a0ed0961091d0312982da759d8bf378fca50/gdbsupport/configure.ac",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/91e1a0ed0961091d0312982da759d8bf378fca50/gdbsupport/configure.ac",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbsupport/configure.ac?ref=91e1a0ed0961091d0312982da759d8bf378fca50",
      "patch": "@@ -19,7 +19,16 @@ dnl Process this file with autoconf to produce a configure script.\n AC_INIT([gdbsupport], 1.0)\n AC_CONFIG_SRCDIR(common-defs.h)\n AC_CONFIG_HEADER(config.h:config.in)\n-AC_CANONICAL_SYSTEM\n+\n+# Set build, build_cpu, build_vendor and build_os.\n+AC_CANONICAL_BUILD\n+\n+# Set host, host_cpu, host_vendor, and host_os.\n+AC_CANONICAL_HOST\n+\n+# Set target, target_cpu, target_vendor, and target_os.\n+AC_CANONICAL_TARGET\n+\n AM_MAINTAINER_MODE\n AC_CONFIG_AUX_DIR(..)\n AM_INIT_AUTOMAKE"
    }
  ]
}