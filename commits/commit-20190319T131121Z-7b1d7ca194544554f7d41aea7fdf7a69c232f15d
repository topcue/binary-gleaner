{
  "sha": "7b1d7ca194544554f7d41aea7fdf7a69c232f15d",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6N2IxZDdjYTE5NDU0NDU1NGY3ZDQxYWVhN2ZkZjdhNjljMjMyZjE1ZA==",
  "commit": {
    "author": {
      "name": "H.J. Lu",
      "email": "hjl.tools@gmail.com",
      "date": "2019-03-19T13:10:21Z"
    },
    "committer": {
      "name": "H.J. Lu",
      "email": "hjl.tools@gmail.com",
      "date": "2019-03-19T13:11:21Z"
    },
    "message": "x86: Correct EVEX to 128-bit EVEX optimization\n\nSince not all AVX512F processors support AVX512VL, we can optimize\n512-bit EVEX to 128-bit EVEX encoding for upper 16 vector registers\nonly when AVX512VL is enabled explicitly at command-line or via\n\".arch .avx512vl\" directive.\n\n\tPR gas/24352\n\t* config/tc-i386.c (optimize_encoding): Check only\n\tcpu_arch_flags.bitfield.cpuavx512vl.\n\t* testsuite/gas/i386/i386.exp: Run x86-64-optimize-2b.\n\t* testsuite/gas/i386/x86-64-optimize-2.d: Revert the last\n\tchange.\n\t* testsuite/gas/i386/x86-64-optimize-2b.d: New file.\n\t* testsuite/gas/i386/x86-64-optimize-2b.s: Likewise.",
    "tree": {
      "sha": "efa88167376872739faa0b065fda004b0da59ae2",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/efa88167376872739faa0b065fda004b0da59ae2"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/7b1d7ca194544554f7d41aea7fdf7a69c232f15d",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/7b1d7ca194544554f7d41aea7fdf7a69c232f15d",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/7b1d7ca194544554f7d41aea7fdf7a69c232f15d",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/7b1d7ca194544554f7d41aea7fdf7a69c232f15d/comments",
  "author": {
    "login": "hjl-tools",
    "id": 1072356,
    "node_id": "MDQ6VXNlcjEwNzIzNTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hjl-tools",
    "html_url": "https://github.com/hjl-tools",
    "followers_url": "https://api.github.com/users/hjl-tools/followers",
    "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}",
    "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions",
    "organizations_url": "https://api.github.com/users/hjl-tools/orgs",
    "repos_url": "https://api.github.com/users/hjl-tools/repos",
    "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hjl-tools/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "hjl-tools",
    "id": 1072356,
    "node_id": "MDQ6VXNlcjEwNzIzNTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hjl-tools",
    "html_url": "https://github.com/hjl-tools",
    "followers_url": "https://api.github.com/users/hjl-tools/followers",
    "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}",
    "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions",
    "organizations_url": "https://api.github.com/users/hjl-tools/orgs",
    "repos_url": "https://api.github.com/users/hjl-tools/repos",
    "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hjl-tools/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "89199bb5a027d21c56dafd2cd898487118949ecf",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/89199bb5a027d21c56dafd2cd898487118949ecf",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/89199bb5a027d21c56dafd2cd898487118949ecf"
    }
  ],
  "stats": {
    "total": 233,
    "additions": 200,
    "deletions": 33
  },
  "files": [
    {
      "sha": "b246751a227baa6c58cd51cd7135f1b12801173f",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 11,
      "deletions": 0,
      "changes": 11,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7b1d7ca194544554f7d41aea7fdf7a69c232f15d/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7b1d7ca194544554f7d41aea7fdf7a69c232f15d/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=7b1d7ca194544554f7d41aea7fdf7a69c232f15d",
      "patch": "@@ -1,3 +1,14 @@\n+2019-03-19  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\tPR gas/24352\n+\t* config/tc-i386.c (optimize_encoding): Check only\n+\tcpu_arch_flags.bitfield.cpuavx512vl.\n+\t* testsuite/gas/i386/i386.exp: Run x86-64-optimize-2b.\n+\t* testsuite/gas/i386/x86-64-optimize-2.d: Revert the last\n+\tchange.\n+\t* testsuite/gas/i386/x86-64-optimize-2b.d: New file.\n+\t* testsuite/gas/i386/x86-64-optimize-2b.s: Likewise.\n+\n 2019-03-19  H.J. Lu  <hongjiu.lu@intel.com>\n \n \tPR gas/24359"
    },
    {
      "sha": "3885728de7b9d25567c4cac477fe25f796476fa7",
      "filename": "gas/config/tc-i386.c",
      "status": "modified",
      "additions": 2,
      "deletions": 9,
      "changes": 11,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7b1d7ca194544554f7d41aea7fdf7a69c232f15d/gas/config/tc-i386.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7b1d7ca194544554f7d41aea7fdf7a69c232f15d/gas/config/tc-i386.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/config/tc-i386.c?ref=7b1d7ca194544554f7d41aea7fdf7a69c232f15d",
      "patch": "@@ -3985,9 +3985,6 @@ optimize_encoding (void)\n \t\t   && !i.rounding\n \t\t   && is_evex_encoding (&i.tm)\n \t\t   && (i.vec_encoding != vex_encoding_evex\n-\t\t       || cpu_arch_flags.bitfield.cpuavx\n-\t\t       || cpu_arch_isa_flags.bitfield.cpuavx\n-\t\t       || cpu_arch_flags.bitfield.cpuavx512vl\n \t\t       || cpu_arch_isa_flags.bitfield.cpuavx512vl\n \t\t       || i.tm.cpu_flags.bitfield.cpuavx512vl\n \t\t       || (i.tm.operand_types[2].bitfield.zmmword\n@@ -4045,17 +4042,13 @@ optimize_encoding (void)\n        */\n       if (is_evex_encoding (&i.tm))\n \t{\n-\t  if (i.vec_encoding != vex_encoding_evex\n-\t      && (cpu_arch_flags.bitfield.cpuavx\n-\t\t  || cpu_arch_isa_flags.bitfield.cpuavx))\n+\t  if (i.vec_encoding != vex_encoding_evex)\n \t    {\n \t      i.tm.opcode_modifier.vex = VEX128;\n \t      i.tm.opcode_modifier.vexw = VEXW0;\n \t      i.tm.opcode_modifier.evex = 0;\n \t    }\n-\t  else if (optimize > 1\n-\t\t   && (cpu_arch_flags.bitfield.cpuavx512vl\n-\t\t       || cpu_arch_isa_flags.bitfield.cpuavx512vl))\n+\t  else if (optimize > 1)\n \t    i.tm.opcode_modifier.evex = EVEX128;\n \t  else\n \t    return;"
    },
    {
      "sha": "afb6116d96afb0886cbec71b3fb68ee3f1ac82ec",
      "filename": "gas/testsuite/gas/i386/i386.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7b1d7ca194544554f7d41aea7fdf7a69c232f15d/gas/testsuite/gas/i386/i386.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7b1d7ca194544554f7d41aea7fdf7a69c232f15d/gas/testsuite/gas/i386/i386.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/i386.exp?ref=7b1d7ca194544554f7d41aea7fdf7a69c232f15d",
      "patch": "@@ -983,6 +983,7 @@ if [expr ([istarget \"i*86-*-*\"] || [istarget \"x86_64-*-*\"]) && [gas_64_check]] t\n     run_dump_test \"x86-64-optimize-1\"\n     run_dump_test \"x86-64-optimize-2\"\n     run_dump_test \"x86-64-optimize-2a\"\n+    run_dump_test \"x86-64-optimize-2b\"\n     run_dump_test \"x86-64-optimize-3\"\n     run_dump_test \"x86-64-optimize-4\"\n     run_dump_test \"x86-64-optimize-5\""
    },
    {
      "sha": "067df076f7a4f4db09fafd3e6a7762c5580f4ffe",
      "filename": "gas/testsuite/gas/i386/x86-64-optimize-2.d",
      "status": "modified",
      "additions": 24,
      "deletions": 24,
      "changes": 48,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7b1d7ca194544554f7d41aea7fdf7a69c232f15d/gas/testsuite/gas/i386/x86-64-optimize-2.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7b1d7ca194544554f7d41aea7fdf7a69c232f15d/gas/testsuite/gas/i386/x86-64-optimize-2.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/x86-64-optimize-2.d?ref=7b1d7ca194544554f7d41aea7fdf7a69c232f15d",
      "patch": "@@ -12,99 +12,99 @@ Disassembly of section .text:\n  +[a-f0-9]+:\tc5 71 55 f9          \tvandnpd %xmm1,%xmm1,%xmm15\n  +[a-f0-9]+:\tc5 71 55 f9          \tvandnpd %xmm1,%xmm1,%xmm15\n  +[a-f0-9]+:\tc5 71 55 f9          \tvandnpd %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\t62 e1 f5 48 55 c1    \tvandnpd %zmm1,%zmm1,%zmm16\n  +[a-f0-9]+:\t62 e1 f5 08 55 c1    \tvandnpd %xmm1,%xmm1,%xmm16\n- +[a-f0-9]+:\t62 e1 f5 08 55 c1    \tvandnpd %xmm1,%xmm1,%xmm16\n- +[a-f0-9]+:\t62 b1 f5 00 55 c9    \tvandnpd %xmm17,%xmm17,%xmm1\n+ +[a-f0-9]+:\t62 b1 f5 40 55 c9    \tvandnpd %zmm17,%zmm17,%zmm1\n  +[a-f0-9]+:\t62 b1 f5 00 55 c9    \tvandnpd %xmm17,%xmm17,%xmm1\n  +[a-f0-9]+:\t62 71 74 4f 55 f9    \tvandnps %zmm1,%zmm1,%zmm15\\{%k7\\}\n  +[a-f0-9]+:\tc5 70 55 f9          \tvandnps %xmm1,%xmm1,%xmm15\n  +[a-f0-9]+:\tc5 70 55 f9          \tvandnps %xmm1,%xmm1,%xmm15\n  +[a-f0-9]+:\tc5 70 55 f9          \tvandnps %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\t62 e1 74 48 55 c1    \tvandnps %zmm1,%zmm1,%zmm16\n  +[a-f0-9]+:\t62 e1 74 08 55 c1    \tvandnps %xmm1,%xmm1,%xmm16\n- +[a-f0-9]+:\t62 e1 74 08 55 c1    \tvandnps %xmm1,%xmm1,%xmm16\n- +[a-f0-9]+:\t62 b1 74 00 55 c9    \tvandnps %xmm17,%xmm17,%xmm1\n+ +[a-f0-9]+:\t62 b1 74 40 55 c9    \tvandnps %zmm17,%zmm17,%zmm1\n  +[a-f0-9]+:\t62 b1 74 00 55 c9    \tvandnps %xmm17,%xmm17,%xmm1\n  +[a-f0-9]+:\tc5 71 df f9          \tvpandn %xmm1,%xmm1,%xmm15\n  +[a-f0-9]+:\t62 71 75 4f df f9    \tvpandnd %zmm1,%zmm1,%zmm15\\{%k7\\}\n  +[a-f0-9]+:\tc5 71 df f9          \tvpandn %xmm1,%xmm1,%xmm15\n  +[a-f0-9]+:\tc5 71 df f9          \tvpandn %xmm1,%xmm1,%xmm15\n  +[a-f0-9]+:\tc5 71 df f9          \tvpandn %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\t62 e1 75 48 df c1    \tvpandnd %zmm1,%zmm1,%zmm16\n  +[a-f0-9]+:\t62 e1 75 08 df c1    \tvpandnd %xmm1,%xmm1,%xmm16\n- +[a-f0-9]+:\t62 e1 75 08 df c1    \tvpandnd %xmm1,%xmm1,%xmm16\n- +[a-f0-9]+:\t62 b1 75 00 df c9    \tvpandnd %xmm17,%xmm17,%xmm1\n+ +[a-f0-9]+:\t62 b1 75 40 df c9    \tvpandnd %zmm17,%zmm17,%zmm1\n  +[a-f0-9]+:\t62 b1 75 00 df c9    \tvpandnd %xmm17,%xmm17,%xmm1\n  +[a-f0-9]+:\t62 71 f5 4f df f9    \tvpandnq %zmm1,%zmm1,%zmm15\\{%k7\\}\n  +[a-f0-9]+:\tc5 71 df f9          \tvpandn %xmm1,%xmm1,%xmm15\n  +[a-f0-9]+:\tc5 71 df f9          \tvpandn %xmm1,%xmm1,%xmm15\n  +[a-f0-9]+:\tc5 71 df f9          \tvpandn %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\t62 e1 f5 48 df c1    \tvpandnq %zmm1,%zmm1,%zmm16\n  +[a-f0-9]+:\t62 e1 f5 08 df c1    \tvpandnq %xmm1,%xmm1,%xmm16\n- +[a-f0-9]+:\t62 e1 f5 08 df c1    \tvpandnq %xmm1,%xmm1,%xmm16\n- +[a-f0-9]+:\t62 b1 f5 00 df c9    \tvpandnq %xmm17,%xmm17,%xmm1\n+ +[a-f0-9]+:\t62 b1 f5 40 df c9    \tvpandnq %zmm17,%zmm17,%zmm1\n  +[a-f0-9]+:\t62 b1 f5 00 df c9    \tvpandnq %xmm17,%xmm17,%xmm1\n  +[a-f0-9]+:\t62 71 f5 4f 57 f9    \tvxorpd %zmm1,%zmm1,%zmm15\\{%k7\\}\n  +[a-f0-9]+:\tc5 71 57 f9          \tvxorpd %xmm1,%xmm1,%xmm15\n  +[a-f0-9]+:\tc5 71 57 f9          \tvxorpd %xmm1,%xmm1,%xmm15\n  +[a-f0-9]+:\tc5 71 57 f9          \tvxorpd %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\t62 e1 f5 48 57 c1    \tvxorpd %zmm1,%zmm1,%zmm16\n  +[a-f0-9]+:\t62 e1 f5 08 57 c1    \tvxorpd %xmm1,%xmm1,%xmm16\n- +[a-f0-9]+:\t62 e1 f5 08 57 c1    \tvxorpd %xmm1,%xmm1,%xmm16\n- +[a-f0-9]+:\t62 b1 f5 00 57 c9    \tvxorpd %xmm17,%xmm17,%xmm1\n+ +[a-f0-9]+:\t62 b1 f5 40 57 c9    \tvxorpd %zmm17,%zmm17,%zmm1\n  +[a-f0-9]+:\t62 b1 f5 00 57 c9    \tvxorpd %xmm17,%xmm17,%xmm1\n  +[a-f0-9]+:\t62 71 74 4f 57 f9    \tvxorps %zmm1,%zmm1,%zmm15\\{%k7\\}\n  +[a-f0-9]+:\tc5 70 57 f9          \tvxorps %xmm1,%xmm1,%xmm15\n  +[a-f0-9]+:\tc5 70 57 f9          \tvxorps %xmm1,%xmm1,%xmm15\n  +[a-f0-9]+:\tc5 70 57 f9          \tvxorps %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\t62 e1 74 48 57 c1    \tvxorps %zmm1,%zmm1,%zmm16\n  +[a-f0-9]+:\t62 e1 74 08 57 c1    \tvxorps %xmm1,%xmm1,%xmm16\n- +[a-f0-9]+:\t62 e1 74 08 57 c1    \tvxorps %xmm1,%xmm1,%xmm16\n- +[a-f0-9]+:\t62 b1 74 00 57 c9    \tvxorps %xmm17,%xmm17,%xmm1\n+ +[a-f0-9]+:\t62 b1 74 40 57 c9    \tvxorps %zmm17,%zmm17,%zmm1\n  +[a-f0-9]+:\t62 b1 74 00 57 c9    \tvxorps %xmm17,%xmm17,%xmm1\n  +[a-f0-9]+:\tc5 71 ef f9          \tvpxor  %xmm1,%xmm1,%xmm15\n  +[a-f0-9]+:\t62 71 75 4f ef f9    \tvpxord %zmm1,%zmm1,%zmm15\\{%k7\\}\n  +[a-f0-9]+:\tc5 71 ef f9          \tvpxor  %xmm1,%xmm1,%xmm15\n  +[a-f0-9]+:\tc5 71 ef f9          \tvpxor  %xmm1,%xmm1,%xmm15\n  +[a-f0-9]+:\tc5 71 ef f9          \tvpxor  %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\t62 e1 75 48 ef c1    \tvpxord %zmm1,%zmm1,%zmm16\n  +[a-f0-9]+:\t62 e1 75 08 ef c1    \tvpxord %xmm1,%xmm1,%xmm16\n- +[a-f0-9]+:\t62 e1 75 08 ef c1    \tvpxord %xmm1,%xmm1,%xmm16\n- +[a-f0-9]+:\t62 b1 75 00 ef c9    \tvpxord %xmm17,%xmm17,%xmm1\n+ +[a-f0-9]+:\t62 b1 75 40 ef c9    \tvpxord %zmm17,%zmm17,%zmm1\n  +[a-f0-9]+:\t62 b1 75 00 ef c9    \tvpxord %xmm17,%xmm17,%xmm1\n  +[a-f0-9]+:\t62 71 f5 4f ef f9    \tvpxorq %zmm1,%zmm1,%zmm15\\{%k7\\}\n  +[a-f0-9]+:\tc5 71 ef f9          \tvpxor  %xmm1,%xmm1,%xmm15\n  +[a-f0-9]+:\tc5 71 ef f9          \tvpxor  %xmm1,%xmm1,%xmm15\n  +[a-f0-9]+:\tc5 71 ef f9          \tvpxor  %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\t62 e1 f5 48 ef c1    \tvpxorq %zmm1,%zmm1,%zmm16\n  +[a-f0-9]+:\t62 e1 f5 08 ef c1    \tvpxorq %xmm1,%xmm1,%xmm16\n- +[a-f0-9]+:\t62 e1 f5 08 ef c1    \tvpxorq %xmm1,%xmm1,%xmm16\n- +[a-f0-9]+:\t62 b1 f5 00 ef c9    \tvpxorq %xmm17,%xmm17,%xmm1\n+ +[a-f0-9]+:\t62 b1 f5 40 ef c9    \tvpxorq %zmm17,%zmm17,%zmm1\n  +[a-f0-9]+:\t62 b1 f5 00 ef c9    \tvpxorq %xmm17,%xmm17,%xmm1\n  +[a-f0-9]+:\t62 71 75 4f f8 f9    \tvpsubb %zmm1,%zmm1,%zmm15\\{%k7\\}\n  +[a-f0-9]+:\tc5 71 f8 f9          \tvpsubb %xmm1,%xmm1,%xmm15\n  +[a-f0-9]+:\tc5 71 f8 f9          \tvpsubb %xmm1,%xmm1,%xmm15\n  +[a-f0-9]+:\tc5 71 f8 f9          \tvpsubb %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\t62 e1 75 48 f8 c1    \tvpsubb %zmm1,%zmm1,%zmm16\n  +[a-f0-9]+:\t62 e1 75 08 f8 c1    \tvpsubb %xmm1,%xmm1,%xmm16\n- +[a-f0-9]+:\t62 e1 75 08 f8 c1    \tvpsubb %xmm1,%xmm1,%xmm16\n- +[a-f0-9]+:\t62 b1 75 00 f8 c9    \tvpsubb %xmm17,%xmm17,%xmm1\n+ +[a-f0-9]+:\t62 b1 75 40 f8 c9    \tvpsubb %zmm17,%zmm17,%zmm1\n  +[a-f0-9]+:\t62 b1 75 00 f8 c9    \tvpsubb %xmm17,%xmm17,%xmm1\n  +[a-f0-9]+:\t62 71 75 4f f9 f9    \tvpsubw %zmm1,%zmm1,%zmm15\\{%k7\\}\n  +[a-f0-9]+:\tc5 71 f9 f9          \tvpsubw %xmm1,%xmm1,%xmm15\n  +[a-f0-9]+:\tc5 71 f9 f9          \tvpsubw %xmm1,%xmm1,%xmm15\n  +[a-f0-9]+:\tc5 71 f9 f9          \tvpsubw %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\t62 e1 75 48 f9 c1    \tvpsubw %zmm1,%zmm1,%zmm16\n  +[a-f0-9]+:\t62 e1 75 08 f9 c1    \tvpsubw %xmm1,%xmm1,%xmm16\n- +[a-f0-9]+:\t62 e1 75 08 f9 c1    \tvpsubw %xmm1,%xmm1,%xmm16\n- +[a-f0-9]+:\t62 b1 75 00 f9 c9    \tvpsubw %xmm17,%xmm17,%xmm1\n+ +[a-f0-9]+:\t62 b1 75 40 f9 c9    \tvpsubw %zmm17,%zmm17,%zmm1\n  +[a-f0-9]+:\t62 b1 75 00 f9 c9    \tvpsubw %xmm17,%xmm17,%xmm1\n  +[a-f0-9]+:\t62 71 75 4f fa f9    \tvpsubd %zmm1,%zmm1,%zmm15\\{%k7\\}\n  +[a-f0-9]+:\tc5 71 fa f9          \tvpsubd %xmm1,%xmm1,%xmm15\n  +[a-f0-9]+:\tc5 71 fa f9          \tvpsubd %xmm1,%xmm1,%xmm15\n  +[a-f0-9]+:\tc5 71 fa f9          \tvpsubd %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\t62 e1 75 48 fa c1    \tvpsubd %zmm1,%zmm1,%zmm16\n  +[a-f0-9]+:\t62 e1 75 08 fa c1    \tvpsubd %xmm1,%xmm1,%xmm16\n- +[a-f0-9]+:\t62 e1 75 08 fa c1    \tvpsubd %xmm1,%xmm1,%xmm16\n- +[a-f0-9]+:\t62 b1 75 00 fa c9    \tvpsubd %xmm17,%xmm17,%xmm1\n+ +[a-f0-9]+:\t62 b1 75 40 fa c9    \tvpsubd %zmm17,%zmm17,%zmm1\n  +[a-f0-9]+:\t62 b1 75 00 fa c9    \tvpsubd %xmm17,%xmm17,%xmm1\n  +[a-f0-9]+:\t62 71 f5 4f fb f9    \tvpsubq %zmm1,%zmm1,%zmm15\\{%k7\\}\n  +[a-f0-9]+:\tc5 71 fb f9          \tvpsubq %xmm1,%xmm1,%xmm15\n  +[a-f0-9]+:\tc5 71 fb f9          \tvpsubq %xmm1,%xmm1,%xmm15\n  +[a-f0-9]+:\tc5 71 fb f9          \tvpsubq %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\t62 e1 f5 48 fb c1    \tvpsubq %zmm1,%zmm1,%zmm16\n  +[a-f0-9]+:\t62 e1 f5 08 fb c1    \tvpsubq %xmm1,%xmm1,%xmm16\n- +[a-f0-9]+:\t62 e1 f5 08 fb c1    \tvpsubq %xmm1,%xmm1,%xmm16\n- +[a-f0-9]+:\t62 b1 f5 00 fb c9    \tvpsubq %xmm17,%xmm17,%xmm1\n+ +[a-f0-9]+:\t62 b1 f5 40 fb c9    \tvpsubq %zmm17,%zmm17,%zmm1\n  +[a-f0-9]+:\t62 b1 f5 00 fb c9    \tvpsubq %xmm17,%xmm17,%xmm1\n  +[a-f0-9]+:\tc5 f9 6f d1          \tvmovdqa %xmm1,%xmm2\n  +[a-f0-9]+:\tc5 f9 6f d1          \tvmovdqa %xmm1,%xmm2"
    },
    {
      "sha": "09474a1016c88e61f9d99200a0235a320f3adc05",
      "filename": "gas/testsuite/gas/i386/x86-64-optimize-2b.d",
      "status": "added",
      "additions": 157,
      "deletions": 0,
      "changes": 157,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7b1d7ca194544554f7d41aea7fdf7a69c232f15d/gas/testsuite/gas/i386/x86-64-optimize-2b.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7b1d7ca194544554f7d41aea7fdf7a69c232f15d/gas/testsuite/gas/i386/x86-64-optimize-2b.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/x86-64-optimize-2b.d?ref=7b1d7ca194544554f7d41aea7fdf7a69c232f15d",
      "patch": "@@ -0,0 +1,157 @@\n+#as: -O2 -I${srcdir}/$subdir\n+#objdump: -drw\n+#name: x86-64 optimized encoding 2b with -O2\n+\n+.*: +file format .*\n+\n+\n+Disassembly of section .text:\n+\n+0+ <_start>:\n+ +[a-f0-9]+:\t62 71 f5 4f 55 f9    \tvandnpd %zmm1,%zmm1,%zmm15\\{%k7\\}\n+ +[a-f0-9]+:\tc5 71 55 f9          \tvandnpd %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 71 55 f9          \tvandnpd %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 71 55 f9          \tvandnpd %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\t62 e1 f5 08 55 c1    \tvandnpd %xmm1,%xmm1,%xmm16\n+ +[a-f0-9]+:\t62 e1 f5 08 55 c1    \tvandnpd %xmm1,%xmm1,%xmm16\n+ +[a-f0-9]+:\t62 b1 f5 00 55 c9    \tvandnpd %xmm17,%xmm17,%xmm1\n+ +[a-f0-9]+:\t62 b1 f5 00 55 c9    \tvandnpd %xmm17,%xmm17,%xmm1\n+ +[a-f0-9]+:\t62 71 74 4f 55 f9    \tvandnps %zmm1,%zmm1,%zmm15\\{%k7\\}\n+ +[a-f0-9]+:\tc5 70 55 f9          \tvandnps %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 70 55 f9          \tvandnps %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 70 55 f9          \tvandnps %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\t62 e1 74 08 55 c1    \tvandnps %xmm1,%xmm1,%xmm16\n+ +[a-f0-9]+:\t62 e1 74 08 55 c1    \tvandnps %xmm1,%xmm1,%xmm16\n+ +[a-f0-9]+:\t62 b1 74 00 55 c9    \tvandnps %xmm17,%xmm17,%xmm1\n+ +[a-f0-9]+:\t62 b1 74 00 55 c9    \tvandnps %xmm17,%xmm17,%xmm1\n+ +[a-f0-9]+:\tc5 71 df f9          \tvpandn %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\t62 71 75 4f df f9    \tvpandnd %zmm1,%zmm1,%zmm15\\{%k7\\}\n+ +[a-f0-9]+:\tc5 71 df f9          \tvpandn %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 71 df f9          \tvpandn %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 71 df f9          \tvpandn %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\t62 e1 75 08 df c1    \tvpandnd %xmm1,%xmm1,%xmm16\n+ +[a-f0-9]+:\t62 e1 75 08 df c1    \tvpandnd %xmm1,%xmm1,%xmm16\n+ +[a-f0-9]+:\t62 b1 75 00 df c9    \tvpandnd %xmm17,%xmm17,%xmm1\n+ +[a-f0-9]+:\t62 b1 75 00 df c9    \tvpandnd %xmm17,%xmm17,%xmm1\n+ +[a-f0-9]+:\t62 71 f5 4f df f9    \tvpandnq %zmm1,%zmm1,%zmm15\\{%k7\\}\n+ +[a-f0-9]+:\tc5 71 df f9          \tvpandn %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 71 df f9          \tvpandn %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 71 df f9          \tvpandn %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\t62 e1 f5 08 df c1    \tvpandnq %xmm1,%xmm1,%xmm16\n+ +[a-f0-9]+:\t62 e1 f5 08 df c1    \tvpandnq %xmm1,%xmm1,%xmm16\n+ +[a-f0-9]+:\t62 b1 f5 00 df c9    \tvpandnq %xmm17,%xmm17,%xmm1\n+ +[a-f0-9]+:\t62 b1 f5 00 df c9    \tvpandnq %xmm17,%xmm17,%xmm1\n+ +[a-f0-9]+:\t62 71 f5 4f 57 f9    \tvxorpd %zmm1,%zmm1,%zmm15\\{%k7\\}\n+ +[a-f0-9]+:\tc5 71 57 f9          \tvxorpd %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 71 57 f9          \tvxorpd %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 71 57 f9          \tvxorpd %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\t62 e1 f5 08 57 c1    \tvxorpd %xmm1,%xmm1,%xmm16\n+ +[a-f0-9]+:\t62 e1 f5 08 57 c1    \tvxorpd %xmm1,%xmm1,%xmm16\n+ +[a-f0-9]+:\t62 b1 f5 00 57 c9    \tvxorpd %xmm17,%xmm17,%xmm1\n+ +[a-f0-9]+:\t62 b1 f5 00 57 c9    \tvxorpd %xmm17,%xmm17,%xmm1\n+ +[a-f0-9]+:\t62 71 74 4f 57 f9    \tvxorps %zmm1,%zmm1,%zmm15\\{%k7\\}\n+ +[a-f0-9]+:\tc5 70 57 f9          \tvxorps %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 70 57 f9          \tvxorps %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 70 57 f9          \tvxorps %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\t62 e1 74 08 57 c1    \tvxorps %xmm1,%xmm1,%xmm16\n+ +[a-f0-9]+:\t62 e1 74 08 57 c1    \tvxorps %xmm1,%xmm1,%xmm16\n+ +[a-f0-9]+:\t62 b1 74 00 57 c9    \tvxorps %xmm17,%xmm17,%xmm1\n+ +[a-f0-9]+:\t62 b1 74 00 57 c9    \tvxorps %xmm17,%xmm17,%xmm1\n+ +[a-f0-9]+:\tc5 71 ef f9          \tvpxor  %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\t62 71 75 4f ef f9    \tvpxord %zmm1,%zmm1,%zmm15\\{%k7\\}\n+ +[a-f0-9]+:\tc5 71 ef f9          \tvpxor  %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 71 ef f9          \tvpxor  %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 71 ef f9          \tvpxor  %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\t62 e1 75 08 ef c1    \tvpxord %xmm1,%xmm1,%xmm16\n+ +[a-f0-9]+:\t62 e1 75 08 ef c1    \tvpxord %xmm1,%xmm1,%xmm16\n+ +[a-f0-9]+:\t62 b1 75 00 ef c9    \tvpxord %xmm17,%xmm17,%xmm1\n+ +[a-f0-9]+:\t62 b1 75 00 ef c9    \tvpxord %xmm17,%xmm17,%xmm1\n+ +[a-f0-9]+:\t62 71 f5 4f ef f9    \tvpxorq %zmm1,%zmm1,%zmm15\\{%k7\\}\n+ +[a-f0-9]+:\tc5 71 ef f9          \tvpxor  %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 71 ef f9          \tvpxor  %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 71 ef f9          \tvpxor  %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\t62 e1 f5 08 ef c1    \tvpxorq %xmm1,%xmm1,%xmm16\n+ +[a-f0-9]+:\t62 e1 f5 08 ef c1    \tvpxorq %xmm1,%xmm1,%xmm16\n+ +[a-f0-9]+:\t62 b1 f5 00 ef c9    \tvpxorq %xmm17,%xmm17,%xmm1\n+ +[a-f0-9]+:\t62 b1 f5 00 ef c9    \tvpxorq %xmm17,%xmm17,%xmm1\n+ +[a-f0-9]+:\t62 71 75 4f f8 f9    \tvpsubb %zmm1,%zmm1,%zmm15\\{%k7\\}\n+ +[a-f0-9]+:\tc5 71 f8 f9          \tvpsubb %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 71 f8 f9          \tvpsubb %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 71 f8 f9          \tvpsubb %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\t62 e1 75 08 f8 c1    \tvpsubb %xmm1,%xmm1,%xmm16\n+ +[a-f0-9]+:\t62 e1 75 08 f8 c1    \tvpsubb %xmm1,%xmm1,%xmm16\n+ +[a-f0-9]+:\t62 b1 75 00 f8 c9    \tvpsubb %xmm17,%xmm17,%xmm1\n+ +[a-f0-9]+:\t62 b1 75 00 f8 c9    \tvpsubb %xmm17,%xmm17,%xmm1\n+ +[a-f0-9]+:\t62 71 75 4f f9 f9    \tvpsubw %zmm1,%zmm1,%zmm15\\{%k7\\}\n+ +[a-f0-9]+:\tc5 71 f9 f9          \tvpsubw %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 71 f9 f9          \tvpsubw %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 71 f9 f9          \tvpsubw %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\t62 e1 75 08 f9 c1    \tvpsubw %xmm1,%xmm1,%xmm16\n+ +[a-f0-9]+:\t62 e1 75 08 f9 c1    \tvpsubw %xmm1,%xmm1,%xmm16\n+ +[a-f0-9]+:\t62 b1 75 00 f9 c9    \tvpsubw %xmm17,%xmm17,%xmm1\n+ +[a-f0-9]+:\t62 b1 75 00 f9 c9    \tvpsubw %xmm17,%xmm17,%xmm1\n+ +[a-f0-9]+:\t62 71 75 4f fa f9    \tvpsubd %zmm1,%zmm1,%zmm15\\{%k7\\}\n+ +[a-f0-9]+:\tc5 71 fa f9          \tvpsubd %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 71 fa f9          \tvpsubd %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 71 fa f9          \tvpsubd %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\t62 e1 75 08 fa c1    \tvpsubd %xmm1,%xmm1,%xmm16\n+ +[a-f0-9]+:\t62 e1 75 08 fa c1    \tvpsubd %xmm1,%xmm1,%xmm16\n+ +[a-f0-9]+:\t62 b1 75 00 fa c9    \tvpsubd %xmm17,%xmm17,%xmm1\n+ +[a-f0-9]+:\t62 b1 75 00 fa c9    \tvpsubd %xmm17,%xmm17,%xmm1\n+ +[a-f0-9]+:\t62 71 f5 4f fb f9    \tvpsubq %zmm1,%zmm1,%zmm15\\{%k7\\}\n+ +[a-f0-9]+:\tc5 71 fb f9          \tvpsubq %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 71 fb f9          \tvpsubq %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\tc5 71 fb f9          \tvpsubq %xmm1,%xmm1,%xmm15\n+ +[a-f0-9]+:\t62 e1 f5 08 fb c1    \tvpsubq %xmm1,%xmm1,%xmm16\n+ +[a-f0-9]+:\t62 e1 f5 08 fb c1    \tvpsubq %xmm1,%xmm1,%xmm16\n+ +[a-f0-9]+:\t62 b1 f5 00 fb c9    \tvpsubq %xmm17,%xmm17,%xmm1\n+ +[a-f0-9]+:\t62 b1 f5 00 fb c9    \tvpsubq %xmm17,%xmm17,%xmm1\n+ +[a-f0-9]+:\tc5 f9 6f d1          \tvmovdqa %xmm1,%xmm2\n+ +[a-f0-9]+:\tc5 f9 6f d1          \tvmovdqa %xmm1,%xmm2\n+ +[a-f0-9]+:\tc5 fa 6f d1          \tvmovdqu %xmm1,%xmm2\n+ +[a-f0-9]+:\tc5 fa 6f d1          \tvmovdqu %xmm1,%xmm2\n+ +[a-f0-9]+:\tc5 fa 6f d1          \tvmovdqu %xmm1,%xmm2\n+ +[a-f0-9]+:\tc5 fa 6f d1          \tvmovdqu %xmm1,%xmm2\n+ +[a-f0-9]+:\tc4 41 79 6f e3       \tvmovdqa %xmm11,%xmm12\n+ +[a-f0-9]+:\tc4 41 79 6f e3       \tvmovdqa %xmm11,%xmm12\n+ +[a-f0-9]+:\tc4 41 7a 6f e3       \tvmovdqu %xmm11,%xmm12\n+ +[a-f0-9]+:\tc4 41 7a 6f e3       \tvmovdqu %xmm11,%xmm12\n+ +[a-f0-9]+:\tc4 41 7a 6f e3       \tvmovdqu %xmm11,%xmm12\n+ +[a-f0-9]+:\tc4 41 7a 6f e3       \tvmovdqu %xmm11,%xmm12\n+ +[a-f0-9]+:\tc5 f9 6f 50 7f       \tvmovdqa 0x7f\\(%rax\\),%xmm2\n+ +[a-f0-9]+:\tc5 f9 6f 50 7f       \tvmovdqa 0x7f\\(%rax\\),%xmm2\n+ +[a-f0-9]+:\tc5 fa 6f 50 7f       \tvmovdqu 0x7f\\(%rax\\),%xmm2\n+ +[a-f0-9]+:\tc5 fa 6f 50 7f       \tvmovdqu 0x7f\\(%rax\\),%xmm2\n+ +[a-f0-9]+:\tc5 fa 6f 50 7f       \tvmovdqu 0x7f\\(%rax\\),%xmm2\n+ +[a-f0-9]+:\tc5 fa 6f 50 7f       \tvmovdqu 0x7f\\(%rax\\),%xmm2\n+ +[a-f0-9]+:\tc5 f9 7f 88 80 00 00 00 \tvmovdqa %xmm1,0x80\\(%rax\\)\n+ +[a-f0-9]+:\tc5 f9 7f 88 80 00 00 00 \tvmovdqa %xmm1,0x80\\(%rax\\)\n+ +[a-f0-9]+:\tc5 fa 7f 88 80 00 00 00 \tvmovdqu %xmm1,0x80\\(%rax\\)\n+ +[a-f0-9]+:\tc5 fa 7f 88 80 00 00 00 \tvmovdqu %xmm1,0x80\\(%rax\\)\n+ +[a-f0-9]+:\tc5 fa 7f 88 80 00 00 00 \tvmovdqu %xmm1,0x80\\(%rax\\)\n+ +[a-f0-9]+:\tc5 fa 7f 88 80 00 00 00 \tvmovdqu %xmm1,0x80\\(%rax\\)\n+ +[a-f0-9]+:\tc5 fd 6f d1          \tvmovdqa %ymm1,%ymm2\n+ +[a-f0-9]+:\tc5 fd 6f d1          \tvmovdqa %ymm1,%ymm2\n+ +[a-f0-9]+:\tc5 fe 6f d1          \tvmovdqu %ymm1,%ymm2\n+ +[a-f0-9]+:\tc5 fe 6f d1          \tvmovdqu %ymm1,%ymm2\n+ +[a-f0-9]+:\tc5 fe 6f d1          \tvmovdqu %ymm1,%ymm2\n+ +[a-f0-9]+:\tc5 fe 6f d1          \tvmovdqu %ymm1,%ymm2\n+ +[a-f0-9]+:\tc4 41 7d 6f e3       \tvmovdqa %ymm11,%ymm12\n+ +[a-f0-9]+:\tc4 41 7d 6f e3       \tvmovdqa %ymm11,%ymm12\n+ +[a-f0-9]+:\tc4 41 7e 6f e3       \tvmovdqu %ymm11,%ymm12\n+ +[a-f0-9]+:\tc4 41 7e 6f e3       \tvmovdqu %ymm11,%ymm12\n+ +[a-f0-9]+:\tc4 41 7e 6f e3       \tvmovdqu %ymm11,%ymm12\n+ +[a-f0-9]+:\tc4 41 7e 6f e3       \tvmovdqu %ymm11,%ymm12\n+ +[a-f0-9]+:\tc5 fd 6f 50 7f       \tvmovdqa 0x7f\\(%rax\\),%ymm2\n+ +[a-f0-9]+:\tc5 fd 6f 50 7f       \tvmovdqa 0x7f\\(%rax\\),%ymm2\n+ +[a-f0-9]+:\tc5 fe 6f 50 7f       \tvmovdqu 0x7f\\(%rax\\),%ymm2\n+ +[a-f0-9]+:\tc5 fe 6f 50 7f       \tvmovdqu 0x7f\\(%rax\\),%ymm2\n+ +[a-f0-9]+:\tc5 fe 6f 50 7f       \tvmovdqu 0x7f\\(%rax\\),%ymm2\n+ +[a-f0-9]+:\tc5 fe 6f 50 7f       \tvmovdqu 0x7f\\(%rax\\),%ymm2\n+ +[a-f0-9]+:\tc5 fd 7f 88 80 00 00 00 \tvmovdqa %ymm1,0x80\\(%rax\\)\n+ +[a-f0-9]+:\tc5 fd 7f 88 80 00 00 00 \tvmovdqa %ymm1,0x80\\(%rax\\)\n+ +[a-f0-9]+:\tc5 fe 7f 88 80 00 00 00 \tvmovdqu %ymm1,0x80\\(%rax\\)\n+ +[a-f0-9]+:\tc5 fe 7f 88 80 00 00 00 \tvmovdqu %ymm1,0x80\\(%rax\\)\n+ +[a-f0-9]+:\tc5 fe 7f 88 80 00 00 00 \tvmovdqu %ymm1,0x80\\(%rax\\)\n+ +[a-f0-9]+:\tc5 fe 7f 88 80 00 00 00 \tvmovdqu %ymm1,0x80\\(%rax\\)\n+#pass"
    },
    {
      "sha": "0613b8e2e1a8b1bbca37bf9c39d21f0520693a7e",
      "filename": "gas/testsuite/gas/i386/x86-64-optimize-2b.s",
      "status": "added",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7b1d7ca194544554f7d41aea7fdf7a69c232f15d/gas/testsuite/gas/i386/x86-64-optimize-2b.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7b1d7ca194544554f7d41aea7fdf7a69c232f15d/gas/testsuite/gas/i386/x86-64-optimize-2b.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/x86-64-optimize-2b.s?ref=7b1d7ca194544554f7d41aea7fdf7a69c232f15d",
      "patch": "@@ -0,0 +1,5 @@\n+# Check 64bit instructions with optimized encoding\n+\n+\t.arch .avx512vl\n+\n+.include \"x86-64-optimize-2.s\""
    }
  ]
}