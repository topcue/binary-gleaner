{
  "sha": "cd8d2039b01382a49054f2e3e0c9196e2dba5c0c",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6Y2Q4ZDIwMzliMDEzODJhNDkwNTRmMmUzZTBjOTE5NmUyZGJhNWMwYw==",
  "commit": {
    "author": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2020-12-07T06:46:46Z"
    },
    "committer": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2020-12-07T12:06:22Z"
    },
    "message": "[GOLD] gcc-11 stringop-overflow warning\n\nI'm unsure why this is deserving of a warning.  Not writing the most\nefficient code surely can't be a real problem, but that is what\nhttps://gcc.gnu.org/bugzilla//show_bug.cgi?id=88059#c1 seems to say.\n\nplugin.cc:528:10: error: 'char* strncpy(char*, const char*, size_t)' specified bound depends on the length of the source argument [-Werror=stringop-overflow=]\n  528 |   strncpy(tempdir, dir_template, len);\n      |   ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~\nplugin.cc:526:22: note: length computed here\n  526 |   size_t len = strlen(dir_template) + 1;\n      |                ~~~~~~^~~~~~~~~~~~~~\n\n\t* plugin.cc (Plugin_recorder::init): Replace strncpy with memcpy.",
    "tree": {
      "sha": "db1a14c6fd96b8b38799acf66f970e6ad20132f2",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/db1a14c6fd96b8b38799acf66f970e6ad20132f2"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/cd8d2039b01382a49054f2e3e0c9196e2dba5c0c",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/cd8d2039b01382a49054f2e3e0c9196e2dba5c0c",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/cd8d2039b01382a49054f2e3e0c9196e2dba5c0c",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/cd8d2039b01382a49054f2e3e0c9196e2dba5c0c/comments",
  "author": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "fde0214a915dc09743006022df2365f8e9ea3eed",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/fde0214a915dc09743006022df2365f8e9ea3eed",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/fde0214a915dc09743006022df2365f8e9ea3eed"
    }
  ],
  "stats": {
    "total": 6,
    "additions": 5,
    "deletions": 1
  },
  "files": [
    {
      "sha": "e152e1ed6980ef061d207aa1b79267d58fd2f82c",
      "filename": "gold/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/cd8d2039b01382a49054f2e3e0c9196e2dba5c0c/gold/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/cd8d2039b01382a49054f2e3e0c9196e2dba5c0c/gold/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gold/ChangeLog?ref=cd8d2039b01382a49054f2e3e0c9196e2dba5c0c",
      "patch": "@@ -1,3 +1,7 @@\n+2020-12-07  Alan Modra  <amodra@gmail.com>\n+\n+\t* plugin.cc (Plugin_recorder::init): Replace strncpy with memcpy.\n+\n 2020-12-03  Alan Modra  <amodra@gmail.com>\n \n \t* testsuite/Makefile.am (pr26936a.o): Pass -mx86-used-note=yes."
    },
    {
      "sha": "fd37957e73c717067a4039188f125470e53cd50b",
      "filename": "gold/plugin.cc",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/cd8d2039b01382a49054f2e3e0c9196e2dba5c0c/gold/plugin.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/cd8d2039b01382a49054f2e3e0c9196e2dba5c0c/gold/plugin.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gold/plugin.cc?ref=cd8d2039b01382a49054f2e3e0c9196e2dba5c0c",
      "patch": "@@ -525,7 +525,7 @@ Plugin_recorder::init()\n \n   size_t len = strlen(dir_template) + 1;\n   char* tempdir = new char[len];\n-  strncpy(tempdir, dir_template, len);\n+  memcpy(tempdir, dir_template, len);\n \n   // Create the log file.\n   std::string logname(tempdir);"
    }
  ]
}