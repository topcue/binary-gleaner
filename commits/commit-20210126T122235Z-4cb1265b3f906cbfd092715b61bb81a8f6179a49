{
  "sha": "4cb1265b3f906cbfd092715b61bb81a8f6179a49",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NGNiMTI2NWIzZjkwNmNiZmQwOTI3MTViNjFiYjgxYThmNjE3OWE0OQ==",
  "commit": {
    "author": {
      "name": "Mihails Strasuns",
      "email": "mihails.strasuns@intel.com",
      "date": "2020-12-16T19:36:15Z"
    },
    "committer": {
      "name": "Mihails Strasuns",
      "email": "mihails.strasuns@intel.com",
      "date": "2021-01-26T12:22:35Z"
    },
    "message": "bfd: add elfcore_write_file_note\n\nAdds a trivial wrapper over elfcore_write_note, primarily to be more\nconsistent with other ELF note helper functions and highlight NT_FILE as\none of notes handled by gdb.\n\nbfd/ChangeLog:\n2020-12-17  Mihails Strasuns  <mihails.strasuns@intel.com>\n\n\t* bfd-elf.h (elfcore_write_file_note): New function.\n\t* elf.c (elfcore_write_file_note): New function.\n\ngdb/ChangeLog:\n2020-12-17  Mihails Strasuns  <mihails.strasuns@intel.com>\n\n\t* linux-tdep.c (linux_make_mappings_corefile_notes): Start using\n\telfcore_write_file_note.",
    "tree": {
      "sha": "d86a19ecb73873301fdb36515c7015020c67ae0c",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/d86a19ecb73873301fdb36515c7015020c67ae0c"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/4cb1265b3f906cbfd092715b61bb81a8f6179a49",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/4cb1265b3f906cbfd092715b61bb81a8f6179a49",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/4cb1265b3f906cbfd092715b61bb81a8f6179a49",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/4cb1265b3f906cbfd092715b61bb81a8f6179a49/comments",
  "author": {
    "login": "mihails-strasuns-intel",
    "id": 55576710,
    "node_id": "MDQ6VXNlcjU1NTc2NzEw",
    "avatar_url": "https://avatars.githubusercontent.com/u/55576710?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mihails-strasuns-intel",
    "html_url": "https://github.com/mihails-strasuns-intel",
    "followers_url": "https://api.github.com/users/mihails-strasuns-intel/followers",
    "following_url": "https://api.github.com/users/mihails-strasuns-intel/following{/other_user}",
    "gists_url": "https://api.github.com/users/mihails-strasuns-intel/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mihails-strasuns-intel/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mihails-strasuns-intel/subscriptions",
    "organizations_url": "https://api.github.com/users/mihails-strasuns-intel/orgs",
    "repos_url": "https://api.github.com/users/mihails-strasuns-intel/repos",
    "events_url": "https://api.github.com/users/mihails-strasuns-intel/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mihails-strasuns-intel/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "mihails-strasuns-intel",
    "id": 55576710,
    "node_id": "MDQ6VXNlcjU1NTc2NzEw",
    "avatar_url": "https://avatars.githubusercontent.com/u/55576710?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mihails-strasuns-intel",
    "html_url": "https://github.com/mihails-strasuns-intel",
    "followers_url": "https://api.github.com/users/mihails-strasuns-intel/followers",
    "following_url": "https://api.github.com/users/mihails-strasuns-intel/following{/other_user}",
    "gists_url": "https://api.github.com/users/mihails-strasuns-intel/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mihails-strasuns-intel/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mihails-strasuns-intel/subscriptions",
    "organizations_url": "https://api.github.com/users/mihails-strasuns-intel/orgs",
    "repos_url": "https://api.github.com/users/mihails-strasuns-intel/repos",
    "events_url": "https://api.github.com/users/mihails-strasuns-intel/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mihails-strasuns-intel/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "c3ffb8f340f567949f24c3bab62259f0e593637f",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/c3ffb8f340f567949f24c3bab62259f0e593637f",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/c3ffb8f340f567949f24c3bab62259f0e593637f"
    }
  ],
  "stats": {
    "total": 28,
    "additions": 23,
    "deletions": 5
  },
  "files": [
    {
      "sha": "c8fcb3a684578d2c2cf29f2d9feeebb7667849dc",
      "filename": "bfd/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4cb1265b3f906cbfd092715b61bb81a8f6179a49/bfd/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4cb1265b3f906cbfd092715b61bb81a8f6179a49/bfd/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/ChangeLog?ref=4cb1265b3f906cbfd092715b61bb81a8f6179a49",
      "patch": "@@ -1,3 +1,8 @@\n+2020-12-17  Mihails Strasuns  <mihails.strasuns@intel.com>\n+\n+\t* bfd-elf.h (elfcore_write_file_note): New function.\n+\t* elf.c (elfcore_write_file_note): New function.\n+\n 2021-01-26  Alan Modra  <amodra@gmail.com>\n \n \t* elf32-ft32.c (ft32_reloc_type_lookup): Don't miss ft32_reloc_map[0]."
    },
    {
      "sha": "994f15e48cf07f12f6cbc56df574dabe4e1d0b45",
      "filename": "bfd/elf-bfd.h",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4cb1265b3f906cbfd092715b61bb81a8f6179a49/bfd/elf-bfd.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4cb1265b3f906cbfd092715b61bb81a8f6179a49/bfd/elf-bfd.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/elf-bfd.h?ref=4cb1265b3f906cbfd092715b61bb81a8f6179a49",
      "patch": "@@ -2801,6 +2801,8 @@ extern char *elfcore_write_lwpstatus\n   (bfd *, char *, int *, long, int, const void *);\n extern char *elfcore_write_register_note\n   (bfd *, char *, int *, const char *, const void *, int);\n+extern char *elfcore_write_file_note\n+  (bfd *, char *, int *, const void*, int);\n \n /* Internal structure which holds information to be included in the\n    PRPSINFO section of Linux core files."
    },
    {
      "sha": "087f05e5cc8bdc5e792d79580349779bcf949e52",
      "filename": "bfd/elf.c",
      "status": "modified",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4cb1265b3f906cbfd092715b61bb81a8f6179a49/bfd/elf.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4cb1265b3f906cbfd092715b61bb81a8f6179a49/bfd/elf.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/elf.c?ref=4cb1265b3f906cbfd092715b61bb81a8f6179a49",
      "patch": "@@ -12038,6 +12038,14 @@ elfcore_write_register_note (bfd *abfd,\n   return NULL;\n }\n \n+char *\n+elfcore_write_file_note (bfd *obfd, char *note_data, int *note_size,\n+\t\t\t const void *buf, int bufsiz)\n+{\n+  return elfcore_write_note (obfd, note_data, note_size,\n+\t\t\t     \"CORE\", NT_FILE, buf, bufsiz);\n+}\n+\n static bfd_boolean\n elf_parse_notes (bfd *abfd, char *buf, size_t size, file_ptr offset,\n \t\t size_t align)"
    },
    {
      "sha": "cbc75cc854f89a10358d4c560a1d83dca9a6adbe",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4cb1265b3f906cbfd092715b61bb81a8f6179a49/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4cb1265b3f906cbfd092715b61bb81a8f6179a49/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=4cb1265b3f906cbfd092715b61bb81a8f6179a49",
      "patch": "@@ -1,3 +1,8 @@\n+2020-12-17  Mihails Strasuns  <mihails.strasuns@intel.com>\n+\n+\t* linux-tdep.c (linux_make_mappings_corefile_notes): Start using\n+\telfcore_write_file_note.\n+\n 2021-01-26  Shahab Vahedi  <shahab@synopsys.com>\n \n \t* arc-tdep.c (arc_add_reggroups): New function."
    },
    {
      "sha": "e9f8e1b61336ad4d4d4492680b0bd1878e9dfe78",
      "filename": "gdb/linux-tdep.c",
      "status": "modified",
      "additions": 3,
      "deletions": 5,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4cb1265b3f906cbfd092715b61bb81a8f6179a49/gdb/linux-tdep.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4cb1265b3f906cbfd092715b61bb81a8f6179a49/gdb/linux-tdep.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/linux-tdep.c?ref=4cb1265b3f906cbfd092715b61bb81a8f6179a49",
      "patch": "@@ -1591,11 +1591,9 @@ linux_make_mappings_corefile_notes (struct gdbarch *gdbarch, bfd *obfd,\n       obstack_grow (&data_obstack, obstack_base (&filename_obstack),\n \t\t    size);\n \n-      note_data.reset (elfcore_write_note\n-\t\t\t (obfd, note_data.release (),\n-\t\t\t  note_size, \"CORE\", NT_FILE,\n-\t\t\t  obstack_base (&data_obstack),\n-\t\t\t  obstack_object_size (&data_obstack)));\n+      note_data.reset (elfcore_write_file_note (obfd, note_data.release (), note_size,\n+\t\t\t\t\t\tobstack_base (&data_obstack),\n+\t\t\t\t\t\tobstack_object_size (&data_obstack)));\n     }\n }\n "
    }
  ]
}