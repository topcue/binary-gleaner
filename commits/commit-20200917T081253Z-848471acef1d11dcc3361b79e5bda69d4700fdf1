{
  "sha": "848471acef1d11dcc3361b79e5bda69d4700fdf1",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ODQ4NDcxYWNlZjFkMTFkY2MzMzYxYjc5ZTViZGE2OWQ0NzAwZmRmMQ==",
  "commit": {
    "author": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2020-09-17T08:02:59Z"
    },
    "committer": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2020-09-17T08:12:53Z"
    },
    "message": "Tidy gas i386.exp\n\nPossibly a quirk of my version of tcl, but I see \"nm-new --help\" being\nrun on non-x86 targets.\n\n\t* testsuite/gas/i386/i386.exp: Return early if not x86.",
    "tree": {
      "sha": "d4e718bc88fa7b96a950b27f6ae3cb4f7840a94a",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/d4e718bc88fa7b96a950b27f6ae3cb4f7840a94a"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/848471acef1d11dcc3361b79e5bda69d4700fdf1",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/848471acef1d11dcc3361b79e5bda69d4700fdf1",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/848471acef1d11dcc3361b79e5bda69d4700fdf1",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/848471acef1d11dcc3361b79e5bda69d4700fdf1/comments",
  "author": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "c568ac5ff708eebf6ef424e5863d3dbd874a3f62",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/c568ac5ff708eebf6ef424e5863d3dbd874a3f62",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/c568ac5ff708eebf6ef424e5863d3dbd874a3f62"
    }
  ],
  "stats": {
    "total": 72,
    "additions": 38,
    "deletions": 34
  },
  "files": [
    {
      "sha": "6b7888594872b8af98506a8a8d1a6c16aa18f05c",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/848471acef1d11dcc3361b79e5bda69d4700fdf1/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/848471acef1d11dcc3361b79e5bda69d4700fdf1/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=848471acef1d11dcc3361b79e5bda69d4700fdf1",
      "patch": "@@ -1,3 +1,7 @@\n+2020-09-17  Alan Modra  <amodra@gmail.com>\n+\n+\t* testsuite/gas/i386/i386.exp: Return early if not x86.\n+\n 2020-09-16  Alan Modra  <amodra@gmail.com>\n \n \t* config/obj-elf.c (obj_elf_visibility, elf_frob_symbol): Adjust"
    },
    {
      "sha": "132e5d78346ce09401a0d9991d6e4876ba763d4c",
      "filename": "gas/testsuite/gas/i386/i386.exp",
      "status": "modified",
      "additions": 34,
      "deletions": 34,
      "changes": 68,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/848471acef1d11dcc3361b79e5bda69d4700fdf1/gas/testsuite/gas/i386/i386.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/848471acef1d11dcc3361b79e5bda69d4700fdf1/gas/testsuite/gas/i386/i386.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/i386.exp?ref=848471acef1d11dcc3361b79e5bda69d4700fdf1",
      "patch": "@@ -17,6 +17,10 @@\n #\n # i386 tests\n #\n+if { ![istarget \"i*86-*-*\"] && ![istarget \"x86_64-*-*\"] } then {\n+    return\n+}\n+\n proc gas_64_check { } {\n     global NM\n     global NMFLAGS\n@@ -40,8 +44,7 @@ proc gas_bfd64_check { } {\n     return [regexp \"32bit/64bit/x32\" [lindex $status 1]];\n }\n \n-if [expr ([istarget \"i*86-*-*\"] ||  [istarget \"x86_64-*-*\"]) && [gas_32_check]]  then {\n-\n+if [gas_32_check] then {\n     global ASFLAGS\n     set old_ASFLAGS \"$ASFLAGS\"\n     set ASFLAGS \"$ASFLAGS --32\"\n@@ -674,42 +677,39 @@ if [expr ([istarget \"i*86-*-*\"] ||  [istarget \"x86_64-*-*\"]) && [gas_32_check]]\n }\n \n # Common tests\n-if [expr [istarget \"i*86-*-*\"] || [istarget \"x86_64-*-*\"]] then {\n-    if {![istarget \"i*86-*-elfiamcu\"] && [gas_64_check]} then {\n-\trun_dump_test \"intel-expr\"\n-\trun_dump_test \"string-ok\"\n-    }\n-    run_list_test \"string-bad\" \"\"\n-    run_list_test \"reg-bad\" \"\"\n-    run_list_test \"space1\" \"-al\"\n-    run_list_test \"xmmword\" \"\"\n-    run_dump_test rept\n-    run_dump_test pr19498\n-    run_list_test \"nop-bad-1\" \"\"\n-    run_list_test \"unspec\" \"\"\n-    if {[is_elf_format] || [istarget \"*-*-vxworks*\"]} then {\n-\trun_list_test_stdin \"list-1\" \"-al\"\n-\trun_list_test_stdin \"list-2\" \"-al\"\n-\trun_list_test_stdin \"list-3\" \"-al\"\n-\trun_dump_test \"dw2-compress-1\"\n-\trun_dump_test \"dw2-compress-3a\"\n-\trun_dump_test \"dw2-compress-3b\"\n-\trun_dump_test \"dw2-compressed-1\"\n-\trun_dump_test \"dw2-compressed-3a\"\n-\trun_dump_test \"dw2-compressed-3b\"\n+if {![istarget \"i*86-*-elfiamcu\"] && [gas_64_check]} then {\n+    run_dump_test \"intel-expr\"\n+    run_dump_test \"string-ok\"\n+}\n+run_list_test \"string-bad\" \"\"\n+run_list_test \"reg-bad\" \"\"\n+run_list_test \"space1\" \"-al\"\n+run_list_test \"xmmword\" \"\"\n+run_dump_test rept\n+run_dump_test pr19498\n+run_list_test \"nop-bad-1\" \"\"\n+run_list_test \"unspec\" \"\"\n+if {[is_elf_format] || [istarget \"*-*-vxworks*\"]} then {\n+    run_list_test_stdin \"list-1\" \"-al\"\n+    run_list_test_stdin \"list-2\" \"-al\"\n+    run_list_test_stdin \"list-3\" \"-al\"\n+    run_dump_test \"dw2-compress-1\"\n+    run_dump_test \"dw2-compress-3a\"\n+    run_dump_test \"dw2-compress-3b\"\n+    run_dump_test \"dw2-compressed-1\"\n+    run_dump_test \"dw2-compressed-3a\"\n+    run_dump_test \"dw2-compressed-3b\"\n \n-\tif {![istarget \"*-*-dragonfly*\"]\n-\t    && ![istarget \"*-*-gnu*\"]\n-\t    && ![istarget \"*-*-freebsd*\"]\n-\t    && ![istarget \"*-*-linux*\"]\n-\t    && ![istarget \"*-*-netbsd*\"]} then {\n-\t    run_dump_test \"svr4\"\n-\t}\n+    if {![istarget \"*-*-dragonfly*\"]\n+\t&& ![istarget \"*-*-gnu*\"]\n+\t&& ![istarget \"*-*-freebsd*\"]\n+\t&& ![istarget \"*-*-linux*\"]\n+\t&& ![istarget \"*-*-netbsd*\"]} then {\n+\trun_dump_test \"svr4\"\n     }\n }\n \n-if [expr ([istarget \"i*86-*-*\"] || [istarget \"x86_64-*-*\"]) && [gas_64_check]] then {\n-\n+if [gas_64_check] then {\n     global ASFLAGS\n     set old_ASFLAGS \"$ASFLAGS\"\n     set ASFLAGS \"$ASFLAGS --64 --defsym x86_64=1 --strip-local-absolute\""
    }
  ]
}