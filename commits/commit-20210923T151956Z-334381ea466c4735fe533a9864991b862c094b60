{
  "sha": "334381ea466c4735fe533a9864991b862c094b60",
  "node_id": "C_kwDOANOeidoAKDMzNDM4MWVhNDY2YzQ3MzVmZTUzM2E5ODY0OTkxYjg2MmMwOTRiNjA",
  "commit": {
    "author": {
      "name": "Tom Tromey",
      "email": "tom@tromey.com",
      "date": "2021-05-15T14:31:42Z"
    },
    "committer": {
      "name": "Tom Tromey",
      "email": "tom@tromey.com",
      "date": "2021-09-23T15:19:56Z"
    },
    "message": "Style the \"XXX\" text in ptype/o\n\nThis patch changes gdb to use the 'highlight' style on the \"XXX\" text\nin the output of ptype/o.",
    "tree": {
      "sha": "9766fe59b5c0133a3f8a9aa3fd2ef333540274fe",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/9766fe59b5c0133a3f8a9aa3fd2ef333540274fe"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/334381ea466c4735fe533a9864991b862c094b60",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/334381ea466c4735fe533a9864991b862c094b60",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/334381ea466c4735fe533a9864991b862c094b60",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/334381ea466c4735fe533a9864991b862c094b60/comments",
  "author": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "ae9150ce9e8a0c181590975a6a4770638aafc630",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/ae9150ce9e8a0c181590975a6a4770638aafc630",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/ae9150ce9e8a0c181590975a6a4770638aafc630"
    }
  ],
  "stats": {
    "total": 39,
    "additions": 35,
    "deletions": 4
  },
  "files": [
    {
      "sha": "6a7934fb9b2ad8cbb475c71a84dbb51fb74bac62",
      "filename": "gdb/testsuite/gdb.base/style.c",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/334381ea466c4735fe533a9864991b862c094b60/gdb/testsuite/gdb.base/style.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/334381ea466c4735fe533a9864991b862c094b60/gdb/testsuite/gdb.base/style.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/style.c?ref=334381ea466c4735fe533a9864991b862c094b60",
      "patch": "@@ -34,6 +34,13 @@ struct some_struct\n \n struct some_struct struct_value = { 23, \"skidoo\", VALUE_TWO };\n \n+struct just_bitfield\n+{\n+  unsigned int field : 3;\n+};\n+\n+struct just_bitfield just_bitfield_value = { 4 };\n+\n int some_called_function (void)\n {\n   return 0;"
    },
    {
      "sha": "d804853a504c6687b795c27f557c92cff9fe94ab",
      "filename": "gdb/testsuite/gdb.base/style.exp",
      "status": "modified",
      "additions": 18,
      "deletions": 0,
      "changes": 18,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/334381ea466c4735fe533a9864991b862c094b60/gdb/testsuite/gdb.base/style.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/334381ea466c4735fe533a9864991b862c094b60/gdb/testsuite/gdb.base/style.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/style.exp?ref=334381ea466c4735fe533a9864991b862c094b60",
      "patch": "@@ -197,6 +197,24 @@ proc run_style_tests { } {\n \tgdb_test \"print struct_value\" \\\n \t    \"\\{$ifield = 23,.*$sfield = .*,.*$efield = $evalue.*\"\n \n+\tset ffield [limited_style field variable]\n+\tset cstart [string_to_regexp \"/* XXX \"]\n+\tset cend [string_to_regexp \" */\"]\n+\tset p1field [limited_style \"$cstart.*$decimal.*-bit.*padding.*$cend\" \\\n+\t\t\t highlight]\n+\tset p2field [limited_style \"$cstart.*$decimal.*-byte.*padding.*$cend\" \\\n+\t\t\t highlight]\n+\n+\tgdb_test \"ptype/o just_bitfield_value\" \\\n+\t    [multi_line \\\n+\t\t \".* type = struct just_bitfield {\" \\\n+\t\t \".* unsigned int $ffield : 3;\" \\\n+\t\t \"$p1field\" \\\n+\t\t \"$p2field\" \\\n+\t\t \"\" \\\n+\t\t \".* total size.*: *$decimal *$cend\" \\\n+\t\t \" *}.*\"]\n+\n \tset address_style_expr [limited_style \".*\\\".*address.*\\\".*style.*\" address]\n \tset color \"blue\"\n \tif { $currently_disabled_style == \"address\" } {"
    },
    {
      "sha": "ed391411dfef86a111bc8b8253ad5f4c5dd50bd1",
      "filename": "gdb/typeprint.c",
      "status": "modified",
      "additions": 10,
      "deletions": 4,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/334381ea466c4735fe533a9864991b862c094b60/gdb/typeprint.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/334381ea466c4735fe533a9864991b862c094b60/gdb/typeprint.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/typeprint.c?ref=334381ea466c4735fe533a9864991b862c094b60",
      "patch": "@@ -104,12 +104,18 @@ print_offset_data::maybe_print_hole (struct ui_file *stream,\n       unsigned int hole_bit = hole % TARGET_CHAR_BIT;\n \n       if (hole_bit > 0)\n-\tfprintf_filtered (stream, \"/* XXX %2u-bit %-7s    */\\n\", hole_bit,\n-\t\t\t  for_what);\n+\t{\n+\t  fprintf_styled (stream, highlight_style.style (),\n+\t\t\t  \"/* XXX %2u-bit %-7s    */\", hole_bit, for_what);\n+\t  fputs_filtered (\"\\n\", stream);\n+\t}\n \n       if (hole_byte > 0)\n-\tfprintf_filtered (stream, \"/* XXX %2u-byte %-7s   */\\n\", hole_byte,\n-\t\t\t  for_what);\n+\t{\n+\t  fprintf_styled (stream, highlight_style.style (),\n+\t\t\t  \"/* XXX %2u-byte %-7s   */\", hole_byte, for_what);\n+\t  fputs_filtered (\"\\n\", stream);\n+\t}\n     }\n }\n "
    }
  ]
}