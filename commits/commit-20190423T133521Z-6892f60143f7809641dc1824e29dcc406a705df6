{
  "sha": "6892f60143f7809641dc1824e29dcc406a705df6",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6Njg5MmY2MDE0M2Y3ODA5NjQxZGMxODI0ZTI5ZGNjNDA2YTcwNWRmNg==",
  "commit": {
    "author": {
      "name": "Tom de Vries",
      "email": "tdevries@suse.de",
      "date": "2019-04-23T13:35:21Z"
    },
    "committer": {
      "name": "Tom de Vries",
      "email": "tdevries@suse.de",
      "date": "2019-04-23T13:35:21Z"
    },
    "message": "[gdb/contrib] Remove superfluous .alt file after dwz invocation in cc-with-tweaks.sh\n\nThe -m option of cc-with-tweaks.sh sets want_multi to true, invoking dwz like\nthis:\n...\nelif [ \"$want_multi\" = true ]; then\n    cp $output_file ${output_file}.alt\n    $DWZ -m ${output_file}.dwz \"$output_file\" ${output_file}.alt \\\n        > /dev/null 2>&1\nfi\n...\n\nThe problem that is being solved here, is that we want to test dwz in\nmultifile mode, which requires more than one input file, while we only have\n(at the scope of cc-with-tweaks.sh) one executable.  We handle this by copying\nthe executable and offering this as a second input (and using a copy has the\nadditional benefit that it maximally enables dwz transformation).\n\nHowever, after the dwz invocation, the copy is no longer used, and the\npresence of the file actually causes a test regression:\n...\nFAIL: gdb.base/jit-so.exp: test jit-reader-load filename completion\n...\n\nFix this by removing the superflous copy after dwz invocation.\n\nTested on x86_64-linux.\n\ngdb/ChangeLog:\n\n2019-04-23  Tom de Vries  <tdevries@suse.de>\n\n\tPR gdb/24438\n\t* contrib/cc-with-tweaks.sh: Remove superfluous .alt file after dwz\n\tinvocation.",
    "tree": {
      "sha": "13b9d617c301a423746ba17595c8ed6467456a83",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/13b9d617c301a423746ba17595c8ed6467456a83"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/6892f60143f7809641dc1824e29dcc406a705df6",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/6892f60143f7809641dc1824e29dcc406a705df6",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/6892f60143f7809641dc1824e29dcc406a705df6",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/6892f60143f7809641dc1824e29dcc406a705df6/comments",
  "author": {
    "login": "vries",
    "id": 4057235,
    "node_id": "MDQ6VXNlcjQwNTcyMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4057235?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vries",
    "html_url": "https://github.com/vries",
    "followers_url": "https://api.github.com/users/vries/followers",
    "following_url": "https://api.github.com/users/vries/following{/other_user}",
    "gists_url": "https://api.github.com/users/vries/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vries/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vries/subscriptions",
    "organizations_url": "https://api.github.com/users/vries/orgs",
    "repos_url": "https://api.github.com/users/vries/repos",
    "events_url": "https://api.github.com/users/vries/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vries/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "vries",
    "id": 4057235,
    "node_id": "MDQ6VXNlcjQwNTcyMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4057235?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vries",
    "html_url": "https://github.com/vries",
    "followers_url": "https://api.github.com/users/vries/followers",
    "following_url": "https://api.github.com/users/vries/following{/other_user}",
    "gists_url": "https://api.github.com/users/vries/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vries/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vries/subscriptions",
    "organizations_url": "https://api.github.com/users/vries/orgs",
    "repos_url": "https://api.github.com/users/vries/repos",
    "events_url": "https://api.github.com/users/vries/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vries/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "ba22ff8694e366fe5f27824566aae65fc6626841",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/ba22ff8694e366fe5f27824566aae65fc6626841",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/ba22ff8694e366fe5f27824566aae65fc6626841"
    }
  ],
  "stats": {
    "total": 7,
    "additions": 7,
    "deletions": 0
  },
  "files": [
    {
      "sha": "1b403bc1c23f31997d652c3da4f6bb19648e570f",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6892f60143f7809641dc1824e29dcc406a705df6/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6892f60143f7809641dc1824e29dcc406a705df6/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=6892f60143f7809641dc1824e29dcc406a705df6",
      "patch": "@@ -1,3 +1,9 @@\n+2019-04-23  Tom de Vries  <tdevries@suse.de>\n+\n+\tPR gdb/24438\n+\t* contrib/cc-with-tweaks.sh: Remove superfluous .alt file after dwz\n+\tinvocation.\n+\n \n 2019-03-27  Ali Tamur  <tamur@google.com>\n "
    },
    {
      "sha": "33c632213813f6423d481756b1c181493cde0dbf",
      "filename": "gdb/contrib/cc-with-tweaks.sh",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6892f60143f7809641dc1824e29dcc406a705df6/gdb/contrib/cc-with-tweaks.sh",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6892f60143f7809641dc1824e29dcc406a705df6/gdb/contrib/cc-with-tweaks.sh",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/contrib/cc-with-tweaks.sh?ref=6892f60143f7809641dc1824e29dcc406a705df6",
      "patch": "@@ -180,6 +180,7 @@ if [ \"$want_dwz\" = true ]; then\n elif [ \"$want_multi\" = true ]; then\n     cp $output_file ${output_file}.alt\n     $DWZ -m ${output_file}.dwz \"$output_file\" ${output_file}.alt > /dev/null 2>&1\n+    rm -f ${output_file}.alt\n fi\n \n if [ \"$want_dwp\" = true ]; then"
    }
  ]
}