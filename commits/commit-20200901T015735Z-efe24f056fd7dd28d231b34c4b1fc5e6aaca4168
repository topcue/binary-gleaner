{
  "sha": "efe24f056fd7dd28d231b34c4b1fc5e6aaca4168",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ZWZlMjRmMDU2ZmQ3ZGQyOGQyMzFiMzRjNGIxZmM1ZTZhYWNhNDE2OA==",
  "commit": {
    "author": {
      "name": "Kevin Buettner",
      "email": "kevinb@redhat.com",
      "date": "2020-08-11T16:36:12Z"
    },
    "committer": {
      "name": "Kevin Buettner",
      "email": "kevinb@redhat.com",
      "date": "2020-09-01T01:57:35Z"
    },
    "message": "corefile.exp: XFAIL warning-free test when testing on docker\n\nWhen testing on docker using the AUFS storage driver, loading a core\nfile will often print a number of warnings.  Here's an example (with\nthe pathname shortened somewhat):\n\nwarning: Can't open file /var/lib/docker/aufs/diff/d07..e21/lib/x86_64-linux-gnu/libc-2.27.so during file-backed mapping note processing\n\nThe \"warning-free\" test in gdb.base/corefile.exp will fail if any\nwarnings are printed, but this particular warning is unavoidable when\nrunning in the docker environment.  Fortunately, the path mentions\nboth \"docker\" and \"aufs\", making it easy to XFAIL this case.\n\ngdb/testsuite/ChangeLog:\n\n\t* gdb.base/corefile.exp (warning-free): XFAIL test when running\n\ton docker w/ AUFS storage driver.",
    "tree": {
      "sha": "8af505cf8db24ee11f59f112fadde66bdea9a960",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/8af505cf8db24ee11f59f112fadde66bdea9a960"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/efe24f056fd7dd28d231b34c4b1fc5e6aaca4168",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/efe24f056fd7dd28d231b34c4b1fc5e6aaca4168",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/efe24f056fd7dd28d231b34c4b1fc5e6aaca4168",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/efe24f056fd7dd28d231b34c4b1fc5e6aaca4168/comments",
  "author": {
    "login": "KevinBuettner",
    "id": 65747518,
    "node_id": "MDQ6VXNlcjY1NzQ3NTE4",
    "avatar_url": "https://avatars.githubusercontent.com/u/65747518?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/KevinBuettner",
    "html_url": "https://github.com/KevinBuettner",
    "followers_url": "https://api.github.com/users/KevinBuettner/followers",
    "following_url": "https://api.github.com/users/KevinBuettner/following{/other_user}",
    "gists_url": "https://api.github.com/users/KevinBuettner/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/KevinBuettner/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/KevinBuettner/subscriptions",
    "organizations_url": "https://api.github.com/users/KevinBuettner/orgs",
    "repos_url": "https://api.github.com/users/KevinBuettner/repos",
    "events_url": "https://api.github.com/users/KevinBuettner/events{/privacy}",
    "received_events_url": "https://api.github.com/users/KevinBuettner/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "KevinBuettner",
    "id": 65747518,
    "node_id": "MDQ6VXNlcjY1NzQ3NTE4",
    "avatar_url": "https://avatars.githubusercontent.com/u/65747518?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/KevinBuettner",
    "html_url": "https://github.com/KevinBuettner",
    "followers_url": "https://api.github.com/users/KevinBuettner/followers",
    "following_url": "https://api.github.com/users/KevinBuettner/following{/other_user}",
    "gists_url": "https://api.github.com/users/KevinBuettner/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/KevinBuettner/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/KevinBuettner/subscriptions",
    "organizations_url": "https://api.github.com/users/KevinBuettner/orgs",
    "repos_url": "https://api.github.com/users/KevinBuettner/repos",
    "events_url": "https://api.github.com/users/KevinBuettner/events{/privacy}",
    "received_events_url": "https://api.github.com/users/KevinBuettner/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "973695d6bb824a1e724d5ea24e7ece013109dc74",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/973695d6bb824a1e724d5ea24e7ece013109dc74",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/973695d6bb824a1e724d5ea24e7ece013109dc74"
    }
  ],
  "stats": {
    "total": 12,
    "additions": 12,
    "deletions": 0
  },
  "files": [
    {
      "sha": "7e60a11c3dd9786684f20c73708afad547b41e6c",
      "filename": "gdb/testsuite/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/efe24f056fd7dd28d231b34c4b1fc5e6aaca4168/gdb/testsuite/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/efe24f056fd7dd28d231b34c4b1fc5e6aaca4168/gdb/testsuite/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/ChangeLog?ref=efe24f056fd7dd28d231b34c4b1fc5e6aaca4168",
      "patch": "@@ -1,3 +1,8 @@\n+2020-08-31  Kevin Buettner  <kevinb@redhat.com>\n+\n+\t* gdb.base/corefile.exp (warning-free): XFAIL test when running\n+\ton docker w/ AUFS storage driver.\n+\n 2020-08-31  Kevin Buettner  <kevinb@redhat.com>\n \n \t* gdb.base/corefile2.exp (renamed binfile): New tests."
    },
    {
      "sha": "b1022dd16f1dd8584344c50628e63c94117769de",
      "filename": "gdb/testsuite/gdb.base/corefile.exp",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/efe24f056fd7dd28d231b34c4b1fc5e6aaca4168/gdb/testsuite/gdb.base/corefile.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/efe24f056fd7dd28d231b34c4b1fc5e6aaca4168/gdb/testsuite/gdb.base/corefile.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/corefile.exp?ref=efe24f056fd7dd28d231b34c4b1fc5e6aaca4168",
      "patch": "@@ -324,11 +324,18 @@ corefile_test_attach\n # Test warning-free core file load.  E.g., a Linux vDSO used to\n # trigger this warning:\n #     warning: Can't read pathname for load map: Input/output error.\n+#\n+# When testing in a docker container using the AUFS storage driver,\n+# the kernel places host paths in the core file's NT_FILE note.  XFAIL\n+# this case since these paths make no sense in the container.\n \n clean_restart ${testfile}\n \n set test \"core-file warning-free\"\n gdb_test_multiple \"core-file $corefile\" $test {\n+    -re \"warning: Can\\'t open file.*\\/docker\\/aufs\\/.*\\r\\n$gdb_prompt $\" {\n+\txfail $test\n+    }\n     -re \"warning: .*\\r\\n.*\\r\\n$gdb_prompt $\" {\n \tfail $test\n     }"
    }
  ]
}