{
  "sha": "5b316d90e4ec9845a890fd21ad86cf1043fb2ca3",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NWIzMTZkOTBlNGVjOTg0NWE4OTBmZDIxYWQ4NmNmMTA0M2ZiMmNhMw==",
  "commit": {
    "author": {
      "name": "H.J. Lu",
      "email": "hjl.tools@gmail.com",
      "date": "2020-10-05T12:27:58Z"
    },
    "committer": {
      "name": "H.J. Lu",
      "email": "hjl.tools@gmail.com",
      "date": "2020-10-05T12:28:12Z"
    },
    "message": "x86-64: Always display suffix for %LQ in 64bit\n\nIn 64bit, assembler generates a warning for \"sysret\":\n\n$ echo sysret | as --64 -o x.o -\n{standard input}: Assembler messages:\n{standard input}:1: Warning: no instruction mnemonic suffix given and no register operands; using default for `sysret'\n\nAlways display suffix for %LQ in 64bit to display \"sysretl\".\n\ngas/\n\n\tPR binutils/26704\n\t* testsuite/gas/i386/noreg64-data16.d: Expect sysretl instead of\n\tsysret.\n\t* testsuite/gas/i386/noreg64.d: Likewise.\n\t* testsuite/gas/i386/x86-64-intel64.d: Likewise.\n\t* testsuite/gas/i386/x86-64-opcode.d: Likewise.\n\nopcodes/\n\n\tPR binutils/26704\n\t* i386-dis.c (putop): Always display suffix for %LQ in 64bit.",
    "tree": {
      "sha": "e7b1c53fa92c705ba5ed4c66c8e427ceffac4e8b",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/e7b1c53fa92c705ba5ed4c66c8e427ceffac4e8b"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/5b316d90e4ec9845a890fd21ad86cf1043fb2ca3",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/5b316d90e4ec9845a890fd21ad86cf1043fb2ca3",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/5b316d90e4ec9845a890fd21ad86cf1043fb2ca3",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/5b316d90e4ec9845a890fd21ad86cf1043fb2ca3/comments",
  "author": {
    "login": "hjl-tools",
    "id": 1072356,
    "node_id": "MDQ6VXNlcjEwNzIzNTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hjl-tools",
    "html_url": "https://github.com/hjl-tools",
    "followers_url": "https://api.github.com/users/hjl-tools/followers",
    "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}",
    "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions",
    "organizations_url": "https://api.github.com/users/hjl-tools/orgs",
    "repos_url": "https://api.github.com/users/hjl-tools/repos",
    "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hjl-tools/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "hjl-tools",
    "id": 1072356,
    "node_id": "MDQ6VXNlcjEwNzIzNTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hjl-tools",
    "html_url": "https://github.com/hjl-tools",
    "followers_url": "https://api.github.com/users/hjl-tools/followers",
    "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}",
    "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions",
    "organizations_url": "https://api.github.com/users/hjl-tools/orgs",
    "repos_url": "https://api.github.com/users/hjl-tools/repos",
    "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hjl-tools/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "0e9f3bf12616b108682bb6f6e2a5ef04df9586a8",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/0e9f3bf12616b108682bb6f6e2a5ef04df9586a8",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/0e9f3bf12616b108682bb6f6e2a5ef04df9586a8"
    }
  ],
  "stats": {
    "total": 24,
    "additions": 19,
    "deletions": 5
  },
  "files": [
    {
      "sha": "bd0834016b95e9713e51e4a895858fa0a4ffba61",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 9,
      "deletions": 0,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5b316d90e4ec9845a890fd21ad86cf1043fb2ca3/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5b316d90e4ec9845a890fd21ad86cf1043fb2ca3/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=5b316d90e4ec9845a890fd21ad86cf1043fb2ca3",
      "patch": "@@ -1,3 +1,12 @@\n+2020-10-05  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\tPR binutils/26704\n+\t* testsuite/gas/i386/noreg64-data16.d: Expect sysretl instead of\n+\tsysret.\n+\t* testsuite/gas/i386/noreg64.d: Likewise.\n+\t* testsuite/gas/i386/x86-64-intel64.d: Likewise.\n+\t* testsuite/gas/i386/x86-64-opcode.d: Likewise.\n+\n 2020-10-05  H.J. Lu  <hongjiu.lu@intel.com>\n \n \tPR binutils/26705"
    },
    {
      "sha": "881043df61e48aca86e009b338909029df5529ae",
      "filename": "gas/testsuite/gas/i386/noreg64-data16.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5b316d90e4ec9845a890fd21ad86cf1043fb2ca3/gas/testsuite/gas/i386/noreg64-data16.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5b316d90e4ec9845a890fd21ad86cf1043fb2ca3/gas/testsuite/gas/i386/noreg64-data16.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/noreg64-data16.d?ref=5b316d90e4ec9845a890fd21ad86cf1043fb2ca3",
      "patch": "@@ -150,7 +150,7 @@ Disassembly of section .text:\n  *[a-f0-9]+:\t66 81 28 89 00       \tsubw   \\$0x89,\\(%rax\\)\n  *[a-f0-9]+:\t66 81 28 34 12       \tsubw   \\$0x1234,\\(%rax\\)\n  *[a-f0-9]+:\t66 81 28 78 56       \tsubw   \\$0x5678,\\(%rax\\)\n- *[a-f0-9]+:\t66 0f 07             \tdata16 sysret *\n+ *[a-f0-9]+:\t66 0f 07             \tdata16 sysretl *\n  *[a-f0-9]+:\t66 f7 00 89 00       \ttestw  \\$0x89,\\(%rax\\)\n  *[a-f0-9]+:\t66 f7 00 34 12       \ttestw  \\$0x1234,\\(%rax\\)\n  *[a-f0-9]+:\t66 f7 00 78 56       \ttestw  \\$0x5678,\\(%rax\\)"
    },
    {
      "sha": "6cc461f485b0337a3b7cabc4fda47a86c80709f7",
      "filename": "gas/testsuite/gas/i386/noreg64.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5b316d90e4ec9845a890fd21ad86cf1043fb2ca3/gas/testsuite/gas/i386/noreg64.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5b316d90e4ec9845a890fd21ad86cf1043fb2ca3/gas/testsuite/gas/i386/noreg64.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/noreg64.d?ref=5b316d90e4ec9845a890fd21ad86cf1043fb2ca3",
      "patch": "@@ -151,7 +151,7 @@ Disassembly of section .text:\n  *[a-f0-9]+:\t81 28 89 00 00 00    \tsubl   \\$0x89,\\(%rax\\)\n  *[a-f0-9]+:\t81 28 34 12 00 00    \tsubl   \\$0x1234,\\(%rax\\)\n  *[a-f0-9]+:\t81 28 78 56 34 12    \tsubl   \\$0x12345678,\\(%rax\\)\n- *[a-f0-9]+:\t0f 07                \tsysret *\n+ *[a-f0-9]+:\t0f 07                \tsysretl *\n  *[a-f0-9]+:\tf7 00 89 00 00 00    \ttestl  \\$0x89,\\(%rax\\)\n  *[a-f0-9]+:\tf7 00 34 12 00 00    \ttestl  \\$0x1234,\\(%rax\\)\n  *[a-f0-9]+:\tf7 00 78 56 34 12    \ttestl  \\$0x12345678,\\(%rax\\)"
    },
    {
      "sha": "496e2e50fabc7cdb004274729bdb667613131abb",
      "filename": "gas/testsuite/gas/i386/x86-64-intel64.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5b316d90e4ec9845a890fd21ad86cf1043fb2ca3/gas/testsuite/gas/i386/x86-64-intel64.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5b316d90e4ec9845a890fd21ad86cf1043fb2ca3/gas/testsuite/gas/i386/x86-64-intel64.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/x86-64-intel64.d?ref=5b316d90e4ec9845a890fd21ad86cf1043fb2ca3",
      "patch": "@@ -15,7 +15,7 @@ Disassembly of section .text:\n [ \t]*[a-f0-9]+:\t48 ff 18             \trex\\.W lcall \\*\\(%rax\\)\n [ \t]*[a-f0-9]+:\t48 ff 29             \trex\\.W ljmp \\*\\(%rcx\\)\n [ \t]*[a-f0-9]+:\t0f 05                \tsyscall \n-[ \t]*[a-f0-9]+:\t0f 07                \tsysret \n+[ \t]*[a-f0-9]+:\t0f 07                \tsysretl \n [ \t]*[a-f0-9]+:\t48 0f 07             \tsysretq *\n [ \t]*[a-f0-9]+:\t48 0f b4 01          \tlfs    \\(%rcx\\),%rax\n [ \t]*[a-f0-9]+:\t48 0f b4 01          \tlfs    \\(%rcx\\),%rax"
    },
    {
      "sha": "ab55d2ca35064dc2a7b4ae96be1db813faa45be9",
      "filename": "gas/testsuite/gas/i386/x86-64-opcode.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5b316d90e4ec9845a890fd21ad86cf1043fb2ca3/gas/testsuite/gas/i386/x86-64-opcode.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5b316d90e4ec9845a890fd21ad86cf1043fb2ca3/gas/testsuite/gas/i386/x86-64-opcode.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/x86-64-opcode.d?ref=5b316d90e4ec9845a890fd21ad86cf1043fb2ca3",
      "patch": "@@ -321,7 +321,7 @@ Disassembly of section .text:\n [ \t]*[a-f0-9]+:\t66 0f 00 c8          \tstr    %ax\n [ \t]*[a-f0-9]+:\t0f 00 08             \tstr    \\(%rax\\)\n [ \t]*[a-f0-9]+:\t0f 05                \tsyscall \n-[ \t]*[a-f0-9]+:\t0f 07                \tsysret \n+[ \t]*[a-f0-9]+:\t0f 07                \tsysretl \n [ \t]*[a-f0-9]+:\t48 0f 07             \tsysretq *\n [ \t]*[a-f0-9]+:\t0f 01 f8             \tswapgs \n [ \t]*[a-f0-9]+:\t66 68 22 22          \tpushw  \\$0x2222"
    },
    {
      "sha": "3c74fbf3d870be9fe33718b8e14024ede66c9353",
      "filename": "opcodes/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5b316d90e4ec9845a890fd21ad86cf1043fb2ca3/opcodes/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5b316d90e4ec9845a890fd21ad86cf1043fb2ca3/opcodes/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/ChangeLog?ref=5b316d90e4ec9845a890fd21ad86cf1043fb2ca3",
      "patch": "@@ -1,3 +1,8 @@\n+2020-10-05  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\tPR binutils/26704\n+\t* i386-dis.c (putop): Always display suffix for %LQ in 64bit.\n+\n 2020-10-05  H.J. Lu  <hongjiu.lu@intel.com>\n \n \tPR binutils/26705"
    },
    {
      "sha": "4d8f4f4cc2bd6c6532bc43c0145f78a25f337cf4",
      "filename": "opcodes/i386-dis.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5b316d90e4ec9845a890fd21ad86cf1043fb2ca3/opcodes/i386-dis.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5b316d90e4ec9845a890fd21ad86cf1043fb2ca3/opcodes/i386-dis.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/i386-dis.c?ref=5b316d90e4ec9845a890fd21ad86cf1043fb2ca3",
      "patch": "@@ -10870,7 +10870,7 @@ putop (const char *in_template, int sizeflag)\n \t\t  USED_REX (REX_W);\n \t\t  *obufp++ = 'q';\n \t\t}\n-\t      else if((address_mode == mode_64bit && need_modrm && cond)\n+\t      else if((address_mode == mode_64bit && cond)\n \t\t      || (sizeflag & SUFFIX_ALWAYS))\n \t\t*obufp++ = intel_syntax? 'd' : 'l';\n \t    }"
    }
  ]
}