{
  "sha": "c1bc0935a4afb513486dc0a479cd57c0924b677c",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YzFiYzA5MzVhNGFmYjUxMzQ4NmRjMGE0NzljZDU3YzA5MjRiNjc3Yw==",
  "commit": {
    "author": {
      "name": "Alan Hayward",
      "email": "alan.hayward@arm.com",
      "date": "2019-04-12T13:21:55Z"
    },
    "committer": {
      "name": "Alan Hayward",
      "email": "alan.hayward@arm.com",
      "date": "2019-04-17T08:54:47Z"
    },
    "message": "gdbserver: Move remote_debug to a single place\n\nA comment in debug.h (written in 2014) states: \"We declare debug format\nvariables here, and debug_threads but no other debug content variables\n(e.g., not remote_debug) because while this file is not currently used by\nIPA it may be some day, and IPA may have its own set of debug content\nvariables\".\n\nThis has resulted in remote_debug being declared in many .c/.h files\nthroughout gdbserver.\n\nIt would be much simplier to define it one place.  The most logical place to\ndefine it is in debug.h, surrounded by #define guards.  If IPA is changed,\nthen at that point the variable can be moved elsewhere.\n\ngdb/gdbserver/ChangeLog:\n\n\t* debug.c (remote_debug): Add definition.\n\t* debug.h (remote_debug): Add declaration.\n\t* hostio.c (remote_debug): Remove declaration.\n\t* remote-utils.c (struct ui_file): Likewise.\n\t(remote_debug): Likewise.\n\t* remote-utils.h (remote_debug): Likewise,\n\t* server.c (remote_debug): Remove definition.",
    "tree": {
      "sha": "18dcc642b0a0f8dc4846bf13552f2dbe71a506bc",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/18dcc642b0a0f8dc4846bf13552f2dbe71a506bc"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/c1bc0935a4afb513486dc0a479cd57c0924b677c",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/c1bc0935a4afb513486dc0a479cd57c0924b677c",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/c1bc0935a4afb513486dc0a479cd57c0924b677c",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/c1bc0935a4afb513486dc0a479cd57c0924b677c/comments",
  "author": {
    "login": "a74nh",
    "id": 4146708,
    "node_id": "MDQ6VXNlcjQxNDY3MDg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4146708?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/a74nh",
    "html_url": "https://github.com/a74nh",
    "followers_url": "https://api.github.com/users/a74nh/followers",
    "following_url": "https://api.github.com/users/a74nh/following{/other_user}",
    "gists_url": "https://api.github.com/users/a74nh/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/a74nh/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/a74nh/subscriptions",
    "organizations_url": "https://api.github.com/users/a74nh/orgs",
    "repos_url": "https://api.github.com/users/a74nh/repos",
    "events_url": "https://api.github.com/users/a74nh/events{/privacy}",
    "received_events_url": "https://api.github.com/users/a74nh/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "a74nh",
    "id": 4146708,
    "node_id": "MDQ6VXNlcjQxNDY3MDg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4146708?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/a74nh",
    "html_url": "https://github.com/a74nh",
    "followers_url": "https://api.github.com/users/a74nh/followers",
    "following_url": "https://api.github.com/users/a74nh/following{/other_user}",
    "gists_url": "https://api.github.com/users/a74nh/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/a74nh/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/a74nh/subscriptions",
    "organizations_url": "https://api.github.com/users/a74nh/orgs",
    "repos_url": "https://api.github.com/users/a74nh/repos",
    "events_url": "https://api.github.com/users/a74nh/events{/privacy}",
    "received_events_url": "https://api.github.com/users/a74nh/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "1cfe2726f1564df1247f7844077717db04522a88",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/1cfe2726f1564df1247f7844077717db04522a88",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/1cfe2726f1564df1247f7844077717db04522a88"
    }
  ],
  "stats": {
    "total": 34,
    "additions": 18,
    "deletions": 16
  },
  "files": [
    {
      "sha": "0581f59b5df72ec001010a0905aa4b0f5eec3d49",
      "filename": "gdb/gdbserver/ChangeLog",
      "status": "modified",
      "additions": 10,
      "deletions": 0,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c1bc0935a4afb513486dc0a479cd57c0924b677c/gdb/gdbserver/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c1bc0935a4afb513486dc0a479cd57c0924b677c/gdb/gdbserver/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/gdbserver/ChangeLog?ref=c1bc0935a4afb513486dc0a479cd57c0924b677c",
      "patch": "@@ -1,3 +1,13 @@\n+2019-04-17  Alan Hayward  <alan.hayward@arm.com>\n+\n+\t* debug.c (remote_debug): Add definition.\n+\t* debug.h (remote_debug): Add declaration.\n+\t* hostio.c (remote_debug): Remove declaration.\n+\t* remote-utils.c (struct ui_file): Likewise.\n+\t(remote_debug): Likewise.\n+\t* remote-utils.h (remote_debug): Likewise,\n+\t* server.c (remote_debug): Remove definition.\n+\n 2019-04-10  Kevin Buettner  <kevinb@redhat.com>\n \n \t* linux-x86-low.c (x86_fill_gregset): Sign extend EAX value"
    },
    {
      "sha": "7c4c77afe245f3b269f0db71b848c857bce3b694",
      "filename": "gdb/gdbserver/debug.c",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c1bc0935a4afb513486dc0a479cd57c0924b677c/gdb/gdbserver/debug.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c1bc0935a4afb513486dc0a479cd57c0924b677c/gdb/gdbserver/debug.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/gdbserver/debug.c?ref=c1bc0935a4afb513486dc0a479cd57c0924b677c",
      "patch": "@@ -19,6 +19,10 @@\n #include \"server.h\"\n #include <chrono>\n \n+#if !defined (IN_PROCESS_AGENT)\n+int remote_debug = 0;\n+#endif\n+\n /* Enable miscellaneous debugging output.  The name is historical - it\n    was originally used to debug LinuxThreads support.  */\n int debug_threads;"
    },
    {
      "sha": "c8d5e3365e749cc4360e4fc37bf51e3acc74e7b0",
      "filename": "gdb/gdbserver/debug.h",
      "status": "modified",
      "additions": 4,
      "deletions": 7,
      "changes": 11,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c1bc0935a4afb513486dc0a479cd57c0924b677c/gdb/gdbserver/debug.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c1bc0935a4afb513486dc0a479cd57c0924b677c/gdb/gdbserver/debug.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/gdbserver/debug.h?ref=c1bc0935a4afb513486dc0a479cd57c0924b677c",
      "patch": "@@ -19,13 +19,10 @@\n #ifndef GDBSERVER_DEBUG_H\n #define GDBSERVER_DEBUG_H\n \n-/* We declare debug format variables here, and debug_threads but no other\n-   debug content variables (e.g., not remote_debug) because while this file\n-   is not currently used by IPA it may be some day, and IPA may have its own\n-   set of debug content variables.  It's ok to declare debug_threads here\n-   because it is misnamed - a better name is debug_basic or some such,\n-   which can work for any program, gdbserver or IPA.  If/when this file is\n-   used with IPA it is recommended to fix debug_thread's name.  */\n+#if !defined (IN_PROCESS_AGENT)\n+extern int remote_debug;\n+#endif\n+\n extern int debug_threads;\n extern int debug_timestamp;\n "
    },
    {
      "sha": "eedf6d9fe7212b5fa266c11553370313a710fa6d",
      "filename": "gdb/gdbserver/hostio.c",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c1bc0935a4afb513486dc0a479cd57c0924b677c/gdb/gdbserver/hostio.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c1bc0935a4afb513486dc0a479cd57c0924b677c/gdb/gdbserver/hostio.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/gdbserver/hostio.c?ref=c1bc0935a4afb513486dc0a479cd57c0924b677c",
      "patch": "@@ -29,8 +29,6 @@\n #include <sys/stat.h>\n #include \"common/fileio.h\"\n \n-extern int remote_debug;\n-\n struct fd_list\n {\n   int fd;"
    },
    {
      "sha": "903d77349d38f0d2f7b8f6e5a530a3990b1ad251",
      "filename": "gdb/gdbserver/remote-utils.c",
      "status": "modified",
      "additions": 0,
      "deletions": 3,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c1bc0935a4afb513486dc0a479cd57c0924b677c/gdb/gdbserver/remote-utils.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c1bc0935a4afb513486dc0a479cd57c0924b677c/gdb/gdbserver/remote-utils.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/gdbserver/remote-utils.c?ref=c1bc0935a4afb513486dc0a479cd57c0924b677c",
      "patch": "@@ -108,9 +108,6 @@ struct sym_cache\n   struct sym_cache *next;\n };\n \n-int remote_debug = 0;\n-struct ui_file *gdb_stdlog;\n-\n static int remote_is_stdio = 0;\n \n static gdb_fildes_t remote_desc = INVALID_DESCRIPTOR;"
    },
    {
      "sha": "4ca5d9435e57330b0d8b22714b90a7b2b6b01d03",
      "filename": "gdb/gdbserver/remote-utils.h",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c1bc0935a4afb513486dc0a479cd57c0924b677c/gdb/gdbserver/remote-utils.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c1bc0935a4afb513486dc0a479cd57c0924b677c/gdb/gdbserver/remote-utils.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/gdbserver/remote-utils.h?ref=c1bc0935a4afb513486dc0a479cd57c0924b677c",
      "patch": "@@ -19,8 +19,6 @@\n #ifndef GDBSERVER_REMOTE_UTILS_H\n #define GDBSERVER_REMOTE_UTILS_H\n \n-extern int remote_debug;\n-\n int gdb_connected (void);\n \n #define STDIO_CONNECTION_NAME \"stdio\""
    },
    {
      "sha": "3f6c849dbcb67ae58fdf9d066af4e97bf27ef940",
      "filename": "gdb/gdbserver/server.c",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c1bc0935a4afb513486dc0a479cd57c0924b677c/gdb/gdbserver/server.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c1bc0935a4afb513486dc0a479cd57c0924b677c/gdb/gdbserver/server.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/gdbserver/server.c?ref=c1bc0935a4afb513486dc0a479cd57c0924b677c",
      "patch": "@@ -328,8 +328,6 @@ attach_inferior (int pid)\n   return 0;\n }\n \n-extern int remote_debug;\n-\n /* Decode a qXfer read request.  Return 0 if everything looks OK,\n    or -1 otherwise.  */\n "
    }
  ]
}