{
  "sha": "87b2920fc54826c2a0015ab3a19b7b873d208653",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ODdiMjkyMGZjNTQ4MjZjMmEwMDE1YWIzYTE5YjdiODczZDIwODY1Mw==",
  "commit": {
    "author": {
      "name": "Jon Turney",
      "email": "jon.turney@dronecode.org.uk",
      "date": "2020-01-15T18:48:13Z"
    },
    "committer": {
      "name": "Jon Turney",
      "email": "jon.turney@dronecode.org.uk",
      "date": "2020-01-30T13:06:24Z"
    },
    "message": "Bugfixes for pe_print_debugdata()\n\nUse a separate iteration variable for inner loop (:blush:).  This\ngenerally prevented any debug directory entries after a\nIMAGE_DEBUG_TYPE_CODEVIEW entry from being reported.\n\nDon't leak the memory allocated for the section containing the debug\ndirectory.\n\nbfd/ChangeLog:\n\n2020-01-16  Jon Turney  <jon.turney@dronecode.org.uk>\n\n\t* peXXigen.c (pe_print_debugdata): Fix the iteration variable for\n\tinner loop.  Fix a memory leak.",
    "tree": {
      "sha": "b2318a012a0603c2be95530d2a30ce2ca57877aa",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/b2318a012a0603c2be95530d2a30ce2ca57877aa"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/87b2920fc54826c2a0015ab3a19b7b873d208653",
    "comment_count": 0,
    "verification": {
      "verified": true,
      "reason": "valid",
      "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIcBAABAgAGBQJeMtTRAAoJEMfIbwNwKFyBEHIP/iEuu/xweS7r1ZrnqjTYbAc7\nRbyNBx/f8vYLeE3RvPdUV13En6f1TMim+O3bJhZ1adV8QHkM822kWnPW4/dDaqvt\n/6Apr5zSnFw1yPDX+8D37Z1UDfljAuIk0Q3RF6HD8Ejgz+uyhOTC0wmrcMaD2mu2\nuQHdyAVGyFlb5OroXzco1oXhC0FD4pB3AAkeTmm/XW1w4/cO7Gfd1ij69NElhw7z\nn+IaGdQikDPvocxXYb+eS5iRLF1sDEW1N8RB8h1wa17bUd8UJQOE/GupQ0MtySbV\nc4r3La+O6rjdq8dfh0h5uT6IADETTsReSm8N/UWBcCJMFk7H0m7yiDYJFMVHjLf8\nJGXFPVWXinTH3sbYsQ8SAwIZBD9VeGfIoMJQdvIhmbU7juwHRC9BmdKvxDcapOc0\nA7j/MPie24vAAXIGQHEbzbrkKnmxutod+Vw19z5zJqdJPXlRsTz7Q9VS9AbN9nk2\nAoKdlYedCgrW2jGzifFw6C0taFKqrQ34mTrI4oQDYNUeCtKKwdzRzjFrXNkz0Ptr\nV4IL8cfpbuJHzBiItoa1NhdLRAl9+fOm8FU+TdwzzZRh1qFPepQcbx7D041xLwMW\nTcg2hS+wkG4baLOEVAuuMaoQE1u2kjX192FrJuMcysOJcACwi42D6J2azWqLKhyV\n+NAvtvnNmvP8teXTckPA\n=f5Vd\n-----END PGP SIGNATURE-----",
      "payload": "tree b2318a012a0603c2be95530d2a30ce2ca57877aa\nparent bd434cc4d94ec3d2f9fc1e7c00c27b074f962bc1\nauthor Jon Turney <jon.turney@dronecode.org.uk> 1579114093 +0000\ncommitter Jon Turney <jon.turney@dronecode.org.uk> 1580389584 +0000\n\nBugfixes for pe_print_debugdata()\n\nUse a separate iteration variable for inner loop (:blush:).  This\ngenerally prevented any debug directory entries after a\nIMAGE_DEBUG_TYPE_CODEVIEW entry from being reported.\n\nDon't leak the memory allocated for the section containing the debug\ndirectory.\n\nbfd/ChangeLog:\n\n2020-01-16  Jon Turney  <jon.turney@dronecode.org.uk>\n\n\t* peXXigen.c (pe_print_debugdata): Fix the iteration variable for\n\tinner loop.  Fix a memory leak.\n"
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/87b2920fc54826c2a0015ab3a19b7b873d208653",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/87b2920fc54826c2a0015ab3a19b7b873d208653",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/87b2920fc54826c2a0015ab3a19b7b873d208653/comments",
  "author": {
    "login": "jon-turney",
    "id": 3497232,
    "node_id": "MDQ6VXNlcjM0OTcyMzI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3497232?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jon-turney",
    "html_url": "https://github.com/jon-turney",
    "followers_url": "https://api.github.com/users/jon-turney/followers",
    "following_url": "https://api.github.com/users/jon-turney/following{/other_user}",
    "gists_url": "https://api.github.com/users/jon-turney/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jon-turney/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jon-turney/subscriptions",
    "organizations_url": "https://api.github.com/users/jon-turney/orgs",
    "repos_url": "https://api.github.com/users/jon-turney/repos",
    "events_url": "https://api.github.com/users/jon-turney/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jon-turney/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "jon-turney",
    "id": 3497232,
    "node_id": "MDQ6VXNlcjM0OTcyMzI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3497232?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jon-turney",
    "html_url": "https://github.com/jon-turney",
    "followers_url": "https://api.github.com/users/jon-turney/followers",
    "following_url": "https://api.github.com/users/jon-turney/following{/other_user}",
    "gists_url": "https://api.github.com/users/jon-turney/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jon-turney/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jon-turney/subscriptions",
    "organizations_url": "https://api.github.com/users/jon-turney/orgs",
    "repos_url": "https://api.github.com/users/jon-turney/repos",
    "events_url": "https://api.github.com/users/jon-turney/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jon-turney/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "bd434cc4d94ec3d2f9fc1e7c00c27b074f962bc1",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/bd434cc4d94ec3d2f9fc1e7c00c27b074f962bc1",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/bd434cc4d94ec3d2f9fc1e7c00c27b074f962bc1"
    }
  ],
  "stats": {
    "total": 13,
    "additions": 10,
    "deletions": 3
  },
  "files": [
    {
      "sha": "58af683172418de88e6b827cce4fe1496042a075",
      "filename": "bfd/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/87b2920fc54826c2a0015ab3a19b7b873d208653/bfd/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/87b2920fc54826c2a0015ab3a19b7b873d208653/bfd/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/ChangeLog?ref=87b2920fc54826c2a0015ab3a19b7b873d208653",
      "patch": "@@ -1,3 +1,8 @@\n+2020-01-16  Jon Turney  <jon.turney@dronecode.org.uk>\n+\n+\t* peXXigen.c (pe_print_debugdata): Fix the iteration variable for\n+\tinner loop.  Fix a memory leak.\n+\n 2020-01-30  Alan Modra  <amodra@gmail.com>\n \n \t* coffgen.c (coff_real_object_p): Don't clear obj_coff_keep_syms"
    },
    {
      "sha": "ac0cf174647434eb184bf05e22634742b0869416",
      "filename": "bfd/peXXigen.c",
      "status": "modified",
      "additions": 5,
      "deletions": 3,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/87b2920fc54826c2a0015ab3a19b7b873d208653/bfd/peXXigen.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/87b2920fc54826c2a0015ab3a19b7b873d208653/bfd/peXXigen.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/peXXigen.c?ref=87b2920fc54826c2a0015ab3a19b7b873d208653",
      "patch": "@@ -2630,7 +2630,7 @@ pe_print_debugdata (bfd * abfd, void * vfile)\n   asection *section;\n   bfd_byte *data = 0;\n   bfd_size_type dataoff;\n-  unsigned int i;\n+  unsigned int i, j;\n \n   bfd_vma addr = extra->DataDirectory[PE_DEBUG_DATA].VirtualAddress;\n   bfd_size_type size = extra->DataDirectory[PE_DEBUG_DATA].Size;\n@@ -2722,8 +2722,8 @@ pe_print_debugdata (bfd * abfd, void * vfile)\n \t\t\t\t\t       idd.SizeOfData, cvinfo))\n \t    continue;\n \n-\t  for (i = 0; i < cvinfo->SignatureLength; i++)\n-\t    sprintf (&signature[i*2], \"%02x\", cvinfo->Signature[i] & 0xff);\n+\t  for (j = 0; j < cvinfo->SignatureLength; j++)\n+\t    sprintf (&signature[j*2], \"%02x\", cvinfo->Signature[j] & 0xff);\n \n \t  /* xgettext:c-format */\n \t  fprintf (file, _(\"(format %c%c%c%c signature %s age %ld)\\n\"),\n@@ -2732,6 +2732,8 @@ pe_print_debugdata (bfd * abfd, void * vfile)\n \t}\n     }\n \n+  free(data);\n+\n   if (size % sizeof (struct external_IMAGE_DEBUG_DIRECTORY) != 0)\n     fprintf (file,\n \t    _(\"The debug directory size is not a multiple of the debug directory entry size\\n\"));"
    }
  ]
}