{
  "sha": "3751264cdd187e355af867198f5b70b36846a1a8",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6Mzc1MTI2NGNkZDE4N2UzNTVhZjg2NzE5OGY1YjcwYjM2ODQ2YTFhOA==",
  "commit": {
    "author": {
      "name": "Andrea Corallo",
      "email": "andrea.corallo@arm.com",
      "date": "2021-05-14T14:19:39Z"
    },
    "committer": {
      "name": "Andrea Corallo",
      "email": "andrea.corallo@arm.com",
      "date": "2021-07-26T12:18:24Z"
    },
    "message": "PATCH [1/10] arm: add 'bti' instruction for Armv8.1-M pacbti extension\n\ngas/\n2021-06-11  Andrea Corallo  <andrea.corallo@arm.com>\n\n\t* config/tc-arm.c (insns): Add 'bti' insn.\n\t* testsuite/gas/arm/armv8_1-m-pacbti.d: New file.\n\t* testsuite/gas/arm/armv8_1-m-pacbti.s: Likewise.\n\nopcodes/\n2021-06-11  Andrea Corallo  <andrea.corallo@arm.com>\n\n\t* arm-dis.c (thumb32_opcodes): Add bti instruction.",
    "tree": {
      "sha": "ec2e3e3ac0a4863a66a4e290394ae72263f09e4a",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/ec2e3e3ac0a4863a66a4e290394ae72263f09e4a"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/3751264cdd187e355af867198f5b70b36846a1a8",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/3751264cdd187e355af867198f5b70b36846a1a8",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/3751264cdd187e355af867198f5b70b36846a1a8",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/3751264cdd187e355af867198f5b70b36846a1a8/comments",
  "author": {
    "login": "AndreaCorallo",
    "id": 6765576,
    "node_id": "MDQ6VXNlcjY3NjU1NzY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6765576?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/AndreaCorallo",
    "html_url": "https://github.com/AndreaCorallo",
    "followers_url": "https://api.github.com/users/AndreaCorallo/followers",
    "following_url": "https://api.github.com/users/AndreaCorallo/following{/other_user}",
    "gists_url": "https://api.github.com/users/AndreaCorallo/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/AndreaCorallo/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/AndreaCorallo/subscriptions",
    "organizations_url": "https://api.github.com/users/AndreaCorallo/orgs",
    "repos_url": "https://api.github.com/users/AndreaCorallo/repos",
    "events_url": "https://api.github.com/users/AndreaCorallo/events{/privacy}",
    "received_events_url": "https://api.github.com/users/AndreaCorallo/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "AndreaCorallo",
    "id": 6765576,
    "node_id": "MDQ6VXNlcjY3NjU1NzY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6765576?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/AndreaCorallo",
    "html_url": "https://github.com/AndreaCorallo",
    "followers_url": "https://api.github.com/users/AndreaCorallo/followers",
    "following_url": "https://api.github.com/users/AndreaCorallo/following{/other_user}",
    "gists_url": "https://api.github.com/users/AndreaCorallo/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/AndreaCorallo/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/AndreaCorallo/subscriptions",
    "organizations_url": "https://api.github.com/users/AndreaCorallo/orgs",
    "repos_url": "https://api.github.com/users/AndreaCorallo/repos",
    "events_url": "https://api.github.com/users/AndreaCorallo/events{/privacy}",
    "received_events_url": "https://api.github.com/users/AndreaCorallo/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "730afdd1399f12b6683b70b7cba0ef67651e4e05",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/730afdd1399f12b6683b70b7cba0ef67651e4e05",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/730afdd1399f12b6683b70b7cba0ef67651e4e05"
    }
  ],
  "stats": {
    "total": 21,
    "additions": 21,
    "deletions": 0
  },
  "files": [
    {
      "sha": "d7f8fca803ba479344c37650a38d4a532b8ae634",
      "filename": "gas/config/tc-arm.c",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3751264cdd187e355af867198f5b70b36846a1a8/gas/config/tc-arm.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3751264cdd187e355af867198f5b70b36846a1a8/gas/config/tc-arm.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/config/tc-arm.c?ref=3751264cdd187e355af867198f5b70b36846a1a8",
      "patch": "@@ -26305,6 +26305,7 @@ static const struct asm_opcode insns[] =\n  /* Armv8.1-M Mainline instructions.  */\n #undef  THUMB_VARIANT\n #define THUMB_VARIANT & arm_ext_v8_1m_main\n+ ToU(\"bti\",   f3af800f, 0, (), noargs),\n  toU(\"cinc\",  _cinc,  3, (RRnpcsp, RR_ZR, COND),\tt_cond),\n  toU(\"cinv\",  _cinv,  3, (RRnpcsp, RR_ZR, COND),\tt_cond),\n  toU(\"cneg\",  _cneg,  3, (RRnpcsp, RR_ZR, COND),\tt_cond),"
    },
    {
      "sha": "3c6937284681fa43728c16554cb75332655f687d",
      "filename": "gas/testsuite/gas/arm/armv8_1-m-pacbti.d",
      "status": "added",
      "additions": 10,
      "deletions": 0,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3751264cdd187e355af867198f5b70b36846a1a8/gas/testsuite/gas/arm/armv8_1-m-pacbti.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3751264cdd187e355af867198f5b70b36846a1a8/gas/testsuite/gas/arm/armv8_1-m-pacbti.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/arm/armv8_1-m-pacbti.d?ref=3751264cdd187e355af867198f5b70b36846a1a8",
      "patch": "@@ -0,0 +1,10 @@\n+#name: Valid Armv8.1-M pointer authentication and branch target identification extention\n+#source: armv8_1-m-pacbti.s\n+#as: -march=armv8.1-m.main\n+#objdump: -dr --prefix-addresses --show-raw-insn\n+\n+.*: +file format .*arm.*\n+\n+Disassembly of section .text:\n+0[0-9a-f]+ <[^>]+> f3af 800f \tbti\n+#..."
    },
    {
      "sha": "38929e3dd02e62de27635fa368578963dba2def4",
      "filename": "gas/testsuite/gas/arm/armv8_1-m-pacbti.s",
      "status": "added",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3751264cdd187e355af867198f5b70b36846a1a8/gas/testsuite/gas/arm/armv8_1-m-pacbti.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3751264cdd187e355af867198f5b70b36846a1a8/gas/testsuite/gas/arm/armv8_1-m-pacbti.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/arm/armv8_1-m-pacbti.s?ref=3751264cdd187e355af867198f5b70b36846a1a8",
      "patch": "@@ -0,0 +1,5 @@\n+\t.syntax unified\n+\t.text\n+\t.thumb\n+.Lstart:\n+\tbti"
    },
    {
      "sha": "1e0969975438e8f9b4af99781a885178325dfc21",
      "filename": "opcodes/arm-dis.c",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3751264cdd187e355af867198f5b70b36846a1a8/opcodes/arm-dis.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3751264cdd187e355af867198f5b70b36846a1a8/opcodes/arm-dis.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/arm-dis.c?ref=3751264cdd187e355af867198f5b70b36846a1a8",
      "patch": "@@ -4652,6 +4652,11 @@ static const struct opcode16 thumb_opcodes[] =\n    makes heavy use of special-case bit patterns.  */\n static const struct opcode32 thumb32_opcodes[] =\n {\n+  /* Arm v8.1-M Mainline Pointer Authentication and Branch Target\n+     Identification Extension.  */\n+  {ARM_FEATURE_CORE_HIGH (ARM_EXT2_V8_1M_MAIN),\n+   0xf3af800f, 0xffffffff, \"bti\"},\n+\n   /* Armv8.1-M Mainline and Armv8.1-M Mainline Security Extensions\n      instructions.  */\n   {ARM_FEATURE_CORE_HIGH (ARM_EXT2_V8_1M_MAIN),"
    }
  ]
}