{
  "sha": "c6c7769d9dd166c45bd9d422e91ca537752c0382",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YzZjNzc2OWQ5ZGQxNjZjNDViZDlkNDIyZTkxY2E1Mzc3NTJjMDM4Mg==",
  "commit": {
    "author": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-03-08T06:41:35Z"
    },
    "committer": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-03-13T16:15:46Z"
    },
    "message": "sim: introduce {COMPILE,LINK}_FOR_BUILD\n\nThese use the same pattern as seen in the opcodes/ dir and in automake\nin general (ish).  This helps simplify the boilerplate for building and\nlinking build-time code, and fixes some inconsistency in flag usage.\n\nFor rules that were compiling+linking in a single step, split them into\nseparate steps so we can apply the correct set of options.  This matches\nautomake behavior too.",
    "tree": {
      "sha": "487321af5a03f0644e8d22048484d642b54a5bf8",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/487321af5a03f0644e8d22048484d642b54a5bf8"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/c6c7769d9dd166c45bd9d422e91ca537752c0382",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/c6c7769d9dd166c45bd9d422e91ca537752c0382",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/c6c7769d9dd166c45bd9d422e91ca537752c0382",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/c6c7769d9dd166c45bd9d422e91ca537752c0382/comments",
  "author": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "367c5eb75095f4b9bc4c1b310a092bcac45da137",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/367c5eb75095f4b9bc4c1b310a092bcac45da137",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/367c5eb75095f4b9bc4c1b310a092bcac45da137"
    }
  ],
  "stats": {
    "total": 160,
    "additions": 111,
    "deletions": 49
  },
  "files": [
    {
      "sha": "8d48933c8351f43d761e01d7389f19b859c84b1d",
      "filename": "sim/common/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c6c7769d9dd166c45bd9d422e91ca537752c0382/sim/common/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c6c7769d9dd166c45bd9d422e91ca537752c0382/sim/common/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/common/ChangeLog?ref=c6c7769d9dd166c45bd9d422e91ca537752c0382",
      "patch": "@@ -1,3 +1,9 @@\n+2021-03-13  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* Make-common.in (COMPILE_FOR_BUILD, LINK_FOR_BUILD): Define.\n+\t(gentmap.o): New rule.\n+\t(gentmap): Call LINK_FOR_BUILD.\n+\n 2021-03-07  Mike Frysinger  <vapier@gentoo.org>\n \n \t* Make-common.in (check): Delete body."
    },
    {
      "sha": "8b35deb5167955f89a99083e21515f254f985f03",
      "filename": "sim/common/Make-common.in",
      "status": "modified",
      "additions": 8,
      "deletions": 2,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c6c7769d9dd166c45bd9d422e91ca537752c0382/sim/common/Make-common.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c6c7769d9dd166c45bd9d422e91ca537752c0382/sim/common/Make-common.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/common/Make-common.in?ref=c6c7769d9dd166c45bd9d422e91ca537752c0382",
      "patch": "@@ -248,6 +248,9 @@ EXTRA_LIBS = $(BFD_LIB) $(OPCODES_LIB) $(LIBINTL) $(LIBIBERTY_LIB) \\\n \n LIB_OBJS = callback.o syscall.o targ-map.o version.o $(SIM_OBJS)\n \n+COMPILE_FOR_BUILD = $(CC_FOR_BUILD) $(BUILD_CFLAGS)\n+LINK_FOR_BUILD = $(CC_FOR_BUILD) $(BUILD_CFLAGS) $(BUILD_LDFLAGS) -o $@\n+\n RUNTESTFLAGS =\n \n callback_h = $(srcroot)/include/gdb/callback.h\n@@ -269,8 +272,11 @@ run$(EXEEXT): $(SIM_RUN_OBJS) libsim.a $(LIBDEPS)\n # devo/libremote because this directory would contain more than just\n # a library).\n \n-gentmap: Makefile $(srccom)/gentmap.c $(srccom)/nltvals.def\n-\t$(CC_FOR_BUILD) $(srccom)/gentmap.c -o gentmap $(BUILD_CFLAGS) $(NL_TARGET)\n+gentmap.o: Makefile $(srccom)/gentmap.c $(srccom)/nltvals.def\n+\t$(COMPILE_FOR_BUILD) -o $@ -c $(srccom)/gentmap.c $(NL_TARGET)\n+\n+gentmap: gentmap.o\n+\t$(LINK_FOR_BUILD) $<\n \n targ-vals.h targ-map.c: stamp-tvals\n stamp-tvals: gentmap"
    },
    {
      "sha": "500a625a55306f7150c641a12b79c9418bfa6182",
      "filename": "sim/cr16/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c6c7769d9dd166c45bd9d422e91ca537752c0382/sim/cr16/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c6c7769d9dd166c45bd9d422e91ca537752c0382/sim/cr16/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/cr16/ChangeLog?ref=c6c7769d9dd166c45bd9d422e91ca537752c0382",
      "patch": "@@ -1,3 +1,8 @@\n+2021-03-13  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* Makefile.in (gencode.o, cr16-opc.o): Call COMPILE_FOR_BUILD.\n+\t(gencode): Call LINK_FOR_BUILD.\n+\n 2021-03-08  Mike Frysinger  <vapier@gentoo.org>\n \n \t* Makefile.in (gencode): Delete $(BUILD_LIB)."
    },
    {
      "sha": "7be0537985b3ec6b9d143678ca5e75121459c15c",
      "filename": "sim/cr16/Makefile.in",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c6c7769d9dd166c45bd9d422e91ca537752c0382/sim/cr16/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c6c7769d9dd166c45bd9d422e91ca537752c0382/sim/cr16/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/cr16/Makefile.in?ref=c6c7769d9dd166c45bd9d422e91ca537752c0382",
      "patch": "@@ -42,13 +42,13 @@ table.c: gencode simops.h\n \t./gencode >$@\n \n gencode.o: gencode.c $(INCLUDE)\n-\t$(CC_FOR_BUILD) $(BUILD_CFLAGS) $(WARN_CFLAGS) -c $(srcdir)/gencode.c\n+\t$(COMPILE_FOR_BUILD) $(WARN_CFLAGS) -c $(srcdir)/gencode.c\n \n cr16-opc.o: $(srcdir)/../../opcodes/cr16-opc.c\n-\t$(CC_FOR_BUILD) $(BUILD_CFLAGS) $(WARN_CFLAGS) -c $(srcdir)/../../opcodes/cr16-opc.c\n+\t$(COMPILE_FOR_BUILD) $(WARN_CFLAGS) -c $(srcdir)/../../opcodes/cr16-opc.c\n \n gencode: gencode.o cr16-opc.o\n-\t$(CC_FOR_BUILD) $(BUILD_CFLAGS) $(BUILD_LDFLAGS) -o gencode gencode.o cr16-opc.o\n+\t$(LINK_FOR_BUILD) gencode.o cr16-opc.o\n \n clean-extra:\n \trm -f table.c simops.h gencode"
    },
    {
      "sha": "c1deba13659d74383361004605efcf2b573b87a7",
      "filename": "sim/d10v/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c6c7769d9dd166c45bd9d422e91ca537752c0382/sim/d10v/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c6c7769d9dd166c45bd9d422e91ca537752c0382/sim/d10v/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/d10v/ChangeLog?ref=c6c7769d9dd166c45bd9d422e91ca537752c0382",
      "patch": "@@ -1,3 +1,8 @@\n+2021-03-13  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* Makefile.in (gencode.o, d10v-opc.o): Call COMPILE_FOR_BUILD.\n+\t(gencode): Call LINK_FOR_BUILD.\n+\n 2021-03-08  Mike Frysinger  <vapier@gentoo.org>\n \n \t* Makefile.in (gencode): Delete $(BUILD_LIB)."
    },
    {
      "sha": "c2907fc58793c03222c4829e4baa03605df0d459",
      "filename": "sim/d10v/Makefile.in",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c6c7769d9dd166c45bd9d422e91ca537752c0382/sim/d10v/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c6c7769d9dd166c45bd9d422e91ca537752c0382/sim/d10v/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/d10v/Makefile.in?ref=c6c7769d9dd166c45bd9d422e91ca537752c0382",
      "patch": "@@ -43,13 +43,13 @@ table.c: gencode simops.h\n \t./gencode >$@\n \n gencode.o: gencode.c $(INCLUDE)\n-\t$(CC_FOR_BUILD) $(BUILD_CFLAGS) $(WARN_CFLAGS) -c $(srcdir)/gencode.c\n+\t$(COMPILE_FOR_BUILD) $(WARN_CFLAGS) -c $(srcdir)/gencode.c\n \n d10v-opc.o: $(srcdir)/../../opcodes/d10v-opc.c\n-\t$(CC_FOR_BUILD) $(BUILD_CFLAGS) $(WARN_CFLAGS) -c $(srcdir)/../../opcodes/d10v-opc.c\n+\t$(COMPILE_FOR_BUILD) $(WARN_CFLAGS) -c $(srcdir)/../../opcodes/d10v-opc.c\n \n gencode: gencode.o d10v-opc.o\n-\t$(CC_FOR_BUILD) $(BUILD_CFLAGS) $(BUILD_LDFLAGS) -o gencode gencode.o d10v-opc.o\n+\t$(LINK_FOR_BUILD) gencode.o d10v-opc.o\n \n clean-extra:\n \trm -f table.c simops.h gencode"
    },
    {
      "sha": "5ee1c7a66b790d176fd2e3b466c06eb74e9b39f2",
      "filename": "sim/igen/ChangeLog",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c6c7769d9dd166c45bd9d422e91ca537752c0382/sim/igen/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c6c7769d9dd166c45bd9d422e91ca537752c0382/sim/igen/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/igen/ChangeLog?ref=c6c7769d9dd166c45bd9d422e91ca537752c0382",
      "patch": "@@ -1,3 +1,10 @@\n+2021-03-13  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* Makefile.in (COMPILE_FOR_BUILD, LINK_FOR_BUILD): Define.\n+\t(.c.o, igen.o): Call COMPILE_FOR_BUILD.\n+\t(igen, tmp-table, tmp-filter, tmp-ld-decode, tmp-ld-cache, tmp-ld-insn,\n+\ttmp-gen): Call LINK_FOR_BUILD.\n+\n 2021-03-08  Mike Frysinger  <vapier@gentoo.org>\n \n \t* Makefile.in (tmp-table, tmp-filter, tmp-ld-decode, tmp-ld-cache,"
    },
    {
      "sha": "60626adafc317f351c68bf247144d11880bf6335",
      "filename": "sim/igen/Makefile.in",
      "status": "modified",
      "additions": 12,
      "deletions": 9,
      "changes": 21,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c6c7769d9dd166c45bd9d422e91ca537752c0382/sim/igen/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c6c7769d9dd166c45bd9d422e91ca537752c0382/sim/igen/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/igen/Makefile.in?ref=c6c7769d9dd166c45bd9d422e91ca537752c0382",
      "patch": "@@ -82,11 +82,14 @@ BUILD_CFLAGS = \\\n \t$(INCLUDES)\n BUILD_LDFLAGS = \n \n+COMPILE_FOR_BUILD = $(CC_FOR_BUILD) $(BUILD_CFLAGS)\n+LINK_FOR_BUILD = $(CC_FOR_BUILD) $(CFLAGS_FOR_BUILD) $(BUILD_LDFLAGS) -o $@\n+\n all:\tigen\n #all:\ttmp-filter tmp-table tmp-ld-insn tmp-ld-cache tmp-ld-decode tmp-gen\n \n .c.o:\n-\t$(CC_FOR_BUILD) -c $(BUILD_CFLAGS) $<\n+\t$(COMPILE_FOR_BUILD) -c $<\n \n IGEN_OBJS=\\\n \ttable.o \\\n@@ -106,28 +109,28 @@ IGEN_OBJS=\\\n \tgen.o\n \n igen: igen.o $(IGEN_OBJS)\n-\t$(CC_FOR_BUILD) $(BUILD_CFLAGS) $(BUILD_LDFLAGS) -o igen igen.o $(IGEN_OBJS)\n+\t$(LINK_FOR_BUILD) igen.o $(IGEN_OBJS)\n \n igen.o: igen.c misc.h filter_host.h lf.h table.h ld-decode.h ld-cache.h ld-insn.h filter.h gen-model.h gen-itable.h gen-icache.h gen-idecode.h gen-engine.h gen-semantics.h gen-support.h gen.h igen.h \n-\t$(CC_FOR_BUILD) $(BUILD_CFLAGS) -c $(srcdir)/igen.c\n+\t$(COMPILE_FOR_BUILD) -c $(srcdir)/igen.c\n \n tmp-table: table.c table.h misc.o lf.o filter_host.o \n-\t$(CC_FOR_BUILD) $(BUILD_CFLAGS) $(BUILD_LDFLAGS) -o tmp-table -DMAIN $(srcdir)/table.c misc.o lf.o  filter_host.o\n+\t$(LINK_FOR_BUILD) -DMAIN $(srcdir)/table.c misc.o lf.o  filter_host.o\n \n tmp-filter: filter.c filter.h lf.o misc.o filter_host.o\n-\t$(CC_FOR_BUILD) $(BUILD_CFLAGS) $(BUILD_LDFLAGS) -o tmp-filter -DMAIN $(srcdir)/filter.c lf.o misc.o filter_host.o\n+\t$(LINK_FOR_BUILD) -DMAIN $(srcdir)/filter.c lf.o misc.o filter_host.o\n \n tmp-ld-decode: ld-decode.h ld-decode.c filter.o misc.o lf.o table.o filter_host.o gen.h igen.h\n-\t$(CC_FOR_BUILD) $(BUILD_CFLAGS) $(BUILD_LDFLAGS) -o tmp-ld-decode -DMAIN $(srcdir)/ld-decode.c filter.o misc.o lf.o table.o filter_host.o\n+\t$(LINK_FOR_BUILD) -DMAIN $(srcdir)/ld-decode.c filter.o misc.o lf.o table.o filter_host.o\n \n tmp-ld-cache: ld-cache.c ld-cache.h ld-insn.o misc.o lf.o table.o filter_host.o gen.h igen.h\n-\t$(CC_FOR_BUILD) $(BUILD_CFLAGS) $(BUILD_LDFLAGS) -o tmp-ld-cache -DMAIN $(srcdir)/ld-cache.c ld-insn.o filter.o misc.o lf.o table.o filter_host.o\n+\t$(LINK_FOR_BUILD) -DMAIN $(srcdir)/ld-cache.c ld-insn.o filter.o misc.o lf.o table.o filter_host.o\n \n tmp-ld-insn: ld-insn.c ld-insn.h misc.o lf.o table.o filter_host.o filter.o gen.h igen.h\n-\t$(CC_FOR_BUILD) $(BUILD_CFLAGS) $(BUILD_LDFLAGS) -o tmp-ld-insn -DMAIN $(srcdir)/ld-insn.c misc.o lf.o table.o filter_host.o filter.o\n+\t$(LINK_FOR_BUILD) -DMAIN $(srcdir)/ld-insn.c misc.o lf.o table.o filter_host.o filter.o\n \n tmp-gen: gen.c gen.h ld-insn.o ld-decode.o misc.o lf.o table.o filter_host.o filter.o gen.h igen.h\n-\t$(CC_FOR_BUILD) $(BUILD_CFLAGS) $(BUILD_LDFLAGS) -o tmp-gen -DMAIN $(srcdir)/gen.c misc.o ld-insn.o ld-decode.o lf.o table.o filter_host.o filter.o\n+\t$(LINK_FOR_BUILD) -DMAIN $(srcdir)/gen.c misc.o ld-insn.o ld-decode.o lf.o table.o filter_host.o filter.o\n \n filter_host.o: filter_host.c filter_host.h\n table.o: table.c misc.h filter_host.h lf.h table.h"
    },
    {
      "sha": "85fd5c2f2b9262d0f569b7f5b63402e78b994c40",
      "filename": "sim/m32c/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c6c7769d9dd166c45bd9d422e91ca537752c0382/sim/m32c/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c6c7769d9dd166c45bd9d422e91ca537752c0382/sim/m32c/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/m32c/ChangeLog?ref=c6c7769d9dd166c45bd9d422e91ca537752c0382",
      "patch": "@@ -1,3 +1,8 @@\n+2021-03-13  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* Makefile.in (opc2c.o, safe-fgets.o): Call COMPILE_FOR_BUILD.\n+\t(opc2c): Call LINK_FOR_BUILD.\n+\n 2021-03-08  Mike Frysinger  <vapier@gentoo.org>\n \n \t* Makefile.in (opc2c): Delete $(BUILD_LIBS)."
    },
    {
      "sha": "6bc5c5b743d9aee3e75154daca4ce959c63c0b9f",
      "filename": "sim/m32c/Makefile.in",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c6c7769d9dd166c45bd9d422e91ca537752c0382/sim/m32c/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c6c7769d9dd166c45bd9d422e91ca537752c0382/sim/m32c/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/m32c/Makefile.in?ref=c6c7769d9dd166c45bd9d422e91ca537752c0382",
      "patch": "@@ -53,13 +53,13 @@ m32c.c : m32c.opc opc2c\n \t./opc2c -l m32c.out $(srcdir)/m32c.opc > m32c.c\n \n opc2c : opc2c.o safe-fgets.o\n-\t$(CC_FOR_BUILD) $(BUILD_CFLAGS) $(BUILD_LDFLAGS) $^ -o $@\n+\t$(LINK_FOR_BUILD) $^\n \n encodings:\n \tgrep '/\\* [01]' $(srcdir)/r8c.opc | sort\n \n opc2c.o : opc2c.c safe-fgets.h\n-\t$(CC_FOR_BUILD) $(BUILD_CFLAGS) -c $(srcdir)/opc2c.c\n+\t$(COMPILE_FOR_BUILD) -c $(srcdir)/opc2c.c\n \n safe-fgets.o : safe-fgets.c safe-fgets.h\n-\t$(CC_FOR_BUILD) $(BUILD_CFLAGS) -c $(srcdir)/safe-fgets.c\n+\t$(COMPILE_FOR_BUILD) -c $(srcdir)/safe-fgets.c"
    },
    {
      "sha": "3fddeff1722ec85c6f5ce1a9b8e4988e002afe38",
      "filename": "sim/m68hc11/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c6c7769d9dd166c45bd9d422e91ca537752c0382/sim/m68hc11/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c6c7769d9dd166c45bd9d422e91ca537752c0382/sim/m68hc11/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/m68hc11/ChangeLog?ref=c6c7769d9dd166c45bd9d422e91ca537752c0382",
      "patch": "@@ -1,3 +1,8 @@\n+2021-03-13  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* Makefile.in (gencode.o): New rule.\n+\t(gencode): Call LINK_FOR_BUILD.\n+\n 2021-02-28  Mike Frysinger  <vapier@gentoo.org>\n \n \t* configure: Regenerate."
    },
    {
      "sha": "9e2248fc63845b3bd414c8279698538ccb68390b",
      "filename": "sim/m68hc11/Makefile.in",
      "status": "modified",
      "additions": 5,
      "deletions": 2,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c6c7769d9dd166c45bd9d422e91ca537752c0382/sim/m68hc11/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c6c7769d9dd166c45bd9d422e91ca537752c0382/sim/m68hc11/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/m68hc11/Makefile.in?ref=c6c7769d9dd166c45bd9d422e91ca537752c0382",
      "patch": "@@ -48,8 +48,11 @@ m68hc11int.c: gencode\n m68hc12int.c: gencode\n \t./gencode -m6812 > $@\n \n-gencode:\tgencode.c\n-\t$(CC_FOR_BUILD) $(BUILD_CFLAGS) -o gencode $(srcdir)/gencode.c\n+gencode.o: gencode.c\n+\t$(COMPILE_FOR_BUILD) -c $< -o $@\n+\n+gencode: gencode.o\n+\t$(LINK_FOR_BUILD) $^\n \n interp.o: interp.c $(INCLUDE)\n "
    },
    {
      "sha": "61bb3d95a231246479801a5b6fae955c9a358f66",
      "filename": "sim/ppc/ChangeLog",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c6c7769d9dd166c45bd9d422e91ca537752c0382/sim/ppc/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c6c7769d9dd166c45bd9d422e91ca537752c0382/sim/ppc/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ppc/ChangeLog?ref=c6c7769d9dd166c45bd9d422e91ca537752c0382",
      "patch": "@@ -1,3 +1,10 @@\n+2021-03-13  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* Makefile.in (COMPILE_FOR_BUILD, LINK_FOR_BUILD): Define.\n+\tChange $(CC_FOR_BUILD) $(BUILD_CFLAGS) $(BUILD_LDFLAGS) to\n+\t$(LINK_FOR_BUILD).  Change $(CC_FOR_BUILD) $(BUILD_CFLAGS) to\n+\t$(COMPILE_FOR_BUILD).\n+\n 2021-03-08  Mike Frysinger  <vapier@gentoo.org>\n \n \t* Makefile.in (gentmap, dgen, igen, tmp-filter, tmp-ld-decode,"
    },
    {
      "sha": "8c586350b9dcf8baae53847341bc089170b9ec12",
      "filename": "sim/ppc/Makefile.in",
      "status": "modified",
      "additions": 27,
      "deletions": 24,
      "changes": 51,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c6c7769d9dd166c45bd9d422e91ca537752c0382/sim/ppc/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c6c7769d9dd166c45bd9d422e91ca537752c0382/sim/ppc/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ppc/Makefile.in?ref=c6c7769d9dd166c45bd9d422e91ca537752c0382",
      "patch": "@@ -110,6 +110,9 @@ BUILD_CFLAGS\t= $(CFLAGS_FOR_BUILD) $(INCLUDES) $(WARNING_CFLAGS)\n BUILD_LDFLAGS\t=\n LIBS = @LIBS@\n \n+COMPILE_FOR_BUILD = $(CC_FOR_BUILD) $(BUILD_CFLAGS)\n+LINK_FOR_BUILD = $(CC_FOR_BUILD) $(BUILD_CFLAGS) $(BUILD_LDFLAGS) -o $@\n+\n CONFIG_FILE = @sim_config@\n IGEN_OPCODE_RULES = @sim_opcode@\n IGEN_DECODE_MECHANISM = @sim_decode_mechanism@\n@@ -618,8 +621,8 @@ mon.o: mon.c $(BASICS_H) $(CPU_H) $(MON_H)\n # GDB after 4.16 expects the default_callback structure to be setup.\n # As a kludge, build the common stuff here for now.\n gentmap: $(srcdir)/../common/gentmap.c Makefile targ-vals.def\n-\t$(CC_FOR_BUILD) $(BUILD_CFLAGS) -I. -I../common -I$(srcdir)/../common \\\n-\t\t-o gentmap $(srcdir)/../common/gentmap.c\n+\t$(LINK_FOR_BUILD) -I. -I../common -I$(srcdir)/../common \\\n+\t\t$(srcdir)/../common/gentmap.c\n \n targ-vals.def: $(srcdir)/../common/nltvals.def\n \trm -f targ-vals.def tmp-def\n@@ -709,69 +712,69 @@ itable.h itable.c icache.h icache.c idecode.h idecode.c semantics.h semantics.c\n spreg.h spreg.c: tmp-dgen\n \n dgen: dgen.o table.o lf.o misc.o filter_host.o\n-\t$(CC_FOR_BUILD) $(BUILD_CFLAGS) -o dgen dgen.o table.o lf.o misc.o filter_host.o\n+\t$(LINK_FOR_BUILD) dgen.o table.o lf.o misc.o filter_host.o\n \n igen: igen.o table.o lf.o misc.o filter_host.o ld-decode.o ld-cache.o filter.o ld-insn.o gen-model.o gen-itable.o gen-icache.o gen-semantics.o gen-idecode.o gen-support.o\n-\t$(CC_FOR_BUILD) $(BUILD_CFLAGS) $(BUILD_LDFLAGS) -o igen igen.o table.o lf.o misc.o filter_host.o ld-decode.o ld-cache.o filter.o ld-insn.o gen-model.o gen-itable.o gen-icache.o gen-semantics.o gen-idecode.o gen-support.o\n+\t$(LINK_FOR_BUILD) igen.o table.o lf.o misc.o filter_host.o ld-decode.o ld-cache.o filter.o ld-insn.o gen-model.o gen-itable.o gen-icache.o gen-semantics.o gen-idecode.o gen-support.o\n \n filter_host.c: filter_filename.c\n \tcat $(srcdir)/filter_filename.c > filter_host.c\n \n filter_host.o: filter_host.c $(CONFIG_H) $(PPC_CONFIG_H) $(FILTER_FILENAME_H)\n-\t$(CC_FOR_BUILD) $(BUILD_CFLAGS) -c filter_host.c\n+\t$(COMPILE_FOR_BUILD) -c filter_host.c\n \n table.o: table.c $(CONFIG_H) $(MISC_H) $(LF_H) $(TABLE_H)\n-\t$(CC_FOR_BUILD) $(BUILD_CFLAGS) -c $(srcdir)/table.c\n+\t$(COMPILE_FOR_BUILD) -c $(srcdir)/table.c\n \n lf.o: lf.c $(CONFIG_H) $(MISC_H) $(LF_H)\n-\t$(CC_FOR_BUILD) $(BUILD_CFLAGS) -c $(srcdir)/lf.c\n+\t$(COMPILE_FOR_BUILD) -c $(srcdir)/lf.c\n \n filter.o: filter.c $(CONFIG_H) $(MISC_H) $(FILTER_H)\n-\t$(CC_FOR_BUILD) $(BUILD_CFLAGS) -c $(srcdir)/filter.c\n+\t$(COMPILE_FOR_BUILD) -c $(srcdir)/filter.c\n tmp-filter: filter.c $(MISC_H) misc.o\n-\t$(CC_FOR_BUILD) $(BUILD_CFLAGS) $(BUILD_LDFLAGS) -o tmp-filter -DMAIN $(srcdir)/filter.c misc.o\n+\t$(LINK_FOR_BUILD) -DMAIN $(srcdir)/filter.c misc.o\n \n ld-decode.o: ld-decode.c $(MISC_H) $(LF_H) $(TABLE_H) $(LD_DECODE_H)\n-\t$(CC_FOR_BUILD) $(BUILD_CFLAGS) -c $(srcdir)/ld-decode.c\n+\t$(COMPILE_FOR_BUILD) -c $(srcdir)/ld-decode.c\n tmp-ld-decode: ld-decode.c misc.o lf.o table.o filter_host.o \n-\t$(CC_FOR_BUILD) $(BUILD_CFLAGS) $(BUILD_LDFLAGS) -o tmp-ld-decode -DMAIN $(srcdir)/ld-decode.c misc.o lf.o table.o filter_host.o\n+\t$(LINK_FOR_BUILD) -DMAIN $(srcdir)/ld-decode.c misc.o lf.o table.o filter_host.o\n \n ld-cache.o: ld-cache.c $(MISC_H) $(LF_H) $(TABLE_H) $(LD_CACHE_H)\n-\t$(CC_FOR_BUILD) $(BUILD_CFLAGS) -c $(srcdir)/ld-cache.c\n+\t$(COMPILE_FOR_BUILD) -c $(srcdir)/ld-cache.c\n tmp-ld-cache: ld-cache.c misc.o lf.o table.o filter_host.o \n-\t$(CC_FOR_BUILD) $(BUILD_CFLAGS) $(BUILD_LDFLAGS) -o tmp-ld-cache -DMAIN $(srcdir)/ld-cache.c misc.o lf.o table.o filter_host.o\n+\t$(LINK_FOR_BUILD) -DMAIN $(srcdir)/ld-cache.c misc.o lf.o table.o filter_host.o\n \n ld-insn.o: ld-insn.c $(MISC_H) $(LF_H) $(TABLE_H) $(FILTER_H) $(LD_DECODE_H) $(LD_CACHE_H) $(LD_INSN_H) $(IGEN_H)\n-\t$(CC_FOR_BUILD) $(BUILD_CFLAGS) -c $(srcdir)/ld-insn.c\n+\t$(COMPILE_FOR_BUILD) -c $(srcdir)/ld-insn.c\n tmp-ld-insn: ld-insn.c ld-cache.o misc.o lf.o table.o ld-decode.o filter_host.o filter.o\n-\t$(CC_FOR_BUILD) $(BUILD_CFLAGS) $(BUILD_LDFLAGS) -o tmp-ld-insn -DMAIN $(srcdir)/ld-insn.c ld-cache.o misc.o lf.o table.o ld-decode.o filter_host.o filter.o\n+\t$(LINK_FOR_BUILD) -DMAIN $(srcdir)/ld-insn.c ld-cache.o misc.o lf.o table.o ld-decode.o filter_host.o filter.o\n \n gen-model.o: gen-model.c $(MISC_H) $(LF_H) $(TABLE_H) $(FILTER_H) $(LD_CACHE_H) $(LD_DECODE_H) $(LD_INSN_H) $(GEN_MODEL_H)\n-\t$(CC_FOR_BUILD) $(BUILD_CFLAGS) -c $(srcdir)/gen-model.c\n+\t$(COMPILE_FOR_BUILD) -c $(srcdir)/gen-model.c\n \n gen-itable.o: gen-itable.c $(MISC_H) $(LF_H) $(TABLE_H) $(FILTER_H) $(LD_CACHE_H) $(LD_DECODE_H) $(LD_INSN_H) $(IGEN_H) $(GEN_ITABLE_H)\n-\t$(CC_FOR_BUILD) $(BUILD_CFLAGS) -c $(srcdir)/gen-itable.c\n+\t$(COMPILE_FOR_BUILD) -c $(srcdir)/gen-itable.c\n \n gen-icache.o: gen-icache.c $(MISC_H) $(LF_H) $(TABLE_H) $(FILTER_H) $(LD_DECODE_H) $(LD_CACHE_H) $(LD_INSN_H) $(IGEN_H) $(GEN_SEMANTICS_H) $(GEN_IDECODE_H) $(GEN_ICACHE_H)\n-\t$(CC_FOR_BUILD) $(BUILD_CFLAGS) -c $(srcdir)/gen-icache.c\n+\t$(COMPILE_FOR_BUILD) -c $(srcdir)/gen-icache.c\n \n gen-semantics.o: gen-semantics.c $(MISC_H) $(LF_H) $(TABLE_H) $(FILTER_H) $(LD_DECODE_H) $(LD_CACHE_H) $(LD_INSN_H) $(IGEN_H) $(GEN_SEMANTICS_H) $(GEN_ICACHE_H) $(GEN_IDECODE_H)\n-\t$(CC_FOR_BUILD) $(BUILD_CFLAGS) -c $(srcdir)/gen-semantics.c\n+\t$(COMPILE_FOR_BUILD) -c $(srcdir)/gen-semantics.c\n \n gen-idecode.o: gen-idecode.c $(MISC_H) $(LF_H) $(TABLE_H) $(FILTER_H) $(LD_DECODE_H) $(LD_CACHE_H) $(LD_INSN_H) $(IGEN_H) $(GEN_IDECODE_H) $(GEN_ICACHE_H) $(GEN_SEMANTICS_H)\n-\t$(CC_FOR_BUILD) $(BUILD_CFLAGS) -c $(srcdir)/gen-idecode.c\n+\t$(COMPILE_FOR_BUILD) -c $(srcdir)/gen-idecode.c\n \n gen-support.o: gen-support.c $(MISC_H) $(LF_H) $(TABLE_H) $(FILTER_H) $(LD_DECODE_H) $(LD_CACHE_H) $(LD_INSN_H) $(IGEN_H) $(GEN_SEMANTICS_H) $(GEN_SUPPORT_H)\n-\t$(CC_FOR_BUILD) $(BUILD_CFLAGS) -c $(srcdir)/gen-support.c\n+\t$(COMPILE_FOR_BUILD) -c $(srcdir)/gen-support.c\n \n dgen.o: dgen.c $(CONFIG_H) $(MISC_H) $(LF_H) $(TABLE_H)\n-\t$(CC_FOR_BUILD) $(BUILD_CFLAGS) -c $(srcdir)/dgen.c\n+\t$(COMPILE_FOR_BUILD) -c $(srcdir)/dgen.c\n \n igen.o: igen.c $(MISC_H) $(LF_H) $(TABLE_H) $(CONFIG_H) $(FILTER_H) $(LD_CACHE_H) $(LD_DECODE_H) $(LD_INSN_H) $(IGEN_H) $(GEN_MODEL_H) $(GEN_ICACHE_H) $(GEN_ITABLE_H) $(GEN_IDECODE_H) $(GEN_SEMANTICS_H) $(GEN_SUPPORT_H)\n-\t$(CC_FOR_BUILD) $(BUILD_CFLAGS) -c $(srcdir)/igen.c\n+\t$(COMPILE_FOR_BUILD) -c $(srcdir)/igen.c\n \n misc.o: misc.c $(CONFIG_H) $(MISC_H)\n-\t$(CC_FOR_BUILD) $(BUILD_CFLAGS) -c $(srcdir)/misc.c\n+\t$(COMPILE_FOR_BUILD) -c $(srcdir)/misc.c\n \n \n "
    },
    {
      "sha": "989e373a34be02cdbcbf44fc838405b68fbd42e1",
      "filename": "sim/sh/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c6c7769d9dd166c45bd9d422e91ca537752c0382/sim/sh/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c6c7769d9dd166c45bd9d422e91ca537752c0382/sim/sh/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/sh/ChangeLog?ref=c6c7769d9dd166c45bd9d422e91ca537752c0382",
      "patch": "@@ -1,3 +1,8 @@\n+2021-03-13  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* Makefile.in (gencode.o): New rule.\n+\t(gencode): Call LINK_FOR_BUILD.\n+\n 2021-02-28  Mike Frysinger  <vapier@gentoo.org>\n \n \t* configure: Regenerate."
    },
    {
      "sha": "54f1e0ab94b8b3554c6cbb1ac905513dc9291bbd",
      "filename": "sim/sh/Makefile.in",
      "status": "modified",
      "additions": 5,
      "deletions": 3,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c6c7769d9dd166c45bd9d422e91ca537752c0382/sim/sh/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c6c7769d9dd166c45bd9d422e91ca537752c0382/sim/sh/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/sh/Makefile.in?ref=c6c7769d9dd166c45bd9d422e91ca537752c0382",
      "patch": "@@ -39,9 +39,11 @@ table.c: gencode\n ppi.c: gencode\n \t./gencode -p >ppi.c\n \n-gencode: gencode.c\n-\t$(CC_FOR_BUILD) $(BUILD_CFLAGS) $(BUILD_LDFLAGS) $(WARN_CFLAGS) \\\n-\t\t-o gencode $(srcdir)/gencode.c\n+gencode.o: gencode.c\n+\t$(COMPILE_FOR_BUILD) -c $< -o $@\n+\n+gencode: gencode.o\n+\t$(LINK_FOR_BUILD) $^\n \n sh-clean:\n \trm -f gencode code.c table.c"
    }
  ]
}