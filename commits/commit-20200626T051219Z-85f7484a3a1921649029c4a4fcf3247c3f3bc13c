{
  "sha": "85f7484a3a1921649029c4a4fcf3247c3f3bc13c",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ODVmNzQ4NGEzYTE5MjE2NDkwMjljNGE0ZmNmMzI0N2MzZjNiYzEzYw==",
  "commit": {
    "author": {
      "name": "Pat Bernardi",
      "email": "bernardi@adacore.com",
      "date": "2020-06-25T20:05:38Z"
    },
    "committer": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2020-06-26T05:12:19Z"
    },
    "message": "m68k: tag floating-point ABI used\n\nThis patch adds GNU attribute support to m68k and utilises it to tag the\nfloating-point calling convention used (hard-float or soft-float). It enables\nthe linker to ensure linked objects use a consistent floating-point ABI and\nallows tools like GDB to infer the ABI used from the ELF file. It is based on\nsimilar work done for PowerPC.\n\nbfd/\n\t* elf32-m68k.c (m68k_elf_merge_obj_attributes): New function.\n\t(elf32_m68k_merge_private_bfd_data): Merge GNU attributes.\nbinutils/\n\t* readelf.c (display_m68k_gnu_attribute): New function.\n\t(process_arch_specific): Call display_m68k_gnu_attribute for EM_68K.\ngas/\n\t* config/tc-m68k.c (m68k_elf_gnu_attribute): New function.\n\t(md_pseudo_table): Handle \"gnu_attribute\".\n\t* doc/as.texi: Document GNU attribute for M68K.\ninclude/\n\t* elf/m68k.h: Add enum for GNU object attribute with floating point\n\ttag name and values.\nld/\n\t* testsuite/ld-m68k/attr-gnu-4-0.s: New file.\n\t* testsuite/ld-m68k/attr-gnu-4-1.s: Likewise.\n\t* testsuite/ld-m68k/attr-gnu-4-2.s: Likewise.\n\t* testsuite/ld-m68k/attr-gnu-4-00.d: Likewise.\n\t* testsuite/ld-m68k/attr-gnu-4-01.d: Likewise.\n\t* testsuite/ld-m68k/attr-gnu-4-02.d: Likewise.\n\t* testsuite/ld-m68k/attr-gnu-4-10.d: Likewise.\n\t* testsuite/ld-m68k/attr-gnu-4-11.d: Likewise.\n\t* testsuite/ld-m68k/attr-gnu-4-12.d: Likewise.\n\t* testsuite/ld-m68k/attr-gnu-4-20.d: Likewise.\n\t* testsuite/ld-m68k/attr-gnu-4-21.d: Likewise.\n\t* testsuite/ld-m68k/attr-gnu-4-22.d: Likewise.\n\t* testsuite/ld-m68k/m68k.exp: Run the new tests.",
    "tree": {
      "sha": "d8cec9b624c9984936c00c9f3389d0c3a757750d",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/d8cec9b624c9984936c00c9f3389d0c3a757750d"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/85f7484a3a1921649029c4a4fcf3247c3f3bc13c",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/85f7484a3a1921649029c4a4fcf3247c3f3bc13c",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/85f7484a3a1921649029c4a4fcf3247c3f3bc13c",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/comments",
  "author": {
    "login": "burratoo",
    "id": 23646118,
    "node_id": "MDQ6VXNlcjIzNjQ2MTE4",
    "avatar_url": "https://avatars.githubusercontent.com/u/23646118?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/burratoo",
    "html_url": "https://github.com/burratoo",
    "followers_url": "https://api.github.com/users/burratoo/followers",
    "following_url": "https://api.github.com/users/burratoo/following{/other_user}",
    "gists_url": "https://api.github.com/users/burratoo/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/burratoo/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/burratoo/subscriptions",
    "organizations_url": "https://api.github.com/users/burratoo/orgs",
    "repos_url": "https://api.github.com/users/burratoo/repos",
    "events_url": "https://api.github.com/users/burratoo/events{/privacy}",
    "received_events_url": "https://api.github.com/users/burratoo/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "ba9b3ef5ee666467b67780e81f868c432f4fc56d",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/ba9b3ef5ee666467b67780e81f868c432f4fc56d",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/ba9b3ef5ee666467b67780e81f868c432f4fc56d"
    }
  ],
  "stats": {
    "total": 264,
    "additions": 263,
    "deletions": 1
  },
  "files": [
    {
      "sha": "7b6375a0f712142b3cbf9cd1ca018721b58718c7",
      "filename": "bfd/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/bfd/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/bfd/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/ChangeLog?ref=85f7484a3a1921649029c4a4fcf3247c3f3bc13c",
      "patch": "@@ -1,3 +1,8 @@\n+2020-06-26  Pat Bernardi  <bernardi@adacore.com>\n+\n+\t* elf32-m68k.c (m68k_elf_merge_obj_attributes): New function.\n+\t(elf32_m68k_merge_private_bfd_data): Merge GNU attributes.\n+\n 2020-06-26  Alan Modra  <amodra@gmail.com>\n \n \t* elfxx-riscv.c (struct priv_spec_t, priv_specs),"
    },
    {
      "sha": "7ccdaabbb6d3c6b5e019ac83b07c246f37e648a3",
      "filename": "bfd/elf32-m68k.c",
      "status": "modified",
      "additions": 62,
      "deletions": 0,
      "changes": 62,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/bfd/elf32-m68k.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/bfd/elf32-m68k.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/elf32-m68k.c?ref=85f7484a3a1921649029c4a4fcf3247c3f3bc13c",
      "patch": "@@ -1122,6 +1122,65 @@ elf32_m68k_set_private_flags (bfd *abfd, flagword flags)\n   return TRUE;\n }\n \n+/* Merge object attributes from IBFD into OBFD.  Warn if\n+   there are conflicting attributes. */\n+static bfd_boolean\n+m68k_elf_merge_obj_attributes (bfd *ibfd, struct bfd_link_info *info)\n+{\n+  bfd *obfd = info->output_bfd;\n+  obj_attribute *in_attr, *in_attrs;\n+  obj_attribute *out_attr, *out_attrs;\n+  bfd_boolean ret = TRUE;\n+\n+  in_attrs = elf_known_obj_attributes (ibfd)[OBJ_ATTR_GNU];\n+  out_attrs = elf_known_obj_attributes (obfd)[OBJ_ATTR_GNU];\n+\n+  in_attr = &in_attrs[Tag_GNU_M68K_ABI_FP];\n+  out_attr = &out_attrs[Tag_GNU_M68K_ABI_FP];\n+\n+  if (in_attr->i != out_attr->i)\n+    {\n+      int in_fp = in_attr->i & 3;\n+      int out_fp = out_attr->i & 3;\n+      static bfd *last_fp;\n+\n+      if (in_fp == 0)\n+\t;\n+      else if (out_fp == 0)\n+\t{\n+\t  out_attr->type = ATTR_TYPE_FLAG_INT_VAL;\n+\t  out_attr->i ^= in_fp;\n+\t  last_fp = ibfd;\n+\t}\n+      else if (out_fp == 1 && in_fp == 2)\n+\t{\n+\t  _bfd_error_handler\n+\t    /* xgettext:c-format */\n+\t    (_(\"%pB uses hard float, %pB uses soft float\"),\n+\t     last_fp, ibfd);\n+\t  ret = FALSE;\n+\t}\n+      else if (out_fp == 2 && in_fp == 1)\n+\t{\n+\t  _bfd_error_handler\n+\t    /* xgettext:c-format */\n+\t    (_(\"%pB uses hard float, %pB uses soft float\"),\n+\t     ibfd, last_fp);\n+\t  ret = FALSE;\n+\t}\n+    }\n+\n+  if (!ret)\n+    {\n+      out_attr->type = ATTR_TYPE_FLAG_INT_VAL | ATTR_TYPE_FLAG_ERROR;\n+      bfd_set_error (bfd_error_bad_value);\n+      return FALSE;\n+    }\n+\n+  /* Merge Tag_compatibility attributes and any common GNU ones.  */\n+  return _bfd_elf_merge_object_attributes (ibfd, info);\n+}\n+\n /* Merge backend specific data from an object file to the output\n    object file when linking.  */\n static bfd_boolean\n@@ -1149,6 +1208,9 @@ elf32_m68k_merge_private_bfd_data (bfd *ibfd, struct bfd_link_info *info)\n \n   bfd_set_arch_mach (obfd, bfd_arch_m68k, arch_info->mach);\n \n+  if (!m68k_elf_merge_obj_attributes (ibfd, info))\n+    return FALSE;\n+\n   in_flags = elf_elfheader (ibfd)->e_flags;\n   if (!elf_flags_init (obfd))\n     {"
    },
    {
      "sha": "2009fc12586f41f28fe4dab7568bc1c5117b40a7",
      "filename": "binutils/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/binutils/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/binutils/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/ChangeLog?ref=85f7484a3a1921649029c4a4fcf3247c3f3bc13c",
      "patch": "@@ -1,3 +1,8 @@\n+2020-06-26  Pat Bernardi  <bernardi@adacore.com>\n+\n+\t* readelf.c (display_m68k_gnu_attribute): New function.\n+\t(process_arch_specific): Call display_m68k_gnu_attribute for EM_68K.\n+\n 2020-06-23  H.J. Lu  <hongjiu.lu@intel.com>\n \n \tPR binutils/26160"
    },
    {
      "sha": "25f0e2354c3642b85ea10e6fa151d1a747596feb",
      "filename": "binutils/readelf.c",
      "status": "modified",
      "additions": 42,
      "deletions": 0,
      "changes": 42,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/binutils/readelf.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/binutils/readelf.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/readelf.c?ref=85f7484a3a1921649029c4a4fcf3247c3f3bc13c",
      "patch": "@@ -15367,6 +15367,44 @@ display_gnu_attribute (unsigned char * p,\n   return display_tag_value (tag, p, end);\n }\n \n+static unsigned char *\n+display_m68k_gnu_attribute (unsigned char * p,\n+\t\t\t    unsigned int tag,\n+\t\t\t    const unsigned char * const end)\n+{\n+  unsigned int val;\n+\n+  if (tag == Tag_GNU_M68K_ABI_FP)\n+    {\n+      printf (\"  Tag_GNU_M68K_ABI_FP: \");\n+      if (p == end)\n+\t{\n+\t  printf (_(\"<corrupt>\\n\"));\n+\t  return p;\n+\t}\n+      READ_ULEB (val, p, end);\n+\n+      if (val > 3)\n+\tprintf (\"(%#x), \", val);\n+\n+      switch (val & 3)\n+\t{\n+\tcase 0:\n+\t  printf (_(\"unspecified hard/soft float\\n\"));\n+\t  break;\n+\tcase 1:\n+\t  printf (_(\"hard float\\n\"));\n+\t  break;\n+\tcase 2:\n+\t  printf (_(\"soft float\\n\"));\n+\t  break;\n+\t}\n+      return p;\n+    }\n+\n+  return display_tag_value (tag & 1, p, end);\n+}\n+\n static unsigned char *\n display_power_gnu_attribute (unsigned char * p,\n \t\t\t     unsigned int tag,\n@@ -19928,6 +19966,10 @@ process_arch_specific (Filedata * filedata)\n     case EM_NDS32:\n       return process_nds32_specific (filedata);\n \n+    case EM_68K:\n+      return process_attributes (filedata, NULL, SHT_GNU_ATTRIBUTES, NULL,\n+\t\t\t\t display_m68k_gnu_attribute);\n+\n     case EM_PPC:\n     case EM_PPC64:\n       return process_attributes (filedata, NULL, SHT_GNU_ATTRIBUTES, NULL,"
    },
    {
      "sha": "f60fde6e7e6c0d5170987e1ea140c18ab451297f",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=85f7484a3a1921649029c4a4fcf3247c3f3bc13c",
      "patch": "@@ -1,3 +1,9 @@\n+2020-06-26  Pat Bernardi  <bernardi@adacore.com>\n+\n+\t* config/tc-m68k.c (m68k_elf_gnu_attribute): New function.\n+\t(md_pseudo_table): Handle \"gnu_attribute\".\n+\t* doc/as.texi: Document GNU attribute for M68K.\n+\n 2020-06-25  Nick Clifton  <nickc@redhat.com>\n \n \tPR 26141"
    },
    {
      "sha": "6ffc9432855ec080606b182eb40e3d4c09355bc5",
      "filename": "gas/config/tc-m68k.c",
      "status": "modified",
      "additions": 20,
      "deletions": 0,
      "changes": 20,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/gas/config/tc-m68k.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/gas/config/tc-m68k.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/config/tc-m68k.c?ref=85f7484a3a1921649029c4a4fcf3247c3f3bc13c",
      "patch": "@@ -30,6 +30,7 @@\n #include \"elf/m68k.h\"\n \n static void m68k_elf_cons (int);\n+static void m68k_elf_gnu_attribute (int);\n \n /* This string holds the chars that always start a comment.  If the\n    pre-processor is disabled, these aren't very useful.  The macro\n@@ -889,6 +890,7 @@ const pseudo_typeS md_pseudo_table[] =\n \n   {\"arch\", s_m68k_arch, 0},\n   {\"cpu\", s_m68k_cpu, 0},\n+  {\"gnu_attribute\", m68k_elf_gnu_attribute, 0},\n \n   /* The following pseudo-ops are supported for MRI compatibility.  */\n   {\"chip\", s_chip, 0},\n@@ -7951,6 +7953,24 @@ m68k_elf_cons (int nbytes /* 4=.long */)\n   demand_empty_rest_of_line ();\n }\n \n+/* Parse a .gnu_attribute directive.  */\n+static void\n+m68k_elf_gnu_attribute (int ignored ATTRIBUTE_UNUSED)\n+{\n+  int tag = obj_elf_vendor_attribute (OBJ_ATTR_GNU);\n+\n+  /* Check validity of defined m68k tags.  */\n+  if (tag == Tag_GNU_M68K_ABI_FP)\n+    {\n+      unsigned int val;\n+\n+      val = bfd_elf_get_obj_attr_int (stdoutput, OBJ_ATTR_GNU, tag);\n+\n+      if (tag == Tag_GNU_M68K_ABI_FP && val > 2)\n+\tas_warn (_(\"unknown .gnu_attribute value\"));\n+    }\n+}\n+\n int\n tc_m68k_regname_to_dw2regnum (const char *regname)\n {"
    },
    {
      "sha": "ac4a073eab6e5e41d6575c597309a08ff44cf2f7",
      "filename": "gas/doc/as.texi",
      "status": "modified",
      "additions": 16,
      "deletions": 0,
      "changes": 16,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/gas/doc/as.texi",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/gas/doc/as.texi",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/doc/as.texi?ref=85f7484a3a1921649029c4a4fcf3247c3f3bc13c",
      "patch": "@@ -7583,6 +7583,22 @@ than 1, the file can only be processed by other toolchains under some private\n arrangement indicated by the flag value and the vendor name.\n @end table\n \n+@subsection M680x0 Attributes\n+\n+@table @r\n+@item Tag_GNU_M68K_ABI_FP (4)\n+The floating-point ABI used by this object file.  The value will be:\n+\n+@itemize @bullet\n+@item\n+0 for files not affected by the floating-point ABI.\n+@item\n+1 for files using double-precision hardware floating-point ABI.\n+@item\n+2 for files using the software floating-point ABI.\n+@end itemize\n+@end table\n+\n @subsection MIPS Attributes\n \n @table @r"
    },
    {
      "sha": "ab6d753ab5f1ef8460ae0e5fffedf7387a327630",
      "filename": "include/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/include/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/include/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/include/ChangeLog?ref=85f7484a3a1921649029c4a4fcf3247c3f3bc13c",
      "patch": "@@ -1,3 +1,8 @@\n+2020-06-26  Pat Bernardi  <bernardi@adacore.com>\n+\n+\t* elf/m68k.h: Add enum for GNU object attribute with floating point\n+\ttag name and values.\n+\n 2020-06-25  Nick Clifton  <nickc@redhat.com>\n \n \t* libiberty.h (bsearch_r): Remove use of the register keyword from"
    },
    {
      "sha": "e5b0592042674f6d2251f8309044b6d2f852870b",
      "filename": "include/elf/m68k.h",
      "status": "modified",
      "additions": 13,
      "deletions": 1,
      "changes": 14,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/include/elf/m68k.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/include/elf/m68k.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/include/elf/m68k.h?ref=85f7484a3a1921649029c4a4fcf3247c3f3bc13c",
      "patch": "@@ -97,5 +97,17 @@ END_RELOC_NUMBERS (R_68K_max)\n #define EF_M68K_CF_EMAC_B\t0x30  /* EMAC_B */\n #define EF_M68K_CF_FLOAT\t0x40  /* Has float insns */\n #define EF_M68K_CF_MASK\t\t0xFF\n-     \n+\n+/* GNU object attribute tags.  */\n+enum\n+{\n+  /* 0-3 are generic.  */\n+\n+  /* FP ABI, low 2 bits:\n+     1 for double precision hard-float,\n+     2 for soft-float,\n+     0 for not tagged or not using any ABIs affected by the differences. */\n+  Tag_GNU_M68K_ABI_FP = 4,\n+};\n+\n #endif"
    },
    {
      "sha": "4a38fa8e1b4d65da2b1d020065e5aa8a8ab23925",
      "filename": "ld/ChangeLog",
      "status": "modified",
      "additions": 16,
      "deletions": 0,
      "changes": 16,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/ld/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/ld/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/ChangeLog?ref=85f7484a3a1921649029c4a4fcf3247c3f3bc13c",
      "patch": "@@ -1,3 +1,19 @@\n+2020-06-26  Pat Bernardi  <bernardi@adacore.com>\n+\n+\t* testsuite/ld-m68k/attr-gnu-4-0.s: New file.\n+\t* testsuite/ld-m68k/attr-gnu-4-1.s: Likewise.\n+\t* testsuite/ld-m68k/attr-gnu-4-2.s: Likewise.\n+\t* testsuite/ld-m68k/attr-gnu-4-00.d: Likewise.\n+\t* testsuite/ld-m68k/attr-gnu-4-01.d: Likewise.\n+\t* testsuite/ld-m68k/attr-gnu-4-02.d: Likewise.\n+\t* testsuite/ld-m68k/attr-gnu-4-10.d: Likewise.\n+\t* testsuite/ld-m68k/attr-gnu-4-11.d: Likewise.\n+\t* testsuite/ld-m68k/attr-gnu-4-12.d: Likewise.\n+\t* testsuite/ld-m68k/attr-gnu-4-20.d: Likewise.\n+\t* testsuite/ld-m68k/attr-gnu-4-21.d: Likewise.\n+\t* testsuite/ld-m68k/attr-gnu-4-22.d: Likewise.\n+\t* testsuite/ld-m68k/m68k.exp: Run the new tests.\n+\n 2020-06-24  H.J. Lu  <hongjiu.lu@intel.com>\n \n \tPR ld/26165"
    },
    {
      "sha": "a1437461d04743eea13e7542aab34745f09aa308",
      "filename": "ld/testsuite/ld-m68k/attr-gnu-4-0.s",
      "status": "added",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/ld/testsuite/ld-m68k/attr-gnu-4-0.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/ld/testsuite/ld-m68k/attr-gnu-4-0.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-m68k/attr-gnu-4-0.s?ref=85f7484a3a1921649029c4a4fcf3247c3f3bc13c",
      "patch": "@@ -0,0 +1 @@\n+.gnu_attribute 4,0"
    },
    {
      "sha": "467ad603cf756d4858a0723fc4f976ea3b496ae8",
      "filename": "ld/testsuite/ld-m68k/attr-gnu-4-00.d",
      "status": "added",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/ld/testsuite/ld-m68k/attr-gnu-4-00.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/ld/testsuite/ld-m68k/attr-gnu-4-00.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-m68k/attr-gnu-4-00.d?ref=85f7484a3a1921649029c4a4fcf3247c3f3bc13c",
      "patch": "@@ -0,0 +1,4 @@\n+#source: attr-gnu-4-0.s\n+#source: attr-gnu-4-0.s\n+#ld: -r\n+#readelf: -A"
    },
    {
      "sha": "1e7fef0741941fb1ab555ee2b1522c45e114421e",
      "filename": "ld/testsuite/ld-m68k/attr-gnu-4-01.d",
      "status": "added",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/ld/testsuite/ld-m68k/attr-gnu-4-01.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/ld/testsuite/ld-m68k/attr-gnu-4-01.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-m68k/attr-gnu-4-01.d?ref=85f7484a3a1921649029c4a4fcf3247c3f3bc13c",
      "patch": "@@ -0,0 +1,8 @@\n+#source: attr-gnu-4-0.s\n+#source: attr-gnu-4-1.s\n+#ld: -r\n+#readelf: -A\n+\n+Attribute Section: gnu\n+File Attributes\n+  Tag_GNU_M68K_ABI_FP: hard float"
    },
    {
      "sha": "cc3945a2159ad38b6b52ee5b66f5c7bf50a91b43",
      "filename": "ld/testsuite/ld-m68k/attr-gnu-4-02.d",
      "status": "added",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/ld/testsuite/ld-m68k/attr-gnu-4-02.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/ld/testsuite/ld-m68k/attr-gnu-4-02.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-m68k/attr-gnu-4-02.d?ref=85f7484a3a1921649029c4a4fcf3247c3f3bc13c",
      "patch": "@@ -0,0 +1,8 @@\n+#source: attr-gnu-4-0.s\n+#source: attr-gnu-4-2.s\n+#ld: -r\n+#readelf: -A\n+\n+Attribute Section: gnu\n+File Attributes\n+  Tag_GNU_M68K_ABI_FP: soft float"
    },
    {
      "sha": "e985a56f6b1ad5fc8bae950a9019c76f7101bdb0",
      "filename": "ld/testsuite/ld-m68k/attr-gnu-4-1.s",
      "status": "added",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/ld/testsuite/ld-m68k/attr-gnu-4-1.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/ld/testsuite/ld-m68k/attr-gnu-4-1.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-m68k/attr-gnu-4-1.s?ref=85f7484a3a1921649029c4a4fcf3247c3f3bc13c",
      "patch": "@@ -0,0 +1 @@\n+.gnu_attribute 4,1"
    },
    {
      "sha": "a6a798b4a40b4e288333f78efcc76b496c6bb523",
      "filename": "ld/testsuite/ld-m68k/attr-gnu-4-10.d",
      "status": "added",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/ld/testsuite/ld-m68k/attr-gnu-4-10.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/ld/testsuite/ld-m68k/attr-gnu-4-10.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-m68k/attr-gnu-4-10.d?ref=85f7484a3a1921649029c4a4fcf3247c3f3bc13c",
      "patch": "@@ -0,0 +1,8 @@\n+#source: attr-gnu-4-1.s\n+#source: attr-gnu-4-0.s\n+#ld: -r\n+#readelf: -A\n+\n+Attribute Section: gnu\n+File Attributes\n+  Tag_GNU_M68K_ABI_FP: hard float"
    },
    {
      "sha": "ecc66a4925d06313e42f02dd70972cfeb8a2f726",
      "filename": "ld/testsuite/ld-m68k/attr-gnu-4-11.d",
      "status": "added",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/ld/testsuite/ld-m68k/attr-gnu-4-11.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/ld/testsuite/ld-m68k/attr-gnu-4-11.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-m68k/attr-gnu-4-11.d?ref=85f7484a3a1921649029c4a4fcf3247c3f3bc13c",
      "patch": "@@ -0,0 +1,8 @@\n+#source: attr-gnu-4-1.s\n+#source: attr-gnu-4-1.s\n+#ld: -r\n+#readelf: -A\n+\n+Attribute Section: gnu\n+File Attributes\n+  Tag_GNU_M68K_ABI_FP: hard float"
    },
    {
      "sha": "49526b1750b46ed60cfad0b25355c73d103b58d7",
      "filename": "ld/testsuite/ld-m68k/attr-gnu-4-12.d",
      "status": "added",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/ld/testsuite/ld-m68k/attr-gnu-4-12.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/ld/testsuite/ld-m68k/attr-gnu-4-12.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-m68k/attr-gnu-4-12.d?ref=85f7484a3a1921649029c4a4fcf3247c3f3bc13c",
      "patch": "@@ -0,0 +1,4 @@\n+#source: attr-gnu-4-1.s\n+#source: attr-gnu-4-2.s\n+#ld: -r\n+#error: .* uses hard float, .* uses soft float.*"
    },
    {
      "sha": "54ebf4ed8ddb82a5e735bc1b2f0094a3cd4bcd6b",
      "filename": "ld/testsuite/ld-m68k/attr-gnu-4-2.s",
      "status": "added",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/ld/testsuite/ld-m68k/attr-gnu-4-2.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/ld/testsuite/ld-m68k/attr-gnu-4-2.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-m68k/attr-gnu-4-2.s?ref=85f7484a3a1921649029c4a4fcf3247c3f3bc13c",
      "patch": "@@ -0,0 +1 @@\n+.gnu_attribute 4,2"
    },
    {
      "sha": "92b410a3dfc3027bd20adab6b414833ec4b501ab",
      "filename": "ld/testsuite/ld-m68k/attr-gnu-4-20.d",
      "status": "added",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/ld/testsuite/ld-m68k/attr-gnu-4-20.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/ld/testsuite/ld-m68k/attr-gnu-4-20.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-m68k/attr-gnu-4-20.d?ref=85f7484a3a1921649029c4a4fcf3247c3f3bc13c",
      "patch": "@@ -0,0 +1,8 @@\n+#source: attr-gnu-4-2.s\n+#source: attr-gnu-4-0.s\n+#ld: -r\n+#readelf: -A\n+\n+Attribute Section: gnu\n+File Attributes\n+  Tag_GNU_M68K_ABI_FP: soft float"
    },
    {
      "sha": "390dada36cb35c19f904978f809f9a55596fe91d",
      "filename": "ld/testsuite/ld-m68k/attr-gnu-4-21.d",
      "status": "added",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/ld/testsuite/ld-m68k/attr-gnu-4-21.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/ld/testsuite/ld-m68k/attr-gnu-4-21.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-m68k/attr-gnu-4-21.d?ref=85f7484a3a1921649029c4a4fcf3247c3f3bc13c",
      "patch": "@@ -0,0 +1,4 @@\n+#source: attr-gnu-4-2.s\n+#source: attr-gnu-4-1.s\n+#ld: -r\n+#error: .* uses hard float, .* uses soft float.*"
    },
    {
      "sha": "cfa9b35a991f656148f2dac55382958f52a327af",
      "filename": "ld/testsuite/ld-m68k/attr-gnu-4-22.d",
      "status": "added",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/ld/testsuite/ld-m68k/attr-gnu-4-22.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/ld/testsuite/ld-m68k/attr-gnu-4-22.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-m68k/attr-gnu-4-22.d?ref=85f7484a3a1921649029c4a4fcf3247c3f3bc13c",
      "patch": "@@ -0,0 +1,8 @@\n+#source: attr-gnu-4-2.s\n+#source: attr-gnu-4-2.s\n+#ld: -r\n+#readelf: -A\n+\n+Attribute Section: gnu\n+File Attributes\n+  Tag_GNU_M68K_ABI_FP: soft float"
    },
    {
      "sha": "610b43528641d880e92a9907614e47bb5e884b28",
      "filename": "ld/testsuite/ld-m68k/m68k.exp",
      "status": "modified",
      "additions": 10,
      "deletions": 0,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/ld/testsuite/ld-m68k/m68k.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/85f7484a3a1921649029c4a4fcf3247c3f3bc13c/ld/testsuite/ld-m68k/m68k.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-m68k/m68k.exp?ref=85f7484a3a1921649029c4a4fcf3247c3f3bc13c",
      "patch": "@@ -92,3 +92,13 @@ if { [istarget m68k-*-linux*] } then {\n \n     run_ld_link_tests $m68k_tls_tests\n }\n+\n+run_dump_test \"attr-gnu-4-00\"\n+run_dump_test \"attr-gnu-4-01\"\n+run_dump_test \"attr-gnu-4-02\"\n+run_dump_test \"attr-gnu-4-10\"\n+run_dump_test \"attr-gnu-4-11\"\n+run_dump_test \"attr-gnu-4-12\"\n+run_dump_test \"attr-gnu-4-20\"\n+run_dump_test \"attr-gnu-4-21\"\n+run_dump_test \"attr-gnu-4-22\""
    }
  ]
}