{
  "sha": "6729e2c2af2bd94408430734316597843718a484",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NjcyOWUyYzJhZjJiZDk0NDA4NDMwNzM0MzE2NTk3ODQzNzE4YTQ4NA==",
  "commit": {
    "author": {
      "name": "Nelson Chu",
      "email": "nelson.chu@sifive.com",
      "date": "2020-11-20T15:42:28Z"
    },
    "committer": {
      "name": "Nelson Chu",
      "email": "nelson.chu@sifive.com",
      "date": "2020-12-01T07:24:10Z"
    },
    "message": "RISC-V: Fix the order checking for Z* extension.\n\nWe have to check the first char of the Z* extensions, to make sure that\nthey follow the order of the standard extensions.  But we can not have\nthe testcases for this patch, since we only support the zicsr and zifencei\nso far, both of them are the sub extensions of i.\n\n\tbfd/\n\t* elfxx-riscv.c (riscv_parse_prefixed_ext): Use riscv_compare_subsets\n\tto check the Z* extensions' order.",
    "tree": {
      "sha": "6d90a85ca4307af4915111cd30cae2efc6b20b1a",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/6d90a85ca4307af4915111cd30cae2efc6b20b1a"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/6729e2c2af2bd94408430734316597843718a484",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/6729e2c2af2bd94408430734316597843718a484",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/6729e2c2af2bd94408430734316597843718a484",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/6729e2c2af2bd94408430734316597843718a484/comments",
  "author": null,
  "committer": null,
  "parents": [
    {
      "sha": "00d4d1b0a3a4d26c9d741b14e601ed2b86fe39ee",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/00d4d1b0a3a4d26c9d741b14e601ed2b86fe39ee",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/00d4d1b0a3a4d26c9d741b14e601ed2b86fe39ee"
    }
  ],
  "stats": {
    "total": 8,
    "additions": 6,
    "deletions": 2
  },
  "files": [
    {
      "sha": "b3bcf9ea1e675e686a9ea71f9c40358a5f23b640",
      "filename": "bfd/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6729e2c2af2bd94408430734316597843718a484/bfd/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6729e2c2af2bd94408430734316597843718a484/bfd/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/ChangeLog?ref=6729e2c2af2bd94408430734316597843718a484",
      "patch": "@@ -1,3 +1,8 @@\n+2020-12-01  Nelson Chu  <nelson.chu@sifive.com>\n+\n+\t* elfxx-riscv.c (riscv_parse_prefixed_ext): Use riscv_compare_subsets\n+\tto check the Z* extensions' order.\n+\n 2020-12-01  Nelson Chu  <nelson.chu@sifive.com>\n \n \t* elfxx-riscv.c (riscv_parse_add_subset): Allow to add g with"
    },
    {
      "sha": "06967804d6cc0bb15e6e62f13e266a887d9246ed",
      "filename": "bfd/elfxx-riscv.c",
      "status": "modified",
      "additions": 1,
      "deletions": 2,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6729e2c2af2bd94408430734316597843718a484/bfd/elfxx-riscv.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6729e2c2af2bd94408430734316597843718a484/bfd/elfxx-riscv.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/elfxx-riscv.c?ref=6729e2c2af2bd94408430734316597843718a484",
      "patch": "@@ -1543,8 +1543,7 @@ riscv_parse_prefixed_ext (riscv_parse_subset_t *rps,\n \t}\n \n       /* Check that the extension is in alphabetical order.  */\n-      if (!strncasecmp (last_name, config->prefix, 1)\n-\t  && strcasecmp (last_name, subset) > 0)\n+      if (riscv_compare_subsets (last_name, subset) > 0)\n \t{\n \t  rps->error_handler\n \t    (_(\"-march=%s: %s ISA extension `%s' is not in alphabetical \""
    }
  ]
}