{
  "sha": "42cc14a753e6edbcd43cdaa2dc2ee614a27aeeb2",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NDJjYzE0YTc1M2U2ZWRiY2Q0M2NkYWEyZGMyZWU2MTRhMjdhZWViMg==",
  "commit": {
    "author": {
      "name": "Tom Tromey",
      "email": "tom@tromey.com",
      "date": "2019-07-13T22:08:33Z"
    },
    "committer": {
      "name": "Tom Tromey",
      "email": "tom@tromey.com",
      "date": "2019-08-20T22:45:50Z"
    },
    "message": "Rearrange tui-regs.c some more\n\nThis moves tui_reg_layout later in tui-regs.c, closer to where it is\nused.\n\nIt also changes tui_show_registers not to enable the TUI or change the\nlayout -- this is already done by this point by all the callers.\n\n2019-08-20  Tom Tromey  <tom@tromey.com>\n\n\t* tui/tui-regs.c (tui_reg_layout): Move later.\n\t(tui_show_registers): Don't enable TUI mode or change layout.",
    "tree": {
      "sha": "cd8b99142d9fffd3d2bf7bf180593b9f959964b5",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/cd8b99142d9fffd3d2bf7bf180593b9f959964b5"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/42cc14a753e6edbcd43cdaa2dc2ee614a27aeeb2",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/42cc14a753e6edbcd43cdaa2dc2ee614a27aeeb2",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/42cc14a753e6edbcd43cdaa2dc2ee614a27aeeb2",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/42cc14a753e6edbcd43cdaa2dc2ee614a27aeeb2/comments",
  "author": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "b9ad36868f46d5270347ef50fd62fde94d68328b",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/b9ad36868f46d5270347ef50fd62fde94d68328b",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/b9ad36868f46d5270347ef50fd62fde94d68328b"
    }
  ],
  "stats": {
    "total": 43,
    "additions": 20,
    "deletions": 23
  },
  "files": [
    {
      "sha": "27fcb35a557b035fe38e876527b73ae12b43d03e",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/42cc14a753e6edbcd43cdaa2dc2ee614a27aeeb2/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/42cc14a753e6edbcd43cdaa2dc2ee614a27aeeb2/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=42cc14a753e6edbcd43cdaa2dc2ee614a27aeeb2",
      "patch": "@@ -1,3 +1,8 @@\n+2019-08-20  Tom Tromey  <tom@tromey.com>\n+\n+\t* tui/tui-regs.c (tui_reg_layout): Move later.\n+\t(tui_show_registers): Don't enable TUI mode or change layout.\n+\n 2019-08-20  Tom Tromey  <tom@tromey.com>\n \n \t* tui/tui-regs.h (struct tui_data_item_window)"
    },
    {
      "sha": "147f57a13a2c2949d69a7976af6f588eef6b2a0f",
      "filename": "gdb/tui/tui-regs.c",
      "status": "modified",
      "additions": 15,
      "deletions": 23,
      "changes": 38,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/42cc14a753e6edbcd43cdaa2dc2ee614a27aeeb2/gdb/tui/tui-regs.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/42cc14a753e6edbcd43cdaa2dc2ee614a27aeeb2/gdb/tui/tui-regs.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/tui/tui-regs.c?ref=42cc14a753e6edbcd43cdaa2dc2ee614a27aeeb2",
      "patch": "@@ -149,34 +149,11 @@ tui_data_window::first_reg_element_no_inline (int line_no) const\n     return (-1);\n }\n \n-/* A helper function to display the register window in the appropriate\n-   way.  */\n-\n-static void\n-tui_reg_layout ()\n-{\n-  enum tui_layout_type cur_layout = tui_current_layout ();\n-  enum tui_layout_type new_layout;\n-  if (cur_layout == SRC_COMMAND || cur_layout == SRC_DATA_COMMAND)\n-    new_layout = SRC_DATA_COMMAND;\n-  else\n-    new_layout = DISASSEM_DATA_COMMAND;\n-  tui_set_layout (new_layout);\n-}\n-\n /* Show the registers of the given group in the data window\n    and refresh the window.  */\n void\n tui_show_registers (struct reggroup *group)\n {\n-  /* Make sure the curses mode is enabled.  */\n-  tui_enable ();\n-\n-  /* Make sure the register window is visible.  If not, select an\n-     appropriate layout.  */\n-  if (TUI_DATA_WIN == NULL || !TUI_DATA_WIN->is_visible ())\n-    tui_reg_layout ();\n-\n   if (group == 0)\n     group = general_reggroup;\n \n@@ -676,6 +653,21 @@ tui_reg_prev (struct reggroup *current_group, struct gdbarch *gdbarch)\n   return group;\n }\n \n+/* A helper function to display the register window in the appropriate\n+   way.  */\n+\n+static void\n+tui_reg_layout ()\n+{\n+  enum tui_layout_type cur_layout = tui_current_layout ();\n+  enum tui_layout_type new_layout;\n+  if (cur_layout == SRC_COMMAND || cur_layout == SRC_DATA_COMMAND)\n+    new_layout = SRC_DATA_COMMAND;\n+  else\n+    new_layout = DISASSEM_DATA_COMMAND;\n+  tui_set_layout (new_layout);\n+}\n+\n /* Implement the 'tui reg' command.  Changes the register group displayed\n    in the tui register window.  Displays the tui register window if it is\n    not already on display.  */"
    }
  ]
}