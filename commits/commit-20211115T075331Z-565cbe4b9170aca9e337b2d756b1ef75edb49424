{
  "sha": "565cbe4b9170aca9e337b2d756b1ef75edb49424",
  "node_id": "C_kwDOANOeidoAKDU2NWNiZTRiOTE3MGFjYTllMzM3YjJkNzU2YjFlZjc1ZWRiNDk0MjQ",
  "commit": {
    "author": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-11-15T07:44:30Z"
    },
    "committer": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-11-15T07:53:31Z"
    },
    "message": "sim: cris: replace custom \"dest\" test field with new --argv0\n\nThe #dest field used in the cris testsuite is a bit of hack to set the\nargv[0] for the tests to read out later on.  Now that the sim has an\noption to set argv[0] explicitly, we don't need this custom field, so\nlet's drop it to harmonize the testsuites a little.",
    "tree": {
      "sha": "ee23b5dc7da4641b2a685561cd338ac7b9d7f0ea",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/ee23b5dc7da4641b2a685561cd338ac7b9d7f0ea"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/565cbe4b9170aca9e337b2d756b1ef75edb49424",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/565cbe4b9170aca9e337b2d756b1ef75edb49424",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/565cbe4b9170aca9e337b2d756b1ef75edb49424",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/565cbe4b9170aca9e337b2d756b1ef75edb49424/comments",
  "author": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "852016f92107581dbc9513196c9a74a91b5a5b6e",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/852016f92107581dbc9513196c9a74a91b5a5b6e",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/852016f92107581dbc9513196c9a74a91b5a5b6e"
    }
  ],
  "stats": {
    "total": 13,
    "additions": 5,
    "deletions": 8
  },
  "files": [
    {
      "sha": "ec89c5c1de20a8b15b4f875ce432bb31faa293c3",
      "filename": "sim/testsuite/cris/c/c.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 4,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/565cbe4b9170aca9e337b2d756b1ef75edb49424/sim/testsuite/cris/c/c.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/565cbe4b9170aca9e337b2d756b1ef75edb49424/sim/testsuite/cris/c/c.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/cris/c/c.exp?ref=565cbe4b9170aca9e337b2d756b1ef75edb49424",
      "patch": "@@ -101,7 +101,6 @@ foreach src [lsort [glob -nocomplain $srcdir/$subdir/*.c]] {\n     set opts(timeout) \"\"\n     set opts(mach) \"\"\n     set opts(xerror) \"no\"\n-    set opts(dest) \"$testname.x\"\n     set opts(simenv) \"\"\n     set opts(kfail) \"\"\n     set opts(xfail) \"\"\n@@ -188,8 +187,7 @@ foreach src [lsort [glob -nocomplain $srcdir/$subdir/*.c]] {\n \n     verbose -log \"Compiling $src with $opts(cc)\"\n \n-    set dest \"$opts(dest)\"\n-    if { [target_compile $src $dest \"executable\" \"$opts(cc)\" ] != \"\" } {\n+    if { [target_compile $src \"$testname.x\" \"executable\" \"$opts(cc)\" ] != \"\" } {\n \tunresolved $testname\n \tcontinue\n     }\n@@ -212,7 +210,7 @@ foreach src [lsort [glob -nocomplain $srcdir/$subdir/*.c]] {\n \teval setup_kfail $opts(kfail)\n     }\n \n-    set result [sim_run $dest \"$opts(sim,$mach)\" \"$opts(progoptions)\" \\\n+    set result [sim_run \"$testname.x\" \"$opts(sim,$mach)\" \"$opts(progoptions)\" \\\n \t\"\" \"$opts(simenv)\"]\n     set return_code [lindex $result 0]\n     set output [lindex $result 1]"
    },
    {
      "sha": "9d84e7d95fac0a70ed2b2d62a79ea5b25bd32e39",
      "filename": "sim/testsuite/cris/c/readlink11.c",
      "status": "modified",
      "additions": 1,
      "deletions": 2,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/565cbe4b9170aca9e337b2d756b1ef75edb49424/sim/testsuite/cris/c/readlink11.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/565cbe4b9170aca9e337b2d756b1ef75edb49424/sim/testsuite/cris/c/readlink11.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/cris/c/readlink11.c?ref=565cbe4b9170aca9e337b2d756b1ef75edb49424",
      "patch": "@@ -1,7 +1,6 @@\n /* As readlink5.c (sic), but specifying silent ENOSYS.\n #notarget: cris*-*-elf\n-#dest: ./readlink11.c.x\n-#sim: --cris-unknown-syscall=enosys-quiet\n+#sim: --cris-unknown-syscall=enosys-quiet --argv0 ./readlink11.c.x\n #output: ENOSYS\\n\n #output: xyzzy\\n\n */"
    },
    {
      "sha": "4bfb7ba3a1d38a71cc20cf36a9c7e4ed1649385d",
      "filename": "sim/testsuite/cris/c/readlink5.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/565cbe4b9170aca9e337b2d756b1ef75edb49424/sim/testsuite/cris/c/readlink5.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/565cbe4b9170aca9e337b2d756b1ef75edb49424/sim/testsuite/cris/c/readlink5.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/cris/c/readlink5.c?ref=565cbe4b9170aca9e337b2d756b1ef75edb49424",
      "patch": "@@ -1,6 +1,6 @@\n /* Check that unsupported readlink calls don't cause the simulator to abort.\n #notarget: cris*-*-elf\n-#dest: ./readlink5.c.x\n+#sim: --argv0 ./readlink5.c.x\n #xerror:\n #output: Unimplemented readlink syscall (*)\\n\n #output: program stopped with signal 4 (*).\\n"
    },
    {
      "sha": "52a26f496392e6b0c1fffc05ee4f4127279b94d8",
      "filename": "sim/testsuite/cris/c/readlink6.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/565cbe4b9170aca9e337b2d756b1ef75edb49424/sim/testsuite/cris/c/readlink6.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/565cbe4b9170aca9e337b2d756b1ef75edb49424/sim/testsuite/cris/c/readlink6.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/cris/c/readlink6.c?ref=565cbe4b9170aca9e337b2d756b1ef75edb49424",
      "patch": "@@ -1,5 +1,5 @@\n /* Check that rare readlink calls don't cause the simulator to abort.\n #notarget: cris*-*-elf\n-#dest: @exedir@/readlink6.c.x\n+#sim: --argv0 @exedir@/readlink6.c.x\n */\n #include \"readlink2.c\""
    }
  ]
}