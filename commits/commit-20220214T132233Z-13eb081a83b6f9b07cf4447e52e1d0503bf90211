{
  "sha": "13eb081a83b6f9b07cf4447e52e1d0503bf90211",
  "node_id": "C_kwDOANOeidoAKDEzZWIwODFhODNiNmY5YjA3Y2Y0NDQ3ZTUyZTFkMDUwM2JmOTAyMTE",
  "commit": {
    "author": {
      "name": "Tom Tromey",
      "email": "tom@tromey.com",
      "date": "2022-01-22T23:31:06Z"
    },
    "committer": {
      "name": "Tom Tromey",
      "email": "tom@tromey.com",
      "date": "2022-02-14T13:22:33Z"
    },
    "message": "Remove LA_PRINT_TYPE\n\nThis removes the LA_PRINT_TYPE macro, in favor of using ordinary\nmethod calls.",
    "tree": {
      "sha": "3dfa1010674e668dffef21fe981c45465e4b6942",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/3dfa1010674e668dffef21fe981c45465e4b6942"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/13eb081a83b6f9b07cf4447e52e1d0503bf90211",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/13eb081a83b6f9b07cf4447e52e1d0503bf90211",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/13eb081a83b6f9b07cf4447e52e1d0503bf90211",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/13eb081a83b6f9b07cf4447e52e1d0503bf90211/comments",
  "author": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "7b8c55afd07abf1e2e4efbeca4b9a614ce8d4e1e",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/7b8c55afd07abf1e2e4efbeca4b9a614ce8d4e1e",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/7b8c55afd07abf1e2e4efbeca4b9a614ce8d4e1e"
    }
  ],
  "stats": {
    "total": 34,
    "additions": 17,
    "deletions": 17
  },
  "files": [
    {
      "sha": "27d00f12a95e01696107d2f692993419798e283a",
      "filename": "gdb/guile/scm-type.c",
      "status": "modified",
      "additions": 2,
      "deletions": 1,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/13eb081a83b6f9b07cf4447e52e1d0503bf90211/gdb/guile/scm-type.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/13eb081a83b6f9b07cf4447e52e1d0503bf90211/gdb/guile/scm-type.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/guile/scm-type.c?ref=13eb081a83b6f9b07cf4447e52e1d0503bf90211",
      "patch": "@@ -108,7 +108,8 @@ tyscm_type_name (struct type *type)\n     {\n       string_file stb;\n \n-      LA_PRINT_TYPE (type, \"\", &stb, -1, 0, &type_print_raw_options);\n+      current_language->print_type (type, \"\", &stb, -1, 0,\n+\t\t\t\t    &type_print_raw_options);\n       return stb.release ();\n     }\n   catch (const gdb_exception &except)"
    },
    {
      "sha": "3930f5bd22307585cc3c12ac73ee6560b03a5a05",
      "filename": "gdb/language.h",
      "status": "modified",
      "additions": 0,
      "deletions": 3,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/13eb081a83b6f9b07cf4447e52e1d0503bf90211/gdb/language.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/13eb081a83b6f9b07cf4447e52e1d0503bf90211/gdb/language.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/language.h?ref=13eb081a83b6f9b07cf4447e52e1d0503bf90211",
      "patch": "@@ -755,9 +755,6 @@ extern enum language set_language (enum language);\n    the current setting of working_lang, which the user sets\n    with the \"set language\" command.  */\n \n-#define LA_PRINT_TYPE(type,varstring,stream,show,level,flags)\t\t\\\n-  (current_language->print_type(type,varstring,stream,show,level,flags))\n-\n #define LA_PRINT_CHAR(ch, type, stream) \\\n   (current_language->printchar (ch, type, stream))\n #define LA_PRINT_STRING(stream, elttype, string, length, encoding, force_ellipses, options) \\"
    },
    {
      "sha": "8613534d06043bf96263488077b4df4c3153a987",
      "filename": "gdb/python/py-type.c",
      "status": "modified",
      "additions": 3,
      "deletions": 2,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/13eb081a83b6f9b07cf4447e52e1d0503bf90211/gdb/python/py-type.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/13eb081a83b6f9b07cf4447e52e1d0503bf90211/gdb/python/py-type.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/python/py-type.c?ref=13eb081a83b6f9b07cf4447e52e1d0503bf90211",
      "patch": "@@ -1025,8 +1025,9 @@ typy_str (PyObject *self)\n \n   try\n     {\n-      LA_PRINT_TYPE (type_object_to_type (self), \"\", &thetype, -1, 0,\n-\t\t     &type_print_raw_options);\n+      current_language->print_type (type_object_to_type (self), \"\",\n+\t\t\t\t    &thetype, -1, 0,\n+\t\t\t\t    &type_print_raw_options);\n     }\n   catch (const gdb_exception &except)\n     {"
    },
    {
      "sha": "114d6bc5e530787c865e42e1ad2153c075264da7",
      "filename": "gdb/symmisc.c",
      "status": "modified",
      "additions": 9,
      "deletions": 9,
      "changes": 18,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/13eb081a83b6f9b07cf4447e52e1d0503bf90211/gdb/symmisc.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/13eb081a83b6f9b07cf4447e52e1d0503bf90211/gdb/symmisc.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/symmisc.c?ref=13eb081a83b6f9b07cf4447e52e1d0503bf90211",
      "patch": "@@ -525,8 +525,8 @@ print_symbol (struct gdbarch *gdbarch, struct symbol *symbol,\n     {\n       if (symbol->type ()->name ())\n \t{\n-\t  LA_PRINT_TYPE (symbol->type (), \"\", outfile, 1, depth,\n-\t\t\t &type_print_raw_options);\n+\t  current_language->print_type (symbol->type (), \"\", outfile, 1, depth,\n+\t\t\t\t\t&type_print_raw_options);\n \t}\n       else\n \t{\n@@ -536,8 +536,8 @@ print_symbol (struct gdbarch *gdbarch, struct symbol *symbol,\n \t\t     : (symbol->type ()->code () == TYPE_CODE_STRUCT\n \t\t\t? \"struct\" : \"union\")),\n \t\t\t    symbol->linkage_name ());\n-\t  LA_PRINT_TYPE (symbol->type (), \"\", outfile, 1, depth,\n-\t\t\t &type_print_raw_options);\n+\t  current_language->print_type (symbol->type (), \"\", outfile, 1, depth,\n+\t\t\t\t\t&type_print_raw_options);\n \t}\n       fprintf_filtered (outfile, \";\\n\");\n     }\n@@ -548,11 +548,11 @@ print_symbol (struct gdbarch *gdbarch, struct symbol *symbol,\n       if (symbol->type ())\n \t{\n \t  /* Print details of types, except for enums where it's clutter.  */\n-\t  LA_PRINT_TYPE (symbol->type (), symbol->print_name (),\n-\t\t\t outfile,\n-\t\t\t symbol->type ()->code () != TYPE_CODE_ENUM,\n-\t\t\t depth,\n-\t\t\t &type_print_raw_options);\n+\t  current_language->print_type (symbol->type (), symbol->print_name (),\n+\t\t\t\t\toutfile,\n+\t\t\t\t\tsymbol->type ()->code () != TYPE_CODE_ENUM,\n+\t\t\t\t\tdepth,\n+\t\t\t\t\t&type_print_raw_options);\n \t  fprintf_filtered (outfile, \"; \");\n \t}\n       else"
    },
    {
      "sha": "c15a9c6b59f95bdbb560c8469fa928b2420c63ad",
      "filename": "gdb/typeprint.c",
      "status": "modified",
      "additions": 3,
      "deletions": 2,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/13eb081a83b6f9b07cf4447e52e1d0503bf90211/gdb/typeprint.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/13eb081a83b6f9b07cf4447e52e1d0503bf90211/gdb/typeprint.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/typeprint.c?ref=13eb081a83b6f9b07cf4447e52e1d0503bf90211",
      "patch": "@@ -392,7 +392,8 @@ void\n type_print (struct type *type, const char *varstring, struct ui_file *stream,\n \t    int show)\n {\n-  LA_PRINT_TYPE (type, varstring, stream, show, 0, &default_ptype_flags);\n+  current_language->print_type (type, varstring, stream, show, 0,\n+\t\t\t\t&default_ptype_flags);\n }\n \n /* Print TYPE to a string, returning it.  The caller is responsible for\n@@ -578,7 +579,7 @@ whatis_exp (const char *exp, int show)\n       printf_filtered (\" */\\n\");    \n     }\n \n-  LA_PRINT_TYPE (type, \"\", gdb_stdout, show, 0, &flags);\n+  current_language->print_type (type, \"\", gdb_stdout, show, 0, &flags);\n   printf_filtered (\"\\n\");\n }\n "
    }
  ]
}