{
  "sha": "fc1ca146f76eea0b76b1392ea1a7aa8fb0742490",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ZmMxY2ExNDZmNzZlZWEwYjc2YjEzOTJlYTFhN2FhOGZiMDc0MjQ5MA==",
  "commit": {
    "author": {
      "name": "Sergio Durigan Junior",
      "email": "sergiodj@redhat.com",
      "date": "2020-01-28T22:21:41Z"
    },
    "committer": {
      "name": "Sergio Durigan Junior",
      "email": "sergiodj@redhat.com",
      "date": "2020-01-29T20:06:32Z"
    },
    "message": "Adjust src-release.sh's getver due to gdbsupport's move to toplevel\n\nThe move of gdbsupport to the top level directory requires a small\nchange to src-release.sh's \"getver\" function, which is responsible for\ndetermining the version string that will be appended to the release\ntarball: now the create-version.sh script lives under ./gdbsupport,\nand not under gdb/gdbsupport anymore.\n\nThis patch unbreaks the snapshot generation, which hasn't been working\nsince January 14th.\n\nChangeLog:\n2020-01-29  Sergio Durigan Junior  <sergiodj@redhat.com>\n\n\t* src-release.sh (getver): Look for gdbsupport's\n\tcreate-version.sh script at the current directory if tool is\n\t\"gdb\".\n\nChange-Id: Id3b8bed6583a1aaa120c07009366f6c94a62d5db",
    "tree": {
      "sha": "e23fab79b5d7de11092c21838a98c97181bfc11c",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/e23fab79b5d7de11092c21838a98c97181bfc11c"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/fc1ca146f76eea0b76b1392ea1a7aa8fb0742490",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/fc1ca146f76eea0b76b1392ea1a7aa8fb0742490",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/fc1ca146f76eea0b76b1392ea1a7aa8fb0742490",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/fc1ca146f76eea0b76b1392ea1a7aa8fb0742490/comments",
  "author": null,
  "committer": null,
  "parents": [
    {
      "sha": "287c844a33a4d3b513bce17165158dd5fb2d820c",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/287c844a33a4d3b513bce17165158dd5fb2d820c",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/287c844a33a4d3b513bce17165158dd5fb2d820c"
    }
  ],
  "stats": {
    "total": 10,
    "additions": 8,
    "deletions": 2
  },
  "files": [
    {
      "sha": "3b835d0c090ca868a8b8c50467feb5a00a3b8ca6",
      "filename": "ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/fc1ca146f76eea0b76b1392ea1a7aa8fb0742490/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/fc1ca146f76eea0b76b1392ea1a7aa8fb0742490/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ChangeLog?ref=fc1ca146f76eea0b76b1392ea1a7aa8fb0742490",
      "patch": "@@ -1,3 +1,9 @@\n+2020-01-28  Sergio Durigan Junior  <sergiodj@redhat.com>\n+\n+\t* src-release.sh (getver): Look for gdbsupport's\n+\tcreate-version.sh script at the current directory if tool is\n+\t\"gdb\".\n+\n 2020-01-19  Simon Marchi  <simon.marchi@polymtl.ca>\n \n \t* remote-sim.c (gdbsim_target::wait): Return"
    },
    {
      "sha": "1de971eb01adb7c35bdb78b322b8ba2559b52aa8",
      "filename": "src-release.sh",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/fc1ca146f76eea0b76b1392ea1a7aa8fb0742490/src-release.sh",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/fc1ca146f76eea0b76b1392ea1a7aa8fb0742490/src-release.sh",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/src-release.sh?ref=fc1ca146f76eea0b76b1392ea1a7aa8fb0742490",
      "patch": "@@ -61,8 +61,8 @@ getver()\n \t$tool/common/create-version.sh $tool 'dummy-host' 'dummy-target' VER.tmp\n \tcat VER.tmp | grep 'version\\[\\]' | sed 's/.*\"\\([^\"]*\\)\".*/\\1/' | sed 's/-git$//'\n         rm -f VER.tmp\n-    elif test -f $tool/gdbsupport/create-version.sh; then\n-\t$tool/gdbsupport/create-version.sh $tool 'dummy-host' 'dummy-target' VER.tmp\n+    elif test $tool = \"gdb\"; then\n+\t./gdbsupport/create-version.sh $tool 'dummy-host' 'dummy-target' VER.tmp\n \tcat VER.tmp | grep 'version\\[\\]' | sed 's/.*\"\\([^\"]*\\)\".*/\\1/' | sed 's/-git$//'\n         rm -f VER.tmp\n     elif test -f $tool/version.in; then"
    }
  ]
}