{
  "sha": "f833b7a7da710991d4b91b0e994abd1eef9a7d77",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ZjgzM2I3YTdkYTcxMDk5MWQ0YjkxYjBlOTk0YWJkMWVlZjlhN2Q3Nw==",
  "commit": {
    "author": {
      "name": "Andrew Burgess",
      "email": "andrew.burgess@embecosm.com",
      "date": "2019-10-08T09:13:54Z"
    },
    "committer": {
      "name": "Andrew Burgess",
      "email": "andrew.burgess@embecosm.com",
      "date": "2019-11-19T00:37:21Z"
    },
    "message": "gdb/testsuite: Merge cvexpr.exp and ctf-cvexpr.exp\n\nThe recently added gdb.base/ctf-cvexpr.exp is just a copy of\ngdb.base/cvexpr.exp but compiled with different options.  This patch\nmerges these two tests together into a single test script.\n\nI tested this change using a version of GCC with CTF support added.\n\ngdb/testsuite/ChangeLog:\n\n\t* gdb.base/ctf-cvexpr.exp: Delete.\n\t* gdb.base/cvexpr.exp: Rewrite to compile as both dwarf and ctf.\n\nChange-Id: If678c3e38cb444867defa970203d26563f15dba4",
    "tree": {
      "sha": "cdc2287766a35268422f46c782127628c243145b",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/cdc2287766a35268422f46c782127628c243145b"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/f833b7a7da710991d4b91b0e994abd1eef9a7d77",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/f833b7a7da710991d4b91b0e994abd1eef9a7d77",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/f833b7a7da710991d4b91b0e994abd1eef9a7d77",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/f833b7a7da710991d4b91b0e994abd1eef9a7d77/comments",
  "author": {
    "login": "T-J-Teru",
    "id": 475372,
    "node_id": "MDQ6VXNlcjQ3NTM3Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/475372?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/T-J-Teru",
    "html_url": "https://github.com/T-J-Teru",
    "followers_url": "https://api.github.com/users/T-J-Teru/followers",
    "following_url": "https://api.github.com/users/T-J-Teru/following{/other_user}",
    "gists_url": "https://api.github.com/users/T-J-Teru/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/T-J-Teru/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/T-J-Teru/subscriptions",
    "organizations_url": "https://api.github.com/users/T-J-Teru/orgs",
    "repos_url": "https://api.github.com/users/T-J-Teru/repos",
    "events_url": "https://api.github.com/users/T-J-Teru/events{/privacy}",
    "received_events_url": "https://api.github.com/users/T-J-Teru/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "T-J-Teru",
    "id": 475372,
    "node_id": "MDQ6VXNlcjQ3NTM3Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/475372?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/T-J-Teru",
    "html_url": "https://github.com/T-J-Teru",
    "followers_url": "https://api.github.com/users/T-J-Teru/followers",
    "following_url": "https://api.github.com/users/T-J-Teru/following{/other_user}",
    "gists_url": "https://api.github.com/users/T-J-Teru/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/T-J-Teru/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/T-J-Teru/subscriptions",
    "organizations_url": "https://api.github.com/users/T-J-Teru/orgs",
    "repos_url": "https://api.github.com/users/T-J-Teru/repos",
    "events_url": "https://api.github.com/users/T-J-Teru/events{/privacy}",
    "received_events_url": "https://api.github.com/users/T-J-Teru/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "30d0a63681c24106d4ea3239be4bbd72a0b67646",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/30d0a63681c24106d4ea3239be4bbd72a0b67646",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/30d0a63681c24106d4ea3239be4bbd72a0b67646"
    }
  ],
  "stats": {
    "total": 965,
    "additions": 247,
    "deletions": 718
  },
  "files": [
    {
      "sha": "d45aece5acde8cd4fb1f2fdc404eebbfb275a013",
      "filename": "gdb/testsuite/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f833b7a7da710991d4b91b0e994abd1eef9a7d77/gdb/testsuite/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f833b7a7da710991d4b91b0e994abd1eef9a7d77/gdb/testsuite/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/ChangeLog?ref=f833b7a7da710991d4b91b0e994abd1eef9a7d77",
      "patch": "@@ -1,3 +1,8 @@\n+2019-11-19  Andrew Burgess  <andrew.burgess@embecosm.com>\n+\n+\t* gdb.base/ctf-cvexpr.exp: Delete.\n+\t* gdb.base/cvexpr.exp: Rewrite to compile as both dwarf and ctf.\n+\n 2019-11-19  Andrew Burgess  <andrew.burgess@embecosm.com>\n \n \t* gdb.base/ctf-constvars.exp: Skip test if CTF is not supported in"
    },
    {
      "sha": "67ceb21f5206e13743960e7e7bb989b707ea95a6",
      "filename": "gdb/testsuite/gdb.base/ctf-cvexpr.exp",
      "status": "removed",
      "additions": 0,
      "deletions": 495,
      "changes": 495,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/30d0a63681c24106d4ea3239be4bbd72a0b67646/gdb/testsuite/gdb.base/ctf-cvexpr.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/30d0a63681c24106d4ea3239be4bbd72a0b67646/gdb/testsuite/gdb.base/ctf-cvexpr.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/ctf-cvexpr.exp?ref=30d0a63681c24106d4ea3239be4bbd72a0b67646",
      "patch": "@@ -1,495 +0,0 @@\n-#   Copyright (C) 2019 Free Software Foundation, Inc.\n-\n-# This program is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 3 of the License, or\n-# (at your option) any later version.\n-#\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-#\n-# You should have received a copy of the GNU General Public License\n-# along with this program.  If not, see <http://www.gnu.org/licenses/>.\n-\n-# This file is a subset of cvexpr.exp written by\n-# Michael Snyder, Red Hat, Inc., 9/20/2001\n-\n-# This file is part of the gdb testsuite\n-# Tests for type expressions using const and volatile keywords.\n-\n-#\n-# test running programs\n-#\n-# -gt generates full-fledged CTF.\n-\n-standard_testfile cvexpr.c\n-set opts \"additional_flags=-gt\"\n-\n-if  { [gdb_compile \"${srcdir}/${subdir}/${srcfile}\" \"${binfile}\" executable {debug}] != \"\" } {\n-     untested \"failed to compile\"\n-     return -1\n-}\n-\n-clean_restart ${binfile}\n-\n-gdb_test_no_output \"set print sevenbit-strings\"\n-gdb_test_no_output \"set print address off\"\n-gdb_test_no_output \"set width 0\"\n-\n-set ws  \"\\[ \\t\\]*\"\n-\n-#\n-# Test casting a scalar to const\n-#\n-\n-gdb_test \"whatis (const char) v_char\" \\\n-\t\"type = const char\" \\\n-\t\"(const char)\"\n-gdb_test \"whatis (const signed char) v_signed_char\" \\\n-\t\"type = const signed char\" \\\n-\t\"(const signed char)\"\n-gdb_test \"whatis (const unsigned char) v_unsigned_char\" \\\n-\t\"type = const (unsigned char|char)\" \\\n-\t\"(const unsigned char)\"\n-gdb_test \"whatis (const short) v_short\" \\\n-\t\"type = const (short|short int)\" \\\n-\t\"(const short)\"\n-gdb_test \"whatis (const signed short) v_signed_short\" \\\n-\t\"type = const (short|short int|signed short|signed short int)\" \\\n-\t\"(const signed short)\"\n-gdb_test \"whatis (const unsigned short) v_unsigned_short\" \\\n-\t\"type = const (unsigned short|short unsigned int)\" \\\n-\t\"(const unsigned short)\"\n-gdb_test \"whatis (const int) v_int\" \\\n-\t\"type = const int\" \\\n-\t\"(const int)\"\n-gdb_test \"whatis (const signed int) v_signed_int\" \\\n-\t\"type = const (signed int|int)\" \\\n-\t\"(const signed int)\"\n-gdb_test \"whatis (const unsigned int) v_unsigned_int\" \\\n-\t\"type = const unsigned int\" \\\n-\t\"(const unsigned int)\"\n-gdb_test \"whatis (const long) v_long\" \\\n-\t\"type = const (long|long int)\" \\\n-\t\"(const long)\"\n-gdb_test \"whatis (const signed long) v_signed_long\" \\\n-\t\"type = const (signed |)long( int|)\" \\\n-\t\"(const signed long)\"\n-gdb_test \"whatis (const unsigned long) v_unsigned_long\" \\\n-\t\"type = const (unsigned long|long unsigned int)\" \\\n-\t\"(const unsigned long)\"\n-gdb_test \"whatis (const long long) v_long_long\" \\\n-\t\"type = const long long( int|)\" \\\n-\t\"(const long long)\"\n-gdb_test \"whatis (const signed long long) v_signed_long_long\" \\\n-\t\"type = const (signed |)long long( int|)\" \\\n-\t\"(const signed long long)\"\n-gdb_test \"whatis (const unsigned long long) v_unsigned_long_long\" \\\n-\t\"type = const (unsigned long long|long long unsigned int)\" \\\n-\t\"(const unsigned long long)\"\n-gdb_test \"whatis (const float) v_float\" \\\n-\t\"type = const float\" \\\n-\t\"(const float)\"\n-gdb_test \"whatis (const double) v_double\" \\\n-\t\"type = const double\" \\\n-\t\"(const double)\"\n-\n-#\n-# Test casting a scalar to volatile\n-#\n-\n-gdb_test \"whatis (volatile char) v_char\" \\\n-\t\"type = volatile char\" \\\n-\t\"(volatile char)\"\n-gdb_test \"whatis (volatile signed char) v_signed_char\" \\\n-\t\"type = volatile signed char\" \\\n-\t\"(volatile signed char)\"\n-gdb_test \"whatis (volatile unsigned char) v_unsigned_char\" \\\n-\t\"type = volatile (unsigned char|char)\" \\\n-\t\"(volatile unsigned char)\"\n-gdb_test \"whatis (volatile short) v_short\" \\\n-\t\"type = volatile (short|short int)\" \\\n-\t\"(volatile short)\"\n-gdb_test \"whatis (volatile signed short) v_signed_short\" \\\n-\t\"type = volatile (short|short int|signed short|signed short int)\" \\\n-\t\"(volatile signed short)\"\n-gdb_test \"whatis (volatile unsigned short) v_unsigned_short\" \\\n-\t\"type = volatile (unsigned short|short unsigned int)\" \\\n-\t\"(volatile unsigned short)\"\n-gdb_test \"whatis (volatile int) v_int\" \\\n-\t\"type = volatile int\" \\\n-\t\"(volatile int)\"\n-gdb_test \"whatis (volatile signed int) v_signed_int\" \\\n-\t\"type = volatile (signed int|int)\" \\\n-\t\"(volatile signed int)\"\n-gdb_test \"whatis (volatile unsigned int) v_unsigned_int\" \\\n-\t\"type = volatile unsigned int\" \\\n-\t\"(volatile unsigned int)\"\n-gdb_test \"whatis (volatile long) v_long\" \\\n-\t\"type = volatile (long|long int)\" \\\n-\t\"(volatile long)\"\n-gdb_test \"whatis (volatile signed long) v_signed_long\" \\\n-\t\"type = volatile (signed |)long( int|)\" \\\n-\t\"(volatile signed long)\"\n-gdb_test \"whatis (volatile unsigned long) v_unsigned_long\" \\\n-\t\"type = volatile (unsigned long|long unsigned int)\" \\\n-\t\"(volatile unsigned long)\"\n-gdb_test \"whatis (volatile long long) v_long_long\" \\\n-\t\"type = volatile long long( int|)\" \\\n-\t\"(volatile long long)\"\n-gdb_test \"whatis (volatile signed long long) v_signed_long_long\" \\\n-\t\"type = volatile (signed |)long long( int|)\" \\\n-\t\"(volatile signed long long)\"\n-gdb_test \"whatis (volatile unsigned long long) v_unsigned_long_long\" \\\n-\t\"type = volatile (unsigned long long|long long unsigned int)\" \\\n-\t\"(volatile unsigned long long)\"\n-gdb_test \"whatis (volatile float) v_float\" \\\n-\t\"type = volatile float\" \\\n-\t\"(volatile float)\"\n-gdb_test \"whatis (volatile double) v_double\" \\\n-\t\"type = volatile double\" \\\n-\t\"(volatile double)\"\n-\n-#\n-# Combine const and volatile\n-#\n-\n-gdb_test \"whatis (const volatile int) v_int\" \\\n-\t\"type = const volatile int\" \\\n-\t\"(const volatile int)\"\n-gdb_test \"whatis (volatile const int) v_int\" \\\n-\t\"type = const volatile int\" \\\n-\t\"(volatile const int)\"\n-gdb_test \"whatis (const int volatile) v_int\" \\\n-\t\"type = const volatile int\" \\\n-\t\"(const int volatile)\"\n-gdb_test \"whatis (volatile int const) v_int\" \\\n-\t\"type = const volatile int\" \\\n-\t\"(volatile int const)\"\n-gdb_test \"whatis (int const volatile) v_int\" \\\n-\t\"type = const volatile int\" \\\n-\t\"(int const volatile)\"\n-gdb_test \"whatis (int volatile const) v_int\" \\\n-\t\"type = const volatile int\" \\\n-\t\"(int volatile const)\"\n-\n-gdb_test \"whatis (const volatile int *) v_int_pointer\" \\\n-\t\"type = const volatile int${ws}\\\\*\" \\\n-\t\"(const volatile int *)\"\n-gdb_test \"whatis (volatile const int *) v_int_pointer\" \\\n-\t\"type = const volatile int${ws}\\\\*\" \\\n-\t\"(volatile const int *)\"\n-gdb_test \"whatis (const int volatile *) v_int_pointer\" \\\n-\t\"type = const volatile int${ws}\\\\*\" \\\n-\t\"(const int volatile)\"\n-gdb_test \"whatis (volatile int const *) v_int_pointer\" \\\n-\t\"type = const volatile int${ws}\\\\*\" \\\n-\t\"(volatile int const *)\"\n-gdb_test \"whatis (int const volatile *) v_int_pointer\" \\\n-\t\"type = const volatile int${ws}\\\\*\" \\\n-\t\"(int const volatile *)\"\n-gdb_test \"whatis (int volatile const *) v_int_pointer\" \\\n-\t\"type = const volatile int${ws}\\\\*\" \\\n-\t\"(int volatile const *)\"\n-gdb_test \"whatis (int * const volatile) v_int_pointer\" \\\n-\t\"type = int${ws}\\\\*${ws}const volatile\" \\\n-\t\"(int * const volatile)\"\n-gdb_test \"whatis (int * volatile const) v_int_pointer\" \\\n-\t\"type = int${ws}\\\\*${ws}const volatile\" \\\n-\t\"(int * volatile const)\"\n-\n-\n-#\n-# Put 'signed' and 'unsigned' before const/volatile (FIXME)\n-#\n-\n-#gdb_test \"whatis (signed const char) v_signed_char\" \\\n-#\t\"type = const char\" \\\n-#\t\"(signed const char)\"\n-#gdb_test \"whatis (unsigned const char) v_unsigned_char\" \\\n-#\t\"type = const (unsigned char|char)\" \\\n-#\t\"(unsigned const char)\"\n-#gdb_test \"whatis (signed const short) v_signed_short\" \\\n-#\t\"type = const (short|short int|signed short|signed short int)\" \\\n-#\t\"(signed const short)\"\n-#gdb_test \"whatis (unsigned const short) v_unsigned_short\" \\\n-#\t\"type = const (unsigned short|short unsigned int)\" \\\n-#\t\"(unsigned const short)\"\n-#gdb_test \"whatis (signed const int) v_signed_int\" \\\n-#\t\"type = const (signed int|int)\" \\\n-#\t\"(signed const int)\"\n-#gdb_test \"whatis (unsigned const int) v_unsigned_int\" \\\n-#\t\"type = const unsigned int\" \\\n-#\t\"(unsigned const int)\"\n-#gdb_test \"whatis (signed const long) v_signed_long\" \\\n-#\t\"type = const (signed |)long( int|)\" \\\n-#\t\"(signed const long)\"\n-#gdb_test \"whatis (unsigned const long) v_unsigned_long\" \\\n-#\t\"type = const (unsigned long|long unsigned int)\" \\\n-#\t\"(unsigned const long)\"\n-#gdb_test \"whatis (signed const long long) v_signed_long_long\" \\\n-#\t\"type = const (signed |)long long( int|)\" \\\n-#\t\"(signed const long long)\"\n-#gdb_test \"whatis (unsigned const long long) v_unsigned_long_long\" \\\n-#\t\"type = const (unsigned long long|long long unsigned int)\" \\\n-#\t\"(const unsigned long long)\"\n-\n-#gdb_test \"whatis (signed volatile char) v_signed_char\" \\\n-#\t\"type = volatile char\" \\\n-#\t\"(signed volatile char)\"\n-#gdb_test \"whatis (unsigned volatile char) v_unsigned_char\" \\\n-#\t\"type = volatile (unsigned char|char)\" \\\n-#\t\"(unsigned volatile char)\"\n-#gdb_test \"whatis (signed volatile short) v_signed_short\" \\\n-#\t\"type = volatile (short|short int|signed short|signed short int)\" \\\n-#\t\"(signed volatile short)\"\n-#gdb_test \"whatis (unsigned volatile short) v_unsigned_short\" \\\n-#\t\"type = volatile (unsigned short|short unsigned int)\" \\\n-#\t\"(unsigned volatile short)\"\n-#gdb_test \"whatis (signed volatile int) v_signed_int\" \\\n-#\t\"type = volatile (signed int|int)\" \\\n-#\t\"(signed volatile int)\"\n-#gdb_test \"whatis (unsigned volatile int) v_unsigned_int\" \\\n-#\t\"type = volatile unsigned int\" \\\n-#\t\"(unsigned volatile int)\"\n-#gdb_test \"whatis (signed volatile long) v_signed_long\" \\\n-#\t\"type = volatile (signed |)long( int|)\" \\\n-#\t\"(signed volatile long)\"\n-#gdb_test \"whatis (unsigned volatile long) v_unsigned_long\" \\\n-#\t\"type = volatile (unsigned long|long unsigned int)\" \\\n-#\t\"(unsigned volatile long)\"\n-#gdb_test \"whatis (signed volatile long long) v_signed_long_long\" \\\n-#\t\"type = volatile (signed |)long long( int|)\" \\\n-#\t\"(signed volatile long long)\"\n-#gdb_test \"whatis (unsigned volatile long long) v_unsigned_long_long\" \\\n-#\t\"type = volatile (unsigned long long|long long unsigned int)\" \\\n-#\t\"(unsigned volatile long long)\"\n-\n-#\n-# Now put the 'const' and 'volatile' keywords after the base type.\n-#\n-\n-gdb_test \"whatis (char const) v_char\" \\\n-\t\"type = const char\" \\\n-\t\"(char const)\"\n-gdb_test \"whatis (signed char const) v_signed_char\" \\\n-\t\"type = const signed char\" \\\n-\t\"(signed char const)\"\n-gdb_test \"whatis (unsigned char const) v_unsigned_char\" \\\n-\t\"type = const (unsigned char|char)\" \\\n-\t\"(unsigned char const)\"\n-gdb_test \"whatis (short const) v_short\" \\\n-\t\"type = const (short|short int)\" \\\n-\t\"(short const)\"\n-gdb_test \"whatis (signed short const) v_signed_short\" \\\n-\t\"type = const (short|short int|signed short|signed short int)\" \\\n-\t\"(signed short const)\"\n-gdb_test \"whatis (unsigned short const) v_unsigned_short\" \\\n-\t\"type = const (unsigned short|short unsigned int)\" \\\n-\t\"(unsigned short const)\"\n-gdb_test \"whatis (int const) v_int\" \\\n-\t\"type = const int\" \\\n-\t\"(int const)\"\n-gdb_test \"whatis (signed int const) v_signed_int\" \\\n-\t\"type = const (signed int|int)\" \\\n-\t\"(signed int const)\"\n-gdb_test \"whatis (unsigned int const) v_unsigned_int\" \\\n-\t\"type = const unsigned int\" \\\n-\t\"(unsigned int const)\"\n-gdb_test \"whatis (long const) v_long\" \\\n-\t\"type = const (long|long int)\" \\\n-\t\"(long const)\"\n-gdb_test \"whatis (signed long const) v_signed_long\" \\\n-\t\"type = const (signed |)long( int|)\" \\\n-\t\"(signed long const)\"\n-gdb_test \"whatis (unsigned long const) v_unsigned_long\" \\\n-\t\"type = const (unsigned long|long unsigned int)\" \\\n-\t\"(unsigned long const)\"\n-gdb_test \"whatis (long long const) v_long_long\" \\\n-\t\"type = const long long( int|)\" \\\n-\t\"(long long const)\"\n-gdb_test \"whatis (signed long long const) v_signed_long_long\" \\\n-\t\"type = const (signed |)long long( int|)\" \\\n-\t\"(signed long long const)\"\n-gdb_test \"whatis (unsigned long long const) v_unsigned_long_long\" \\\n-\t\"type = const (unsigned long long|long long unsigned int)\" \\\n-\t\"(unsigned long long const)\"\n-gdb_test \"whatis (float const) v_float\" \\\n-\t\"type = const float\" \\\n-\t\"(float const)\"\n-gdb_test \"whatis (double const) v_double\" \\\n-\t\"type = const double\" \\\n-\t\"(double const)\"\n-\n-gdb_test \"whatis (char volatile) v_char\" \\\n-\t\"type = volatile char\" \\\n-\t\"(char volatile)\"\n-gdb_test \"whatis (signed char volatile) v_signed_char\" \\\n-\t\"type = volatile signed char\" \\\n-\t\"(signed char volatile)\"\n-gdb_test \"whatis (unsigned char volatile) v_unsigned_char\" \\\n-\t\"type = volatile (unsigned char|char)\" \\\n-\t\"(unsigned char volatile)\"\n-gdb_test \"whatis (short volatile) v_short\" \\\n-\t\"type = volatile (short|short int)\" \\\n-\t\"(short volatile)\"\n-gdb_test \"whatis (signed short volatile) v_signed_short\" \\\n-\t\"type = volatile (short|short int|signed short|signed short int)\" \\\n-\t\"(signed short volatile)\"\n-gdb_test \"whatis (unsigned short volatile) v_unsigned_short\" \\\n-\t\"type = volatile (unsigned short|short unsigned int)\" \\\n-\t\"(unsigned short volatile)\"\n-gdb_test \"whatis (int volatile) v_int\" \\\n-\t\"type = volatile int\" \\\n-\t\"(int volatile)\"\n-gdb_test \"whatis (signed int volatile) v_signed_int\" \\\n-\t\"type = volatile (signed int|int)\" \\\n-\t\"(signed int volatile)\"\n-gdb_test \"whatis (unsigned int volatile) v_unsigned_int\" \\\n-\t\"type = volatile unsigned int\" \\\n-\t\"(unsigned int volatile)\"\n-gdb_test \"whatis (long volatile) v_long\" \\\n-\t\"type = volatile (long|long int)\" \\\n-\t\"(long volatile)\"\n-gdb_test \"whatis (signed long volatile) v_signed_long\" \\\n-\t\"type = volatile (signed |)long( int|)\" \\\n-\t\"(signed long volatile)\"\n-gdb_test \"whatis (unsigned long volatile) v_unsigned_long\" \\\n-\t\"type = volatile (unsigned long|long unsigned int)\" \\\n-\t\"(unsigned long volatile)\"\n-gdb_test \"whatis (long long volatile) v_long_long\" \\\n-\t\"type = volatile long long( int|)\" \\\n-\t\"(long long volatile)\"\n-gdb_test \"whatis (signed long long volatile) v_signed_long_long\" \\\n-\t\"type = volatile (signed |)long long( int|)\" \\\n-\t\"(signed long long volatile)\"\n-gdb_test \"whatis (unsigned long long volatile) v_unsigned_long_long\" \\\n-\t\"type = volatile (unsigned long long|long long unsigned int)\" \\\n-\t\"(unsigned long long volatile)\"\n-gdb_test \"whatis (float volatile) v_float\" \\\n-\t\"type = volatile float\" \\\n-\t\"(float volatile)\"\n-gdb_test \"whatis (double volatile) v_double\" \\\n-\t\"type = volatile double\" \\\n-\t\"(double volatile)\"\n-\n-#\n-# enums\n-#\n-\n-gdb_test \"whatis (const enum misordered) v_misordered\" \\\n-\t\"type = const enum misordered\" \\\n-\t\"(const enum misordered)\"\n-gdb_test \"whatis (enum misordered const) v_misordered\" \\\n-\t\"type = const enum misordered\" \\\n-\t\"(enum misordered const)\"\n-gdb_test \"whatis (volatile enum misordered) v_misordered\" \\\n-\t\"type = volatile enum misordered\" \\\n-\t\"(volatile enum misordered)\"\n-gdb_test \"whatis (enum misordered volatile) v_misordered\" \\\n-\t\"type = volatile enum misordered\" \\\n-\t\"(enum misordered volatile)\"\n-\n-#\n-# Pointers\n-#\n-\n-gdb_test \"whatis (const int *) v_int_pointer\" \\\n-\t\"type = const int${ws}\\\\*\" \\\n-\t\"(const int *)\"\n-gdb_test \"whatis (int const *) v_int_pointer\" \\\n-\t\"type = const int${ws}\\\\*\" \\\n-\t\"(int const *)\"\n-gdb_test \"whatis (int * const) v_int_pointer\" \\\n-\t\"type = int \\\\*${ws}const\" \\\n-\t\"(int * const)\"\n-gdb_test \"whatis (const int * const) v_int_pointer\" \\\n-\t\"type = const int${ws}\\\\*${ws}const\" \\\n-\t\"(const int * const)\"\n-gdb_test \"whatis (int const * const) v_int_pointer\" \\\n-\t\"type = const int${ws}\\\\*${ws}const\" \\\n-\t\"(int const * const)\"\n-\n-gdb_test \"whatis (const int **) v_int_pointer_pointer\" \\\n-\t\"type = const int${ws}\\\\*${ws}\\\\*\" \\\n-\t\"(const int **)\"\n-gdb_test \"whatis (int const **) v_int_pointer_pointer\" \\\n-\t\"type = const int${ws}\\\\*${ws}\\\\*\" \\\n-\t\"(int const **)\"\n-gdb_test \"whatis (int ** const) v_int_pointer_pointer\" \\\n-\t\"type = int \\\\*${ws}\\\\*${ws}const\" \\\n-\t\"(int ** const)\"\n-gdb_test \"whatis (const int * const *) v_int_pointer_pointer\" \\\n-\t\"type = const int${ws}\\\\*${ws}const${ws}\\\\*\" \\\n-\t\"(const int * const *)\"\n-gdb_test \"whatis (int const * const *) v_int_pointer_pointer\" \\\n-\t\"type = const int${ws}\\\\*${ws}const${ws}\\\\*\" \\\n-\t\"(int const * const *)\"\n-gdb_test \"whatis (const int * const * const) v_int_pointer_pointer\" \\\n-\t\"type = const int${ws}\\\\*${ws}const${ws}\\\\*${ws}const\" \\\n-\t\"(const int * const * const)\"\n-gdb_test \"whatis (int const * const * const) v_int_pointer_pointer\" \\\n-\t\"type = const int${ws}\\\\*${ws}const${ws}\\\\*${ws}const\" \\\n-\t\"(int const * const * const)\"\n-\n-#\n-# Arrays TODO\n-#\n-\n-#\n-# Pointers to arrays, arrays of pointers TODO\n-#\n-\n-#\n-# Structs and Unions\n-#\n-\n-gdb_test \"whatis (const struct t_struct) v_struct1\" \\\n-\t\"type = const struct t_struct\" \\\n-\t\"(const struct t_struct)\"\n-gdb_test \"whatis (const union t_union) v_union\" \\\n-\t\"type = const union t_union\" \\\n-\t\"(const union t_union)\"\n-gdb_test \"whatis (struct t_struct const) v_struct1\" \\\n-\t\"type = const struct t_struct\" \\\n-\t\"(struct t_struct const)\"\n-gdb_test \"whatis (union t_union const) v_union\" \\\n-\t\"type = const union t_union\" \\\n-\t\"(union t_union const)\"\n-gdb_test \"whatis (const struct t_struct *) &v_struct1\" \\\n-\t\"type = const struct t_struct${ws}\\\\*\" \\\n-\t\"(const struct t_struct *)\"\n-gdb_test \"whatis (const union t_union *) &v_union\" \\\n-\t\"type = const union t_union${ws}\\\\*\" \\\n-\t\"(const union t_union *)\"\n-gdb_test \"whatis (struct t_struct const *) &v_struct1\" \\\n-\t\"type = const struct t_struct${ws}\\\\*\" \\\n-\t\"(struct t_struct const *)\"\n-gdb_test \"whatis (union t_union const *) &v_union\" \\\n-\t\"type = const union t_union${ws}\\\\*\" \\\n-\t\"(union t_union const *)\"\n-gdb_test \"whatis (struct t_struct * const) &v_struct1\" \\\n-\t\"type = struct t_struct${ws}\\\\*${ws}const\" \\\n-\t\"(struct t_struct * const)\"\n-gdb_test \"whatis (union t_union * const) &v_union\" \\\n-\t\"type = union t_union${ws}\\\\*${ws}const\" \\\n-\t\"(union t_union * const)\"\n-gdb_test \"whatis (const struct t_struct * const) &v_struct1\" \\\n-\t\"type = const struct t_struct${ws}\\\\*${ws}const\" \\\n-\t\"(const struct t_struct * const)\"\n-gdb_test \"whatis (const union t_union * const) &v_union\" \\\n-\t\"type = const union t_union${ws}\\\\*${ws}const\" \\\n-\t\"(const union t_union * const)\"\n-gdb_test \"whatis (struct t_struct const * const) &v_struct1\" \\\n-\t\"type = const struct t_struct${ws}\\\\*${ws}const\" \\\n-\t\"(struct t_struct const * const)\"\n-gdb_test \"whatis (union t_union const * const) &v_union\" \\\n-\t\"type = const union t_union${ws}\\\\*${ws}const\" \\\n-\t\"(union t_union const * const)\"\n-\n-#\n-# Function pointers TODO\n-#\n-"
    },
    {
      "sha": "dd2fdbda2edda4ba3334bc7ccd4ca22d82cf0c06",
      "filename": "gdb/testsuite/gdb.base/cvexpr.exp",
      "status": "modified",
      "additions": 242,
      "deletions": 223,
      "changes": 465,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f833b7a7da710991d4b91b0e994abd1eef9a7d77/gdb/testsuite/gdb.base/cvexpr.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f833b7a7da710991d4b91b0e994abd1eef9a7d77/gdb/testsuite/gdb.base/cvexpr.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/cvexpr.exp?ref=f833b7a7da710991d4b91b0e994abd1eef9a7d77",
      "patch": "@@ -18,475 +18,494 @@\n # This file is part of the gdb testsuite\n # Tests for type expressions using const and volatile keywords.\n \n-#\n-# test running programs\n-#\n-\n standard_testfile .c\n \n-if  { [gdb_compile \"${srcdir}/${subdir}/${srcfile}\" \"${binfile}\" executable {debug}] != \"\" } {\n-     untested \"failed to compile\"\n-     return -1\n-}\n+# Compile the test using OPTIONS into a sub-directory DIR, and then\n+# run the test.\n+proc do_test {dir options} {\n+    global srcfile testfile\n \n-clean_restart ${binfile}\n+    set binfile [standard_output_file ${dir}/${testfile}]\n+    if { [prepare_for_testing \"failed to prepare\" ${binfile} \\\n+\t      [list $srcfile] $options] } {\n+\treturn 0\n+    }\n \n-gdb_test_no_output \"set print sevenbit-strings\"\n-gdb_test_no_output \"set print address off\"\n-gdb_test_no_output \"set width 0\"\n+    clean_restart ${binfile}\n \n-set ws  \"\\[ \\t\\]*\"\n+    gdb_test_no_output \"set print sevenbit-strings\"\n+    gdb_test_no_output \"set print address off\"\n+    gdb_test_no_output \"set width 0\"\n \n-#\n-# Test casting a scalar to const\n-#\n+    set ws  \"\\[ \\t\\]*\"\n+\n+    #\n+    # Test casting a scalar to const\n+    #\n \n-gdb_test \"whatis (const char) v_char\" \\\n+    gdb_test \"whatis (const char) v_char\" \\\n \t\"type = const char\" \\\n \t\"(const char)\"\n-gdb_test \"whatis (const signed char) v_signed_char\" \\\n+    gdb_test \"whatis (const signed char) v_signed_char\" \\\n \t\"type = const signed char\" \\\n \t\"(const signed char)\"\n-gdb_test \"whatis (const unsigned char) v_unsigned_char\" \\\n+    gdb_test \"whatis (const unsigned char) v_unsigned_char\" \\\n \t\"type = const (unsigned char|char)\" \\\n \t\"(const unsigned char)\"\n-gdb_test \"whatis (const short) v_short\" \\\n+    gdb_test \"whatis (const short) v_short\" \\\n \t\"type = const (short|short int)\" \\\n \t\"(const short)\"\n-gdb_test \"whatis (const signed short) v_signed_short\" \\\n+    gdb_test \"whatis (const signed short) v_signed_short\" \\\n \t\"type = const (short|short int|signed short|signed short int)\" \\\n \t\"(const signed short)\"\n-gdb_test \"whatis (const unsigned short) v_unsigned_short\" \\\n+    gdb_test \"whatis (const unsigned short) v_unsigned_short\" \\\n \t\"type = const (unsigned short|short unsigned int)\" \\\n \t\"(const unsigned short)\"\n-gdb_test \"whatis (const int) v_int\" \\\n+    gdb_test \"whatis (const int) v_int\" \\\n \t\"type = const int\" \\\n \t\"(const int)\"\n-gdb_test \"whatis (const signed int) v_signed_int\" \\\n+    gdb_test \"whatis (const signed int) v_signed_int\" \\\n \t\"type = const (signed int|int)\" \\\n \t\"(const signed int)\"\n-gdb_test \"whatis (const unsigned int) v_unsigned_int\" \\\n+    gdb_test \"whatis (const unsigned int) v_unsigned_int\" \\\n \t\"type = const unsigned int\" \\\n \t\"(const unsigned int)\"\n-gdb_test \"whatis (const long) v_long\" \\\n+    gdb_test \"whatis (const long) v_long\" \\\n \t\"type = const (long|long int)\" \\\n \t\"(const long)\"\n-gdb_test \"whatis (const signed long) v_signed_long\" \\\n+    gdb_test \"whatis (const signed long) v_signed_long\" \\\n \t\"type = const (signed |)long( int|)\" \\\n \t\"(const signed long)\"\n-gdb_test \"whatis (const unsigned long) v_unsigned_long\" \\\n+    gdb_test \"whatis (const unsigned long) v_unsigned_long\" \\\n \t\"type = const (unsigned long|long unsigned int)\" \\\n \t\"(const unsigned long)\"\n-gdb_test \"whatis (const long long) v_long_long\" \\\n+    gdb_test \"whatis (const long long) v_long_long\" \\\n \t\"type = const long long( int|)\" \\\n \t\"(const long long)\"\n-gdb_test \"whatis (const signed long long) v_signed_long_long\" \\\n+    gdb_test \"whatis (const signed long long) v_signed_long_long\" \\\n \t\"type = const (signed |)long long( int|)\" \\\n \t\"(const signed long long)\"\n-gdb_test \"whatis (const unsigned long long) v_unsigned_long_long\" \\\n+    gdb_test \"whatis (const unsigned long long) v_unsigned_long_long\" \\\n \t\"type = const (unsigned long long|long long unsigned int)\" \\\n \t\"(const unsigned long long)\"\n-gdb_test \"whatis (const float) v_float\" \\\n+    gdb_test \"whatis (const float) v_float\" \\\n \t\"type = const float\" \\\n \t\"(const float)\"\n-gdb_test \"whatis (const double) v_double\" \\\n+    gdb_test \"whatis (const double) v_double\" \\\n \t\"type = const double\" \\\n \t\"(const double)\"\n \n-#\n-# Test casting a scalar to volatile\n-#\n+    #\n+    # Test casting a scalar to volatile\n+    #\n \n-gdb_test \"whatis (volatile char) v_char\" \\\n+    gdb_test \"whatis (volatile char) v_char\" \\\n \t\"type = volatile char\" \\\n \t\"(volatile char)\"\n-gdb_test \"whatis (volatile signed char) v_signed_char\" \\\n+    gdb_test \"whatis (volatile signed char) v_signed_char\" \\\n \t\"type = volatile signed char\" \\\n \t\"(volatile signed char)\"\n-gdb_test \"whatis (volatile unsigned char) v_unsigned_char\" \\\n+    gdb_test \"whatis (volatile unsigned char) v_unsigned_char\" \\\n \t\"type = volatile (unsigned char|char)\" \\\n \t\"(volatile unsigned char)\"\n-gdb_test \"whatis (volatile short) v_short\" \\\n+    gdb_test \"whatis (volatile short) v_short\" \\\n \t\"type = volatile (short|short int)\" \\\n \t\"(volatile short)\"\n-gdb_test \"whatis (volatile signed short) v_signed_short\" \\\n+    gdb_test \"whatis (volatile signed short) v_signed_short\" \\\n \t\"type = volatile (short|short int|signed short|signed short int)\" \\\n \t\"(volatile signed short)\"\n-gdb_test \"whatis (volatile unsigned short) v_unsigned_short\" \\\n+    gdb_test \"whatis (volatile unsigned short) v_unsigned_short\" \\\n \t\"type = volatile (unsigned short|short unsigned int)\" \\\n \t\"(volatile unsigned short)\"\n-gdb_test \"whatis (volatile int) v_int\" \\\n+    gdb_test \"whatis (volatile int) v_int\" \\\n \t\"type = volatile int\" \\\n \t\"(volatile int)\"\n-gdb_test \"whatis (volatile signed int) v_signed_int\" \\\n+    gdb_test \"whatis (volatile signed int) v_signed_int\" \\\n \t\"type = volatile (signed int|int)\" \\\n \t\"(volatile signed int)\"\n-gdb_test \"whatis (volatile unsigned int) v_unsigned_int\" \\\n+    gdb_test \"whatis (volatile unsigned int) v_unsigned_int\" \\\n \t\"type = volatile unsigned int\" \\\n \t\"(volatile unsigned int)\"\n-gdb_test \"whatis (volatile long) v_long\" \\\n+    gdb_test \"whatis (volatile long) v_long\" \\\n \t\"type = volatile (long|long int)\" \\\n \t\"(volatile long)\"\n-gdb_test \"whatis (volatile signed long) v_signed_long\" \\\n+    gdb_test \"whatis (volatile signed long) v_signed_long\" \\\n \t\"type = volatile (signed |)long( int|)\" \\\n \t\"(volatile signed long)\"\n-gdb_test \"whatis (volatile unsigned long) v_unsigned_long\" \\\n+    gdb_test \"whatis (volatile unsigned long) v_unsigned_long\" \\\n \t\"type = volatile (unsigned long|long unsigned int)\" \\\n \t\"(volatile unsigned long)\"\n-gdb_test \"whatis (volatile long long) v_long_long\" \\\n+    gdb_test \"whatis (volatile long long) v_long_long\" \\\n \t\"type = volatile long long( int|)\" \\\n \t\"(volatile long long)\"\n-gdb_test \"whatis (volatile signed long long) v_signed_long_long\" \\\n+    gdb_test \"whatis (volatile signed long long) v_signed_long_long\" \\\n \t\"type = volatile (signed |)long long( int|)\" \\\n \t\"(volatile signed long long)\"\n-gdb_test \"whatis (volatile unsigned long long) v_unsigned_long_long\" \\\n+    gdb_test \"whatis (volatile unsigned long long) v_unsigned_long_long\" \\\n \t\"type = volatile (unsigned long long|long long unsigned int)\" \\\n \t\"(volatile unsigned long long)\"\n-gdb_test \"whatis (volatile float) v_float\" \\\n+    gdb_test \"whatis (volatile float) v_float\" \\\n \t\"type = volatile float\" \\\n \t\"(volatile float)\"\n-gdb_test \"whatis (volatile double) v_double\" \\\n+    gdb_test \"whatis (volatile double) v_double\" \\\n \t\"type = volatile double\" \\\n \t\"(volatile double)\"\n \n-#\n-# Combine const and volatile\n-#\n+    #\n+    # Combine const and volatile\n+    #\n \n-gdb_test \"whatis (const volatile int) v_int\" \\\n+    gdb_test \"whatis (const volatile int) v_int\" \\\n \t\"type = const volatile int\" \\\n \t\"(const volatile int)\"\n-gdb_test \"whatis (volatile const int) v_int\" \\\n+    gdb_test \"whatis (volatile const int) v_int\" \\\n \t\"type = const volatile int\" \\\n \t\"(volatile const int)\"\n-gdb_test \"whatis (const int volatile) v_int\" \\\n+    gdb_test \"whatis (const int volatile) v_int\" \\\n \t\"type = const volatile int\" \\\n \t\"(const int volatile)\"\n-gdb_test \"whatis (volatile int const) v_int\" \\\n+    gdb_test \"whatis (volatile int const) v_int\" \\\n \t\"type = const volatile int\" \\\n \t\"(volatile int const)\"\n-gdb_test \"whatis (int const volatile) v_int\" \\\n+    gdb_test \"whatis (int const volatile) v_int\" \\\n \t\"type = const volatile int\" \\\n \t\"(int const volatile)\"\n-gdb_test \"whatis (int volatile const) v_int\" \\\n+    gdb_test \"whatis (int volatile const) v_int\" \\\n \t\"type = const volatile int\" \\\n \t\"(int volatile const)\"\n \n-gdb_test \"whatis (const volatile int *) v_int_pointer\" \\\n+    gdb_test \"whatis (const volatile int *) v_int_pointer\" \\\n \t\"type = const volatile int${ws}\\\\*\" \\\n \t\"(const volatile int *)\"\n-gdb_test \"whatis (volatile const int *) v_int_pointer\" \\\n+    gdb_test \"whatis (volatile const int *) v_int_pointer\" \\\n \t\"type = const volatile int${ws}\\\\*\" \\\n \t\"(volatile const int *)\"\n-gdb_test \"whatis (const int volatile *) v_int_pointer\" \\\n+    gdb_test \"whatis (const int volatile *) v_int_pointer\" \\\n \t\"type = const volatile int${ws}\\\\*\" \\\n-\t\"(const int volatile)\"\n-gdb_test \"whatis (volatile int const *) v_int_pointer\" \\\n+\t\"(const int volatile *)\"\n+    gdb_test \"whatis (volatile int const *) v_int_pointer\" \\\n \t\"type = const volatile int${ws}\\\\*\" \\\n \t\"(volatile int const *)\"\n-gdb_test \"whatis (int const volatile *) v_int_pointer\" \\\n+    gdb_test \"whatis (int const volatile *) v_int_pointer\" \\\n \t\"type = const volatile int${ws}\\\\*\" \\\n \t\"(int const volatile *)\"\n-gdb_test \"whatis (int volatile const *) v_int_pointer\" \\\n+    gdb_test \"whatis (int volatile const *) v_int_pointer\" \\\n \t\"type = const volatile int${ws}\\\\*\" \\\n \t\"(int volatile const *)\"\n-gdb_test \"whatis (int * const volatile) v_int_pointer\" \\\n+    gdb_test \"whatis (int * const volatile) v_int_pointer\" \\\n \t\"type = int${ws}\\\\*${ws}const volatile\" \\\n \t\"(int * const volatile)\"\n-gdb_test \"whatis (int * volatile const) v_int_pointer\" \\\n+    gdb_test \"whatis (int * volatile const) v_int_pointer\" \\\n \t\"type = int${ws}\\\\*${ws}const volatile\" \\\n \t\"(int * volatile const)\"\n \n \n-#\n-# Put 'signed' and 'unsigned' before const/volatile (FIXME)\n-#\n-\n-#gdb_test \"whatis (signed const char) v_signed_char\" \\\n-#\t\"type = const char\" \\\n-#\t\"(signed const char)\"\n-#gdb_test \"whatis (unsigned const char) v_unsigned_char\" \\\n-#\t\"type = const (unsigned char|char)\" \\\n-#\t\"(unsigned const char)\"\n-#gdb_test \"whatis (signed const short) v_signed_short\" \\\n-#\t\"type = const (short|short int|signed short|signed short int)\" \\\n-#\t\"(signed const short)\"\n-#gdb_test \"whatis (unsigned const short) v_unsigned_short\" \\\n-#\t\"type = const (unsigned short|short unsigned int)\" \\\n-#\t\"(unsigned const short)\"\n-#gdb_test \"whatis (signed const int) v_signed_int\" \\\n-#\t\"type = const (signed int|int)\" \\\n-#\t\"(signed const int)\"\n-#gdb_test \"whatis (unsigned const int) v_unsigned_int\" \\\n-#\t\"type = const unsigned int\" \\\n-#\t\"(unsigned const int)\"\n-#gdb_test \"whatis (signed const long) v_signed_long\" \\\n-#\t\"type = const (signed |)long( int|)\" \\\n-#\t\"(signed const long)\"\n-#gdb_test \"whatis (unsigned const long) v_unsigned_long\" \\\n-#\t\"type = const (unsigned long|long unsigned int)\" \\\n-#\t\"(unsigned const long)\"\n-#gdb_test \"whatis (signed const long long) v_signed_long_long\" \\\n-#\t\"type = const (signed |)long long( int|)\" \\\n-#\t\"(signed const long long)\"\n-#gdb_test \"whatis (unsigned const long long) v_unsigned_long_long\" \\\n-#\t\"type = const (unsigned long long|long long unsigned int)\" \\\n-#\t\"(const unsigned long long)\"\n-\n-#gdb_test \"whatis (signed volatile char) v_signed_char\" \\\n-#\t\"type = volatile char\" \\\n-#\t\"(signed volatile char)\"\n-#gdb_test \"whatis (unsigned volatile char) v_unsigned_char\" \\\n-#\t\"type = volatile (unsigned char|char)\" \\\n-#\t\"(unsigned volatile char)\"\n-#gdb_test \"whatis (signed volatile short) v_signed_short\" \\\n-#\t\"type = volatile (short|short int|signed short|signed short int)\" \\\n-#\t\"(signed volatile short)\"\n-#gdb_test \"whatis (unsigned volatile short) v_unsigned_short\" \\\n-#\t\"type = volatile (unsigned short|short unsigned int)\" \\\n-#\t\"(unsigned volatile short)\"\n-#gdb_test \"whatis (signed volatile int) v_signed_int\" \\\n-#\t\"type = volatile (signed int|int)\" \\\n-#\t\"(signed volatile int)\"\n-#gdb_test \"whatis (unsigned volatile int) v_unsigned_int\" \\\n-#\t\"type = volatile unsigned int\" \\\n-#\t\"(unsigned volatile int)\"\n-#gdb_test \"whatis (signed volatile long) v_signed_long\" \\\n-#\t\"type = volatile (signed |)long( int|)\" \\\n-#\t\"(signed volatile long)\"\n-#gdb_test \"whatis (unsigned volatile long) v_unsigned_long\" \\\n-#\t\"type = volatile (unsigned long|long unsigned int)\" \\\n-#\t\"(unsigned volatile long)\"\n-#gdb_test \"whatis (signed volatile long long) v_signed_long_long\" \\\n-#\t\"type = volatile (signed |)long long( int|)\" \\\n-#\t\"(signed volatile long long)\"\n-#gdb_test \"whatis (unsigned volatile long long) v_unsigned_long_long\" \\\n-#\t\"type = volatile (unsigned long long|long long unsigned int)\" \\\n-#\t\"(unsigned volatile long long)\"\n-\n-#\n-# Now put the 'const' and 'volatile' keywords after the base type.\n-#\n-\n-gdb_test \"whatis (char const) v_char\" \\\n+    #\n+    # Put 'signed' and 'unsigned' before const/volatile\n+    #\n+\n+    #gdb_test \"whatis (signed const char) v_signed_char\" \\\n+\t#\t\"type = const char\" \\\n+\t#\t\"(signed const char)\"\n+    #gdb_test \"whatis (unsigned const char) v_unsigned_char\" \\\n+\t#\t\"type = const (unsigned char|char)\" \\\n+\t#\t\"(unsigned const char)\"\n+    #gdb_test \"whatis (signed const short) v_signed_short\" \\\n+\t#\t\"type = const (short|short int|signed short|signed short int)\" \\\n+\t#\t\"(signed const short)\"\n+    #gdb_test \"whatis (unsigned const short) v_unsigned_short\" \\\n+\t#\t\"type = const (unsigned short|short unsigned int)\" \\\n+\t#\t\"(unsigned const short)\"\n+    #gdb_test \"whatis (signed const int) v_signed_int\" \\\n+\t#\t\"type = const (signed int|int)\" \\\n+\t#\t\"(signed const int)\"\n+    #gdb_test \"whatis (unsigned const int) v_unsigned_int\" \\\n+\t#\t\"type = const unsigned int\" \\\n+\t#\t\"(unsigned const int)\"\n+    #gdb_test \"whatis (signed const long) v_signed_long\" \\\n+\t#\t\"type = const (signed |)long( int|)\" \\\n+\t#\t\"(signed const long)\"\n+    #gdb_test \"whatis (unsigned const long) v_unsigned_long\" \\\n+\t#\t\"type = const (unsigned long|long unsigned int)\" \\\n+\t#\t\"(unsigned const long)\"\n+    #gdb_test \"whatis (signed const long long) v_signed_long_long\" \\\n+\t#\t\"type = const (signed |)long long( int|)\" \\\n+\t#\t\"(signed const long long)\"\n+    #gdb_test \"whatis (unsigned const long long) v_unsigned_long_long\" \\\n+\t#\t\"type = const (unsigned long long|long long unsigned int)\" \\\n+\t#\t\"(const unsigned long long)\"\n+\n+    #gdb_test \"whatis (signed volatile char) v_signed_char\" \\\n+\t#\t\"type = volatile char\" \\\n+\t#\t\"(signed volatile char)\"\n+    #gdb_test \"whatis (unsigned volatile char) v_unsigned_char\" \\\n+\t#\t\"type = volatile (unsigned char|char)\" \\\n+\t#\t\"(unsigned volatile char)\"\n+    #gdb_test \"whatis (signed volatile short) v_signed_short\" \\\n+\t#\t\"type = volatile (short|short int|signed short|signed short int)\" \\\n+\t#\t\"(signed volatile short)\"\n+    #gdb_test \"whatis (unsigned volatile short) v_unsigned_short\" \\\n+\t#\t\"type = volatile (unsigned short|short unsigned int)\" \\\n+\t#\t\"(unsigned volatile short)\"\n+    #gdb_test \"whatis (signed volatile int) v_signed_int\" \\\n+\t#\t\"type = volatile (signed int|int)\" \\\n+\t#\t\"(signed volatile int)\"\n+    #gdb_test \"whatis (unsigned volatile int) v_unsigned_int\" \\\n+\t#\t\"type = volatile unsigned int\" \\\n+\t#\t\"(unsigned volatile int)\"\n+    #gdb_test \"whatis (signed volatile long) v_signed_long\" \\\n+\t#\t\"type = volatile (signed |)long( int|)\" \\\n+\t#\t\"(signed volatile long)\"\n+    #gdb_test \"whatis (unsigned volatile long) v_unsigned_long\" \\\n+\t#\t\"type = volatile (unsigned long|long unsigned int)\" \\\n+\t#\t\"(unsigned volatile long)\"\n+    #gdb_test \"whatis (signed volatile long long) v_signed_long_long\" \\\n+\t#\t\"type = volatile (signed |)long long( int|)\" \\\n+\t#\t\"(signed volatile long long)\"\n+    #gdb_test \"whatis (unsigned volatile long long) v_unsigned_long_long\" \\\n+\t#\t\"type = volatile (unsigned long long|long long unsigned int)\" \\\n+\t#\t\"(unsigned volatile long long)\"\n+\n+    #\n+    # Now put the 'const' and 'volatile' keywords after the base type.\n+    #\n+\n+    gdb_test \"whatis (char const) v_char\" \\\n \t\"type = const char\" \\\n \t\"(char const)\"\n-gdb_test \"whatis (signed char const) v_signed_char\" \\\n+    gdb_test \"whatis (signed char const) v_signed_char\" \\\n \t\"type = const signed char\" \\\n \t\"(signed char const)\"\n-gdb_test \"whatis (unsigned char const) v_unsigned_char\" \\\n+    gdb_test \"whatis (unsigned char const) v_unsigned_char\" \\\n \t\"type = const (unsigned char|char)\" \\\n \t\"(unsigned char const)\"\n-gdb_test \"whatis (short const) v_short\" \\\n+    gdb_test \"whatis (short const) v_short\" \\\n \t\"type = const (short|short int)\" \\\n \t\"(short const)\"\n-gdb_test \"whatis (signed short const) v_signed_short\" \\\n+    gdb_test \"whatis (signed short const) v_signed_short\" \\\n \t\"type = const (short|short int|signed short|signed short int)\" \\\n \t\"(signed short const)\"\n-gdb_test \"whatis (unsigned short const) v_unsigned_short\" \\\n+    gdb_test \"whatis (unsigned short const) v_unsigned_short\" \\\n \t\"type = const (unsigned short|short unsigned int)\" \\\n \t\"(unsigned short const)\"\n-gdb_test \"whatis (int const) v_int\" \\\n+    gdb_test \"whatis (int const) v_int\" \\\n \t\"type = const int\" \\\n \t\"(int const)\"\n-gdb_test \"whatis (signed int const) v_signed_int\" \\\n+    gdb_test \"whatis (signed int const) v_signed_int\" \\\n \t\"type = const (signed int|int)\" \\\n \t\"(signed int const)\"\n-gdb_test \"whatis (unsigned int const) v_unsigned_int\" \\\n+    gdb_test \"whatis (unsigned int const) v_unsigned_int\" \\\n \t\"type = const unsigned int\" \\\n \t\"(unsigned int const)\"\n-gdb_test \"whatis (long const) v_long\" \\\n+    gdb_test \"whatis (long const) v_long\" \\\n \t\"type = const (long|long int)\" \\\n \t\"(long const)\"\n-gdb_test \"whatis (signed long const) v_signed_long\" \\\n+    gdb_test \"whatis (signed long const) v_signed_long\" \\\n \t\"type = const (signed |)long( int|)\" \\\n \t\"(signed long const)\"\n-gdb_test \"whatis (unsigned long const) v_unsigned_long\" \\\n+    gdb_test \"whatis (unsigned long const) v_unsigned_long\" \\\n \t\"type = const (unsigned long|long unsigned int)\" \\\n \t\"(unsigned long const)\"\n-gdb_test \"whatis (long long const) v_long_long\" \\\n+    gdb_test \"whatis (long long const) v_long_long\" \\\n \t\"type = const long long( int|)\" \\\n \t\"(long long const)\"\n-gdb_test \"whatis (signed long long const) v_signed_long_long\" \\\n+    gdb_test \"whatis (signed long long const) v_signed_long_long\" \\\n \t\"type = const (signed |)long long( int|)\" \\\n \t\"(signed long long const)\"\n-gdb_test \"whatis (unsigned long long const) v_unsigned_long_long\" \\\n+    gdb_test \"whatis (unsigned long long const) v_unsigned_long_long\" \\\n \t\"type = const (unsigned long long|long long unsigned int)\" \\\n \t\"(unsigned long long const)\"\n-gdb_test \"whatis (float const) v_float\" \\\n+    gdb_test \"whatis (float const) v_float\" \\\n \t\"type = const float\" \\\n \t\"(float const)\"\n-gdb_test \"whatis (double const) v_double\" \\\n+    gdb_test \"whatis (double const) v_double\" \\\n \t\"type = const double\" \\\n \t\"(double const)\"\n \n-gdb_test \"whatis (char volatile) v_char\" \\\n+    gdb_test \"whatis (char volatile) v_char\" \\\n \t\"type = volatile char\" \\\n \t\"(char volatile)\"\n-gdb_test \"whatis (signed char volatile) v_signed_char\" \\\n+    gdb_test \"whatis (signed char volatile) v_signed_char\" \\\n \t\"type = volatile signed char\" \\\n \t\"(signed char volatile)\"\n-gdb_test \"whatis (unsigned char volatile) v_unsigned_char\" \\\n+    gdb_test \"whatis (unsigned char volatile) v_unsigned_char\" \\\n \t\"type = volatile (unsigned char|char)\" \\\n \t\"(unsigned char volatile)\"\n-gdb_test \"whatis (short volatile) v_short\" \\\n+    gdb_test \"whatis (short volatile) v_short\" \\\n \t\"type = volatile (short|short int)\" \\\n \t\"(short volatile)\"\n-gdb_test \"whatis (signed short volatile) v_signed_short\" \\\n+    gdb_test \"whatis (signed short volatile) v_signed_short\" \\\n \t\"type = volatile (short|short int|signed short|signed short int)\" \\\n \t\"(signed short volatile)\"\n-gdb_test \"whatis (unsigned short volatile) v_unsigned_short\" \\\n+    gdb_test \"whatis (unsigned short volatile) v_unsigned_short\" \\\n \t\"type = volatile (unsigned short|short unsigned int)\" \\\n \t\"(unsigned short volatile)\"\n-gdb_test \"whatis (int volatile) v_int\" \\\n+    gdb_test \"whatis (int volatile) v_int\" \\\n \t\"type = volatile int\" \\\n \t\"(int volatile)\"\n-gdb_test \"whatis (signed int volatile) v_signed_int\" \\\n+    gdb_test \"whatis (signed int volatile) v_signed_int\" \\\n \t\"type = volatile (signed int|int)\" \\\n \t\"(signed int volatile)\"\n-gdb_test \"whatis (unsigned int volatile) v_unsigned_int\" \\\n+    gdb_test \"whatis (unsigned int volatile) v_unsigned_int\" \\\n \t\"type = volatile unsigned int\" \\\n \t\"(unsigned int volatile)\"\n-gdb_test \"whatis (long volatile) v_long\" \\\n+    gdb_test \"whatis (long volatile) v_long\" \\\n \t\"type = volatile (long|long int)\" \\\n \t\"(long volatile)\"\n-gdb_test \"whatis (signed long volatile) v_signed_long\" \\\n+    gdb_test \"whatis (signed long volatile) v_signed_long\" \\\n \t\"type = volatile (signed |)long( int|)\" \\\n \t\"(signed long volatile)\"\n-gdb_test \"whatis (unsigned long volatile) v_unsigned_long\" \\\n+    gdb_test \"whatis (unsigned long volatile) v_unsigned_long\" \\\n \t\"type = volatile (unsigned long|long unsigned int)\" \\\n \t\"(unsigned long volatile)\"\n-gdb_test \"whatis (long long volatile) v_long_long\" \\\n+    gdb_test \"whatis (long long volatile) v_long_long\" \\\n \t\"type = volatile long long( int|)\" \\\n \t\"(long long volatile)\"\n-gdb_test \"whatis (signed long long volatile) v_signed_long_long\" \\\n+    gdb_test \"whatis (signed long long volatile) v_signed_long_long\" \\\n \t\"type = volatile (signed |)long long( int|)\" \\\n \t\"(signed long long volatile)\"\n-gdb_test \"whatis (unsigned long long volatile) v_unsigned_long_long\" \\\n+    gdb_test \"whatis (unsigned long long volatile) v_unsigned_long_long\" \\\n \t\"type = volatile (unsigned long long|long long unsigned int)\" \\\n \t\"(unsigned long long volatile)\"\n-gdb_test \"whatis (float volatile) v_float\" \\\n+    gdb_test \"whatis (float volatile) v_float\" \\\n \t\"type = volatile float\" \\\n \t\"(float volatile)\"\n-gdb_test \"whatis (double volatile) v_double\" \\\n+    gdb_test \"whatis (double volatile) v_double\" \\\n \t\"type = volatile double\" \\\n \t\"(double volatile)\"\n \n-#\n-# enums\n-#\n+    #\n+    # enums\n+    #\n \n-gdb_test \"whatis (const enum misordered) v_misordered\" \\\n+    gdb_test \"whatis (const enum misordered) v_misordered\" \\\n \t\"type = const enum misordered\" \\\n \t\"(const enum misordered)\"\n-gdb_test \"whatis (enum misordered const) v_misordered\" \\\n+    gdb_test \"whatis (enum misordered const) v_misordered\" \\\n \t\"type = const enum misordered\" \\\n \t\"(enum misordered const)\"\n-gdb_test \"whatis (volatile enum misordered) v_misordered\" \\\n+    gdb_test \"whatis (volatile enum misordered) v_misordered\" \\\n \t\"type = volatile enum misordered\" \\\n \t\"(volatile enum misordered)\"\n-gdb_test \"whatis (enum misordered volatile) v_misordered\" \\\n+    gdb_test \"whatis (enum misordered volatile) v_misordered\" \\\n \t\"type = volatile enum misordered\" \\\n \t\"(enum misordered volatile)\"\n \n-# \n-# Pointers\n-#\n+    #\n+    # Pointers\n+    #\n \n-gdb_test \"whatis (const int *) v_int_pointer\" \\\n+    gdb_test \"whatis (const int *) v_int_pointer\" \\\n \t\"type = const int${ws}\\\\*\" \\\n \t\"(const int *)\"\n-gdb_test \"whatis (int const *) v_int_pointer\" \\\n+    gdb_test \"whatis (int const *) v_int_pointer\" \\\n \t\"type = const int${ws}\\\\*\" \\\n \t\"(int const *)\"\n-gdb_test \"whatis (int * const) v_int_pointer\" \\\n+    gdb_test \"whatis (int * const) v_int_pointer\" \\\n \t\"type = int \\\\*${ws}const\" \\\n \t\"(int * const)\"\n-gdb_test \"whatis (const int * const) v_int_pointer\" \\\n+    gdb_test \"whatis (const int * const) v_int_pointer\" \\\n \t\"type = const int${ws}\\\\*${ws}const\" \\\n \t\"(const int * const)\"\n-gdb_test \"whatis (int const * const) v_int_pointer\" \\\n+    gdb_test \"whatis (int const * const) v_int_pointer\" \\\n \t\"type = const int${ws}\\\\*${ws}const\" \\\n \t\"(int const * const)\"\n \n-gdb_test \"whatis (const int **) v_int_pointer_pointer\" \\\n+    gdb_test \"whatis (const int **) v_int_pointer_pointer\" \\\n \t\"type = const int${ws}\\\\*${ws}\\\\*\" \\\n \t\"(const int **)\"\n-gdb_test \"whatis (int const **) v_int_pointer_pointer\" \\\n+    gdb_test \"whatis (int const **) v_int_pointer_pointer\" \\\n \t\"type = const int${ws}\\\\*${ws}\\\\*\" \\\n \t\"(int const **)\"\n-gdb_test \"whatis (int ** const) v_int_pointer_pointer\" \\\n+    gdb_test \"whatis (int ** const) v_int_pointer_pointer\" \\\n \t\"type = int \\\\*${ws}\\\\*${ws}const\" \\\n \t\"(int ** const)\"\n-gdb_test \"whatis (const int * const *) v_int_pointer_pointer\" \\\n+    gdb_test \"whatis (const int * const *) v_int_pointer_pointer\" \\\n \t\"type = const int${ws}\\\\*${ws}const${ws}\\\\*\" \\\n \t\"(const int * const *)\"\n-gdb_test \"whatis (int const * const *) v_int_pointer_pointer\" \\\n+    gdb_test \"whatis (int const * const *) v_int_pointer_pointer\" \\\n \t\"type = const int${ws}\\\\*${ws}const${ws}\\\\*\" \\\n \t\"(int const * const *)\"\n-gdb_test \"whatis (const int * const * const) v_int_pointer_pointer\" \\\n+    gdb_test \"whatis (const int * const * const) v_int_pointer_pointer\" \\\n \t\"type = const int${ws}\\\\*${ws}const${ws}\\\\*${ws}const\" \\\n \t\"(const int * const * const)\"\n-gdb_test \"whatis (int const * const * const) v_int_pointer_pointer\" \\\n+    gdb_test \"whatis (int const * const * const) v_int_pointer_pointer\" \\\n \t\"type = const int${ws}\\\\*${ws}const${ws}\\\\*${ws}const\" \\\n \t\"(int const * const * const)\"\n \n-#\n-# Arrays TODO\n-#\n+    #\n+    # Arrays TODO\n+    #\n \n-#\n-# Pointers to arrays, arrays of pointers TODO\n-#\n+    #\n+    # Pointers to arrays, arrays of pointers TODO\n+    #\n \n-#\n-# Structs and Unions\n-#\n+    #\n+    # Structs and Unions\n+    #\n \n-gdb_test \"whatis (const struct t_struct) v_struct1\" \\\n+    gdb_test \"whatis (const struct t_struct) v_struct1\" \\\n \t\"type = const struct t_struct\" \\\n \t\"(const struct t_struct)\"\n-gdb_test \"whatis (const union t_union) v_union\" \\\n+    gdb_test \"whatis (const union t_union) v_union\" \\\n \t\"type = const union t_union\" \\\n \t\"(const union t_union)\"\n-gdb_test \"whatis (struct t_struct const) v_struct1\" \\\n+    gdb_test \"whatis (struct t_struct const) v_struct1\" \\\n \t\"type = const struct t_struct\" \\\n \t\"(struct t_struct const)\"\n-gdb_test \"whatis (union t_union const) v_union\" \\\n+    gdb_test \"whatis (union t_union const) v_union\" \\\n \t\"type = const union t_union\" \\\n \t\"(union t_union const)\"\n-gdb_test \"whatis (const struct t_struct *) &v_struct1\" \\\n+    gdb_test \"whatis (const struct t_struct *) &v_struct1\" \\\n \t\"type = const struct t_struct${ws}\\\\*\" \\\n \t\"(const struct t_struct *)\"\n-gdb_test \"whatis (const union t_union *) &v_union\" \\\n+    gdb_test \"whatis (const union t_union *) &v_union\" \\\n \t\"type = const union t_union${ws}\\\\*\" \\\n \t\"(const union t_union *)\"\n-gdb_test \"whatis (struct t_struct const *) &v_struct1\" \\\n+    gdb_test \"whatis (struct t_struct const *) &v_struct1\" \\\n \t\"type = const struct t_struct${ws}\\\\*\" \\\n \t\"(struct t_struct const *)\"\n-gdb_test \"whatis (union t_union const *) &v_union\" \\\n+    gdb_test \"whatis (union t_union const *) &v_union\" \\\n \t\"type = const union t_union${ws}\\\\*\" \\\n \t\"(union t_union const *)\"\n-gdb_test \"whatis (struct t_struct * const) &v_struct1\" \\\n+    gdb_test \"whatis (struct t_struct * const) &v_struct1\" \\\n \t\"type = struct t_struct${ws}\\\\*${ws}const\" \\\n \t\"(struct t_struct * const)\"\n-gdb_test \"whatis (union t_union * const) &v_union\" \\\n+    gdb_test \"whatis (union t_union * const) &v_union\" \\\n \t\"type = union t_union${ws}\\\\*${ws}const\" \\\n \t\"(union t_union * const)\"\n-gdb_test \"whatis (const struct t_struct * const) &v_struct1\" \\\n+    gdb_test \"whatis (const struct t_struct * const) &v_struct1\" \\\n \t\"type = const struct t_struct${ws}\\\\*${ws}const\" \\\n \t\"(const struct t_struct * const)\"\n-gdb_test \"whatis (const union t_union * const) &v_union\" \\\n+    gdb_test \"whatis (const union t_union * const) &v_union\" \\\n \t\"type = const union t_union${ws}\\\\*${ws}const\" \\\n \t\"(const union t_union * const)\"\n-gdb_test \"whatis (struct t_struct const * const) &v_struct1\" \\\n+    gdb_test \"whatis (struct t_struct const * const) &v_struct1\" \\\n \t\"type = const struct t_struct${ws}\\\\*${ws}const\" \\\n \t\"(struct t_struct const * const)\"\n-gdb_test \"whatis (union t_union const * const) &v_union\" \\\n+    gdb_test \"whatis (union t_union const * const) &v_union\" \\\n \t\"type = const union t_union${ws}\\\\*${ws}const\" \\\n \t\"(union t_union const * const)\"\n \n-#\n-# Function pointers TODO\n-#\n+    #\n+    # Function pointers TODO\n+    #\n+}\n \n+# Build up the set of debug formats for which we will run this test.\n+set specs { {dwarf {debug}} }\n+if ![skip_ctf_tests] {\n+    lappend specs {ctf {\"additional_flags=-gt\"}}\n+}\n+\n+# Setup and run the test for each debug format.\n+foreach testspec $specs {\n+    set prefix [lindex $testspec 0]\n+    set opts [lindex $testspec 1]\n+\n+    with_test_prefix $prefix {\n+\tremote_exec host \"mkdir -p [standard_output_file ${prefix}]\"\n+\tdo_test $prefix $opts\n+    }\n+}"
    }
  ]
}