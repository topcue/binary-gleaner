{
  "sha": "26655f53069a2f8a8ccbc6b60537149383d28be1",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MjY2NTVmNTMwNjlhMmY4YThjY2JjNmI2MDUzNzE0OTM4M2QyOGJlMQ==",
  "commit": {
    "author": {
      "name": "Sandra Loosemore",
      "email": "sandra@codesourcery.com",
      "date": "2019-08-04T21:26:39Z"
    },
    "committer": {
      "name": "Sandra Loosemore",
      "email": "sandra@codesourcery.com",
      "date": "2019-08-04T21:26:39Z"
    },
    "message": "Add check for readline support to more GDB tab-completion tests.\n\n2019-08-04  Sandra Loosemore  <sandra@codesourcery.com>\n\n\tgdb/testsuite/\n\t* lib/completion-support.exp (test_gdb_complete_none): Skip\n\ttab completion tests if no readline support.\n\t(test_gdb_complete_unique_re): Likewise.\n\t(test_gdb_complete_multiple): Likewise.",
    "tree": {
      "sha": "406571e4ca575fcb39c20f382c47ec748ec9d6d6",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/406571e4ca575fcb39c20f382c47ec748ec9d6d6"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/26655f53069a2f8a8ccbc6b60537149383d28be1",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/26655f53069a2f8a8ccbc6b60537149383d28be1",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/26655f53069a2f8a8ccbc6b60537149383d28be1",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/26655f53069a2f8a8ccbc6b60537149383d28be1/comments",
  "author": null,
  "committer": null,
  "parents": [
    {
      "sha": "0b3303472d5fd742198f04dbf4322098be6c158c",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/0b3303472d5fd742198f04dbf4322098be6c158c",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/0b3303472d5fd742198f04dbf4322098be6c158c"
    }
  ],
  "stats": {
    "total": 19,
    "additions": 16,
    "deletions": 3
  },
  "files": [
    {
      "sha": "b4c834d84e993be45c8f9d8da355a13e891ca7c7",
      "filename": "gdb/testsuite/ChangeLog",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/26655f53069a2f8a8ccbc6b60537149383d28be1/gdb/testsuite/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/26655f53069a2f8a8ccbc6b60537149383d28be1/gdb/testsuite/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/ChangeLog?ref=26655f53069a2f8a8ccbc6b60537149383d28be1",
      "patch": "@@ -1,3 +1,10 @@\n+2019-08-04  Sandra Loosemore  <sandra@codesourcery.com>\n+\n+\t* lib/completion-support.exp (test_gdb_complete_none): Skip\n+\ttab completion tests if no readline support.\n+\t(test_gdb_complete_unique_re): Likewise.\n+\t(test_gdb_complete_multiple): Likewise.\n+\n 2019-08-03  Philippe Waroquiers  <philippe.waroquiers@skynet.be>\n \n \t* gdb.base/info_sources.exp: New file."
    },
    {
      "sha": "e081b3283620927294e8f52b2e6ca2df6c197cd5",
      "filename": "gdb/testsuite/lib/completion-support.exp",
      "status": "modified",
      "additions": 9,
      "deletions": 3,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/26655f53069a2f8a8ccbc6b60537149383d28be1/gdb/testsuite/lib/completion-support.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/26655f53069a2f8a8ccbc6b60537149383d28be1/gdb/testsuite/lib/completion-support.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/lib/completion-support.exp?ref=26655f53069a2f8a8ccbc6b60537149383d28be1",
      "patch": "@@ -217,7 +217,9 @@ proc test_gdb_complete_cmd_multiple { cmd_prefix completion_word completion_list\n # Test that completing LINE completes to nothing.\n \n proc test_gdb_complete_none { input_line } {\n-    test_gdb_complete_tab_none $input_line\n+    if { [readline_is_used] } {\n+\ttest_gdb_complete_tab_none $input_line\n+    }\n     test_gdb_complete_cmd_none $input_line\n }\n \n@@ -239,7 +241,9 @@ proc test_gdb_complete_none { input_line } {\n \n proc test_gdb_complete_unique_re { input_line complete_line_re {append_char \" \"} {max_completions 0}} {\n     set append_char_re [string_to_regexp $append_char]\n-    test_gdb_complete_tab_unique $input_line $complete_line_re $append_char_re\n+    if { [readline_is_used] } {\n+\ttest_gdb_complete_tab_unique $input_line $complete_line_re $append_char_re\n+    }\n \n     # Trim INPUT_LINE and COMPLETE LINE, for the case we're completing\n     # a command with leading whitespace.  Leading command whitespace\n@@ -282,7 +286,9 @@ proc test_gdb_complete_multiple {\n   cmd_prefix completion_word add_completed_line completion_list\n   {start_quote_char \"\"} {end_quote_char \"\"} {max_completions 0}\n } {\n-    test_gdb_complete_tab_multiple \"$cmd_prefix$completion_word\" $add_completed_line $completion_list $max_completions\n+    if { [readline_is_used] } {\n+      test_gdb_complete_tab_multiple \"$cmd_prefix$completion_word\" $add_completed_line $completion_list $max_completions\n+    }\n     test_gdb_complete_cmd_multiple $cmd_prefix $completion_word $completion_list $start_quote_char $end_quote_char $max_completions\n }\n "
    }
  ]
}