{
  "sha": "e4cbcea361dd5609a2a4cdf5c63ac15837666c50",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ZTRjYmNlYTM2MWRkNTYwOWEyYTRjZGY1YzYzYWMxNTgzNzY2NmM1MA==",
  "commit": {
    "author": {
      "name": "Simon Marchi",
      "email": "simon.marchi@polymtl.ca",
      "date": "2021-07-07T13:09:32Z"
    },
    "committer": {
      "name": "Simon Marchi",
      "email": "simon.marchi@polymtl.ca",
      "date": "2021-07-08T13:56:49Z"
    },
    "message": "gdb/Makefile.in: remove testsuite from SUBDIRS\n\nWhen distclean-ing a configured / built gdb directory, like so:\n\n    $ ./configure && make all-gdb && make distclean\n\nThe distclean operation fails with:\n\n    Missing testsuite/Makefile\n\nIf we look at the SUBDIRS variable in the generated gdb/Makefile,\ntestsuite is there twice:\n\n    SUBDIRS = doc  testsuite data-directory testsuite\n\nSo we try distclean-ing the testsuite directory twice.  The second time,\ngdb/testsuite/Makefile doesn't exist, so it fails.\n\nThe first \"testsuite\" comes from the @subdirs@ replacement, because of\nthe `AC_CONFIG_SUBDIRS` macro in gdb/configure.ac.  The second one is\nhard-coded in gdb/Makefile.in:\n\n    SUBDIRS = doc @subdirs@ data-directory testsuite\n\nThe hard-coded was added by:\n\n    bdbbcd577460 (\"Always build 'all' in gdb/testsuite\")\n\nwhich came after `testsuite` was removed from @subdirs@ by:\n\n    f99d1d37496f (\"Remove gdb/testsuite/configure\")\n\nMy commit a100a94530eb (\"gdb/testsuite: restore configure script\")\nshould have removed the hard-coded `testsuite`, since it added it back\nas a \"subdir\", but I missed it because I only looked f99d1d37496f to\nwrite my patch.\n\nFix this by removing the hard-coded one.\n\nThis patch should be pushed to both master and gdb-11-branch, hence the\nChangeLog entry:\n\ngdb/ChangeLog:\n\n\t* Makefile.in (SUBDIRS): Remove testsuite.\n\nChange-Id: I63e5590b1a08673c646510b3ecc74600eae9f92d",
    "tree": {
      "sha": "32eadd461efbea53a55a6b6dbf4f3b31c98035f3",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/32eadd461efbea53a55a6b6dbf4f3b31c98035f3"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/e4cbcea361dd5609a2a4cdf5c63ac15837666c50",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/e4cbcea361dd5609a2a4cdf5c63ac15837666c50",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/e4cbcea361dd5609a2a4cdf5c63ac15837666c50",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/e4cbcea361dd5609a2a4cdf5c63ac15837666c50/comments",
  "author": {
    "login": "simark",
    "id": 1758287,
    "node_id": "MDQ6VXNlcjE3NTgyODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1758287?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/simark",
    "html_url": "https://github.com/simark",
    "followers_url": "https://api.github.com/users/simark/followers",
    "following_url": "https://api.github.com/users/simark/following{/other_user}",
    "gists_url": "https://api.github.com/users/simark/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/simark/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/simark/subscriptions",
    "organizations_url": "https://api.github.com/users/simark/orgs",
    "repos_url": "https://api.github.com/users/simark/repos",
    "events_url": "https://api.github.com/users/simark/events{/privacy}",
    "received_events_url": "https://api.github.com/users/simark/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "simark",
    "id": 1758287,
    "node_id": "MDQ6VXNlcjE3NTgyODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1758287?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/simark",
    "html_url": "https://github.com/simark",
    "followers_url": "https://api.github.com/users/simark/followers",
    "following_url": "https://api.github.com/users/simark/following{/other_user}",
    "gists_url": "https://api.github.com/users/simark/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/simark/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/simark/subscriptions",
    "organizations_url": "https://api.github.com/users/simark/orgs",
    "repos_url": "https://api.github.com/users/simark/repos",
    "events_url": "https://api.github.com/users/simark/events{/privacy}",
    "received_events_url": "https://api.github.com/users/simark/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "f1cee837665a932d3d747597d8512cd0d3650478",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/f1cee837665a932d3d747597d8512cd0d3650478",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/f1cee837665a932d3d747597d8512cd0d3650478"
    }
  ],
  "stats": {
    "total": 2,
    "additions": 1,
    "deletions": 1
  },
  "files": [
    {
      "sha": "53beb3ab25428829dbcef82543b86e031e4d4148",
      "filename": "gdb/Makefile.in",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e4cbcea361dd5609a2a4cdf5c63ac15837666c50/gdb/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e4cbcea361dd5609a2a4cdf5c63ac15837666c50/gdb/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/Makefile.in?ref=e4cbcea361dd5609a2a4cdf5c63ac15837666c50",
      "patch": "@@ -1591,7 +1591,7 @@ COMMON_OBS = $(DEPFILES) $(CONFIG_OBS) $(YYOBJ) \\\n \t$(SUBDIR_TARGET_OBS) \\\n \t$(SUBDIR_GCC_COMPILE_OBS)\n \n-SUBDIRS = doc @subdirs@ data-directory testsuite\n+SUBDIRS = doc @subdirs@ data-directory\n CLEANDIRS = $(SUBDIRS)\n \n # List of subdirectories in the build tree that must exist."
    }
  ]
}