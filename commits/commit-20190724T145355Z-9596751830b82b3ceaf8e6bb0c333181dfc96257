{
  "sha": "9596751830b82b3ceaf8e6bb0c333181dfc96257",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6OTU5Njc1MTgzMGI4MmIzY2VhZjhlNmJiMGMzMzMxODFkZmM5NjI1Nw==",
  "commit": {
    "author": {
      "name": "Claudiu Zissulescu",
      "email": "claziss@gmail.com",
      "date": "2019-07-24T14:53:00Z"
    },
    "committer": {
      "name": "Claudiu Zissulescu",
      "email": "claziss@gmail.com",
      "date": "2019-07-24T14:53:55Z"
    },
    "message": "[ARC] [COMMITTED] Fix formatting.\n\nSmall formatting fixes.\n\n2019-07-24  Claudiu Zissulescu  <claziss@synopsys.com>\n\n\t* elf32-arc.c (bfd_get_32_me): Add a small description, fix\n\tformatting.\n\t(reloc_type_to_name): Fix formatting.\n\t(arc_elf_object_p): Likewise.\n\t(debug_arc_reloc): Likewise.\n\t(arc_do_relocation): Likewise.",
    "tree": {
      "sha": "85d2a4aa168eacb76e65c3fb0827b263bc6473ab",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/85d2a4aa168eacb76e65c3fb0827b263bc6473ab"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/9596751830b82b3ceaf8e6bb0c333181dfc96257",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/9596751830b82b3ceaf8e6bb0c333181dfc96257",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/9596751830b82b3ceaf8e6bb0c333181dfc96257",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/9596751830b82b3ceaf8e6bb0c333181dfc96257/comments",
  "author": {
    "login": "claziss",
    "id": 2761368,
    "node_id": "MDQ6VXNlcjI3NjEzNjg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2761368?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/claziss",
    "html_url": "https://github.com/claziss",
    "followers_url": "https://api.github.com/users/claziss/followers",
    "following_url": "https://api.github.com/users/claziss/following{/other_user}",
    "gists_url": "https://api.github.com/users/claziss/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/claziss/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/claziss/subscriptions",
    "organizations_url": "https://api.github.com/users/claziss/orgs",
    "repos_url": "https://api.github.com/users/claziss/repos",
    "events_url": "https://api.github.com/users/claziss/events{/privacy}",
    "received_events_url": "https://api.github.com/users/claziss/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "claziss",
    "id": 2761368,
    "node_id": "MDQ6VXNlcjI3NjEzNjg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2761368?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/claziss",
    "html_url": "https://github.com/claziss",
    "followers_url": "https://api.github.com/users/claziss/followers",
    "following_url": "https://api.github.com/users/claziss/following{/other_user}",
    "gists_url": "https://api.github.com/users/claziss/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/claziss/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/claziss/subscriptions",
    "organizations_url": "https://api.github.com/users/claziss/orgs",
    "repos_url": "https://api.github.com/users/claziss/repos",
    "events_url": "https://api.github.com/users/claziss/events{/privacy}",
    "received_events_url": "https://api.github.com/users/claziss/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "dac6552d4a203db908e11ba4803c7e39e090716f",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/dac6552d4a203db908e11ba4803c7e39e090716f",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/dac6552d4a203db908e11ba4803c7e39e090716f"
    }
  ],
  "stats": {
    "total": 150,
    "additions": 82,
    "deletions": 68
  },
  "files": [
    {
      "sha": "028723be59f6234868aa7347ac93e2bddf364d1f",
      "filename": "bfd/ChangeLog",
      "status": "modified",
      "additions": 9,
      "deletions": 0,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/9596751830b82b3ceaf8e6bb0c333181dfc96257/bfd/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/9596751830b82b3ceaf8e6bb0c333181dfc96257/bfd/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/ChangeLog?ref=9596751830b82b3ceaf8e6bb0c333181dfc96257",
      "patch": "@@ -1,3 +1,12 @@\n+2019-07-24  Claudiu Zissulescu  <claziss@synopsys.com>\n+\n+\t* elf32-arc.c (bfd_get_32_me): Add a small description, fix\n+\tformating.\n+\t(reloc_type_to_name): Fix formating.\n+\t(arc_elf_object_p): Likewise.\n+\t(debug_arc_reloc): Likewise.\n+\t(arc_do_relocation): Likewise.\n+\n 2019-07-24  Claudiu Zissulescu  <claziss@synopsys.com>\n \n \t* elf32-arc.c (bfd_get_32_me): New function."
    },
    {
      "sha": "493f32dad7f0875df4df58e991559048736e5d68",
      "filename": "bfd/elf32-arc.c",
      "status": "modified",
      "additions": 73,
      "deletions": 68,
      "changes": 141,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/9596751830b82b3ceaf8e6bb0c333181dfc96257/bfd/elf32-arc.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/9596751830b82b3ceaf8e6bb0c333181dfc96257/bfd/elf32-arc.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/elf32-arc.c?ref=9596751830b82b3ceaf8e6bb0c333181dfc96257",
      "patch": "@@ -81,11 +81,11 @@ reloc_type_to_name (unsigned int type)\n {\n   switch (type)\n     {\n-      #include \"elf/arc-reloc.def\"\n+#include \"elf/arc-reloc.def\"\n \n-      default:\n-\treturn \"UNKNOWN\";\n-\tbreak;\n+    default:\n+      return \"UNKNOWN\";\n+      break;\n     }\n }\n \n@@ -96,20 +96,24 @@ reloc_type_to_name (unsigned int type)\n \n #define USE_REL 1\n \n+/* Similar with bfd_get_32 but taking into account the\n+   middle-endianess of the ARC CPUs.  Only to be used in code\n+   sections.  */\n+\n static bfd_vma\n bfd_get_32_me (bfd * abfd,const unsigned char * data)\n {\n   bfd_vma value = 0;\n \n-  if (bfd_big_endian(abfd)) {\n+  if (bfd_big_endian (abfd))\n     value = bfd_get_32 (abfd, data);\n-  }\n-  else {\n-    value = ((bfd_get_8 (abfd, data) & 255) << 16);\n-    value |= ((bfd_get_8 (abfd, data + 1) & 255) << 24);\n-    value |= (bfd_get_8 (abfd, data + 2) & 255);\n-    value |= ((bfd_get_8 (abfd, data + 3) & 255) << 8);\n-  }\n+  else\n+    {\n+      value = ((bfd_get_8 (abfd, data) & 255) << 16);\n+      value |= ((bfd_get_8 (abfd, data + 1) & 255) << 24);\n+      value |= (bfd_get_8 (abfd, data + 2) & 255);\n+      value |= ((bfd_get_8 (abfd, data + 3) & 255) << 8);\n+    }\n \n   return value;\n }\n@@ -1001,22 +1005,22 @@ arc_elf_object_p (bfd * abfd)\n     {\n       switch (arch)\n \t{\n-\t  case E_ARC_MACH_ARC600:\n-\t    mach = bfd_mach_arc_arc600;\n-\t    break;\n-\t  case E_ARC_MACH_ARC601:\n-\t    mach = bfd_mach_arc_arc601;\n-\t    break;\n-\t  case E_ARC_MACH_ARC700:\n-\t    mach = bfd_mach_arc_arc700;\n-\t    break;\n-\t  case EF_ARC_CPU_ARCV2HS:\n-\t  case EF_ARC_CPU_ARCV2EM:\n-\t    mach = bfd_mach_arc_arcv2;\n-\t    break;\n-\t  default:\n-\t    mach = bfd_arc_get_mach_from_attributes (abfd);\n-\t    break;\n+\tcase E_ARC_MACH_ARC600:\n+\t  mach = bfd_mach_arc_arc600;\n+\t  break;\n+\tcase E_ARC_MACH_ARC601:\n+\t  mach = bfd_mach_arc_arc601;\n+\t  break;\n+\tcase E_ARC_MACH_ARC700:\n+\t  mach = bfd_mach_arc_arc700;\n+\t  break;\n+\tcase EF_ARC_CPU_ARCV2HS:\n+\tcase EF_ARC_CPU_ARCV2EM:\n+\t  mach = bfd_mach_arc_arcv2;\n+\t  break;\n+\tdefault:\n+\t  mach = bfd_arc_get_mach_from_attributes (abfd);\n+\t  break;\n \t}\n     }\n   else\n@@ -1096,7 +1100,8 @@ debug_arc_reloc (struct arc_relocation_data reloc_data)\n \tARC_DEBUG (\", output_section->vma = 0x%08x\",\n \t\t   ((unsigned int) reloc_data.sym_section->output_section->vma));\n       ARC_DEBUG (\"\\n\");\n-      if (reloc_data.sym_section->owner && reloc_data.sym_section->owner->filename)\n+      if (reloc_data.sym_section->owner\n+\t  && reloc_data.sym_section->owner->filename)\n \tARC_DEBUG (\"  file: %s\\n\", reloc_data.sym_section->owner->filename);\n     }\n   else\n@@ -1312,25 +1317,25 @@ arc_do_relocation (bfd_byte * contents,\n \n   switch (reloc_data.howto->size)\n     {\n-      case 2:\n-\tinsn = arc_bfd_get_32 (abfd,\n-\t\t\t       contents + reloc_data.reloc_offset,\n-\t\t\t       reloc_data.input_section);\n-\tbreak;\n-      case 1:\n-\tinsn = arc_bfd_get_16 (abfd,\n-\t\t\t       contents + reloc_data.reloc_offset,\n-\t\t\t       reloc_data.input_section);\n-\tbreak;\n-      case 0:\n-\tinsn = arc_bfd_get_8 (abfd,\n-\t\t\t       contents + reloc_data.reloc_offset,\n-\t\t\t       reloc_data.input_section);\n-\tbreak;\n-      default:\n-\tinsn = 0;\n-\tBFD_ASSERT (0);\n-\tbreak;\n+    case 2:\n+      insn = arc_bfd_get_32 (abfd,\n+\t\t\t     contents + reloc_data.reloc_offset,\n+\t\t\t     reloc_data.input_section);\n+      break;\n+    case 1:\n+      insn = arc_bfd_get_16 (abfd,\n+\t\t\t     contents + reloc_data.reloc_offset,\n+\t\t\t     reloc_data.input_section);\n+      break;\n+    case 0:\n+      insn = arc_bfd_get_8 (abfd,\n+\t\t\t    contents + reloc_data.reloc_offset,\n+\t\t\t    reloc_data.input_section);\n+      break;\n+    default:\n+      insn = 0;\n+      BFD_ASSERT (0);\n+      break;\n     }\n \n   orig_insn = insn;\n@@ -1339,9 +1344,9 @@ arc_do_relocation (bfd_byte * contents,\n     {\n #include \"elf/arc-reloc.def\"\n \n-      default:\n-\tBFD_ASSERT (0);\n-\tbreak;\n+    default:\n+      BFD_ASSERT (0);\n+      break;\n     }\n \n   /* Check for relocation overflow.  */\n@@ -1368,25 +1373,25 @@ arc_do_relocation (bfd_byte * contents,\n   /* Write updated instruction back to memory.  */\n   switch (reloc_data.howto->size)\n     {\n-      case 2:\n-\tarc_bfd_put_32 (abfd, insn,\n-\t\t       contents + reloc_data.reloc_offset,\n-\t\t       reloc_data.input_section);\n-\tbreak;\n-      case 1:\n+    case 2:\n+      arc_bfd_put_32 (abfd, insn,\n+\t\t      contents + reloc_data.reloc_offset,\n+\t\t      reloc_data.input_section);\n+      break;\n+    case 1:\n \tarc_bfd_put_16 (abfd, insn,\n-\t\t       contents + reloc_data.reloc_offset,\n-\t\t       reloc_data.input_section);\n-\tbreak;\n-      case 0:\n-\tarc_bfd_put_8 (abfd, insn,\n-\t\t       contents + reloc_data.reloc_offset,\n-\t\t       reloc_data.input_section);\n-\tbreak;\n-      default:\n-\tARC_DEBUG (\"size = %d\\n\", reloc_data.howto->size);\n-\tBFD_ASSERT (0);\n+\t\t\tcontents + reloc_data.reloc_offset,\n+\t\t\treloc_data.input_section);\n \tbreak;\n+    case 0:\n+      arc_bfd_put_8 (abfd, insn,\n+\t\t     contents + reloc_data.reloc_offset,\n+\t\t     reloc_data.input_section);\n+      break;\n+    default:\n+      ARC_DEBUG (\"size = %d\\n\", reloc_data.howto->size);\n+      BFD_ASSERT (0);\n+      break;\n     }\n \n   return bfd_reloc_ok;"
    }
  ]
}