{
  "sha": "62fe396b1cba6b0c3d06b758d9f8254c6d538ad8",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NjJmZTM5NmIxY2JhNmIwYzNkMDZiNzU4ZDlmODI1NGM2ZDUzOGFkOA==",
  "commit": {
    "author": {
      "name": "Tom Tromey",
      "email": "tromey@adacore.com",
      "date": "2020-04-08T20:33:35Z"
    },
    "committer": {
      "name": "Tom Tromey",
      "email": "tromey@adacore.com",
      "date": "2020-04-08T20:47:57Z"
    },
    "message": "Change two windows_thread_info members to \"bool\"\n\nThis changes a couple of fields of windows_thread_info to have type\n\"bool\".  It also updates the comment of another field, to clarify the\npossible values it can hold.\n\ngdb/ChangeLog\n2020-04-08  Tom Tromey  <tromey@adacore.com>\n\n\t* windows-nat.c (thread_rec)\n\t(windows_nat_target::fetch_registers): Update.\n\t* nat/windows-nat.h (struct windows_thread_info) <suspended>:\n\tUpdate comment.\n\t<debug_registers_changed, reload_context>: Now bool.\n\ngdbserver/ChangeLog\n2020-04-08  Tom Tromey  <tromey@adacore.com>\n\n\t* win32-i386-low.c (update_debug_registers)\n\t(i386_prepare_to_resume, i386_thread_added): Update.",
    "tree": {
      "sha": "afd1d84fb940cab90ad9dc2affc968e82762b35d",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/afd1d84fb940cab90ad9dc2affc968e82762b35d"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/62fe396b1cba6b0c3d06b758d9f8254c6d538ad8",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/62fe396b1cba6b0c3d06b758d9f8254c6d538ad8",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/62fe396b1cba6b0c3d06b758d9f8254c6d538ad8",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/62fe396b1cba6b0c3d06b758d9f8254c6d538ad8/comments",
  "author": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "e9534bd257ac9ea2f7921e8000d27c5dc4477b4e",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/e9534bd257ac9ea2f7921e8000d27c5dc4477b4e",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/e9534bd257ac9ea2f7921e8000d27c5dc4477b4e"
    }
  ],
  "stats": {
    "total": 32,
    "additions": 24,
    "deletions": 8
  },
  "files": [
    {
      "sha": "6fce48c09a08ca24a6687243fa5a7e21532b5a03",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/62fe396b1cba6b0c3d06b758d9f8254c6d538ad8/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/62fe396b1cba6b0c3d06b758d9f8254c6d538ad8/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=62fe396b1cba6b0c3d06b758d9f8254c6d538ad8",
      "patch": "@@ -1,3 +1,11 @@\n+2020-04-08  Tom Tromey  <tromey@adacore.com>\n+\n+\t* windows-nat.c (thread_rec)\n+\t(windows_nat_target::fetch_registers): Update.\n+\t* nat/windows-nat.h (struct windows_thread_info) <suspended>:\n+\tUpdate comment.\n+\t<debug_registers_changed, reload_context>: Now bool.\n+\n 2020-04-08  Tom Tromey  <tromey@adacore.com>\n \n \t* windows-nat.c (windows_add_thread): Use new."
    },
    {
      "sha": "27fd7ed19dacb15b684e1c773921107935978110",
      "filename": "gdb/nat/windows-nat.h",
      "status": "modified",
      "additions": 6,
      "deletions": 3,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/62fe396b1cba6b0c3d06b758d9f8254c6d538ad8/gdb/nat/windows-nat.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/62fe396b1cba6b0c3d06b758d9f8254c6d538ad8/gdb/nat/windows-nat.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/nat/windows-nat.h?ref=62fe396b1cba6b0c3d06b758d9f8254c6d538ad8",
      "patch": "@@ -48,7 +48,10 @@ struct windows_thread_info\n   /* Thread Information Block address.  */\n   CORE_ADDR thread_local_base;\n \n-  /* Non zero if SuspendThread was called on this thread.  */\n+  /* This keeps track of whether SuspendThread was called on this\n+     thread.  -1 means there was a failure or that the thread was\n+     explicitly not suspended, 1 means it was called, and 0 means it\n+     was not.  */\n   int suspended = 0;\n \n #ifdef _WIN32_WCE\n@@ -67,11 +70,11 @@ struct windows_thread_info\n \n   /* Whether debug registers changed since we last set CONTEXT back to\n      the thread.  */\n-  int debug_registers_changed = 0;\n+  bool debug_registers_changed = false;\n \n   /* Nonzero if CONTEXT is invalidated and must be re-read from the\n      inferior thread.  */\n-  int reload_context = 0;\n+  bool reload_context = false;\n \n   /* The name of the thread, allocated by xmalloc.  */\n   char *name = nullptr;"
    },
    {
      "sha": "b7f21cb741d06319a90526f74eab47e1d4ea9f27",
      "filename": "gdb/windows-nat.c",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/62fe396b1cba6b0c3d06b758d9f8254c6d538ad8/gdb/windows-nat.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/62fe396b1cba6b0c3d06b758d9f8254c6d538ad8/gdb/windows-nat.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/windows-nat.c?ref=62fe396b1cba6b0c3d06b758d9f8254c6d538ad8",
      "patch": "@@ -439,7 +439,7 @@ thread_rec (DWORD id, int get_context)\n \t      }\n \t    else if (get_context < 0)\n \t      th->suspended = -1;\n-\t    th->reload_context = 1;\n+\t    th->reload_context = true;\n \t  }\n \treturn th;\n       }\n@@ -695,7 +695,7 @@ windows_nat_target::fetch_registers (struct regcache *regcache, int r)\n \t      dr[7] = th->context.Dr7;\n \t    }\n \t}\n-      th->reload_context = 0;\n+      th->reload_context = false;\n     }\n \n   if (r < 0)"
    },
    {
      "sha": "25b57685d2284e599bdf7e1fc0b222114467cbaa",
      "filename": "gdbserver/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/62fe396b1cba6b0c3d06b758d9f8254c6d538ad8/gdbserver/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/62fe396b1cba6b0c3d06b758d9f8254c6d538ad8/gdbserver/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/ChangeLog?ref=62fe396b1cba6b0c3d06b758d9f8254c6d538ad8",
      "patch": "@@ -1,3 +1,8 @@\n+2020-04-08  Tom Tromey  <tromey@adacore.com>\n+\n+\t* win32-i386-low.c (update_debug_registers)\n+\t(i386_prepare_to_resume, i386_thread_added): Update.\n+\n 2020-04-08  Tom Tromey  <tromey@adacore.com>\n \n \t* win32-low.c (child_add_thread): Use new."
    },
    {
      "sha": "1b78cf98b33bc9b0958a171fe850620815e8aece",
      "filename": "gdbserver/win32-i386-low.cc",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/62fe396b1cba6b0c3d06b758d9f8254c6d538ad8/gdbserver/win32-i386-low.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/62fe396b1cba6b0c3d06b758d9f8254c6d538ad8/gdbserver/win32-i386-low.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/win32-i386-low.cc?ref=62fe396b1cba6b0c3d06b758d9f8254c6d538ad8",
      "patch": "@@ -44,7 +44,7 @@ update_debug_registers (thread_info *thread)\n \n   /* The actual update is done later just before resuming the lwp,\n      we just mark that the registers need updating.  */\n-  th->debug_registers_changed = 1;\n+  th->debug_registers_changed = true;\n }\n \n /* Update the inferior's debug register REGNUM from STATE.  */\n@@ -253,14 +253,14 @@ i386_prepare_to_resume (windows_thread_info *th)\n \t FIXME: should we set dr6 also ?? */\n       th->context.Dr7 = dr->dr_control_mirror;\n \n-      th->debug_registers_changed = 0;\n+      th->debug_registers_changed = false;\n     }\n }\n \n static void\n i386_thread_added (windows_thread_info *th)\n {\n-  th->debug_registers_changed = 1;\n+  th->debug_registers_changed = true;\n }\n \n static void"
    }
  ]
}