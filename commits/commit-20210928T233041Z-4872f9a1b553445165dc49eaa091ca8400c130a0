{
  "sha": "4872f9a1b553445165dc49eaa091ca8400c130a0",
  "node_id": "C_kwDOANOeidoAKDQ4NzJmOWExYjU1MzQ0NTE2NWRjNDllYWEwOTFjYTg0MDBjMTMwYTA",
  "commit": {
    "author": {
      "name": "Simon Marchi",
      "email": "simon.marchi@polymtl.ca",
      "date": "2021-09-28T17:22:53Z"
    },
    "committer": {
      "name": "Simon Marchi",
      "email": "simon.marchi@polymtl.ca",
      "date": "2021-09-28T23:30:41Z"
    },
    "message": "gdb.base/foll-fork.exp: accept \"info breakpoints\" output in any order\n\nThe test currently requires the \"inf 1\" breakpoint to be before the \"inf\n2\" breakpoint.  This is not always the case:\n\n    info breakpoints 2\n    Num     Type           Disp Enb Address            What\n    2       breakpoint     keep y   <MULTIPLE>\n    2.1                         y   0x0000555555554730 in callee at /home/simark/src/binutils-gdb/gdb/testsuite/gdb.base/foll-fork.c:9 inf 2\n    2.2                         y   0x0000555555554730 in callee at /home/simark/src/binutils-gdb/gdb/testsuite/gdb.base/foll-fork.c:9 inf 1\n    (gdb) FAIL: gdb.base/foll-fork.exp: follow-fork-mode=parent: detach-on-fork=off: cmd=next 2: test_follow_fork: info breakpoints\n\nSince add_location_to_breakpoint uses only the address as a criterion to\nsort locations, the order of locations at the same address is not\nstable: it will depend on the insertion order.  Here, the insertion\norder comes from the order of SALs when creating the breakpoint, which\ncan vary from machine to machine.  While it would be more user-friendly\nto have a more stable order for printed breakpoint locations, it doesn't\nreally matter for this test, and it would be hard to define an order\nthat will be the same everywhere, all the time.\n\nSo, loosen the regexp to accept \"inf 1\" and \"inf 2\" in any order.\n\nCo-Authored-By: Pedro Alves <pedro@palves.net>\nChange-Id: I5ada2e0c6ad0669e0d161bfb6b767229c0970d16",
    "tree": {
      "sha": "da1319594fcdbe7a0b9b8a22b7a2a5e5cfa86b3c",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/da1319594fcdbe7a0b9b8a22b7a2a5e5cfa86b3c"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/4872f9a1b553445165dc49eaa091ca8400c130a0",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/4872f9a1b553445165dc49eaa091ca8400c130a0",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/4872f9a1b553445165dc49eaa091ca8400c130a0",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/4872f9a1b553445165dc49eaa091ca8400c130a0/comments",
  "author": {
    "login": "simark",
    "id": 1758287,
    "node_id": "MDQ6VXNlcjE3NTgyODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1758287?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/simark",
    "html_url": "https://github.com/simark",
    "followers_url": "https://api.github.com/users/simark/followers",
    "following_url": "https://api.github.com/users/simark/following{/other_user}",
    "gists_url": "https://api.github.com/users/simark/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/simark/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/simark/subscriptions",
    "organizations_url": "https://api.github.com/users/simark/orgs",
    "repos_url": "https://api.github.com/users/simark/repos",
    "events_url": "https://api.github.com/users/simark/events{/privacy}",
    "received_events_url": "https://api.github.com/users/simark/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "simark",
    "id": 1758287,
    "node_id": "MDQ6VXNlcjE3NTgyODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1758287?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/simark",
    "html_url": "https://github.com/simark",
    "followers_url": "https://api.github.com/users/simark/followers",
    "following_url": "https://api.github.com/users/simark/following{/other_user}",
    "gists_url": "https://api.github.com/users/simark/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/simark/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/simark/subscriptions",
    "organizations_url": "https://api.github.com/users/simark/orgs",
    "repos_url": "https://api.github.com/users/simark/repos",
    "events_url": "https://api.github.com/users/simark/events{/privacy}",
    "received_events_url": "https://api.github.com/users/simark/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "3a6a0158ee07ba2f960ae4a898897460382dc5ec",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/3a6a0158ee07ba2f960ae4a898897460382dc5ec",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/3a6a0158ee07ba2f960ae4a898897460382dc5ec"
    }
  ],
  "stats": {
    "total": 13,
    "additions": 10,
    "deletions": 3
  },
  "files": [
    {
      "sha": "d6d32f63121b705e612bbec3112a26475b426190",
      "filename": "gdb/testsuite/gdb.base/foll-fork.exp",
      "status": "modified",
      "additions": 10,
      "deletions": 3,
      "changes": 13,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4872f9a1b553445165dc49eaa091ca8400c130a0/gdb/testsuite/gdb.base/foll-fork.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4872f9a1b553445165dc49eaa091ca8400c130a0/gdb/testsuite/gdb.base/foll-fork.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/foll-fork.exp?ref=4872f9a1b553445165dc49eaa091ca8400c130a0",
      "patch": "@@ -193,10 +193,17 @@ proc_with_prefix test_follow_fork { follow-fork-mode detach-on-fork cmd } {\n \t\tpass $gdb_test_name\n \t    }\n \t}\n+\n+\tset any {[^\\r\\n]+}\n+\n+\tset loc1_inf1 \"$bpnum\\\\.1 $any inf 1\"\n+\tset loc1_inf2 \"$bpnum\\\\.1 $any inf 2\"\n+\n+\tset loc2_inf1 \"$bpnum\\\\.2 $any inf 1\"\n+\tset loc2_inf2 \"$bpnum\\\\.2 $any inf 2\"\n+\n \tgdb_test \"info breakpoints $bpnum\" \\\n-\t    [multi_line \\\n-\t\t\"$bpnum\\\\.1 .* inf 1\" \\\n-\t\t\"$bpnum\\\\.2 .* inf 2\"] \\\n+\t    \"($loc1_inf1\\r\\n$loc2_inf2|$loc1_inf2\\r\\n$loc2_inf1)\" \\\n \t    \"info breakpoints\"\n     }\n }"
    }
  ]
}