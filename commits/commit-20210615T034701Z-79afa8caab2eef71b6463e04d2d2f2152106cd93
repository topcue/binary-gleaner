{
  "sha": "79afa8caab2eef71b6463e04d2d2f2152106cd93",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NzlhZmE4Y2FhYjJlZWY3MWI2NDYzZTA0ZDJkMmYyMTUyMTA2Y2Q5Mw==",
  "commit": {
    "author": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-06-15T03:45:42Z"
    },
    "committer": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-06-15T03:47:01Z"
    },
    "message": "sim: mn10300: enable -Werror\n\nNow that all warnings are fixed in this port, enable -Werror by default.",
    "tree": {
      "sha": "5328daef71885aa66ecff2c62bb621c4fbdec227",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/5328daef71885aa66ecff2c62bb621c4fbdec227"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/79afa8caab2eef71b6463e04d2d2f2152106cd93",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/79afa8caab2eef71b6463e04d2d2f2152106cd93",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/79afa8caab2eef71b6463e04d2d2f2152106cd93",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/79afa8caab2eef71b6463e04d2d2f2152106cd93/comments",
  "author": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "aa077c0d188c724e9ab7506159ba46442a5c59dc",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/aa077c0d188c724e9ab7506159ba46442a5c59dc",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/aa077c0d188c724e9ab7506159ba46442a5c59dc"
    }
  ],
  "stats": {
    "total": 219,
    "additions": 113,
    "deletions": 106
  },
  "files": [
    {
      "sha": "0083c1a433cbd4c8200c718304a1e6465f4ecb2c",
      "filename": "sim/mn10300/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/79afa8caab2eef71b6463e04d2d2f2152106cd93/sim/mn10300/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/79afa8caab2eef71b6463e04d2d2f2152106cd93/sim/mn10300/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/mn10300/ChangeLog?ref=79afa8caab2eef71b6463e04d2d2f2152106cd93",
      "patch": "@@ -1,3 +1,8 @@\n+2021-06-14  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* configure.ac: Delete all to SIM_AC_OPTION_WARNINGS.\n+\t* configure: Regenerate.\n+\n 2021-06-14  Mike Frysinger  <vapier@gentoo.org>\n \n \t* mn10300.igen: Change abort to sim_engine_abort."
    },
    {
      "sha": "0ff47dd071f43655d5c6e4051b2a633e928adf7d",
      "filename": "sim/mn10300/configure",
      "status": "modified",
      "additions": 108,
      "deletions": 105,
      "changes": 213,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/79afa8caab2eef71b6463e04d2d2f2152106cd93/sim/mn10300/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/79afa8caab2eef71b6463e04d2d2f2152106cd93/sim/mn10300/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/mn10300/configure?ref=79afa8caab2eef71b6463e04d2d2f2152106cd93",
      "patch": "@@ -769,12 +769,12 @@ enable_libtool_lock\n enable_maintainer_mode\n enable_sim_inline\n enable_sim_endian\n-enable_werror\n-enable_build_warnings\n-enable_sim_build_warnings\n enable_sim_reserved_bits\n enable_sim_bitsize\n enable_sim_hardware\n+enable_werror\n+enable_build_warnings\n+enable_sim_build_warnings\n '\n       ac_precious_vars='build_alias\n host_alias\n@@ -1415,17 +1415,17 @@ Optional Features:\n                           Specify which functions should be inlined\n   --enable-sim-endian=endian\n                           Specify target byte endian orientation\n-  --enable-werror         treat compile warnings as errors\n-  --enable-build-warnings enable build-time compiler warnings if gcc is used\n-  --enable-sim-build-warnings\n-                          enable SIM specific build-time compiler warnings if\n-                          gcc is used\n   --enable-sim-reserved-bits\n                           Specify whether to check reserved bits in\n                           instruction\n   --enable-sim-bitsize=N  Specify target bitsize (32 or 64)\n   --enable-sim-hardware=LIST\n                           Specify the hardware to be included in the build.\n+  --enable-werror         treat compile warnings as errors\n+  --enable-build-warnings enable build-time compiler warnings if gcc is used\n+  --enable-sim-build-warnings\n+                          enable SIM specific build-time compiler warnings if\n+                          gcc is used\n \n Optional Packages:\n   --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]\n@@ -11199,103 +11199,6 @@ fi\n fi\n \n \n-# Check whether --enable-werror was given.\n-if test \"${enable_werror+set}\" = set; then :\n-  enableval=$enable_werror; case \"${enableval}\" in\n-     yes | y) ERROR_ON_WARNING=\"yes\" ;;\n-     no | n)  ERROR_ON_WARNING=\"no\" ;;\n-     *) as_fn_error $? \"bad value ${enableval} for --enable-werror\" \"$LINENO\" 5 ;;\n-   esac\n-fi\n-\n-\n-# Enable -Werror by default when using gcc\n-if test \"${GCC}\" = yes -a -z \"${ERROR_ON_WARNING}\" ; then\n-    ERROR_ON_WARNING=yes\n-fi\n-\n-WERROR_CFLAGS=\"\"\n-\n-build_warnings=\"-Wall -Wdeclaration-after-statement -Wpointer-arith \\\n--Wpointer-sign \\\n--Wno-unused -Wunused-value -Wunused-function \\\n--Wno-switch -Wno-char-subscripts -Wmissing-prototypes\n--Wdeclaration-after-statement -Wempty-body -Wmissing-parameter-type \\\n--Wold-style-declaration -Wold-style-definition\"\n-\n-# Enable -Wno-format by default when using gcc on mingw since many\n-# GCC versions complain about %I64.\n-case \"${host}\" in\n-  *-*-mingw32*) build_warnings=\"$build_warnings -Wno-format\" ;;\n-  *) build_warnings=\"$build_warnings -Wformat-nonliteral\" ;;\n-esac\n-\n-# Check whether --enable-build-warnings was given.\n-if test \"${enable_build_warnings+set}\" = set; then :\n-  enableval=$enable_build_warnings; case \"${enableval}\" in\n-  yes)\t;;\n-  no)\tbuild_warnings=\"-w\";;\n-  ,*)   t=`echo \"${enableval}\" | sed -e \"s/,/ /g\"`\n-        build_warnings=\"${build_warnings} ${t}\";;\n-  *,)   t=`echo \"${enableval}\" | sed -e \"s/,/ /g\"`\n-        build_warnings=\"${t} ${build_warnings}\";;\n-  *)    build_warnings=`echo \"${enableval}\" | sed -e \"s/,/ /g\"`;;\n-esac\n-if test x\"$silent\" != x\"yes\" && test x\"$build_warnings\" != x\"\"; then\n-  echo \"Setting compiler warning flags = $build_warnings\" 6>&1\n-fi\n-fi\n-# Check whether --enable-sim-build-warnings was given.\n-if test \"${enable_sim_build_warnings+set}\" = set; then :\n-  enableval=$enable_sim_build_warnings; case \"${enableval}\" in\n-  yes)\t;;\n-  no)\tbuild_warnings=\"-w\";;\n-  ,*)   t=`echo \"${enableval}\" | sed -e \"s/,/ /g\"`\n-        build_warnings=\"${build_warnings} ${t}\";;\n-  *,)   t=`echo \"${enableval}\" | sed -e \"s/,/ /g\"`\n-        build_warnings=\"${t} ${build_warnings}\";;\n-  *)    build_warnings=`echo \"${enableval}\" | sed -e \"s/,/ /g\"`;;\n-esac\n-if test x\"$silent\" != x\"yes\" && test x\"$build_warnings\" != x\"\"; then\n-  echo \"Setting GDB specific compiler warning flags = $build_warnings\" 6>&1\n-fi\n-fi\n-WARN_CFLAGS=\"\"\n-if test \"x${build_warnings}\" != x -a \"x$GCC\" = xyes\n-then\n-    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking compiler warning flags\" >&5\n-$as_echo_n \"checking compiler warning flags... \" >&6; }\n-    # Separate out the -Werror flag as some files just cannot be\n-    # compiled with it enabled.\n-    for w in ${build_warnings}; do\n-\tcase $w in\n-\t-Werr*) WERROR_CFLAGS=-Werror ;;\n-\t*) # Check that GCC accepts it\n-\t    saved_CFLAGS=\"$CFLAGS\"\n-\t    CFLAGS=\"$CFLAGS -Werror $w\"\n-\t    cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-\n-int\n-main ()\n-{\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n-  WARN_CFLAGS=\"${WARN_CFLAGS} $w\"\n-fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-\t    CFLAGS=\"$saved_CFLAGS\"\n-\tesac\n-    done\n-    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: ${WARN_CFLAGS} ${WERROR_CFLAGS}\" >&5\n-$as_echo \"${WARN_CFLAGS} ${WERROR_CFLAGS}\" >&6; }\n-fi\n-\n-\n default_sim_reserved_bits=\"1\"\n # Check whether --enable-sim-reserved-bits was given.\n if test \"${enable_sim_reserved_bits+set}\" = set; then :\n@@ -11473,6 +11376,106 @@ fi\n \n \n \n+# Check whether --enable-werror was given.\n+if test \"${enable_werror+set}\" = set; then :\n+  enableval=$enable_werror; case \"${enableval}\" in\n+     yes | y) ERROR_ON_WARNING=\"yes\" ;;\n+     no | n)  ERROR_ON_WARNING=\"no\" ;;\n+     *) as_fn_error $? \"bad value ${enableval} for --enable-werror\" \"$LINENO\" 5 ;;\n+   esac\n+fi\n+\n+\n+# Enable -Werror by default when using gcc\n+if test \"${GCC}\" = yes -a -z \"${ERROR_ON_WARNING}\" ; then\n+    ERROR_ON_WARNING=yes\n+fi\n+\n+WERROR_CFLAGS=\"\"\n+  if test \"${ERROR_ON_WARNING}\" = yes ; then\n+    WERROR_CFLAGS=\"-Werror\"\n+  fi\n+\n+build_warnings=\"-Wall -Wdeclaration-after-statement -Wpointer-arith \\\n+-Wpointer-sign \\\n+-Wno-unused -Wunused-value -Wunused-function \\\n+-Wno-switch -Wno-char-subscripts -Wmissing-prototypes\n+-Wdeclaration-after-statement -Wempty-body -Wmissing-parameter-type \\\n+-Wold-style-declaration -Wold-style-definition\"\n+\n+# Enable -Wno-format by default when using gcc on mingw since many\n+# GCC versions complain about %I64.\n+case \"${host}\" in\n+  *-*-mingw32*) build_warnings=\"$build_warnings -Wno-format\" ;;\n+  *) build_warnings=\"$build_warnings -Wformat-nonliteral\" ;;\n+esac\n+\n+# Check whether --enable-build-warnings was given.\n+if test \"${enable_build_warnings+set}\" = set; then :\n+  enableval=$enable_build_warnings; case \"${enableval}\" in\n+  yes)\t;;\n+  no)\tbuild_warnings=\"-w\";;\n+  ,*)   t=`echo \"${enableval}\" | sed -e \"s/,/ /g\"`\n+        build_warnings=\"${build_warnings} ${t}\";;\n+  *,)   t=`echo \"${enableval}\" | sed -e \"s/,/ /g\"`\n+        build_warnings=\"${t} ${build_warnings}\";;\n+  *)    build_warnings=`echo \"${enableval}\" | sed -e \"s/,/ /g\"`;;\n+esac\n+if test x\"$silent\" != x\"yes\" && test x\"$build_warnings\" != x\"\"; then\n+  echo \"Setting compiler warning flags = $build_warnings\" 6>&1\n+fi\n+fi\n+# Check whether --enable-sim-build-warnings was given.\n+if test \"${enable_sim_build_warnings+set}\" = set; then :\n+  enableval=$enable_sim_build_warnings; case \"${enableval}\" in\n+  yes)\t;;\n+  no)\tbuild_warnings=\"-w\";;\n+  ,*)   t=`echo \"${enableval}\" | sed -e \"s/,/ /g\"`\n+        build_warnings=\"${build_warnings} ${t}\";;\n+  *,)   t=`echo \"${enableval}\" | sed -e \"s/,/ /g\"`\n+        build_warnings=\"${t} ${build_warnings}\";;\n+  *)    build_warnings=`echo \"${enableval}\" | sed -e \"s/,/ /g\"`;;\n+esac\n+if test x\"$silent\" != x\"yes\" && test x\"$build_warnings\" != x\"\"; then\n+  echo \"Setting GDB specific compiler warning flags = $build_warnings\" 6>&1\n+fi\n+fi\n+WARN_CFLAGS=\"\"\n+if test \"x${build_warnings}\" != x -a \"x$GCC\" = xyes\n+then\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking compiler warning flags\" >&5\n+$as_echo_n \"checking compiler warning flags... \" >&6; }\n+    # Separate out the -Werror flag as some files just cannot be\n+    # compiled with it enabled.\n+    for w in ${build_warnings}; do\n+\tcase $w in\n+\t-Werr*) WERROR_CFLAGS=-Werror ;;\n+\t*) # Check that GCC accepts it\n+\t    saved_CFLAGS=\"$CFLAGS\"\n+\t    CFLAGS=\"$CFLAGS -Werror $w\"\n+\t    cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+\n+int\n+main ()\n+{\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+if ac_fn_c_try_compile \"$LINENO\"; then :\n+  WARN_CFLAGS=\"${WARN_CFLAGS} $w\"\n+fi\n+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n+\t    CFLAGS=\"$saved_CFLAGS\"\n+\tesac\n+    done\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: ${WARN_CFLAGS} ${WERROR_CFLAGS}\" >&5\n+$as_echo \"${WARN_CFLAGS} ${WERROR_CFLAGS}\" >&6; }\n+fi\n+\n+\n cgen_breaks=\"\"\n if grep CGEN_MAINT $srcdir/Makefile.in >/dev/null; then\n cgen_breaks=\"break cgen_rtx_error\";"
    },
    {
      "sha": "6754136f6d961e5481568b1480daa62cbe0b6239",
      "filename": "sim/mn10300/configure.ac",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/79afa8caab2eef71b6463e04d2d2f2152106cd93/sim/mn10300/configure.ac",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/79afa8caab2eef71b6463e04d2d2f2152106cd93/sim/mn10300/configure.ac",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/mn10300/configure.ac?ref=79afa8caab2eef71b6463e04d2d2f2152106cd93",
      "patch": "@@ -5,7 +5,6 @@ AC_CONFIG_MACRO_DIRS([../m4 ../.. ../../config])\n SIM_AC_COMMON\n \n SIM_AC_OPTION_ENDIAN(LITTLE)\n-SIM_AC_OPTION_WARNINGS(no)\n SIM_AC_OPTION_RESERVED_BITS\n SIM_AC_OPTION_BITSIZE(32,31)\n SIM_AC_OPTION_HARDWARE(mn103cpu mn103int mn103tim mn103ser mn103iop)"
    }
  ]
}