{
  "sha": "b728479074067064ed997a161d3b53feab3476f2",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YjcyODQ3OTA3NDA2NzA2NGVkOTk3YTE2MWQzYjUzZmVhYjM0NzZmMg==",
  "commit": {
    "author": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-09-09T06:44:59Z"
    },
    "committer": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-09-09T06:46:35Z"
    },
    "message": "sim: ppc: drop support for std-config.h overrides\n\nOnly the ppc arch supports this kind of source file override logic.\nAll the others expose knobs via configure flags, and for some of\nthese, the ppc code does as well.  For others, it doesn't make sense\nto ever change them.  Since it's unlikely anyone is using this, drop\nit all to simplify the code (and to get us a little closer to the\ncommon sim code).",
    "tree": {
      "sha": "1f1a37163db54407a85c6a620a3d32ad017b1fe3",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/1f1a37163db54407a85c6a620a3d32ad017b1fe3"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/b728479074067064ed997a161d3b53feab3476f2",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/b728479074067064ed997a161d3b53feab3476f2",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/b728479074067064ed997a161d3b53feab3476f2",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/b728479074067064ed997a161d3b53feab3476f2/comments",
  "author": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "a13ab747e7abc67fca3568195bf943708261a39e",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/a13ab747e7abc67fca3568195bf943708261a39e",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/a13ab747e7abc67fca3568195bf943708261a39e"
    }
  ],
  "stats": {
    "total": 72,
    "additions": 6,
    "deletions": 66
  },
  "files": [
    {
      "sha": "9d892ee5999fb441dc9be65efef71954ae10ec4d",
      "filename": "sim/ppc/Makefile.in",
      "status": "modified",
      "additions": 4,
      "deletions": 14,
      "changes": 18,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b728479074067064ed997a161d3b53feab3476f2/sim/ppc/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b728479074067064ed997a161d3b53feab3476f2/sim/ppc/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ppc/Makefile.in?ref=b728479074067064ed997a161d3b53feab3476f2",
      "patch": "@@ -95,7 +95,6 @@ LIBS = $(COMMON_LIBS) @LIBS@ $(LIBGNU) $(LIBGNU_EXTRA_LIBS)\n COMPILE_FOR_BUILD = $(CC_FOR_BUILD) $(BUILD_CFLAGS)\n LINK_FOR_BUILD = $(CC_FOR_BUILD) $(BUILD_CFLAGS) $(LDFLAGS_FOR_BUILD) -o $@\n \n-CONFIG_FILE = @sim_config@\n IGEN_OPCODE_RULES = @sim_opcode@\n IGEN_DECODE_MECHANISM = @sim_decode_mechanism@\n IGEN_DUPLICATE = @sim_dup@\n@@ -168,7 +167,6 @@ ALTIVEC_REGISTERS_H = \\\n BASICS_H = \\\n \tbasics.h \\\n \t$(CONFIG_H) \\\n-\t$(PPC_CONFIG_H) \\\n \t$(INLINE_H) \\\n \t$(SIM_CALLBACKS_H) \\\n \t$(DEBUG_H) \\\n@@ -401,9 +399,6 @@ MODEL_H = \\\n PK_H = \\\n         pk.h\n \n-PPC_CONFIG_H = \\\n-        ppc-config.h\n-\n SEMANTICS_H = \\\n         semantics.h\n \n@@ -437,8 +432,7 @@ BUILT_SRC_WO_CONFIG = \\\n \n BUILT_SRC = \\\n \t$(BUILT_SRC_WO_CONFIG) \\\n-\tconfig.h \\\n-\tppc-config.h \n+\tconfig.h\n \n LIB_INLINE_SRC = \\\n \tpsim.c \\\n@@ -541,7 +535,7 @@ psim.o: psim.c $(CPU_H) $(IDECODE_H) $(OPTIONS_H) $(TREE_H) $(BFD_H)\n bits.o: bits.c $(BASICS_H)\n \n debug.o: debug.c $(CONFIG_H) $(BASICS_H)\n-filter_filename.o: filter_filename.c $(CONFIG_H) $(PPC_CONFIG_H) $(FILTER_FILENAME_H)\n+filter_filename.o: filter_filename.c $(CONFIG_H) $(FILTER_FILENAME_H)\n \n sim-endian.o: sim-endian.c $(CONFIG_H) $(BASICS_H) $(SIM_ENDIAN_N_H)\n \n@@ -646,10 +640,6 @@ tmp-defines: config.h Makefile\n # Rules to create the built c source code files\n #\n \n-ppc-config.h: $(CONFIG_FILE)\n-\tcp $(srcdir)/$(CONFIG_FILE) ppc-config.h\n-\n-\n tmp-dgen: dgen ppc-spr-table $(srcdir)/../../move-if-change\n \t$(DGEN) $(DGEN_FLAGS) \\\n \t\t-r $(srcdir)/ppc-spr-table \\\n@@ -705,7 +695,7 @@ igen: igen.o table.o lf.o misc.o filter_host.o ld-decode.o ld-cache.o filter.o l\n filter_host.c: filter_filename.c\n \tcat $(srcdir)/filter_filename.c > filter_host.c\n \n-filter_host.o: filter_host.c $(CONFIG_H) $(PPC_CONFIG_H) $(FILTER_FILENAME_H)\n+filter_host.o: filter_host.c $(CONFIG_H) $(FILTER_FILENAME_H)\n \t$(COMPILE_FOR_BUILD) -c filter_host.c\n \n table.o: table.c $(CONFIG_H) $(MISC_H) $(LF_H) $(TABLE_H)\n@@ -856,7 +846,7 @@ distclean realclean: clean\n \trm -f TAGS Makefile config.cache config.status config.h defines.h stamp-h config.log\n \n maintainer-clean: distclean\n-\trm -f *~ *.log ppc-config.h core *.core\n+\trm -f *~ *.log core *.core\n \n Makefile: Makefile.in config.status\n \tCONFIG_FILES=Makefile CONFIG_HEADERS= $(SHELL) ./config.status"
    },
    {
      "sha": "7c54b734d936b03ba9f83c94b905e6043e08dede",
      "filename": "sim/ppc/basics.h",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b728479074067064ed997a161d3b53feab3476f2/sim/ppc/basics.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b728479074067064ed997a161d3b53feab3476f2/sim/ppc/basics.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ppc/basics.h?ref=b728479074067064ed997a161d3b53feab3476f2",
      "patch": "@@ -71,7 +71,7 @@ typedef enum {\n \n /* Basic configuration */\n \n-#include \"ppc-config.h\"\n+#include \"std-config.h\"\n #include \"inline.h\"\n \n "
    },
    {
      "sha": "619f1d7330a7beb23bfb97a639c419fdd2e90bda",
      "filename": "sim/ppc/configure",
      "status": "modified",
      "additions": 0,
      "deletions": 28,
      "changes": 28,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b728479074067064ed997a161d3b53feab3476f2/sim/ppc/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b728479074067064ed997a161d3b53feab3476f2/sim/ppc/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ppc/configure?ref=b728479074067064ed997a161d3b53feab3476f2",
      "patch": "@@ -649,7 +649,6 @@ sim_decode_mechanism\n sim_dup\n sim_switch\n sim_opcode\n-sim_config\n sim_line_nr\n EGREP\n GREP\n@@ -706,7 +705,6 @@ ac_subst_files=''\n ac_user_opts='\n enable_option_checking\n enable_sim_bitsize\n-enable_sim_config\n enable_sim_decode_mechanism\n enable_sim_default_model\n enable_sim_duplicate\n@@ -1344,7 +1342,6 @@ Optional Features:\n   --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)\n   --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]\n   --enable-sim-bitsize=n\t\tSpecify target bitsize (32 or 64).\n-  --enable-sim-config=file\t\tOverride default config file\n   --enable-sim-decode-mechanism=which\t\tSpecify the instruction decode mechanism.\n   --enable-sim-default-model=which\tSpecify default PowerPC to model.\n   --enable-sim-duplicate\t\tExpand (duplicate) semantic functions.\n@@ -2936,30 +2933,6 @@ else\n fi\n \n \n-# Check whether --enable-sim-config was given.\n-if test \"${enable_sim_config+set}\" = set; then :\n-  enableval=$enable_sim_config; case \"${enableval}\" in\n-  yes|no)\tas_fn_error $? \"\\\"No value supplied for --enable-sim-config=file\\\"\" \"$LINENO\" 5;;\n-  *)\t\tif test -f \"${srcdir}/${enableval}\"; then\n-\t\t  sim_config=\"${enableval}\";\n-\t\telif test -f \"${srcdir}/${enableval}-config.h\"; then\n-\t\t  sim_config=\"${enableval}-config.h\"\n-\t\telse\n-\t\t  as_fn_error $? \"\\\"Config file $enableval was not found\\\"\" \"$LINENO\" 5;\n-\t\t  sim_config=std-config.h\n-\t\tfi;;\n-esac\n-if test x\"$silent\" != x\"yes\" && test x\"$sim_config\" != x\"\"; then\n-  echo \"Setting config flags = $sim_config\" 6>&1\n-fi\n-else\n-  sim_config=\"std-config.h\"\n-if test x\"$silent\" != x\"yes\"; then\n-  echo \"Setting config flags = $sim_config\" 6>&1\n-fi\n-fi\n-\n-\n # Check whether --enable-sim-decode-mechanism was given.\n if test \"${enable_sim_decode_mechanism+set}\" = set; then :\n   enableval=$enable_sim_decode_mechanism; case \"${enableval}\" in\n@@ -4238,7 +4211,6 @@ fi\n \n \n \n-\n \n \n ac_config_files=\"$ac_config_files Makefile\""
    },
    {
      "sha": "b837c5b8609ee537396060a872b54a0ec3bab0c0",
      "filename": "sim/ppc/configure.ac",
      "status": "modified",
      "additions": 0,
      "deletions": 22,
      "changes": 22,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b728479074067064ed997a161d3b53feab3476f2/sim/ppc/configure.ac",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b728479074067064ed997a161d3b53feab3476f2/sim/ppc/configure.ac",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ppc/configure.ac?ref=b728479074067064ed997a161d3b53feab3476f2",
      "patch": "@@ -16,27 +16,6 @@ if test x\"$silent\" != x\"yes\" && test x\"$sim_bitsize\" != x\"\"; then\n fi],[sim_bitsize=\"\"])dnl\n \n \n-AC_ARG_ENABLE(sim-config,\n-[  --enable-sim-config=file\t\tOverride default config file],\n-[case \"${enableval}\" in\n-  yes|no)\tAC_MSG_ERROR(\"No value supplied for --enable-sim-config=file\");;\n-  *)\t\tif test -f \"${srcdir}/${enableval}\"; then\n-\t\t  sim_config=\"${enableval}\";\n-\t\telif test -f \"${srcdir}/${enableval}-config.h\"; then\n-\t\t  sim_config=\"${enableval}-config.h\"\n-\t\telse\n-\t\t  AC_MSG_ERROR(\"Config file $enableval was not found\");\n-\t\t  sim_config=std-config.h\n-\t\tfi;;\n-esac\n-if test x\"$silent\" != x\"yes\" && test x\"$sim_config\" != x\"\"; then\n-  echo \"Setting config flags = $sim_config\" 6>&1\n-fi],[sim_config=\"std-config.h\"\n-if test x\"$silent\" != x\"yes\"; then\n-  echo \"Setting config flags = $sim_config\" 6>&1\n-fi])dnl\n-\n-\n AC_ARG_ENABLE(sim-decode-mechanism,\n [  --enable-sim-decode-mechanism=which\t\tSpecify the instruction decode mechanism.],\n [case \"${enableval}\" in\n@@ -621,7 +600,6 @@ else\n fi\n \n AC_SUBST(sim_line_nr)\n-AC_SUBST(sim_config)\n AC_SUBST(sim_opcode)\n AC_SUBST(sim_switch)\n AC_SUBST(sim_dup)"
    },
    {
      "sha": "dfba2b31348a64df7dac627005683f7b0a2f0b88",
      "filename": "sim/ppc/inline.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b728479074067064ed997a161d3b53feab3476f2/sim/ppc/inline.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b728479074067064ed997a161d3b53feab3476f2/sim/ppc/inline.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ppc/inline.c?ref=b728479074067064ed997a161d3b53feab3476f2",
      "patch": "@@ -24,7 +24,7 @@\n /* This must come before any other includes.  */\n #include \"defs.h\"\n \n-#include \"ppc-config.h\"\n+#include \"std-config.h\"\n \n #include \"inline.h\"\n "
    }
  ]
}