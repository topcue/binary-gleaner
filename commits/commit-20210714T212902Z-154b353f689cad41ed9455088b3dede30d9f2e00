{
  "sha": "154b353f689cad41ed9455088b3dede30d9f2e00",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MTU0YjM1M2Y2ODljYWQ0MWVkOTQ1NTA4OGIzZGVkZTMwZDlmMmUwMA==",
  "commit": {
    "author": {
      "name": "H.J. Lu",
      "email": "hjl.tools@gmail.com",
      "date": "2021-07-14T21:17:48Z"
    },
    "committer": {
      "name": "H.J. Lu",
      "email": "hjl.tools@gmail.com",
      "date": "2021-07-14T21:29:02Z"
    },
    "message": "x86: Add int1 as one byte opcode 0xf1\n\nAlso change the x86 disassembler to disassemble 0xf1 as int1, instead of\nicebp.\n\ngas/\n\n\tPR gas/28088\n\t* testsuite/gas/i386/opcode.s: Add int1.\n\t* testsuite/gas/i386/x86-64-opcode.s: Add int1, int3 and int.\n\t* testsuite/gas/i386/opcode-intel.d: Updated.\n\t* testsuite/gas/i386/opcode-suffix.d: Likewise.\n\t* testsuite/gas/i386/opcode.d: Likewise.\n\t* testsuite/gas/i386/x86-64-opcode.d: Likewise.\n\nopcodes/\n\n\tPR gas/28088\n\t* i386-dis.c (dis386): Replace icebp with int1.\n\t* i386-opc.tbl: Add int1.\n\t* i386-tbl.h: Regenerate.",
    "tree": {
      "sha": "1cd30dd2c4ce5ff65bc1074b2e2d32fc0c804cf7",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/1cd30dd2c4ce5ff65bc1074b2e2d32fc0c804cf7"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/154b353f689cad41ed9455088b3dede30d9f2e00",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/154b353f689cad41ed9455088b3dede30d9f2e00",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/154b353f689cad41ed9455088b3dede30d9f2e00",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/154b353f689cad41ed9455088b3dede30d9f2e00/comments",
  "author": {
    "login": "hjl-tools",
    "id": 1072356,
    "node_id": "MDQ6VXNlcjEwNzIzNTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hjl-tools",
    "html_url": "https://github.com/hjl-tools",
    "followers_url": "https://api.github.com/users/hjl-tools/followers",
    "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}",
    "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions",
    "organizations_url": "https://api.github.com/users/hjl-tools/orgs",
    "repos_url": "https://api.github.com/users/hjl-tools/repos",
    "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hjl-tools/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "hjl-tools",
    "id": 1072356,
    "node_id": "MDQ6VXNlcjEwNzIzNTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hjl-tools",
    "html_url": "https://github.com/hjl-tools",
    "followers_url": "https://api.github.com/users/hjl-tools/followers",
    "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}",
    "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions",
    "organizations_url": "https://api.github.com/users/hjl-tools/orgs",
    "repos_url": "https://api.github.com/users/hjl-tools/repos",
    "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hjl-tools/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "9cce9fab90e0951c6816d97801e124e392e74dd9",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/9cce9fab90e0951c6816d97801e124e392e74dd9",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/9cce9fab90e0951c6816d97801e124e392e74dd9"
    }
  ],
  "stats": {
    "total": 28,
    "additions": 27,
    "deletions": 1
  },
  "files": [
    {
      "sha": "732b033c9168d94571b2cfbd1338521b8fb58133",
      "filename": "gas/testsuite/gas/i386/opcode-intel.d",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/154b353f689cad41ed9455088b3dede30d9f2e00/gas/testsuite/gas/i386/opcode-intel.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/154b353f689cad41ed9455088b3dede30d9f2e00/gas/testsuite/gas/i386/opcode-intel.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/opcode-intel.d?ref=154b353f689cad41ed9455088b3dede30d9f2e00",
      "patch": "@@ -588,6 +588,7 @@ Disassembly of section .text:\n  *[0-9a-f]+:\t85 c3 [ \t]*test[ \t]+ebx,eax\n  *[0-9a-f]+:\t85 d8 [ \t]*test[ \t]+eax,ebx\n  *[0-9a-f]+:\t85 18 [ \t]*test[ \t]+(DWORD PTR )?\\[eax\\],ebx\n+ *[0-9a-f]+:\tf1[ \t]+int1[ \t]+\n [ \t]*[a-f0-9]+:\t0f 4a 90 90 90 90 90 \tcmovp  edx,DWORD PTR \\[eax-0x6f6f6f70\\]\n [ \t]*[a-f0-9]+:\t0f 4b 90 90 90 90 90 \tcmovnp edx,DWORD PTR \\[eax-0x6f6f6f70\\]\n [ \t]*[a-f0-9]+:\t66 0f 4a 90 90 90 90 90 \tcmovp  dx,WORD PTR \\[eax-0x6f6f6f70\\]"
    },
    {
      "sha": "6a9c4cd8717c59a2b161cdc802ab843942272ac8",
      "filename": "gas/testsuite/gas/i386/opcode-suffix.d",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/154b353f689cad41ed9455088b3dede30d9f2e00/gas/testsuite/gas/i386/opcode-suffix.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/154b353f689cad41ed9455088b3dede30d9f2e00/gas/testsuite/gas/i386/opcode-suffix.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/opcode-suffix.d?ref=154b353f689cad41ed9455088b3dede30d9f2e00",
      "patch": "@@ -588,6 +588,7 @@ Disassembly of section .text:\n  *[0-9a-f]+:\t85 c3 [ \t]*testl[ \t]+%eax,%ebx\n  *[0-9a-f]+:\t85 d8 [ \t]*testl[ \t]+%ebx,%eax\n  *[0-9a-f]+:\t85 18 [ \t]*testl[ \t]+%ebx,\\(%eax\\)\n+ *[0-9a-f]+:\tf1[ \t]+int1[ \t]+\n [ \t]*[a-f0-9]+:\t0f 4a 90 90 90 90 90 \tcmovpl -0x6f6f6f70\\(%eax\\),%edx\n [ \t]*[a-f0-9]+:\t0f 4b 90 90 90 90 90 \tcmovnpl -0x6f6f6f70\\(%eax\\),%edx\n [ \t]*[a-f0-9]+:\t66 0f 4a 90 90 90 90 90 \tcmovpw -0x6f6f6f70\\(%eax\\),%dx"
    },
    {
      "sha": "9c1f67f5fd110b2cec4c253b5a408348d20d56f3",
      "filename": "gas/testsuite/gas/i386/opcode.d",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/154b353f689cad41ed9455088b3dede30d9f2e00/gas/testsuite/gas/i386/opcode.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/154b353f689cad41ed9455088b3dede30d9f2e00/gas/testsuite/gas/i386/opcode.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/opcode.d?ref=154b353f689cad41ed9455088b3dede30d9f2e00",
      "patch": "@@ -587,6 +587,7 @@ Disassembly of section .text:\n  9f5:\t85 c3 [ \t]*test   %eax,%ebx\n  9f7:\t85 d8 [ \t]*test   %ebx,%eax\n  9f9:\t85 18 [ \t]*test   %ebx,\\(%eax\\)\n+ 9fb:\tf1 [ \t]*int1   \n [ \t]*[a-f0-9]+:\t0f 4a 90 90 90 90 90 \tcmovp  -0x6f6f6f70\\(%eax\\),%edx\n [ \t]*[a-f0-9]+:\t0f 4b 90 90 90 90 90 \tcmovnp -0x6f6f6f70\\(%eax\\),%edx\n [ \t]*[a-f0-9]+:\t66 0f 4a 90 90 90 90 90 \tcmovp  -0x6f6f6f70\\(%eax\\),%dx"
    },
    {
      "sha": "d3255f2b80c3f56488527f7fe7171872760b93dc",
      "filename": "gas/testsuite/gas/i386/opcode.s",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/154b353f689cad41ed9455088b3dede30d9f2e00/gas/testsuite/gas/i386/opcode.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/154b353f689cad41ed9455088b3dede30d9f2e00/gas/testsuite/gas/i386/opcode.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/opcode.s?ref=154b353f689cad41ed9455088b3dede30d9f2e00",
      "patch": "@@ -585,6 +585,8 @@ foo:\n  test   %ebx,%eax\n  test   (%eax),%ebx\n \n+ int1\n+\n  cmovpe  0x90909090(%eax),%edx\n  cmovpo 0x90909090(%eax),%edx\n  cmovpe  0x90909090(%eax),%dx"
    },
    {
      "sha": "c925938fdc497feb64d0b1df603bd5c36a4c3bce",
      "filename": "gas/testsuite/gas/i386/x86-64-opcode.d",
      "status": "modified",
      "additions": 3,
      "deletions": 0,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/154b353f689cad41ed9455088b3dede30d9f2e00/gas/testsuite/gas/i386/x86-64-opcode.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/154b353f689cad41ed9455088b3dede30d9f2e00/gas/testsuite/gas/i386/x86-64-opcode.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/x86-64-opcode.d?ref=154b353f689cad41ed9455088b3dede30d9f2e00",
      "patch": "@@ -325,6 +325,9 @@ Disassembly of section .text:\n [ \t]*[a-f0-9]+:\t48 0f 07             \tsysretq *\n [ \t]*[a-f0-9]+:\t0f 01 f8             \tswapgs \n [ \t]*[a-f0-9]+:\t66 68 22 22          \tpushw  \\$0x2222\n+[ \t]*[a-f0-9]+:\tf1                   \tint1 +\n+[ \t]*[a-f0-9]+:\tcc                   \tint3 +\n+[ \t]*[a-f0-9]+:\tcd 90                \tint    \\$0x90\n [ \t]*[a-f0-9]+:\tf6 c9 01             \ttest   \\$(0x)?0*1,%cl\n [ \t]*[a-f0-9]+:\t66 f7 c9 02 00       \ttest   \\$(0x)?0*2,%cx\n [ \t]*[a-f0-9]+:\tf7 c9 04 00 00 00    \ttest   \\$(0x)?0*4,%ecx"
    },
    {
      "sha": "6575cc33438ad23526778328fbbc766aadc6155f",
      "filename": "gas/testsuite/gas/i386/x86-64-opcode.s",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/154b353f689cad41ed9455088b3dede30d9f2e00/gas/testsuite/gas/i386/x86-64-opcode.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/154b353f689cad41ed9455088b3dede30d9f2e00/gas/testsuite/gas/i386/x86-64-opcode.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/x86-64-opcode.s?ref=154b353f689cad41ed9455088b3dede30d9f2e00",
      "patch": "@@ -454,6 +454,10 @@\n \n \tpushw $0x2222\n \n+\tint1\n+\tint3\n+\tint    $0x90\n+\n \t.byte 0xf6, 0xc9, 0x01\n \t.byte 0x66, 0xf7, 0xc9, 0x02, 0x00\n \t.byte 0xf7, 0xc9, 0x04, 0x00, 0x00, 0x00"
    },
    {
      "sha": "122f4af0b46980f0b7b0de718d892ea19a196861",
      "filename": "opcodes/i386-dis.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/154b353f689cad41ed9455088b3dede30d9f2e00/opcodes/i386-dis.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/154b353f689cad41ed9455088b3dede30d9f2e00/opcodes/i386-dis.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/i386-dis.c?ref=154b353f689cad41ed9455088b3dede30d9f2e00",
      "patch": "@@ -1965,7 +1965,7 @@ static const struct dis386 dis386[] = {\n   { \"outG\",\t\t{ indirDX, zAX }, 0 },\n   /* f0 */\n   { Bad_Opcode },\t/* lock prefix */\n-  { \"icebp\",\t\t{ XX }, 0 },\n+  { \"int1\",\t\t{ XX }, 0 },\n   { Bad_Opcode },\t/* repne */\n   { Bad_Opcode },\t/* repz */\n   { \"hlt\",\t\t{ XX }, 0 },"
    },
    {
      "sha": "49e72d28b56fbdf4ed7f15324e19ce9a30e22488",
      "filename": "opcodes/i386-opc.tbl",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/154b353f689cad41ed9455088b3dede30d9f2e00/opcodes/i386-opc.tbl",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/154b353f689cad41ed9455088b3dede30d9f2e00/opcodes/i386-opc.tbl",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/i386-opc.tbl?ref=154b353f689cad41ed9455088b3dede30d9f2e00",
      "patch": "@@ -537,6 +537,7 @@ bts, 0xfba, 5, Cpu386, Modrm|No_bSuf|No_sSuf|No_ldSuf|HLEPrefixLock, { Imm8, Reg\n // See gas/config/tc-i386.c for conversion of 'int $3' into the special\n // int 3 insn.\n int, 0xcd, None, 0, No_bSuf|No_wSuf|No_lSuf|No_sSuf|No_qSuf|No_ldSuf, { Imm8 }\n+int1, 0xf1, None, 0, No_bSuf|No_wSuf|No_lSuf|No_sSuf|No_qSuf|No_ldSuf, {}\n int3, 0xcc, None, 0, No_bSuf|No_wSuf|No_lSuf|No_sSuf|No_qSuf|No_ldSuf, {}\n into, 0xce, None, CpuNo64, No_bSuf|No_wSuf|No_lSuf|No_sSuf|No_qSuf|No_ldSuf, {}\n iret, 0xcf, None, 0, DefaultSize|No_bSuf|No_sSuf|No_ldSuf, {}"
    },
    {
      "sha": "15c0b47a915494399e374eca16e76c6dafdf6d4b",
      "filename": "opcodes/i386-tbl.h",
      "status": "modified",
      "additions": 13,
      "deletions": 0,
      "changes": 13,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/154b353f689cad41ed9455088b3dede30d9f2e00/opcodes/i386-tbl.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/154b353f689cad41ed9455088b3dede30d9f2e00/opcodes/i386-tbl.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/i386-tbl.h?ref=154b353f689cad41ed9455088b3dede30d9f2e00",
      "patch": "@@ -5229,6 +5229,19 @@ const insn_template i386_optab[] =\n         0, 0, 0, 0, 0, 0 } },\n     { { { 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n \t  0, 0, 0, 0, 0, 0, 0 } } } },\n+  { \"int1\", 0xf1, None, 0,\n+    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0,\n+      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },\n+    { { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+        0, 0, 0, 0, 0, 0 } },\n+    { { { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+\t  0, 0, 0, 0, 0, 0, 0 } } } },\n   { \"int3\", 0xcc, None, 0,\n     { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0,\n       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,"
    }
  ]
}