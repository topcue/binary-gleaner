{
  "sha": "3d70986f2181a3aa4b9660729a8e1313e5ece4e0",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6M2Q3MDk4NmYyMTgxYTNhYTRiOTY2MDcyOWE4ZTEzMTNlNWVjZTRlMA==",
  "commit": {
    "author": {
      "name": "Jan Beulich",
      "email": "jbeulich@suse.com",
      "date": "2021-02-16T10:33:04Z"
    },
    "committer": {
      "name": "Jan Beulich",
      "email": "jbeulich@suse.com",
      "date": "2021-02-16T10:33:04Z"
    },
    "message": "x86: honor template rather than actual operands when updating i.xstate\n\nThis undoes a change to md_assemble() that 32930e4edbc0 (\"x86: Support\nGNU_PROPERTY_X86_ISA_1_V[234] marker\") did without any explanation. This\nbroke a CVTPI2PS property test that a subsequent test will add, and the\nupdates to existing tests also demonstrate what was wrong: For example,\nAVX insns update the full YMM, even if a Vex128 variant is in use.",
    "tree": {
      "sha": "575b26c167206c674245dfb38efc16f854139fcc",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/575b26c167206c674245dfb38efc16f854139fcc"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/3d70986f2181a3aa4b9660729a8e1313e5ece4e0",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/3d70986f2181a3aa4b9660729a8e1313e5ece4e0",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/3d70986f2181a3aa4b9660729a8e1313e5ece4e0",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/3d70986f2181a3aa4b9660729a8e1313e5ece4e0/comments",
  "author": {
    "login": "jbeulich",
    "id": 5610135,
    "node_id": "MDQ6VXNlcjU2MTAxMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5610135?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jbeulich",
    "html_url": "https://github.com/jbeulich",
    "followers_url": "https://api.github.com/users/jbeulich/followers",
    "following_url": "https://api.github.com/users/jbeulich/following{/other_user}",
    "gists_url": "https://api.github.com/users/jbeulich/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jbeulich/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jbeulich/subscriptions",
    "organizations_url": "https://api.github.com/users/jbeulich/orgs",
    "repos_url": "https://api.github.com/users/jbeulich/repos",
    "events_url": "https://api.github.com/users/jbeulich/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jbeulich/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "jbeulich",
    "id": 5610135,
    "node_id": "MDQ6VXNlcjU2MTAxMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5610135?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jbeulich",
    "html_url": "https://github.com/jbeulich",
    "followers_url": "https://api.github.com/users/jbeulich/followers",
    "following_url": "https://api.github.com/users/jbeulich/following{/other_user}",
    "gists_url": "https://api.github.com/users/jbeulich/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jbeulich/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jbeulich/subscriptions",
    "organizations_url": "https://api.github.com/users/jbeulich/orgs",
    "repos_url": "https://api.github.com/users/jbeulich/repos",
    "events_url": "https://api.github.com/users/jbeulich/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jbeulich/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "014d61ea14540cc524a6f75d2b925e7bb1a6d289",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/014d61ea14540cc524a6f75d2b925e7bb1a6d289",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/014d61ea14540cc524a6f75d2b925e7bb1a6d289"
    }
  ],
  "stats": {
    "total": 24,
    "additions": 16,
    "deletions": 8
  },
  "files": [
    {
      "sha": "443511f91c389d1e0352d4256947cd560d3a0a00",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3d70986f2181a3aa4b9660729a8e1313e5ece4e0/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3d70986f2181a3aa4b9660729a8e1313e5ece4e0/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=3d70986f2181a3aa4b9660729a8e1313e5ece4e0",
      "patch": "@@ -1,3 +1,11 @@\n+2021-02-16  Jan Beulich  <jbeulich@suse.com>\n+\n+\t* config/tc-i386.c (md_assemble): Use template rather than\n+\tactuals when updating i.xstate.\n+\t* testsuite/gas/i386/property-4.d,\n+\ttestsuite/gas/i386/property-5.d,\n+\ttestsuite/gas/i386/property-12.d: Adjust expectations.\n+\n 2021-02-16  Jan Beulich  <jbeulich@suse.com>\n \n \t* config/tc-i386.c (output_insn): Handle ldmxcsr, stmxcsr,"
    },
    {
      "sha": "2aaffff21871d21f9b57911239f4ef2f50f777f1",
      "filename": "gas/config/tc-i386.c",
      "status": "modified",
      "additions": 5,
      "deletions": 5,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3d70986f2181a3aa4b9660729a8e1313e5ece4e0/gas/config/tc-i386.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3d70986f2181a3aa4b9660729a8e1313e5ece4e0/gas/config/tc-i386.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/config/tc-i386.c?ref=3d70986f2181a3aa4b9660729a8e1313e5ece4e0",
      "patch": "@@ -4874,7 +4874,7 @@ md_assemble (char *line)\n   for (j = 0; j < i.operands; j++)\n     {\n       i.types[j] = operand_type_and (i.types[j], i.tm.operand_types[j]);\n-      switch (i.types[j].bitfield.class)\n+      switch (i.tm.operand_types[j].bitfield.class)\n \t{\n \tdefault:\n \t  break;\n@@ -4885,13 +4885,13 @@ md_assemble (char *line)\n \t  i.xstate |= xstate_mask;\n \t  break;\n \tcase RegSIMD:\n-\t  if (i.types[j].bitfield.tmmword)\n+\t  if (i.tm.operand_types[j].bitfield.tmmword)\n \t    i.xstate |= xstate_tmm;\n-\t  else if (i.types[j].bitfield.zmmword)\n+\t  else if (i.tm.operand_types[j].bitfield.zmmword)\n \t    i.xstate |= xstate_zmm;\n-\t  else if (i.types[j].bitfield.ymmword)\n+\t  else if (i.tm.operand_types[j].bitfield.ymmword)\n \t    i.xstate |= xstate_ymm;\n-\t  else if (i.types[j].bitfield.xmmword)\n+\t  else if (i.tm.operand_types[j].bitfield.xmmword)\n \t    i.xstate |= xstate_xmm;\n \t  break;\n \t}"
    },
    {
      "sha": "1cb010aab6736eee744ae9eabb6536843b0e386e",
      "filename": "gas/testsuite/gas/i386/property-12.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3d70986f2181a3aa4b9660729a8e1313e5ece4e0/gas/testsuite/gas/i386/property-12.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3d70986f2181a3aa4b9660729a8e1313e5ece4e0/gas/testsuite/gas/i386/property-12.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/property-12.d?ref=3d70986f2181a3aa4b9660729a8e1313e5ece4e0",
      "patch": "@@ -6,4 +6,4 @@ Displaying notes found in: .note.gnu.property\n [ \t]+Owner[ \t]+Data size[ \t]+Description\n   GNU                  0x[0-9a-f]+\tNT_GNU_PROPERTY_TYPE_0\n       Properties: x86 ISA used: x86-64-baseline, x86-64-v4\n-\tx86 feature used: x86, XMM, MASK\n+\tx86 feature used: x86, XMM, YMM, ZMM, MASK"
    },
    {
      "sha": "3345c17eb1d1183183225d04da293d91b9a4e840",
      "filename": "gas/testsuite/gas/i386/property-4.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3d70986f2181a3aa4b9660729a8e1313e5ece4e0/gas/testsuite/gas/i386/property-4.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3d70986f2181a3aa4b9660729a8e1313e5ece4e0/gas/testsuite/gas/i386/property-4.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/property-4.d?ref=3d70986f2181a3aa4b9660729a8e1313e5ece4e0",
      "patch": "@@ -6,4 +6,4 @@ Displaying notes found in: .note.gnu.property\n [ \t]+Owner[ \t]+Data size[ \t]+Description\n   GNU                  0x[0-9a-f]+\tNT_GNU_PROPERTY_TYPE_0\n       Properties: x86 ISA used: x86-64-baseline, x86-64-v3\n-\tx86 feature used: x86, XMM\n+\tx86 feature used: x86, XMM, YMM"
    },
    {
      "sha": "cad4a4d3ff05f3115d5c4b87bcf7a798cfda40b3",
      "filename": "gas/testsuite/gas/i386/property-5.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/3d70986f2181a3aa4b9660729a8e1313e5ece4e0/gas/testsuite/gas/i386/property-5.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/3d70986f2181a3aa4b9660729a8e1313e5ece4e0/gas/testsuite/gas/i386/property-5.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/property-5.d?ref=3d70986f2181a3aa4b9660729a8e1313e5ece4e0",
      "patch": "@@ -6,4 +6,4 @@ Displaying notes found in: .note.gnu.property\n [ \t]+Owner[ \t]+Data size[ \t]+Description\n   GNU                  0x[0-9a-f]+\tNT_GNU_PROPERTY_TYPE_0\n       Properties: x86 ISA used: x86-64-baseline, x86-64-v4\n-\tx86 feature used: x86, XMM\n+\tx86 feature used: x86, XMM, YMM, ZMM"
    }
  ]
}