{
  "sha": "2106ed9baf1098a5d76469ecde30813065c46c68",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MjEwNmVkOWJhZjEwOThhNWQ3NjQ2OWVjZGUzMDgxMzA2NWM0NmM2OA==",
  "commit": {
    "author": {
      "name": "Jan Beulich",
      "email": "jbeulich@suse.com",
      "date": "2020-06-16T08:34:55Z"
    },
    "committer": {
      "name": "Jan Beulich",
      "email": "jbeulich@suse.com",
      "date": "2020-06-16T08:34:55Z"
    },
    "message": "x86: drop SSE4a from SSE check again\n\nUpon re-consideration in commit 569d50f1c611 (\"x86: further refine SSE\ncheck (SSE4a, SHA, GFNI)\") I went too far: Mixing of SSE and AVX insns\ndoesn't suffer as bad a penalty on AMD CPUs as on Intel ones. SSE4a\nbeing an AMD-only extension, it shouldn't be part of the ISA extensions\nset for which the diagnostic may get issued. Undo that part.",
    "tree": {
      "sha": "ec8c017bc51e49ab5880cf91810399c71921840a",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/ec8c017bc51e49ab5880cf91810399c71921840a"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/2106ed9baf1098a5d76469ecde30813065c46c68",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/2106ed9baf1098a5d76469ecde30813065c46c68",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/2106ed9baf1098a5d76469ecde30813065c46c68",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/2106ed9baf1098a5d76469ecde30813065c46c68/comments",
  "author": {
    "login": "jbeulich",
    "id": 5610135,
    "node_id": "MDQ6VXNlcjU2MTAxMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5610135?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jbeulich",
    "html_url": "https://github.com/jbeulich",
    "followers_url": "https://api.github.com/users/jbeulich/followers",
    "following_url": "https://api.github.com/users/jbeulich/following{/other_user}",
    "gists_url": "https://api.github.com/users/jbeulich/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jbeulich/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jbeulich/subscriptions",
    "organizations_url": "https://api.github.com/users/jbeulich/orgs",
    "repos_url": "https://api.github.com/users/jbeulich/repos",
    "events_url": "https://api.github.com/users/jbeulich/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jbeulich/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "jbeulich",
    "id": 5610135,
    "node_id": "MDQ6VXNlcjU2MTAxMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5610135?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jbeulich",
    "html_url": "https://github.com/jbeulich",
    "followers_url": "https://api.github.com/users/jbeulich/followers",
    "following_url": "https://api.github.com/users/jbeulich/following{/other_user}",
    "gists_url": "https://api.github.com/users/jbeulich/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jbeulich/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jbeulich/subscriptions",
    "organizations_url": "https://api.github.com/users/jbeulich/orgs",
    "repos_url": "https://api.github.com/users/jbeulich/repos",
    "events_url": "https://api.github.com/users/jbeulich/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jbeulich/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "a435742a7fb32f6320ce0e6074e2500e28378104",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/a435742a7fb32f6320ce0e6074e2500e28378104",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/a435742a7fb32f6320ce0e6074e2500e28378104"
    }
  ],
  "stats": {
    "total": 26,
    "additions": 15,
    "deletions": 11
  },
  "files": [
    {
      "sha": "4c31ecff952f7c99330c9f406d542f7ef36007d7",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 10,
      "deletions": 0,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2106ed9baf1098a5d76469ecde30813065c46c68/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2106ed9baf1098a5d76469ecde30813065c46c68/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=2106ed9baf1098a5d76469ecde30813065c46c68",
      "patch": "@@ -1,3 +1,13 @@\n+2020-06-16  Jan Beulich  <jbeulich@suse.com>\n+\n+\t* config/tc-i386.c (md_assemble): Drop SSE4a from SSE check\n+\tconditional.\n+\t* testsuite/gas/i386/sse-check.s: Adjust comment.\n+\t* testsuite/gas/i386/sse-check-error.l,\n+\ttestsuite/gas/i386/sse-check-warn.e,\n+\ttestsuite/gas/i386/x86-64-sse-check-error.l: Adjust\n+\texpectations.\n+\n 2020-06-16  Alan Modra  <amodra@gmail.com>\n \n \t* config/tc-tic30.h: Remove OBJ_AOUT support."
    },
    {
      "sha": "b5d7e1cc6d464368e56532cbcfa4e4e91c1f9886",
      "filename": "gas/config/tc-i386.c",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2106ed9baf1098a5d76469ecde30813065c46c68/gas/config/tc-i386.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2106ed9baf1098a5d76469ecde30813065c46c68/gas/config/tc-i386.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/config/tc-i386.c?ref=2106ed9baf1098a5d76469ecde30813065c46c68",
      "patch": "@@ -4753,7 +4753,6 @@ md_assemble (char *line)\n \t  || i.tm.cpu_flags.bitfield.cpussse3\n \t  || i.tm.cpu_flags.bitfield.cpusse4_1\n \t  || i.tm.cpu_flags.bitfield.cpusse4_2\n-\t  || i.tm.cpu_flags.bitfield.cpusse4a\n \t  || i.tm.cpu_flags.bitfield.cpupclmul\n \t  || i.tm.cpu_flags.bitfield.cpuaes\n \t  || i.tm.cpu_flags.bitfield.cpusha"
    },
    {
      "sha": "782e50bc040f4eb581ee69286a9aaa0556901ea4",
      "filename": "gas/testsuite/gas/i386/sse-check-error.l",
      "status": "modified",
      "additions": 2,
      "deletions": 4,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2106ed9baf1098a5d76469ecde30813065c46c68/gas/testsuite/gas/i386/sse-check-error.l",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2106ed9baf1098a5d76469ecde30813065c46c68/gas/testsuite/gas/i386/sse-check-error.l",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/sse-check-error.l?ref=2106ed9baf1098a5d76469ecde30813065c46c68",
      "patch": "@@ -5,7 +5,6 @@\n .*:16: Error: .*\n .*:19: Error: .*\n .*:20: Error: .*\n-.*:23: Error: .*\n .*:26: Error: .*\n .*:29: Error: .*\n .*:32: Error: .*\n@@ -44,9 +43,8 @@ GAS LISTING .*\n .*  Error: SSE instruction `pcmpgtq' is used\n [ \t]*20[ \t]+C1\n [ \t]*21[ \t]+\n-[ \t]*22[ \t]+\\# SSE4a instruction\n+[ \t]*22[ \t]+\\# SSE4a instruction.*\n [ \t]*23[ \t]+\\?\\?\\?\\? 660F78C0 \t\textrq \\$0, \\$0, %xmm0\n-.*  Error: SSE instruction `extrq' is used\n [ \t]*23[ \t]+0000\n [ \t]*24[ \t]+\n [ \t]*25[ \t]+\\# PCMUL instruction\n@@ -70,7 +68,7 @@ GAS LISTING .*\n [ \t]*36[ \t]+\\?\\?\\?\\? 62F27D09 \t\tvgf2p8mulb %xmm0, %xmm0, %xmm0\\{%k1\\}\n [ \t]*36[ \t]+CFC0\n [ \t]*37[ \t]+\\?\\?\\?\\? 62F27D48 \t\tvgf2p8mulb %zmm0, %zmm0, %zmm0\n+[ \t]*37[ \t]+CFC0\n \fGAS LISTING .*\n \n \n-[ \t]*37[ \t]+CFC0"
    },
    {
      "sha": "b8dba94a06ca84a81d63456f1b0ebd3ba7728656",
      "filename": "gas/testsuite/gas/i386/sse-check-warn.e",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2106ed9baf1098a5d76469ecde30813065c46c68/gas/testsuite/gas/i386/sse-check-warn.e",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2106ed9baf1098a5d76469ecde30813065c46c68/gas/testsuite/gas/i386/sse-check-warn.e",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/sse-check-warn.e?ref=2106ed9baf1098a5d76469ecde30813065c46c68",
      "patch": "@@ -5,7 +5,6 @@\n .*:16: Warning: SSE instruction `phaddw' is used\n .*:19: Warning: SSE instruction `blendvpd' is used\n .*:20: Warning: SSE instruction `pcmpgtq' is used\n-.*:23: Warning: SSE instruction `extrq' is used\n .*:26: Warning: SSE instruction `pclmulqdq' is used\n .*:29: Warning: SSE instruction `aesdec' is used\n .*:32: Warning: SSE instruction `sha1nexte' is used"
    },
    {
      "sha": "43a351495a16ed2498b5fdc8c627211f5306f1a5",
      "filename": "gas/testsuite/gas/i386/sse-check.s",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2106ed9baf1098a5d76469ecde30813065c46c68/gas/testsuite/gas/i386/sse-check.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2106ed9baf1098a5d76469ecde30813065c46c68/gas/testsuite/gas/i386/sse-check.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/sse-check.s?ref=2106ed9baf1098a5d76469ecde30813065c46c68",
      "patch": "@@ -19,7 +19,7 @@ _start:\n \tblendvpd %xmm0,%xmm1,%xmm0\n \tpcmpgtq %xmm1,%xmm0\n \n-# SSE4a instruction\n+# SSE4a instruction (no diagnostic)\n \textrq $0, $0, %xmm0\n \n # PCMUL instruction"
    },
    {
      "sha": "782e50bc040f4eb581ee69286a9aaa0556901ea4",
      "filename": "gas/testsuite/gas/i386/x86-64-sse-check-error.l",
      "status": "modified",
      "additions": 2,
      "deletions": 4,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/2106ed9baf1098a5d76469ecde30813065c46c68/gas/testsuite/gas/i386/x86-64-sse-check-error.l",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/2106ed9baf1098a5d76469ecde30813065c46c68/gas/testsuite/gas/i386/x86-64-sse-check-error.l",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/x86-64-sse-check-error.l?ref=2106ed9baf1098a5d76469ecde30813065c46c68",
      "patch": "@@ -5,7 +5,6 @@\n .*:16: Error: .*\n .*:19: Error: .*\n .*:20: Error: .*\n-.*:23: Error: .*\n .*:26: Error: .*\n .*:29: Error: .*\n .*:32: Error: .*\n@@ -44,9 +43,8 @@ GAS LISTING .*\n .*  Error: SSE instruction `pcmpgtq' is used\n [ \t]*20[ \t]+C1\n [ \t]*21[ \t]+\n-[ \t]*22[ \t]+\\# SSE4a instruction\n+[ \t]*22[ \t]+\\# SSE4a instruction.*\n [ \t]*23[ \t]+\\?\\?\\?\\? 660F78C0 \t\textrq \\$0, \\$0, %xmm0\n-.*  Error: SSE instruction `extrq' is used\n [ \t]*23[ \t]+0000\n [ \t]*24[ \t]+\n [ \t]*25[ \t]+\\# PCMUL instruction\n@@ -70,7 +68,7 @@ GAS LISTING .*\n [ \t]*36[ \t]+\\?\\?\\?\\? 62F27D09 \t\tvgf2p8mulb %xmm0, %xmm0, %xmm0\\{%k1\\}\n [ \t]*36[ \t]+CFC0\n [ \t]*37[ \t]+\\?\\?\\?\\? 62F27D48 \t\tvgf2p8mulb %zmm0, %zmm0, %zmm0\n+[ \t]*37[ \t]+CFC0\n \fGAS LISTING .*\n \n \n-[ \t]*37[ \t]+CFC0"
    }
  ]
}