{
  "sha": "c6885a575fe3c15bd183a9f5cd1cb588ed926510",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YzY4ODVhNTc1ZmUzYzE1YmQxODNhOWY1Y2QxY2I1ODhlZDkyNjUxMA==",
  "commit": {
    "author": {
      "name": "Tankut Baris Aktemur",
      "email": "tankut.baris.aktemur@intel.com",
      "date": "2020-02-17T15:11:51Z"
    },
    "committer": {
      "name": "Tankut Baris Aktemur",
      "email": "tankut.baris.aktemur@intel.com",
      "date": "2020-02-20T16:35:02Z"
    },
    "message": "gdbserver: turn target op 'kill' into a method\n\ngdbserver/ChangeLog:\n2020-02-20  Tankut Baris Aktemur  <tankut.baris.aktemur@intel.com>\n\n\tTurn process_stratum_target's kill op into a method of\n\tprocess_target.\n\n\t* target.h (struct process_stratum_target): Remove the target op.\n\t(class process_target): Add the target op.\n\n\tUpdate the derived classes and callers below.\n\n\t* target.cc (kill_inferior): Update.\n\t* linux-low.cc (linux_target_ops): Update.\n\t(linux_kill): Turn into ...\n\t(linux_process_target::kill): ... this.\n\t* linux-low.h (class linux_process_target): Update.\n\t* lynx-low.cc (lynx_target_ops): Update.\n\t(lynx_kill): Turn into ...\n\t(lynx_process_target::kill): ... this.\n\t* lynx-low.h (class lynx_process_target): Update.\n\t* nto-low.cc (nto_target_ops): Update.\n\t(nto_kill): Turn into ...\n\t(nto_process_target::kill): ... this.\n\t* nto-low.h (class nto_process_target): Update.\n\t* win32-low.cc (win32_target_ops): Update.\n\t(win32_kill): Turn into ...\n\t(win32_process_target::kill): ... this.\n\t* win32-low.h (class win32_process_target): Update.",
    "tree": {
      "sha": "ac906fa4ae20792afd156442c144c0c5038e2edb",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/ac906fa4ae20792afd156442c144c0c5038e2edb"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/c6885a575fe3c15bd183a9f5cd1cb588ed926510",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/c6885a575fe3c15bd183a9f5cd1cb588ed926510",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/c6885a575fe3c15bd183a9f5cd1cb588ed926510",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/c6885a575fe3c15bd183a9f5cd1cb588ed926510/comments",
  "author": {
    "login": "barisaktemur",
    "id": 55686642,
    "node_id": "MDQ6VXNlcjU1Njg2NjQy",
    "avatar_url": "https://avatars.githubusercontent.com/u/55686642?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/barisaktemur",
    "html_url": "https://github.com/barisaktemur",
    "followers_url": "https://api.github.com/users/barisaktemur/followers",
    "following_url": "https://api.github.com/users/barisaktemur/following{/other_user}",
    "gists_url": "https://api.github.com/users/barisaktemur/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/barisaktemur/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/barisaktemur/subscriptions",
    "organizations_url": "https://api.github.com/users/barisaktemur/orgs",
    "repos_url": "https://api.github.com/users/barisaktemur/repos",
    "events_url": "https://api.github.com/users/barisaktemur/events{/privacy}",
    "received_events_url": "https://api.github.com/users/barisaktemur/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "barisaktemur",
    "id": 55686642,
    "node_id": "MDQ6VXNlcjU1Njg2NjQy",
    "avatar_url": "https://avatars.githubusercontent.com/u/55686642?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/barisaktemur",
    "html_url": "https://github.com/barisaktemur",
    "followers_url": "https://api.github.com/users/barisaktemur/followers",
    "following_url": "https://api.github.com/users/barisaktemur/following{/other_user}",
    "gists_url": "https://api.github.com/users/barisaktemur/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/barisaktemur/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/barisaktemur/subscriptions",
    "organizations_url": "https://api.github.com/users/barisaktemur/orgs",
    "repos_url": "https://api.github.com/users/barisaktemur/repos",
    "events_url": "https://api.github.com/users/barisaktemur/events{/privacy}",
    "received_events_url": "https://api.github.com/users/barisaktemur/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "ef03dad808f48e8a6014ca7284e4d52a1e22f27c",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/ef03dad808f48e8a6014ca7284e4d52a1e22f27c",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/ef03dad808f48e8a6014ca7284e4d52a1e22f27c"
    }
  ],
  "stats": {
    "total": 65,
    "additions": 48,
    "deletions": 17
  },
  "files": [
    {
      "sha": "da55b3884e448b4a0f9527220d6b8a8bff7400a6",
      "filename": "gdbserver/ChangeLog",
      "status": "modified",
      "additions": 28,
      "deletions": 0,
      "changes": 28,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c6885a575fe3c15bd183a9f5cd1cb588ed926510/gdbserver/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c6885a575fe3c15bd183a9f5cd1cb588ed926510/gdbserver/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/ChangeLog?ref=c6885a575fe3c15bd183a9f5cd1cb588ed926510",
      "patch": "@@ -1,3 +1,31 @@\n+2020-02-20  Tankut Baris Aktemur  <tankut.baris.aktemur@intel.com>\n+\n+\tTurn process_stratum_target's kill op into a method of\n+\tprocess_target.\n+\n+\t* target.h (struct process_stratum_target): Remove the target op.\n+\t(class process_target): Add the target op.\n+\n+\tUpdate the derived classes and callers below.\n+\n+\t* target.cc (kill_inferior): Update.\n+\t* linux-low.cc (linux_target_ops): Update.\n+\t(linux_kill): Turn into ...\n+\t(linux_process_target::kill): ... this.\n+\t* linux-low.h (class linux_process_target): Update.\n+\t* lynx-low.cc (lynx_target_ops): Update.\n+\t(lynx_kill): Turn into ...\n+\t(lynx_process_target::kill): ... this.\n+\t* lynx-low.h (class lynx_process_target): Update.\n+\t* nto-low.cc (nto_target_ops): Update.\n+\t(nto_kill): Turn into ...\n+\t(nto_process_target::kill): ... this.\n+\t* nto-low.h (class nto_process_target): Update.\n+\t* win32-low.cc (win32_target_ops): Update.\n+\t(win32_kill): Turn into ...\n+\t(win32_process_target::kill): ... this.\n+\t* win32-low.h (class win32_process_target): Update.\n+\n 2020-02-20  Tankut Baris Aktemur  <tankut.baris.aktemur@intel.com>\n \n \tTurn process_stratum_target's attach op into a method of"
    },
    {
      "sha": "4510e3a1c5f7ba60d1dcd2c0fa48450b5ab09558",
      "filename": "gdbserver/linux-low.cc",
      "status": "modified",
      "additions": 2,
      "deletions": 3,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c6885a575fe3c15bd183a9f5cd1cb588ed926510/gdbserver/linux-low.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c6885a575fe3c15bd183a9f5cd1cb588ed926510/gdbserver/linux-low.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/linux-low.cc?ref=c6885a575fe3c15bd183a9f5cd1cb588ed926510",
      "patch": "@@ -1386,8 +1386,8 @@ kill_one_lwp_callback (thread_info *thread, int pid)\n   kill_wait_lwp (lwp);\n }\n \n-static int\n-linux_kill (process_info *process)\n+int\n+linux_process_target::kill (process_info *process)\n {\n   int pid = process->pid;\n \n@@ -7359,7 +7359,6 @@ linux_get_hwcap2 (int wordsize)\n static linux_process_target the_linux_target;\n \n static process_stratum_target linux_target_ops = {\n-  linux_kill,\n   linux_detach,\n   linux_mourn,\n   linux_join,"
    },
    {
      "sha": "4f8801150d5908d83c568933360ffbb94e55648e",
      "filename": "gdbserver/linux-low.h",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c6885a575fe3c15bd183a9f5cd1cb588ed926510/gdbserver/linux-low.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c6885a575fe3c15bd183a9f5cd1cb588ed926510/gdbserver/linux-low.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/linux-low.h?ref=c6885a575fe3c15bd183a9f5cd1cb588ed926510",
      "patch": "@@ -276,6 +276,8 @@ class linux_process_target : public process_target\n   void post_create_inferior () override;\n \n   int attach (unsigned long pid) override;\n+\n+  int kill (process_info *proc) override;\n };\n \n #define get_thread_lwp(thr) ((struct lwp_info *) (thread_target_data (thr)))"
    },
    {
      "sha": "f6359e8157518af02a79bdb3303d7e5f9ff45340",
      "filename": "gdbserver/lynx-low.cc",
      "status": "modified",
      "additions": 2,
      "deletions": 3,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c6885a575fe3c15bd183a9f5cd1cb588ed926510/gdbserver/lynx-low.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c6885a575fe3c15bd183a9f5cd1cb588ed926510/gdbserver/lynx-low.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/lynx-low.cc?ref=c6885a575fe3c15bd183a9f5cd1cb588ed926510",
      "patch": "@@ -521,8 +521,8 @@ lynx_wait (ptid_t ptid, struct target_waitstatus *status, int options)\n \n /* Implement the kill target_ops method.  */\n \n-static int\n-lynx_kill (process_info *process)\n+int\n+lynx_process_target::kill (process_info *process)\n {\n   ptid_t ptid = lynx_ptid_t (process->pid, 0);\n   struct target_waitstatus status;\n@@ -726,7 +726,6 @@ static lynx_process_target the_lynx_target;\n /* The LynxOS target_ops vector.  */\n \n static process_stratum_target lynx_target_ops = {\n-  lynx_kill,\n   lynx_detach,\n   lynx_mourn,\n   lynx_join,"
    },
    {
      "sha": "cf357ff9a1f22f0fa6ada7c348fbc496088fc1bc",
      "filename": "gdbserver/lynx-low.h",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c6885a575fe3c15bd183a9f5cd1cb588ed926510/gdbserver/lynx-low.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c6885a575fe3c15bd183a9f5cd1cb588ed926510/gdbserver/lynx-low.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/lynx-low.h?ref=c6885a575fe3c15bd183a9f5cd1cb588ed926510",
      "patch": "@@ -62,6 +62,8 @@ class lynx_process_target : public process_target\n \t\t       const std::vector<char *> &program_args) override;\n \n   int attach (unsigned long pid) override;\n+\n+  int kill (process_info *proc) override;\n };\n \n /* The inferior's target description.  This is a global because the"
    },
    {
      "sha": "15b3dc37f01eafe6f5367e26088c42e749362093",
      "filename": "gdbserver/nto-low.cc",
      "status": "modified",
      "additions": 2,
      "deletions": 3,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c6885a575fe3c15bd183a9f5cd1cb588ed926510/gdbserver/nto-low.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c6885a575fe3c15bd183a9f5cd1cb588ed926510/gdbserver/nto-low.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/nto-low.cc?ref=c6885a575fe3c15bd183a9f5cd1cb588ed926510",
      "patch": "@@ -396,8 +396,8 @@ nto_process_target::attach (unsigned long pid)\n \n /* Send signal to process PID.  */\n \n-static int\n-nto_kill (process_info *proc)\n+int\n+nto_process_target::kill (process_info *proc)\n {\n   int pid = proc->pid;\n \n@@ -935,7 +935,6 @@ nto_sw_breakpoint_from_kind (int kind, int *size)\n static nto_process_target the_nto_target;\n \n static process_stratum_target nto_target_ops = {\n-  nto_kill,\n   nto_detach,\n   nto_mourn,\n   NULL, /* nto_join */"
    },
    {
      "sha": "5564dda3bb258d1355fcf397e18f4e726ea19a3c",
      "filename": "gdbserver/nto-low.h",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c6885a575fe3c15bd183a9f5cd1cb588ed926510/gdbserver/nto-low.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c6885a575fe3c15bd183a9f5cd1cb588ed926510/gdbserver/nto-low.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/nto-low.h?ref=c6885a575fe3c15bd183a9f5cd1cb588ed926510",
      "patch": "@@ -52,6 +52,8 @@ class nto_process_target : public process_target\n \t\t       const std::vector<char *> &program_args) override;\n \n   int attach (unsigned long pid) override;\n+\n+  int kill (process_info *proc) override;\n };\n \n /* The inferior's target description.  This is a global because the"
    },
    {
      "sha": "a9632aa8cd90b10d129e87d9111ff51d1c44c365",
      "filename": "gdbserver/target.cc",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c6885a575fe3c15bd183a9f5cd1cb588ed926510/gdbserver/target.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c6885a575fe3c15bd183a9f5cd1cb588ed926510/gdbserver/target.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/target.cc?ref=c6885a575fe3c15bd183a9f5cd1cb588ed926510",
      "patch": "@@ -319,7 +319,7 @@ kill_inferior (process_info *proc)\n {\n   gdb_agent_about_to_close (proc->pid);\n \n-  return (*the_target->kill) (proc);\n+  return the_target->pt->kill (proc);\n }\n \n /* Target can do hardware single step.  */"
    },
    {
      "sha": "0f3cb35f453766fa0889d59349a0dfdab645ff2d",
      "filename": "gdbserver/target.h",
      "status": "modified",
      "additions": 3,
      "deletions": 4,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c6885a575fe3c15bd183a9f5cd1cb588ed926510/gdbserver/target.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c6885a575fe3c15bd183a9f5cd1cb588ed926510/gdbserver/target.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/target.h?ref=c6885a575fe3c15bd183a9f5cd1cb588ed926510",
      "patch": "@@ -70,10 +70,6 @@ class process_target;\n    shared code.  */\n struct process_stratum_target\n {\n-  /* Kill process PROC.  Return -1 on failure, and 0 on success.  */\n-\n-  int (*kill) (process_info *proc);\n-\n   /* Detach from process PROC.  Return -1 on failure, and 0 on\n      success.  */\n \n@@ -488,6 +484,9 @@ class process_target\n      Returns -1 if attaching is unsupported, 0 on success, and calls\n      error() otherwise.  */\n   virtual int attach (unsigned long pid) = 0;\n+\n+  /* Kill process PROC.  Return -1 on failure, and 0 on success.  */\n+  virtual int kill (process_info *proc) = 0;\n };\n \n extern process_stratum_target *the_target;"
    },
    {
      "sha": "a7fb1244e342251fb21813f0897642743ad99c89",
      "filename": "gdbserver/win32-low.cc",
      "status": "modified",
      "additions": 2,
      "deletions": 3,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c6885a575fe3c15bd183a9f5cd1cb588ed926510/gdbserver/win32-low.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c6885a575fe3c15bd183a9f5cd1cb588ed926510/gdbserver/win32-low.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/win32-low.cc?ref=c6885a575fe3c15bd183a9f5cd1cb588ed926510",
      "patch": "@@ -819,8 +819,8 @@ win32_clear_inferiors (void)\n \n /* Implementation of target_ops::kill.  */\n \n-static int\n-win32_kill (process_info *process)\n+int\n+win32_process_target::kill (process_info *process)\n {\n   TerminateProcess (current_process_handle, 0);\n   for (;;)\n@@ -1839,7 +1839,6 @@ win32_sw_breakpoint_from_kind (int kind, int *size)\n static win32_process_target the_win32_target;\n \n static process_stratum_target win32_target_ops = {\n-  win32_kill,\n   win32_detach,\n   win32_mourn,\n   win32_join,"
    },
    {
      "sha": "45a6262e38e41ff200858fdb436c794dbf543aa8",
      "filename": "gdbserver/win32-low.h",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c6885a575fe3c15bd183a9f5cd1cb588ed926510/gdbserver/win32-low.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c6885a575fe3c15bd183a9f5cd1cb588ed926510/gdbserver/win32-low.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/win32-low.h?ref=c6885a575fe3c15bd183a9f5cd1cb588ed926510",
      "patch": "@@ -111,6 +111,8 @@ class win32_process_target : public process_target\n \t\t       const std::vector<char *> &program_args) override;\n \n   int attach (unsigned long pid) override;\n+\n+  int kill (process_info *proc) override;\n };\n \n /* Retrieve the context for this thread, if not already retrieved.  */"
    }
  ]
}