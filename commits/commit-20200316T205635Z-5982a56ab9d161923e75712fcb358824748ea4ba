{
  "sha": "5982a56ab9d161923e75712fcb358824748ea4ba",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NTk4MmE1NmFiOWQxNjE5MjNlNzU3MTJmY2IzNTg4MjQ3NDhlYTRiYQ==",
  "commit": {
    "author": {
      "name": "Simon Marchi",
      "email": "simon.marchi@efficios.com",
      "date": "2020-03-16T20:56:35Z"
    },
    "committer": {
      "name": "Simon Marchi",
      "email": "simon.marchi@polymtl.ca",
      "date": "2020-03-16T20:56:35Z"
    },
    "message": "gdb: rename content of i386-windows-tdep.c, cygwin to windows\n\ni386-cygwin-tdep.c has just been renamed to i386-windows-tdep.c, this\npatch now renames everything in it that is not Cygwin-specific to\nreplace \"cygwin\" with \"windows\".\n\nNote that I did not rename i386_cygwin_core_osabi_sniffer, since that\nappears to be Cygwin-specific.\n\ngdb/ChangeLog:\n\n\t* i386-windows-tdep.c: Mass-rename \"cygwin\" to \"windows\", except\n\ti386_cygwin_core_osabi_sniffer.",
    "tree": {
      "sha": "a2ba416843107490f9bf24b8af0ef847c381b1a4",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/a2ba416843107490f9bf24b8af0ef847c381b1a4"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/5982a56ab9d161923e75712fcb358824748ea4ba",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/5982a56ab9d161923e75712fcb358824748ea4ba",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/5982a56ab9d161923e75712fcb358824748ea4ba",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/5982a56ab9d161923e75712fcb358824748ea4ba/comments",
  "author": {
    "login": "simark",
    "id": 1758287,
    "node_id": "MDQ6VXNlcjE3NTgyODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1758287?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/simark",
    "html_url": "https://github.com/simark",
    "followers_url": "https://api.github.com/users/simark/followers",
    "following_url": "https://api.github.com/users/simark/following{/other_user}",
    "gists_url": "https://api.github.com/users/simark/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/simark/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/simark/subscriptions",
    "organizations_url": "https://api.github.com/users/simark/orgs",
    "repos_url": "https://api.github.com/users/simark/repos",
    "events_url": "https://api.github.com/users/simark/events{/privacy}",
    "received_events_url": "https://api.github.com/users/simark/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "simark",
    "id": 1758287,
    "node_id": "MDQ6VXNlcjE3NTgyODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1758287?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/simark",
    "html_url": "https://github.com/simark",
    "followers_url": "https://api.github.com/users/simark/followers",
    "following_url": "https://api.github.com/users/simark/following{/other_user}",
    "gists_url": "https://api.github.com/users/simark/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/simark/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/simark/subscriptions",
    "organizations_url": "https://api.github.com/users/simark/orgs",
    "repos_url": "https://api.github.com/users/simark/repos",
    "events_url": "https://api.github.com/users/simark/events{/privacy}",
    "received_events_url": "https://api.github.com/users/simark/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "7a1998dffb58ee1fab5edbd13458373654a1da42",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/7a1998dffb58ee1fab5edbd13458373654a1da42",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/7a1998dffb58ee1fab5edbd13458373654a1da42"
    }
  ],
  "stats": {
    "total": 36,
    "additions": 21,
    "deletions": 15
  },
  "files": [
    {
      "sha": "7e844e63ebd0dca7578f754f0cc06c9320f6dc33",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5982a56ab9d161923e75712fcb358824748ea4ba/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5982a56ab9d161923e75712fcb358824748ea4ba/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=5982a56ab9d161923e75712fcb358824748ea4ba",
      "patch": "@@ -1,3 +1,8 @@\n+2020-03-16  Simon Marchi  <simon.marchi@efficios.com>\n+\n+\t* i386-windows-tdep.c: Mass-rename \"cygwin\" to \"windows\", except\n+\ti386_cygwin_core_osabi_sniffer.\n+\n 2020-03-16  Simon Marchi  <simon.marchi@efficios.com>\n \n \t* i386-cygwin-tdep.c: Rename to..."
    },
    {
      "sha": "a71ceda781f84954f3bb0cfa993d99c280b1ebf4",
      "filename": "gdb/i386-windows-tdep.c",
      "status": "modified",
      "additions": 16,
      "deletions": 15,
      "changes": 31,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/5982a56ab9d161923e75712fcb358824748ea4ba/gdb/i386-windows-tdep.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/5982a56ab9d161923e75712fcb358824748ea4ba/gdb/i386-windows-tdep.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/i386-windows-tdep.c?ref=5982a56ab9d161923e75712fcb358824748ea4ba",
      "patch": "@@ -1,4 +1,5 @@\n-/* Target-dependent code for Cygwin running on i386's, for GDB.\n+/* Target-dependent code for Windows (including Cygwin) running on i386's,\n+   for GDB.\n \n    Copyright (C) 2003-2020 Free Software Foundation, Inc.\n \n@@ -188,25 +189,25 @@ i386_windows_core_pid_to_str (struct gdbarch *gdbarch, ptid_t ptid)\n }\n \n static CORE_ADDR\n-i386_cygwin_skip_trampoline_code (struct frame_info *frame, CORE_ADDR pc)\n+i386_windows_skip_trampoline_code (struct frame_info *frame, CORE_ADDR pc)\n {\n   return i386_pe_skip_trampoline_code (frame, pc, NULL);\n }\n \n static const char *\n-i386_cygwin_auto_wide_charset (void)\n+i386_windows_auto_wide_charset (void)\n {\n   return \"UTF-16\";\n }\n \n static void\n-i386_cygwin_init_abi (struct gdbarch_info info, struct gdbarch *gdbarch)\n+i386_windows_init_abi (struct gdbarch_info info, struct gdbarch *gdbarch)\n {\n   struct gdbarch_tdep *tdep = gdbarch_tdep (gdbarch);\n \n   windows_init_abi (info, gdbarch);\n \n-  set_gdbarch_skip_trampoline_code (gdbarch, i386_cygwin_skip_trampoline_code);\n+  set_gdbarch_skip_trampoline_code (gdbarch, i386_windows_skip_trampoline_code);\n \n   set_gdbarch_skip_main_prologue (gdbarch, i386_skip_main_prologue);\n \n@@ -223,11 +224,11 @@ i386_cygwin_init_abi (struct gdbarch_info info, struct gdbarch *gdbarch)\n     (gdbarch, windows_core_xfer_shared_libraries);\n   set_gdbarch_core_pid_to_str (gdbarch, i386_windows_core_pid_to_str);\n \n-  set_gdbarch_auto_wide_charset (gdbarch, i386_cygwin_auto_wide_charset);\n+  set_gdbarch_auto_wide_charset (gdbarch, i386_windows_auto_wide_charset);\n }\n \n-static enum gdb_osabi\n-i386_cygwin_osabi_sniffer (bfd *abfd)\n+static gdb_osabi\n+i386_windows_osabi_sniffer (bfd *abfd)\n {\n   const char *target_name = bfd_get_target (abfd);\n \n@@ -255,20 +256,20 @@ i386_cygwin_core_osabi_sniffer (bfd *abfd)\n   return GDB_OSABI_UNKNOWN;\n }\n \n-void _initialize_i386_cygwin_tdep ();\n+void _initialize_i386_windows_tdep ();\n void\n-_initialize_i386_cygwin_tdep ()\n+_initialize_i386_windows_tdep ()\n {\n   gdbarch_register_osabi_sniffer (bfd_arch_i386, bfd_target_coff_flavour,\n-                                  i386_cygwin_osabi_sniffer);\n+                                  i386_windows_osabi_sniffer);\n \n   /* Cygwin uses elf core dumps.  */\n   gdbarch_register_osabi_sniffer (bfd_arch_i386, bfd_target_elf_flavour,\n                                   i386_cygwin_core_osabi_sniffer);\n \n-  /* The Cygwin and Windows OS ABIs are currently equivalent.  */\n-  gdbarch_register_osabi (bfd_arch_i386, 0, GDB_OSABI_CYGWIN,\n-                          i386_cygwin_init_abi);\n+  /* The Windows and Cygwin OS ABIs are currently equivalent.  */\n   gdbarch_register_osabi (bfd_arch_i386, 0, GDB_OSABI_WINDOWS,\n-                          i386_cygwin_init_abi);\n+                          i386_windows_init_abi);\n+  gdbarch_register_osabi (bfd_arch_i386, 0, GDB_OSABI_CYGWIN,\n+                          i386_windows_init_abi);\n }"
    }
  ]
}