{
  "sha": "574df58f5295ef2728526e6a73b5f429b05f2a8c",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NTc0ZGY1OGY1Mjk1ZWYyNzI4NTI2ZTZhNzNiNWY0MjliMDVmMmE4Yw==",
  "commit": {
    "author": {
      "name": "H.J. Lu",
      "email": "hjl.tools@gmail.com",
      "date": "2020-10-06T22:38:23Z"
    },
    "committer": {
      "name": "H.J. Lu",
      "email": "hjl.tools@gmail.com",
      "date": "2020-10-06T22:38:34Z"
    },
    "message": "x86: Properly merge -z ibt and -z shstk\n\nMerge -z ibt and -z shstk only with GNU_PROPERTY_X86_FEATURE_1_AND, not\nany GNU_PROPERTY_X86_UINT32_AND_XXX properties.\n\nbfd/\n\n\tPR ld/26711\n\t* elfxx-x86.c (_bfd_x86_elf_merge_gnu_properties): Merge -z ibt\n\tand -z shstk only with GNU_PROPERTY_X86_FEATURE_1_AND.\n\nld/\n\n\tPR ld/26711\n\t* testsuite/ld-i386/i386.exp: Run ld/26711 tests.\n\t* testsuite/ld-x86-64/x86-64.exp: Likewise.\n\t* testsuite/ld-i386/pr26711-1.d: Likewise.\n\t* testsuite/ld-i386/pr26711-2.d: Likewise.\n\t* testsuite/ld-i386/pr26711-3.d: Likewise.\n\t* testsuite/ld-x86-64/pr26711-1-x32.d: Likewise.\n\t* testsuite/ld-x86-64/pr26711-1.d: Likewise.\n\t* testsuite/ld-x86-64/pr26711-2-x32.d: Likewise.\n\t* testsuite/ld-x86-64/pr26711-2.d: Likewise.\n\t* testsuite/ld-x86-64/pr26711-3-x32.d: Likewise.\n\t* testsuite/ld-x86-64/pr26711-3.d: Likewise.\n\t* testsuite/ld-x86-64/pr26711.s: Likewise.",
    "tree": {
      "sha": "6b9e44b9368a64b1e19ae96174a1e39c40c034b1",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/6b9e44b9368a64b1e19ae96174a1e39c40c034b1"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/574df58f5295ef2728526e6a73b5f429b05f2a8c",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/574df58f5295ef2728526e6a73b5f429b05f2a8c",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/574df58f5295ef2728526e6a73b5f429b05f2a8c",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/574df58f5295ef2728526e6a73b5f429b05f2a8c/comments",
  "author": {
    "login": "hjl-tools",
    "id": 1072356,
    "node_id": "MDQ6VXNlcjEwNzIzNTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hjl-tools",
    "html_url": "https://github.com/hjl-tools",
    "followers_url": "https://api.github.com/users/hjl-tools/followers",
    "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}",
    "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions",
    "organizations_url": "https://api.github.com/users/hjl-tools/orgs",
    "repos_url": "https://api.github.com/users/hjl-tools/repos",
    "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hjl-tools/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "hjl-tools",
    "id": 1072356,
    "node_id": "MDQ6VXNlcjEwNzIzNTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hjl-tools",
    "html_url": "https://github.com/hjl-tools",
    "followers_url": "https://api.github.com/users/hjl-tools/followers",
    "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}",
    "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions",
    "organizations_url": "https://api.github.com/users/hjl-tools/orgs",
    "repos_url": "https://api.github.com/users/hjl-tools/repos",
    "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hjl-tools/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "981b570a53f525ee1776524297a55eef9415d50d",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/981b570a53f525ee1776524297a55eef9415d50d",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/981b570a53f525ee1776524297a55eef9415d50d"
    }
  ],
  "stats": {
    "total": 185,
    "additions": 173,
    "deletions": 12
  },
  "files": [
    {
      "sha": "468c6f64c31450bb43a917427fea868c24eea610",
      "filename": "bfd/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/574df58f5295ef2728526e6a73b5f429b05f2a8c/bfd/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/574df58f5295ef2728526e6a73b5f429b05f2a8c/bfd/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/ChangeLog?ref=574df58f5295ef2728526e6a73b5f429b05f2a8c",
      "patch": "@@ -1,3 +1,9 @@\n+2020-10-06  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\tPR ld/26711\n+\t* elfxx-x86.c (_bfd_x86_elf_merge_gnu_properties): Merge -z ibt\n+\tand -z shstk only with GNU_PROPERTY_X86_FEATURE_1_AND.\n+\n 2020-10-06  Brandon Bergren  <bdragon@FreeBSD.org>\n \n \t* config.bfd: Add powerpc64le-*-freebsd*."
    },
    {
      "sha": "143aae4b5cc273f783d4669a472c1a1775875cc8",
      "filename": "bfd/elfxx-x86.c",
      "status": "modified",
      "additions": 19,
      "deletions": 12,
      "changes": 31,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/574df58f5295ef2728526e6a73b5f429b05f2a8c/bfd/elfxx-x86.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/574df58f5295ef2728526e6a73b5f429b05f2a8c/bfd/elfxx-x86.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/elfxx-x86.c?ref=574df58f5295ef2728526e6a73b5f429b05f2a8c",
      "patch": "@@ -2417,15 +2417,19 @@ _bfd_x86_elf_merge_gnu_properties (struct bfd_link_info *info,\n \tabort ();\n       if (aprop != NULL && bprop != NULL)\n \t{\n-\t  features = 0;\n-\t  if (htab->params->ibt)\n-\t    features = GNU_PROPERTY_X86_FEATURE_1_IBT;\n-\t  if (htab->params->shstk)\n-\t    features |= GNU_PROPERTY_X86_FEATURE_1_SHSTK;\n \t  number = aprop->u.number;\n-\t  /* Add GNU_PROPERTY_X86_FEATURE_1_IBT and\n-\t     GNU_PROPERTY_X86_FEATURE_1_SHSTK.  */\n-\t  aprop->u.number = (number & bprop->u.number) | features;\n+\t  aprop->u.number = number & bprop->u.number;\n+\t  if (pr_type == GNU_PROPERTY_X86_FEATURE_1_AND)\n+\t    {\n+\t      features = 0;\n+\t      if (htab->params->ibt)\n+\t\tfeatures = GNU_PROPERTY_X86_FEATURE_1_IBT;\n+\t      if (htab->params->shstk)\n+\t\tfeatures |= GNU_PROPERTY_X86_FEATURE_1_SHSTK;\n+\t      /* Add GNU_PROPERTY_X86_FEATURE_1_IBT and\n+\t\t GNU_PROPERTY_X86_FEATURE_1_SHSTK.  */\n+\t      aprop->u.number |= features;\n+\t    }\n \t  updated = number != (unsigned int) aprop->u.number;\n \t  /* Remove the property if all feature bits are cleared.  */\n \t  if (aprop->u.number == 0)\n@@ -2437,10 +2441,13 @@ _bfd_x86_elf_merge_gnu_properties (struct bfd_link_info *info,\n \t     have them.  Set IBT and SHSTK properties for -z ibt and -z\n \t     shstk if needed.  */\n \t  features = 0;\n-\t  if (htab->params->ibt)\n-\t    features = GNU_PROPERTY_X86_FEATURE_1_IBT;\n-\t  if (htab->params->shstk)\n-\t    features |= GNU_PROPERTY_X86_FEATURE_1_SHSTK;\n+\t  if (pr_type == GNU_PROPERTY_X86_FEATURE_1_AND)\n+\t    {\n+\t      if (htab->params->ibt)\n+\t\tfeatures = GNU_PROPERTY_X86_FEATURE_1_IBT;\n+\t      if (htab->params->shstk)\n+\t\tfeatures |= GNU_PROPERTY_X86_FEATURE_1_SHSTK;\n+\t    }\n \t  if (features)\n \t    {\n \t      if (aprop != NULL)"
    },
    {
      "sha": "17c0d971670e4b1e406539a8f9c0a16d7a0e6b87",
      "filename": "ld/ChangeLog",
      "status": "modified",
      "additions": 16,
      "deletions": 0,
      "changes": 16,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/574df58f5295ef2728526e6a73b5f429b05f2a8c/ld/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/574df58f5295ef2728526e6a73b5f429b05f2a8c/ld/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/ChangeLog?ref=574df58f5295ef2728526e6a73b5f429b05f2a8c",
      "patch": "@@ -1,3 +1,19 @@\n+2020-10-06  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\tPR ld/26711\n+\t* testsuite/ld-i386/i386.exp: Run ld/26711 tests.\n+\t* testsuite/ld-x86-64/x86-64.exp: Likewise.\n+\t* testsuite/ld-i386/pr26711-1.d: Likewise.\n+\t* testsuite/ld-i386/pr26711-2.d: Likewise.\n+\t* testsuite/ld-i386/pr26711-3.d: Likewise.\n+\t* testsuite/ld-x86-64/pr26711-1-x32.d: Likewise.\n+\t* testsuite/ld-x86-64/pr26711-1.d: Likewise.\n+\t* testsuite/ld-x86-64/pr26711-2-x32.d: Likewise.\n+\t* testsuite/ld-x86-64/pr26711-2.d: Likewise.\n+\t* testsuite/ld-x86-64/pr26711-3-x32.d: Likewise.\n+\t* testsuite/ld-x86-64/pr26711-3.d: Likewise.\n+\t* testsuite/ld-x86-64/pr26711.s: Likewise.\n+\n 2020-10-06  Brandon Bergren  <bdragon@FreeBSD.org>\n \n \t* Makefile.am (ALL_64_EMULATION_SOURCES): Add eelf64lppc_fbsd.c."
    },
    {
      "sha": "cd7b4deebdeee232ff235227e8a1e212a65759c5",
      "filename": "ld/testsuite/ld-i386/i386.exp",
      "status": "modified",
      "additions": 3,
      "deletions": 0,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/574df58f5295ef2728526e6a73b5f429b05f2a8c/ld/testsuite/ld-i386/i386.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/574df58f5295ef2728526e6a73b5f429b05f2a8c/ld/testsuite/ld-i386/i386.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-i386/i386.exp?ref=574df58f5295ef2728526e6a73b5f429b05f2a8c",
      "patch": "@@ -472,6 +472,9 @@ run_dump_test \"pr24322b\"\n run_dump_test \"align-branch-1\"\n run_dump_test \"pr26018\"\n run_dump_test \"pr26263\"\n+run_dump_test \"pr26711-1\"\n+run_dump_test \"pr26711-2\"\n+run_dump_test \"pr26711-3\"\n \n if { !([istarget \"i?86-*-linux*\"]\n        || [istarget \"i?86-*-gnu*\"]"
    },
    {
      "sha": "24a8429fbcaf7a4cb005cdd0cc8a7f4f6689cc52",
      "filename": "ld/testsuite/ld-i386/pr26711-1.d",
      "status": "added",
      "additions": 10,
      "deletions": 0,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/574df58f5295ef2728526e6a73b5f429b05f2a8c/ld/testsuite/ld-i386/pr26711-1.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/574df58f5295ef2728526e6a73b5f429b05f2a8c/ld/testsuite/ld-i386/pr26711-1.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-i386/pr26711-1.d?ref=574df58f5295ef2728526e6a73b5f429b05f2a8c",
      "patch": "@@ -0,0 +1,10 @@\n+#source: ../ld-x86-64/pr26711.s\n+#source: ../ld-x86-64/start.s\n+#as: --32 -mx86-used-note=no\n+#ld: -m elf_i386 -z ibt\n+#readelf: -n\n+\n+Displaying notes found in: .note.gnu.property\n+[ \t]+Owner[ \t]+Data size[ \t]+Description\n+  GNU                  0x[0-9a-f]+\tNT_GNU_PROPERTY_TYPE_0\n+      Properties: x86 feature: IBT"
    },
    {
      "sha": "e92559fa70f5035d5e4480efeed30bcbc9346fb0",
      "filename": "ld/testsuite/ld-i386/pr26711-2.d",
      "status": "added",
      "additions": 10,
      "deletions": 0,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/574df58f5295ef2728526e6a73b5f429b05f2a8c/ld/testsuite/ld-i386/pr26711-2.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/574df58f5295ef2728526e6a73b5f429b05f2a8c/ld/testsuite/ld-i386/pr26711-2.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-i386/pr26711-2.d?ref=574df58f5295ef2728526e6a73b5f429b05f2a8c",
      "patch": "@@ -0,0 +1,10 @@\n+#source: ../ld-x86-64/pr26711.s\n+#source: ../ld-x86-64/start.s\n+#as: --32 -mx86-used-note=no\n+#ld: -m elf_i386 -z shstk\n+#readelf: -n\n+\n+Displaying notes found in: .note.gnu.property\n+[ \t]+Owner[ \t]+Data size[ \t]+Description\n+  GNU                  0x[0-9a-f]+\tNT_GNU_PROPERTY_TYPE_0\n+      Properties: x86 feature: SHSTK"
    },
    {
      "sha": "df9bfced5403979e21785e5e072e1e7a3c185fba",
      "filename": "ld/testsuite/ld-i386/pr26711-3.d",
      "status": "added",
      "additions": 10,
      "deletions": 0,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/574df58f5295ef2728526e6a73b5f429b05f2a8c/ld/testsuite/ld-i386/pr26711-3.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/574df58f5295ef2728526e6a73b5f429b05f2a8c/ld/testsuite/ld-i386/pr26711-3.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-i386/pr26711-3.d?ref=574df58f5295ef2728526e6a73b5f429b05f2a8c",
      "patch": "@@ -0,0 +1,10 @@\n+#source: ../ld-x86-64/pr26711.s\n+#source: ../ld-x86-64/start.s\n+#as: --32 -mx86-used-note=no\n+#ld: -m elf_i386 -z ibt -z shstk\n+#readelf: -n\n+\n+Displaying notes found in: .note.gnu.property\n+[ \t]+Owner[ \t]+Data size[ \t]+Description\n+  GNU                  0x[0-9a-f]+\tNT_GNU_PROPERTY_TYPE_0\n+      Properties: x86 feature: IBT, SHSTK"
    },
    {
      "sha": "67013195b2e1df6c4daae4373c9d16e28497be9e",
      "filename": "ld/testsuite/ld-x86-64/pr26711-1-x32.d",
      "status": "added",
      "additions": 10,
      "deletions": 0,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/574df58f5295ef2728526e6a73b5f429b05f2a8c/ld/testsuite/ld-x86-64/pr26711-1-x32.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/574df58f5295ef2728526e6a73b5f429b05f2a8c/ld/testsuite/ld-x86-64/pr26711-1-x32.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-x86-64/pr26711-1-x32.d?ref=574df58f5295ef2728526e6a73b5f429b05f2a8c",
      "patch": "@@ -0,0 +1,10 @@\n+#source: pr26711.s\n+#source: start.s\n+#as: --x32 -mx86-used-note=no\n+#ld: -m elf32_x86_64 -z ibt\n+#readelf: -n\n+\n+Displaying notes found in: .note.gnu.property\n+[ \t]+Owner[ \t]+Data size[ \t]+Description\n+  GNU                  0x[0-9a-f]+\tNT_GNU_PROPERTY_TYPE_0\n+      Properties: x86 feature: IBT"
    },
    {
      "sha": "d8e3cbf19baaacf3e1f1de578cfc8d44ff63b9cc",
      "filename": "ld/testsuite/ld-x86-64/pr26711-1.d",
      "status": "added",
      "additions": 10,
      "deletions": 0,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/574df58f5295ef2728526e6a73b5f429b05f2a8c/ld/testsuite/ld-x86-64/pr26711-1.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/574df58f5295ef2728526e6a73b5f429b05f2a8c/ld/testsuite/ld-x86-64/pr26711-1.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-x86-64/pr26711-1.d?ref=574df58f5295ef2728526e6a73b5f429b05f2a8c",
      "patch": "@@ -0,0 +1,10 @@\n+#source: pr26711.s\n+#source: start.s\n+#as: --64 -defsym __64_bit__=1 -mx86-used-note=no\n+#ld: -m elf_x86_64 -z ibt\n+#readelf: -n\n+\n+Displaying notes found in: .note.gnu.property\n+[ \t]+Owner[ \t]+Data size[ \t]+Description\n+  GNU                  0x[0-9a-f]+\tNT_GNU_PROPERTY_TYPE_0\n+      Properties: x86 feature: IBT"
    },
    {
      "sha": "9822f8df4dcc536f46f8d7a3b7ca53b26ced8249",
      "filename": "ld/testsuite/ld-x86-64/pr26711-2-x32.d",
      "status": "added",
      "additions": 10,
      "deletions": 0,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/574df58f5295ef2728526e6a73b5f429b05f2a8c/ld/testsuite/ld-x86-64/pr26711-2-x32.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/574df58f5295ef2728526e6a73b5f429b05f2a8c/ld/testsuite/ld-x86-64/pr26711-2-x32.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-x86-64/pr26711-2-x32.d?ref=574df58f5295ef2728526e6a73b5f429b05f2a8c",
      "patch": "@@ -0,0 +1,10 @@\n+#source: pr26711.s\n+#source: start.s\n+#as: --x32 -mx86-used-note=no\n+#ld: -m elf32_x86_64 -z shstk\n+#readelf: -n\n+\n+Displaying notes found in: .note.gnu.property\n+[ \t]+Owner[ \t]+Data size[ \t]+Description\n+  GNU                  0x[0-9a-f]+\tNT_GNU_PROPERTY_TYPE_0\n+      Properties: x86 feature: SHSTK"
    },
    {
      "sha": "e24cfbfc0b0c7bc374d858f81a4c60edec92160d",
      "filename": "ld/testsuite/ld-x86-64/pr26711-2.d",
      "status": "added",
      "additions": 10,
      "deletions": 0,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/574df58f5295ef2728526e6a73b5f429b05f2a8c/ld/testsuite/ld-x86-64/pr26711-2.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/574df58f5295ef2728526e6a73b5f429b05f2a8c/ld/testsuite/ld-x86-64/pr26711-2.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-x86-64/pr26711-2.d?ref=574df58f5295ef2728526e6a73b5f429b05f2a8c",
      "patch": "@@ -0,0 +1,10 @@\n+#source: pr26711.s\n+#source: start.s\n+#as: --64 -defsym __64_bit__=1 -mx86-used-note=no\n+#ld: -m elf_x86_64 -z shstk\n+#readelf: -n\n+\n+Displaying notes found in: .note.gnu.property\n+[ \t]+Owner[ \t]+Data size[ \t]+Description\n+  GNU                  0x[0-9a-f]+\tNT_GNU_PROPERTY_TYPE_0\n+      Properties: x86 feature: SHSTK"
    },
    {
      "sha": "0661c7d523620eead5a38fb229e18e0f67bc913a",
      "filename": "ld/testsuite/ld-x86-64/pr26711-3-x32.d",
      "status": "added",
      "additions": 10,
      "deletions": 0,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/574df58f5295ef2728526e6a73b5f429b05f2a8c/ld/testsuite/ld-x86-64/pr26711-3-x32.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/574df58f5295ef2728526e6a73b5f429b05f2a8c/ld/testsuite/ld-x86-64/pr26711-3-x32.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-x86-64/pr26711-3-x32.d?ref=574df58f5295ef2728526e6a73b5f429b05f2a8c",
      "patch": "@@ -0,0 +1,10 @@\n+#source: pr26711.s\n+#source: start.s\n+#as: --x32 -mx86-used-note=no\n+#ld: -m elf32_x86_64 -z ibt -z shstk\n+#readelf: -n\n+\n+Displaying notes found in: .note.gnu.property\n+[ \t]+Owner[ \t]+Data size[ \t]+Description\n+  GNU                  0x[0-9a-f]+\tNT_GNU_PROPERTY_TYPE_0\n+      Properties: x86 feature: IBT, SHSTK"
    },
    {
      "sha": "87bc3ccfb05143208ca50f203b730dc5efaa158d",
      "filename": "ld/testsuite/ld-x86-64/pr26711-3.d",
      "status": "added",
      "additions": 10,
      "deletions": 0,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/574df58f5295ef2728526e6a73b5f429b05f2a8c/ld/testsuite/ld-x86-64/pr26711-3.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/574df58f5295ef2728526e6a73b5f429b05f2a8c/ld/testsuite/ld-x86-64/pr26711-3.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-x86-64/pr26711-3.d?ref=574df58f5295ef2728526e6a73b5f429b05f2a8c",
      "patch": "@@ -0,0 +1,10 @@\n+#source: pr26711.s\n+#source: start.s\n+#as: --64 -defsym __64_bit__=1 -mx86-used-note=no\n+#ld: -m elf_x86_64 -z ibt -z shstk\n+#readelf: -n\n+\n+Displaying notes found in: .note.gnu.property\n+[ \t]+Owner[ \t]+Data size[ \t]+Description\n+  GNU                  0x[0-9a-f]+\tNT_GNU_PROPERTY_TYPE_0\n+      Properties: x86 feature: IBT, SHSTK"
    },
    {
      "sha": "8fa185d42a782e99ce54a6b02bb4e5798ed0ff40",
      "filename": "ld/testsuite/ld-x86-64/pr26711.s",
      "status": "added",
      "additions": 33,
      "deletions": 0,
      "changes": 33,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/574df58f5295ef2728526e6a73b5f429b05f2a8c/ld/testsuite/ld-x86-64/pr26711.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/574df58f5295ef2728526e6a73b5f429b05f2a8c/ld/testsuite/ld-x86-64/pr26711.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-x86-64/pr26711.s?ref=574df58f5295ef2728526e6a73b5f429b05f2a8c",
      "patch": "@@ -0,0 +1,33 @@\n+\t.section \".note.gnu.property\", \"a\"\n+.ifdef __64_bit__\n+\t.p2align 3\n+.else\n+\t.p2align 2\n+.endif\n+\t.long 1f - 0f\t\t/* name length */\n+\t.long 5f - 2f\t\t/* data length */\n+\t.long 5\t\t\t/* note type */\n+0:\t.asciz \"GNU\"\t\t/* vendor name */\n+1:\n+.ifdef __64_bit__\n+\t.p2align 3\n+.else\n+\t.p2align 2\n+.endif\n+2:\t.long 0xc0001002\t/* pr_type.  */\n+\t.long 4f - 3f\t\t/* pr_datasz.  */\n+3:\n+\t.long 0x30\n+4:\n+.ifdef __64_bit__\n+\t.p2align 3\n+.else\n+\t.p2align 2\n+.endif\n+5:\n+\n+\t.text\n+\t.globl\tfoo\n+\t.type\tfoo, @function\n+foo:\n+\tret"
    },
    {
      "sha": "59cad54a7996cd99c2ef9f78dd9cc86c1c6a3c52",
      "filename": "ld/testsuite/ld-x86-64/x86-64.exp",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/574df58f5295ef2728526e6a73b5f429b05f2a8c/ld/testsuite/ld-x86-64/x86-64.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/574df58f5295ef2728526e6a73b5f429b05f2a8c/ld/testsuite/ld-x86-64/x86-64.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-x86-64/x86-64.exp?ref=574df58f5295ef2728526e6a73b5f429b05f2a8c",
      "patch": "@@ -432,6 +432,12 @@ run_dump_test \"pr25416-3\"\n run_dump_test \"pr25416-4\"\n run_dump_test \"pr26018\"\n run_dump_test \"pr26263\"\n+run_dump_test \"pr26711-1\"\n+run_dump_test \"pr26711-1-x32\"\n+run_dump_test \"pr26711-2\"\n+run_dump_test \"pr26711-2-x32\"\n+run_dump_test \"pr26711-3\"\n+run_dump_test \"pr26711-3-x32\"\n \n if ![istarget \"x86_64-*-linux*\"] {\n     return"
    }
  ]
}