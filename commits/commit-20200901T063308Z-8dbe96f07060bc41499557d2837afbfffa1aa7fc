{
  "sha": "8dbe96f07060bc41499557d2837afbfffa1aa7fc",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6OGRiZTk2ZjA3MDYwYmM0MTQ5OTU1N2QyODM3YWZiZmZmYTFhYTdmYw==",
  "commit": {
    "author": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2020-08-31T22:18:02Z"
    },
    "committer": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2020-09-01T06:33:08Z"
    },
    "message": "mep: ubsan: mep-ibld.c:1635,1645,1652 left shift of negative value\n\ncpu/\n\t* mep-core.cpu (f-8s8a2, f-12s4a2, f-17s16a2): Multiply signed\n\tvalue by two rather than shifting left.\n\t(f-24s5a2n): Similarly multiply signed f-24s5a2n-hi to extract.\nopcodes/\n\t* mep-ibld.c: Regenerate.",
    "tree": {
      "sha": "236d23173e050e2ccc00e8456d9de5f2b63ec759",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/236d23173e050e2ccc00e8456d9de5f2b63ec759"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/8dbe96f07060bc41499557d2837afbfffa1aa7fc",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/8dbe96f07060bc41499557d2837afbfffa1aa7fc",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/8dbe96f07060bc41499557d2837afbfffa1aa7fc",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/8dbe96f07060bc41499557d2837afbfffa1aa7fc/comments",
  "author": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "821e059c2626fb0b2ee91898b1c74ea9636c6175",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/821e059c2626fb0b2ee91898b1c74ea9636c6175",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/821e059c2626fb0b2ee91898b1c74ea9636c6175"
    }
  ],
  "stats": {
    "total": 30,
    "additions": 20,
    "deletions": 10
  },
  "files": [
    {
      "sha": "6609a05a8adcd6982a49b7997ebdd3736b93ca40",
      "filename": "cpu/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8dbe96f07060bc41499557d2837afbfffa1aa7fc/cpu/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8dbe96f07060bc41499557d2837afbfffa1aa7fc/cpu/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/cpu/ChangeLog?ref=8dbe96f07060bc41499557d2837afbfffa1aa7fc",
      "patch": "@@ -1,3 +1,9 @@\n+2020-09-01  Alan Modra  <amodra@gmail.com>\n+\n+\t* mep-core.cpu (f-8s8a2, f-12s4a2, f-17s16a2): Multiply signed\n+\tvalue by two rather than shifting left.\n+\t(f-24s5a2n): Similarly multiply signed f-24s5a2n-hi to extract.\n+\n 2020-08-26  David Faust  <david.faust@oracle.com>\n \n \t* bpf.cpu (arch bpf): Add xbpf mach and isas."
    },
    {
      "sha": "bdc9c622f142bd410028f9335ae8d16ef9d0ce3c",
      "filename": "cpu/mep-core.cpu",
      "status": "modified",
      "additions": 5,
      "deletions": 5,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8dbe96f07060bc41499557d2837afbfffa1aa7fc/cpu/mep-core.cpu",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8dbe96f07060bc41499557d2837afbfffa1aa7fc/cpu/mep-core.cpu",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/cpu/mep-core.cpu?ref=8dbe96f07060bc41499557d2837afbfffa1aa7fc",
      "patch": "@@ -430,15 +430,15 @@\n \n (df f-8s8a2 \"pc-rel addr (8 bits)\"    (all-mep-core-isas PCREL-ADDR)  8  7 INT\n     ((value pc) (sra SI (sub SI value    pc) 1))\n-    ((value pc) (add SI (sll SI value 1) pc)))\n+    ((value pc) (add SI (mul SI value 2) pc)))\n \n (df f-12s4a2 \"pc-rel addr (12 bits)\"  (all-mep-core-isas PCREL-ADDR)  4 11 INT\n     ((value pc) (sra SI (sub SI value    pc) 1))\n-    ((value pc) (add SI (sll SI value 1) pc)))\n+    ((value pc) (add SI (mul SI value 2) pc)))\n \n (df f-17s16a2 \"pc-rel addr (17 bits)\" (all-mep-core-isas PCREL-ADDR) 16 16 INT\n     ((value pc) (sra SI (sub SI value    pc) 1))\n-    ((value pc) (add SI (sll SI value 1) pc)))\n+    ((value pc) (add SI (mul SI value 2) pc)))\n \n (df f-24s5a2n-hi \"24s5a2n hi 16s16\" (all-mep-core-isas PCREL-ADDR) 16 16  INT #f #f)\n (df f-24s5a2n-lo \"24s5a2n lo 7s5a2\" (all-mep-core-isas PCREL-ADDR)  5  7 UINT #f #f)\n@@ -456,7 +456,7 @@\n \t\t    (set (ifield f-24s5a2n-hi)\n \t\t\t (sra INT (ifield f-24s5a2n) 8))))\n   (extract (set (ifield f-24s5a2n)\n-\t\t(add SI (or (sll (ifield f-24s5a2n-hi) 8)\n+\t\t(add SI (or (mul (ifield f-24s5a2n-hi) 256)\n \t\t\t    (sll (ifield f-24s5a2n-lo) 1))\n \t\t     pc)))\n   )\n@@ -486,7 +486,7 @@\n (df f-7u9     \"tp-rel b (7 bits)\"      (all-mep-core-isas)  9  7 UINT #f #f)\n (df f-7u9a2   \"tp-rel h (7 bits)\"      (all-mep-core-isas)  9  6 UINT\n     ((value pc) (srl SI value 1))\n-    ((value pc) (sll SI value 1)))\n+    ((value pc) (mul SI value 2)))\n (df f-7u9a4   \"tp/sp-rel w (7 bits)\"   (all-mep-core-isas)  9  5 UINT\n     ((value pc) (srl SI value 2))\n     ((value pc) (sll SI value 2)))"
    },
    {
      "sha": "719cf05a3efe4fd3c79221e6f4f3452811df72dc",
      "filename": "opcodes/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8dbe96f07060bc41499557d2837afbfffa1aa7fc/opcodes/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8dbe96f07060bc41499557d2837afbfffa1aa7fc/opcodes/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/ChangeLog?ref=8dbe96f07060bc41499557d2837afbfffa1aa7fc",
      "patch": "@@ -1,3 +1,7 @@\n+2020-09-01  Alan Modra  <amodra@gmail.com>\n+\n+\t* mep-ibld.c: Regenerate.\n+\n 2020-08-31  Cooper Qu  <cooper.qu@linux.alibaba.com>\n \n \t* csky-dis.c (csky_output_operand): Assign dis_info.value for"
    },
    {
      "sha": "8f03813761a02b74dac671788a152901b39e8539",
      "filename": "opcodes/mep-ibld.c",
      "status": "modified",
      "additions": 5,
      "deletions": 5,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/8dbe96f07060bc41499557d2837afbfffa1aa7fc/opcodes/mep-ibld.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/8dbe96f07060bc41499557d2837afbfffa1aa7fc/opcodes/mep-ibld.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/mep-ibld.c?ref=8dbe96f07060bc41499557d2837afbfffa1aa7fc",
      "patch": "@@ -1624,15 +1624,15 @@ mep_cgen_extract_operand (CGEN_CPU_DESC cd,\n       {\n         long value;\n         length = extract_normal (cd, ex_info, insn_value, 0|(1<<CGEN_IFLD_SIGNED)|(1<<CGEN_IFLD_PCREL_ADDR), 0, 4, 11, 32, total_length, pc, & value);\n-        value = ((((value) << (1))) + (pc));\n+        value = ((((value) * (2))) + (pc));\n         fields->f_12s4a2 = value;\n       }\n       break;\n     case MEP_OPERAND_PCREL17A2 :\n       {\n         long value;\n         length = extract_normal (cd, ex_info, insn_value, 0|(1<<CGEN_IFLD_SIGNED)|(1<<CGEN_IFLD_PCREL_ADDR), 0, 16, 16, 32, total_length, pc, & value);\n-        value = ((((value) << (1))) + (pc));\n+        value = ((((value) * (2))) + (pc));\n         fields->f_17s16a2 = value;\n       }\n       break;\n@@ -1642,14 +1642,14 @@ mep_cgen_extract_operand (CGEN_CPU_DESC cd,\n         if (length <= 0) break;\n         length = extract_normal (cd, ex_info, insn_value, 0|(1<<CGEN_IFLD_PCREL_ADDR), 0, 5, 7, 32, total_length, pc, & fields->f_24s5a2n_lo);\n         if (length <= 0) break;\n-  FLD (f_24s5a2n) = ((((((FLD (f_24s5a2n_hi)) << (8))) | (((FLD (f_24s5a2n_lo)) << (1))))) + (pc));\n+  FLD (f_24s5a2n) = ((((((FLD (f_24s5a2n_hi)) * (256))) | (((FLD (f_24s5a2n_lo)) << (1))))) + (pc));\n       }\n       break;\n     case MEP_OPERAND_PCREL8A2 :\n       {\n         long value;\n         length = extract_normal (cd, ex_info, insn_value, 0|(1<<CGEN_IFLD_SIGNED)|(1<<CGEN_IFLD_PCREL_ADDR), 0, 8, 7, 32, total_length, pc, & value);\n-        value = ((((value) << (1))) + (pc));\n+        value = ((((value) * (2))) + (pc));\n         fields->f_8s8a2 = value;\n       }\n       break;\n@@ -1765,7 +1765,7 @@ mep_cgen_extract_operand (CGEN_CPU_DESC cd,\n       {\n         long value;\n         length = extract_normal (cd, ex_info, insn_value, 0, 0, 9, 6, 32, total_length, pc, & value);\n-        value = ((value) << (1));\n+        value = ((value) * (2));\n         fields->f_7u9a2 = value;\n       }\n       break;"
    }
  ]
}