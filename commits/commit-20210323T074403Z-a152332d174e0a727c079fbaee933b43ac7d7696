{
  "sha": "a152332d174e0a727c079fbaee933b43ac7d7696",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YTE1MjMzMmQxNzRlMGE3MjdjMDc5ZmJhZWU5MzNiNDNhYzdkNzY5Ng==",
  "commit": {
    "author": {
      "name": "Jan Beulich",
      "email": "jbeulich@suse.com",
      "date": "2021-03-23T07:44:03Z"
    },
    "committer": {
      "name": "Jan Beulich",
      "email": "jbeulich@suse.com",
      "date": "2021-03-23T07:44:03Z"
    },
    "message": "x86: unbreak certain MPX insn operand forms\n\nCommit 8b65b8953af2 (\"x86: Remove the prefix byte from non-VEX/EVEX\nbase_opcode\") dropped the mandatory prefix bytes from legacy encoded\ninsn templates, but failed to also adjust affected MPX-specific checks\nin two places.\n\nFor the expressions to remain halfway readable, introduce local\nvariables to hold current_templates->start.",
    "tree": {
      "sha": "be91fda2115089e7e2896d43dd0eb373313cb77b",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/be91fda2115089e7e2896d43dd0eb373313cb77b"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/a152332d174e0a727c079fbaee933b43ac7d7696",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/a152332d174e0a727c079fbaee933b43ac7d7696",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/a152332d174e0a727c079fbaee933b43ac7d7696",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/a152332d174e0a727c079fbaee933b43ac7d7696/comments",
  "author": {
    "login": "jbeulich",
    "id": 5610135,
    "node_id": "MDQ6VXNlcjU2MTAxMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5610135?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jbeulich",
    "html_url": "https://github.com/jbeulich",
    "followers_url": "https://api.github.com/users/jbeulich/followers",
    "following_url": "https://api.github.com/users/jbeulich/following{/other_user}",
    "gists_url": "https://api.github.com/users/jbeulich/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jbeulich/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jbeulich/subscriptions",
    "organizations_url": "https://api.github.com/users/jbeulich/orgs",
    "repos_url": "https://api.github.com/users/jbeulich/repos",
    "events_url": "https://api.github.com/users/jbeulich/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jbeulich/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "jbeulich",
    "id": 5610135,
    "node_id": "MDQ6VXNlcjU2MTAxMzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5610135?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jbeulich",
    "html_url": "https://github.com/jbeulich",
    "followers_url": "https://api.github.com/users/jbeulich/followers",
    "following_url": "https://api.github.com/users/jbeulich/following{/other_user}",
    "gists_url": "https://api.github.com/users/jbeulich/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jbeulich/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jbeulich/subscriptions",
    "organizations_url": "https://api.github.com/users/jbeulich/orgs",
    "repos_url": "https://api.github.com/users/jbeulich/repos",
    "events_url": "https://api.github.com/users/jbeulich/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jbeulich/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "f596b03f555fa4e473bd3fbeb0d7b6662883485b",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/f596b03f555fa4e473bd3fbeb0d7b6662883485b",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/f596b03f555fa4e473bd3fbeb0d7b6662883485b"
    }
  ],
  "stats": {
    "total": 82,
    "additions": 55,
    "deletions": 27
  },
  "files": [
    {
      "sha": "e8a501a4b963de21b577d85edd9599ec1955616a",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 10,
      "deletions": 0,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a152332d174e0a727c079fbaee933b43ac7d7696/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a152332d174e0a727c079fbaee933b43ac7d7696/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=a152332d174e0a727c079fbaee933b43ac7d7696",
      "patch": "@@ -1,3 +1,13 @@\n+2021-03-23  Jan Beulich  <jbeulich@suse.com>\n+\n+\t* config/tc-i386.c (i386_index_check): New local variable t.\n+\tCorrect MPX insn check.\n+\t* config/tc-i386-intel.c (i386_intel_simplify_register): Correct\n+\tMPX insn check.\n+\t* testsuite/gas/i386/x86-64-mpx.s: Add RIP-relative cases. Test\n+\tindex scaling by other than 1.\n+\t* testsuite/gas/i386/x86-64-mpx.d: Adjust expectations.\n+\n 2021-03-22  Martin Liska  <mliska@suse.cz>\n \n \t* config/tc-i386.c (md_parse_option): Replace usage of CONST_STRNEQ with startswith."
    },
    {
      "sha": "bd3d354e14ce55d68be1540bbf3a4324650b29c9",
      "filename": "gas/config/tc-i386-intel.c",
      "status": "modified",
      "additions": 6,
      "deletions": 2,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a152332d174e0a727c079fbaee933b43ac7d7696/gas/config/tc-i386-intel.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a152332d174e0a727c079fbaee933b43ac7d7696/gas/config/tc-i386-intel.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/config/tc-i386-intel.c?ref=a152332d174e0a727c079fbaee933b43ac7d7696",
      "patch": "@@ -314,9 +314,13 @@ i386_intel_simplify_register (expressionS *e)\n     intel_state.base = i386_regtab + reg_num;\n   else if (!intel_state.index)\n     {\n+      const insn_template *t = current_templates->start;\n+\n       if (intel_state.in_scale\n-\t  || current_templates->start->base_opcode == 0xf30f1b /* bndmk */\n-\t  || (current_templates->start->base_opcode & ~1) == 0x0f1a /* bnd{ld,st}x */\n+\t  || (t->opcode_modifier.opcodeprefix == PREFIX_0XF3\n+\t      && t->base_opcode == 0x0f1b /* bndmk */)\n+\t  || (t->opcode_modifier.opcodeprefix == PREFIX_NONE\n+\t      && (t->base_opcode & ~1) == 0x0f1a /* bnd{ld,st}x */)\n \t  || i386_regtab[reg_num].reg_type.bitfield.baseindex)\n \tintel_state.index = i386_regtab + reg_num;\n       else"
    },
    {
      "sha": "ee4d2bc1c8eadc7c855ecc933e72f1c3844a340c",
      "filename": "gas/config/tc-i386.c",
      "status": "modified",
      "additions": 11,
      "deletions": 7,
      "changes": 18,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a152332d174e0a727c079fbaee933b43ac7d7696/gas/config/tc-i386.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a152332d174e0a727c079fbaee933b43ac7d7696/gas/config/tc-i386.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/config/tc-i386.c?ref=a152332d174e0a727c079fbaee933b43ac7d7696",
      "patch": "@@ -11031,9 +11031,10 @@ i386_index_check (const char *operand_string)\n {\n   const char *kind = \"base/index\";\n   enum flag_code addr_mode = i386_addressing_mode ();\n+  const insn_template *t = current_templates->start;\n \n-  if (current_templates->start->opcode_modifier.isstring\n-      && !current_templates->start->cpu_flags.bitfield.cpupadlock\n+  if (t->opcode_modifier.isstring\n+      && !t->cpu_flags.bitfield.cpupadlock\n       && (current_templates->end[-1].opcode_modifier.isstring\n \t  || i.mem_operands))\n     {\n@@ -11050,7 +11051,7 @@ i386_index_check (const char *operand_string)\n \n       kind = \"string address\";\n \n-      if (current_templates->start->opcode_modifier.prefixok == PrefixRep)\n+      if (t->opcode_modifier.prefixok == PrefixRep)\n \t{\n \t  int es_op = current_templates->end[-1].opcode_modifier.isstring\n \t\t      - IS_STRING_ES_OP0;\n@@ -11130,9 +11131,11 @@ i386_index_check (const char *operand_string)\n \t    goto bad_address;\n \n \t  /* bndmk, bndldx, bndstx and mandatory non-vector SIB have special restrictions. */\n-\t  if (current_templates->start->base_opcode == 0xf30f1b\n-\t      || (current_templates->start->base_opcode & ~1) == 0x0f1a\n-\t      || current_templates->start->opcode_modifier.sib == SIBMEM)\n+\t  if ((t->opcode_modifier.opcodeprefix == PREFIX_0XF3\n+\t       && t->base_opcode == 0x0f1b)\n+\t      || (t->opcode_modifier.opcodeprefix == PREFIX_NONE\n+\t\t  && (t->base_opcode & ~1) == 0x0f1a)\n+\t      || t->opcode_modifier.sib == SIBMEM)\n \t    {\n \t      /* They cannot use RIP-relative addressing. */\n \t      if (i.base_reg && i.base_reg->reg_num == RegIP)\n@@ -11142,7 +11145,8 @@ i386_index_check (const char *operand_string)\n \t\t}\n \n \t      /* bndldx and bndstx ignore their scale factor. */\n-\t      if ((current_templates->start->base_opcode & ~1) == 0x0f1a\n+\t      if (t->opcode_modifier.opcodeprefix == PREFIX_NONE\n+\t\t  && (t->base_opcode & ~1) == 0x0f1a\n \t\t  && i.log2_scale_factor)\n \t\tas_warn (_(\"register scaling is being ignored here\"));\n \t    }"
    },
    {
      "sha": "f3217e07016e458580ddc1c70fe1aeafa5da708d",
      "filename": "gas/testsuite/gas/i386/x86-64-mpx.d",
      "status": "modified",
      "additions": 17,
      "deletions": 12,
      "changes": 29,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a152332d174e0a727c079fbaee933b43ac7d7696/gas/testsuite/gas/i386/x86-64-mpx.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a152332d174e0a727c079fbaee933b43ac7d7696/gas/testsuite/gas/i386/x86-64-mpx.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/x86-64-mpx.d?ref=a152332d174e0a727c079fbaee933b43ac7d7696",
      "patch": "@@ -14,26 +14,28 @@ Disassembly of section .text:\n [ \t]*[a-f0-9]+:\tf3 0f 1b 48 03       \tbndmk  0x3\\(%rax\\),%bnd1\n [ \t]*[a-f0-9]+:\tf3 42 0f 1b 0c 25 03 00 00 00 \tbndmk  0x3\\(,%r12,1\\),%bnd1\n [ \t]*[a-f0-9]+:\tf3 0f 1b 0c 08       \tbndmk  \\(%rax,%rcx,1\\),%bnd1\n-[ \t]*[a-f0-9]+:\tf3 41 0f 1b 4c 03 03 \tbndmk  0x3\\(%r11,%rax,1\\),%bnd1\n+[ \t]*[a-f0-9]+:\tf3 41 0f 1b 4c 43 03 \tbndmk  0x3\\(%r11,%rax,2\\),%bnd1\n [ \t]*[a-f0-9]+:\tf3 42 0f 1b 4c 0b 03 \tbndmk  0x3\\(%rbx,%r9,1\\),%bnd1\n [ \t]*[a-f0-9]+:\t66 41 0f 1a 0b       \tbndmov \\(%r11\\),%bnd1\n [ \t]*[a-f0-9]+:\t66 0f 1a 08          \tbndmov \\(%rax\\),%bnd1\n [ \t]*[a-f0-9]+:\t66 0f 1a 0c 25 99 03 00 00 \tbndmov 0x399,%bnd1\n [ \t]*[a-f0-9]+:\t66 41 0f 1a 51 03    \tbndmov 0x3\\(%r9\\),%bnd2\n [ \t]*[a-f0-9]+:\t66 0f 1a 50 03       \tbndmov 0x3\\(%rax\\),%bnd2\n+[ \t]*[a-f0-9]+:\t66 0f 1a 15 33 33 00 00 \tbndmov 0x3333\\(%rip\\),%bnd2 ?.*\n [ \t]*[a-f0-9]+:\t66 42 0f 1a 04 25 03 00 00 00 \tbndmov 0x3\\(,%r12,1\\),%bnd0\n [ \t]*[a-f0-9]+:\t66 0f 1a 14 10       \tbndmov \\(%rax,%rdx,1\\),%bnd2\n-[ \t]*[a-f0-9]+:\t66 41 0f 1a 4c 03 03 \tbndmov 0x3\\(%r11,%rax,1\\),%bnd1\n+[ \t]*[a-f0-9]+:\t66 41 0f 1a 4c 43 03 \tbndmov 0x3\\(%r11,%rax,2\\),%bnd1\n [ \t]*[a-f0-9]+:\t66 42 0f 1a 4c 0b 03 \tbndmov 0x3\\(%rbx,%r9,1\\),%bnd1\n [ \t]*[a-f0-9]+:\t66 0f 1a c2          \tbndmov %bnd2,%bnd0\n [ \t]*[a-f0-9]+:\t66 41 0f 1b 0b       \tbndmov %bnd1,\\(%r11\\)\n [ \t]*[a-f0-9]+:\t66 0f 1b 08          \tbndmov %bnd1,\\(%rax\\)\n [ \t]*[a-f0-9]+:\t66 0f 1b 0c 25 99 03 00 00 \tbndmov %bnd1,0x399\n [ \t]*[a-f0-9]+:\t66 41 0f 1b 51 03    \tbndmov %bnd2,0x3\\(%r9\\)\n [ \t]*[a-f0-9]+:\t66 0f 1b 50 03       \tbndmov %bnd2,0x3\\(%rax\\)\n+[ \t]*[a-f0-9]+:\t66 0f 1b 15 33 33 00 00 \tbndmov %bnd2,0x3333\\(%rip\\) ?.*\n [ \t]*[a-f0-9]+:\t66 42 0f 1b 04 25 03 00 00 00 \tbndmov %bnd0,0x3\\(,%r12,1\\)\n [ \t]*[a-f0-9]+:\t66 0f 1b 14 10       \tbndmov %bnd2,\\(%rax,%rdx,1\\)\n-[ \t]*[a-f0-9]+:\t66 41 0f 1b 4c 03 03 \tbndmov %bnd1,0x3\\(%r11,%rax,1\\)\n+[ \t]*[a-f0-9]+:\t66 41 0f 1b 4c 43 03 \tbndmov %bnd1,0x3\\(%r11,%rax,2\\)\n [ \t]*[a-f0-9]+:\t66 42 0f 1b 4c 0b 03 \tbndmov %bnd1,0x3\\(%rbx,%r9,1\\)\n [ \t]*[a-f0-9]+:\t66 0f 1a d0          \tbndmov %bnd0,%bnd2\n [ \t]*[a-f0-9]+:\tf3 41 0f 1a 0b       \tbndcl  \\(%r11\\),%bnd1\n@@ -43,9 +45,10 @@ Disassembly of section .text:\n [ \t]*[a-f0-9]+:\tf3 0f 1a 0c 25 99 03 00 00 \tbndcl  0x399,%bnd1\n [ \t]*[a-f0-9]+:\tf3 41 0f 1a 51 03    \tbndcl  0x3\\(%r9\\),%bnd2\n [ \t]*[a-f0-9]+:\tf3 0f 1a 50 03       \tbndcl  0x3\\(%rax\\),%bnd2\n+[ \t]*[a-f0-9]+:\tf3 0f 1a 15 33 33 00 00 \tbndcl  0x3333\\(%rip\\),%bnd2 ?.*\n [ \t]*[a-f0-9]+:\tf3 42 0f 1a 04 25 03 00 00 00 \tbndcl  0x3\\(,%r12,1\\),%bnd0\n [ \t]*[a-f0-9]+:\tf3 0f 1a 14 10       \tbndcl  \\(%rax,%rdx,1\\),%bnd2\n-[ \t]*[a-f0-9]+:\tf3 41 0f 1a 4c 03 03 \tbndcl  0x3\\(%r11,%rax,1\\),%bnd1\n+[ \t]*[a-f0-9]+:\tf3 41 0f 1a 4c 43 03 \tbndcl  0x3\\(%r11,%rax,2\\),%bnd1\n [ \t]*[a-f0-9]+:\tf3 42 0f 1a 4c 0b 03 \tbndcl  0x3\\(%rbx,%r9,1\\),%bnd1\n [ \t]*[a-f0-9]+:\tf2 41 0f 1a 0b       \tbndcu  \\(%r11\\),%bnd1\n [ \t]*[a-f0-9]+:\tf2 0f 1a 08          \tbndcu  \\(%rax\\),%bnd1\n@@ -54,9 +57,10 @@ Disassembly of section .text:\n [ \t]*[a-f0-9]+:\tf2 0f 1a 0c 25 99 03 00 00 \tbndcu  0x399,%bnd1\n [ \t]*[a-f0-9]+:\tf2 41 0f 1a 51 03    \tbndcu  0x3\\(%r9\\),%bnd2\n [ \t]*[a-f0-9]+:\tf2 0f 1a 50 03       \tbndcu  0x3\\(%rax\\),%bnd2\n+[ \t]*[a-f0-9]+:\tf2 0f 1a 15 33 33 00 00 \tbndcu  0x3333\\(%rip\\),%bnd2 ?.*\n [ \t]*[a-f0-9]+:\tf2 42 0f 1a 04 25 03 00 00 00 \tbndcu  0x3\\(,%r12,1\\),%bnd0\n [ \t]*[a-f0-9]+:\tf2 0f 1a 14 10       \tbndcu  \\(%rax,%rdx,1\\),%bnd2\n-[ \t]*[a-f0-9]+:\tf2 41 0f 1a 4c 03 03 \tbndcu  0x3\\(%r11,%rax,1\\),%bnd1\n+[ \t]*[a-f0-9]+:\tf2 41 0f 1a 4c 43 03 \tbndcu  0x3\\(%r11,%rax,2\\),%bnd1\n [ \t]*[a-f0-9]+:\tf2 42 0f 1a 4c 0b 03 \tbndcu  0x3\\(%rbx,%r9,1\\),%bnd1\n [ \t]*[a-f0-9]+:\tf2 41 0f 1b 0b       \tbndcn  \\(%r11\\),%bnd1\n [ \t]*[a-f0-9]+:\tf2 0f 1b 08          \tbndcn  \\(%rax\\),%bnd1\n@@ -65,9 +69,10 @@ Disassembly of section .text:\n [ \t]*[a-f0-9]+:\tf2 0f 1b 0c 25 99 03 00 00 \tbndcn  0x399,%bnd1\n [ \t]*[a-f0-9]+:\tf2 41 0f 1b 51 03    \tbndcn  0x3\\(%r9\\),%bnd2\n [ \t]*[a-f0-9]+:\tf2 0f 1b 50 03       \tbndcn  0x3\\(%rax\\),%bnd2\n+[ \t]*[a-f0-9]+:\tf2 0f 1b 15 33 33 00 00 \tbndcn  0x3333\\(%rip\\),%bnd2 ?.*\n [ \t]*[a-f0-9]+:\tf2 42 0f 1b 04 25 03 00 00 00 \tbndcn  0x3\\(,%r12,1\\),%bnd0\n [ \t]*[a-f0-9]+:\tf2 0f 1b 14 10       \tbndcn  \\(%rax,%rdx,1\\),%bnd2\n-[ \t]*[a-f0-9]+:\tf2 41 0f 1b 4c 03 03 \tbndcn  0x3\\(%r11,%rax,1\\),%bnd1\n+[ \t]*[a-f0-9]+:\tf2 41 0f 1b 4c 43 03 \tbndcn  0x3\\(%r11,%rax,2\\),%bnd1\n [ \t]*[a-f0-9]+:\tf2 42 0f 1b 4c 0b 03 \tbndcn  0x3\\(%rbx,%r9,1\\),%bnd1\n [ \t]*[a-f0-9]+:\t0f 1b 44 18 03       \tbndstx %bnd0,0x3\\(%rax,%rbx,1\\)\n [ \t]*[a-f0-9]+:\t0f 1b 54 13 03       \tbndstx %bnd2,0x3\\(%rbx,%rdx,1\\)\n@@ -85,11 +90,11 @@ Disassembly of section .text:\n [ \t]*[a-f0-9]+:\t0f 1a 14 1d 03 00 00 00 \tbndldx 0x3\\(,%rbx,1\\),%bnd2\n [ \t]*[a-f0-9]+:\t42 0f 1a 14 25 03 00 00 00 \tbndldx 0x3\\(,%r12,1\\),%bnd2\n [ \t]*[a-f0-9]+:\t0f 1a 0a             \tbndldx \\(%rdx\\),%bnd1\n-[ \t]*[a-f0-9]+:\tf2 e8 25 02 00 00    \tbnd call 416 <foo>\n+[ \t]*[a-f0-9]+:\tf2 e8 25 02 00 00    \tbnd call [0-9a-f]+ <foo>\n [ \t]*[a-f0-9]+:\tf2 ff 10             \tbnd call \\*\\(%rax\\)\n [ \t]*[a-f0-9]+:\tf2 41 ff 13          \tbnd call \\*\\(%r11\\)\n-[ \t]*[a-f0-9]+:\tf2 0f 84 17 02 00 00 \tbnd je 416 <foo>\n-[ \t]*[a-f0-9]+:\tf2 e9 11 02 00 00    \tbnd jmp 416 <foo>\n+[ \t]*[a-f0-9]+:\tf2 0f 84 17 02 00 00 \tbnd je [0-9a-f]+ <foo>\n+[ \t]*[a-f0-9]+:\tf2 e9 11 02 00 00    \tbnd jmp [0-9a-f]+ <foo>\n [ \t]*[a-f0-9]+:\tf2 ff 21             \tbnd jmp \\*\\(%rcx\\)\n [ \t]*[a-f0-9]+:\tf2 41 ff 24 24       \tbnd jmp \\*\\(%r12\\)\n [ \t]*[a-f0-9]+:\tf2 c3                \tbnd ret *\n@@ -171,11 +176,11 @@ Disassembly of section .text:\n [ \t]*[a-f0-9]+:\t0f 1a 14 1d 03 00 00 00 \tbndldx 0x3\\(,%rbx,1\\),%bnd2\n [ \t]*[a-f0-9]+:\t42 0f 1a 14 25 03 00 00 00 \tbndldx 0x3\\(,%r12,1\\),%bnd2\n [ \t]*[a-f0-9]+:\t0f 1a 0a             \tbndldx \\(%rdx\\),%bnd1\n-[ \t]*[a-f0-9]+:\tf2 e8 16 00 00 00    \tbnd call 416 <foo>\n+[ \t]*[a-f0-9]+:\tf2 e8 16 00 00 00    \tbnd call [0-9a-f]+ <foo>\n [ \t]*[a-f0-9]+:\tf2 ff d0             \tbnd call \\*%rax\n [ \t]*[a-f0-9]+:\tf2 41 ff d3          \tbnd call \\*%r11\n-[ \t]*[a-f0-9]+:\tf2 74 0c             \tbnd je 416 <foo>\n-[ \t]*[a-f0-9]+:\tf2 eb 09             \tbnd jmp 416 <foo>\n+[ \t]*[a-f0-9]+:\tf2 74 0c             \tbnd je [0-9a-f]+ <foo>\n+[ \t]*[a-f0-9]+:\tf2 eb 09             \tbnd jmp [0-9a-f]+ <foo>\n [ \t]*[a-f0-9]+:\tf2 ff e1             \tbnd jmp \\*%rcx\n [ \t]*[a-f0-9]+:\tf2 41 ff e4          \tbnd jmp \\*%r12\n [ \t]*[a-f0-9]+:\tf2 c3                \tbnd ret *"
    },
    {
      "sha": "b113590cf7619b1b5506874dc6cda17eab674f91",
      "filename": "gas/testsuite/gas/i386/x86-64-mpx.s",
      "status": "modified",
      "additions": 11,
      "deletions": 6,
      "changes": 17,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a152332d174e0a727c079fbaee933b43ac7d7696/gas/testsuite/gas/i386/x86-64-mpx.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a152332d174e0a727c079fbaee933b43ac7d7696/gas/testsuite/gas/i386/x86-64-mpx.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/x86-64-mpx.s?ref=a152332d174e0a727c079fbaee933b43ac7d7696",
      "patch": "@@ -10,7 +10,7 @@ start:\n \tbndmk 0x3(%rax), %bnd1\n \tbndmk 0x3(,%r12,1), %bnd1\n \tbndmk (%rax,%rcx), %bnd1\n-\tbndmk 0x3(%r11,%rax,1), %bnd1\n+\tbndmk 0x3(%r11,%rax,2), %bnd1\n \tbndmk 0x3(%rbx,%r9,1), %bnd1\n \n \t### bndmov\n@@ -19,9 +19,10 @@ start:\n \tbndmov (0x399), %bnd1\n \tbndmov 0x3(%r9), %bnd2\n \tbndmov 0x3(%rax), %bnd2\n+\tbndmov 0x3333(%rip), %bnd2\n \tbndmov 0x3(,%r12,1), %bnd0\n \tbndmov (%rax,%rdx), %bnd2\n-\tbndmov 0x3(%r11,%rax,1), %bnd1\n+\tbndmov 0x3(%r11,%rax,2), %bnd1\n \tbndmov 0x3(%rbx,%r9,1), %bnd1\n \tbndmov %bnd2, %bnd0\n \n@@ -30,9 +31,10 @@ start:\n \tbndmov %bnd1, (0x399)\n \tbndmov %bnd2, 0x3(%r9)\n \tbndmov %bnd2, 0x3(%rax)\n+\tbndmov %bnd2, 0x3333(%rip)\n \tbndmov %bnd0, 0x3(,%r12,1)\n \tbndmov %bnd2, (%rax,%rdx)\n-\tbndmov %bnd1, 0x3(%r11,%rax,1)\n+\tbndmov %bnd1, 0x3(%r11,%rax,2)\n \tbndmov %bnd1, 0x3(%rbx,%r9,1)\n \tbndmov %bnd0, %bnd2\n \n@@ -44,9 +46,10 @@ start:\n \tbndcl (0x399), %bnd1\n \tbndcl 0x3(%r9), %bnd2\n \tbndcl 0x3(%rax), %bnd2\n+\tbndcl 0x3333(%rip), %bnd2\n \tbndcl 0x3(,%r12,1), %bnd0\n \tbndcl (%rax,%rdx), %bnd2\n-\tbndcl 0x3(%r11,%rax,1), %bnd1\n+\tbndcl 0x3(%r11,%rax,2), %bnd1\n \tbndcl 0x3(%rbx,%r9,1), %bnd1\n \n \t### bndcu\n@@ -57,9 +60,10 @@ start:\n \tbndcu (0x399), %bnd1\n \tbndcu 0x3(%r9), %bnd2\n \tbndcu 0x3(%rax), %bnd2\n+\tbndcu 0x3333(%rip), %bnd2\n \tbndcu 0x3(,%r12,1), %bnd0\n \tbndcu (%rax,%rdx), %bnd2\n-\tbndcu 0x3(%r11,%rax,1), %bnd1\n+\tbndcu 0x3(%r11,%rax,2), %bnd1\n \tbndcu 0x3(%rbx,%r9,1), %bnd1\n \n \t### bndcn\n@@ -70,9 +74,10 @@ start:\n \tbndcn (0x399), %bnd1\n \tbndcn 0x3(%r9), %bnd2\n \tbndcn 0x3(%rax), %bnd2\n+\tbndcn 0x3333(%rip), %bnd2\n \tbndcn 0x3(,%r12,1), %bnd0\n \tbndcn (%rax,%rdx), %bnd2\n-\tbndcn 0x3(%r11,%rax,1), %bnd1\n+\tbndcn 0x3(%r11,%rax,2), %bnd1\n \tbndcn 0x3(%rbx,%r9,1), %bnd1\n \n \t### bndstx"
    }
  ]
}