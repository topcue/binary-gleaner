{
  "sha": "97a2a623d0193dbfc92d92545b63aaffd6099272",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6OTdhMmE2MjNkMDE5M2RiZmM5MmQ5MjU0NWI2M2FhZmZkNjA5OTI3Mg==",
  "commit": {
    "author": {
      "name": "Nick Alcock",
      "email": "nick.alcock@oracle.com",
      "date": "2020-11-20T13:34:04Z"
    },
    "committer": {
      "name": "Nick Alcock",
      "email": "nick.alcock@oracle.com",
      "date": "2020-11-20T13:34:12Z"
    },
    "message": "libctf, include: add ctf_getsymsect and ctf_getstrsect\n\nlibctf has long provided ctf_getdatasect, which hands back a pointer to\nthe CTF section a (read-only) dict came from.  But it has no such\nfunctions to return pointers to the ELF symbol table or string table\nit's working from, which is unfortunate because several libctf functions\n(ctf_open, ctf_fdopen, and ctf_bfdopen) figure out which string and\nsymbol table to use themselves, and don't tell the user what they\ndecided, so the caller can't agree on which symtab to use with libctf\neven if it wanted to.\n\nAdd a pair of functions to return the symtab and strtab in use.  Like\nctf_getdatasect, these return ctf_sect_t structures by value, filled\nwith all-NULL/0 content if a symtab or strtab is not being used.\n\ninclude/ChangeLog\n2020-11-20  Nick Alcock  <nick.alcock@oracle.com>\n\n\t* ctf-api.h (ctf_getsymsect): New.\n\t(ctf_getstrsect): Likewise.\n\nlibctf/ChangeLog\n2020-11-20  Nick Alcock  <nick.alcock@oracle.com>\n\n\t* ctf-open.c (ctf_getsymsect): New.\n\t(ctf_getstrsect): Likewise.\n\t* libctf.ver: Add them.",
    "tree": {
      "sha": "4467ff62484008adf7eb1596909465cd727201a9",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/4467ff62484008adf7eb1596909465cd727201a9"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/97a2a623d0193dbfc92d92545b63aaffd6099272",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/97a2a623d0193dbfc92d92545b63aaffd6099272",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/97a2a623d0193dbfc92d92545b63aaffd6099272",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/97a2a623d0193dbfc92d92545b63aaffd6099272/comments",
  "author": {
    "login": "nickalcock",
    "id": 6503005,
    "node_id": "MDQ6VXNlcjY1MDMwMDU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6503005?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nickalcock",
    "html_url": "https://github.com/nickalcock",
    "followers_url": "https://api.github.com/users/nickalcock/followers",
    "following_url": "https://api.github.com/users/nickalcock/following{/other_user}",
    "gists_url": "https://api.github.com/users/nickalcock/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nickalcock/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nickalcock/subscriptions",
    "organizations_url": "https://api.github.com/users/nickalcock/orgs",
    "repos_url": "https://api.github.com/users/nickalcock/repos",
    "events_url": "https://api.github.com/users/nickalcock/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nickalcock/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "nickalcock",
    "id": 6503005,
    "node_id": "MDQ6VXNlcjY1MDMwMDU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6503005?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nickalcock",
    "html_url": "https://github.com/nickalcock",
    "followers_url": "https://api.github.com/users/nickalcock/followers",
    "following_url": "https://api.github.com/users/nickalcock/following{/other_user}",
    "gists_url": "https://api.github.com/users/nickalcock/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nickalcock/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nickalcock/subscriptions",
    "organizations_url": "https://api.github.com/users/nickalcock/orgs",
    "repos_url": "https://api.github.com/users/nickalcock/repos",
    "events_url": "https://api.github.com/users/nickalcock/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nickalcock/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "2c78e92523a650c9cbd68130ce8a766570457cd6",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/2c78e92523a650c9cbd68130ce8a766570457cd6",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/2c78e92523a650c9cbd68130ce8a766570457cd6"
    }
  ],
  "stats": {
    "total": 28,
    "additions": 28,
    "deletions": 0
  },
  "files": [
    {
      "sha": "704c9af3ba8ce0a9ec4cfc706757ed6e4324f513",
      "filename": "include/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/97a2a623d0193dbfc92d92545b63aaffd6099272/include/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/97a2a623d0193dbfc92d92545b63aaffd6099272/include/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/include/ChangeLog?ref=97a2a623d0193dbfc92d92545b63aaffd6099272",
      "patch": "@@ -1,3 +1,8 @@\n+2020-11-20  Nick Alcock  <nick.alcock@oracle.com>\n+\n+\t* ctf-api.h (ctf_getsymsect): New.\n+\t(ctf_getstrsect): Likewise.\n+\n 2020-11-20  Nick Alcock  <nick.alcock@oracle.com>\n \n \t* ctf-api.h (ctf_arc_lookup_symbol): New."
    },
    {
      "sha": "8687475cc64843a0d3cf858508fbf0cd688f877f",
      "filename": "include/ctf-api.h",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/97a2a623d0193dbfc92d92545b63aaffd6099272/include/ctf-api.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/97a2a623d0193dbfc92d92545b63aaffd6099272/include/ctf-api.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/include/ctf-api.h?ref=97a2a623d0193dbfc92d92545b63aaffd6099272",
      "patch": "@@ -307,6 +307,8 @@ extern ctf_archive_t *ctf_open (const char *filename,\n \t\t\t\tconst char *target, int *errp);\n extern void ctf_close (ctf_archive_t *);\n extern ctf_sect_t ctf_getdatasect (const ctf_dict_t *);\n+extern ctf_sect_t ctf_getsymsect (const ctf_dict_t *);\n+extern ctf_sect_t ctf_getstrsect (const ctf_dict_t *);\n extern ctf_archive_t *ctf_get_arc (const ctf_dict_t *);\n extern ctf_archive_t *ctf_arc_open (const char *, int *);\n extern ctf_archive_t *ctf_arc_bufopen (const ctf_sect_t *,"
    },
    {
      "sha": "685c06a01420b6898efd066e1d1cd6bf7f8a36b8",
      "filename": "libctf/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/97a2a623d0193dbfc92d92545b63aaffd6099272/libctf/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/97a2a623d0193dbfc92d92545b63aaffd6099272/libctf/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/libctf/ChangeLog?ref=97a2a623d0193dbfc92d92545b63aaffd6099272",
      "patch": "@@ -1,3 +1,9 @@\n+2020-11-20  Nick Alcock  <nick.alcock@oracle.com>\n+\n+\t* ctf-open.c (ctf_getsymsect): New.\n+\t(ctf_getstrsect): Likewise.\n+\t* libctf.ver: Add them.\n+\n 2020-11-20  Nick Alcock  <nick.alcock@oracle.com>\n \n \t* ctf-impl.h (struct ctf_archive_internal) <ctfi_dicts>: New, dicts"
    },
    {
      "sha": "ecf27eeeb21da6ef6ecf5bd44c7bdc480154a3d7",
      "filename": "libctf/ctf-open.c",
      "status": "modified",
      "additions": 12,
      "deletions": 0,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/97a2a623d0193dbfc92d92545b63aaffd6099272/libctf/ctf-open.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/97a2a623d0193dbfc92d92545b63aaffd6099272/libctf/ctf-open.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/libctf/ctf-open.c?ref=97a2a623d0193dbfc92d92545b63aaffd6099272",
      "patch": "@@ -1854,6 +1854,18 @@ ctf_getdatasect (const ctf_dict_t *fp)\n   return fp->ctf_data;\n }\n \n+ctf_sect_t\n+ctf_getsymsect (const ctf_dict_t *fp)\n+{\n+  return fp->ctf_symtab;\n+}\n+\n+ctf_sect_t\n+ctf_getstrsect (const ctf_dict_t *fp)\n+{\n+  return fp->ctf_strtab;\n+}\n+\n /* Return the CTF handle for the parent CTF dict, if one exists.  Otherwise\n    return NULL to indicate this dict has no imported parent.  */\n ctf_dict_t *"
    },
    {
      "sha": "cfecc894350b0bed2b24e9263a8a61ade7c8ca83",
      "filename": "libctf/libctf.ver",
      "status": "modified",
      "additions": 3,
      "deletions": 0,
      "changes": 3,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/97a2a623d0193dbfc92d92545b63aaffd6099272/libctf/libctf.ver",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/97a2a623d0193dbfc92d92545b63aaffd6099272/libctf/libctf.ver",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/libctf/libctf.ver?ref=97a2a623d0193dbfc92d92545b63aaffd6099272",
      "patch": "@@ -190,4 +190,7 @@ LIBCTF_1.1 {\n \n \tctf_arc_lookup_symbol;\n \tctf_arc_flush_caches;\n+\n+\tctf_getsymsect;\n+\tctf_getstrsect;\n } LIBCTF_1.0;"
    }
  ]
}