{
  "sha": "eaf9738bedf8de68d4bf8eafd0689cf1973648aa",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ZWFmOTczOGJlZGY4ZGU2OGQ0YmY4ZWFmZDA2ODljZjE5NzM2NDhhYQ==",
  "commit": {
    "author": {
      "name": "Tom Tromey",
      "email": "tom@tromey.com",
      "date": "2019-06-22T17:55:33Z"
    },
    "committer": {
      "name": "Tom Tromey",
      "email": "tom@tromey.com",
      "date": "2019-06-25T13:48:48Z"
    },
    "message": "Turn tui_first_data_item_displayed into a method\n\ntui_first_data_item_displayed is only called from tui_data_window\nmethods, so turn it into a method as well.\n\ngdb/ChangeLog\n2019-06-25  Tom Tromey  <tom@tromey.com>\n\n\t* tui/tui-windata.h (tui_first_data_item_displayed): Don't\n\tdeclare.\n\t* tui/tui-windata.c (tui_data_window::first_data_item_displayed):\n\tRename from tui_first_data_item_displayed.  Update.\n\t(tui_data_window::refresh_all)\n\t(tui_data_window::do_scroll_vertical): Update.\n\t* tui/tui-data.h (struct tui_data_window)\n\t<first_data_item_displayed>: Declare new method.",
    "tree": {
      "sha": "ceae5d6add3849b6b47c847ddab9bf767719def3",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/ceae5d6add3849b6b47c847ddab9bf767719def3"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/eaf9738bedf8de68d4bf8eafd0689cf1973648aa",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/eaf9738bedf8de68d4bf8eafd0689cf1973648aa",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/eaf9738bedf8de68d4bf8eafd0689cf1973648aa",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/eaf9738bedf8de68d4bf8eafd0689cf1973648aa/comments",
  "author": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "31ca47237fed3db1d912127a386cad6ffbb06750",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/31ca47237fed3db1d912127a386cad6ffbb06750",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/31ca47237fed3db1d912127a386cad6ffbb06750"
    }
  ],
  "stats": {
    "total": 39,
    "additions": 23,
    "deletions": 16
  },
  "files": [
    {
      "sha": "02dac98b6c1491bb2767e60aaf9e5cb3287d40c3",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 11,
      "deletions": 0,
      "changes": 11,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/eaf9738bedf8de68d4bf8eafd0689cf1973648aa/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/eaf9738bedf8de68d4bf8eafd0689cf1973648aa/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=eaf9738bedf8de68d4bf8eafd0689cf1973648aa",
      "patch": "@@ -1,3 +1,14 @@\n+2019-06-25  Tom Tromey  <tom@tromey.com>\n+\n+\t* tui/tui-windata.h (tui_first_data_item_displayed): Don't\n+\tdeclare.\n+\t* tui/tui-windata.c (tui_data_window::first_data_item_displayed):\n+\tRename from tui_first_data_item_displayed.  Update.\n+\t(tui_data_window::refresh_all)\n+\t(tui_data_window::do_scroll_vertical): Update.\n+\t* tui/tui-data.h (struct tui_data_window)\n+\t<first_data_item_displayed>: Declare new method.\n+\n 2019-06-25  Tom Tromey  <tom@tromey.com>\n \n \t* tui/tui-data.h (tui_init_generic_part): Don't declare."
    },
    {
      "sha": "55d2cddabeefcb4ef0c7b58d7b01a38ccc0b6aa4",
      "filename": "gdb/tui/tui-data.h",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/eaf9738bedf8de68d4bf8eafd0689cf1973648aa/gdb/tui/tui-data.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/eaf9738bedf8de68d4bf8eafd0689cf1973648aa/gdb/tui/tui-data.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/tui/tui-data.h?ref=eaf9738bedf8de68d4bf8eafd0689cf1973648aa",
      "patch": "@@ -505,6 +505,10 @@ struct tui_data_window : public tui_win_info\n   {\n   }\n   void do_make_visible_with_new_height () override;\n+\n+  /* Return the index of the first element displayed.  If none are\n+     displayed, then return -1.  */\n+  int first_data_item_displayed ();\n };\n \n struct tui_cmd_window : public tui_win_info"
    },
    {
      "sha": "82436a31d92b41fb6ad53eb2942f1e01896f9aa8",
      "filename": "gdb/tui/tui-windata.c",
      "status": "modified",
      "additions": 8,
      "deletions": 15,
      "changes": 23,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/eaf9738bedf8de68d4bf8eafd0689cf1973648aa/gdb/tui/tui-windata.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/eaf9738bedf8de68d4bf8eafd0689cf1973648aa/gdb/tui/tui-windata.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/tui/tui-windata.c?ref=eaf9738bedf8de68d4bf8eafd0689cf1973648aa",
      "patch": "@@ -42,25 +42,18 @@\n /* Answer the index first element displayed.  If none are displayed,\n    then return (-1).  */\n int\n-tui_first_data_item_displayed (void)\n+tui_data_window::first_data_item_displayed ()\n {\n-  int element_no = (-1);\n-  int i;\n-\n-  for (i = 0; \n-       i < TUI_DATA_WIN->content_size && element_no < 0;\n-       i++)\n+  for (int i = 0; i < content_size; i++)\n     {\n       struct tui_gen_win_info *data_item_win;\n \n-      data_item_win\n-\t= TUI_DATA_WIN->content[i]->which_element.data_window;\n-      if (data_item_win->handle != NULL\n-\t  && data_item_win->is_visible)\n-\telement_no = i;\n+      data_item_win = content[i]->which_element.data_window;\n+      if (data_item_win->handle != NULL && data_item_win->is_visible)\n+\treturn i;\n     }\n \n-  return element_no;\n+  return -1;\n }\n \n \n@@ -198,7 +191,7 @@ tui_data_window::refresh_all ()\n   tui_erase_data_content (NULL);\n   if (content_size > 0)\n     {\n-      int first_element = tui_first_data_item_displayed ();\n+      int first_element = first_data_item_displayed ();\n \n       if (first_element >= 0)\t/* Re-use existing windows.  */\n \ttui_display_data_from (first_element, TRUE);\n@@ -248,7 +241,7 @@ tui_data_window::do_scroll_vertical (int num_to_scroll)\n   int first_element_no;\n   int first_line = (-1);\n \n-  first_element_no = tui_first_data_item_displayed ();\n+  first_element_no = first_data_item_displayed ();\n   if (first_element_no < regs_content_count)\n     first_line = tui_line_from_reg_element_no (first_element_no);\n   else"
    },
    {
      "sha": "4aa8cb0b38ca696d66fe58940d63faf97a919d93",
      "filename": "gdb/tui/tui-windata.h",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/eaf9738bedf8de68d4bf8eafd0689cf1973648aa/gdb/tui/tui-windata.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/eaf9738bedf8de68d4bf8eafd0689cf1973648aa/gdb/tui/tui-windata.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/tui/tui-windata.h?ref=eaf9738bedf8de68d4bf8eafd0689cf1973648aa",
      "patch": "@@ -28,7 +28,6 @@ extern void tui_erase_data_content (const char *);\n extern void tui_display_all_data (void);\n extern void tui_check_data_values (struct frame_info *);\n extern void tui_display_data_from_line (int);\n-extern int tui_first_data_item_displayed (void);\n extern void tui_delete_data_content_windows (void);\n extern void tui_refresh_data_win (void);\n extern void tui_display_data_from (int, int);"
    }
  ]
}