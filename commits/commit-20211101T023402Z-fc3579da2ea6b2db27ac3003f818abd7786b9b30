{
  "sha": "fc3579da2ea6b2db27ac3003f818abd7786b9b30",
  "node_id": "C_kwDOANOeidoAKGZjMzU3OWRhMmVhNmIyZGIyN2FjMzAwM2Y4MThhYmQ3Nzg2YjliMzA",
  "commit": {
    "author": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-11-01T00:40:01Z"
    },
    "committer": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-11-01T02:34:02Z"
    },
    "message": "sim: ppc: constify strings in igen tooling",
    "tree": {
      "sha": "2b6847277de08e6096435b14dec4ea565cb21fbb",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/2b6847277de08e6096435b14dec4ea565cb21fbb"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/fc3579da2ea6b2db27ac3003f818abd7786b9b30",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/fc3579da2ea6b2db27ac3003f818abd7786b9b30",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/fc3579da2ea6b2db27ac3003f818abd7786b9b30",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/fc3579da2ea6b2db27ac3003f818abd7786b9b30/comments",
  "author": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "e7360783aebee8e64402eac7a12163c0d2bb15b6",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/e7360783aebee8e64402eac7a12163c0d2bb15b6",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/e7360783aebee8e64402eac7a12163c0d2bb15b6"
    }
  ],
  "stats": {
    "total": 101,
    "additions": 51,
    "deletions": 50
  },
  "files": [
    {
      "sha": "f1da310b1c2467227824bf8aa71b87e18d93f8d0",
      "filename": "sim/ppc/filter.c",
      "status": "modified",
      "additions": 4,
      "deletions": 4,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/fc3579da2ea6b2db27ac3003f818abd7786b9b30/sim/ppc/filter.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/fc3579da2ea6b2db27ac3003f818abd7786b9b30/sim/ppc/filter.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ppc/filter.c?ref=fc3579da2ea6b2db27ac3003f818abd7786b9b30",
      "patch": "@@ -40,8 +40,8 @@ new_filter(const char *filt,\n   while (strlen(filt) > 0) {\n     filter *new_filter;\n     /* break up the filt list */\n-    char *end = strchr(filt, ',');\n-    char *next;\n+    const char *end = strchr(filt, ',');\n+    const char *next;\n     int len;\n     if (end == NULL) {\n       end = strchr(filt, '\\0');\n@@ -71,8 +71,8 @@ is_filtered_out(const char *flags,\n     int present;\n     filter *filt = filters;\n     /* break the string up */\n-    char *end = strchr(flags, ',');\n-    char *next;\n+    const char *end = strchr(flags, ',');\n+    const char *next;\n     int len;\n     if (end == NULL) {\n       end = strchr(flags, '\\0');"
    },
    {
      "sha": "4efc7392705a19756b9fad812dcbd17ad5356036",
      "filename": "sim/ppc/gen-icache.c",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/fc3579da2ea6b2db27ac3003f818abd7786b9b30/sim/ppc/gen-icache.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/fc3579da2ea6b2db27ac3003f818abd7786b9b30/sim/ppc/gen-icache.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ppc/gen-icache.c?ref=fc3579da2ea6b2db27ac3003f818abd7786b9b30",
      "patch": "@@ -366,14 +366,14 @@ print_icache_body(lf *file,\n \n typedef struct _icache_tree icache_tree;\n struct _icache_tree {\n-  char *name;\n+  const char *name;\n   icache_tree *next;\n   icache_tree *children;\n };\n \n static icache_tree *\n icache_tree_insert(icache_tree *tree,\n-\t\t   char *name)\n+\t\t   const char *name)\n {\n   icache_tree *new_tree;\n   /* find it */"
    },
    {
      "sha": "97ff91a888d1dea181c2c9fafc5aa173554c6bd4",
      "filename": "sim/ppc/gen-itable.c",
      "status": "modified",
      "additions": 6,
      "deletions": 6,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/fc3579da2ea6b2db27ac3003f818abd7786b9b30/sim/ppc/gen-itable.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/fc3579da2ea6b2db27ac3003f818abd7786b9b30/sim/ppc/gen-itable.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ppc/gen-itable.c?ref=fc3579da2ea6b2db27ac3003f818abd7786b9b30",
      "patch": "@@ -64,12 +64,12 @@ gen_itable_h(insn_table *table, lf *file)\n   /* output the table that contains the actual instruction info */\n   lf_printf(file, \"typedef struct _itable_instruction_info {\\n\");\n   lf_printf(file, \"  itable_index nr;\\n\");\n-  lf_printf(file, \"  char *format;\\n\");\n-  lf_printf(file, \"  char *form;\\n\");\n-  lf_printf(file, \"  char *flags;\\n\");\n-  lf_printf(file, \"  char *mnemonic;\\n\");\n-  lf_printf(file, \"  char *name;\\n\");\n-  lf_printf(file, \"  char *file;\\n\");\n+  lf_printf(file, \"  const char *format;\\n\");\n+  lf_printf(file, \"  const char *form;\\n\");\n+  lf_printf(file, \"  const char *flags;\\n\");\n+  lf_printf(file, \"  const char *mnemonic;\\n\");\n+  lf_printf(file, \"  const char *name;\\n\");\n+  lf_printf(file, \"  const char *file;\\n\");\n   lf_printf(file, \"  int line_nr;\\n\");\n   lf_printf(file, \"} itable_info;\\n\");\n   lf_printf(file, \"\\n\");"
    },
    {
      "sha": "a8bcc66e9f14773983c596b94a2cecaf52ca3ad0",
      "filename": "sim/ppc/gen-model.c",
      "status": "modified",
      "additions": 4,
      "deletions": 4,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/fc3579da2ea6b2db27ac3003f818abd7786b9b30/sim/ppc/gen-model.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/fc3579da2ea6b2db27ac3003f818abd7786b9b30/sim/ppc/gen-model.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ppc/gen-model.c?ref=fc3579da2ea6b2db27ac3003f818abd7786b9b30",
      "patch": "@@ -48,7 +48,7 @@ static void\n model_c_or_h_function(insn_table *entry,\n \t\t      lf *file,\n \t\t      table_entry *function,\n-\t\t      char *prefix)\n+\t\t      const char *prefix)\n {\n   if (function->fields[function_type] == NULL\n       || function->fields[function_type][0] == '\\0') {\n@@ -68,7 +68,7 @@ gen_model_h(insn_table *table, lf *file)\n   insn *insn_ptr;\n   model *model_ptr;\n   insn *macro;\n-  char *name;\n+  const char *name;\n   int model_create_p = 0;\n   int model_init_p = 0;\n   int model_halt_p = 0;\n@@ -174,7 +174,7 @@ model_c_insn(insn_table *entry,\n {\n   model_c_passed_data *data_ptr = (model_c_passed_data *)data;\n   lf *file = data_ptr->file;\n-  char *current_name = data_ptr->model_ptr->printable_name;\n+  const char *current_name = data_ptr->model_ptr->printable_name;\n   table_model_entry *model_ptr = instruction->file_entry->model_first;\n \n   while (model_ptr) {\n@@ -229,7 +229,7 @@ gen_model_c(insn_table *table, lf *file)\n {\n   insn *insn_ptr;\n   model *model_ptr;\n-  char *name;\n+  const char *name;\n   int model_create_p = 0;\n   int model_init_p = 0;\n   int model_halt_p = 0;"
    },
    {
      "sha": "f57f7db650a04d5eb7e53985cce529d97ff9b814",
      "filename": "sim/ppc/ld-cache.c",
      "status": "modified",
      "additions": 5,
      "deletions": 4,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/fc3579da2ea6b2db27ac3003f818abd7786b9b30/sim/ppc/ld-cache.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/fc3579da2ea6b2db27ac3003f818abd7786b9b30/sim/ppc/ld-cache.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ppc/ld-cache.c?ref=fc3579da2ea6b2db27ac3003f818abd7786b9b30",
      "patch": "@@ -42,9 +42,10 @@ static const name_map cache_type_map[] = {\n \n \n void\n-append_cache_rule (cache_table **table, char *type, char *field_name,\n-\t\t   char *derived_name, char *type_def,\n-\t\t   char *expression, table_entry *file_entry)\n+append_cache_rule (cache_table **table, const char *type,\n+\t\t   const char *field_name, const char *derived_name,\n+\t\t   const char *type_def, const char *expression,\n+\t\t   table_entry *file_entry)\n {\n   while ((*table) != NULL)\n     table = &(*table)->next;\n@@ -60,7 +61,7 @@ append_cache_rule (cache_table **table, char *type, char *field_name,\n \n \n cache_table *\n-load_cache_table(char *file_name,\n+load_cache_table(const char *file_name,\n \t\t int hi_bit_nr)\n {\n   table *file = table_open(file_name, nr_cache_rule_fields, 0);"
    },
    {
      "sha": "ca4f6f6f91ec8cddb589820ad8aa85279dd8a43d",
      "filename": "sim/ppc/ld-cache.h",
      "status": "modified",
      "additions": 10,
      "deletions": 10,
      "changes": 20,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/fc3579da2ea6b2db27ac3003f818abd7786b9b30/sim/ppc/ld-cache.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/fc3579da2ea6b2db27ac3003f818abd7786b9b30/sim/ppc/ld-cache.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ppc/ld-cache.h?ref=fc3579da2ea6b2db27ac3003f818abd7786b9b30",
      "patch": "@@ -66,25 +66,25 @@ typedef enum {\n typedef struct _cache_table cache_table;\n struct _cache_table {\n   cache_rule_type type;\n-  char *field_name;\n-  char *derived_name;\n-  char *type_def;\n-  char *expression;\n+  const char *field_name;\n+  const char *derived_name;\n+  const char *type_def;\n+  const char *expression;\n   table_entry *file_entry;\n   cache_table *next;\n };\n \n \n extern cache_table *load_cache_table\n-(char *file_name,\n+(const char *file_name,\n  int hi_bit_nr);\n \n extern void append_cache_rule\n (cache_table **table,\n- char *type,\n- char *field_name,\n- char *derived_name,\n- char *type_def,\n- char *expression,\n+ const char *type,\n+ const char *field_name,\n+ const char *derived_name,\n+ const char *type_def,\n+ const char *expression,\n  table_entry *file_entry);\n "
    },
    {
      "sha": "68d9f5f4f52d20dac155f03249e4806840cde3aa",
      "filename": "sim/ppc/ld-decode.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/fc3579da2ea6b2db27ac3003f818abd7786b9b30/sim/ppc/ld-decode.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/fc3579da2ea6b2db27ac3003f818abd7786b9b30/sim/ppc/ld-decode.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ppc/ld-decode.c?ref=fc3579da2ea6b2db27ac3003f818abd7786b9b30",
      "patch": "@@ -70,7 +70,7 @@ force_decode_gen_type(const char *type)\n \n \n decode_table *\n-load_decode_table(char *file_name,\n+load_decode_table(const char *file_name,\n \t\t  int hi_bit_nr)\n {\n   table *file = table_open(file_name, nr_decode_fields, 0);"
    },
    {
      "sha": "4332dccb3aca9b60f7af8cfbff7c6a9d6eaa96f7",
      "filename": "sim/ppc/ld-decode.h",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/fc3579da2ea6b2db27ac3003f818abd7786b9b30/sim/ppc/ld-decode.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/fc3579da2ea6b2db27ac3003f818abd7786b9b30/sim/ppc/ld-decode.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ppc/ld-decode.h?ref=fc3579da2ea6b2db27ac3003f818abd7786b9b30",
      "patch": "@@ -134,7 +134,7 @@ extern void force_decode_gen_type\n (const char *type);\n \n extern decode_table *load_decode_table\n-(char *file_name,\n+(const char *file_name,\n  int hi_bit_nr);\n \n extern void dump_decode_rule"
    },
    {
      "sha": "3910af3fdf67f6ff84711babf6260060021b7c92",
      "filename": "sim/ppc/ld-insn.c",
      "status": "modified",
      "additions": 8,
      "deletions": 8,
      "changes": 16,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/fc3579da2ea6b2db27ac3003f818abd7786b9b30/sim/ppc/ld-insn.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/fc3579da2ea6b2db27ac3003f818abd7786b9b30/sim/ppc/ld-insn.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ppc/ld-insn.c?ref=fc3579da2ea6b2db27ac3003f818abd7786b9b30",
      "patch": "@@ -77,9 +77,9 @@ insn_table_depth(insn_table *table)\n \n static insn_fields *\n parse_insn_format(table_entry *entry,\n-\t\t  char *format)\n+\t\t  const char *format)\n {\n-  char *chp;\n+  const char *chp;\n   insn_fields *fields = ZALLOC(insn_fields);\n \n   /* create a leading sentinal */\n@@ -102,8 +102,8 @@ parse_insn_format(table_entry *entry,\n   chp = format;\n \n   while (*chp != '\\0') {\n-    char *start_pos;\n-    char *start_val;\n+    const char *start_pos;\n+    const char *start_val;\n     int strlen_val;\n     int strlen_pos;\n     insn_field *new_field;\n@@ -208,7 +208,7 @@ parse_insn_format(table_entry *entry,\n }\n \n \n-void\n+static void\n parse_include_entry (table *file,\n                      table_entry *file_entry,\n \t\t     filter *filters,\n@@ -304,7 +304,7 @@ insn_table_insert_insn(insn_table *table,\n   /* Check out any model information returned to make sure the model\n      is correct.  */\n   for(insn_model_ptr = file_entry->model_first; insn_model_ptr; insn_model_ptr = insn_model_ptr->next) {\n-    char *name = insn_model_ptr->fields[insn_model_name];\n+    const char *name = insn_model_ptr->fields[insn_model_name];\n     int len = strlen (insn_model_ptr->fields[insn_model_fields]);\n \n     while (len > 0 && isspace(*insn_model_ptr->fields[insn_model_fields])) {\n@@ -544,10 +544,10 @@ insn_field_is_constant(insn_field *field,\n     return field_constant_slash;\n   /* field, though variable is on the list */\n   if (field->is_string && rule->force_expansion != NULL) {\n-    char *forced_fields = rule->force_expansion;\n+    const char *forced_fields = rule->force_expansion;\n     while (*forced_fields != '\\0') {\n       int field_len;\n-      char *end = strchr(forced_fields, ',');\n+      const char *end = strchr(forced_fields, ',');\n       if (end == NULL)\n \tfield_len = strlen(forced_fields);\n       else"
    },
    {
      "sha": "c40de5b5c5dbaa72d3ba29d79c3f8eb0096f0e12",
      "filename": "sim/ppc/lf.c",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/fc3579da2ea6b2db27ac3003f818abd7786b9b30/sim/ppc/lf.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/fc3579da2ea6b2db27ac3003f818abd7786b9b30/sim/ppc/lf.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ppc/lf.c?ref=fc3579da2ea6b2db27ac3003f818abd7786b9b30",
      "patch": "@@ -42,8 +42,8 @@ struct _lf {\n \n \n lf *\n-lf_open(char *name,\n-\tchar *real_name,\n+lf_open(const char *name,\n+\tconst char *real_name,\n \tlf_file_references references,\n \tlf_file_type type,\n \tconst char *program)"
    },
    {
      "sha": "f1c41a93c44256edcf7a6efa3d8b9c888740a85c",
      "filename": "sim/ppc/lf.h",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/fc3579da2ea6b2db27ac3003f818abd7786b9b30/sim/ppc/lf.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/fc3579da2ea6b2db27ac3003f818abd7786b9b30/sim/ppc/lf.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ppc/lf.h?ref=fc3579da2ea6b2db27ac3003f818abd7786b9b30",
      "patch": "@@ -42,8 +42,8 @@ typedef enum {\n    suppressed with LINE_NUMBERS */\n \n extern lf *lf_open\n-(char *name,\n- char *real_name,\n+(const char *name,\n+ const char *real_name,\n  lf_file_references file_references,\n  lf_file_type type,\n  const char *program);"
    },
    {
      "sha": "8f2581e3ef32b6d10713ea5a9310290b9ece859a",
      "filename": "sim/ppc/misc.c",
      "status": "modified",
      "additions": 4,
      "deletions": 4,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/fc3579da2ea6b2db27ac3003f818abd7786b9b30/sim/ppc/misc.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/fc3579da2ea6b2db27ac3003f818abd7786b9b30/sim/ppc/misc.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ppc/misc.c?ref=fc3579da2ea6b2db27ac3003f818abd7786b9b30",
      "patch": "@@ -29,7 +29,7 @@\n #include <string.h>\n \n void\n-error (char *msg, ...)\n+error (const char *msg, ...)\n {\n   va_list ap;\n   va_start(ap, msg);\n@@ -49,7 +49,7 @@ zalloc(long size)\n }\n \n void\n-dumpf (int indent, char *msg, ...)\n+dumpf (int indent, const char *msg, ...)\n {\n   va_list ap;\n   for (; indent > 0; indent--)\n@@ -159,8 +159,8 @@ name2i(const char *names,\n   const char *name = names;\n   while (*name != '\\0') {\n     /* find our name */\n-    char *end = strchr(name, ',');\n-    char *next;\n+    const char *end = strchr(name, ',');\n+    const char *next;\n     int len;\n     if (end == NULL) {\n       end = strchr(name, '\\0');"
    },
    {
      "sha": "784ccfdd37b968f8ea3065f8e79ba2e896c2243a",
      "filename": "sim/ppc/misc.h",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/fc3579da2ea6b2db27ac3003f818abd7786b9b30/sim/ppc/misc.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/fc3579da2ea6b2db27ac3003f818abd7786b9b30/sim/ppc/misc.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ppc/misc.h?ref=fc3579da2ea6b2db27ac3003f818abd7786b9b30",
      "patch": "@@ -31,7 +31,7 @@\n #include \"filter_filename.h\"\n \n extern void error\n-(char *msg, ...);\n+(const char *msg, ...);\n \n #define ASSERT(EXPRESSION) \\\n do { \\\n@@ -48,7 +48,7 @@ extern void *zalloc\n (long size);\n \n extern void dumpf\n-(int indent, char *msg, ...);\n+(int indent, const char *msg, ...);\n \n extern unsigned target_a2i\n (int ms_bit_nr,"
    }
  ]
}