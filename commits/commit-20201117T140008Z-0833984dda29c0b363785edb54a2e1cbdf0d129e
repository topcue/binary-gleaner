{
  "sha": "0833984dda29c0b363785edb54a2e1cbdf0d129e",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MDgzMzk4NGRkYTI5YzBiMzYzNzg1ZWRiNTRhMmUxY2JkZjBkMTI5ZQ==",
  "commit": {
    "author": {
      "name": "Howard Chu",
      "email": "hyc@symas.com",
      "date": "2020-11-17T14:00:08Z"
    },
    "committer": {
      "name": "Nick Clifton",
      "email": "nickc@redhat.com",
      "date": "2020-11-17T14:00:08Z"
    },
    "message": "Place the libdeps record in the second archive slot.\n\n\t* ar.c (main): Place the libdeps record in the second archive\n\tslot.",
    "tree": {
      "sha": "3b15f58038bfc8808ee68ae157020c8fde9419ad",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/3b15f58038bfc8808ee68ae157020c8fde9419ad"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/0833984dda29c0b363785edb54a2e1cbdf0d129e",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/0833984dda29c0b363785edb54a2e1cbdf0d129e",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/0833984dda29c0b363785edb54a2e1cbdf0d129e",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/0833984dda29c0b363785edb54a2e1cbdf0d129e/comments",
  "author": {
    "login": "hyc",
    "id": 306354,
    "node_id": "MDQ6VXNlcjMwNjM1NA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/306354?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hyc",
    "html_url": "https://github.com/hyc",
    "followers_url": "https://api.github.com/users/hyc/followers",
    "following_url": "https://api.github.com/users/hyc/following{/other_user}",
    "gists_url": "https://api.github.com/users/hyc/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hyc/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hyc/subscriptions",
    "organizations_url": "https://api.github.com/users/hyc/orgs",
    "repos_url": "https://api.github.com/users/hyc/repos",
    "events_url": "https://api.github.com/users/hyc/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hyc/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "nickclifton",
    "id": 31441682,
    "node_id": "MDQ6VXNlcjMxNDQxNjgy",
    "avatar_url": "https://avatars.githubusercontent.com/u/31441682?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nickclifton",
    "html_url": "https://github.com/nickclifton",
    "followers_url": "https://api.github.com/users/nickclifton/followers",
    "following_url": "https://api.github.com/users/nickclifton/following{/other_user}",
    "gists_url": "https://api.github.com/users/nickclifton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nickclifton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nickclifton/subscriptions",
    "organizations_url": "https://api.github.com/users/nickclifton/orgs",
    "repos_url": "https://api.github.com/users/nickclifton/repos",
    "events_url": "https://api.github.com/users/nickclifton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nickclifton/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "4e0e019fa8eda9b7ffe0615133f55e9b0b882fa1",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/4e0e019fa8eda9b7ffe0615133f55e9b0b882fa1",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/4e0e019fa8eda9b7ffe0615133f55e9b0b882fa1"
    }
  ],
  "stats": {
    "total": 24,
    "additions": 16,
    "deletions": 8
  },
  "files": [
    {
      "sha": "2124c59aa6bc611bfbede82344653014db1cd295",
      "filename": "binutils/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/0833984dda29c0b363785edb54a2e1cbdf0d129e/binutils/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/0833984dda29c0b363785edb54a2e1cbdf0d129e/binutils/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/ChangeLog?ref=0833984dda29c0b363785edb54a2e1cbdf0d129e",
      "patch": "@@ -1,3 +1,8 @@\n+2020-11-17  Howard Chu  <hyc@symas.com>\n+\n+\t* ar.c (main): Place the libdeps record in the second archive\n+\tslot.\n+\n 2020-11-13  Nick Clifton  <nickc@redhat.com>\n \n \tPR 26829"
    },
    {
      "sha": "7d279d6722a42a4a4fd0976adbbcc8fb8c4aefa8",
      "filename": "binutils/ar.c",
      "status": "modified",
      "additions": 11,
      "deletions": 8,
      "changes": 19,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/0833984dda29c0b363785edb54a2e1cbdf0d129e/binutils/ar.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/0833984dda29c0b363785edb54a2e1cbdf0d129e/binutils/ar.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/ar.c?ref=0833984dda29c0b363785edb54a2e1cbdf0d129e",
      "patch": "@@ -890,13 +890,16 @@ main (int argc, char **argv)\n \t  if (bfd_find_target (plugin_target, libdeps_bfd) == NULL)\n \t    fatal (_(\"Cannot reset libdeps record type.\"));\n \n-\t  /* Append our libdeps record to the list of files\n-\t     being operated on.  */\n+\t  /* Insert our libdeps record in 2nd slot of the list of files\n+\t     being operated on.  We shouldn't use 1st slot, but we want\n+\t     to avoid having to search all the way to the end of an\n+\t     archive with a large number of members at link time.  */\n \t  new_files = xmalloc ((file_count + 2) * sizeof (char *));\n-\t  for (i = 0; i < file_count; i++)\n-\t    new_files[i] = files[i];\n-\t  new_files[i++] = LIBDEPS;\n-\t  file_count = i;\n+\t  new_files[0] = files[0];\n+\t  new_files[1] = LIBDEPS;\n+\t  for (i = 1; i < file_count; i++)\n+\t    new_files[i+1] = files[i];\n+\t  file_count = ++i;\n \t  files = new_files;\n \t  files[i] = NULL;\n \t}\n@@ -1135,7 +1138,7 @@ open_output_file (bfd * abfd)\n \t\t output_filename, base);\n       output_filename = base;\n     }\n-  \n+\n   if (output_dir)\n     {\n       size_t len = strlen (output_dir);\n@@ -1152,7 +1155,7 @@ open_output_file (bfd * abfd)\n \n   if (verbose)\n     printf (\"x - %s\\n\", output_filename);\n-  \n+\n   FILE * ostream = fopen (output_filename, FOPEN_WB);\n   if (ostream == NULL)\n     {"
    }
  ]
}