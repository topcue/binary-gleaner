{
  "sha": "ca8775833bb6af8eb4333f41e4f8672df0ead874",
  "node_id": "C_kwDOANOeidoAKGNhODc3NTgzM2JiNmFmOGViNDMzM2Y0MWU0Zjg2NzJkZjBlYWQ4NzQ",
  "commit": {
    "author": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2021-11-05T10:56:16Z"
    },
    "committer": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2021-11-05T11:02:02Z"
    },
    "message": "PR28541, unstable cie offset in the output of readelf\n\nCalculating \"0 - pointer\" can indeed result in seeming randomness as\nthe pointer address varies.\n\n\tPR 28541\n\t* dwarf.c (display_debug_frames): Don't print cie offset when\n\tinvalid, print \"invalid\" instead.  Remove now redundant warning.",
    "tree": {
      "sha": "baec327f0c07ef4f4b056380ec752936df9a74ed",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/baec327f0c07ef4f4b056380ec752936df9a74ed"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/ca8775833bb6af8eb4333f41e4f8672df0ead874",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/ca8775833bb6af8eb4333f41e4f8672df0ead874",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/ca8775833bb6af8eb4333f41e4f8672df0ead874",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/ca8775833bb6af8eb4333f41e4f8672df0ead874/comments",
  "author": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "109c1107c4394f0e85fa905ecb369f40d36fbef4",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/109c1107c4394f0e85fa905ecb369f40d36fbef4",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/109c1107c4394f0e85fa905ecb369f40d36fbef4"
    }
  ],
  "stats": {
    "total": 17,
    "additions": 11,
    "deletions": 6
  },
  "files": [
    {
      "sha": "d80235fb206a4305a1b30f16db03cc03a432c8f3",
      "filename": "binutils/dwarf.c",
      "status": "modified",
      "additions": 11,
      "deletions": 6,
      "changes": 17,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ca8775833bb6af8eb4333f41e4f8672df0ead874/binutils/dwarf.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ca8775833bb6af8eb4333f41e4f8672df0ead874/binutils/dwarf.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/dwarf.c?ref=ca8775833bb6af8eb4333f41e4f8672df0ead874",
      "patch": "@@ -8777,9 +8777,6 @@ display_debug_frames (struct dwarf_section *section,\n \n \t  if (!cie)\n \t    {\n-\t      warn (\"Invalid CIE pointer 0x%s in FDE at %#08lx\\n\",\n-\t\t    dwarf_vmatoa_1 (NULL, cie_id, offset_size),\n-\t\t    (unsigned long) (saved_start - section_start));\n \t      fc->ncols = 0;\n \t      fc->col_type = (short int *) xmalloc (sizeof (short int));\n \t      fc->col_offset = (int *) xmalloc (sizeof (int));\n@@ -8862,12 +8859,20 @@ display_debug_frames (struct dwarf_section *section,\n \t      start += augmentation_data_len;\n \t    }\n \n-\t  printf (\"\\n%08lx %s %s FDE cie=%08lx pc=\",\n+\t  printf (\"\\n%08lx %s %s FDE \",\n \t\t  (unsigned long)(saved_start - section_start),\n \t\t  dwarf_vmatoa_1 (NULL, length, fc->ptr_size),\n-\t\t  dwarf_vmatoa_1 (NULL, cie_id, offset_size),\n-\t\t  (unsigned long)(cie->chunk_start - section_start));\n+\t\t  dwarf_vmatoa_1 (NULL, cie_id, offset_size));\n \n+\t  if (cie->chunk_start)\n+\t    printf (\"cie=%08lx\",\n+\t\t    (unsigned long) (cie->chunk_start - section_start));\n+\t  else\n+\t    /* Ideally translate \"invalid \" to 8 chars, trailing space\n+\t       is optional.  */\n+\t    printf (_(\"cie=invalid \"));\n+\n+\t  printf (\" pc=\");\n \t  if (fc->segment_size)\n \t    printf (\"%04lx:\", segment_selector);\n "
    }
  ]
}