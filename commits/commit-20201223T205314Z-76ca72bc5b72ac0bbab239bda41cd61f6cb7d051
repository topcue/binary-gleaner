{
  "sha": "76ca72bc5b72ac0bbab239bda41cd61f6cb7d051",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NzZjYTcyYmM1YjcyYWMwYmJhYjIzOWJkYTQxY2Q2MWY2Y2I3ZDA1MQ==",
  "commit": {
    "author": {
      "name": "Andrew Burgess",
      "email": "andrew.burgess@embecosm.com",
      "date": "2020-10-20T12:41:18Z"
    },
    "committer": {
      "name": "Andrew Burgess",
      "email": "andrew.burgess@embecosm.com",
      "date": "2020-12-23T20:53:14Z"
    },
    "message": "gdb: remove LA_EMIT_CHAR macro\n\nNow that every use of the LA_EMIT_CHAR macro is within a language_defn\nmember function we can simply call the emitchar member function\ndirectly instead of using the LA_EMIT_CHAR macro.\n\nIf we are ever inside a language object, for example, cplus_language,\nwhile current_language points at something other than cplus_language\nthen this commit will result in a change in behaviour.  However, I\nbelieve if we did have such a difference then this would be a bug in\nGDB.  AS such I'm going to claim there _should_ be no user visible\nchanges from this commit.\n\ngdb/ChangeLog:\n\n\t* c-lang.c (language_defn::printchar): Call emitchar, not\n\tLA_EMIT_CHAR.\n\t* f-lang.h (f_language::printchar): Likewise.\n\t* language.h (LA_EMIT_CHAR): Delete macro.\n\t* rust-lang.c (rust_language::printchar): Call emitchar, not\n\tLA_EMIT_CHAR.",
    "tree": {
      "sha": "b2d64c1c54b6af4d5d0d8dcf2bcc64e8a4c000be",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/b2d64c1c54b6af4d5d0d8dcf2bcc64e8a4c000be"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/76ca72bc5b72ac0bbab239bda41cd61f6cb7d051",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/76ca72bc5b72ac0bbab239bda41cd61f6cb7d051",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/76ca72bc5b72ac0bbab239bda41cd61f6cb7d051",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/76ca72bc5b72ac0bbab239bda41cd61f6cb7d051/comments",
  "author": {
    "login": "T-J-Teru",
    "id": 475372,
    "node_id": "MDQ6VXNlcjQ3NTM3Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/475372?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/T-J-Teru",
    "html_url": "https://github.com/T-J-Teru",
    "followers_url": "https://api.github.com/users/T-J-Teru/followers",
    "following_url": "https://api.github.com/users/T-J-Teru/following{/other_user}",
    "gists_url": "https://api.github.com/users/T-J-Teru/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/T-J-Teru/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/T-J-Teru/subscriptions",
    "organizations_url": "https://api.github.com/users/T-J-Teru/orgs",
    "repos_url": "https://api.github.com/users/T-J-Teru/repos",
    "events_url": "https://api.github.com/users/T-J-Teru/events{/privacy}",
    "received_events_url": "https://api.github.com/users/T-J-Teru/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "T-J-Teru",
    "id": 475372,
    "node_id": "MDQ6VXNlcjQ3NTM3Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/475372?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/T-J-Teru",
    "html_url": "https://github.com/T-J-Teru",
    "followers_url": "https://api.github.com/users/T-J-Teru/followers",
    "following_url": "https://api.github.com/users/T-J-Teru/following{/other_user}",
    "gists_url": "https://api.github.com/users/T-J-Teru/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/T-J-Teru/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/T-J-Teru/subscriptions",
    "organizations_url": "https://api.github.com/users/T-J-Teru/orgs",
    "repos_url": "https://api.github.com/users/T-J-Teru/repos",
    "events_url": "https://api.github.com/users/T-J-Teru/events{/privacy}",
    "received_events_url": "https://api.github.com/users/T-J-Teru/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "c5ee319e6cc7a02d35871896e8205e1f782fbc00",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/c5ee319e6cc7a02d35871896e8205e1f782fbc00",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/c5ee319e6cc7a02d35871896e8205e1f782fbc00"
    }
  ],
  "stats": {
    "total": 17,
    "additions": 12,
    "deletions": 5
  },
  "files": [
    {
      "sha": "d751b0da196f3c7b2507a408ad39d0cf074a2965",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 9,
      "deletions": 0,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/76ca72bc5b72ac0bbab239bda41cd61f6cb7d051/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/76ca72bc5b72ac0bbab239bda41cd61f6cb7d051/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=76ca72bc5b72ac0bbab239bda41cd61f6cb7d051",
      "patch": "@@ -1,3 +1,12 @@\n+2020-12-23  Andrew Burgess  <andrew.burgess@embecosm.com>\n+\n+\t* c-lang.c (language_defn::printchar): Call emitchar, not\n+\tLA_EMIT_CHAR.\n+\t* f-lang.h (f_language::printchar): Likewise.\n+\t* language.h (LA_EMIT_CHAR): Delete macro.\n+\t* rust-lang.c (rust_language::printchar): Call emitchar, not\n+\tLA_EMIT_CHAR.\n+\n 2020-12-23  Andrew Burgess  <andrew.burgess@embecosm.com>\n \n \t* c-lang.c (c_printchar): Rename to..."
    },
    {
      "sha": "c840761d0d8a5afdd798674e7d8e0791a1cca528",
      "filename": "gdb/c-lang.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/76ca72bc5b72ac0bbab239bda41cd61f6cb7d051/gdb/c-lang.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/76ca72bc5b72ac0bbab239bda41cd61f6cb7d051/gdb/c-lang.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/c-lang.c?ref=76ca72bc5b72ac0bbab239bda41cd61f6cb7d051",
      "patch": "@@ -178,7 +178,7 @@ language_defn::printchar (int c, struct type *type,\n     }\n \n   fputc_filtered ('\\'', stream);\n-  LA_EMIT_CHAR (c, type, stream, '\\'');\n+  emitchar (c, type, stream, '\\'');\n   fputc_filtered ('\\'', stream);\n }\n "
    },
    {
      "sha": "51ee6f67d0734ee040b33a1ce945872054a6d783",
      "filename": "gdb/f-lang.h",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/76ca72bc5b72ac0bbab239bda41cd61f6cb7d051/gdb/f-lang.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/76ca72bc5b72ac0bbab239bda41cd61f6cb7d051/gdb/f-lang.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/f-lang.h?ref=76ca72bc5b72ac0bbab239bda41cd61f6cb7d051",
      "patch": "@@ -155,7 +155,7 @@ class f_language : public language_defn\n \t\t  struct ui_file *stream) const override\n   {\n     fputs_filtered (\"'\", stream);\n-    LA_EMIT_CHAR (ch, chtype, stream, '\\'');\n+    emitchar (ch, chtype, stream, '\\'');\n     fputs_filtered (\"'\", stream);\n   }\n "
    },
    {
      "sha": "af7bd4f7fbab8c96c734d50a6de0144d78d3703b",
      "filename": "gdb/language.h",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/76ca72bc5b72ac0bbab239bda41cd61f6cb7d051/gdb/language.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/76ca72bc5b72ac0bbab239bda41cd61f6cb7d051/gdb/language.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/language.h?ref=76ca72bc5b72ac0bbab239bda41cd61f6cb7d051",
      "patch": "@@ -775,8 +775,6 @@ extern enum language set_language (enum language);\n #define LA_PRINT_STRING(stream, elttype, string, length, encoding, force_ellipses, options) \\\n   (current_language->printstr (stream, elttype, string, length, \\\n \t\t\t       encoding, force_ellipses,options))\n-#define LA_EMIT_CHAR(ch, type, stream, quoter) \\\n-  (current_language->emitchar (ch, type, stream, quoter))\n \n /* Test a character to decide whether it can be printed in literal form\n    or needs to be printed in another representation.  For example,"
    },
    {
      "sha": "96ae075c734fe94b87ea534fe527c47f5c4102cd",
      "filename": "gdb/rust-lang.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/76ca72bc5b72ac0bbab239bda41cd61f6cb7d051/gdb/rust-lang.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/76ca72bc5b72ac0bbab239bda41cd61f6cb7d051/gdb/rust-lang.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/rust-lang.c?ref=76ca72bc5b72ac0bbab239bda41cd61f6cb7d051",
      "patch": "@@ -2054,7 +2054,7 @@ class rust_language : public language_defn\n \t\t  struct ui_file *stream) const override\n   {\n     fputs_filtered (\"'\", stream);\n-    LA_EMIT_CHAR (ch, chtype, stream, '\\'');\n+    emitchar (ch, chtype, stream, '\\'');\n     fputs_filtered (\"'\", stream);\n   }\n "
    }
  ]
}