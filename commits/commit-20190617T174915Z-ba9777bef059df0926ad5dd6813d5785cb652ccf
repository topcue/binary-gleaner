{
  "sha": "ba9777bef059df0926ad5dd6813d5785cb652ccf",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YmE5Nzc3YmVmMDU5ZGYwOTI2YWQ1ZGQ2ODEzZDU3ODVjYjY1MmNjZg==",
  "commit": {
    "author": {
      "name": "Paul Pluzhnikov",
      "email": "ppluzhnikov@google.com",
      "date": "2019-06-17T17:49:15Z"
    },
    "committer": {
      "name": "Paul Pluzhnikov",
      "email": "ppluzhnikov@google.com",
      "date": "2019-06-17T17:49:15Z"
    },
    "message": "PR gdb/24364: Don't call dtrace_process_dof with NULL dof.",
    "tree": {
      "sha": "1f11f4d759abe53da5230a7c34345d1512fcc0f5",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/1f11f4d759abe53da5230a7c34345d1512fcc0f5"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/ba9777bef059df0926ad5dd6813d5785cb652ccf",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/ba9777bef059df0926ad5dd6813d5785cb652ccf",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/ba9777bef059df0926ad5dd6813d5785cb652ccf",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/ba9777bef059df0926ad5dd6813d5785cb652ccf/comments",
  "author": null,
  "committer": null,
  "parents": [
    {
      "sha": "6e1c90b7f5d60aedc547dd84873d1c9291eefcdc",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/6e1c90b7f5d60aedc547dd84873d1c9291eefcdc",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/6e1c90b7f5d60aedc547dd84873d1c9291eefcdc"
    }
  ],
  "stats": {
    "total": 15,
    "additions": 11,
    "deletions": 4
  },
  "files": [
    {
      "sha": "397a08f20b500bb4d739b2760954b7ebb4f3a296",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ba9777bef059df0926ad5dd6813d5785cb652ccf/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ba9777bef059df0926ad5dd6813d5785cb652ccf/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=ba9777bef059df0926ad5dd6813d5785cb652ccf",
      "patch": "@@ -1,3 +1,9 @@\n+2019-06-17  Paul Pluzhnikov  <ppluzhnikov@google.com>\n+\n+\tPR gdb/24364\n+\t* gdb/dtrace-probe.c (dtrace_static_probe_ops::get_probe): Don't\n+\tcall dtrace_process_dof with NULL dof.\n+\n 2019-06-16  Tom de Vries  <tdevries@suse.de>\n \n \tPR gdb/24445"
    },
    {
      "sha": "2a2eae1f709ba53f2448d6bb53074024cbbc75d0",
      "filename": "gdb/dtrace-probe.c",
      "status": "modified",
      "additions": 5,
      "deletions": 4,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ba9777bef059df0926ad5dd6813d5785cb652ccf/gdb/dtrace-probe.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ba9777bef059df0926ad5dd6813d5785cb652ccf/gdb/dtrace-probe.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/dtrace-probe.c?ref=ba9777bef059df0926ad5dd6813d5785cb652ccf",
      "patch": "@@ -856,13 +856,14 @@ dtrace_static_probe_ops::get_probes\n \n \t  /* Read the contents of the DOF section and then process it to\n \t     extract the information of any probe defined into it.  */\n-\t  if (!bfd_malloc_and_get_section (abfd, sect, &dof))\n+\t  if (bfd_malloc_and_get_section (abfd, sect, &dof) && dof != NULL)\n+\t    dtrace_process_dof (sect, objfile, probesp,\n+\t\t\t        (struct dtrace_dof_hdr *) dof);\n+         else\n \t    complaint (_(\"could not obtain the contents of\"\n \t\t\t \"section '%s' in objfile `%s'.\"),\n \t\t       sect->name, abfd->filename);\n-      \n-\t  dtrace_process_dof (sect, objfile, probesp,\n-\t\t\t      (struct dtrace_dof_hdr *) dof);\n+\n \t  xfree (dof);\n \t}\n     }"
    }
  ]
}