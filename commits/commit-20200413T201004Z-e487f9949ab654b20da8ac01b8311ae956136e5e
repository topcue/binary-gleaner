{
  "sha": "e487f9949ab654b20da8ac01b8311ae956136e5e",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ZTQ4N2Y5OTQ5YWI2NTRiMjBkYThhYzAxYjgzMTFhZTk1NjEzNmU1ZQ==",
  "commit": {
    "author": {
      "name": "Tom Tromey",
      "email": "tom@tromey.com",
      "date": "2020-04-13T18:42:59Z"
    },
    "committer": {
      "name": "Tom Tromey",
      "email": "tromey@adacore.com",
      "date": "2020-04-13T20:10:04Z"
    },
    "message": "Implement event-loop glue for gdbserver\n\nevent-loop.c requires the client to provide some functions.  This\npatch implements these functions for gdbserver.\n\ngdbserver/ChangeLog\n2020-04-13  Tom Tromey  <tom@tromey.com>\n\n\t* server.c (invoke_async_signal_handlers)\n\t(check_async_event_handlers, flush_streams, gdb_select): New\n\tfunctions.",
    "tree": {
      "sha": "8941994b07dea334a3c4583b4c6e868e6391adf5",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/8941994b07dea334a3c4583b4c6e868e6391adf5"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/e487f9949ab654b20da8ac01b8311ae956136e5e",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/e487f9949ab654b20da8ac01b8311ae956136e5e",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/e487f9949ab654b20da8ac01b8311ae956136e5e",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/e487f9949ab654b20da8ac01b8311ae956136e5e/comments",
  "author": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "400b5eca00033a782467d28b23392b9cf428c2b1",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/400b5eca00033a782467d28b23392b9cf428c2b1",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/400b5eca00033a782467d28b23392b9cf428c2b1"
    }
  ],
  "stats": {
    "total": 41,
    "additions": 41,
    "deletions": 0
  },
  "files": [
    {
      "sha": "309cae3d70124c55e6d4c904f0d2d32ffa077496",
      "filename": "gdbserver/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e487f9949ab654b20da8ac01b8311ae956136e5e/gdbserver/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e487f9949ab654b20da8ac01b8311ae956136e5e/gdbserver/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/ChangeLog?ref=e487f9949ab654b20da8ac01b8311ae956136e5e",
      "patch": "@@ -1,3 +1,9 @@\n+2020-04-13  Tom Tromey  <tom@tromey.com>\n+\n+\t* server.c (invoke_async_signal_handlers)\n+\t(check_async_event_handlers, flush_streams, gdb_select): New\n+\tfunctions.\n+\n 2020-04-13  Tom Tromey  <tom@tromey.com>\n \n \t* configure: Rebuild."
    },
    {
      "sha": "ac7a7fd75aa2cc4962d2c740dc96adafdd65040d",
      "filename": "gdbserver/server.cc",
      "status": "modified",
      "additions": 35,
      "deletions": 0,
      "changes": 35,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/e487f9949ab654b20da8ac01b8311ae956136e5e/gdbserver/server.cc",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/e487f9949ab654b20da8ac01b8311ae956136e5e/gdbserver/server.cc",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/server.cc?ref=e487f9949ab654b20da8ac01b8311ae956136e5e",
      "patch": "@@ -47,6 +47,7 @@\n \n #include \"gdbsupport/selftest.h\"\n #include \"gdbsupport/scope-exit.h\"\n+#include \"gdbsupport/gdb_select.h\"\n \n #define require_running_or_return(BUF)\t\t\\\n   if (!target_running ())\t\t\t\\\n@@ -4477,6 +4478,40 @@ handle_target_event (int err, gdb_client_data client_data)\n   return 0;\n }\n \n+/* See gdbsupport/event-loop.h.  */\n+\n+int\n+invoke_async_signal_handlers ()\n+{\n+  return 0;\n+}\n+\n+/* See gdbsupport/event-loop.h.  */\n+\n+int\n+check_async_event_handlers ()\n+{\n+  return 0;\n+}\n+\n+/* See gdbsupport/errors.h  */\n+\n+void\n+flush_streams ()\n+{\n+  fflush (stdout);\n+  fflush (stderr);\n+}\n+\n+/* See gdbsupport/gdb_select.h.  */\n+\n+int\n+gdb_select (int n, fd_set *readfds, fd_set *writefds,\n+\t    fd_set *exceptfds, struct timeval *timeout)\n+{\n+  return select (n, readfds, writefds, exceptfds, timeout);\n+}\n+\n #if GDB_SELF_TEST\n namespace selftests\n {"
    }
  ]
}