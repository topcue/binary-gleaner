{
  "sha": "bdaed379e9c19ff38a00c9e210e4f7d56f7c5880",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YmRhZWQzNzllOWMxOWZmMzhhMDBjOWUyMTBlNGY3ZDU2ZjdjNTg4MA==",
  "commit": {
    "author": {
      "name": "Hannes Domani",
      "email": "ssbssa@yahoo.de",
      "date": "2020-01-24T14:03:14Z"
    },
    "committer": {
      "name": "Hannes Domani",
      "email": "ssbssa@yahoo.de",
      "date": "2020-01-24T18:18:28Z"
    },
    "message": "Add install-strip target to gdbserver\n\nSo far this was only possible indirectly when invoked from the gdb directory.\nThis makes the install-strip target independent from gdb.\n\n2020-01-24  Hannes Domani  <ssbssa@yahoo.de>\n\n\t* Makefile.in (install-strip): New target.\n\t(install_sh, INSTALL_STRIP_PROGRAM, STRIP): New variables.\n\t* aclocal.m4: Regenerate.\n\t* configure: Regenerate.\n\t* configure.ac: Add AM_PROG_INSTALL_STRIP.",
    "tree": {
      "sha": "70d1f53f2db321e52d0f1b993d5405ae9f85616a",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/70d1f53f2db321e52d0f1b993d5405ae9f85616a"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/bdaed379e9c19ff38a00c9e210e4f7d56f7c5880",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/bdaed379e9c19ff38a00c9e210e4f7d56f7c5880",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/bdaed379e9c19ff38a00c9e210e4f7d56f7c5880",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/bdaed379e9c19ff38a00c9e210e4f7d56f7c5880/comments",
  "author": {
    "login": "ssbssa",
    "id": 40947,
    "node_id": "MDQ6VXNlcjQwOTQ3",
    "avatar_url": "https://avatars.githubusercontent.com/u/40947?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ssbssa",
    "html_url": "https://github.com/ssbssa",
    "followers_url": "https://api.github.com/users/ssbssa/followers",
    "following_url": "https://api.github.com/users/ssbssa/following{/other_user}",
    "gists_url": "https://api.github.com/users/ssbssa/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ssbssa/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ssbssa/subscriptions",
    "organizations_url": "https://api.github.com/users/ssbssa/orgs",
    "repos_url": "https://api.github.com/users/ssbssa/repos",
    "events_url": "https://api.github.com/users/ssbssa/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ssbssa/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "ssbssa",
    "id": 40947,
    "node_id": "MDQ6VXNlcjQwOTQ3",
    "avatar_url": "https://avatars.githubusercontent.com/u/40947?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ssbssa",
    "html_url": "https://github.com/ssbssa",
    "followers_url": "https://api.github.com/users/ssbssa/followers",
    "following_url": "https://api.github.com/users/ssbssa/following{/other_user}",
    "gists_url": "https://api.github.com/users/ssbssa/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ssbssa/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ssbssa/subscriptions",
    "organizations_url": "https://api.github.com/users/ssbssa/orgs",
    "repos_url": "https://api.github.com/users/ssbssa/repos",
    "events_url": "https://api.github.com/users/ssbssa/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ssbssa/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "3050c6f4bcfd43c526b4a47fcb0ac15d3de5c1fd",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/3050c6f4bcfd43c526b4a47fcb0ac15d3de5c1fd",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/3050c6f4bcfd43c526b4a47fcb0ac15d3de5c1fd"
    }
  ],
  "stats": {
    "total": 237,
    "additions": 236,
    "deletions": 1
  },
  "files": [
    {
      "sha": "aeb9cb6c77805e3b366ad557a6bfdee695487de4",
      "filename": "gdb/gdbserver/ChangeLog",
      "status": "modified",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/bdaed379e9c19ff38a00c9e210e4f7d56f7c5880/gdb/gdbserver/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/bdaed379e9c19ff38a00c9e210e4f7d56f7c5880/gdb/gdbserver/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/gdbserver/ChangeLog?ref=bdaed379e9c19ff38a00c9e210e4f7d56f7c5880",
      "patch": "@@ -1,3 +1,11 @@\n+2020-01-24  Hannes Domani  <ssbssa@yahoo.de>\n+\n+\t* Makefile.in (install-strip): New target.\n+\t(install_sh, INSTALL_STRIP_PROGRAM, STRIP): New variables.\n+\t* aclocal.m4: Regenerate.\n+\t* configure: Regenerate.\n+\t* configure.ac: Add AM_PROG_INSTALL_STRIP.\n+\n 2020-01-24  Maciej W. Rozycki  <macro@wdc.com>\n \n \t* Makefile.in (SFILES): Adjust paths to point to real files."
    },
    {
      "sha": "3922b5231c428d3fb993ef4cb68c87b6e80e4949",
      "filename": "gdb/gdbserver/Makefile.in",
      "status": "modified",
      "additions": 10,
      "deletions": 0,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/bdaed379e9c19ff38a00c9e210e4f7d56f7c5880/gdb/gdbserver/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/bdaed379e9c19ff38a00c9e210e4f7d56f7c5880/gdb/gdbserver/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/gdbserver/Makefile.in?ref=bdaed379e9c19ff38a00c9e210e4f7d56f7c5880",
      "patch": "@@ -45,11 +45,14 @@ htmldir = $(prefix)/html\n includedir = @includedir@\n CONFIG_SRC_SUBDIR = @CONFIG_SRC_SUBDIR@\n \n+install_sh = @install_sh@\n+\n SHELL = @SHELL@\n EXEEXT = @EXEEXT@\n \n INSTALL = @INSTALL@\n INSTALL_PROGRAM = @INSTALL_PROGRAM@\n+INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@\n INSTALL_DATA = @INSTALL_DATA@\n RANLIB = @RANLIB@\n \n@@ -58,6 +61,7 @@ CXX = @CXX@\n CXX_DIALECT = @CXX_DIALECT@\n AR = @AR@\n AR_FLAGS = rc\n+STRIP = @STRIP@\n \n # Dependency tracking information.\n DEPMODE = @CCDEPMODE@\n@@ -394,6 +398,12 @@ install-only:\n \t# in libiberty.\n \t@$(MAKE) $(FLAGS_TO_PASS) DO=install \"DODIRS=$(SUBDIRS)\" subdir_do\n \n+install-strip:\n+\t$(MAKE) $(FLAGS_TO_PASS) INSTALL_PROGRAM=\"$(INSTALL_STRIP_PROGRAM)\" \\\n+\t  install_sh_PROGRAM=\"$(INSTALL_STRIP_PROGRAM)\" INSTALL_STRIP_FLAG=-s \\\n+\t  `test -z '$(STRIP)' || \\\n+\t    echo \"INSTALL_PROGRAM_ENV=STRIPPROG='$(STRIP)'\"` install-only\n+\n uninstall: force\n \tn=`echo gdbserver | sed '$(program_transform_name)'`; \\\n \tif [ x$$n = x ]; then n=gdbserver; else true; fi; \\"
    },
    {
      "sha": "110b416e61561930fa4e4a01eb23873cc6339d85",
      "filename": "gdb/gdbserver/aclocal.m4",
      "status": "modified",
      "additions": 101,
      "deletions": 0,
      "changes": 101,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/bdaed379e9c19ff38a00c9e210e4f7d56f7c5880/gdb/gdbserver/aclocal.m4",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/bdaed379e9c19ff38a00c9e210e4f7d56f7c5880/gdb/gdbserver/aclocal.m4",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/gdbserver/aclocal.m4?ref=bdaed379e9c19ff38a00c9e210e4f7d56f7c5880",
      "patch": "@@ -12,6 +12,58 @@\n # PARTICULAR PURPOSE.\n \n m4_ifndef([AC_CONFIG_MACRO_DIRS], [m4_defun([_AM_CONFIG_MACRO_DIRS], [])m4_defun([AC_CONFIG_MACRO_DIRS], [_AM_CONFIG_MACRO_DIRS($@)])])\n+# AM_AUX_DIR_EXPAND                                         -*- Autoconf -*-\n+\n+# Copyright (C) 2001-2017 Free Software Foundation, Inc.\n+#\n+# This file is free software; the Free Software Foundation\n+# gives unlimited permission to copy and/or distribute it,\n+# with or without modifications, as long as this notice is preserved.\n+\n+# For projects using AC_CONFIG_AUX_DIR([foo]), Autoconf sets\n+# $ac_aux_dir to '$srcdir/foo'.  In other projects, it is set to\n+# '$srcdir', '$srcdir/..', or '$srcdir/../..'.\n+#\n+# Of course, Automake must honor this variable whenever it calls a\n+# tool from the auxiliary directory.  The problem is that $srcdir (and\n+# therefore $ac_aux_dir as well) can be either absolute or relative,\n+# depending on how configure is run.  This is pretty annoying, since\n+# it makes $ac_aux_dir quite unusable in subdirectories: in the top\n+# source directory, any form will work fine, but in subdirectories a\n+# relative path needs to be adjusted first.\n+#\n+# $ac_aux_dir/missing\n+#    fails when called from a subdirectory if $ac_aux_dir is relative\n+# $top_srcdir/$ac_aux_dir/missing\n+#    fails if $ac_aux_dir is absolute,\n+#    fails when called from a subdirectory in a VPATH build with\n+#          a relative $ac_aux_dir\n+#\n+# The reason of the latter failure is that $top_srcdir and $ac_aux_dir\n+# are both prefixed by $srcdir.  In an in-source build this is usually\n+# harmless because $srcdir is '.', but things will broke when you\n+# start a VPATH build or use an absolute $srcdir.\n+#\n+# So we could use something similar to $top_srcdir/$ac_aux_dir/missing,\n+# iff we strip the leading $srcdir from $ac_aux_dir.  That would be:\n+#   am_aux_dir='\\$(top_srcdir)/'`expr \"$ac_aux_dir\" : \"$srcdir//*\\(.*\\)\"`\n+# and then we would define $MISSING as\n+#   MISSING=\"\\${SHELL} $am_aux_dir/missing\"\n+# This will work as long as MISSING is not called from configure, because\n+# unfortunately $(top_srcdir) has no meaning in configure.\n+# However there are other variables, like CC, which are often used in\n+# configure, and could therefore not use this \"fixed\" $ac_aux_dir.\n+#\n+# Another solution, used here, is to always expand $ac_aux_dir to an\n+# absolute PATH.  The drawback is that using absolute paths prevent a\n+# configured tree to be moved without reconfiguration.\n+\n+AC_DEFUN([AM_AUX_DIR_EXPAND],\n+[AC_REQUIRE([AC_CONFIG_AUX_DIR_DEFAULT])dnl\n+# Expand $ac_aux_dir to an absolute path.\n+am_aux_dir=`cd \"$ac_aux_dir\" && pwd`\n+])\n+\n # AM_CONDITIONAL                                            -*- Autoconf -*-\n \n # Copyright (C) 1997-2017 Free Software Foundation, Inc.\n@@ -45,6 +97,27 @@ AC_CONFIG_COMMANDS_PRE(\n Usually this means the macro was only invoked conditionally.]])\n fi])])\n \n+# Copyright (C) 2001-2017 Free Software Foundation, Inc.\n+#\n+# This file is free software; the Free Software Foundation\n+# gives unlimited permission to copy and/or distribute it,\n+# with or without modifications, as long as this notice is preserved.\n+\n+# AM_PROG_INSTALL_SH\n+# ------------------\n+# Define $install_sh.\n+AC_DEFUN([AM_PROG_INSTALL_SH],\n+[AC_REQUIRE([AM_AUX_DIR_EXPAND])dnl\n+if test x\"${install_sh+set}\" != xset; then\n+  case $am_aux_dir in\n+  *\\ * | *\\\t*)\n+    install_sh=\"\\${SHELL} '$am_aux_dir/install-sh'\" ;;\n+  *)\n+    install_sh=\"\\${SHELL} $am_aux_dir/install-sh\"\n+  esac\n+fi\n+AC_SUBST([install_sh])])\n+\n # Add --enable-maintainer-mode option to configure.         -*- Autoconf -*-\n # From Jim Meyering\n \n@@ -81,6 +154,34 @@ AC_MSG_CHECKING([whether to enable maintainer-specific portions of Makefiles])\n ]\n )\n \n+# Copyright (C) 2001-2017 Free Software Foundation, Inc.\n+#\n+# This file is free software; the Free Software Foundation\n+# gives unlimited permission to copy and/or distribute it,\n+# with or without modifications, as long as this notice is preserved.\n+\n+# AM_PROG_INSTALL_STRIP\n+# ---------------------\n+# One issue with vendor 'install' (even GNU) is that you can't\n+# specify the program used to strip binaries.  This is especially\n+# annoying in cross-compiling environments, where the build's strip\n+# is unlikely to handle the host's binaries.\n+# Fortunately install-sh will honor a STRIPPROG variable, so we\n+# always use install-sh in \"make install-strip\", and initialize\n+# STRIPPROG with the value of the STRIP variable (set by the user).\n+AC_DEFUN([AM_PROG_INSTALL_STRIP],\n+[AC_REQUIRE([AM_PROG_INSTALL_SH])dnl\n+# Installed binaries are usually stripped using 'strip' when the user\n+# run \"make install-strip\".  However 'strip' might not be the right\n+# tool to use in cross-compilation environments, therefore Automake\n+# will honor the 'STRIP' environment variable to overrule this program.\n+dnl Don't test for $cross_compiling = yes, because it might be 'maybe'.\n+if test \"$cross_compiling\" != no; then\n+  AC_CHECK_TOOL([STRIP], [strip], :)\n+fi\n+INSTALL_STRIP_PROGRAM=\"\\$(install_sh) -c -s\"\n+AC_SUBST([INSTALL_STRIP_PROGRAM])])\n+\n # Copyright (C) 2006-2017 Free Software Foundation, Inc.\n #\n # This file is free software; the Free Software Foundation"
    },
    {
      "sha": "94f2bedf684706c400396588f30ebb08ee919308",
      "filename": "gdb/gdbserver/configure",
      "status": "modified",
      "additions": 116,
      "deletions": 1,
      "changes": 117,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/bdaed379e9c19ff38a00c9e210e4f7d56f7c5880/gdb/gdbserver/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/bdaed379e9c19ff38a00c9e210e4f7d56f7c5880/gdb/gdbserver/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/gdbserver/configure?ref=bdaed379e9c19ff38a00c9e210e4f7d56f7c5880",
      "patch": "@@ -671,6 +671,9 @@ build_os\n build_vendor\n build_cpu\n build\n+INSTALL_STRIP_PROGRAM\n+STRIP\n+install_sh\n EGREP\n GREP\n CPP\n@@ -4428,7 +4431,6 @@ rm -rf conftest*\n \n fi\n \n-\n ac_aux_dir=\n for ac_dir in \"$srcdir\" \"$srcdir/..\" \"$srcdir/../..\"; do\n   if test -f \"$ac_dir/install-sh\"; then\n@@ -4458,6 +4460,119 @@ ac_config_sub=\"$SHELL $ac_aux_dir/config.sub\"  # Please don't use this var.\n ac_configure=\"$SHELL $ac_aux_dir/configure\"  # Please don't use this var.\n \n \n+# Expand $ac_aux_dir to an absolute path.\n+am_aux_dir=`cd \"$ac_aux_dir\" && pwd`\n+\n+if test x\"${install_sh+set}\" != xset; then\n+  case $am_aux_dir in\n+  *\\ * | *\\\t*)\n+    install_sh=\"\\${SHELL} '$am_aux_dir/install-sh'\" ;;\n+  *)\n+    install_sh=\"\\${SHELL} $am_aux_dir/install-sh\"\n+  esac\n+fi\n+\n+# Installed binaries are usually stripped using 'strip' when the user\n+# run \"make install-strip\".  However 'strip' might not be the right\n+# tool to use in cross-compilation environments, therefore Automake\n+# will honor the 'STRIP' environment variable to overrule this program.\n+if test \"$cross_compiling\" != no; then\n+  if test -n \"$ac_tool_prefix\"; then\n+  # Extract the first word of \"${ac_tool_prefix}strip\", so it can be a program name with args.\n+set dummy ${ac_tool_prefix}strip; ac_word=$2\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n+$as_echo_n \"checking for $ac_word... \" >&6; }\n+if ${ac_cv_prog_STRIP+:} false; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  if test -n \"$STRIP\"; then\n+  ac_cv_prog_STRIP=\"$STRIP\" # Let the user override the test.\n+else\n+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+    for ac_exec_ext in '' $ac_executable_extensions; do\n+  if as_fn_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_prog_STRIP=\"${ac_tool_prefix}strip\"\n+    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+  done\n+IFS=$as_save_IFS\n+\n+fi\n+fi\n+STRIP=$ac_cv_prog_STRIP\n+if test -n \"$STRIP\"; then\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $STRIP\" >&5\n+$as_echo \"$STRIP\" >&6; }\n+else\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+fi\n+\n+\n+fi\n+if test -z \"$ac_cv_prog_STRIP\"; then\n+  ac_ct_STRIP=$STRIP\n+  # Extract the first word of \"strip\", so it can be a program name with args.\n+set dummy strip; ac_word=$2\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n+$as_echo_n \"checking for $ac_word... \" >&6; }\n+if ${ac_cv_prog_ac_ct_STRIP+:} false; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  if test -n \"$ac_ct_STRIP\"; then\n+  ac_cv_prog_ac_ct_STRIP=\"$ac_ct_STRIP\" # Let the user override the test.\n+else\n+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+    for ac_exec_ext in '' $ac_executable_extensions; do\n+  if as_fn_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_prog_ac_ct_STRIP=\"strip\"\n+    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+  done\n+IFS=$as_save_IFS\n+\n+fi\n+fi\n+ac_ct_STRIP=$ac_cv_prog_ac_ct_STRIP\n+if test -n \"$ac_ct_STRIP\"; then\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_ct_STRIP\" >&5\n+$as_echo \"$ac_ct_STRIP\" >&6; }\n+else\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+fi\n+\n+  if test \"x$ac_ct_STRIP\" = x; then\n+    STRIP=\":\"\n+  else\n+    case $cross_compiling:$ac_tool_warned in\n+yes:)\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet\" >&5\n+$as_echo \"$as_me: WARNING: using cross tools not prefixed with host triplet\" >&2;}\n+ac_tool_warned=yes ;;\n+esac\n+    STRIP=$ac_ct_STRIP\n+  fi\n+else\n+  STRIP=\"$ac_cv_prog_STRIP\"\n+fi\n+\n+fi\n+INSTALL_STRIP_PROGRAM=\"\\$(install_sh) -c -s\"\n+\n+\n # Make sure we can run config.sub.\n $SHELL \"$ac_aux_dir/config.sub\" sun4 >/dev/null 2>&1 ||\n   as_fn_error $? \"cannot run $SHELL $ac_aux_dir/config.sub\" \"$LINENO\" 5"
    },
    {
      "sha": "03b36dc699aceb017f7c91b02ed2341610612b83",
      "filename": "gdb/gdbserver/configure.ac",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/bdaed379e9c19ff38a00c9e210e4f7d56f7c5880/gdb/gdbserver/configure.ac",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/bdaed379e9c19ff38a00c9e210e4f7d56f7c5880/gdb/gdbserver/configure.ac",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/gdbserver/configure.ac?ref=bdaed379e9c19ff38a00c9e210e4f7d56f7c5880",
      "patch": "@@ -27,6 +27,7 @@ AC_PROG_CC\n AC_PROG_CXX\n AC_GNU_SOURCE\n AC_SYS_LARGEFILE\n+AM_PROG_INSTALL_STRIP\n \n AC_CANONICAL_SYSTEM\n "
    }
  ]
}