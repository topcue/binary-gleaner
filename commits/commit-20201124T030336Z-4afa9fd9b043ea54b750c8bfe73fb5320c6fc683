{
  "sha": "4afa9fd9b043ea54b750c8bfe73fb5320c6fc683",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NGFmYTlmZDliMDQzZWE1NGI3NTBjOGJmZTczZmI1MzIwYzZmYzY4Mw==",
  "commit": {
    "author": {
      "name": "Joel Brobecker",
      "email": "brobecker@adacore.com",
      "date": "2020-11-24T03:03:36Z"
    },
    "committer": {
      "name": "Joel Brobecker",
      "email": "brobecker@adacore.com",
      "date": "2020-11-24T03:03:36Z"
    },
    "message": "Add TYPE_CODE_FIXED_POINT handling in print_type_scalar\n\nThis commit enhances print_type_scalar to include support for\nTYPE_CODE_FIXED_POINT. This way, any language falling back to\nthis function for printing the description of some types\nalso gets basic ptype support for fixed point types as well.\n\nThis fixes a couple of XFAILs in gdb.dwarf2/dw2-fixed-point.exp.\n\ngdb/ChangeLog:\n\n        * typeprint.c (print_type_scalar): Add handling of\n        TYPE_CODE_FIXED_POINT.\n\ngdb/testsuite/ChangeLog:\n\n        * gdb.dwarf2/dw2-fixed-point.exp: Fix the expected output of\n        the \"ptype pck__fp1_range_var\" test for the module-2 and pascal\n        languages.  Remove the associated setup_xfail.",
    "tree": {
      "sha": "dfb28da253ee78c5fa2b392fafd9b167c671e1be",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/dfb28da253ee78c5fa2b392fafd9b167c671e1be"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/4afa9fd9b043ea54b750c8bfe73fb5320c6fc683",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/4afa9fd9b043ea54b750c8bfe73fb5320c6fc683",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/4afa9fd9b043ea54b750c8bfe73fb5320c6fc683",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/4afa9fd9b043ea54b750c8bfe73fb5320c6fc683/comments",
  "author": {
    "login": "brobecke",
    "id": 11981700,
    "node_id": "MDQ6VXNlcjExOTgxNzAw",
    "avatar_url": "https://avatars.githubusercontent.com/u/11981700?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/brobecke",
    "html_url": "https://github.com/brobecke",
    "followers_url": "https://api.github.com/users/brobecke/followers",
    "following_url": "https://api.github.com/users/brobecke/following{/other_user}",
    "gists_url": "https://api.github.com/users/brobecke/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/brobecke/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/brobecke/subscriptions",
    "organizations_url": "https://api.github.com/users/brobecke/orgs",
    "repos_url": "https://api.github.com/users/brobecke/repos",
    "events_url": "https://api.github.com/users/brobecke/events{/privacy}",
    "received_events_url": "https://api.github.com/users/brobecke/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "brobecke",
    "id": 11981700,
    "node_id": "MDQ6VXNlcjExOTgxNzAw",
    "avatar_url": "https://avatars.githubusercontent.com/u/11981700?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/brobecke",
    "html_url": "https://github.com/brobecke",
    "followers_url": "https://api.github.com/users/brobecke/followers",
    "following_url": "https://api.github.com/users/brobecke/following{/other_user}",
    "gists_url": "https://api.github.com/users/brobecke/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/brobecke/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/brobecke/subscriptions",
    "organizations_url": "https://api.github.com/users/brobecke/orgs",
    "repos_url": "https://api.github.com/users/brobecke/repos",
    "events_url": "https://api.github.com/users/brobecke/events{/privacy}",
    "received_events_url": "https://api.github.com/users/brobecke/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "af619ce989a51864b1c2b8c2eef7c46ffe1ff256",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/af619ce989a51864b1c2b8c2eef7c46ffe1ff256",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/af619ce989a51864b1c2b8c2eef7c46ffe1ff256"
    }
  ],
  "stats": {
    "total": 43,
    "additions": 33,
    "deletions": 10
  },
  "files": [
    {
      "sha": "35940d515c412b8d1c7898c1c8bd67253069d3cb",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4afa9fd9b043ea54b750c8bfe73fb5320c6fc683/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4afa9fd9b043ea54b750c8bfe73fb5320c6fc683/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=4afa9fd9b043ea54b750c8bfe73fb5320c6fc683",
      "patch": "@@ -1,3 +1,8 @@\n+2020-11-24  Joel Brobecker  <brobecker@adacore.com>\n+\n+\t* typeprint.c (print_type_scalar): Add handling of\n+\tTYPE_CODE_FIXED_POINT.\n+\n 2020-11-24  Joel Brobecker  <brobecker@adacore.com>\n \n \t* valarith.c (fixed_point_binop): Replace the"
    },
    {
      "sha": "fa1f0e8faaf630517b6b1a4f7f6e90c64b3a3545",
      "filename": "gdb/testsuite/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4afa9fd9b043ea54b750c8bfe73fb5320c6fc683/gdb/testsuite/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4afa9fd9b043ea54b750c8bfe73fb5320c6fc683/gdb/testsuite/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/ChangeLog?ref=4afa9fd9b043ea54b750c8bfe73fb5320c6fc683",
      "patch": "@@ -1,3 +1,9 @@\n+2020-11-24  Joel Brobecker  <brobecker@adacore.com>\n+\n+\t* gdb.dwarf2/dw2-fixed-point.exp: Fix the expected output of\n+\tthe \"ptype pck__fp1_range_var\" test for the module-2 and pascal\n+\tlanguages.  Remove the associated setup_xfail.\n+\n 2020-11-23  Simon Marchi  <simon.marchi@efficios.com>\n \n \t* lib/gdb.exp (gdb_assert): Show error message on error."
    },
    {
      "sha": "67d1d34d8f3546f927b1f778924c64b893e7fff6",
      "filename": "gdb/testsuite/gdb.dwarf2/dw2-fixed-point.exp",
      "status": "modified",
      "additions": 18,
      "deletions": 10,
      "changes": 28,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4afa9fd9b043ea54b750c8bfe73fb5320c6fc683/gdb/testsuite/gdb.dwarf2/dw2-fixed-point.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4afa9fd9b043ea54b750c8bfe73fb5320c6fc683/gdb/testsuite/gdb.dwarf2/dw2-fixed-point.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.dwarf2/dw2-fixed-point.exp?ref=4afa9fd9b043ea54b750c8bfe73fb5320c6fc683",
      "patch": "@@ -278,9 +278,6 @@ proc do_ptype_test {lang fp1_re fp2_re fp3_re fp1_range_re} {\n \n         gdb_test \"ptype pck__fp3_var\" $fp3_re\n \n-        if { $lang == \"modula-2\" || $lang == \"pascal\" } {\n-            setup_xfail \"*-*-*\" \"not supported by language\"\n-        }\n         gdb_test \"ptype pck__fp1_range_var\" $fp1_range_re\n     }\n }\n@@ -299,10 +296,21 @@ foreach lang [list \"c\" \"d\" \"go\" \"objective-c\" \"opencl\" ] {\n                   \" = <range type>\"\n }\n \n-foreach lang [list \"fortran\" \"modula-2\" \"pascal\" ] {\n-    do_ptype_test $lang \\\n-                  \" = pck__fp1_type\" \\\n-                  \" = pck__fp2_type\" \\\n-                  \" = pck__fp3_type\" \\\n-                  \" = <range type>\"\n-}\n+do_ptype_test \"fortran\" \\\n+          \" = pck__fp1_type\" \\\n+          \" = pck__fp2_type\" \\\n+          \" = pck__fp3_type\" \\\n+          \" = <range type>\"\n+\n+do_ptype_test \"modula-2\" \\\n+          \" = pck__fp1_type\" \\\n+          \" = pck__fp2_type\" \\\n+          \" = pck__fp3_type\" \\\n+          \" = \\\\\\[1-byte fixed point \\\\(small = 1/16\\\\)\\\\.\\\\.1-byte fixed point \\\\(small = 1/16\\\\)\\\\\\]\"\n+\n+do_ptype_test \"pascal\" \\\n+          \" = pck__fp1_type\" \\\n+          \" = pck__fp2_type\" \\\n+          \" = pck__fp3_type\" \\\n+          \" = 1-byte fixed point \\\\(small = 1/16\\\\)\\\\.\\\\.1-byte fixed point \\\\(small = 1/16\\\\)\"\n+"
    },
    {
      "sha": "47019a23aeda779386a0e9c233b2c8353d379bb1",
      "filename": "gdb/typeprint.c",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4afa9fd9b043ea54b750c8bfe73fb5320c6fc683/gdb/typeprint.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4afa9fd9b043ea54b750c8bfe73fb5320c6fc683/gdb/typeprint.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/typeprint.c?ref=4afa9fd9b043ea54b750c8bfe73fb5320c6fc683",
      "patch": "@@ -637,6 +637,10 @@ print_type_scalar (struct type *type, LONGEST val, struct ui_file *stream)\n       print_type_scalar (TYPE_TARGET_TYPE (type), val, stream);\n       return;\n \n+    case TYPE_CODE_FIXED_POINT:\n+      print_type_fixed_point (type, stream);\n+      break;\n+\n     case TYPE_CODE_UNDEF:\n     case TYPE_CODE_PTR:\n     case TYPE_CODE_ARRAY:"
    }
  ]
}