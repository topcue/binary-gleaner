{
  "sha": "33eca68072e73d984fc139dde45b8140b94757cb",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MzNlY2E2ODA3MmU3M2Q5ODRmYzEzOWRkZTQ1YjgxNDBiOTQ3NTdjYg==",
  "commit": {
    "author": {
      "name": "Tom Tromey",
      "email": "tromey@adacore.com",
      "date": "2019-07-01T18:08:15Z"
    },
    "committer": {
      "name": "Tom Tromey",
      "email": "tromey@adacore.com",
      "date": "2019-07-15T15:31:18Z"
    },
    "message": "Use field_string in more places\n\nThis replaces uses of field_fmt with a \"%s\" format string to use\nfield_string instead.  Also, one use of \"%9lx\" is replaced with a call\nto phex_nz; the '9' is dropped as it is implicit in the field width.\n\n2019-07-15  Tom Tromey  <tromey@adacore.com>\n\n\t* mi/mi-main.c (list_available_thread_groups): Use field_string.\n\t* mi/mi-interp.c (mi_memory_changed): Use field_string.\n\t* target.c (flash_erase_command): Use field_string.\n\t* infrun.c (print_signal_received_reason): Use field_string.\n\t* i386-tdep.c (i386_mpx_print_bounds): Use field_string.\n\t* breakpoint.c (maybe_print_thread_hit_breakpoint): Use\n\tfield_string.\n\t* ada-tasks.c (print_ada_task_info): Use field_string.",
    "tree": {
      "sha": "febcb3372032352babcf541f9bcb11f45eb771f3",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/febcb3372032352babcf541f9bcb11f45eb771f3"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/33eca68072e73d984fc139dde45b8140b94757cb",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/33eca68072e73d984fc139dde45b8140b94757cb",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/33eca68072e73d984fc139dde45b8140b94757cb",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/33eca68072e73d984fc139dde45b8140b94757cb/comments",
  "author": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "tromey",
    "id": 1557670,
    "node_id": "MDQ6VXNlcjE1NTc2NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tromey",
    "html_url": "https://github.com/tromey",
    "followers_url": "https://api.github.com/users/tromey/followers",
    "following_url": "https://api.github.com/users/tromey/following{/other_user}",
    "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tromey/subscriptions",
    "organizations_url": "https://api.github.com/users/tromey/orgs",
    "repos_url": "https://api.github.com/users/tromey/repos",
    "events_url": "https://api.github.com/users/tromey/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tromey/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "ca8d69beb1024316af8dec571584437d613f40d2",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/ca8d69beb1024316af8dec571584437d613f40d2",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/ca8d69beb1024316af8dec571584437d613f40d2"
    }
  ],
  "stats": {
    "total": 37,
    "additions": 24,
    "deletions": 13
  },
  "files": [
    {
      "sha": "ae3303986814674ad84e6de1efe134fc7e3e1cf9",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 11,
      "deletions": 0,
      "changes": 11,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/33eca68072e73d984fc139dde45b8140b94757cb/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/33eca68072e73d984fc139dde45b8140b94757cb/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=33eca68072e73d984fc139dde45b8140b94757cb",
      "patch": "@@ -1,3 +1,14 @@\n+2019-07-15  Tom Tromey  <tromey@adacore.com>\n+\n+\t* mi/mi-main.c (list_available_thread_groups): Use field_string.\n+\t* mi/mi-interp.c (mi_memory_changed): Use field_string.\n+\t* target.c (flash_erase_command): Use field_string.\n+\t* infrun.c (print_signal_received_reason): Use field_string.\n+\t* i386-tdep.c (i386_mpx_print_bounds): Use field_string.\n+\t* breakpoint.c (maybe_print_thread_hit_breakpoint): Use\n+\tfield_string.\n+\t* ada-tasks.c (print_ada_task_info): Use field_string.\n+\n 2019-07-15  Tom Tromey  <tromey@adacore.com>\n \n \t* target.c (flash_erase_command): Use field_core_addr."
    },
    {
      "sha": "71800d1167b9004ff27088efca47ddd29a4c49e1",
      "filename": "gdb/ada-tasks.c",
      "status": "modified",
      "additions": 5,
      "deletions": 5,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/33eca68072e73d984fc139dde45b8140b94757cb/gdb/ada-tasks.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/33eca68072e73d984fc139dde45b8140b94757cb/gdb/ada-tasks.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ada-tasks.c?ref=33eca68072e73d984fc139dde45b8140b94757cb",
      "patch": "@@ -1089,7 +1089,8 @@ print_ada_task_info (struct ui_out *uiout,\n       uiout->field_int (\"id\", taskno);\n \n       /* Print the Task ID.  */\n-      uiout->field_fmt (\"task-id\", \"%9lx\", (long) task_info->task_id);\n+      uiout->field_string (\"task-id\", phex_nz (task_info->task_id,\n+\t\t\t\t\t       sizeof (CORE_ADDR)));\n \n       /* Print the associated Thread ID.  */\n       if (uiout->is_mi_like_p ())\n@@ -1129,10 +1130,9 @@ print_ada_task_info (struct ui_out *uiout,\n \tuiout->field_string (\"state\", task_states[task_info->state]);\n \n       /* Finally, print the task name.  */\n-      uiout->field_fmt (\"name\",\n-\t\t\t\"%s\",\n-\t\t\ttask_info->name[0] != '\\0' ? task_info->name\n-\t\t\t\t\t\t   : _(\"<no name>\"));\n+      uiout->field_string (\"name\",\n+\t\t\t   task_info->name[0] != '\\0' ? task_info->name\n+\t\t\t   : _(\"<no name>\"));\n \n       uiout->text (\"\\n\");\n     }"
    },
    {
      "sha": "b345379d9a745a8086089f4c1dd92a8c29888af7",
      "filename": "gdb/breakpoint.c",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/33eca68072e73d984fc139dde45b8140b94757cb/gdb/breakpoint.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/33eca68072e73d984fc139dde45b8140b94757cb/gdb/breakpoint.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/breakpoint.c?ref=33eca68072e73d984fc139dde45b8140b94757cb",
      "patch": "@@ -4483,13 +4483,13 @@ maybe_print_thread_hit_breakpoint (struct ui_out *uiout)\n       struct thread_info *thr = inferior_thread ();\n \n       uiout->text (\"Thread \");\n-      uiout->field_fmt (\"thread-id\", \"%s\", print_thread_id (thr));\n+      uiout->field_string (\"thread-id\", print_thread_id (thr));\n \n       name = thr->name != NULL ? thr->name : target_thread_name (thr);\n       if (name != NULL)\n \t{\n \t  uiout->text (\" \\\"\");\n-\t  uiout->field_fmt (\"name\", \"%s\", name);\n+\t  uiout->field_string (\"name\", name);\n \t  uiout->text (\"\\\"\");\n \t}\n "
    },
    {
      "sha": "aac9baa0aacebc95925b99eab932a1ddc873df7b",
      "filename": "gdb/i386-tdep.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/33eca68072e73d984fc139dde45b8140b94757cb/gdb/i386-tdep.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/33eca68072e73d984fc139dde45b8140b94757cb/gdb/i386-tdep.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/i386-tdep.c?ref=33eca68072e73d984fc139dde45b8140b94757cb",
      "patch": "@@ -8914,7 +8914,7 @@ i386_mpx_print_bounds (const CORE_ADDR bt_entry[4])\n \n       size = (size > -1 ? size + 1 : size);\n       uiout->text (\", size = \");\n-      uiout->field_fmt (\"size\", \"%s\", plongest (size));\n+      uiout->field_string (\"size\", plongest (size));\n \n       uiout->text (\", metadata = \");\n       uiout->field_core_addr (\"metadata\", gdbarch, bt_entry[3]);"
    },
    {
      "sha": "2dc418923655dd3fd8a1e3b9f5a86189038bc5d6",
      "filename": "gdb/infrun.c",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/33eca68072e73d984fc139dde45b8140b94757cb/gdb/infrun.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/33eca68072e73d984fc139dde45b8140b94757cb/gdb/infrun.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/infrun.c?ref=33eca68072e73d984fc139dde45b8140b94757cb",
      "patch": "@@ -7690,13 +7690,13 @@ print_signal_received_reason (struct ui_out *uiout, enum gdb_signal siggnal)\n       const char *name;\n \n       uiout->text (\"\\nThread \");\n-      uiout->field_fmt (\"thread-id\", \"%s\", print_thread_id (thr));\n+      uiout->field_string (\"thread-id\", print_thread_id (thr));\n \n       name = thr->name != NULL ? thr->name : target_thread_name (thr);\n       if (name != NULL)\n \t{\n \t  uiout->text (\" \\\"\");\n-\t  uiout->field_fmt (\"name\", \"%s\", name);\n+\t  uiout->field_string (\"name\", name);\n \t  uiout->text (\"\\\"\");\n \t}\n     }"
    },
    {
      "sha": "03ab169fdf51283e4b54fa3d3df2b56ea0be4af0",
      "filename": "gdb/mi/mi-interp.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/33eca68072e73d984fc139dde45b8140b94757cb/gdb/mi/mi-interp.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/33eca68072e73d984fc139dde45b8140b94757cb/gdb/mi/mi-interp.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/mi/mi-interp.c?ref=33eca68072e73d984fc139dde45b8140b94757cb",
      "patch": "@@ -1172,7 +1172,7 @@ mi_memory_changed (struct inferior *inferior, CORE_ADDR memaddr,\n \n       mi_uiout->field_fmt (\"thread-group\", \"i%d\", inferior->num);\n       mi_uiout->field_core_addr (\"addr\", target_gdbarch (), memaddr);\n-      mi_uiout->field_fmt (\"len\", \"%s\", hex_string (len));\n+      mi_uiout->field_string (\"len\", hex_string (len));\n \n       /* Append 'type=code' into notification if MEMADDR falls in the range of\n \t sections contain code.  */"
    },
    {
      "sha": "26ffeb0751cf3b48d7d751fe3e450ac7472702d3",
      "filename": "gdb/mi/mi-main.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/33eca68072e73d984fc139dde45b8140b94757cb/gdb/mi/mi-main.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/33eca68072e73d984fc139dde45b8140b94757cb/gdb/mi/mi-main.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/mi/mi-main.c?ref=33eca68072e73d984fc139dde45b8140b94757cb",
      "patch": "@@ -746,7 +746,7 @@ list_available_thread_groups (const std::set<int> &ids, int recurse)\n \n       ui_out_emit_tuple tuple_emitter (uiout, NULL);\n \n-      uiout->field_fmt (\"id\", \"%s\", pid->c_str ());\n+      uiout->field_string (\"id\", pid->c_str ());\n       uiout->field_string (\"type\", \"process\");\n       if (cmd)\n \tuiout->field_string (\"description\", cmd->c_str ());"
    },
    {
      "sha": "a19a9bce133a3e28f2689146f86e7354fa7d95a4",
      "filename": "gdb/target.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/33eca68072e73d984fc139dde45b8140b94757cb/gdb/target.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/33eca68072e73d984fc139dde45b8140b94757cb/gdb/target.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/target.c?ref=33eca68072e73d984fc139dde45b8140b94757cb",
      "patch": "@@ -3795,7 +3795,7 @@ flash_erase_command (const char *cmd, int from_tty)\n           current_uiout->message (_(\"Erasing flash memory region at address \"));\n           current_uiout->field_core_addr (\"address\", gdbarch, m.lo);\n           current_uiout->message (\", size = \");\n-          current_uiout->field_fmt (\"size\", \"%s\", hex_string (m.hi - m.lo));\n+          current_uiout->field_string (\"size\", hex_string (m.hi - m.lo));\n           current_uiout->message (\"\\n\");\n         }\n     }"
    }
  ]
}