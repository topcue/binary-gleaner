{
  "sha": "987cf30ad80c7c13f713aa8e4ca3e1dbf08e9d63",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6OTg3Y2YzMGFkODBjN2MxM2Y3MTNhYThlNGNhM2UxZGJmMDhlOWQ2Mw==",
  "commit": {
    "author": {
      "name": "Nick Alcock",
      "email": "nick.alcock@oracle.com",
      "date": "2020-07-30T16:43:12Z"
    },
    "committer": {
      "name": "Nick Alcock",
      "email": "nick.alcock@oracle.com",
      "date": "2020-08-27T12:14:10Z"
    },
    "message": "libctf, binutils: initial work towards libctf gettextization\n\nWe gettextize under our package name, which we change to a more\nreasonable 'libctf'.  Our internationalization support is mostly\nprovided by ctf-intl.h, which is a copy of opcodes/opintl.h with\nthe non-gettext_noop N_() expansion debracketed to avoid pedantic\ncompiler warnings.\n\nThe libctf error strings returned by ctf_errmsg are marked up for\ninternationalization.\n\n(We also adjust binutils's Makefile a tiny bit to allow for the\nfact that libctf now uses functions from libintl.)\n\nbinutils/ChangeLog\n2020-08-27  Nick Alcock  <nick.alcock@oracle.com>\n\n\t* Makefile.am (readelf_LDADD): Move $(LIBINTL) after $(LIBCTF_NOBFD).\n\t* Makefile.in: Regenerated.\n\nlibctf/ChangeLog\n2020-08-27  Nick Alcock  <nick.alcock@oracle.com>\n\n\t* configure.ac: Adjust package name to simply 'libctf': arbitrarily\n\tdeclare this to be version 1.2.0.\n\t* Makefile.am (AM_CPPFLAGS): Add @INCINTL@.\n\t* Makefile.in: Regenerated.\n\t* configure: Regenerated.\n\t* ctf-intl.h: New file, lightly modified from opcodes/opintl.h.\n\t* ctf-impl.h: Include it.\n\t* ctf-error.r (_ctf_errlist_t): Mark strings as noop-translatable.\n\t(ctf_errmsg): Actually translate them.",
    "tree": {
      "sha": "ccae55789b8106b42c0dd97d9635e1caa8f5709c",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/ccae55789b8106b42c0dd97d9635e1caa8f5709c"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/987cf30ad80c7c13f713aa8e4ca3e1dbf08e9d63",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/987cf30ad80c7c13f713aa8e4ca3e1dbf08e9d63",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/987cf30ad80c7c13f713aa8e4ca3e1dbf08e9d63",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/987cf30ad80c7c13f713aa8e4ca3e1dbf08e9d63/comments",
  "author": {
    "login": "nickalcock",
    "id": 6503005,
    "node_id": "MDQ6VXNlcjY1MDMwMDU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6503005?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nickalcock",
    "html_url": "https://github.com/nickalcock",
    "followers_url": "https://api.github.com/users/nickalcock/followers",
    "following_url": "https://api.github.com/users/nickalcock/following{/other_user}",
    "gists_url": "https://api.github.com/users/nickalcock/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nickalcock/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nickalcock/subscriptions",
    "organizations_url": "https://api.github.com/users/nickalcock/orgs",
    "repos_url": "https://api.github.com/users/nickalcock/repos",
    "events_url": "https://api.github.com/users/nickalcock/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nickalcock/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "nickalcock",
    "id": 6503005,
    "node_id": "MDQ6VXNlcjY1MDMwMDU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6503005?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nickalcock",
    "html_url": "https://github.com/nickalcock",
    "followers_url": "https://api.github.com/users/nickalcock/followers",
    "following_url": "https://api.github.com/users/nickalcock/following{/other_user}",
    "gists_url": "https://api.github.com/users/nickalcock/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nickalcock/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nickalcock/subscriptions",
    "organizations_url": "https://api.github.com/users/nickalcock/orgs",
    "repos_url": "https://api.github.com/users/nickalcock/repos",
    "events_url": "https://api.github.com/users/nickalcock/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nickalcock/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "514b4e191d5f46de8e142fe216e677a35fa9c4bb",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/514b4e191d5f46de8e142fe216e677a35fa9c4bb",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/514b4e191d5f46de8e142fe216e677a35fa9c4bb"
    }
  ],
  "stats": {
    "total": 128,
    "additions": 107,
    "deletions": 21
  },
  "files": [
    {
      "sha": "1106c687e284b630bd70e1b91c042bd98d6cda18",
      "filename": "binutils/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/987cf30ad80c7c13f713aa8e4ca3e1dbf08e9d63/binutils/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/987cf30ad80c7c13f713aa8e4ca3e1dbf08e9d63/binutils/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/ChangeLog?ref=987cf30ad80c7c13f713aa8e4ca3e1dbf08e9d63",
      "patch": "@@ -1,3 +1,8 @@\n+2020-08-27  Nick Alcock  <nick.alcock@oracle.com>\n+\n+\t* Makefile.am (readelf_LDADD): Move $(LIBINTL) after $(LIBCTF_NOBFD).\n+\t* Makefile.in: Regenerated.\n+\n 2020-08-26  Nick Clifton  <nickc@redhat.com>\n \n \tPR 26405"
    },
    {
      "sha": "24f8423ebc59a7225b9d25fe1699314d35ea8222",
      "filename": "binutils/Makefile.am",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/987cf30ad80c7c13f713aa8e4ca3e1dbf08e9d63/binutils/Makefile.am",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/987cf30ad80c7c13f713aa8e4ca3e1dbf08e9d63/binutils/Makefile.am",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/Makefile.am?ref=987cf30ad80c7c13f713aa8e4ca3e1dbf08e9d63",
      "patch": "@@ -253,7 +253,7 @@ objcopy_SOURCES = objcopy.c not-strip.c rename.c $(WRITE_DEBUG_SRCS) $(BULIBS)\n strings_SOURCES = strings.c $(BULIBS)\n \n readelf_SOURCES = readelf.c version.c unwind-ia64.c dwarf.c $(ELFLIBS)\n-readelf_LDADD   = $(LIBINTL) $(LIBCTF_NOBFD) $(LIBIBERTY) $(ZLIB) $(DEBUGINFOD_LIBS)\n+readelf_LDADD   = $(LIBCTF_NOBFD) $(LIBINTL) $(LIBIBERTY) $(ZLIB) $(DEBUGINFOD_LIBS)\n \n elfedit_SOURCES = elfedit.c version.c $(ELFLIBS)\n elfedit_LDADD = $(LIBINTL) $(LIBIBERTY)"
    },
    {
      "sha": "fee05dfa84a8c8012c056a19068cd6bc9603873f",
      "filename": "binutils/Makefile.in",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/987cf30ad80c7c13f713aa8e4ca3e1dbf08e9d63/binutils/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/987cf30ad80c7c13f713aa8e4ca3e1dbf08e9d63/binutils/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/Makefile.in?ref=987cf30ad80c7c13f713aa8e4ca3e1dbf08e9d63",
      "patch": "@@ -720,7 +720,7 @@ size_SOURCES = size.c $(BULIBS)\n objcopy_SOURCES = objcopy.c not-strip.c rename.c $(WRITE_DEBUG_SRCS) $(BULIBS)\n strings_SOURCES = strings.c $(BULIBS)\n readelf_SOURCES = readelf.c version.c unwind-ia64.c dwarf.c $(ELFLIBS)\n-readelf_LDADD = $(LIBINTL) $(LIBCTF_NOBFD) $(LIBIBERTY) $(ZLIB) $(DEBUGINFOD_LIBS)\n+readelf_LDADD = $(LIBCTF_NOBFD) $(LIBINTL) $(LIBIBERTY) $(ZLIB) $(DEBUGINFOD_LIBS)\n elfedit_SOURCES = elfedit.c version.c $(ELFLIBS)\n elfedit_LDADD = $(LIBINTL) $(LIBIBERTY)\n strip_new_SOURCES = objcopy.c is-strip.c rename.c $(WRITE_DEBUG_SRCS) $(BULIBS)"
    },
    {
      "sha": "34671a79431c4124d9d565f1604eefa569d382e1",
      "filename": "libctf/ChangeLog",
      "status": "modified",
      "additions": 12,
      "deletions": 0,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/987cf30ad80c7c13f713aa8e4ca3e1dbf08e9d63/libctf/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/987cf30ad80c7c13f713aa8e4ca3e1dbf08e9d63/libctf/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/libctf/ChangeLog?ref=987cf30ad80c7c13f713aa8e4ca3e1dbf08e9d63",
      "patch": "@@ -1,3 +1,15 @@\n+2020-08-27  Nick Alcock  <nick.alcock@oracle.com>\n+\n+\t* configure.ac: Adjust package name to simply 'libctf': arbitrarily\n+\tdeclare this to be version 1.2.0.\n+\t* Makefile.am (AM_CPPFLAGS): Add @INCINTL@.\n+\t* Makefile.in: Regenerated.\n+\t* configure: Regenerated.\n+\t* ctf-intl.h: New file, lightly modified from opcodes/opintl.h.\n+\t* ctf-impl.h: Include it.\n+\t* ctf-error.r (_ctf_errlist_t): Mark strings as noop-translatable.\n+\t(ctf_errmsg): Actually translate them.\n+\n 2020-07-26  Eli Zaretskii  <eliz@gnu.org>\n \n \tPR binutils/25155:"
    },
    {
      "sha": "d762b0abf11172f73f41d16b8dd6afc66bc0f079",
      "filename": "libctf/Makefile.am",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/987cf30ad80c7c13f713aa8e4ca3e1dbf08e9d63/libctf/Makefile.am",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/987cf30ad80c7c13f713aa8e4ca3e1dbf08e9d63/libctf/Makefile.am",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/libctf/Makefile.am?ref=987cf30ad80c7c13f713aa8e4ca3e1dbf08e9d63",
      "patch": "@@ -28,7 +28,7 @@ ZLIB = @zlibdir@ -lz\n ZLIBINC = @zlibinc@\n \n INCDIR = $(srcdir)/../include\n-AM_CPPFLAGS = -D_GNU_SOURCE -I$(srcdir) -I$(srcdir)/../include -I$(srcdir)/../bfd -I../bfd\n+AM_CPPFLAGS = -D_GNU_SOURCE -I$(srcdir) -I$(srcdir)/../include -I$(srcdir)/../bfd -I../bfd @INCINTL@\n AM_CFLAGS = -std=gnu99 @ac_libctf_warn_cflags@ @warn@ @c_warn@ @WARN_PEDANTIC@ @WERROR@ $(ZLIBINC)\n \n if INSTALL_LIBBFD"
    },
    {
      "sha": "f43c0953e42971852adea5602ba104e24fe9ebda",
      "filename": "libctf/Makefile.in",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/987cf30ad80c7c13f713aa8e4ca3e1dbf08e9d63/libctf/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/987cf30ad80c7c13f713aa8e4ca3e1dbf08e9d63/libctf/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/libctf/Makefile.in?ref=987cf30ad80c7c13f713aa8e4ca3e1dbf08e9d63",
      "patch": "@@ -447,7 +447,7 @@ AUTOMAKE_OPTIONS = foreign no-texinfo.tex\n ZLIB = @zlibdir@ -lz\n ZLIBINC = @zlibinc@\n INCDIR = $(srcdir)/../include\n-AM_CPPFLAGS = -D_GNU_SOURCE -I$(srcdir) -I$(srcdir)/../include -I$(srcdir)/../bfd -I../bfd\n+AM_CPPFLAGS = -D_GNU_SOURCE -I$(srcdir) -I$(srcdir)/../include -I$(srcdir)/../bfd -I../bfd @INCINTL@\n AM_CFLAGS = -std=gnu99 @ac_libctf_warn_cflags@ @warn@ @c_warn@ @WARN_PEDANTIC@ @WERROR@ $(ZLIBINC)\n @INSTALL_LIBBFD_TRUE@lib_LTLIBRARIES = libctf.la libctf-nobfd.la\n @INSTALL_LIBBFD_FALSE@include_HEADERS = "
    },
    {
      "sha": "b7ca7cd5003c29448a352b8c414950bc16146f68",
      "filename": "libctf/configure",
      "status": "modified",
      "additions": 14,
      "deletions": 14,
      "changes": 28,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/987cf30ad80c7c13f713aa8e4ca3e1dbf08e9d63/libctf/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/987cf30ad80c7c13f713aa8e4ca3e1dbf08e9d63/libctf/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/libctf/configure?ref=987cf30ad80c7c13f713aa8e4ca3e1dbf08e9d63",
      "patch": "@@ -1,6 +1,6 @@\n #! /bin/sh\n # Guess values for system-dependent variables and create Makefiles.\n-# Generated by GNU Autoconf 2.69 for libctf library 1.2.0-pre.\n+# Generated by GNU Autoconf 2.69 for libctf 1.2.0.\n #\n #\n # Copyright (C) 1992-1996, 1998-2012 Free Software Foundation, Inc.\n@@ -585,10 +585,10 @@ MFLAGS=\n MAKEFLAGS=\n \n # Identity of this package.\n-PACKAGE_NAME='libctf library'\n-PACKAGE_TARNAME='libctf-library'\n-PACKAGE_VERSION='1.2.0-pre'\n-PACKAGE_STRING='libctf library 1.2.0-pre'\n+PACKAGE_NAME='libctf'\n+PACKAGE_TARNAME='libctf'\n+PACKAGE_VERSION='1.2.0'\n+PACKAGE_STRING='libctf 1.2.0'\n PACKAGE_BUGREPORT=''\n PACKAGE_URL=''\n \n@@ -1349,7 +1349,7 @@ if test \"$ac_init_help\" = \"long\"; then\n   # Omit some internal or obsolete options to make the list less imposing.\n   # This message is too long to be a string in the A/UX 3.1 sh.\n   cat <<_ACEOF\n-\\`configure' configures libctf library 1.2.0-pre to adapt to many kinds of systems.\n+\\`configure' configures libctf 1.2.0 to adapt to many kinds of systems.\n \n Usage: $0 [OPTION]... [VAR=VALUE]...\n \n@@ -1397,7 +1397,7 @@ Fine tuning of the installation directories:\n   --infodir=DIR           info documentation [DATAROOTDIR/info]\n   --localedir=DIR         locale-dependent data [DATAROOTDIR/locale]\n   --mandir=DIR            man documentation [DATAROOTDIR/man]\n-  --docdir=DIR            documentation root [DATAROOTDIR/doc/libctf-library]\n+  --docdir=DIR            documentation root [DATAROOTDIR/doc/libctf]\n   --htmldir=DIR           html documentation [DOCDIR]\n   --dvidir=DIR            dvi documentation [DOCDIR]\n   --pdfdir=DIR            pdf documentation [DOCDIR]\n@@ -1419,7 +1419,7 @@ fi\n \n if test -n \"$ac_init_help\"; then\n   case $ac_init_help in\n-     short | recursive ) echo \"Configuration of libctf library 1.2.0-pre:\";;\n+     short | recursive ) echo \"Configuration of libctf 1.2.0:\";;\n    esac\n   cat <<\\_ACEOF\n \n@@ -1532,7 +1532,7 @@ fi\n test -n \"$ac_init_help\" && exit $ac_status\n if $ac_init_version; then\n   cat <<\\_ACEOF\n-libctf library configure 1.2.0-pre\n+libctf configure 1.2.0\n generated by GNU Autoconf 2.69\n \n Copyright (C) 2012 Free Software Foundation, Inc.\n@@ -1943,7 +1943,7 @@ cat >config.log <<_ACEOF\n This file contains any messages produced by compilers while\n running configure, to aid debugging if configure makes a mistake.\n \n-It was created by libctf library $as_me 1.2.0-pre, which was\n+It was created by libctf $as_me 1.2.0, which was\n generated by GNU Autoconf 2.69.  Invocation command line was\n \n   $ $0 $@\n@@ -4185,8 +4185,8 @@ fi\n \n \n # Define the identity of the package.\n- PACKAGE='libctf-library'\n- VERSION='1.2.0-pre'\n+ PACKAGE='libctf'\n+ VERSION='1.2.0'\n \n \n cat >>confdefs.h <<_ACEOF\n@@ -13944,7 +13944,7 @@ cat >>$CONFIG_STATUS <<\\_ACEOF || ac_write_fail=1\n # report actual input values of CONFIG_FILES etc. instead of their\n # values after options handling.\n ac_log=\"\n-This file was extended by libctf library $as_me 1.2.0-pre, which was\n+This file was extended by libctf $as_me 1.2.0, which was\n generated by GNU Autoconf 2.69.  Invocation command line was\n \n   CONFIG_FILES    = $CONFIG_FILES\n@@ -14010,7 +14010,7 @@ _ACEOF\n cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1\n ac_cs_config=\"`$as_echo \"$ac_configure_args\" | sed 's/^ //; s/[\\\\\"\"\\`\\$]/\\\\\\\\&/g'`\"\n ac_cs_version=\"\\\\\n-libctf library config.status 1.2.0-pre\n+libctf config.status 1.2.0\n configured by $0, generated by GNU Autoconf 2.69,\n   with options \\\\\"\\$ac_cs_config\\\\\"\n "
    },
    {
      "sha": "575da4677f3b8700a10ea8a077f6f2f85885c8be",
      "filename": "libctf/configure.ac",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/987cf30ad80c7c13f713aa8e4ca3e1dbf08e9d63/libctf/configure.ac",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/987cf30ad80c7c13f713aa8e4ca3e1dbf08e9d63/libctf/configure.ac",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/libctf/configure.ac?ref=987cf30ad80c7c13f713aa8e4ca3e1dbf08e9d63",
      "patch": "@@ -19,7 +19,7 @@ dnl <http://www.gnu.org/licenses/>.\n dnl\n \n AC_PREREQ(2.64)\n-AC_INIT([libctf library], 1.2.0-pre)\n+AC_INIT([libctf], 1.2.0)\n AC_CONFIG_SRCDIR(ctf-impl.h)\n AC_CONFIG_MACRO_DIR(../config)\n AC_CONFIG_MACRO_DIR(../bfd)"
    },
    {
      "sha": "9611e367fde97f49d23236e459ffce5a2162d3dc",
      "filename": "libctf/ctf-error.c",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/987cf30ad80c7c13f713aa8e4ca3e1dbf08e9d63/libctf/ctf-error.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/987cf30ad80c7c13f713aa8e4ca3e1dbf08e9d63/libctf/ctf-error.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/libctf/ctf-error.c?ref=987cf30ad80c7c13f713aa8e4ca3e1dbf08e9d63",
      "patch": "@@ -45,7 +45,7 @@ static const union _ctf_errlist_t\n } _ctf_errlist =\n   {\n    {\n-#define _CTF_STR(n, s) s,\n+#define _CTF_STR(n, s) N_(s),\n #include \"ctf-error.h\"\n #undef _CTF_STR\n    }\n@@ -70,7 +70,7 @@ ctf_errmsg (int error)\n   else\n     str = (const char *) strerror (error);\n \n-  return (str ? str : \"Unknown error\");\n+  return (str ? gettext (str) : _(\"Unknown error\"));\n }\n \n int"
    },
    {
      "sha": "faee039adc85d181e064feb965c0786d0bfd721f",
      "filename": "libctf/ctf-impl.h",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/987cf30ad80c7c13f713aa8e4ca3e1dbf08e9d63/libctf/ctf-impl.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/987cf30ad80c7c13f713aa8e4ca3e1dbf08e9d63/libctf/ctf-impl.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/libctf/ctf-impl.h?ref=987cf30ad80c7c13f713aa8e4ca3e1dbf08e9d63",
      "patch": "@@ -36,6 +36,7 @@\n #include <elf.h>\n #include <bfd.h>\n #include \"hashtab.h\"\n+#include \"ctf-intl.h\"\n \n #ifdef\t__cplusplus\n extern \"C\""
    },
    {
      "sha": "af74872544a3c267ad1ab9e3d7e10a09e4499419",
      "filename": "libctf/ctf-intl.h",
      "status": "added",
      "additions": 68,
      "deletions": 0,
      "changes": 68,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/987cf30ad80c7c13f713aa8e4ca3e1dbf08e9d63/libctf/ctf-intl.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/987cf30ad80c7c13f713aa8e4ca3e1dbf08e9d63/libctf/ctf-intl.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/libctf/ctf-intl.h?ref=987cf30ad80c7c13f713aa8e4ca3e1dbf08e9d63",
      "patch": "@@ -0,0 +1,68 @@\n+/* ctf-intl.h - libctf specific header for gettext code.\n+   Copyright (C) 1998-2020 Free Software Foundation, Inc.\n+\n+   Written by Tom Tromey <tromey@cygnus.com>\n+\n+   This file is part of libctf.\n+\n+   This library is free software; you can redistribute it and/or modify\n+   it under the terms of the GNU General Public License as published by\n+   the Free Software Foundation; either version 3, or (at your option)\n+   any later version.\n+\n+   It is distributed in the hope that it will be useful, but WITHOUT\n+   ANY WARRANTY; without even the implied warranty of MERCHANTABILITY\n+   or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public\n+   License for more details.\n+\n+   You should have received a copy of the GNU General Public License\n+   along with this file; see the file COPYING.  If not, write to the\n+   Free Software Foundation, 51 Franklin Street - Fifth Floor, Boston,\n+   MA 02110-1301, USA.  */\n+\n+#ifndef _CTF_INTL_H\n+#define _CTF_INTL_H\n+\n+#ifdef ENABLE_NLS\n+# include <libintl.h>\n+/* Note the redefinition of gettext and ngettext here to use PACKAGE.\n+\n+   This is because the code in this directory is used to build a\n+   library which will be linked with code in other directories to form\n+   programs.  We want to maintain a separate translation file for this\n+   directory however, rather than being forced to merge it with that\n+   of any program linked to libopcodes.  This is a library, so it\n+   cannot depend on the catalog currently loaded.\n+\n+   In order to do this, we have to make sure that when we extract\n+   messages we use the LIBCTF domain rather than the domain of the\n+   program that included the opcodes library, (eg OBJDUMP).  Hence we\n+   use dgettext (PACKAGE, String) and define PACKAGE to be 'libctf'.\n+   (See the code in configure).  */\n+# undef gettext\n+# define gettext(Msgid) dgettext (PACKAGE, Msgid)\n+# undef ngettext\n+# define ngettext(Msgid1, Msgid2, n) dngettext (PACKAGE, Msgid1, Msgid2, n)\n+# define _(String) gettext (String)\n+# ifdef gettext_noop\n+#  define N_(String) gettext_noop (String)\n+# else\n+#  define N_(String) String\n+# endif\n+#else\n+# define gettext(Msgid) (Msgid)\n+# define dgettext(Domainname, Msgid) (Msgid)\n+# define dcgettext(Domainname, Msgid, Category) (Msgid)\n+# define ngettext(Msgid1, Msgid2, n) \\\n+  (n == 1 ? Msgid1 : Msgid2)\n+# define dngettext(Domainname, Msgid1, Msgid2, n) \\\n+  (n == 1 ? Msgid1 : Msgid2)\n+# define dcngettext(Domainname, Msgid1, Msgid2, n, Category) \\\n+  (n == 1 ? Msgid1 : Msgid2)\n+# define textdomain(Domainname) do {} while (0)\n+# define bindtextdomain(Domainname, Dirname) do {} while (0)\n+# define _(String) (String)\n+# define N_(String) String\n+#endif\n+\n+#endif /* _CTF_INTL_H */"
    }
  ]
}