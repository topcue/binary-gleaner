{
  "sha": "fdb2b35b8fdbd5a6c136db326c73582dbfb335f8",
  "node_id": "C_kwDOANOeidoAKGZkYjJiMzViOGZkYmQ1YTZjMTM2ZGIzMjZjNzM1ODJkYmZiMzM1Zjg",
  "commit": {
    "author": {
      "name": "Nelson Chu",
      "email": "nelson.chu@sifive.com",
      "date": "2021-12-14T04:53:48Z"
    },
    "committer": {
      "name": "Nelson Chu",
      "email": "nelson.chu@sifive.com",
      "date": "2021-12-14T05:21:20Z"
    },
    "message": "RISC-V: Added ld testcases for the medlow and medany code models.\n\nThere are two linker scripts, code-model-01.ld and code-model-02.ld,\nwhich are corresponding to the two different memory layouts,\n\n* code-model-01.ld: the text section is in the 32-bit address range, but\n  the data section is far away from the text section, which means the data\n  section is over the 32-bit address range.\n\n* code-model-02.ld: the text section is over the 32-bit address range, but\n  the data section is placed nearly zero address.\n\nWe use the two linker scripts, to test the current medlow and medany behaviors\nof GNU ld, including the weak symbol references and the relaxations behaviors.\nBesides, these testcases also show the limits of the current medlow and medany\ncode models, that is - we may get the truncated to fit errors when linking\nwith the above two linker scripts.\n\nld/\n\t* testsuite/ld-riscv-elf/code-model-01.ld: New testcases to test the\n\tbehaviors of the current medlow and medany code models.\n\t* testsuite/ld-riscv-elf/code-model-02.ld: Likewise.\n\t* testsuite/ld-riscv-elf/code-model-medany-01.d: Likewise.\n\t* testsuite/ld-riscv-elf/code-model-medany-02.d: Likewise.\n\t* testsuite/ld-riscv-elf/code-model-medany-weakref-01.d: Likewise.\n\t* testsuite/ld-riscv-elf/code-model-medany-weakref-02.d: Likewise.\n\t* testsuite/ld-riscv-elf/code-model-medlow-01.d: Likewise.\n\t* testsuite/ld-riscv-elf/code-model-medlow-02.d: Likewise.\n\t* testsuite/ld-riscv-elf/code-model-medlow-weakref-01.d: Likewise.\n\t* testsuite/ld-riscv-elf/code-model-medlow-weakref-02.d: Likewise.\n\t* testsuite/ld-riscv-elf/code-model-relax-medany-01.d: Likewise.\n\t* testsuite/ld-riscv-elf/code-model-relax-medany-02.d: Likewise.\n\t* testsuite/ld-riscv-elf/code-model-relax-medany-weakref-01.d: Likewise.\n\t* testsuite/ld-riscv-elf/code-model-relax-medany-weakref-02.d: Likewise.\n\t* testsuite/ld-riscv-elf/code-model-relax-medlow-01.d: Likewise.\n\t* testsuite/ld-riscv-elf/code-model-relax-medlow-02.d: Likewise.\n\t* testsuite/ld-riscv-elf/code-model-relax-medlow-weakref-01.d: Likewise.\n\t* testsuite/ld-riscv-elf/code-model-relax-medlow-weakref-02.d: Likewise.\n\t* testsuite/ld-riscv-elf/code-model.s: Likewise.\n\t* testsuite/ld-riscv-elf/ld-riscv-elf.exp: Updated.",
    "tree": {
      "sha": "8f9b5aa7b7d5c8cd69df0812ebacf3304abd5f11",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/8f9b5aa7b7d5c8cd69df0812ebacf3304abd5f11"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8/comments",
  "author": null,
  "committer": null,
  "parents": [
    {
      "sha": "527b8861cd472385fa9160a91dd6d65a25c41987",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/527b8861cd472385fa9160a91dd6d65a25c41987",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/527b8861cd472385fa9160a91dd6d65a25c41987"
    }
  ],
  "stats": {
    "total": 280,
    "additions": 280,
    "deletions": 0
  },
  "files": [
    {
      "sha": "676f0843ddcdf4e7cce7192871eb9a0f7aac8bd4",
      "filename": "ld/testsuite/ld-riscv-elf/code-model-01.ld",
      "status": "added",
      "additions": 24,
      "deletions": 0,
      "changes": 24,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8/ld/testsuite/ld-riscv-elf/code-model-01.ld",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8/ld/testsuite/ld-riscv-elf/code-model-01.ld",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-riscv-elf/code-model-01.ld?ref=fdb2b35b8fdbd5a6c136db326c73582dbfb335f8",
      "patch": "@@ -0,0 +1,24 @@\n+/* text: in the 32-bit address range.\n+   data: far away from text. */\n+\n+ENTRY(_start)\n+MEMORY\n+{\n+\trom (rx)  : ORIGIN = 0x10000, LENGTH = 0x1000\n+\tram (!rx) : ORIGIN = 0x800000000, LENGTH = 0x1000\n+}\n+SECTIONS {\n+\t.text : {\n+\t\t*(.text*)\n+\t} >rom\n+\n+\t.data : {\n+\t\t*(.data*)\n+\t} >ram\n+\n+\t__global_pointer$ = .;\n+\n+\t.got : {\n+\t\t*(.got*)\n+\t} > ram\n+}"
    },
    {
      "sha": "af8a2feb0531b9c064a828a2f0da5e0b36a32ee4",
      "filename": "ld/testsuite/ld-riscv-elf/code-model-02.ld",
      "status": "added",
      "additions": 24,
      "deletions": 0,
      "changes": 24,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8/ld/testsuite/ld-riscv-elf/code-model-02.ld",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8/ld/testsuite/ld-riscv-elf/code-model-02.ld",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-riscv-elf/code-model-02.ld?ref=fdb2b35b8fdbd5a6c136db326c73582dbfb335f8",
      "patch": "@@ -0,0 +1,24 @@\n+/* text: over the 32-bit address range.\n+   data: far away from text, and nearly-zero. */\n+\n+ENTRY(_start)\n+MEMORY\n+{\n+\trom (rx)  : ORIGIN = 0x800000000, LENGTH = 0x1000\n+\tram (!rx) : ORIGIN = 0x10, LENGTH = 0x1000\n+}\n+SECTIONS {\n+\t.text : {\n+\t\t*(.text*)\n+\t} >rom\n+\n+\t.data : {\n+\t\t*(.data*)\n+\t} >ram\n+\n+\t__global_pointer$ = .;\n+\n+\t.got : {\n+\t\t*(.got*)\n+\t} > ram\n+}"
    },
    {
      "sha": "071eee8e5b43e4917d315d75f6ee7bfba3d3691e",
      "filename": "ld/testsuite/ld-riscv-elf/code-model-medany-01.d",
      "status": "added",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8/ld/testsuite/ld-riscv-elf/code-model-medany-01.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8/ld/testsuite/ld-riscv-elf/code-model-medany-01.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-riscv-elf/code-model-medany-01.d?ref=fdb2b35b8fdbd5a6c136db326c73582dbfb335f8",
      "patch": "@@ -0,0 +1,4 @@\n+#source: code-model.s\n+#as: -march=rv64i -mabi=lp64 --defsym __medany__=1\n+#ld: -Tcode-model-01.ld -melf64lriscv --no-relax\n+#error: .*relocation truncated to fit: R_RISCV_GOT_HI20 against symbol `symbolG'"
    },
    {
      "sha": "017a1dcfda437de3ebbf1df6b648707a0a53d4ca",
      "filename": "ld/testsuite/ld-riscv-elf/code-model-medany-02.d",
      "status": "added",
      "additions": 17,
      "deletions": 0,
      "changes": 17,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8/ld/testsuite/ld-riscv-elf/code-model-medany-02.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8/ld/testsuite/ld-riscv-elf/code-model-medany-02.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-riscv-elf/code-model-medany-02.d?ref=fdb2b35b8fdbd5a6c136db326c73582dbfb335f8",
      "patch": "@@ -0,0 +1,17 @@\n+#source: code-model.s\n+#as: -march=rv64i -mabi=lp64 --defsym __medany__=1\n+#ld: -Tcode-model-02.ld -melf64lriscv --no-relax\n+#objdump: -d -Mno-aliases\n+\n+.*:[ \t]+file format .*\n+\n+\n+Disassembly of section .text:\n+\n+0+800000000 <_start>:\n+[ \t]+[0-9a-f]+:[ \t]+[0-9a-f]+[ \t]+lui[ \t]+t0,0x[0-9a-f]+\n+[ \t]+[0-9a-f]+:[ \t]+[0-9a-f]+[ \t]+ld[ \t]+t0,[0-9]+\\(t0\\) # [0-9a-f]+ <_GLOBAL_OFFSET_TABLE_\\+0x[0-9a-f]+>\n+[ \t]+[0-9a-f]+:[ \t]+[0-9a-f]+[ \t]+lui[ \t]+t0,0x[0-9a-f]+\n+[ \t]+[0-9a-f]+:[ \t]+[0-9a-f]+[ \t]+addi[ \t]+t0,t0,[0-9]+ # [0-9a-f]+ <symbolL>\n+[ \t]+[0-9a-f]+:[ \t]+[0-9a-f]+[ \t]+lui[ \t]+t0,0x[0-9a-f]+\n+[ \t]+[0-9a-f]+:[ \t]+[0-9a-f]+[ \t]+addi[ \t]+t0,t0,[0-9]+ # [0-9a-f]+ <symbolG>"
    },
    {
      "sha": "0fe5c451393c2561a3e85d32bee8bb7c86a1fcaa",
      "filename": "ld/testsuite/ld-riscv-elf/code-model-medany-weakref-01.d",
      "status": "added",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8/ld/testsuite/ld-riscv-elf/code-model-medany-weakref-01.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8/ld/testsuite/ld-riscv-elf/code-model-medany-weakref-01.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-riscv-elf/code-model-medany-weakref-01.d?ref=fdb2b35b8fdbd5a6c136db326c73582dbfb335f8",
      "patch": "@@ -0,0 +1,4 @@\n+#source: code-model.s\n+#as: -march=rv64i -mabi=lp64 --defsym __medany__=1 --defsym __undefweak__=1\n+#ld: -Tcode-model-01.ld -melf64lriscv --no-relax\n+#error: .*relocation truncated to fit: R_RISCV_GOT_HI20 against undefined symbol `symbolW'"
    },
    {
      "sha": "2b3aaae82a8fccad04be7456874b860649673b24",
      "filename": "ld/testsuite/ld-riscv-elf/code-model-medany-weakref-02.d",
      "status": "added",
      "additions": 13,
      "deletions": 0,
      "changes": 13,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8/ld/testsuite/ld-riscv-elf/code-model-medany-weakref-02.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8/ld/testsuite/ld-riscv-elf/code-model-medany-weakref-02.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-riscv-elf/code-model-medany-weakref-02.d?ref=fdb2b35b8fdbd5a6c136db326c73582dbfb335f8",
      "patch": "@@ -0,0 +1,13 @@\n+#source: code-model.s\n+#as: -march=rv64i -mabi=lp64 --defsym __medany__=1 --defsym __undefweak__=1\n+#ld: -Tcode-model-02.ld -melf64lriscv --no-relax\n+#objdump: -d -Mno-aliases\n+\n+.*:[ \t]+file format .*\n+\n+\n+Disassembly of section .text:\n+\n+0+800000000 <_start>:\n+[ \t]+[0-9a-f]+:[ \t]+[0-9a-f]+[ \t]+lui[ \t]+t0,0x0\n+[ \t]+[0-9a-f]+:[ \t]+[0-9a-f]+[ \t]+ld[ \t]+t0,[0-9]+\\(t0\\) # [0-9a-f]+ <_GLOBAL_OFFSET_TABLE_\\+0x[0-9a-f]+>"
    },
    {
      "sha": "a92389326ef6273758cb4b03d46ac542f467bf57",
      "filename": "ld/testsuite/ld-riscv-elf/code-model-medlow-01.d",
      "status": "added",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8/ld/testsuite/ld-riscv-elf/code-model-medlow-01.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8/ld/testsuite/ld-riscv-elf/code-model-medlow-01.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-riscv-elf/code-model-medlow-01.d?ref=fdb2b35b8fdbd5a6c136db326c73582dbfb335f8",
      "patch": "@@ -0,0 +1,4 @@\n+#source: code-model.s\n+#as: -march=rv64i -mabi=lp64 --defsym __medlow__=1\n+#ld: -Tcode-model-01.ld -melf64lriscv --no-relax\n+#error: .*relocation truncated to fit: R_RISCV_HI20 against `symbolL'"
    },
    {
      "sha": "11688635fe62893a07d264ba72ec6edf7a25dc8d",
      "filename": "ld/testsuite/ld-riscv-elf/code-model-medlow-02.d",
      "status": "added",
      "additions": 15,
      "deletions": 0,
      "changes": 15,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8/ld/testsuite/ld-riscv-elf/code-model-medlow-02.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8/ld/testsuite/ld-riscv-elf/code-model-medlow-02.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-riscv-elf/code-model-medlow-02.d?ref=fdb2b35b8fdbd5a6c136db326c73582dbfb335f8",
      "patch": "@@ -0,0 +1,15 @@\n+#source: code-model.s\n+#as: -march=rv64i -mabi=lp64 --defsym __medlow__=1\n+#ld: -Tcode-model-02.ld -melf64lriscv --no-relax\n+#objdump: -d -Mno-aliases\n+\n+.*:[ \t]+file format .*\n+\n+\n+Disassembly of section .text:\n+\n+0+800000000 <_start>:\n+[ \t]+[0-9a-f]+:[ \t]+[0-9a-f]+[ \t]+lui[ \t]+t0,0x[0-9a-f]+\n+[ \t]+[0-9a-f]+:[ \t]+[0-9a-f]+[ \t]+addi[ \t]+t0,t0,[0-9]+ # [0-9a-f]+ <symbolL>\n+[ \t]+[0-9a-f]+:[ \t]+[0-9a-f]+[ \t]+lui[ \t]+t0,0x[0-9a-f]+\n+[ \t]+[0-9a-f]+:[ \t]+[0-9a-f]+[ \t]+addi[ \t]+t0,t0,[0-9]+ # [0-9a-f]+ <symbolG>"
    },
    {
      "sha": "28f8fe98b2a3897e0d8ebacdc692481c46b0332a",
      "filename": "ld/testsuite/ld-riscv-elf/code-model-medlow-weakref-01.d",
      "status": "added",
      "additions": 13,
      "deletions": 0,
      "changes": 13,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8/ld/testsuite/ld-riscv-elf/code-model-medlow-weakref-01.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8/ld/testsuite/ld-riscv-elf/code-model-medlow-weakref-01.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-riscv-elf/code-model-medlow-weakref-01.d?ref=fdb2b35b8fdbd5a6c136db326c73582dbfb335f8",
      "patch": "@@ -0,0 +1,13 @@\n+#source: code-model.s\n+#as: -march=rv64i -mabi=lp64 --defsym __medlow__=1 --defsym __undefweak__=1\n+#ld: -Tcode-model-01.ld -melf64lriscv --no-relax\n+#objdump: -d -Mno-aliases\n+\n+.*:[ \t]+file format .*\n+\n+\n+Disassembly of section .text:\n+\n+0+10000 <_start>:\n+[ \t]+[0-9a-f]+:[ \t]+[0-9a-f]+[ \t]+lui[ \t]+t0,0x0\n+[ \t]+[0-9a-f]+:[ \t]+[0-9a-f]+[ \t]+addi[ \t]+t0,t0,0 # 0 <.*>"
    },
    {
      "sha": "405b0fe25af66f0ea926ed60c8d659cca65087e8",
      "filename": "ld/testsuite/ld-riscv-elf/code-model-medlow-weakref-02.d",
      "status": "added",
      "additions": 13,
      "deletions": 0,
      "changes": 13,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8/ld/testsuite/ld-riscv-elf/code-model-medlow-weakref-02.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8/ld/testsuite/ld-riscv-elf/code-model-medlow-weakref-02.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-riscv-elf/code-model-medlow-weakref-02.d?ref=fdb2b35b8fdbd5a6c136db326c73582dbfb335f8",
      "patch": "@@ -0,0 +1,13 @@\n+#source: code-model.s\n+#as: -march=rv64i -mabi=lp64 --defsym __medlow__=1 --defsym __undefweak__=1\n+#ld: -Tcode-model-02.ld -melf64lriscv --no-relax\n+#objdump: -d -Mno-aliases\n+\n+.*:[ \t]+file format .*\n+\n+\n+Disassembly of section .text:\n+\n+0+800000000 <_start>:\n+[ \t]+[0-9a-f]+:[ \t]+[0-9a-f]+[ \t]+lui[ \t]+t0,0x0\n+[ \t]+[0-9a-f]+:[ \t]+[0-9a-f]+[ \t]+addi[ \t]+t0,t0,0 # 0 <.*>"
    },
    {
      "sha": "afa24eff632bc5f8404d511f13edfc2a6d7ffea4",
      "filename": "ld/testsuite/ld-riscv-elf/code-model-relax-medany-01.d",
      "status": "added",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8/ld/testsuite/ld-riscv-elf/code-model-relax-medany-01.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8/ld/testsuite/ld-riscv-elf/code-model-relax-medany-01.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-riscv-elf/code-model-relax-medany-01.d?ref=fdb2b35b8fdbd5a6c136db326c73582dbfb335f8",
      "patch": "@@ -0,0 +1,4 @@\n+#source: code-model.s\n+#as: -march=rv64i -mabi=lp64 --defsym __medany__=1\n+#ld: -Tcode-model-01.ld -melf64lriscv --relax\n+#error: .*relocation truncated to fit: R_RISCV_GOT_HI20 against symbol `symbolG'"
    },
    {
      "sha": "7b5b9e99c663a552d9586cc96bec92c32d47292c",
      "filename": "ld/testsuite/ld-riscv-elf/code-model-relax-medany-02.d",
      "status": "added",
      "additions": 15,
      "deletions": 0,
      "changes": 15,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8/ld/testsuite/ld-riscv-elf/code-model-relax-medany-02.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8/ld/testsuite/ld-riscv-elf/code-model-relax-medany-02.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-riscv-elf/code-model-relax-medany-02.d?ref=fdb2b35b8fdbd5a6c136db326c73582dbfb335f8",
      "patch": "@@ -0,0 +1,15 @@\n+#source: code-model.s\n+#as: -march=rv64i -mabi=lp64 --defsym __medany__=1\n+#ld: -Tcode-model-02.ld -melf64lriscv --relax\n+#objdump: -d -Mno-aliases\n+\n+.*:[ \t]+file format .*\n+\n+\n+Disassembly of section .text:\n+\n+0+800000000 <_start>:\n+[ \t]+[0-9a-f]+:[ \t]+[0-9a-f]+[ \t]+lui[ \t]+t0,0x[0-9a-f]+\n+[ \t]+[0-9a-f]+:[ \t]+[0-9a-f]+[ \t]+ld[ \t]+t0,[0-9]+\\(t0\\) # [0-9a-f]+ <_GLOBAL_OFFSET_TABLE_\\+0x[0-9a-f]+>\n+[ \t]+[0-9a-f]+:[ \t]+[0-9a-f]+[ \t]+addi[ \t]+t0,zero,[0-9]+\n+[ \t]+[0-9a-f]+:[ \t]+[0-9a-f]+[ \t]+addi[ \t]+t0,zero,[0-9]+"
    },
    {
      "sha": "5b2d1eaf1db1669262a4cbdc334328b2d5fa8bca",
      "filename": "ld/testsuite/ld-riscv-elf/code-model-relax-medany-weakref-01.d",
      "status": "added",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8/ld/testsuite/ld-riscv-elf/code-model-relax-medany-weakref-01.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8/ld/testsuite/ld-riscv-elf/code-model-relax-medany-weakref-01.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-riscv-elf/code-model-relax-medany-weakref-01.d?ref=fdb2b35b8fdbd5a6c136db326c73582dbfb335f8",
      "patch": "@@ -0,0 +1,4 @@\n+#source: code-model.s\n+#as: -march=rv64i -mabi=lp64 --defsym __medany__=1 --defsym __undefweak__=1\n+#ld: -Tcode-model-01.ld -melf64lriscv --relax\n+#error: .*relocation truncated to fit: R_RISCV_GOT_HI20 against undefined symbol `symbolW'"
    },
    {
      "sha": "783be0c536212917deac216f0dbe2617d484ca6f",
      "filename": "ld/testsuite/ld-riscv-elf/code-model-relax-medany-weakref-02.d",
      "status": "added",
      "additions": 13,
      "deletions": 0,
      "changes": 13,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8/ld/testsuite/ld-riscv-elf/code-model-relax-medany-weakref-02.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8/ld/testsuite/ld-riscv-elf/code-model-relax-medany-weakref-02.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-riscv-elf/code-model-relax-medany-weakref-02.d?ref=fdb2b35b8fdbd5a6c136db326c73582dbfb335f8",
      "patch": "@@ -0,0 +1,13 @@\n+#source: code-model.s\n+#as: -march=rv64i -mabi=lp64 --defsym __medany__=1 --defsym __undefweak__=1\n+#ld: -Tcode-model-02.ld -melf64lriscv --relax\n+#objdump: -d -Mno-aliases\n+\n+.*:[ \t]+file format .*\n+\n+\n+Disassembly of section .text:\n+\n+0+800000000 <_start>:\n+[ \t]+[0-9a-f]+:[ \t]+[0-9a-f]+[ \t]+lui[ \t]+t0,0x0\n+[ \t]+[0-9a-f]+:[ \t]+[0-9a-f]+[ \t]+ld[ \t]+t0,[0-9]+\\(t0\\) # [0-9a-f]+ <_GLOBAL_OFFSET_TABLE_\\+0x[0-9a-f]+>"
    },
    {
      "sha": "eea2f7d6615f4e6d290ffa43b4b230d8be98a3ca",
      "filename": "ld/testsuite/ld-riscv-elf/code-model-relax-medlow-01.d",
      "status": "added",
      "additions": 13,
      "deletions": 0,
      "changes": 13,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8/ld/testsuite/ld-riscv-elf/code-model-relax-medlow-01.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8/ld/testsuite/ld-riscv-elf/code-model-relax-medlow-01.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-riscv-elf/code-model-relax-medlow-01.d?ref=fdb2b35b8fdbd5a6c136db326c73582dbfb335f8",
      "patch": "@@ -0,0 +1,13 @@\n+#source: code-model.s\n+#as: -march=rv64i -mabi=lp64 --defsym __medlow__=1\n+#ld: -Tcode-model-01.ld -melf64lriscv --relax\n+#objdump: -d -Mno-aliases\n+\n+.*:[ \t]+file format .*\n+\n+\n+Disassembly of section .text:\n+\n+0+10000 <_start>:\n+[ \t]+[0-9a-f]+:[ \t]+[0-9a-f]+[ \t]+addi[ \t]+t0,gp,\\-[0-9]+ # [0-9a-f]+ <symbolL>\n+[ \t]+[0-9a-f]+:[ \t]+[0-9a-f]+[ \t]+addi[ \t]+t0,gp,\\-[0-9]+ # [0-9a-f]+ <symbolG>"
    },
    {
      "sha": "adc81f5ab2073b3968772f236a2bcb7186c76f51",
      "filename": "ld/testsuite/ld-riscv-elf/code-model-relax-medlow-02.d",
      "status": "added",
      "additions": 13,
      "deletions": 0,
      "changes": 13,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8/ld/testsuite/ld-riscv-elf/code-model-relax-medlow-02.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8/ld/testsuite/ld-riscv-elf/code-model-relax-medlow-02.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-riscv-elf/code-model-relax-medlow-02.d?ref=fdb2b35b8fdbd5a6c136db326c73582dbfb335f8",
      "patch": "@@ -0,0 +1,13 @@\n+#source: code-model.s\n+#as: -march=rv64i -mabi=lp64 --defsym __medlow__=1\n+#ld: -Tcode-model-02.ld -melf64lriscv --relax\n+#objdump: -d -Mno-aliases\n+\n+.*:[ \t]+file format .*\n+\n+\n+Disassembly of section .text:\n+\n+0+800000000 <_start>:\n+[ \t]+[0-9a-f]+:[ \t]+[0-9a-f]+[ \t]+addi[ \t]+t0,zero,[0-9]+\n+[ \t]+[0-9a-f]+:[ \t]+[0-9a-f]+[ \t]+addi[ \t]+t0,zero,[0-9]+"
    },
    {
      "sha": "b1f22039ee9eaa03c982046ac67c3fe5f3be42c7",
      "filename": "ld/testsuite/ld-riscv-elf/code-model-relax-medlow-weakref-01.d",
      "status": "added",
      "additions": 12,
      "deletions": 0,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8/ld/testsuite/ld-riscv-elf/code-model-relax-medlow-weakref-01.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8/ld/testsuite/ld-riscv-elf/code-model-relax-medlow-weakref-01.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-riscv-elf/code-model-relax-medlow-weakref-01.d?ref=fdb2b35b8fdbd5a6c136db326c73582dbfb335f8",
      "patch": "@@ -0,0 +1,12 @@\n+#source: code-model.s\n+#as: -march=rv64i -mabi=lp64 --defsym __medlow__=1 --defsym __undefweak__=1\n+#ld: -Tcode-model-01.ld -melf64lriscv --relax\n+#objdump: -d -Mno-aliases\n+\n+.*:[ \t]+file format .*\n+\n+\n+Disassembly of section .text:\n+\n+0+10000 <_start>:\n+[ \t]+[0-9a-f]+:[ \t]+[0-9a-f]+[ \t]+addi[ \t]+t0,zero,0"
    },
    {
      "sha": "332046d7c5b366c360e4ede89d9c5ba9a1530c70",
      "filename": "ld/testsuite/ld-riscv-elf/code-model-relax-medlow-weakref-02.d",
      "status": "added",
      "additions": 12,
      "deletions": 0,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8/ld/testsuite/ld-riscv-elf/code-model-relax-medlow-weakref-02.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8/ld/testsuite/ld-riscv-elf/code-model-relax-medlow-weakref-02.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-riscv-elf/code-model-relax-medlow-weakref-02.d?ref=fdb2b35b8fdbd5a6c136db326c73582dbfb335f8",
      "patch": "@@ -0,0 +1,12 @@\n+#source: code-model.s\n+#as: -march=rv64i -mabi=lp64 --defsym __medlow__=1 --defsym __undefweak__=1\n+#ld: -Tcode-model-02.ld -melf64lriscv --relax\n+#objdump: -d -Mno-aliases\n+\n+.*:[ \t]+file format .*\n+\n+\n+Disassembly of section .text:\n+\n+0+800000000 <_start>:\n+[ \t]+[0-9a-f]+:[ \t]+[0-9a-f]+[ \t]+addi[ \t]+t0,zero,0"
    },
    {
      "sha": "a88301a53907b2249303ce44c8f4b2714a8aeb32",
      "filename": "ld/testsuite/ld-riscv-elf/code-model.s",
      "status": "added",
      "additions": 47,
      "deletions": 0,
      "changes": 47,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8/ld/testsuite/ld-riscv-elf/code-model.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8/ld/testsuite/ld-riscv-elf/code-model.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-riscv-elf/code-model.s?ref=fdb2b35b8fdbd5a6c136db326c73582dbfb335f8",
      "patch": "@@ -0,0 +1,47 @@\n+\t.text\n+\t.global _start\n+_start:\n+\n+.ifdef __medany__\n+\t.option pic\n+.ifdef __undefweak__\n+\t# Refer to undefined weak symbol by GOT_PCREL.\n+\tla\tt0, symbolW\n+\t.option nopic\n+.else\n+\t# Refer to global data symbol by GOT_PCREL.\n+\tla\tt0, symbolG\n+\t.option nopic\n+\t# Refer to local data symbol by PCREL.\n+\tlla\tt0, symbolL\n+\t# Refer to non-pic data global symbol by PCREL.\n+\tla\tt0, symbolG\n+.endif\n+.endif\n+\n+.ifdef __medlow__\n+.ifdef __undefweak__\n+\t# Refer to undefined weak symbol by absolutely access.\n+\tlui\tt0, %hi(symbolW)\n+\taddi\tt0, t0, %lo(symbolW)\n+.else\n+\t# Refer to local data symbol by absolutely access.\n+\tlui\tt0, %hi(symbolL)\n+\taddi\tt0, t0, %lo(symbolL)\n+\t# Refer to global data symbol by absolutely access.\n+\tlui\tt0, %hi(symbolG)\n+\taddi\tt0, t0, %lo(symbolG)\n+.endif\n+.endif\n+\t.size   _start, .-_start\n+\n+\t.data\n+\t.global symbolG\n+symbolL:\n+\t.dword\t0x1111222233334444\n+symbolG:\n+\t.dword\t0x5555666677778888\n+\n+.ifdef __undefweak__\n+\t.weak\tsymbolW\n+.endif"
    },
    {
      "sha": "961f06433fa227b4f164a1d2b79d841cea42f118",
      "filename": "ld/testsuite/ld-riscv-elf/ld-riscv-elf.exp",
      "status": "modified",
      "additions": 16,
      "deletions": 0,
      "changes": 16,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8/ld/testsuite/ld-riscv-elf/ld-riscv-elf.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/fdb2b35b8fdbd5a6c136db326c73582dbfb335f8/ld/testsuite/ld-riscv-elf/ld-riscv-elf.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-riscv-elf/ld-riscv-elf.exp?ref=fdb2b35b8fdbd5a6c136db326c73582dbfb335f8",
      "patch": "@@ -132,6 +132,22 @@ if [istarget \"riscv*-*-*\"] {\n     run_dump_test \"pcrel-lo-addend-3a\"\n     run_dump_test \"pcrel-lo-addend-3b\"\n     run_dump_test \"pcrel-lo-addend-3c\"\n+    run_dump_test \"code-model-medlow-01\"\n+    run_dump_test \"code-model-medlow-02\"\n+    run_dump_test \"code-model-medlow-weakref-01\"\n+    run_dump_test \"code-model-medlow-weakref-02\"\n+    run_dump_test \"code-model-medany-01\"\n+    run_dump_test \"code-model-medany-02\"\n+    run_dump_test \"code-model-medany-weakref-01\"\n+    run_dump_test \"code-model-medany-weakref-02\"\n+    run_dump_test \"code-model-relax-medlow-01\"\n+    run_dump_test \"code-model-relax-medlow-02\"\n+    run_dump_test \"code-model-relax-medlow-weakref-01\"\n+    run_dump_test \"code-model-relax-medlow-weakref-02\"\n+    run_dump_test \"code-model-relax-medany-01\"\n+    run_dump_test \"code-model-relax-medany-02\"\n+    run_dump_test \"code-model-relax-medany-weakref-01\"\n+    run_dump_test \"code-model-relax-medany-weakref-02\"\n     run_dump_test \"attr-merge-arch-01\"\n     run_dump_test \"attr-merge-arch-02\"\n     run_dump_test \"attr-merge-arch-03\""
    }
  ]
}