{
  "sha": "12efd68d159444ad8dfe24e49965a228ba980b86",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MTJlZmQ2OGQxNTk0NDRhZDhkZmUyNGU0OTk2NWEyMjhiYTk4MGI4Ng==",
  "commit": {
    "author": {
      "name": "H.J. Lu",
      "email": "hjl.tools@gmail.com",
      "date": "2019-06-05T17:27:08Z"
    },
    "committer": {
      "name": "H.J. Lu",
      "email": "hjl.tools@gmail.com",
      "date": "2019-06-05T17:27:28Z"
    },
    "message": "i386: Check vector length for EVEX vextractfXX and vinsertfXX\n\nSince not all vector lengths are supported by EVEX vextractfXX and\nvinsertfXX, decode them only with supported vector lengths.\n\ngas/\n\n\tPR binutils/24633\n\t* testsuite/gas/i386/disassem.s: Add tests for invalid vector\n\tlengths for EVEX vextractfXX and vinsertfXX.\n\t* testsuite/gas/i386/x86-64-disassem.s: Likewise.\n\t* testsuite/gas/i386/disassem.d: Updated.\n\t* testsuite/gas/i386/x86-64-disassem.d: Likewise.\n\nopcodes/\n\n\tPR binutils/24633\n\t* i386-dis-evex.h (evex_table): Update EVEX_W_0F3A18_P_2,\n\tEVEX_W_0F3A19_P_2, EVEX_W_0F3A1A_P_2 and EVEX_W_0F3A1B_P_2.\n\t(evex_len_table): EVEX_LEN_0F3A18_P_2_W_0,\n\tEVEX_LEN_0F3A18_P_2_W_1, EVEX_LEN_0F3A19_P_2_W_0,\n\tEVEX_LEN_0F3A19_P_2_W_1, EVEX_LEN_0F3A1A_P_2_W_0,\n\tEVEX_LEN_0F3A1A_P_2_W_1, EVEX_LEN_0F3A1B_P_2_W_0,\n\tEVEX_LEN_0F3A1B_P_2_W_1.\n\t* i386-dis.c (EVEX_LEN_0F3A18_P_2_W_0): New enum.\n\t(EVEX_LEN_0F3A18_P_2_W_1): Likewise.\n\t(EVEX_LEN_0F3A19_P_2_W_0): Likewise.\n\t(EVEX_LEN_0F3A19_P_2_W_1): Likewise.\n\t(EVEX_LEN_0F3A1A_P_2_W_0): Likewise.\n\t(EVEX_LEN_0F3A1A_P_2_W_1): Likewise.\n\t(EVEX_LEN_0F3A1B_P_2_W_0): Likewise.\n\t(EVEX_LEN_0F3A1B_P_2_W_1): Likewise.",
    "tree": {
      "sha": "277ddd7404ff2131da5578b6e4a993372be0e0ed",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/277ddd7404ff2131da5578b6e4a993372be0e0ed"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/12efd68d159444ad8dfe24e49965a228ba980b86",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/12efd68d159444ad8dfe24e49965a228ba980b86",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/12efd68d159444ad8dfe24e49965a228ba980b86",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/12efd68d159444ad8dfe24e49965a228ba980b86/comments",
  "author": {
    "login": "hjl-tools",
    "id": 1072356,
    "node_id": "MDQ6VXNlcjEwNzIzNTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hjl-tools",
    "html_url": "https://github.com/hjl-tools",
    "followers_url": "https://api.github.com/users/hjl-tools/followers",
    "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}",
    "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions",
    "organizations_url": "https://api.github.com/users/hjl-tools/orgs",
    "repos_url": "https://api.github.com/users/hjl-tools/repos",
    "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hjl-tools/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "hjl-tools",
    "id": 1072356,
    "node_id": "MDQ6VXNlcjEwNzIzNTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hjl-tools",
    "html_url": "https://github.com/hjl-tools",
    "followers_url": "https://api.github.com/users/hjl-tools/followers",
    "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}",
    "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions",
    "organizations_url": "https://api.github.com/users/hjl-tools/orgs",
    "repos_url": "https://api.github.com/users/hjl-tools/repos",
    "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hjl-tools/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "62d8e3b73139b159963025b5568ec1f5051450f0",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/62d8e3b73139b159963025b5568ec1f5051450f0",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/62d8e3b73139b159963025b5568ec1f5051450f0"
    }
  ],
  "stats": {
    "total": 124,
    "additions": 113,
    "deletions": 11
  },
  "files": [
    {
      "sha": "88bba08df895515a27d7cedc92be1c78083d1c4d",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 9,
      "deletions": 0,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/12efd68d159444ad8dfe24e49965a228ba980b86/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/12efd68d159444ad8dfe24e49965a228ba980b86/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=12efd68d159444ad8dfe24e49965a228ba980b86",
      "patch": "@@ -1,3 +1,12 @@\n+2019-06-05  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\tPR binutils/24633\n+\t* testsuite/gas/i386/disassem.s: Add tests for invalid vector\n+\tlengths for EVEX vextractfXX and vinsertfXX.\n+\t* testsuite/gas/i386/x86-64-disassem.s: Likewise.\n+\t* testsuite/gas/i386/disassem.d: Updated.\n+\t* testsuite/gas/i386/x86-64-disassem.d: Likewise.\n+\n 2019-06-04  H.J. Lu  <hongjiu.lu@intel.com>\n \n \tPR binutils/24626"
    },
    {
      "sha": "530e3a17d560941cc4aebb33c12087325fd64676",
      "filename": "gas/testsuite/gas/i386/disassem.d",
      "status": "modified",
      "additions": 4,
      "deletions": 1,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/12efd68d159444ad8dfe24e49965a228ba980b86/gas/testsuite/gas/i386/disassem.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/12efd68d159444ad8dfe24e49965a228ba980b86/gas/testsuite/gas/i386/disassem.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/disassem.d?ref=12efd68d159444ad8dfe24e49965a228ba980b86",
      "patch": "@@ -345,5 +345,8 @@ Disassembly of section \\.text:\n [ \t]*[a-f0-9]+:[ \t]*41[ \t]*inc[ \t]*%ecx\n [ \t]*[a-f0-9]+:[ \t]*37[ \t]*aaa[ ]*\n [ \t]*[a-f0-9]+:[ \t]*62 f2 ad 08 1c[ \t]*\\(bad\\)[ ]*\n-[ \t]*[a-f0-9]+:[ \t]*01[ \t]*.byte[ \t]*0x1\n+[ \t]*[a-f0-9]+:[ \t]*01 01[ \t]*add[ \t]*%eax,\\(%ecx\\)\n+[ \t]*[a-f0-9]+:[ \t]*62 f3 7d 28 1b[ \t]*\\(bad\\)[ ]*\n+[ \t]*[a-f0-9]+:[ \t]*c8[ \t]*.byte[ \t]*0xc8\n+[ \t]*[a-f0-9]+:[ \t]*25[ \t]*.byte[ \t]*0x25\n #pass"
    },
    {
      "sha": "00eeb396d4e33296b96ef4133729f2e946834b9e",
      "filename": "gas/testsuite/gas/i386/disassem.s",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/12efd68d159444ad8dfe24e49965a228ba980b86/gas/testsuite/gas/i386/disassem.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/12efd68d159444ad8dfe24e49965a228ba980b86/gas/testsuite/gas/i386/disassem.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/disassem.s?ref=12efd68d159444ad8dfe24e49965a228ba980b86",
      "patch": "@@ -169,3 +169,5 @@\n .byte 0xC4, 0xE1, 0xF9, 0x93, 0x3F\n .byte 0xc4, 0xe2, 0x1, 0x1c, 0x41, 0x37\n .byte 0x62, 0xf2, 0xad, 0x08, 0x1c, 0x01\n+.byte 0x1\n+.byte 0x62, 0xf3, 0x7d, 0x28, 0x1b, 0xc8, 0x25"
    },
    {
      "sha": "a7c2c3ec964c853cd3e9828dc8df73a908fa839d",
      "filename": "gas/testsuite/gas/i386/x86-64-disassem.d",
      "status": "modified",
      "additions": 4,
      "deletions": 1,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/12efd68d159444ad8dfe24e49965a228ba980b86/gas/testsuite/gas/i386/x86-64-disassem.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/12efd68d159444ad8dfe24e49965a228ba980b86/gas/testsuite/gas/i386/x86-64-disassem.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/x86-64-disassem.d?ref=12efd68d159444ad8dfe24e49965a228ba980b86",
      "patch": "@@ -344,5 +344,8 @@ Disassembly of section \\.text:\n [ \t]*[a-f0-9]+:[ \t]*c4 62 01 1c[ \t]*\\(bad\\)[ ]*\n [ \t]*[a-f0-9]+:[ \t]*41 37[ \t]*rex.B \\(bad\\)[ ]*\n [ \t]*[a-f0-9]+:[ \t]*62 72 ad 08 1c[ \t]*\\(bad\\)[ ]*\n-[ \t]*[a-f0-9]+:[ \t]*01[ \t]*.byte[ \t]*0x1\n+[ \t]*[a-f0-9]+:[ \t]*01 01[ \t]*add[ \t]*%eax,\\(%rcx\\)\n+[ \t]*[a-f0-9]+:[ \t]*62 f3 7d 28 1b[ \t]*\\(bad\\)[ ]*\n+[ \t]*[a-f0-9]+:[ \t]*c8[ \t]*.byte[ \t]*0xc8\n+[ \t]*[a-f0-9]+:[ \t]*25[ \t]*.byte[ \t]*0x25\n #pass"
    },
    {
      "sha": "ef4e87d14c1d2fc4cd4d6400601af13a34a63989",
      "filename": "gas/testsuite/gas/i386/x86-64-disassem.s",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/12efd68d159444ad8dfe24e49965a228ba980b86/gas/testsuite/gas/i386/x86-64-disassem.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/12efd68d159444ad8dfe24e49965a228ba980b86/gas/testsuite/gas/i386/x86-64-disassem.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/x86-64-disassem.s?ref=12efd68d159444ad8dfe24e49965a228ba980b86",
      "patch": "@@ -169,3 +169,5 @@\n .byte 0xC4, 0xE1, 0xF9, 0x93, 0x3F\n .byte 0xc4, 0x62, 0x1, 0x1c, 0x41, 0x37\n .byte 0x62, 0x72, 0xad, 0x08, 0x1c, 0x01\n+.byte 0x1\n+.byte 0x62, 0xf3, 0x7d, 0x28, 0x1b, 0xc8, 0x25"
    },
    {
      "sha": "8d72ded6721f4cad9e80f42a45bf9f36d7760fe6",
      "filename": "opcodes/ChangeLog",
      "status": "modified",
      "additions": 19,
      "deletions": 0,
      "changes": 19,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/12efd68d159444ad8dfe24e49965a228ba980b86/opcodes/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/12efd68d159444ad8dfe24e49965a228ba980b86/opcodes/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/ChangeLog?ref=12efd68d159444ad8dfe24e49965a228ba980b86",
      "patch": "@@ -1,3 +1,22 @@\n+2019-06-05  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\tPR binutils/24633\n+\t* i386-dis-evex.h (evex_table): Update EVEX_W_0F3A18_P_2,\n+\tEVEX_W_0F3A19_P_2, EVEX_W_0F3A1A_P_2 and EVEX_W_0F3A1B_P_2.\n+\t(evex_len_table): EVEX_LEN_0F3A18_P_2_W_0,\n+\tEVEX_LEN_0F3A18_P_2_W_1, EVEX_LEN_0F3A19_P_2_W_0,\n+\tEVEX_LEN_0F3A19_P_2_W_1, EVEX_LEN_0F3A1A_P_2_W_0,\n+\tEVEX_LEN_0F3A1A_P_2_W_1, EVEX_LEN_0F3A1B_P_2_W_0,\n+\tEVEX_LEN_0F3A1B_P_2_W_1.\n+\t* i386-dis.c (EVEX_LEN_0F3A18_P_2_W_0): New enum.\n+\t(EVEX_LEN_0F3A18_P_2_W_1): Likewise.\n+\t(EVEX_LEN_0F3A19_P_2_W_0): Likewise.\n+\t(EVEX_LEN_0F3A19_P_2_W_1): Likewise.\n+\t(EVEX_LEN_0F3A1A_P_2_W_0): Likewise.\n+\t(EVEX_LEN_0F3A1A_P_2_W_1): Likewise.\n+\t(EVEX_LEN_0F3A1B_P_2_W_0): Likewise.\n+\t(EVEX_LEN_0F3A1B_P_2_W_1): Likewise.\n+\n 2019-06-04  H.J. Lu  <hongjiu.lu@intel.com>\n \n \tPR binutils/24626"
    },
    {
      "sha": "0003e7791de6dc11caea719a1b4b803a67ccecde",
      "filename": "opcodes/i386-dis-evex.h",
      "status": "modified",
      "additions": 64,
      "deletions": 8,
      "changes": 72,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/12efd68d159444ad8dfe24e49965a228ba980b86/opcodes/i386-dis-evex.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/12efd68d159444ad8dfe24e49965a228ba980b86/opcodes/i386-dis-evex.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/i386-dis-evex.h?ref=12efd68d159444ad8dfe24e49965a228ba980b86",
      "patch": "@@ -3912,23 +3912,23 @@ static const struct dis386 evex_table[][256] = {\n   },\n   /* EVEX_W_0F3A18_P_2 */\n   {\n-    { \"vinsertf32x4\",\t{ XM, Vex, EXxmm, Ib }, 0 },\n-    { \"vinsertf64x2\",\t{ XM, Vex, EXxmm, Ib }, 0 },\n+    { EVEX_LEN_TABLE (EVEX_LEN_0F3A18_P_2_W_0) },\n+    { EVEX_LEN_TABLE (EVEX_LEN_0F3A18_P_2_W_1) },\n   },\n   /* EVEX_W_0F3A19_P_2 */\n   {\n-    { \"vextractf32x4\",\t{ EXxmm, XM, Ib }, 0 },\n-    { \"vextractf64x2\",\t{ EXxmm, XM, Ib }, 0 },\n+    { EVEX_LEN_TABLE (EVEX_LEN_0F3A19_P_2_W_0) },\n+    { EVEX_LEN_TABLE (EVEX_LEN_0F3A19_P_2_W_1) },\n   },\n   /* EVEX_W_0F3A1A_P_2 */\n   {\n-    { \"vinsertf32x8\",\t{ XM, Vex, EXxmmq, Ib }, 0 },\n-    { \"vinsertf64x4\",\t{ XM, Vex, EXxmmq, Ib }, 0 },\n+    { EVEX_LEN_TABLE (EVEX_LEN_0F3A1A_P_2_W_0) },\n+    { EVEX_LEN_TABLE (EVEX_LEN_0F3A1A_P_2_W_1) },\n   },\n   /* EVEX_W_0F3A1B_P_2 */\n   {\n-    { \"vextractf32x8\",\t{ EXxmmq, XM, Ib }, 0 },\n-    { \"vextractf64x4\",\t{ EXxmmq, XM, Ib }, 0 },\n+    { EVEX_LEN_TABLE (EVEX_LEN_0F3A1B_P_2_W_0) },\n+    { EVEX_LEN_TABLE (EVEX_LEN_0F3A1B_P_2_W_1) },\n   },\n   /* EVEX_W_0F3A1D_P_2 */\n   {\n@@ -4129,4 +4129,60 @@ static const struct dis386 evex_table[][256] = {\n     { VEX_W_TABLE (EVEX_W_0FD6_P_2) },\n   },\n \n+  /* EVEX_LEN_0F3A18_P_2_W_0 */\n+  {\n+    { Bad_Opcode },\n+    { \"vinsertf32x4\",\t{ XM, Vex, EXxmm, Ib }, 0 },\n+    { \"vinsertf32x4\",\t{ XM, Vex, EXxmm, Ib }, 0 },\n+  },\n+\n+  /* EVEX_LEN_0F3A18_P_2_W_1 */\n+  {\n+    { Bad_Opcode },\n+    { \"vinsertf64x2\",\t{ XM, Vex, EXxmm, Ib }, 0 },\n+    { \"vinsertf64x2\",\t{ XM, Vex, EXxmm, Ib }, 0 },\n+  },\n+\n+  /* EVEX_LEN_0F3A19_P_2_W_0 */\n+  {\n+    { Bad_Opcode },\n+    { \"vextractf32x4\",\t{ EXxmm, XM, Ib }, 0 },\n+    { \"vextractf32x4\",\t{ EXxmm, XM, Ib }, 0 },\n+  },\n+\n+  /* EVEX_LEN_0F3A19_P_2_W_1 */\n+  {\n+    { Bad_Opcode },\n+    { \"vextractf64x2\",\t{ EXxmm, XM, Ib }, 0 },\n+    { \"vextractf64x2\",\t{ EXxmm, XM, Ib }, 0 },\n+  },\n+\n+  /* EVEX_LEN_0F3A1A_P_2_W_0 */\n+  {\n+    { Bad_Opcode },\n+    { Bad_Opcode },\n+    { \"vinsertf32x8\",\t{ XM, Vex, EXxmmq, Ib }, 0 },\n+  },\n+\n+  /* EVEX_LEN_0F3A1A_P_2_W_1 */\n+  {\n+    { Bad_Opcode },\n+    { Bad_Opcode },\n+    { \"vinsertf64x4\",\t{ XM, Vex, EXxmmq, Ib }, 0 },\n+  },\n+\n+  /* EVEX_LEN_0F3A1B_P_2_W_0 */\n+  {\n+    { Bad_Opcode },\n+    { Bad_Opcode },\n+    { \"vextractf32x8\",\t{ EXxmmq, XM, Ib }, 0 },\n+  },\n+\n+  /* EVEX_LEN_0F3A1B_P_2_W_1 */\n+  {\n+    { Bad_Opcode },\n+    { Bad_Opcode },\n+    { \"vextractf64x4\",\t{ EXxmmq, XM, Ib }, 0 },\n+  },\n+\n #endif /* NEED_EVEX_LEN_TABLE */"
    },
    {
      "sha": "5d1bd6b0300ac0769f32acab537fc1c310232c54",
      "filename": "opcodes/i386-dis.c",
      "status": "modified",
      "additions": 9,
      "deletions": 1,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/12efd68d159444ad8dfe24e49965a228ba980b86/opcodes/i386-dis.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/12efd68d159444ad8dfe24e49965a228ba980b86/opcodes/i386-dis.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/i386-dis.c?ref=12efd68d159444ad8dfe24e49965a228ba980b86",
      "patch": "@@ -1937,7 +1937,15 @@ enum\n   EVEX_LEN_0F6E_P_2 = 0,\n   EVEX_LEN_0F7E_P_1,\n   EVEX_LEN_0F7E_P_2,\n-  EVEX_LEN_0FD6_P_2\n+  EVEX_LEN_0FD6_P_2,\n+  EVEX_LEN_0F3A18_P_2_W_0,\n+  EVEX_LEN_0F3A18_P_2_W_1,\n+  EVEX_LEN_0F3A19_P_2_W_0,\n+  EVEX_LEN_0F3A19_P_2_W_1,\n+  EVEX_LEN_0F3A1A_P_2_W_0,\n+  EVEX_LEN_0F3A1A_P_2_W_1,\n+  EVEX_LEN_0F3A1B_P_2_W_0,\n+  EVEX_LEN_0F3A1B_P_2_W_1\n };\n \n enum"
    }
  ]
}