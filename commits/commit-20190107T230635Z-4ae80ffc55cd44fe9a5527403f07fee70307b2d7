{
  "sha": "4ae80ffc55cd44fe9a5527403f07fee70307b2d7",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NGFlODBmZmM1NWNkNDRmZTlhNTUyNzQwM2YwN2ZlZTcwMzA3YjJkNw==",
  "commit": {
    "author": {
      "name": "Simon Marchi",
      "email": "simon.marchi@ericsson.com",
      "date": "2019-01-07T23:05:36Z"
    },
    "committer": {
      "name": "Simon Marchi",
      "email": "simon.marchi@ericsson.com",
      "date": "2019-01-07T23:06:35Z"
    },
    "message": "Revert \"Sync libiberty sources with master version in gcc repository.  Updated stabs demangling and cxxfilt tests to match.\"\n\nThe previous commit breaks the GDB build, which is still using functions\ncplus_demangle_opname & co.  Since removing these usages is not an\nobvious fix, let's revert this patch until we get rid of them.",
    "tree": {
      "sha": "9dba1ab3b1a201fb9def27373de916455325709a",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/9dba1ab3b1a201fb9def27373de916455325709a"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/4ae80ffc55cd44fe9a5527403f07fee70307b2d7",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/4ae80ffc55cd44fe9a5527403f07fee70307b2d7",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/4ae80ffc55cd44fe9a5527403f07fee70307b2d7",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/4ae80ffc55cd44fe9a5527403f07fee70307b2d7/comments",
  "author": null,
  "committer": null,
  "parents": [
    {
      "sha": "053af8c9034f92d6e36a1180655ba22a65c56437",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/053af8c9034f92d6e36a1180655ba22a65c56437",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/053af8c9034f92d6e36a1180655ba22a65c56437"
    }
  ],
  "stats": {
    "total": 8145,
    "additions": 8012,
    "deletions": 133
  },
  "files": [
    {
      "sha": "81654d0c70df88b23e7d49bf9e798d1819243ec3",
      "filename": "ChangeLog",
      "status": "modified",
      "additions": 0,
      "deletions": 4,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4ae80ffc55cd44fe9a5527403f07fee70307b2d7/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4ae80ffc55cd44fe9a5527403f07fee70307b2d7/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ChangeLog?ref=4ae80ffc55cd44fe9a5527403f07fee70307b2d7",
      "patch": "@@ -1,7 +1,3 @@\n-2019-01-07  Nick Clifton  <nickc@redhat.com>\n-\n-\t* libiberty: Merge from gcc.\n-\n 2019-01-03  \u0414\u0438\u043b\u044f\u043d \u041f\u0430\u043b\u0430\u0443\u0437\u043e\u0432  <dilyan.palauzov@aegee.org>\n \n \t* configure.ac: Don't configure readline if --with-system-readline is"
    },
    {
      "sha": "d7f1685e3d8da13d4f2ee046121de8fac40bc22f",
      "filename": "binutils/ChangeLog",
      "status": "modified",
      "additions": 0,
      "deletions": 8,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4ae80ffc55cd44fe9a5527403f07fee70307b2d7/binutils/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4ae80ffc55cd44fe9a5527403f07fee70307b2d7/binutils/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/ChangeLog?ref=4ae80ffc55cd44fe9a5527403f07fee70307b2d7",
      "patch": "@@ -1,11 +1,3 @@\n-2019-01-07  Nick Clifton  <nickc@redhat.com>\n-\n-\tPR 24044\n-\t* stabs.c (parse_stab_argtypes): Remove call to\n-\tcplus_mangle_opcode.\n-\t* testsuite/binutils-all/cxxfilt.exp: Replace tests of v2 encoding\n-\twith v3 encoding.  Add escape for known failures.\n-\n 2018-12-25  Yoshinori Sato <ysato@users.sourceforge.jp>\n \t* readelf.c (get_machine_flags): Add RXv3 output.\n "
    },
    {
      "sha": "18788b9b6ddaefcb929c8b10668420abead4b692",
      "filename": "binutils/stabs.c",
      "status": "modified",
      "additions": 19,
      "deletions": 7,
      "changes": 26,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4ae80ffc55cd44fe9a5527403f07fee70307b2d7/binutils/stabs.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4ae80ffc55cd44fe9a5527403f07fee70307b2d7/binutils/stabs.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/stabs.c?ref=4ae80ffc55cd44fe9a5527403f07fee70307b2d7",
      "patch": "@@ -3037,15 +3037,27 @@ parse_stab_argtypes (void *dhandle, struct stab_handle *info,\n \t  && fieldname[1] == 'p'\n \t  && (fieldname[2] == '$' || fieldname[2] == '.'))\n \t{\n-\t  /* Opname selection is no longer supported by libiberty's demangler.  */\n-\t  return DEBUG_TYPE_NULL;\n-\t}\n+\t  const char *opname;\n \n-      physname = (char *) xmalloc (mangled_name_len);\n-      if (is_constructor)\n-\tphysname[0] = '\\0';\n+\t  opname = cplus_mangle_opname (fieldname + 3, 0);\n+\t  if (opname == NULL)\n+\t    {\n+\t      fprintf (stderr, _(\"No mangling for \\\"%s\\\"\\n\"), fieldname);\n+\t      return DEBUG_TYPE_NULL;\n+\t    }\n+\t  mangled_name_len += strlen (opname);\n+\t  physname = (char *) xmalloc (mangled_name_len);\n+\t  strncpy (physname, fieldname, 3);\n+\t  strcpy (physname + 3, opname);\n+\t}\n       else\n-\tstrcpy (physname, fieldname);\n+\t{\n+\t  physname = (char *) xmalloc (mangled_name_len);\n+\t  if (is_constructor)\n+\t    physname[0] = '\\0';\n+\t  else\n+\t    strcpy (physname, fieldname);\n+\t}\n \n       physname_len = strlen (physname);\n       strcat (physname, buf);"
    },
    {
      "sha": "116caebccfabf793f34a8796b1039e1f4678bbd9",
      "filename": "binutils/testsuite/binutils-all/cxxfilt.exp",
      "status": "modified",
      "additions": 5,
      "deletions": 29,
      "changes": 34,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4ae80ffc55cd44fe9a5527403f07fee70307b2d7/binutils/testsuite/binutils-all/cxxfilt.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4ae80ffc55cd44fe9a5527403f07fee70307b2d7/binutils/testsuite/binutils-all/cxxfilt.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/testsuite/binutils-all/cxxfilt.exp?ref=4ae80ffc55cd44fe9a5527403f07fee70307b2d7",
      "patch": "@@ -14,30 +14,6 @@\n # along with this program; if not, write to the Free Software\n # Foundation, Inc., 51 Franklin Street - Fifth Floor, Boston, MA 02110-1301, USA.\n \n-# For some reason cxxfilt is not working on the following targets.\n-# FIXME: Investigate why.\n-if { [istarget \"cris*-*-*\"] || \\\n-     [istarget \"cr16-*-*\"] || \\\n-     [istarget \"crx*-*-*\"] || \\\n-     [istarget \"epiphany-*-*\"] || \\\n-     [istarget \"ip2k-*-*\"] || \\\n-     [istarget \"metag-*-*\"] || \\\n-     [istarget \"mn10200-*-*\"] || \\\n-     [istarget \"mn10300-*-*\"] || \\\n-     [istarget \"ns32k-*-*\"] || \\\n-     [istarget \"pdp11-*-*\"] || \\\n-     [istarget \"rl78-*-*\"] || \\\n-     [istarget \"rx-*-*\"] || \\\n-     [istarget \"sh-*-*\"] || \\\n-     [istarget \"tic4*-*-*\"] || \\\n-     [istarget \"tic54*-*-*\"] || \\\n-     [istarget \"v850-*-*\"] || \\\n-     [istarget \"z8k-*-*\"] || \\\n-     [istarget \"*-*-cygwin\"] || \\\n-     [istarget \"*-*-mingw32\"] } then {\n-    return\n-}\n-\n proc test_cxxfilt {options mangled_string demangled_string} {\n     global CXXFILT\n     global CXXFILTFLAGS\n@@ -56,12 +32,12 @@ proc test_cxxfilt {options mangled_string demangled_string} {\n \n # Mangled and demangled strings stolen from libiberty/testsuite/demangle-expected.\n test_cxxfilt {} \\\n-    \"_Z1fIvJiELb0EEvPDOT1_EFT_DpT0_E\" \\\n-    \"void f.void, int, false.(void (.)(int) noexcept(false))*\"\n+    \"AddAlignment__9ivTSolverUiP12ivInteractorP7ivTGlue\" \\\n+    \"ivTSolver::AddAlignment(unsigned int, ivInteractor ., ivTGlue .)*\"\n \n-test_cxxfilt {--format=gnu-v3} \\\n-    \"_Z14int_if_addableI1YERiP1AIXszpldecvPT_Li0EdecvS4_Li0EEE\" \\\n-    \"int& int_if_addable.Y.(A.sizeof ((.((Y.)(0))).(.((Y.)(0))))..)*\"\n+test_cxxfilt {--format=lucid} \\\n+    \"__ct__12strstreambufFPFl_PvPFPv_v\" \\\n+    \"strstreambuf..(strstreambuf|_ct)(void .(.)(long), void (.)(void .))*\"\n \n test_cxxfilt {--no-recurse-limit} \\\n     \"Z3fooiPiPS_PS0_PS1_PS2_PS3_PS4_PS5_PS6_PS7_PS8_PS9_PSA_PSB_PSC_\" \\"
    },
    {
      "sha": "6859027b683faf50839a2db69fff78bd1884dcd9",
      "filename": "libiberty/ChangeLog",
      "status": "modified",
      "additions": 18,
      "deletions": 22,
      "changes": 40,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4ae80ffc55cd44fe9a5527403f07fee70307b2d7/libiberty/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4ae80ffc55cd44fe9a5527403f07fee70307b2d7/libiberty/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/libiberty/ChangeLog?ref=4ae80ffc55cd44fe9a5527403f07fee70307b2d7",
      "patch": "@@ -1,17 +1,3 @@\n-2019-01-01  Jakub Jelinek  <jakub@redhat.com>\n-\n-\tUpdate copyright years.\n-\n-2018-12-22  Jason Merrill  <jason@redhat.com>\n-\n-\tRemove support for demangling GCC 2.x era mangling schemes.\n-\t* cplus-dem.c: Remove cplus_mangle_opname, cplus_demangle_opname,\n-\tinternal_cplus_demangle, and all subroutines.\n-\t(libiberty_demanglers): Remove entries for ancient GNU (pre-3.0),\n-\tLucid, ARM, HP, and EDG demangling styles.\n-\t(cplus_demangle): Remove 'work' variable.  Don't call\n-\tinternal_cplus_demangle.\n-\n 2018-12-07  Nick Clifton  <nickc@redhat.com>\n \n \tPR 87681\n@@ -77,18 +63,28 @@\n \n \t* cplus-dem.c (remember_Btype): Don't call memcpy with LEN==0.\n \n-2018-07-26  Martin Liska  <mliska@suse.cz>\n+2018-08-01  Richard Earnshaw  <rearnsha@arm.com>\n+\n+\tCopy over from GCC\n+\t2018-07-26  Martin Liska  <mliska@suse.cz>\n \n-\tPR lto/86548\n+        PR lto/86548\n \t* make-temp-file.c (TEMP_FILE): Remove leading 'cc'.\n \t(make_temp_file): Call make_temp_file_with_prefix with\n-\tfirst argument set to NULL.\n+        first argument set to NULL.\n \t(make_temp_file_with_prefix): Support also prefix.\n \n-2018-07-19  Eli Zaretskii  <eliz@gnu.org>\n+2018-07-18  Eli Zaretskii  <eliz@gnu.org>\n+\n+\tPR gdb/23434\n+\t* libiberty/simple-object-elf.c (ENOTSUP): If not defined by\n+        errno.h, redirect ENOTSUP to ENOSYS.\n \n-\t* simple-object-elf.c (ENOTSUP): If not defined by errno.h, redirect\n-\tto ENOSYS.\n+2018-06-19  Simon Marchi  <simon.marchi@ericsson.com>\n+\n+\t* configure.ac: Remove AC_PREREQ.\n+\t* configure: Re-generate.\n+\t* config.in: Re-generate.\n \n 2018-05-30  Jan Hubicka  <hubicka@ucw.cz>\n \n@@ -991,8 +987,8 @@\n \t* functions.texi: Regenerate.\n \n 2014-12-11  Uros Bizjak  <ubizjak@gmail.com>\n-\t    Ben Elliston  <bje@au.ibm.com>\n-\t    Manuel Lopez-Ibanez  <manu@gcc.gnu.org>\n+            Ben Elliston  <bje@au.ibm.com>\n+            Manuel Lopez-Ibanez  <manu@gcc.gnu.org>\n \n \t* xvasprintf.c: New file.\n \t* vprintf-support.h: Likewise."
    },
    {
      "sha": "5346cbf496350ffd806cf4a1a24b157fa0636c1b",
      "filename": "libiberty/cplus-dem.c",
      "status": "modified",
      "additions": 4581,
      "deletions": 5,
      "changes": 4586,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4ae80ffc55cd44fe9a5527403f07fee70307b2d7/libiberty/cplus-dem.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4ae80ffc55cd44fe9a5527403f07fee70307b2d7/libiberty/cplus-dem.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/libiberty/cplus-dem.c?ref=4ae80ffc55cd44fe9a5527403f07fee70307b2d7"
    },
    {
      "sha": "b62561c6d4df15f6c1d0b7ab7488b79e78afe73d",
      "filename": "libiberty/testsuite/demangle-expected",
      "status": "modified",
      "additions": 3389,
      "deletions": 58,
      "changes": 3447,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/4ae80ffc55cd44fe9a5527403f07fee70307b2d7/libiberty/testsuite/demangle-expected",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/4ae80ffc55cd44fe9a5527403f07fee70307b2d7/libiberty/testsuite/demangle-expected",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/libiberty/testsuite/demangle-expected?ref=4ae80ffc55cd44fe9a5527403f07fee70307b2d7"
    }
  ]
}