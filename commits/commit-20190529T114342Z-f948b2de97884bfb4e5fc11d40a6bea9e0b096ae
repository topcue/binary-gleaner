{
  "sha": "f948b2de97884bfb4e5fc11d40a6bea9e0b096ae",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6Zjk0OGIyZGU5Nzg4NGJmYjRlNWZjMTFkNDBhNmJlYTllMGIwOTZhZQ==",
  "commit": {
    "author": {
      "name": "Nick Clifton",
      "email": "nickc@redhat.com",
      "date": "2019-05-29T11:43:42Z"
    },
    "committer": {
      "name": "Nick Clifton",
      "email": "nickc@redhat.com",
      "date": "2019-05-29T11:43:42Z"
    },
    "message": "Sync top level files with versions from gcc.\n\ntop\t* Makefile.def (target_modules): Add libphobos.\n\t(flags_to_pass): Add GDC, GDCFLAGS, GDC_FOR_TARGET and\n\tGDCFLAGS_FOR_TARGET.\n\t(dependencies): Make libphobos depend on libatomic, libbacktrace\n\tconfigure, and zlib configure.\n\t(language): Add language d.\n\t* Makefile.in: Rebuild.\n\t* Makefile.tpl (BUILD_EXPORTS): Add GDC and GDCFLAGS.\n\t(HOST_EXPORTS): Add GDC.\n\t(POSTSTAGE1_HOST_EXPORTS): Add GDC and GDC_FOR_BUILD.\n\t(BASE_TARGET_EXPORTS): Add GDC.\n\t(GDC_FOR_BUILD, GDC, GDCFLAGS): New variables.\n\t(GDC_FOR_TARGET, GDC_FLAGS_FOR_TARGET): New variables.\n\t(EXTRA_HOST_FLAGS): Add GDC.\n\t(STAGE1_FLAGS_TO_PASS): Add GDC.\n\t(EXTRA_TARGET_FLAGS): Add GDC and GDCFLAGS.\n\t* config-ml.in: Treat GDC and GDCFLAGS like other compiler/flag\n\tenvironment variables.\n\t* configure: Rebuild.\n\t* configure.ac: Add target-libphobos to target_libraries.  Set and\n\tsubstitute GDC_FOR_BUILD and GDC_FOR_TARGET.",
    "tree": {
      "sha": "f0d2e00f2027a9eb292be6d751cfb8c02c4a46de",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/f0d2e00f2027a9eb292be6d751cfb8c02c4a46de"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/f948b2de97884bfb4e5fc11d40a6bea9e0b096ae",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/f948b2de97884bfb4e5fc11d40a6bea9e0b096ae",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/f948b2de97884bfb4e5fc11d40a6bea9e0b096ae",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/f948b2de97884bfb4e5fc11d40a6bea9e0b096ae/comments",
  "author": {
    "login": "nickclifton",
    "id": 31441682,
    "node_id": "MDQ6VXNlcjMxNDQxNjgy",
    "avatar_url": "https://avatars.githubusercontent.com/u/31441682?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nickclifton",
    "html_url": "https://github.com/nickclifton",
    "followers_url": "https://api.github.com/users/nickclifton/followers",
    "following_url": "https://api.github.com/users/nickclifton/following{/other_user}",
    "gists_url": "https://api.github.com/users/nickclifton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nickclifton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nickclifton/subscriptions",
    "organizations_url": "https://api.github.com/users/nickclifton/orgs",
    "repos_url": "https://api.github.com/users/nickclifton/repos",
    "events_url": "https://api.github.com/users/nickclifton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nickclifton/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "nickclifton",
    "id": 31441682,
    "node_id": "MDQ6VXNlcjMxNDQxNjgy",
    "avatar_url": "https://avatars.githubusercontent.com/u/31441682?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nickclifton",
    "html_url": "https://github.com/nickclifton",
    "followers_url": "https://api.github.com/users/nickclifton/followers",
    "following_url": "https://api.github.com/users/nickclifton/following{/other_user}",
    "gists_url": "https://api.github.com/users/nickclifton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nickclifton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nickclifton/subscriptions",
    "organizations_url": "https://api.github.com/users/nickclifton/orgs",
    "repos_url": "https://api.github.com/users/nickclifton/repos",
    "events_url": "https://api.github.com/users/nickclifton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nickclifton/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "90bd54236cb8b1c31c3662977159be971044c20d",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/90bd54236cb8b1c31c3662977159be971044c20d",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/90bd54236cb8b1c31c3662977159be971044c20d"
    }
  ],
  "stats": {
    "total": 10868,
    "additions": 10293,
    "deletions": 575
  },
  "files": [
    {
      "sha": "f8cc3f2ea825dba8113be76ff98e9db569ec544f",
      "filename": "ChangeLog",
      "status": "modified",
      "additions": 27,
      "deletions": 0,
      "changes": 27,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f948b2de97884bfb4e5fc11d40a6bea9e0b096ae/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f948b2de97884bfb4e5fc11d40a6bea9e0b096ae/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ChangeLog?ref=f948b2de97884bfb4e5fc11d40a6bea9e0b096ae",
      "patch": "@@ -1,3 +1,30 @@\n+2019-05-29  Nick Clifton  <nickc@redhat.com>\n+\n+\tImport this patch from gcc mainline:\n+\t2018-10-28  Iain Buclaw  <ibuclaw@gdcproject.org>\n+\n+\t* Makefile.def (target_modules): Add libphobos.\n+\t(flags_to_pass): Add GDC, GDCFLAGS, GDC_FOR_TARGET and\n+\tGDCFLAGS_FOR_TARGET.\n+\t(dependencies): Make libphobos depend on libatomic, libbacktrace\n+\tconfigure, and zlib configure.\n+\t(language): Add language d.\n+\t* Makefile.in: Rebuild.\n+\t* Makefile.tpl (BUILD_EXPORTS): Add GDC and GDCFLAGS.\n+\t(HOST_EXPORTS): Add GDC.\n+\t(POSTSTAGE1_HOST_EXPORTS): Add GDC and GDC_FOR_BUILD.\n+\t(BASE_TARGET_EXPORTS): Add GDC.\n+\t(GDC_FOR_BUILD, GDC, GDCFLAGS): New variables.\n+\t(GDC_FOR_TARGET, GDC_FLAGS_FOR_TARGET): New variables.\n+\t(EXTRA_HOST_FLAGS): Add GDC.\n+\t(STAGE1_FLAGS_TO_PASS): Add GDC.\n+\t(EXTRA_TARGET_FLAGS): Add GDC and GDCFLAGS.\n+\t* config-ml.in: Treat GDC and GDCFLAGS like other compiler/flag\n+\tenvironment variables.\n+\t* configure: Rebuild.\n+\t* configure.ac: Add target-libphobos to target_libraries.  Set and\n+\tsubstitute GDC_FOR_BUILD and GDC_FOR_TARGET.\n+\n 2019-05-29  Nick Clifton  <nickc@redhat.com>\n \n \t* configure.ac (noconfigdirs): Add libctf if the target does not use"
    },
    {
      "sha": "893299b963c3acdfd3e6278cb4d146bc53b4a69f",
      "filename": "Makefile.def",
      "status": "modified",
      "additions": 32,
      "deletions": 9,
      "changes": 41,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f948b2de97884bfb4e5fc11d40a6bea9e0b096ae/Makefile.def",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f948b2de97884bfb4e5fc11d40a6bea9e0b096ae/Makefile.def",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/Makefile.def?ref=f948b2de97884bfb4e5fc11d40a6bea9e0b096ae",
      "patch": "@@ -4,7 +4,7 @@ AutoGen definitions Makefile.tpl;\n // Makefile.in is generated from Makefile.tpl by 'autogen Makefile.def'.\n // This file was originally written by Nathanael Nerode.\n //\n-//   Copyright 2002-2017 Free Software Foundation\n+//   Copyright 2002-2019 Free Software Foundation\n //\n // This file is free software; you can redistribute it and/or modify\n // it under the terms of the GNU General Public License as published by\n@@ -63,7 +63,7 @@ host_modules= { module= mpfr; lib_path=src/.libs; bootstrap=true;\n \t\textra_make_flags='AM_CFLAGS=\"-DNO_ASM\"';\n \t\tno_install= true; };\n host_modules= { module= mpc; lib_path=src/.libs; bootstrap=true;\n-\t\textra_configure_flags='--disable-shared @extra_mpc_gmp_configure_flags@ @extra_mpc_mpfr_configure_flags@';\n+\t\textra_configure_flags='--disable-shared @extra_mpc_gmp_configure_flags@ @extra_mpc_mpfr_configure_flags@ --disable-maintainer-mode';\n \t\tno_install= true; };\n host_modules= { module= isl; lib_path=.libs; bootstrap=true;\n \t\textra_configure_flags='--disable-shared @extra_isl_gmp_configure_flags@';\n@@ -146,8 +146,6 @@ target_modules = { module= libvtv;\n \t\t   bootstrap=true;\n \t\t   lib_path=.libs;\n \t\t   raw_cxx=true; };\n-target_modules = { module= libcilkrts;\n-\t\t   lib_path=.libs; };\n target_modules = { module= liboffloadmic;\n \t\t   lib_path=.libs;\n \t\t   extra_configure_flags='@extra_liboffloadmic_configure_flags@'; };\n@@ -159,6 +157,9 @@ target_modules = { module= libquadmath; };\n target_modules = { module= libgfortran; };\n target_modules = { module= libobjc; };\n target_modules = { module= libgo; };\n+target_modules = { module= libhsail-rt; };\n+target_modules = { module= libphobos;\n+\t\t   lib_path=src/.libs; };\n target_modules = { module= libtermcap; no_check=true;\n                    missing=mostlyclean;\n                    missing=clean;\n@@ -271,6 +272,8 @@ flags_to_pass = { flag= STAGE1_CHECKING ; };\n flags_to_pass = { flag= STAGE1_LANGUAGES ; };\n flags_to_pass = { flag= GNATBIND ; };\n flags_to_pass = { flag= GNATMAKE ; };\n+flags_to_pass = { flag= GDC ; };\n+flags_to_pass = { flag= GDCFLAGS ; };\n \n // Target tools\n flags_to_pass = { flag= AR_FOR_TARGET ; };\n@@ -284,6 +287,8 @@ flags_to_pass = { flag= FLAGS_FOR_TARGET ; };\n flags_to_pass = { flag= GFORTRAN_FOR_TARGET ; };\n flags_to_pass = { flag= GOC_FOR_TARGET ; };\n flags_to_pass = { flag= GOCFLAGS_FOR_TARGET ; };\n+flags_to_pass = { flag= GDC_FOR_TARGET ; };\n+flags_to_pass = { flag= GDCFLAGS_FOR_TARGET ; };\n flags_to_pass = { flag= LD_FOR_TARGET ; };\n flags_to_pass = { flag= LIPO_FOR_TARGET ; };\n flags_to_pass = { flag= LDFLAGS_FOR_TARGET ; };\n@@ -543,7 +548,6 @@ dependencies = { module=all-m4; on=all-build-texinfo; };\n // on libgcc and newlib/libgloss.\n lang_env_dependencies = { module=libitm; cxx=true; };\n lang_env_dependencies = { module=libffi; cxx=true; };\n-lang_env_dependencies = { module=libcilkrts; cxx=true; };\n lang_env_dependencies = { module=liboffloadmic; cxx=true; };\n lang_env_dependencies = { module=newlib; no_c=true; };\n lang_env_dependencies = { module=libgloss; no_c=true; };\n@@ -560,6 +564,11 @@ dependencies = { module=configure-target-libgo; on=all-target-libstdc++-v3; };\n dependencies = { module=all-target-libgo; on=all-target-libbacktrace; };\n dependencies = { module=all-target-libgo; on=all-target-libffi; };\n dependencies = { module=all-target-libgo; on=all-target-libatomic; };\n+dependencies = { module=configure-target-libphobos; on=configure-target-libbacktrace; };\n+dependencies = { module=configure-target-libphobos; on=configure-target-zlib; };\n+dependencies = { module=all-target-libphobos; on=all-target-libbacktrace; };\n+dependencies = { module=all-target-libphobos; on=all-target-zlib; };\n+dependencies = { module=all-target-libphobos; on=all-target-libatomic; };\n dependencies = { module=configure-target-libstdc++-v3; on=configure-target-libgomp; };\n dependencies = { module=configure-target-liboffloadmic; on=configure-target-libgomp; };\n dependencies = { module=configure-target-libsanitizer; on=all-target-libstdc++-v3; };\n@@ -573,12 +582,11 @@ dependencies = { module=all-target-liboffloadmic; on=all-target-libgomp; };\n dependencies = { module=install-target-libgo; on=install-target-libatomic; };\n dependencies = { module=install-target-libgfortran; on=install-target-libquadmath; };\n dependencies = { module=install-target-libgfortran; on=install-target-libgcc; };\n+dependencies = { module=install-target-libphobos; on=install-target-libatomic; };\n dependencies = { module=install-target-libsanitizer; on=install-target-libstdc++-v3; };\n dependencies = { module=install-target-libsanitizer; on=install-target-libgcc; };\n dependencies = { module=install-target-libvtv; on=install-target-libstdc++-v3; };\n dependencies = { module=install-target-libvtv; on=install-target-libgcc; };\n-dependencies = { module=install-target-libcilkrts; on=install-target-libstdc++-v3; };\n-dependencies = { module=install-target-libcilkrts; on=install-target-libgcc; };\n dependencies = { module=install-target-liboffloadmic; on=install-target-libstdc++-v3; };\n dependencies = { module=install-target-liboffloadmic; on=install-target-libgcc; };\n dependencies = { module=install-target-libitm; on=install-target-libgcc; };\n@@ -612,7 +620,12 @@ languages = { language=objc;\tgcc-check-target=check-objc;\n \t\t\t\tlib-check-target=check-target-libobjc; };\n languages = { language=obj-c++;\tgcc-check-target=check-obj-c++; };\n languages = { language=go;\tgcc-check-target=check-go;\n-\t\t\t\tlib-check-target=check-target-libgo; };\n+\t\t\t\tlib-check-target=check-target-libgo;\n+\t\t\t\tlib-check-target=check-gotools; };\n+languages = { language=brig;\tgcc-check-target=check-brig;\n+\t\t\t\tlib-check-target=check-target-libhsail-rt; };\n+languages = { language=d;\tgcc-check-target=check-d;\n+\t\t\t\tlib-check-target=check-target-libphobos; };\n \n // Toplevel bootstrap\n bootstrap_stage = { id=1 ; };\n@@ -631,5 +644,15 @@ bootstrap_stage = {\n bootstrap_stage = {\n \tid=profile ; prev=1 ; };\n bootstrap_stage = {\n-\tid=feedback ; prev=profile ;\n+\tid=train; prev=profile ; } ;\n+bootstrap_stage = {\n+\tid=feedback ; prev=train;\n \tbootstrap_target=profiledbootstrap ; };\n+bootstrap_stage = {\n+\tid=autoprofile ; prev=1 ;\n+        autoprofile=\"$$s/gcc/config/i386/$(AUTO_PROFILE)\" ; };\n+bootstrap_stage = {\n+\tid=autofeedback ; prev=autoprofile ;\n+\tbootstrap_target=autoprofiledbootstrap ;\n+\tprofile_data=\"PERF_DATA=perf.data\" ; };\n+"
    },
    {
      "sha": "3df9d8a6b13b542064160efb70d781ced3600cc6",
      "filename": "Makefile.in",
      "status": "modified",
      "additions": 9480,
      "deletions": 557,
      "changes": 10037,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f948b2de97884bfb4e5fc11d40a6bea9e0b096ae/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f948b2de97884bfb4e5fc11d40a6bea9e0b096ae/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/Makefile.in?ref=f948b2de97884bfb4e5fc11d40a6bea9e0b096ae"
    },
    {
      "sha": "f42cabea28f1f4afaae664456786fcd212cfdaf5",
      "filename": "Makefile.tpl",
      "status": "modified",
      "additions": 47,
      "deletions": 7,
      "changes": 54,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f948b2de97884bfb4e5fc11d40a6bea9e0b096ae/Makefile.tpl",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f948b2de97884bfb4e5fc11d40a6bea9e0b096ae/Makefile.tpl",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/Makefile.tpl?ref=f948b2de97884bfb4e5fc11d40a6bea9e0b096ae",
      "patch": "@@ -7,7 +7,7 @@ in\n # Makefile for directory with subdirs to build.\n #   Copyright (C) 1990, 1991, 1992, 1993, 1994, 1995, 1996, 1997, 1998,\n #   1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010,\n-#   2011, 2012, 2013, 2014, 2015, 2016, 2017\n+#   2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019\n #   Free Software Foundation\n #\n # This file is free software; you can redistribute it and/or modify\n@@ -160,6 +160,8 @@ BUILD_EXPORTS = \\\n \tGFORTRAN=\"$(GFORTRAN_FOR_BUILD)\"; export GFORTRAN; \\\n \tGOC=\"$(GOC_FOR_BUILD)\"; export GOC; \\\n \tGOCFLAGS=\"$(GOCFLAGS_FOR_BUILD)\"; export GOCFLAGS; \\\n+\tGDC=\"$(GDC_FOR_BUILD)\"; export GDC; \\\n+\tGDCFLAGS=\"$(GDCFLAGS_FOR_BUILD)\"; export GDCFLAGS; \\\n \tDLLTOOL=\"$(DLLTOOL_FOR_BUILD)\"; export DLLTOOL; \\\n \tLD=\"$(LD_FOR_BUILD)\"; export LD; \\\n \tLDFLAGS=\"$(LDFLAGS_FOR_BUILD)\"; export LDFLAGS; \\\n@@ -196,6 +198,7 @@ HOST_EXPORTS = \\\n \tCXXFLAGS=\"$(CXXFLAGS)\"; export CXXFLAGS; \\\n \tGFORTRAN=\"$(GFORTRAN)\"; export GFORTRAN; \\\n \tGOC=\"$(GOC)\"; export GOC; \\\n+\tGDC=\"$(GDC)\"; export GDC; \\\n \tAR=\"$(AR)\"; export AR; \\\n \tAS=\"$(AS)\"; export AS; \\\n \tCC_FOR_BUILD=\"$(CC_FOR_BUILD)\"; export CC_FOR_BUILD; \\\n@@ -208,6 +211,7 @@ HOST_EXPORTS = \\\n \tWINDMC=\"$(WINDMC)\"; export WINDMC; \\\n \tOBJCOPY=\"$(OBJCOPY)\"; export OBJCOPY; \\\n \tOBJDUMP=\"$(OBJDUMP)\"; export OBJDUMP; \\\n+\tOTOOL=\"$(OTOOL)\"; export OTOOL; \\\n \tREADELF=\"$(READELF)\"; export READELF; \\\n \tAR_FOR_TARGET=\"$(AR_FOR_TARGET)\"; export AR_FOR_TARGET; \\\n \tAS_FOR_TARGET=\"$(AS_FOR_TARGET)\"; export AS_FOR_TARGET; \\\n@@ -216,6 +220,7 @@ HOST_EXPORTS = \\\n \tNM_FOR_TARGET=\"$(NM_FOR_TARGET)\"; export NM_FOR_TARGET; \\\n \tOBJDUMP_FOR_TARGET=\"$(OBJDUMP_FOR_TARGET)\"; export OBJDUMP_FOR_TARGET; \\\n \tOBJCOPY_FOR_TARGET=\"$(OBJCOPY_FOR_TARGET)\"; export OBJCOPY_FOR_TARGET; \\\n+\tOTOOL_FOR_TARGET=\"$(OTOOL_FOR_TARGET)\"; export OTOOL_FOR_TARGET; \\\n \tRANLIB_FOR_TARGET=\"$(RANLIB_FOR_TARGET)\"; export RANLIB_FOR_TARGET; \\\n \tREADELF_FOR_TARGET=\"$(READELF_FOR_TARGET)\"; export READELF_FOR_TARGET; \\\n \tTOPLEVEL_CONFIGURE_ARGUMENTS=\"$(TOPLEVEL_CONFIGURE_ARGUMENTS)\"; export TOPLEVEL_CONFIGURE_ARGUMENTS; \\\n@@ -224,7 +229,6 @@ HOST_EXPORTS = \\\n \tGMPINC=\"$(HOST_GMPINC)\"; export GMPINC; \\\n \tISLLIBS=\"$(HOST_ISLLIBS)\"; export ISLLIBS; \\\n \tISLINC=\"$(HOST_ISLINC)\"; export ISLINC; \\\n-\tISLVER=\"$(HOST_ISLVER)\"; export ISLVER; \\\n \tLIBELFLIBS=\"$(HOST_LIBELFLIBS)\"; export LIBELFLIBS; \\\n \tLIBELFINC=\"$(HOST_LIBELFINC)\"; export LIBELFINC; \\\n \tXGCC_FLAGS_FOR_TARGET=\"$(XGCC_FLAGS_FOR_TARGET)\"; export XGCC_FLAGS_FOR_TARGET; \\\n@@ -261,6 +265,14 @@ POSTSTAGE1_HOST_EXPORTS = \\\n \tCC_FOR_BUILD=\"$$CC\"; export CC_FOR_BUILD; \\\n \t$(POSTSTAGE1_CXX_EXPORT) \\\n \t$(LTO_EXPORTS) \\\n+\tGDC=\"$$r/$(HOST_SUBDIR)/prev-gcc/gdc$(exeext) -B$$r/$(HOST_SUBDIR)/prev-gcc/ \\\n+\t  -B$(build_tooldir)/bin/ $(GDC_FLAGS_FOR_TARGET) \\\n+\t  -B$$r/prev-$(TARGET_SUBDIR)/libphobos/src \\\n+\t  -I$$r/prev-$(TARGET_SUBDIR)/libphobos/libdruntime -I$$s/libphobos/libdruntime \\\n+\t  -L$$r/prev-$(TARGET_SUBDIR)/libphobos/src/.libs \\\n+\t  -L$$r/prev-$(TARGET_SUBDIR)/libphobos/libdruntime/.libs\"; \\\n+\texport GDC; \\\n+\tGDC_FOR_BUILD=\"$$GDC\"; export GDC_FOR_BUILD; \\\n \tGNATBIND=\"$$r/$(HOST_SUBDIR)/prev-gcc/gnatbind\"; export GNATBIND; \\\n \tLDFLAGS=\"$(POSTSTAGE1_LDFLAGS) $(BOOT_LDFLAGS)\"; export LDFLAGS; \\\n \tHOST_LIBS=\"$(POSTSTAGE1_LIBS)\"; export HOST_LIBS;\n@@ -283,13 +295,15 @@ BASE_TARGET_EXPORTS = \\\n \tCXXFLAGS=\"$(CXXFLAGS_FOR_TARGET)\"; export CXXFLAGS; \\\n \tGFORTRAN=\"$(GFORTRAN_FOR_TARGET) $(XGCC_FLAGS_FOR_TARGET) $$TFLAGS\"; export GFORTRAN; \\\n \tGOC=\"$(GOC_FOR_TARGET) $(XGCC_FLAGS_FOR_TARGET) $$TFLAGS\"; export GOC; \\\n+\tGDC=\"$(GDC_FOR_TARGET) $(XGCC_FLAGS_FOR_TARGET) $$TFLAGS\"; export GDC; \\\n \tDLLTOOL=\"$(DLLTOOL_FOR_TARGET)\"; export DLLTOOL; \\\n \tLD=\"$(COMPILER_LD_FOR_TARGET)\"; export LD; \\\n \tLDFLAGS=\"$(LDFLAGS_FOR_TARGET)\"; export LDFLAGS; \\\n \tLIPO=\"$(LIPO_FOR_TARGET)\"; export LIPO; \\\n \tNM=\"$(COMPILER_NM_FOR_TARGET)\"; export NM; \\\n \tOBJDUMP=\"$(OBJDUMP_FOR_TARGET)\"; export OBJDUMP; \\\n \tOBJCOPY=\"$(OBJCOPY_FOR_TARGET)\"; export OBJCOPY; \\\n+\tOTOOL=\"$(OTOOL_FOR_TARGET)\"; export OTOOL; \\\n \tRANLIB=\"$(RANLIB_FOR_TARGET)\"; export RANLIB; \\\n \tREADELF=\"$(READELF_FOR_TARGET)\"; export READELF; \\\n \tSTRIP=\"$(STRIP_FOR_TARGET)\"; export STRIP; \\\n@@ -317,7 +331,6 @@ HOST_GMPINC = @gmpinc@\n # Where to find isl\n HOST_ISLLIBS = @isllibs@\n HOST_ISLINC = @islinc@\n-HOST_ISLVER = @islver@\n \n # Where to find libelf\n HOST_LIBELFLIBS = @libelflibs@\n@@ -348,6 +361,7 @@ CXX_FOR_BUILD = @CXX_FOR_BUILD@\n DLLTOOL_FOR_BUILD = @DLLTOOL_FOR_BUILD@\n GFORTRAN_FOR_BUILD = @GFORTRAN_FOR_BUILD@\n GOC_FOR_BUILD = @GOC_FOR_BUILD@\n+GDC_FOR_BUILD = @GDC_FOR_BUILD@\n LDFLAGS_FOR_BUILD = @LDFLAGS_FOR_BUILD@\n LD_FOR_BUILD = @LD_FOR_BUILD@\n NM_FOR_BUILD = @NM_FOR_BUILD@\n@@ -377,7 +391,7 @@ MAKEINFO = @MAKEINFO@\n EXPECT = @EXPECT@\n RUNTEST = @RUNTEST@\n \n-AUTO_PROFILE = gcc-auto-profile -c 1000000\n+AUTO_PROFILE = gcc-auto-profile -c 10000000\n \n # This just becomes part of the MAKEINFO definition passed down to\n # sub-makes.  It lets flags be given on the command line while still\n@@ -399,12 +413,14 @@ LD = @LD@\n LIPO = @LIPO@\n NM = @NM@\n OBJDUMP = @OBJDUMP@\n+OTOOL = @OTOOL@\n RANLIB = @RANLIB@\n READELF = @READELF@\n STRIP = @STRIP@\n WINDRES = @WINDRES@\n WINDMC = @WINDMC@\n \n+GDC = @GDC@\n GNATBIND = @GNATBIND@\n GNATMAKE = @GNATMAKE@\n \n@@ -414,6 +430,7 @@ LIBCFLAGS = $(CFLAGS)\n CXXFLAGS = @CXXFLAGS@\n LIBCXXFLAGS = $(CXXFLAGS) -fno-implicit-templates\n GOCFLAGS = $(CFLAGS)\n+GDCFLAGS = $(CFLAGS)\n \n CREATE_GCOV = create_gcov\n \n@@ -455,11 +472,24 @@ STAGE1_CONFIGURE_FLAGS = --disable-intermodule $(STAGE1_CHECKING) \\\n \t  --disable-coverage --enable-languages=\"$(STAGE1_LANGUAGES)\" \\\n \t  --disable-build-format-warnings\n \n+# When using the slow stage1 compiler disable IL verification and forcefully\n+# enable it when using the stage2 compiler instead.  As we later compare\n+# stage2 and stage3 we are merely avoid doing redundant work, plus we apply\n+# checking when building all target libraries for release builds.\n+STAGE1_TFLAGS += -fno-checking\n+STAGE2_CFLAGS += -fno-checking\n+STAGE2_TFLAGS += -fno-checking\n+STAGE3_CFLAGS += -fchecking=1\n+STAGE3_TFLAGS += -fchecking=1\n+\n STAGEprofile_CFLAGS = $(STAGE2_CFLAGS) -fprofile-generate\n STAGEprofile_TFLAGS = $(STAGE2_TFLAGS)\n \n-STAGEfeedback_CFLAGS = $(STAGE3_CFLAGS) -fprofile-use\n-STAGEfeedback_TFLAGS = $(STAGE3_TFLAGS)\n+STAGEtrain_CFLAGS = $(filter-out -fchecking=1,$(STAGE3_CFLAGS))\n+STAGEtrain_TFLAGS = $(filter-out -fchecking=1,$(STAGE3_TFLAGS))\n+\n+STAGEfeedback_CFLAGS = $(STAGE4_CFLAGS) -fprofile-use\n+STAGEfeedback_TFLAGS = $(STAGE4_TFLAGS)\n \n STAGEautoprofile_CFLAGS = $(STAGE2_CFLAGS) -g\n STAGEautoprofile_TFLAGS = $(STAGE2_TFLAGS)\n@@ -487,13 +517,15 @@ CXX_FOR_TARGET=$(STAGE_CC_WRAPPER) @CXX_FOR_TARGET@\n RAW_CXX_FOR_TARGET=$(STAGE_CC_WRAPPER) @RAW_CXX_FOR_TARGET@\n GFORTRAN_FOR_TARGET=$(STAGE_CC_WRAPPER) @GFORTRAN_FOR_TARGET@\n GOC_FOR_TARGET=$(STAGE_CC_WRAPPER) @GOC_FOR_TARGET@\n+GDC_FOR_TARGET=$(STAGE_CC_WRAPPER) @GDC_FOR_TARGET@\n DLLTOOL_FOR_TARGET=@DLLTOOL_FOR_TARGET@\n LD_FOR_TARGET=@LD_FOR_TARGET@\n \n LIPO_FOR_TARGET=@LIPO_FOR_TARGET@\n NM_FOR_TARGET=@NM_FOR_TARGET@\n OBJDUMP_FOR_TARGET=@OBJDUMP_FOR_TARGET@\n OBJCOPY_FOR_TARGET=@OBJCOPY_FOR_TARGET@\n+OTOOL_FOR_TARGET=@OTOOL_FOR_TARGET@\n RANLIB_FOR_TARGET=@RANLIB_FOR_TARGET@\n READELF_FOR_TARGET=@READELF_FOR_TARGET@\n STRIP_FOR_TARGET=@STRIP_FOR_TARGET@\n@@ -511,6 +543,7 @@ LIBCFLAGS_FOR_TARGET = $(CFLAGS_FOR_TARGET)\n LIBCXXFLAGS_FOR_TARGET = $(CXXFLAGS_FOR_TARGET) -fno-implicit-templates\n LDFLAGS_FOR_TARGET = @LDFLAGS_FOR_TARGET@\n GOCFLAGS_FOR_TARGET = -O2 -g\n+GDCFLAGS_FOR_TARGET = -O2 -g\n \n FLAGS_FOR_TARGET = @FLAGS_FOR_TARGET@\n SYSROOT_CFLAGS_FOR_TARGET = @SYSROOT_CFLAGS_FOR_TARGET@\n@@ -592,6 +625,7 @@ BASE_FLAGS_TO_PASS =[+ FOR flags_to_pass +][+ IF optional +] \\\n \t\"[+flag+]=$([+flag+])\"[+ ENDIF optional+][+ ENDFOR flags_to_pass +][+ FOR bootstrap-stage +] \\\n \t\"STAGE[+id+]_CFLAGS=$(STAGE[+id+]_CFLAGS)\" \\\n \t\"STAGE[+id+]_CXXFLAGS=$(STAGE[+id+]_CXXFLAGS)\" \\\n+\t\"STAGE[+id+]_GENERATOR_CFLAGS=$(STAGE[+id+]_GENERATOR_CFLAGS)\" \\\n \t\"STAGE[+id+]_TFLAGS=$(STAGE[+id+]_TFLAGS)\"[+ ENDFOR bootstrap-stage +] \\\n \t$(CXX_FOR_TARGET_FLAG_TO_PASS) \\\n \t\"TFLAGS=$(TFLAGS)\" \\\n@@ -612,10 +646,12 @@ EXTRA_HOST_FLAGS = \\\n \t'DLLTOOL=$(DLLTOOL)' \\\n \t'GFORTRAN=$(GFORTRAN)' \\\n \t'GOC=$(GOC)' \\\n+\t'GDC=$(GDC)' \\\n \t'LD=$(LD)' \\\n \t'LIPO=$(LIPO)' \\\n \t'NM=$(NM)' \\\n \t'OBJDUMP=$(OBJDUMP)' \\\n+\t'OTOOL=$(OTOOL)' \\\n \t'RANLIB=$(RANLIB)' \\\n \t'READELF=$(READELF)' \\\n \t'STRIP=$(STRIP)' \\\n@@ -636,6 +672,7 @@ STAGE1_FLAGS_TO_PASS = \\\n POSTSTAGE1_FLAGS_TO_PASS = \\\n \tCC=\"$${CC}\" CC_FOR_BUILD=\"$${CC_FOR_BUILD}\" \\\n \tCXX=\"$${CXX}\" CXX_FOR_BUILD=\"$${CXX_FOR_BUILD}\" \\\n+\tGDC=\"$${GDC}\" GDC_FOR_BUILD=\"$${GDC_FOR_BUILD}\" \\\n \tGNATBIND=\"$${GNATBIND}\" \\\n \tLDFLAGS=\"$${LDFLAGS}\" \\\n \tHOST_LIBS=\"$${HOST_LIBS}\" \\\n@@ -668,6 +705,8 @@ EXTRA_TARGET_FLAGS = \\\n \t'GFORTRAN=$$(GFORTRAN_FOR_TARGET) $$(XGCC_FLAGS_FOR_TARGET) $$(TFLAGS)' \\\n \t'GOC=$$(GOC_FOR_TARGET) $$(XGCC_FLAGS_FOR_TARGET) $$(TFLAGS)' \\\n \t'GOCFLAGS=$$(GOCFLAGS_FOR_TARGET)' \\\n+\t'GDC=$$(GDC_FOR_TARGET) $$(XGCC_FLAGS_FOR_TARGET) $$(TFLAGS)' \\\n+\t'GDCFLAGS=$$(GDCFLAGS_FOR_TARGET)' \\\n \t'LD=$(COMPILER_LD_FOR_TARGET)' \\\n \t'LDFLAGS=$$(LDFLAGS_FOR_TARGET)' \\\n \t'LIBCFLAGS=$$(LIBCFLAGS_FOR_TARGET)' \\\n@@ -1156,6 +1195,7 @@ all-stage[+id+]-[+prefix+][+module+]: configure-stage[+id+]-[+prefix+][+module+]\n \t\tCXXFLAGS=\"$(CXXFLAGS_FOR_TARGET)\" \\\n \t\tLIBCFLAGS=\"$(LIBCFLAGS_FOR_TARGET)\"[+ ELSE prefix +] \\\n \t\tCFLAGS=\"$(STAGE[+id+]_CFLAGS)\" \\\n+\t\tGENERATOR_CFLAGS=\"$(STAGE[+id+]_GENERATOR_CFLAGS)\" \\\n \t\tCXXFLAGS=\"$(STAGE[+id+]_CXXFLAGS)\"[+ IF prev +] \\\n \t\tLIBCFLAGS=\"$(STAGE[+id+]_CFLAGS)\"[+ ELSE prev +] \\\n \t\tLIBCFLAGS=\"$(LIBCFLAGS)\"[+ ENDIF prev +][+ ENDIF prefix +] \\\n@@ -1638,7 +1678,7 @@ do-clean: clean-stage[+id+]\n         sed=`echo stage[+id+] | sed 's,^stage,,;s,.,.,g'`; \\\n \tfiles=`find stage[+id+]-* -name \"*$(objext)\" -print | \\\n \t\t sed -n s,^stage$$sed-,,p`; \\\n-\tfor file in $${files}; do \\\n+\tfor file in $${files} ${extra-compare}; do \\\n \t  f1=$$r/stage[+prev+]-$$file; f2=$$r/stage[+id+]-$$file; \\\n \t  if test ! -f $$f1; then continue; fi; \\\n \t  $(do-[+compare-target+]) > /dev/null 2>&1; \\"
    },
    {
      "sha": "4cd58c9c62133af7c102d418e5887bb6cc50cb94",
      "filename": "configure",
      "status": "modified",
      "additions": 662,
      "deletions": 1,
      "changes": 663,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f948b2de97884bfb4e5fc11d40a6bea9e0b096ae/configure",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f948b2de97884bfb4e5fc11d40a6bea9e0b096ae/configure",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/configure?ref=f948b2de97884bfb4e5fc11d40a6bea9e0b096ae",
      "patch": "@@ -603,6 +603,7 @@ WINDRES_FOR_TARGET\n STRIP_FOR_TARGET\n READELF_FOR_TARGET\n RANLIB_FOR_TARGET\n+OTOOL_FOR_TARGET\n OBJDUMP_FOR_TARGET\n OBJCOPY_FOR_TARGET\n NM_FOR_TARGET\n@@ -611,12 +612,14 @@ LD_FOR_TARGET\n DLLTOOL_FOR_TARGET\n AS_FOR_TARGET\n AR_FOR_TARGET\n+GDC_FOR_TARGET\n GOC_FOR_TARGET\n GFORTRAN_FOR_TARGET\n GCC_FOR_TARGET\n CXX_FOR_TARGET\n CC_FOR_TARGET\n READELF\n+OTOOL\n OBJDUMP\n OBJCOPY\n WINDMC\n@@ -643,6 +646,7 @@ RANLIB_FOR_BUILD\n NM_FOR_BUILD\n LD_FOR_BUILD\n LDFLAGS_FOR_BUILD\n+GDC_FOR_BUILD\n GOC_FOR_BUILD\n GFORTRAN_FOR_BUILD\n DLLTOOL_FOR_BUILD\n@@ -855,12 +859,14 @@ WINDRES\n WINDMC\n OBJCOPY\n OBJDUMP\n+OTOOL\n READELF\n CC_FOR_TARGET\n CXX_FOR_TARGET\n GCC_FOR_TARGET\n GFORTRAN_FOR_TARGET\n GOC_FOR_TARGET\n+GDC_FOR_TARGET\n AR_FOR_TARGET\n AS_FOR_TARGET\n DLLTOOL_FOR_TARGET\n@@ -869,6 +875,7 @@ LIPO_FOR_TARGET\n NM_FOR_TARGET\n OBJCOPY_FOR_TARGET\n OBJDUMP_FOR_TARGET\n+OTOOL_FOR_TARGET\n RANLIB_FOR_TARGET\n READELF_FOR_TARGET\n STRIP_FOR_TARGET\n@@ -1632,6 +1639,7 @@ Some influential environment variables:\n   WINDMC      WINDMC for the host\n   OBJCOPY     OBJCOPY for the host\n   OBJDUMP     OBJDUMP for the host\n+  OTOOL       OTOOL for the host\n   READELF     READELF for the host\n   CC_FOR_TARGET\n               CC for the target\n@@ -1643,6 +1651,8 @@ Some influential environment variables:\n               GFORTRAN for the target\n   GOC_FOR_TARGET\n               GOC for the target\n+  GDC_FOR_TARGET\n+              GDC for the target\n   AR_FOR_TARGET\n               AR for the target\n   AS_FOR_TARGET\n@@ -1659,6 +1669,8 @@ Some influential environment variables:\n               OBJCOPY for the target\n   OBJDUMP_FOR_TARGET\n               OBJDUMP for the target\n+  OTOOL_FOR_TARGET\n+              OTOOL for the target\n   RANLIB_FOR_TARGET\n               RANLIB for the target\n   READELF_FOR_TARGET\n@@ -2800,7 +2812,9 @@ target_libraries=\"target-libgcc \\\n \t\ttarget-libffi \\\n \t\ttarget-libobjc \\\n \t\ttarget-libada \\\n-\t\ttarget-libgo\"\n+\t\ttarget-libgo \\\n+\t\ttarget-libphobos \\\n+\t\ttarget-zlib\"\n \n # these tools are built using the target libraries, and are intended to\n # run only in the target environment\n@@ -3381,6 +3395,40 @@ if test \"${ENABLE_LIBSTDCXX}\" = \"default\" ; then\n   esac\n fi\n \n+# Disable D on systems where it is known to not work.\n+# For testing, you can override this with --enable-languages=d.\n+case ,${enable_languages}, in\n+  *,d,*)\n+    ;;\n+  *)\n+    case \"${target}\" in\n+      *-*-darwin*)\n+\tunsupported_languages=\"$unsupported_languages d\"\n+\t;;\n+    esac\n+    ;;\n+esac\n+\n+# Disable libphobos on unsupported systems.\n+# For testing, you can override this with --enable-libphobos.\n+if test -d ${srcdir}/libphobos; then\n+    if test x$enable_libphobos = x; then\n+\t{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for libphobos support\" >&5\n+$as_echo_n \"checking for libphobos support... \" >&6; }\n+\tif (srcdir=${srcdir}/libphobos; \\\n+\t\t. ${srcdir}/configure.tgt; \\\n+\t\ttest \"$LIBPHOBOS_SUPPORTED\" != \"yes\")\n+\tthen\n+\t    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+\t    noconfigdirs=\"$noconfigdirs target-libphobos\"\n+\telse\n+\t    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: yes\" >&5\n+$as_echo \"yes\" >&6; }\n+\tfi\n+    fi\n+fi\n+\n # Disable Fortran for some systems.\n case \"${target}\" in\n   mmix-*-*)\n@@ -3627,6 +3675,8 @@ case \"${target}\" in\n     noconfigdirs=\"$noconfigdirs ld gas gdb gprof\"\n     noconfigdirs=\"$noconfigdirs sim target-rda\"\n     ;;\n+  amdgcn*-*-*)\n+    ;;\n   arm-*-darwin*)\n     noconfigdirs=\"$noconfigdirs ld gas gdb gprof\"\n     noconfigdirs=\"$noconfigdirs sim target-rda\"\n@@ -3978,6 +4028,7 @@ if test \"${build}\" != \"${host}\" ; then\n   CXX_FOR_BUILD=${CXX_FOR_BUILD-g++}\n   GFORTRAN_FOR_BUILD=${GFORTRAN_FOR_BUILD-gfortran}\n   GOC_FOR_BUILD=${GOC_FOR_BUILD-gccgo}\n+  GDC_FOR_BUILD=${GDC_FOR_BUILD-gdc}\n   DLLTOOL_FOR_BUILD=${DLLTOOL_FOR_BUILD-dlltool}\n   LD_FOR_BUILD=${LD_FOR_BUILD-ld}\n   NM_FOR_BUILD=${NM_FOR_BUILD-nm}\n@@ -3991,6 +4042,7 @@ else\n   CXX_FOR_BUILD=\"\\$(CXX)\"\n   GFORTRAN_FOR_BUILD=\"\\$(GFORTRAN)\"\n   GOC_FOR_BUILD=\"\\$(GOC)\"\n+  GDC_FOR_BUILD=\"\\$(GDC)\"\n   DLLTOOL_FOR_BUILD=\"\\$(DLLTOOL)\"\n   LD_FOR_BUILD=\"\\$(LD)\"\n   NM_FOR_BUILD=\"\\$(NM)\"\n@@ -7732,6 +7784,7 @@ done\n \n \n \n+\n # Generate default definitions for YACC, M4, LEX and other programs that run\n # on the build machine.  These are used if the Makefile can't locate these\n # programs in objdir.\n@@ -9823,6 +9876,147 @@ fi\n \n \n \n+if test -n \"$OTOOL\"; then\n+  ac_cv_prog_OTOOL=$OTOOL\n+elif test -n \"$ac_cv_prog_OTOOL\"; then\n+  OTOOL=$ac_cv_prog_OTOOL\n+fi\n+\n+if test -n \"$ac_cv_prog_OTOOL\"; then\n+  for ncn_progname in otool; do\n+    # Extract the first word of \"${ncn_progname}\", so it can be a program name with args.\n+set dummy ${ncn_progname}; ac_word=$2\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n+$as_echo_n \"checking for $ac_word... \" >&6; }\n+if ${ac_cv_prog_OTOOL+:} false; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  if test -n \"$OTOOL\"; then\n+  ac_cv_prog_OTOOL=\"$OTOOL\" # Let the user override the test.\n+else\n+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+    for ac_exec_ext in '' $ac_executable_extensions; do\n+  if as_fn_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_prog_OTOOL=\"${ncn_progname}\"\n+    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+  done\n+IFS=$as_save_IFS\n+\n+fi\n+fi\n+OTOOL=$ac_cv_prog_OTOOL\n+if test -n \"$OTOOL\"; then\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $OTOOL\" >&5\n+$as_echo \"$OTOOL\" >&6; }\n+else\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+fi\n+\n+\n+  done\n+fi\n+\n+for ncn_progname in otool; do\n+  if test -n \"$ncn_tool_prefix\"; then\n+    # Extract the first word of \"${ncn_tool_prefix}${ncn_progname}\", so it can be a program name with args.\n+set dummy ${ncn_tool_prefix}${ncn_progname}; ac_word=$2\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n+$as_echo_n \"checking for $ac_word... \" >&6; }\n+if ${ac_cv_prog_OTOOL+:} false; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  if test -n \"$OTOOL\"; then\n+  ac_cv_prog_OTOOL=\"$OTOOL\" # Let the user override the test.\n+else\n+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+    for ac_exec_ext in '' $ac_executable_extensions; do\n+  if as_fn_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_prog_OTOOL=\"${ncn_tool_prefix}${ncn_progname}\"\n+    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+  done\n+IFS=$as_save_IFS\n+\n+fi\n+fi\n+OTOOL=$ac_cv_prog_OTOOL\n+if test -n \"$OTOOL\"; then\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $OTOOL\" >&5\n+$as_echo \"$OTOOL\" >&6; }\n+else\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+fi\n+\n+\n+  fi\n+  if test -z \"$ac_cv_prog_OTOOL\" && test $build = $host ; then\n+    # Extract the first word of \"${ncn_progname}\", so it can be a program name with args.\n+set dummy ${ncn_progname}; ac_word=$2\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n+$as_echo_n \"checking for $ac_word... \" >&6; }\n+if ${ac_cv_prog_OTOOL+:} false; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  if test -n \"$OTOOL\"; then\n+  ac_cv_prog_OTOOL=\"$OTOOL\" # Let the user override the test.\n+else\n+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+    for ac_exec_ext in '' $ac_executable_extensions; do\n+  if as_fn_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_prog_OTOOL=\"${ncn_progname}\"\n+    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+  done\n+IFS=$as_save_IFS\n+\n+fi\n+fi\n+OTOOL=$ac_cv_prog_OTOOL\n+if test -n \"$OTOOL\"; then\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $OTOOL\" >&5\n+$as_echo \"$OTOOL\" >&6; }\n+else\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+fi\n+\n+\n+  fi\n+  test -n \"$ac_cv_prog_OTOOL\" && break\n+done\n+\n+if test -z \"$ac_cv_prog_OTOOL\" ; then\n+  set dummy otool\n+  if test $build = $host ; then\n+    OTOOL=\"$2\"\n+  else\n+    OTOOL=\"${ncn_tool_prefix}$2\"\n+  fi\n+fi\n+\n+\n+\n if test -n \"$READELF\"; then\n   ac_cv_prog_READELF=$READELF\n elif test -n \"$ac_cv_prog_READELF\"; then\n@@ -10786,6 +10980,167 @@ fi\n \n \n \n+if test -n \"$GDC_FOR_TARGET\"; then\n+  ac_cv_prog_GDC_FOR_TARGET=$GDC_FOR_TARGET\n+elif test -n \"$ac_cv_prog_GDC_FOR_TARGET\"; then\n+  GDC_FOR_TARGET=$ac_cv_prog_GDC_FOR_TARGET\n+fi\n+\n+if test -n \"$ac_cv_prog_GDC_FOR_TARGET\"; then\n+  for ncn_progname in gdc; do\n+    # Extract the first word of \"${ncn_progname}\", so it can be a program name with args.\n+set dummy ${ncn_progname}; ac_word=$2\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n+$as_echo_n \"checking for $ac_word... \" >&6; }\n+if ${ac_cv_prog_GDC_FOR_TARGET+:} false; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  if test -n \"$GDC_FOR_TARGET\"; then\n+  ac_cv_prog_GDC_FOR_TARGET=\"$GDC_FOR_TARGET\" # Let the user override the test.\n+else\n+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+    for ac_exec_ext in '' $ac_executable_extensions; do\n+  if as_fn_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_prog_GDC_FOR_TARGET=\"${ncn_progname}\"\n+    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+  done\n+IFS=$as_save_IFS\n+\n+fi\n+fi\n+GDC_FOR_TARGET=$ac_cv_prog_GDC_FOR_TARGET\n+if test -n \"$GDC_FOR_TARGET\"; then\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $GDC_FOR_TARGET\" >&5\n+$as_echo \"$GDC_FOR_TARGET\" >&6; }\n+else\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+fi\n+\n+\n+  done\n+fi\n+\n+if test -z \"$ac_cv_prog_GDC_FOR_TARGET\" && test -n \"$with_build_time_tools\"; then\n+  for ncn_progname in gdc; do\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for ${ncn_progname} in $with_build_time_tools\" >&5\n+$as_echo_n \"checking for ${ncn_progname} in $with_build_time_tools... \" >&6; }\n+    if test -x $with_build_time_tools/${ncn_progname}; then\n+      ac_cv_prog_GDC_FOR_TARGET=$with_build_time_tools/${ncn_progname}\n+      { $as_echo \"$as_me:${as_lineno-$LINENO}: result: yes\" >&5\n+$as_echo \"yes\" >&6; }\n+      break\n+    else\n+      { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+    fi\n+  done\n+fi\n+\n+if test -z \"$ac_cv_prog_GDC_FOR_TARGET\"; then\n+  for ncn_progname in gdc; do\n+    if test -n \"$ncn_target_tool_prefix\"; then\n+      # Extract the first word of \"${ncn_target_tool_prefix}${ncn_progname}\", so it can be a program name with args.\n+set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n+$as_echo_n \"checking for $ac_word... \" >&6; }\n+if ${ac_cv_prog_GDC_FOR_TARGET+:} false; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  if test -n \"$GDC_FOR_TARGET\"; then\n+  ac_cv_prog_GDC_FOR_TARGET=\"$GDC_FOR_TARGET\" # Let the user override the test.\n+else\n+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+    for ac_exec_ext in '' $ac_executable_extensions; do\n+  if as_fn_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_prog_GDC_FOR_TARGET=\"${ncn_target_tool_prefix}${ncn_progname}\"\n+    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+  done\n+IFS=$as_save_IFS\n+\n+fi\n+fi\n+GDC_FOR_TARGET=$ac_cv_prog_GDC_FOR_TARGET\n+if test -n \"$GDC_FOR_TARGET\"; then\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $GDC_FOR_TARGET\" >&5\n+$as_echo \"$GDC_FOR_TARGET\" >&6; }\n+else\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+fi\n+\n+\n+    fi\n+    if test -z \"$ac_cv_prog_GDC_FOR_TARGET\" && test $build = $target ; then\n+      # Extract the first word of \"${ncn_progname}\", so it can be a program name with args.\n+set dummy ${ncn_progname}; ac_word=$2\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n+$as_echo_n \"checking for $ac_word... \" >&6; }\n+if ${ac_cv_prog_GDC_FOR_TARGET+:} false; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  if test -n \"$GDC_FOR_TARGET\"; then\n+  ac_cv_prog_GDC_FOR_TARGET=\"$GDC_FOR_TARGET\" # Let the user override the test.\n+else\n+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+    for ac_exec_ext in '' $ac_executable_extensions; do\n+  if as_fn_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_prog_GDC_FOR_TARGET=\"${ncn_progname}\"\n+    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+  done\n+IFS=$as_save_IFS\n+\n+fi\n+fi\n+GDC_FOR_TARGET=$ac_cv_prog_GDC_FOR_TARGET\n+if test -n \"$GDC_FOR_TARGET\"; then\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $GDC_FOR_TARGET\" >&5\n+$as_echo \"$GDC_FOR_TARGET\" >&6; }\n+else\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+fi\n+\n+\n+    fi\n+    test -n \"$ac_cv_prog_GDC_FOR_TARGET\" && break\n+  done\n+fi\n+\n+if test -z \"$ac_cv_prog_GDC_FOR_TARGET\" ; then\n+  set dummy gdc\n+  if test $build = $target ; then\n+    GDC_FOR_TARGET=\"$2\"\n+  else\n+    GDC_FOR_TARGET=\"${ncn_target_tool_prefix}$2\"\n+  fi\n+else\n+  GDC_FOR_TARGET=\"$ac_cv_prog_GDC_FOR_TARGET\"\n+fi\n+\n+\n+\n cat > conftest.c << \\EOF\n #ifdef __GNUC__\n   gcc_yay;\n@@ -12642,6 +12997,236 @@ fi\n \n \n \n+if test -z \"$ac_cv_path_OTOOL_FOR_TARGET\" ; then\n+  if test -n \"$with_build_time_tools\"; then\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for otool in $with_build_time_tools\" >&5\n+$as_echo_n \"checking for otool in $with_build_time_tools... \" >&6; }\n+    if test -x $with_build_time_tools/otool; then\n+      OTOOL_FOR_TARGET=`cd $with_build_time_tools && pwd`/otool\n+      ac_cv_path_OTOOL_FOR_TARGET=$OTOOL_FOR_TARGET\n+      { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_OTOOL_FOR_TARGET\" >&5\n+$as_echo \"$ac_cv_path_OTOOL_FOR_TARGET\" >&6; }\n+    else\n+      { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+    fi\n+  elif test $build != $host && test $have_gcc_for_target = yes; then\n+    OTOOL_FOR_TARGET=`$GCC_FOR_TARGET --print-prog-name=otool`\n+    test $OTOOL_FOR_TARGET = otool && OTOOL_FOR_TARGET=\n+    test -n \"$OTOOL_FOR_TARGET\" && ac_cv_path_OTOOL_FOR_TARGET=$OTOOL_FOR_TARGET\n+  fi\n+fi\n+if test -z \"$ac_cv_path_OTOOL_FOR_TARGET\" && test -n \"$gcc_cv_tool_dirs\"; then\n+  # Extract the first word of \"otool\", so it can be a program name with args.\n+set dummy otool; ac_word=$2\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n+$as_echo_n \"checking for $ac_word... \" >&6; }\n+if ${ac_cv_path_OTOOL_FOR_TARGET+:} false; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  case $OTOOL_FOR_TARGET in\n+  [\\\\/]* | ?:[\\\\/]*)\n+  ac_cv_path_OTOOL_FOR_TARGET=\"$OTOOL_FOR_TARGET\" # Let the user override the test with a path.\n+  ;;\n+  *)\n+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $gcc_cv_tool_dirs\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+    for ac_exec_ext in '' $ac_executable_extensions; do\n+  if as_fn_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_path_OTOOL_FOR_TARGET=\"$as_dir/$ac_word$ac_exec_ext\"\n+    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+  done\n+IFS=$as_save_IFS\n+\n+  ;;\n+esac\n+fi\n+OTOOL_FOR_TARGET=$ac_cv_path_OTOOL_FOR_TARGET\n+if test -n \"$OTOOL_FOR_TARGET\"; then\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $OTOOL_FOR_TARGET\" >&5\n+$as_echo \"$OTOOL_FOR_TARGET\" >&6; }\n+else\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+fi\n+\n+\n+fi\n+if test -z \"$ac_cv_path_OTOOL_FOR_TARGET\" ; then\n+\n+\n+if test -n \"$OTOOL_FOR_TARGET\"; then\n+  ac_cv_prog_OTOOL_FOR_TARGET=$OTOOL_FOR_TARGET\n+elif test -n \"$ac_cv_prog_OTOOL_FOR_TARGET\"; then\n+  OTOOL_FOR_TARGET=$ac_cv_prog_OTOOL_FOR_TARGET\n+fi\n+\n+if test -n \"$ac_cv_prog_OTOOL_FOR_TARGET\"; then\n+  for ncn_progname in otool; do\n+    # Extract the first word of \"${ncn_progname}\", so it can be a program name with args.\n+set dummy ${ncn_progname}; ac_word=$2\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n+$as_echo_n \"checking for $ac_word... \" >&6; }\n+if ${ac_cv_prog_OTOOL_FOR_TARGET+:} false; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  if test -n \"$OTOOL_FOR_TARGET\"; then\n+  ac_cv_prog_OTOOL_FOR_TARGET=\"$OTOOL_FOR_TARGET\" # Let the user override the test.\n+else\n+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+    for ac_exec_ext in '' $ac_executable_extensions; do\n+  if as_fn_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_prog_OTOOL_FOR_TARGET=\"${ncn_progname}\"\n+    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+  done\n+IFS=$as_save_IFS\n+\n+fi\n+fi\n+OTOOL_FOR_TARGET=$ac_cv_prog_OTOOL_FOR_TARGET\n+if test -n \"$OTOOL_FOR_TARGET\"; then\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $OTOOL_FOR_TARGET\" >&5\n+$as_echo \"$OTOOL_FOR_TARGET\" >&6; }\n+else\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+fi\n+\n+\n+  done\n+fi\n+\n+if test -z \"$ac_cv_prog_OTOOL_FOR_TARGET\" && test -n \"$with_build_time_tools\"; then\n+  for ncn_progname in otool; do\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for ${ncn_progname} in $with_build_time_tools\" >&5\n+$as_echo_n \"checking for ${ncn_progname} in $with_build_time_tools... \" >&6; }\n+    if test -x $with_build_time_tools/${ncn_progname}; then\n+      ac_cv_prog_OTOOL_FOR_TARGET=$with_build_time_tools/${ncn_progname}\n+      { $as_echo \"$as_me:${as_lineno-$LINENO}: result: yes\" >&5\n+$as_echo \"yes\" >&6; }\n+      break\n+    else\n+      { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+    fi\n+  done\n+fi\n+\n+if test -z \"$ac_cv_prog_OTOOL_FOR_TARGET\"; then\n+  for ncn_progname in otool; do\n+    if test -n \"$ncn_target_tool_prefix\"; then\n+      # Extract the first word of \"${ncn_target_tool_prefix}${ncn_progname}\", so it can be a program name with args.\n+set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n+$as_echo_n \"checking for $ac_word... \" >&6; }\n+if ${ac_cv_prog_OTOOL_FOR_TARGET+:} false; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  if test -n \"$OTOOL_FOR_TARGET\"; then\n+  ac_cv_prog_OTOOL_FOR_TARGET=\"$OTOOL_FOR_TARGET\" # Let the user override the test.\n+else\n+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+    for ac_exec_ext in '' $ac_executable_extensions; do\n+  if as_fn_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_prog_OTOOL_FOR_TARGET=\"${ncn_target_tool_prefix}${ncn_progname}\"\n+    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+  done\n+IFS=$as_save_IFS\n+\n+fi\n+fi\n+OTOOL_FOR_TARGET=$ac_cv_prog_OTOOL_FOR_TARGET\n+if test -n \"$OTOOL_FOR_TARGET\"; then\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $OTOOL_FOR_TARGET\" >&5\n+$as_echo \"$OTOOL_FOR_TARGET\" >&6; }\n+else\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+fi\n+\n+\n+    fi\n+    if test -z \"$ac_cv_prog_OTOOL_FOR_TARGET\" && test $build = $target ; then\n+      # Extract the first word of \"${ncn_progname}\", so it can be a program name with args.\n+set dummy ${ncn_progname}; ac_word=$2\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n+$as_echo_n \"checking for $ac_word... \" >&6; }\n+if ${ac_cv_prog_OTOOL_FOR_TARGET+:} false; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  if test -n \"$OTOOL_FOR_TARGET\"; then\n+  ac_cv_prog_OTOOL_FOR_TARGET=\"$OTOOL_FOR_TARGET\" # Let the user override the test.\n+else\n+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+    for ac_exec_ext in '' $ac_executable_extensions; do\n+  if as_fn_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_prog_OTOOL_FOR_TARGET=\"${ncn_progname}\"\n+    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+  done\n+IFS=$as_save_IFS\n+\n+fi\n+fi\n+OTOOL_FOR_TARGET=$ac_cv_prog_OTOOL_FOR_TARGET\n+if test -n \"$OTOOL_FOR_TARGET\"; then\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $OTOOL_FOR_TARGET\" >&5\n+$as_echo \"$OTOOL_FOR_TARGET\" >&6; }\n+else\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+fi\n+\n+\n+    fi\n+    test -n \"$ac_cv_prog_OTOOL_FOR_TARGET\" && break\n+  done\n+fi\n+\n+if test -z \"$ac_cv_prog_OTOOL_FOR_TARGET\" ; then\n+  set dummy otool\n+  if test $build = $target ; then\n+    OTOOL_FOR_TARGET=\"$2\"\n+  else\n+    OTOOL_FOR_TARGET=\"${ncn_target_tool_prefix}$2\"\n+  fi\n+else\n+  OTOOL_FOR_TARGET=\"$ac_cv_prog_OTOOL_FOR_TARGET\"\n+fi\n+\n+else\n+  OTOOL_FOR_TARGET=$ac_cv_path_OTOOL_FOR_TARGET\n+fi\n+\n+\n+\n+\n if test -z \"$ac_cv_path_RANLIB_FOR_TARGET\" ; then\n   if test -n \"$with_build_time_tools\"; then\n     { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for ranlib in $with_build_time_tools\" >&5\n@@ -14182,6 +14767,51 @@ $as_echo \"pre-installed\" >&6; }\n   fi\n fi\n \n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking where to find the target gdc\" >&5\n+$as_echo_n \"checking where to find the target gdc... \" >&6; }\n+if test \"x${build}\" != \"x${host}\" ; then\n+  if expr \"x$GDC_FOR_TARGET\" : \"x/\" > /dev/null; then\n+    # We already found the complete path\n+    ac_dir=`dirname $GDC_FOR_TARGET`\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: pre-installed in $ac_dir\" >&5\n+$as_echo \"pre-installed in $ac_dir\" >&6; }\n+  else\n+    # Canadian cross, just use what we found\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: pre-installed\" >&5\n+$as_echo \"pre-installed\" >&6; }\n+  fi\n+else\n+  ok=yes\n+  case \" ${configdirs} \" in\n+    *\" gcc \"*) ;;\n+    *) ok=no ;;\n+  esac\n+  case ,${enable_languages}, in\n+    *,d,*) ;;\n+    *) ok=no ;;\n+  esac\n+  if test $ok = yes; then\n+    # An in-tree tool is available and we can use it\n+    GDC_FOR_TARGET='$$r/$(HOST_SUBDIR)/gcc/gdc -B$$r/$(HOST_SUBDIR)/gcc/'\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: just compiled\" >&5\n+$as_echo \"just compiled\" >&6; }\n+  elif expr \"x$GDC_FOR_TARGET\" : \"x/\" > /dev/null; then\n+    # We already found the complete path\n+    ac_dir=`dirname $GDC_FOR_TARGET`\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: pre-installed in $ac_dir\" >&5\n+$as_echo \"pre-installed in $ac_dir\" >&6; }\n+  elif test \"x$target\" = \"x$host\"; then\n+    # We can use an host tool\n+    GDC_FOR_TARGET='$(GDC)'\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: host tool\" >&5\n+$as_echo \"host tool\" >&6; }\n+  else\n+    # We need a cross tool\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: pre-installed\" >&5\n+$as_echo \"pre-installed\" >&6; }\n+  fi\n+fi\n+\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking where to find the target ld\" >&5\n $as_echo_n \"checking where to find the target ld... \" >&6; }\n if test \"x${build}\" != \"x${host}\" ; then\n@@ -14381,6 +15011,37 @@ $as_echo \"pre-installed\" >&6; }\n   fi\n fi\n \n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking where to find the target otool\" >&5\n+$as_echo_n \"checking where to find the target otool... \" >&6; }\n+if test \"x${build}\" != \"x${host}\" ; then\n+  if expr \"x$OTOOL_FOR_TARGET\" : \"x/\" > /dev/null; then\n+    # We already found the complete path\n+    ac_dir=`dirname $OTOOL_FOR_TARGET`\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: pre-installed in $ac_dir\" >&5\n+$as_echo \"pre-installed in $ac_dir\" >&6; }\n+  else\n+    # Canadian cross, just use what we found\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: pre-installed\" >&5\n+$as_echo \"pre-installed\" >&6; }\n+  fi\n+else\n+  if expr \"x$OTOOL_FOR_TARGET\" : \"x/\" > /dev/null; then\n+    # We already found the complete path\n+    ac_dir=`dirname $OTOOL_FOR_TARGET`\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: pre-installed in $ac_dir\" >&5\n+$as_echo \"pre-installed in $ac_dir\" >&6; }\n+  elif test \"x$target\" = \"x$host\"; then\n+    # We can use an host tool\n+    OTOOL_FOR_TARGET='$(OTOOL)'\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: host tool\" >&5\n+$as_echo \"host tool\" >&6; }\n+  else\n+    # We need a cross tool\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: pre-installed\" >&5\n+$as_echo \"pre-installed\" >&6; }\n+  fi\n+fi\n+\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking where to find the target ranlib\" >&5\n $as_echo_n \"checking where to find the target ranlib... \" >&6; }\n if test \"x${build}\" != \"x${host}\" ; then"
    },
    {
      "sha": "39bd2b184d1ca73e91b57c436baba9e013b8b6d0",
      "filename": "configure.ac",
      "status": "modified",
      "additions": 45,
      "deletions": 1,
      "changes": 46,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f948b2de97884bfb4e5fc11d40a6bea9e0b096ae/configure.ac",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f948b2de97884bfb4e5fc11d40a6bea9e0b096ae/configure.ac",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/configure.ac?ref=f948b2de97884bfb4e5fc11d40a6bea9e0b096ae",
      "patch": "@@ -162,7 +162,9 @@ target_libraries=\"target-libgcc \\\n \t\ttarget-libffi \\\n \t\ttarget-libobjc \\\n \t\ttarget-libada \\\n-\t\ttarget-libgo\"\n+\t\ttarget-libgo \\\n+\t\ttarget-libphobos \\\n+\t\ttarget-zlib\"\n \n # these tools are built using the target libraries, and are intended to\n # run only in the target environment\n@@ -678,6 +680,37 @@ if test \"${ENABLE_LIBSTDCXX}\" = \"default\" ; then\n   esac\n fi\n \n+# Disable D on systems where it is known to not work.\n+# For testing, you can override this with --enable-languages=d.\n+case ,${enable_languages}, in\n+  *,d,*)\n+    ;;\n+  *)\n+    case \"${target}\" in\n+      *-*-darwin*)\n+\tunsupported_languages=\"$unsupported_languages d\"\n+\t;;\n+    esac\n+    ;;\n+esac\n+\n+# Disable libphobos on unsupported systems.\n+# For testing, you can override this with --enable-libphobos.\n+if test -d ${srcdir}/libphobos; then\n+    if test x$enable_libphobos = x; then\n+\tAC_MSG_CHECKING([for libphobos support])\n+\tif (srcdir=${srcdir}/libphobos; \\\n+\t\t. ${srcdir}/configure.tgt; \\\n+\t\ttest \"$LIBPHOBOS_SUPPORTED\" != \"yes\")\n+\tthen\n+\t    AC_MSG_RESULT([no])\n+\t    noconfigdirs=\"$noconfigdirs target-libphobos\"\n+\telse\n+\t    AC_MSG_RESULT([yes])\n+\tfi\n+    fi\n+fi\n+\n # Disable Fortran for some systems.\n case \"${target}\" in\n   mmix-*-*)\n@@ -924,6 +957,8 @@ case \"${target}\" in\n     noconfigdirs=\"$noconfigdirs ld gas gdb gprof\"\n     noconfigdirs=\"$noconfigdirs sim target-rda\"\n     ;;\n+  amdgcn*-*-*)\n+    ;;\n   arm-*-darwin*)\n     noconfigdirs=\"$noconfigdirs ld gas gdb gprof\"\n     noconfigdirs=\"$noconfigdirs sim target-rda\"\n@@ -1256,6 +1291,7 @@ if test \"${build}\" != \"${host}\" ; then\n   CXX_FOR_BUILD=${CXX_FOR_BUILD-g++}\n   GFORTRAN_FOR_BUILD=${GFORTRAN_FOR_BUILD-gfortran}\n   GOC_FOR_BUILD=${GOC_FOR_BUILD-gccgo}\n+  GDC_FOR_BUILD=${GDC_FOR_BUILD-gdc}\n   DLLTOOL_FOR_BUILD=${DLLTOOL_FOR_BUILD-dlltool}\n   LD_FOR_BUILD=${LD_FOR_BUILD-ld}\n   NM_FOR_BUILD=${NM_FOR_BUILD-nm}\n@@ -1269,6 +1305,7 @@ else\n   CXX_FOR_BUILD=\"\\$(CXX)\"\n   GFORTRAN_FOR_BUILD=\"\\$(GFORTRAN)\"\n   GOC_FOR_BUILD=\"\\$(GOC)\"\n+  GDC_FOR_BUILD=\"\\$(GDC)\"\n   DLLTOOL_FOR_BUILD=\"\\$(DLLTOOL)\"\n   LD_FOR_BUILD=\"\\$(LD)\"\n   NM_FOR_BUILD=\"\\$(NM)\"\n@@ -3256,6 +3293,7 @@ AC_SUBST(CXX_FOR_BUILD)\n AC_SUBST(DLLTOOL_FOR_BUILD)\n AC_SUBST(GFORTRAN_FOR_BUILD)\n AC_SUBST(GOC_FOR_BUILD)\n+AC_SUBST(GDC_FOR_BUILD)\n AC_SUBST(LDFLAGS_FOR_BUILD)\n AC_SUBST(LD_FOR_BUILD)\n AC_SUBST(NM_FOR_BUILD)\n@@ -3341,6 +3379,7 @@ NCN_STRICT_CHECK_TOOLS(WINDRES, windres)\n NCN_STRICT_CHECK_TOOLS(WINDMC, windmc)\n NCN_STRICT_CHECK_TOOLS(OBJCOPY, objcopy)\n NCN_STRICT_CHECK_TOOLS(OBJDUMP, objdump)\n+NCN_STRICT_CHECK_TOOLS(OTOOL, otool)\n NCN_STRICT_CHECK_TOOLS(READELF, readelf)\n AC_SUBST(CC)\n AC_SUBST(CXX)\n@@ -3365,6 +3404,7 @@ NCN_STRICT_CHECK_TARGET_TOOLS(CXX_FOR_TARGET, c++ g++ cxx gxx)\n NCN_STRICT_CHECK_TARGET_TOOLS(GCC_FOR_TARGET, gcc, ${CC_FOR_TARGET})\n NCN_STRICT_CHECK_TARGET_TOOLS(GFORTRAN_FOR_TARGET, gfortran)\n NCN_STRICT_CHECK_TARGET_TOOLS(GOC_FOR_TARGET, gccgo)\n+NCN_STRICT_CHECK_TARGET_TOOLS(GDC_FOR_TARGET, gdc)\n \n ACX_CHECK_INSTALLED_TARGET_TOOL(AR_FOR_TARGET, ar)\n ACX_CHECK_INSTALLED_TARGET_TOOL(AS_FOR_TARGET, as)\n@@ -3374,6 +3414,7 @@ ACX_CHECK_INSTALLED_TARGET_TOOL(LIPO_FOR_TARGET, lipo)\n ACX_CHECK_INSTALLED_TARGET_TOOL(NM_FOR_TARGET, nm)\n ACX_CHECK_INSTALLED_TARGET_TOOL(OBJCOPY_FOR_TARGET, objcopy)\n ACX_CHECK_INSTALLED_TARGET_TOOL(OBJDUMP_FOR_TARGET, objdump)\n+ACX_CHECK_INSTALLED_TARGET_TOOL(OTOOL_FOR_TARGET, otool)\n ACX_CHECK_INSTALLED_TARGET_TOOL(RANLIB_FOR_TARGET, ranlib)\n ACX_CHECK_INSTALLED_TARGET_TOOL(READELF_FOR_TARGET, readelf)\n ACX_CHECK_INSTALLED_TARGET_TOOL(STRIP_FOR_TARGET, strip)\n@@ -3398,11 +3439,14 @@ GCC_TARGET_TOOL(gfortran, GFORTRAN_FOR_TARGET, GFORTRAN,\n \t\t[gcc/gfortran -B$$r/$(HOST_SUBDIR)/gcc/], fortran)\n GCC_TARGET_TOOL(gccgo, GOC_FOR_TARGET, GOC,\n \t\t[gcc/gccgo -B$$r/$(HOST_SUBDIR)/gcc/], go)\n+GCC_TARGET_TOOL(gdc, GDC_FOR_TARGET, GDC,\n+\t\t[gcc/gdc -B$$r/$(HOST_SUBDIR)/gcc/], d)\n GCC_TARGET_TOOL(ld, LD_FOR_TARGET, LD, [ld/ld-new])\n GCC_TARGET_TOOL(lipo, LIPO_FOR_TARGET, LIPO)\n GCC_TARGET_TOOL(nm, NM_FOR_TARGET, NM, [binutils/nm-new])\n GCC_TARGET_TOOL(objcopy, OBJCOPY_FOR_TARGET, OBJCOPY, [binutils/objcopy])\n GCC_TARGET_TOOL(objdump, OBJDUMP_FOR_TARGET, OBJDUMP, [binutils/objdump])\n+GCC_TARGET_TOOL(otool, OTOOL_FOR_TARGET, OTOOL)\n GCC_TARGET_TOOL(ranlib, RANLIB_FOR_TARGET, RANLIB, [binutils/ranlib])\n GCC_TARGET_TOOL(readelf, READELF_FOR_TARGET, READELF, [binutils/readelf])\n GCC_TARGET_TOOL(strip, STRIP_FOR_TARGET, STRIP, [binutils/strip-new])"
    }
  ]
}