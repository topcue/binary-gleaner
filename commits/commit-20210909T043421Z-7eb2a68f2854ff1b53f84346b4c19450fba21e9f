{
  "sha": "7eb2a68f2854ff1b53f84346b4c19450fba21e9f",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6N2ViMmE2OGYyODU0ZmYxYjUzZjg0MzQ2YjRjMTk0NTBmYmEyMWU5Zg==",
  "commit": {
    "author": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-09-09T04:10:20Z"
    },
    "committer": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-09-09T04:34:21Z"
    },
    "message": "sim: mips: delete unused PSIZE define\n\nIt's unclear what this define is for as it appears to be unused, and\nhas never been used in the history of the mips sim.  Delete it to tidy\nup, and to fix build errors for Windows targets that have a standard\n\"PSIZE\" struct in their system headers.  This doesn't show up yet as\nmost sim files don't include many system headers, but enabling sockser\ncode for mingw uncovers the conflict.\n\nUnfortunately the error produced by gcc is inscrutable, but running\nit through the preprocessor manually manages to provide a pointer to\nthe underlying issue.\n\n$ i686-w64-mingw32-gcc ... -c -o dv-sockser.o ../../../../sim/mips/../common/dv-sockser.c\n<command-line>: error: expected identifier or '(' before numeric constant\nIn file included from /usr/i686-w64-mingw32/usr/include/windows.h:71,\n                 from /usr/i686-w64-mingw32/usr/include/winsock2.h:23,\n                 from ../../gnulib/import/sys/socket.h:684,\n                 from ../../gnulib/import/netinet/in.h:43,\n                 from ../../../../sim/mips/../common/dv-sockser.c:39:\n/usr/i686-w64-mingw32/usr/include/wingdi.h:2934:59: error: unknown type name 'LPSIZE'; did you mean 'LPSIZEL'?\n 2934 |   WINGDIAPI WINBOOL WINAPI GetAspectRatioFilterEx(HDC hdc,LPSIZE lpsize);\n      |                                                           ^~~~~~\n      |                                                           LPSIZEL\n...\n\n$ i686-w64-mingw32-gcc ... -E -dD -o dv-sockser.i ../../../../sim/mips/../common/dv-sockser.c\n$ i686-w64-mingw32-gcc -c dv-sockser.i\nIn file included from /usr/i686-w64-mingw32/usr/include/windows.h:69,\n                 from /usr/i686-w64-mingw32/usr/include/winsock2.h:23,\n                 from ../../gnulib/import/sys/socket.h:684,\n                 from ../../gnulib/import/netinet/in.h:43,\n                 from ../../../../sim/mips/../common/dv-sockser.c:39:\n/usr/i686-w64-mingw32/usr/include/windef.h:104:9: error: expected identifier or '(' before numeric constant\n  104 | } SIZE,*PSIZE,*LPSIZE;\n      |         ^~",
    "tree": {
      "sha": "18cbe240df931a326c6b2f388cf0c3913026be44",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/18cbe240df931a326c6b2f388cf0c3913026be44"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/7eb2a68f2854ff1b53f84346b4c19450fba21e9f",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/7eb2a68f2854ff1b53f84346b4c19450fba21e9f",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/7eb2a68f2854ff1b53f84346b4c19450fba21e9f",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/7eb2a68f2854ff1b53f84346b4c19450fba21e9f/comments",
  "author": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "f2a13264fbcf991d553488750280413a818545ed",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/f2a13264fbcf991d553488750280413a818545ed",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/f2a13264fbcf991d553488750280413a818545ed"
    }
  ],
  "stats": {
    "total": 2,
    "additions": 0,
    "deletions": 2
  },
  "files": [
    {
      "sha": "b87e5cef5b55db7c057f7d8337bb1a6947e5bc74",
      "filename": "sim/mips/sim-main.h",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/7eb2a68f2854ff1b53f84346b4c19450fba21e9f/sim/mips/sim-main.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/7eb2a68f2854ff1b53f84346b4c19450fba21e9f/sim/mips/sim-main.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/mips/sim-main.h?ref=7eb2a68f2854ff1b53f84346b4c19450fba21e9f",
      "patch": "@@ -915,8 +915,6 @@ unsigned64 mdmx_shuffle (SIM_STATE, int, unsigned64, unsigned64);\n #define LOADDRMASK (WITH_TARGET_WORD_BITSIZE == 64 \\\n \t\t    ? AccessLength_DOUBLEWORD /*7*/ \\\n \t\t    : AccessLength_WORD /*3*/)\n-#define PSIZE (WITH_TARGET_ADDRESS_BITSIZE)\n-\n \n INLINE_SIM_MAIN (void) load_memory (SIM_DESC sd, sim_cpu *cpu, address_word cia, uword64* memvalp, uword64* memval1p, int CCA, unsigned int AccessLength, address_word pAddr, address_word vAddr, int IorD);\n #define LoadMemory(memvalp,memval1p,AccessLength,pAddr,vAddr,IorD,raw) \\"
    }
  ]
}