{
  "sha": "6955136728a68365bbb5e6e1327dff1654b2a0ca",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6Njk1NTEzNjcyOGE2ODM2NWJiYjVlNmUxMzI3ZGZmMTY1NGIyYTBjYQ==",
  "commit": {
    "author": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2021-02-03T00:27:12Z"
    },
    "committer": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2021-02-03T02:39:47Z"
    },
    "message": "PR27311 again, ld.bfd (symbol from plugin): undefined reference\n\nbfd/\n\tPR 27311\n\t* elflink.c (_bfd_elf_add_default_symbol): Clear override when\n\tundecorated symbol will have a different version.\nld/\n\t* testsuite/ld-ifunc/ifunc.exp (libpr16467b.so, libpr16467bn.so):\n\tLink with --as-needed.",
    "tree": {
      "sha": "c52f47d2261eec78034e0c89952a8d64a2603965",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/c52f47d2261eec78034e0c89952a8d64a2603965"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/6955136728a68365bbb5e6e1327dff1654b2a0ca",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/6955136728a68365bbb5e6e1327dff1654b2a0ca",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/6955136728a68365bbb5e6e1327dff1654b2a0ca",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/6955136728a68365bbb5e6e1327dff1654b2a0ca/comments",
  "author": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "a71501e25ff14918d7876f4905be0df9dd3ae29a",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/a71501e25ff14918d7876f4905be0df9dd3ae29a",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/a71501e25ff14918d7876f4905be0df9dd3ae29a"
    }
  ],
  "stats": {
    "total": 21,
    "additions": 18,
    "deletions": 3
  },
  "files": [
    {
      "sha": "f76b7a1f264c7dd6ac4183572bec2e1f6a7c58a1",
      "filename": "bfd/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6955136728a68365bbb5e6e1327dff1654b2a0ca/bfd/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6955136728a68365bbb5e6e1327dff1654b2a0ca/bfd/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/ChangeLog?ref=6955136728a68365bbb5e6e1327dff1654b2a0ca",
      "patch": "@@ -1,3 +1,9 @@\n+2021-02-03  Alan Modra  <amodra@gmail.com>\n+\n+\tPR 27311\n+\t* elflink.c (_bfd_elf_add_default_symbol): Clear override when\n+\tundecorated symbol will have a different version.\n+\n 2021-02-02  Alan Modra  <amodra@gmail.com>\n \n \tPR 27311"
    },
    {
      "sha": "5af32ef0a8139b02ff653ce6440e3e6ab399d2e5",
      "filename": "bfd/elflink.c",
      "status": "modified",
      "additions": 5,
      "deletions": 1,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6955136728a68365bbb5e6e1327dff1654b2a0ca/bfd/elflink.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6955136728a68365bbb5e6e1327dff1654b2a0ca/bfd/elflink.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/elflink.c?ref=6955136728a68365bbb5e6e1327dff1654b2a0ca",
      "patch": "@@ -1946,12 +1946,16 @@ _bfd_elf_add_default_symbol (bfd *abfd,\n \t  if (hi->verinfo.vertree != NULL && hide)\n \t    {\n \t      (*bed->elf_backend_hide_symbol) (info, hi, TRUE);\n+\t      *override = FALSE;\n \t      goto nondefault;\n \t    }\n \t}\n       if (hi->verinfo.vertree != NULL\n \t  && strcmp (p + 1 + (p[1] == '@'), hi->verinfo.vertree->name) != 0)\n-\tgoto nondefault;\n+\t{\n+\t  *override = FALSE;\n+\t  goto nondefault;\n+\t}\n     }\n \n   if (!*override)"
    },
    {
      "sha": "e5f9beaabf0b5576b36392a723f63b9573ace99c",
      "filename": "ld/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6955136728a68365bbb5e6e1327dff1654b2a0ca/ld/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6955136728a68365bbb5e6e1327dff1654b2a0ca/ld/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/ChangeLog?ref=6955136728a68365bbb5e6e1327dff1654b2a0ca",
      "patch": "@@ -1,3 +1,8 @@\n+2021-02-03  Alan Modra  <amodra@gmail.com>\n+\n+\t* testsuite/ld-ifunc/ifunc.exp (libpr16467b.so, libpr16467bn.so):\n+\tLink with --as-needed.\n+\n 2021-02-02  Alan Modra  <amodra@gmail.com>\n \n \t* testsuite/ld-plugin/pr27311.d,"
    },
    {
      "sha": "45b47d7d6a85a456ed52f328d6fded5e1669c02f",
      "filename": "ld/testsuite/ld-ifunc/ifunc.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6955136728a68365bbb5e6e1327dff1654b2a0ca/ld/testsuite/ld-ifunc/ifunc.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6955136728a68365bbb5e6e1327dff1654b2a0ca/ld/testsuite/ld-ifunc/ifunc.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-ifunc/ifunc.exp?ref=6955136728a68365bbb5e6e1327dff1654b2a0ca",
      "patch": "@@ -397,7 +397,7 @@ run_cc_link_tests [list \\\n     ] \\\n     [list \\\n \t\"Build libpr16467b.so\" \\\n-\t\"-shared tmpdir/pr16467b.o tmpdir/libpr16467a.so \\\n+\t\"-shared -Wl,--as-needed tmpdir/pr16467b.o tmpdir/libpr16467a.so \\\n \t -Wl,--version-script=pr16467b.map\" \\\n \t\"-fPIC\" \\\n \t{ dummy.c } \\\n@@ -422,7 +422,7 @@ run_cc_link_tests [list \\\n     ] \\\n     [list \\\n \t\"Build libpr16467bn.so\" \\\n-\t\"-shared tmpdir/pr16467b.o tmpdir/libpr16467an.so \\\n+\t\"-shared -Wl,--as-needed tmpdir/pr16467b.o tmpdir/libpr16467an.so \\\n \t -Wl,--version-script=pr16467b.map\" \\\n \t\"-fPIC\" \\\n \t{ dummy.c } \\"
    }
  ]
}