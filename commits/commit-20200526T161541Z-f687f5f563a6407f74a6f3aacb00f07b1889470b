{
  "sha": "f687f5f563a6407f74a6f3aacb00f07b1889470b",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ZjY4N2Y1ZjU2M2E2NDA3Zjc0YTZmM2FhY2IwMGYwN2IxODg5NDcwYg==",
  "commit": {
    "author": {
      "name": "Stefan Schulze Frielinghaus",
      "email": "stefansf@linux.ibm.com",
      "date": "2020-05-18T15:22:57Z"
    },
    "committer": {
      "name": "Stefan Schulze Frielinghaus",
      "email": "stefansf@linux.ibm.com",
      "date": "2020-05-26T16:15:41Z"
    },
    "message": "S/390: z13: Accept vector alignment hints\n\nAccept vector alignment hints on z13 although they are ignored there.\nThe advantage is that any binary compiled for architecture level z13 may\nrun on z14 or later and benefit from vector alignment hints.\n\ngas/ChangeLog:\n\n2020-05-18  Stefan Schulze Frielinghaus  <stefansf@linux.ibm.com>\n\n\t* testsuite/gas/s390/zarch-z13.d: Add regexp checks for vector\n\tload/store instruction variants with alignment hints.\n\t* testsuite/gas/s390/zarch-z13.s: Emit new vector load/store\n\tinstruction variants with alignment hints.\n\nopcodes/ChangeLog:\n\n2020-05-18  Stefan Schulze Frielinghaus  <stefansf@linux.ibm.com>\n\n\t* s390-opc.txt: Relocate vector load/store instructions with\n\tadditional alignment parameter and change architecture level\n\tconstraint from z14 to z13.",
    "tree": {
      "sha": "c6ce862d321a4cc8e4a82d7f6eba77f568065cfa",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/c6ce862d321a4cc8e4a82d7f6eba77f568065cfa"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/f687f5f563a6407f74a6f3aacb00f07b1889470b",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/f687f5f563a6407f74a6f3aacb00f07b1889470b",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/f687f5f563a6407f74a6f3aacb00f07b1889470b",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/f687f5f563a6407f74a6f3aacb00f07b1889470b/comments",
  "author": {
    "login": "stefan-sf-ibm",
    "id": 73470131,
    "node_id": "MDQ6VXNlcjczNDcwMTMx",
    "avatar_url": "https://avatars.githubusercontent.com/u/73470131?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/stefan-sf-ibm",
    "html_url": "https://github.com/stefan-sf-ibm",
    "followers_url": "https://api.github.com/users/stefan-sf-ibm/followers",
    "following_url": "https://api.github.com/users/stefan-sf-ibm/following{/other_user}",
    "gists_url": "https://api.github.com/users/stefan-sf-ibm/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/stefan-sf-ibm/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/stefan-sf-ibm/subscriptions",
    "organizations_url": "https://api.github.com/users/stefan-sf-ibm/orgs",
    "repos_url": "https://api.github.com/users/stefan-sf-ibm/repos",
    "events_url": "https://api.github.com/users/stefan-sf-ibm/events{/privacy}",
    "received_events_url": "https://api.github.com/users/stefan-sf-ibm/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "stefan-sf-ibm",
    "id": 73470131,
    "node_id": "MDQ6VXNlcjczNDcwMTMx",
    "avatar_url": "https://avatars.githubusercontent.com/u/73470131?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/stefan-sf-ibm",
    "html_url": "https://github.com/stefan-sf-ibm",
    "followers_url": "https://api.github.com/users/stefan-sf-ibm/followers",
    "following_url": "https://api.github.com/users/stefan-sf-ibm/following{/other_user}",
    "gists_url": "https://api.github.com/users/stefan-sf-ibm/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/stefan-sf-ibm/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/stefan-sf-ibm/subscriptions",
    "organizations_url": "https://api.github.com/users/stefan-sf-ibm/orgs",
    "repos_url": "https://api.github.com/users/stefan-sf-ibm/repos",
    "events_url": "https://api.github.com/users/stefan-sf-ibm/events{/privacy}",
    "received_events_url": "https://api.github.com/users/stefan-sf-ibm/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "8bbc5da5ee827bd9c962d238777e20db2c100598",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/8bbc5da5ee827bd9c962d238777e20db2c100598",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/8bbc5da5ee827bd9c962d238777e20db2c100598"
    }
  ],
  "stats": {
    "total": 43,
    "additions": 23,
    "deletions": 20
  },
  "files": [
    {
      "sha": "bfb6fe1ba83c93a3a99a65241225904c4dc405df",
      "filename": "gas/testsuite/gas/s390/zarch-z13.d",
      "status": "modified",
      "additions": 8,
      "deletions": 4,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f687f5f563a6407f74a6f3aacb00f07b1889470b/gas/testsuite/gas/s390/zarch-z13.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f687f5f563a6407f74a6f3aacb00f07b1889470b/gas/testsuite/gas/s390/zarch-z13.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/s390/zarch-z13.d?ref=f687f5f563a6407f74a6f3aacb00f07b1889470b",
      "patch": "@@ -17,7 +17,6 @@ Disassembly of section .text:\n .*:\te7 f0 fd fc 10 46 [ \t]*vgmh\t%v15,253,252\n .*:\te7 f0 fd fc 20 46 [ \t]*vgmf\t%v15,253,252\n .*:\te7 f0 fd fc 30 46 [ \t]*vgmg\t%v15,253,252\n-.*:\te7 f6 9f a0 00 06 [ \t]*vl\t%v15,4000\\(%r6,%r9\\)\n .*:\te7 f1 00 00 04 56 [ \t]*vlr\t%v15,%v17\n .*:\te7 f6 9f a0 d0 05 [ \t]*vlrep\t%v15,4000\\(%r6,%r9\\),13\n .*:\te7 f6 9f a0 00 05 [ \t]*vlrepb\t%v15,4000\\(%r6,%r9\\)\n@@ -42,7 +41,6 @@ Disassembly of section .text:\n .*:\te7 f6 9f a0 10 04 [ \t]*vllezh\t%v15,4000\\(%r6,%r9\\)\n .*:\te7 f6 9f a0 20 04 [ \t]*vllezf\t%v15,4000\\(%r6,%r9\\)\n .*:\te7 f6 9f a0 30 04 [ \t]*vllezg\t%v15,4000\\(%r6,%r9\\)\n-.*:\te7 f1 6f a0 04 36 [ \t]*vlm\t%v15,%v17,4000\\(%r6\\)\n .*:\te7 f6 9f a0 d0 07 [ \t]*vlbb\t%v15,4000\\(%r6,%r9\\),13\n .*:\te7 f6 9f a0 d0 22 [ \t]*vlvg\t%v15,%r6,4000\\(%r9\\),13\n .*:\te7 f6 9f a0 00 22 [ \t]*vlvgb\t%v15,%r6,4000\\(%r9\\)\n@@ -98,12 +96,10 @@ Disassembly of section .text:\n .*:\te7 f1 00 00 04 5f [ \t]*vsegb\t%v15,%v17\n .*:\te7 f1 00 00 14 5f [ \t]*vsegh\t%v15,%v17\n .*:\te7 f1 00 00 24 5f [ \t]*vsegf\t%v15,%v17\n-.*:\te7 f6 9f a0 00 0e [ \t]*vst\t%v15,4000\\(%r6,%r9\\)\n .*:\te7 f6 9f a0 d0 08 [ \t]*vsteb\t%v15,4000\\(%r6,%r9\\),13\n .*:\te7 f6 9f a0 d0 09 [ \t]*vsteh\t%v15,4000\\(%r6,%r9\\),13\n .*:\te7 f6 9f a0 d0 0b [ \t]*vstef\t%v15,4000\\(%r6,%r9\\),13\n .*:\te7 f6 9f a0 d0 0a [ \t]*vsteg\t%v15,4000\\(%r6,%r9\\),13\n-.*:\te7 f1 6f a0 04 3e [ \t]*vstm\t%v15,%v17,4000\\(%r6\\)\n .*:\te7 f6 9f a0 00 3f [ \t]*vstl\t%v15,%r6,4000\\(%r9\\)\n .*:\te7 f1 00 00 d4 d7 [ \t]*vuph\t%v15,%v17,13\n .*:\te7 f1 00 00 04 d7 [ \t]*vuphb\t%v15,%v17\n@@ -680,3 +676,11 @@ Disassembly of section .text:\n .*:\te3 69 b8 f0 fd 3b [ \t]*lzrf\t%r6,-10000\\(%r9,%r11\\)\n .*:\te3 69 b8 f0 fd 2a [ \t]*lzrg\t%r6,-10000\\(%r9,%r11\\)\n .*:\tb9 3c 00 69 [ \t]*prno\t%r6,%r9\n+.*:\te7 f6 9f a0 00 06 [\t]*vl\t%v15,4000\\(%r6,%r9\\)\n+.*:\te7 f6 9f a0 d0 06 [\t]*vl\t%v15,4000\\(%r6,%r9\\),13\n+.*:\te7 f1 6f a0 04 36 [\t]*vlm\t%v15,%v17,4000\\(%r6\\)\n+.*:\te7 f1 6f a0 d4 36 [\t]*vlm\t%v15,%v17,4000\\(%r6\\),13\n+.*:\te7 f6 9f a0 00 0e [\t]*vst\t%v15,4000\\(%r6,%r9\\)\n+.*:\te7 f6 9f a0 d0 0e [\t]*vst\t%v15,4000\\(%r6,%r9\\),13\n+.*:\te7 f1 6f a0 04 3e [\t]*vstm\t%v15,%v17,4000\\(%r6\\)\n+.*:\te7 f1 6f a0 d4 3e [\t]*vstm\t%v15,%v17,4000\\(%r6\\),13"
    },
    {
      "sha": "646dd3097fb37044a79971814d5343befc64ff2a",
      "filename": "gas/testsuite/gas/s390/zarch-z13.s",
      "status": "modified",
      "additions": 8,
      "deletions": 4,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f687f5f563a6407f74a6f3aacb00f07b1889470b/gas/testsuite/gas/s390/zarch-z13.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f687f5f563a6407f74a6f3aacb00f07b1889470b/gas/testsuite/gas/s390/zarch-z13.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/s390/zarch-z13.s?ref=f687f5f563a6407f74a6f3aacb00f07b1889470b",
      "patch": "@@ -11,7 +11,6 @@ foo:\n \tvgmh\t%v15,253,252\n \tvgmf\t%v15,253,252\n \tvgmg\t%v15,253,252\n-\tvl\t%v15,4000(%r6,%r9)\n \tvlr\t%v15,%v17\n \tvlrep\t%v15,4000(%r6,%r9),13\n \tvlrepb\t%v15,4000(%r6,%r9)\n@@ -36,7 +35,6 @@ foo:\n \tvllezh\t%v15,4000(%r6,%r9)\n \tvllezf\t%v15,4000(%r6,%r9)\n \tvllezg\t%v15,4000(%r6,%r9)\n-\tvlm\t%v15,%v17,4000(%r6)\n \tvlbb\t%v15,4000(%r6,%r9),13\n \tvlvg\t%v15,%r6,4000(%r9),13\n \tvlvgb\t%v15,%r6,4000(%r9)\n@@ -92,12 +90,10 @@ foo:\n \tvsegb\t%v15,%v17\n \tvsegh\t%v15,%v17\n \tvsegf\t%v15,%v17\n-\tvst\t%v15,4000(%r6,%r9)\n \tvsteb\t%v15,4000(%r6,%r9),13\n \tvsteh\t%v15,4000(%r6,%r9),13\n \tvstef\t%v15,4000(%r6,%r9),13\n \tvsteg\t%v15,4000(%r6,%r9),13\n-\tvstm\t%v15,%v17,4000(%r6)\n \tvstl\t%v15,%r6,4000(%r9)\n \tvuph\t%v15,%v17,13\n \tvuphb\t%v15,%v17\n@@ -674,3 +670,11 @@ foo:\n \tlzrf\t%r6,-10000(%r9,%r11)\n \tlzrg\t%r6,-10000(%r9,%r11)\n \tppno\t%r6,%r9\n+\tvl\t\t%v15,4000(%r6,%r9)\n+\tvl\t\t%v15,4000(%r6,%r9),13\n+\tvlm\t\t%v15,%v17,4000(%r6)\n+\tvlm\t\t%v15,%v17,4000(%r6),13\n+\tvst\t\t%v15,4000(%r6,%r9)\n+\tvst\t\t%v15,4000(%r6,%r9),13\n+\tvstm\t\t%v15,%v17,4000(%r6)\n+\tvstm\t\t%v15,%v17,4000(%r6),13"
    },
    {
      "sha": "33dbeb3824977f9bc8c073302b9f809f99293b93",
      "filename": "opcodes/s390-opc.txt",
      "status": "modified",
      "additions": 7,
      "deletions": 12,
      "changes": 19,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f687f5f563a6407f74a6f3aacb00f07b1889470b/opcodes/s390-opc.txt",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f687f5f563a6407f74a6f3aacb00f07b1889470b/opcodes/s390-opc.txt",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/s390-opc.txt?ref=f687f5f563a6407f74a6f3aacb00f07b1889470b",
      "patch": "@@ -1159,7 +1159,6 @@ e70000000046 vgmb VRI_V0UU \"vector generate mask byte\" z13 zarch vx\n e70000001046 vgmh VRI_V0UU \"vector generate mask halfword\" z13 zarch vx\n e70000002046 vgmf VRI_V0UU \"vector generate mask word\" z13 zarch vx\n e70000003046 vgmg VRI_V0UU \"vector generate mask double word\" z13 zarch vx\n-e70000000006 vl VRX_VRRD \"vector memory load\" z13 zarch vx\n e70000000056 vlr VRX_VV \"vector register load\" z13 zarch vx\n e70000000005 vlrep VRX_VRRDU \"vector load and replicate\" z13 zarch vx\n e70000000005 vlrepb VRX_VRRD \"vector load and replicate byte elements\" z13 zarch vx\n@@ -1184,7 +1183,6 @@ e70000000004 vllezb VRX_VRRD \"vector load logical byte element and zero\" z13 zar\n e70000001004 vllezh VRX_VRRD \"vector load logical halfword element and zero\" z13 zarch vx\n e70000002004 vllezf VRX_VRRD \"vector load logical word element and zero\" z13 zarch vx\n e70000003004 vllezg VRX_VRRD \"vector load logical double word element and zero\" z13 zarch vx\n-e70000000036 vlm VRS_VVRD \"vector load multiple\" z13 zarch vx\n e70000000007 vlbb VRX_VRRDU \"vector load to block boundary\" z13 zarch vx\n e70000000022 vlvg VRS_VRRDU \"vector load VR element from GR\" z13 zarch vx\n e70000000022 vlvgb VRS_VRRD \"vector load VR byte element from GR\" z13 zarch vx\n@@ -1240,12 +1238,10 @@ e7000000005f vseg VRR_VV0U \"vector sign extend to double word\" z13 zarch vx\n e7000000005f vsegb VRR_VV \"vector sign extend byte to double word\" z13 zarch vx\n e7000000105f vsegh VRR_VV \"vector sign extend halfword to double word\" z13 zarch vx\n e7000000205f vsegf VRR_VV \"vector sign extend word to double word\" z13 zarch vx\n-e7000000000e vst VRX_VRRD \"vector store\" z13 zarch vx\n e70000000008 vsteb VRX_VRRDU \"vector store byte element\" z13 zarch vx\n e70000000009 vsteh VRX_VRRDU \"vector store halfword element\" z13 zarch vx\n e7000000000b vstef VRX_VRRDU \"vector store word element\" z13 zarch vx\n e7000000000a vsteg VRX_VRRDU \"vector store double word element\" z13 zarch vx\n-e7000000003e vstm VRS_VVRD \"vector store multiple\" z13 zarch vx\n e7000000003f vstl VRS_VRRD \"vector store with length\" z13 zarch vx\n e700000000d7 vuph VRR_VV0U \"vector unpack high\" z13 zarch vx\n e700000000d7 vuphb VRR_VV \"vector unpack high byte\" z13 zarch vx\n@@ -1680,6 +1676,13 @@ e3000000003b lzrf RXY_RRRD \"load and zero rightmost byte 32->32\" z13 zarch\n e3000000002a lzrg RXY_RRRD \"load and zero rightmost byte 64->64\" z13 zarch\n b93c ppno RRE_RR \"perform pseudorandom number operation\" z13 zarch\n \n+# Aligned vector store hints\n+\n+e70000000006 vl VRX_VRRDU \"vector memory load\" z13 zarch optparm,vx\n+e70000000036 vlm VRS_VVRDU \"vector load multiple\" z13 zarch optparm,vx\n+e7000000000e vst VRX_VRRDU \"vector store\" z13 zarch optparm,vx\n+e7000000003e vstm VRS_VVRDU \"vector store multiple\" z13 zarch optparm,vx\n+\n # arch12 instructions\n \n # Vector Enhancements Facility 1\n@@ -1881,14 +1884,6 @@ b93c prno RRE_RR \"perform pseudorandom number operation\" arch12 zarch\n b9a1 tpei RRE_RR \"test pending external interruption\" arch12 zarch\n b9ac irbm RRE_RR \"insert reference bits multiple\" arch12 zarch\n \n-# Aligned vector store hints\n-\n-e70000000006 vl VRX_VRRDU \"vector memory load\" arch12 zarch optparm\n-e70000000036 vlm VRS_VVRDU \"vector load multiple\" arch12 zarch optparm\n-e7000000000e vst VRX_VRRDU \"vector store\" arch12 zarch optparm\n-e7000000003e vstm VRS_VVRDU \"vector store multiple\" arch12 zarch optparm\n-\n-\n # arch13 instructions\n \n "
    }
  ]
}