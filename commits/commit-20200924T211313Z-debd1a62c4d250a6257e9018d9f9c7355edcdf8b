{
  "sha": "debd1a62c4d250a6257e9018d9f9c7355edcdf8b",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ZGViZDFhNjJjNGQyNTBhNjI1N2U5MDE4ZDlmOWM3MzU1ZWRjZGY4Yg==",
  "commit": {
    "author": {
      "name": "Mark Wielaard",
      "email": "mark@klomp.org",
      "date": "2020-09-23T14:48:35Z"
    },
    "committer": {
      "name": "Mark Wielaard",
      "email": "mark@klomp.org",
      "date": "2020-09-24T21:13:13Z"
    },
    "message": "readelf: Show Unit Type for DWARF5\n\nbinutils/ChangeLog:\n\n\t* dwarf.c (process_debug_info): Print Unit Type for DWARF5.\n\t* testsuite/binutils-all/dw5.W: Adjust expected output.\n\t* testsuite/binutils-all/dwarf-attributes.W: Likewise.\n\ngas/ChangeLog:\n\n\t* testsuite/gas/elf/dwarf-5-cu.d: Adjust expected output.",
    "tree": {
      "sha": "58b3c683d7c21e0a50f568a3a7920af96d9a49da",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/58b3c683d7c21e0a50f568a3a7920af96d9a49da"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/debd1a62c4d250a6257e9018d9f9c7355edcdf8b",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/debd1a62c4d250a6257e9018d9f9c7355edcdf8b",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/debd1a62c4d250a6257e9018d9f9c7355edcdf8b",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/debd1a62c4d250a6257e9018d9f9c7355edcdf8b/comments",
  "author": null,
  "committer": null,
  "parents": [
    {
      "sha": "d7b477c541bd31045483f37345727bd8335a052a",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/d7b477c541bd31045483f37345727bd8335a052a",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/d7b477c541bd31045483f37345727bd8335a052a"
    }
  ],
  "stats": {
    "total": 17,
    "additions": 17,
    "deletions": 0
  },
  "files": [
    {
      "sha": "c1e78305edc82a1706bf08190fa10cdb1f0a693e",
      "filename": "binutils/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/debd1a62c4d250a6257e9018d9f9c7355edcdf8b/binutils/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/debd1a62c4d250a6257e9018d9f9c7355edcdf8b/binutils/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/ChangeLog?ref=debd1a62c4d250a6257e9018d9f9c7355edcdf8b",
      "patch": "@@ -1,3 +1,9 @@\n+2020-09-23  Mark Wielaard  <mark@klomp.org>\n+\n+\t* dwarf.c (process_debug_info): Print Unit Type for DWARF5.\n+\t* testsuite/binutils-all/dw5.W: Adjust expected output.\n+\t* testsuite/binutils-all/dwarf-attributes.W: Likewise.\n+\n 2020-09-23  Mark Wielaard  <mark@klomp.org>\n \n \t* dwarf.c (read_and_display_attr_value): Handle DW_FORM_ref_addr"
    },
    {
      "sha": "5f32e957a04576cf8a9f17d4a4aa517b16975f3f",
      "filename": "binutils/dwarf.c",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/debd1a62c4d250a6257e9018d9f9c7355edcdf8b/binutils/dwarf.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/debd1a62c4d250a6257e9018d9f9c7355edcdf8b/binutils/dwarf.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/dwarf.c?ref=debd1a62c4d250a6257e9018d9f9c7355edcdf8b",
      "patch": "@@ -3361,6 +3361,10 @@ process_debug_info (struct dwarf_section *           section,\n \t\t  dwarf_vmatoa (\"x\", compunit.cu_length),\n \t\t  offset_size == 8 ? \"64-bit\" : \"32-bit\");\n \t  printf (_(\"   Version:       %d\\n\"), compunit.cu_version);\n+\t  if (compunit.cu_version >= 5)\n+\t    printf (_(\"   Unit Type:     %s (%x)\\n\"),\n+\t\t    get_DW_UT_name (compunit.cu_unit_type) ?: \"???\",\n+\t\t    compunit.cu_unit_type);\n \t  printf (_(\"   Abbrev Offset: 0x%s\\n\"),\n \t\t  dwarf_vmatoa (\"x\", compunit.cu_abbrev_offset));\n \t  printf (_(\"   Pointer Size:  %d\\n\"), compunit.cu_pointer_size);"
    },
    {
      "sha": "562b64fe2209fca50a85036ace8a8888465008f0",
      "filename": "binutils/testsuite/binutils-all/dw5.W",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/debd1a62c4d250a6257e9018d9f9c7355edcdf8b/binutils/testsuite/binutils-all/dw5.W",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/debd1a62c4d250a6257e9018d9f9c7355edcdf8b/binutils/testsuite/binutils-all/dw5.W",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/testsuite/binutils-all/dw5.W?ref=debd1a62c4d250a6257e9018d9f9c7355edcdf8b",
      "patch": "@@ -3,6 +3,7 @@ Contents of the .debug_info section:\n   Compilation Unit @ offset 0x0:\n    Length:        0x160 \\(32-bit\\)\n    Version:       5\n+   Unit Type:     DW_UT_compile \\(1\\)\n    Abbrev Offset: 0x0\n    Pointer Size:  8\n  <0><c>: Abbrev Number: 6 \\(DW_TAG_compile_unit\\)"
    },
    {
      "sha": "4e8386ae8807a7b10eb088903245a0e85243c8a6",
      "filename": "binutils/testsuite/binutils-all/dwarf-attributes.W",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/debd1a62c4d250a6257e9018d9f9c7355edcdf8b/binutils/testsuite/binutils-all/dwarf-attributes.W",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/debd1a62c4d250a6257e9018d9f9c7355edcdf8b/binutils/testsuite/binutils-all/dwarf-attributes.W",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/binutils/testsuite/binutils-all/dwarf-attributes.W?ref=debd1a62c4d250a6257e9018d9f9c7355edcdf8b",
      "patch": "@@ -3,6 +3,7 @@ Contents of the .debug_info section:\n   Compilation Unit @ offset 0x0:\n    Length:        0x40 \\(32-bit\\)\n    Version:       5\n+   Unit Type:     DW_UT_compile \\(1\\)\n    Abbrev Offset: 0x0\n    Pointer Size:  4\n  <0><c>: Abbrev Number: 1 \\(User TAG value: 0x5555\\)"
    },
    {
      "sha": "113a7cfc25047877fb636c4b82215c8cb9650e3e",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/debd1a62c4d250a6257e9018d9f9c7355edcdf8b/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/debd1a62c4d250a6257e9018d9f9c7355edcdf8b/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=debd1a62c4d250a6257e9018d9f9c7355edcdf8b",
      "patch": "@@ -1,3 +1,7 @@\n+2020-09-23  Mark Wielaard  <mark@klomp.org>\n+\n+\t* testsuite/gas/elf/dwarf-5-cu.d: Adjust expected output.\n+\n 2020-09-24  Alex Coplan  <alex.coplan@arm.com>\n \n \t* config/tc-arm.c (arm_cpus): Add Neoverse V1."
    },
    {
      "sha": "7db20a330b86c2ebcbeeef2502188abea1b4d9f9",
      "filename": "gas/testsuite/gas/elf/dwarf-5-cu.d",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/debd1a62c4d250a6257e9018d9f9c7355edcdf8b/gas/testsuite/gas/elf/dwarf-5-cu.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/debd1a62c4d250a6257e9018d9f9c7355edcdf8b/gas/testsuite/gas/elf/dwarf-5-cu.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/elf/dwarf-5-cu.d?ref=debd1a62c4d250a6257e9018d9f9c7355edcdf8b",
      "patch": "@@ -6,6 +6,7 @@\n   Compilation Unit @ offset 0x0:\n    Length:        0x.*\n    Version:       5\n+   Unit Type:     DW_UT_compile \\(1\\)\n    Abbrev Offset: 0x0\n    Pointer Size:  .\n #pass"
    }
  ]
}