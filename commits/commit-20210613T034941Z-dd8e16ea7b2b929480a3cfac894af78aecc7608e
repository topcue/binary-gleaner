{
  "sha": "dd8e16ea7b2b929480a3cfac894af78aecc7608e",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ZGQ4ZTE2ZWE3YjJiOTI5NDgwYTNjZmFjODk0YWY3OGFlY2M3NjA4ZQ==",
  "commit": {
    "author": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-06-07T05:48:06Z"
    },
    "committer": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-06-13T03:49:41Z"
    },
    "message": "sim: unify sim-load.o building\n\nSince this file does not rely on any port-specific settings, move it\nup to building as part of the common step so we only do it once in a\nmultibuild.",
    "tree": {
      "sha": "daadd082687879dc2a3d8e3fadba5860badb8e1f",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/daadd082687879dc2a3d8e3fadba5860badb8e1f"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/dd8e16ea7b2b929480a3cfac894af78aecc7608e",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/dd8e16ea7b2b929480a3cfac894af78aecc7608e",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/dd8e16ea7b2b929480a3cfac894af78aecc7608e",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/dd8e16ea7b2b929480a3cfac894af78aecc7608e/comments",
  "author": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "a687671327dd2eb4d715745cce04a8f1c96e1fc1",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/a687671327dd2eb4d715745cce04a8f1c96e1fc1",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/a687671327dd2eb4d715745cce04a8f1c96e1fc1"
    }
  ],
  "stats": {
    "total": 79,
    "additions": 74,
    "deletions": 5
  },
  "files": [
    {
      "sha": "063469c653e0f1b4792b3ab7bd2227eea127919b",
      "filename": "sim/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/dd8e16ea7b2b929480a3cfac894af78aecc7608e/sim/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/dd8e16ea7b2b929480a3cfac894af78aecc7608e/sim/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/ChangeLog?ref=dd8e16ea7b2b929480a3cfac894af78aecc7608e",
      "patch": "@@ -1,3 +1,7 @@\n+2021-06-12  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* Makefile.in: Regenerate.\n+\n 2021-06-12  Mike Frysinger  <vapier@gentoo.org>\n \n \t* m4/sim_ac_platform.m4: Delete sys/select.h."
    },
    {
      "sha": "dbfde78da597bb26ff9da4c2a68e88d2bb909e80",
      "filename": "sim/Makefile.in",
      "status": "modified",
      "additions": 47,
      "deletions": 3,
      "changes": 50,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/dd8e16ea7b2b929480a3cfac894af78aecc7608e/sim/Makefile.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/dd8e16ea7b2b929480a3cfac894af78aecc7608e/sim/Makefile.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/Makefile.in?ref=dd8e16ea7b2b929480a3cfac894af78aecc7608e",
      "patch": "@@ -227,7 +227,9 @@ am__v_AR_1 =\n common_libcommon_a_AR = $(AR) $(ARFLAGS)\n common_libcommon_a_LIBADD =\n am__dirstamp = $(am__leading_dot)dirstamp\n-am_common_libcommon_a_OBJECTS = common/version.$(OBJEXT)\n+am_common_libcommon_a_OBJECTS =  \\\n+\tcommon/common_libcommon_a-sim-load.$(OBJEXT) \\\n+\tcommon/common_libcommon_a-version.$(OBJEXT)\n common_libcommon_a_OBJECTS = $(am_common_libcommon_a_OBJECTS)\n igen_libigen_a_AR = $(AR) $(ARFLAGS)\n igen_libigen_a_LIBADD =\n@@ -329,6 +331,10 @@ DEFAULT_INCLUDES = -I.@am__isrc@\n depcomp = $(SHELL) $(top_srcdir)/../depcomp\n am__depfiles_maybe = depfiles\n am__mv = mv -f\n+AM_V_lt = $(am__v_lt_@AM_V@)\n+am__v_lt_ = $(am__v_lt_@AM_DEFAULT_V@)\n+am__v_lt_0 = --silent\n+am__v_lt_1 = \n COMPILE = $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) \\\n \t$(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)\n AM_V_CC = $(am__v_CC_@AM_V@)\n@@ -743,7 +749,14 @@ pkginclude_HEADERS = \\\n \t$(srcroot)/include/sim/callback.h \\\n \t$(srcroot)/include/sim/sim.h\n \n+common_libcommon_a_CPPFLAGS = \\\n+\t$(AM_CPPFLAGS) \\\n+\t-DSIM_COMMON_BUILD \\\n+\t-I../bfd \\\n+\t-I..\n+\n common_libcommon_a_SOURCES = \\\n+\tcommon/sim-load.c \\\n \tcommon/version.c\n \n @SIM_ENABLE_IGEN_TRUE@igen_libigen_a_SOURCES = \\\n@@ -858,7 +871,9 @@ common/$(am__dirstamp):\n common/$(DEPDIR)/$(am__dirstamp):\n \t@$(MKDIR_P) common/$(DEPDIR)\n \t@: > common/$(DEPDIR)/$(am__dirstamp)\n-common/version.$(OBJEXT): common/$(am__dirstamp) \\\n+common/common_libcommon_a-sim-load.$(OBJEXT): common/$(am__dirstamp) \\\n+\tcommon/$(DEPDIR)/$(am__dirstamp)\n+common/common_libcommon_a-version.$(OBJEXT): common/$(am__dirstamp) \\\n \tcommon/$(DEPDIR)/$(am__dirstamp)\n \n common/libcommon.a: $(common_libcommon_a_OBJECTS) $(common_libcommon_a_DEPENDENCIES) $(EXTRA_common_libcommon_a_DEPENDENCIES) common/$(am__dirstamp)\n@@ -972,7 +987,8 @@ mostlyclean-compile:\n distclean-compile:\n \t-rm -f *.tab.c\n \n-@AMDEP_TRUE@@am__include@ @am__quote@common/$(DEPDIR)/version.Po@am__quote@\n+@AMDEP_TRUE@@am__include@ @am__quote@common/$(DEPDIR)/common_libcommon_a-sim-load.Po@am__quote@\n+@AMDEP_TRUE@@am__include@ @am__quote@common/$(DEPDIR)/common_libcommon_a-version.Po@am__quote@\n @AMDEP_TRUE@@am__include@ @am__quote@igen/$(DEPDIR)/filter.Po@am__quote@\n @AMDEP_TRUE@@am__include@ @am__quote@igen/$(DEPDIR)/filter_host.Po@am__quote@\n @AMDEP_TRUE@@am__include@ @am__quote@igen/$(DEPDIR)/gen-engine.Po@am__quote@\n@@ -1013,6 +1029,34 @@ distclean-compile:\n @AMDEP_TRUE@@am__fastdepCC_FALSE@\t$(AM_V_CC)source='$<' object='$@' libtool=no @AMDEPBACKSLASH@\n @AMDEP_TRUE@@am__fastdepCC_FALSE@\tDEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@\n @am__fastdepCC_FALSE@\t$(AM_V_CC@am__nodep@)$(COMPILE) -c -o $@ `$(CYGPATH_W) '$<'`\n+\n+common/common_libcommon_a-sim-load.o: common/sim-load.c\n+@am__fastdepCC_TRUE@\t$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(common_libcommon_a_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT common/common_libcommon_a-sim-load.o -MD -MP -MF common/$(DEPDIR)/common_libcommon_a-sim-load.Tpo -c -o common/common_libcommon_a-sim-load.o `test -f 'common/sim-load.c' || echo '$(srcdir)/'`common/sim-load.c\n+@am__fastdepCC_TRUE@\t$(AM_V_at)$(am__mv) common/$(DEPDIR)/common_libcommon_a-sim-load.Tpo common/$(DEPDIR)/common_libcommon_a-sim-load.Po\n+@AMDEP_TRUE@@am__fastdepCC_FALSE@\t$(AM_V_CC)source='common/sim-load.c' object='common/common_libcommon_a-sim-load.o' libtool=no @AMDEPBACKSLASH@\n+@AMDEP_TRUE@@am__fastdepCC_FALSE@\tDEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@\n+@am__fastdepCC_FALSE@\t$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(common_libcommon_a_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o common/common_libcommon_a-sim-load.o `test -f 'common/sim-load.c' || echo '$(srcdir)/'`common/sim-load.c\n+\n+common/common_libcommon_a-sim-load.obj: common/sim-load.c\n+@am__fastdepCC_TRUE@\t$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(common_libcommon_a_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT common/common_libcommon_a-sim-load.obj -MD -MP -MF common/$(DEPDIR)/common_libcommon_a-sim-load.Tpo -c -o common/common_libcommon_a-sim-load.obj `if test -f 'common/sim-load.c'; then $(CYGPATH_W) 'common/sim-load.c'; else $(CYGPATH_W) '$(srcdir)/common/sim-load.c'; fi`\n+@am__fastdepCC_TRUE@\t$(AM_V_at)$(am__mv) common/$(DEPDIR)/common_libcommon_a-sim-load.Tpo common/$(DEPDIR)/common_libcommon_a-sim-load.Po\n+@AMDEP_TRUE@@am__fastdepCC_FALSE@\t$(AM_V_CC)source='common/sim-load.c' object='common/common_libcommon_a-sim-load.obj' libtool=no @AMDEPBACKSLASH@\n+@AMDEP_TRUE@@am__fastdepCC_FALSE@\tDEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@\n+@am__fastdepCC_FALSE@\t$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(common_libcommon_a_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o common/common_libcommon_a-sim-load.obj `if test -f 'common/sim-load.c'; then $(CYGPATH_W) 'common/sim-load.c'; else $(CYGPATH_W) '$(srcdir)/common/sim-load.c'; fi`\n+\n+common/common_libcommon_a-version.o: common/version.c\n+@am__fastdepCC_TRUE@\t$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(common_libcommon_a_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT common/common_libcommon_a-version.o -MD -MP -MF common/$(DEPDIR)/common_libcommon_a-version.Tpo -c -o common/common_libcommon_a-version.o `test -f 'common/version.c' || echo '$(srcdir)/'`common/version.c\n+@am__fastdepCC_TRUE@\t$(AM_V_at)$(am__mv) common/$(DEPDIR)/common_libcommon_a-version.Tpo common/$(DEPDIR)/common_libcommon_a-version.Po\n+@AMDEP_TRUE@@am__fastdepCC_FALSE@\t$(AM_V_CC)source='common/version.c' object='common/common_libcommon_a-version.o' libtool=no @AMDEPBACKSLASH@\n+@AMDEP_TRUE@@am__fastdepCC_FALSE@\tDEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@\n+@am__fastdepCC_FALSE@\t$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(common_libcommon_a_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o common/common_libcommon_a-version.o `test -f 'common/version.c' || echo '$(srcdir)/'`common/version.c\n+\n+common/common_libcommon_a-version.obj: common/version.c\n+@am__fastdepCC_TRUE@\t$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(common_libcommon_a_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT common/common_libcommon_a-version.obj -MD -MP -MF common/$(DEPDIR)/common_libcommon_a-version.Tpo -c -o common/common_libcommon_a-version.obj `if test -f 'common/version.c'; then $(CYGPATH_W) 'common/version.c'; else $(CYGPATH_W) '$(srcdir)/common/version.c'; fi`\n+@am__fastdepCC_TRUE@\t$(AM_V_at)$(am__mv) common/$(DEPDIR)/common_libcommon_a-version.Tpo common/$(DEPDIR)/common_libcommon_a-version.Po\n+@AMDEP_TRUE@@am__fastdepCC_FALSE@\t$(AM_V_CC)source='common/version.c' object='common/common_libcommon_a-version.obj' libtool=no @AMDEPBACKSLASH@\n+@AMDEP_TRUE@@am__fastdepCC_FALSE@\tDEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@\n+@am__fastdepCC_FALSE@\t$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(common_libcommon_a_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o common/common_libcommon_a-version.obj `if test -f 'common/version.c'; then $(CYGPATH_W) 'common/version.c'; else $(CYGPATH_W) '$(srcdir)/common/version.c'; fi`\n install-pkgincludeHEADERS: $(pkginclude_HEADERS)\n \t@$(NORMAL_INSTALL)\n \t@list='$(pkginclude_HEADERS)'; test -n \"$(pkgincludedir)\" || list=; \\"
    },
    {
      "sha": "5d713c63bf4ff29f1c03b8c4debdf986e1462288",
      "filename": "sim/common/ChangeLog",
      "status": "modified",
      "additions": 9,
      "deletions": 0,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/dd8e16ea7b2b929480a3cfac894af78aecc7608e/sim/common/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/dd8e16ea7b2b929480a3cfac894af78aecc7608e/sim/common/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/common/ChangeLog?ref=dd8e16ea7b2b929480a3cfac894af78aecc7608e",
      "patch": "@@ -1,3 +1,12 @@\n+2021-06-12  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* Make-common.in (SIM_NEW_COMMON_OBJS): Move sim-load.o to ...\n+\t(COMMON_OBJS_NAMES): ... here.  Rename var from COMMON_OBJS.\n+\t(COMMON_OBJS): Redefine.\n+\t* defs.h [SIM_COMMON_BUILD]: Do not include ../config.h.\n+\t* local.mk (%C%_libcommon_a_CPPFLAGS): New variable.\n+\t(%C%_libcommon_a_SOURCES): Add %D%/sim-load.c.\n+\n 2021-06-12  Mike Frysinger  <vapier@gentoo.org>\n \n \t* dv-sockser.c: Include sys/select.h."
    },
    {
      "sha": "8454d165830f0e7b5d4174228d81e764c882789c",
      "filename": "sim/common/Make-common.in",
      "status": "modified",
      "additions": 4,
      "deletions": 2,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/dd8e16ea7b2b929480a3cfac894af78aecc7608e/sim/common/Make-common.in",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/dd8e16ea7b2b929480a3cfac894af78aecc7608e/sim/common/Make-common.in",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/common/Make-common.in?ref=dd8e16ea7b2b929480a3cfac894af78aecc7608e",
      "patch": "@@ -179,7 +179,6 @@ SIM_NEW_COMMON_OBJS = \\\n \tsim-hrw.o \\\n \tsim-io.o \\\n \tsim-info.o \\\n-\tsim-load.o \\\n \tsim-memopt.o \\\n \tsim-model.o \\\n \tsim-module.o \\\n@@ -254,7 +253,10 @@ LIBDEPS = $(BFD_LIB) $(OPCODES_LIB) $(LIBINTL_DEP) $(LIBIBERTY_LIB)\n EXTRA_LIBS = $(BFD_LIB) $(OPCODES_LIB) $(LIBINTL) $(LIBIBERTY_LIB) \\\n \t$(CONFIG_LIBS) $(SIM_EXTRA_LIBS) $(LIBDL) $(LIBGNU) $(LIBGNU_EXTRA_LIBS)\n \n-COMMON_OBJS = ../common/version.o\n+COMMON_OBJS_NAMES = \\\n+\tsim-load.o \\\n+\tversion.o\n+COMMON_OBJS = $(COMMON_OBJS_NAMES:%=../common/common_libcommon_a-%)\n \n LIB_OBJS = callback.o modules.o syscall.o targ-map.o $(COMMON_OBJS) $(SIM_OBJS)\n "
    },
    {
      "sha": "21ad2a44d3ba94a4539ff06cd6a85422b4cf4170",
      "filename": "sim/common/defs.h",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/dd8e16ea7b2b929480a3cfac894af78aecc7608e/sim/common/defs.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/dd8e16ea7b2b929480a3cfac894af78aecc7608e/sim/common/defs.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/common/defs.h?ref=dd8e16ea7b2b929480a3cfac894af78aecc7608e",
      "patch": "@@ -37,6 +37,8 @@\n /* Include arch-specific sim's various configure tests.  */\n #include \"config.h\"\n \n+#ifndef SIM_COMMON_BUILD\n+\n /* Reset macros that our config.h will provide.  */\n #undef PACKAGE\n #undef PACKAGE_BUGREPORT\n@@ -52,3 +54,5 @@\n #endif\n \n #endif\n+\n+#endif"
    },
    {
      "sha": "a340febfcdd1973c74a0ae4a6b017ac089d5e61a",
      "filename": "sim/common/local.mk",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/dd8e16ea7b2b929480a3cfac894af78aecc7608e/sim/common/local.mk",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/dd8e16ea7b2b929480a3cfac894af78aecc7608e/sim/common/local.mk",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/common/local.mk?ref=dd8e16ea7b2b929480a3cfac894af78aecc7608e",
      "patch": "@@ -28,7 +28,13 @@ SIM_ALL_RECURSIVE_DEPS += \\\n # NB: libcommon.a isn't used directly by ports.  We need a target for common\n # objects to be a part of, and ports use the individual objects directly.\n noinst_LIBRARIES += %D%/libcommon.a\n+%C%_libcommon_a_CPPFLAGS = \\\n+\t$(AM_CPPFLAGS) \\\n+\t-DSIM_COMMON_BUILD \\\n+\t-I../bfd \\\n+\t-I..\n %C%_libcommon_a_SOURCES = \\\n+\t%D%/sim-load.c \\\n \t%D%/version.c\n \n %D%/version.c: $(srcroot)/gdb/version.in $(srcroot)/bfd/version.h $(srcdir)/%D%/create-version.sh"
    }
  ]
}