{
  "sha": "6d5702a5eb313c8c3195edc21eebf6ef312a3fcc",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6NmQ1NzAyYTVlYjMxM2M4YzMxOTVlZGMyMWVlYmY2ZWYzMTJhM2ZjYw==",
  "commit": {
    "author": {
      "name": "Carl Love",
      "email": "cel@us.ibm.com",
      "date": "2021-04-15T22:21:51Z"
    },
    "committer": {
      "name": "Carl Love",
      "email": "cel@us.ibm.com",
      "date": "2021-04-21T21:17:03Z"
    },
    "message": "Fix test case gdb.base/valgrind-bt.exp.\n\ngdb/testsuite/ChangeLog:\n\n\t* gdb.base/valgrind-bt.exp: Add gdb_test \"break main\".\n\tUpdate expected string for gdb_test \"bt\".\n\n\t* lib/valgrind.exp: Add set remotetimeout 3.\n\tIncrease vgdb wait from 1 to 2.\n\tAdd max-invoke-ms option to vgdb command line.",
    "tree": {
      "sha": "046f5528a3a2b8463f28992466627f3e2e8ca8f8",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/046f5528a3a2b8463f28992466627f3e2e8ca8f8"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/6d5702a5eb313c8c3195edc21eebf6ef312a3fcc",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/6d5702a5eb313c8c3195edc21eebf6ef312a3fcc",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/6d5702a5eb313c8c3195edc21eebf6ef312a3fcc",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/6d5702a5eb313c8c3195edc21eebf6ef312a3fcc/comments",
  "author": {
    "login": "carlelove",
    "id": 86435705,
    "node_id": "MDQ6VXNlcjg2NDM1NzA1",
    "avatar_url": "https://avatars.githubusercontent.com/u/86435705?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/carlelove",
    "html_url": "https://github.com/carlelove",
    "followers_url": "https://api.github.com/users/carlelove/followers",
    "following_url": "https://api.github.com/users/carlelove/following{/other_user}",
    "gists_url": "https://api.github.com/users/carlelove/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/carlelove/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/carlelove/subscriptions",
    "organizations_url": "https://api.github.com/users/carlelove/orgs",
    "repos_url": "https://api.github.com/users/carlelove/repos",
    "events_url": "https://api.github.com/users/carlelove/events{/privacy}",
    "received_events_url": "https://api.github.com/users/carlelove/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "carlelove",
    "id": 86435705,
    "node_id": "MDQ6VXNlcjg2NDM1NzA1",
    "avatar_url": "https://avatars.githubusercontent.com/u/86435705?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/carlelove",
    "html_url": "https://github.com/carlelove",
    "followers_url": "https://api.github.com/users/carlelove/followers",
    "following_url": "https://api.github.com/users/carlelove/following{/other_user}",
    "gists_url": "https://api.github.com/users/carlelove/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/carlelove/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/carlelove/subscriptions",
    "organizations_url": "https://api.github.com/users/carlelove/orgs",
    "repos_url": "https://api.github.com/users/carlelove/repos",
    "events_url": "https://api.github.com/users/carlelove/events{/privacy}",
    "received_events_url": "https://api.github.com/users/carlelove/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "ff5075202958f78e1a0bb77405e19c347d1d0bbd",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/ff5075202958f78e1a0bb77405e19c347d1d0bbd",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/ff5075202958f78e1a0bb77405e19c347d1d0bbd"
    }
  ],
  "stats": {
    "total": 18,
    "additions": 16,
    "deletions": 2
  },
  "files": [
    {
      "sha": "5049974bf3502c36a1f3ae3a8b9d1211724524c2",
      "filename": "gdb/testsuite/ChangeLog",
      "status": "modified",
      "additions": 9,
      "deletions": 0,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6d5702a5eb313c8c3195edc21eebf6ef312a3fcc/gdb/testsuite/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6d5702a5eb313c8c3195edc21eebf6ef312a3fcc/gdb/testsuite/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/ChangeLog?ref=6d5702a5eb313c8c3195edc21eebf6ef312a3fcc",
      "patch": "@@ -1,3 +1,12 @@\n+2021-04-21  Carl Love  <cel@us.ibm.com>\n+\n+\t* gdb.base/valgrind-bt.exp: Add gdb_test \"break main\".\n+\tUpdate expected string for gdb_test \"bt\".\n+\n+\t* lib/valgrind.exp: Add set remotetimeout 3.\n+\tIncrease vgdb wait from 1 to 2.\n+\tAdd max-invoke-ms option to vgdb command line.\n+\n 2021-04-21  Tankut Baris Aktemur  <tankut.baris.aktemur@intel.com>\n \n \t* gdb.mi/mi-break.exp: Extend with checks for invalid breakpoint"
    },
    {
      "sha": "b559e433d7246101697fe45875abce11aa0c7d80",
      "filename": "gdb/testsuite/gdb.base/valgrind-bt.exp",
      "status": "modified",
      "additions": 3,
      "deletions": 1,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6d5702a5eb313c8c3195edc21eebf6ef312a3fcc/gdb/testsuite/gdb.base/valgrind-bt.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6d5702a5eb313c8c3195edc21eebf6ef312a3fcc/gdb/testsuite/gdb.base/valgrind-bt.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/valgrind-bt.exp?ref=6d5702a5eb313c8c3195edc21eebf6ef312a3fcc",
      "patch": "@@ -31,6 +31,8 @@ if { [vgdb_start] == -1 } {\n \n set double_free [gdb_get_line_number \"double-free\"]\n \n+gdb_breakpoint \"main\"\n+\n set test \"continue\"\n gdb_test_multiple \"continue\" $test {\n     -re \"Invalid free\\\\(\\\\).*: main \\\\(${srcfile}:$double_free\\\\)\\r\\n.*$gdb_prompt $\" {\n@@ -57,7 +59,7 @@ gdb_test_multiple \"continue\" $test {\n gdb_test_no_output \"set height 0\"\n gdb_test_no_output \"set width 0\"\n \n-gdb_test \"bt\" \"in main \\\\(.*\\\\) at .*${srcfile}:$double_free\"\n+gdb_test \"bt\" \"#\\[0-9 ]+main \\\\(.*\\\\) at .*${srcfile}.*\"\n \n # Explicitly kill the program so it doesn't dump core when we quit->detach.\n gdb_test \"kill\" \"\" \"kill program\" \"Kill the program being debugged.*y or n. $\" \"y\""
    },
    {
      "sha": "caabeda9730441326925f4aa2afb8e329ea9c258",
      "filename": "gdb/testsuite/lib/valgrind.exp",
      "status": "modified",
      "additions": 4,
      "deletions": 1,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/6d5702a5eb313c8c3195edc21eebf6ef312a3fcc/gdb/testsuite/lib/valgrind.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/6d5702a5eb313c8c3195edc21eebf6ef312a3fcc/gdb/testsuite/lib/valgrind.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/lib/valgrind.exp?ref=6d5702a5eb313c8c3195edc21eebf6ef312a3fcc",
      "patch": "@@ -82,12 +82,15 @@ proc vgdb_start { {active_at_startup 1} } {\n \n     clean_restart $testfile\n \n+    set vgdbcmd \"set remotetimeout 3\"\n+\n     # Make sure we're disconnected, in case we're testing with the\n     # native-extended-gdbserver board, where gdb_start/gdb_load spawn\n     # gdbserver and connect to it.\n     gdb_test \"disconnect\" \".*\"\n \n-    set vgdbcmd \"target remote | vgdb --wait=1 --pid=$vgdbpid\"\n+    set vgdbcmd \"target remote | vgdb --wait=2 --max-invoke-ms=2500 --pid=$vgdbpid\"\n+\n     if { $active_at_startup } {\n \tgdb_test \"$vgdbcmd\" \" in \\\\.?_start .*\" \"target remote for vgdb\"\n     } else {"
    }
  ]
}