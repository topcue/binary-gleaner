{
  "sha": "94698d0198f4018b2ac248b248868cb7a5c0cc43",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6OTQ2OThkMDE5OGY0MDE4YjJhYzI0OGIyNDg4NjhjYjdhNWMwY2M0Mw==",
  "commit": {
    "author": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2019-11-18T20:59:26Z"
    },
    "committer": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2019-11-18T21:05:05Z"
    },
    "message": "PR25200, SIGSEGV in _bfd_elf_validate_reloc\n\n\tPR 25200\n\t* reloc.c (bfd_default_reloc_type_lookup): Don't BFD_FAIL.\n\t* elf.c (_bfd_elf_validate_reloc): Don't segfault on NULL howto.",
    "tree": {
      "sha": "fe373cc4fe81bf04f1ab0171a8ec236444c79768",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/fe373cc4fe81bf04f1ab0171a8ec236444c79768"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/94698d0198f4018b2ac248b248868cb7a5c0cc43",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/94698d0198f4018b2ac248b248868cb7a5c0cc43",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/94698d0198f4018b2ac248b248868cb7a5c0cc43",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/94698d0198f4018b2ac248b248868cb7a5c0cc43/comments",
  "author": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "2e953acac2ef45afa10e0b2c4c6c23fb52718a26",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/2e953acac2ef45afa10e0b2c4c6c23fb52718a26",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/2e953acac2ef45afa10e0b2c4c6c23fb52718a26"
    }
  ],
  "stats": {
    "total": 35,
    "additions": 12,
    "deletions": 23
  },
  "files": [
    {
      "sha": "d13d9695ff0243e1b507e02612818059b24a7307",
      "filename": "bfd/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/94698d0198f4018b2ac248b248868cb7a5c0cc43/bfd/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/94698d0198f4018b2ac248b248868cb7a5c0cc43/bfd/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/ChangeLog?ref=94698d0198f4018b2ac248b248868cb7a5c0cc43",
      "patch": "@@ -1,3 +1,9 @@\n+2019-11-19  Alan Modra  <amodra@gmail.com>\n+\n+\tPR 25200\n+\t* reloc.c (bfd_default_reloc_type_lookup): Don't BFD_FAIL.\n+\t* elf.c (_bfd_elf_validate_reloc): Don't segfault on NULL howto.\n+\n 2019-11-18  Alan Modra  <amodra@gmail.com>\n \n \t* elf-bfd.h (struct elf_backend_data <elf_backend_init_file_header>):"
    },
    {
      "sha": "a221bf0d04bd572e6bf1b752339ac42d8c8e3b63",
      "filename": "bfd/elf.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/94698d0198f4018b2ac248b248868cb7a5c0cc43/bfd/elf.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/94698d0198f4018b2ac248b248868cb7a5c0cc43/bfd/elf.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/elf.c?ref=94698d0198f4018b2ac248b248868cb7a5c0cc43",
      "patch": "@@ -9222,7 +9222,7 @@ _bfd_elf_validate_reloc (bfd *abfd, arelent *areloc)\n \n \t  howto = bfd_reloc_type_lookup (abfd, code);\n \n-\t  if (areloc->howto->pcrel_offset != howto->pcrel_offset)\n+\t  if (howto && areloc->howto->pcrel_offset != howto->pcrel_offset)\n \t    {\n \t      if (howto->pcrel_offset)\n \t\tareloc->addend += areloc->address;"
    },
    {
      "sha": "cc842d7514f3864eebab9827935d503faf6b404c",
      "filename": "bfd/reloc.c",
      "status": "modified",
      "additions": 5,
      "deletions": 22,
      "changes": 27,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/94698d0198f4018b2ac248b248868cb7a5c0cc43/bfd/reloc.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/94698d0198f4018b2ac248b248868cb7a5c0cc43/bfd/reloc.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/bfd/reloc.c?ref=94698d0198f4018b2ac248b248868cb7a5c0cc43",
      "patch": "@@ -8123,28 +8123,11 @@ DESCRIPTION\n reloc_howto_type *\n bfd_default_reloc_type_lookup (bfd *abfd, bfd_reloc_code_real_type code)\n {\n-  switch (code)\n-    {\n-    case BFD_RELOC_CTOR:\n-      /* The type of reloc used in a ctor, which will be as wide as the\n-\t address - so either a 64, 32, or 16 bitter.  */\n-      switch (bfd_arch_bits_per_address (abfd))\n-\t{\n-\tcase 64:\n-\t  BFD_FAIL ();\n-\t  break;\n-\tcase 32:\n-\t  return &bfd_howto_32;\n-\tcase 16:\n-\t  BFD_FAIL ();\n-\t  break;\n-\tdefault:\n-\t  BFD_FAIL ();\n-\t}\n-      break;\n-    default:\n-      BFD_FAIL ();\n-    }\n+  /* Very limited support is provided for relocs in generic targets\n+     such as elf32-little.  FIXME: Should we always return NULL?  */\n+  if (code == BFD_RELOC_CTOR\n+      && bfd_arch_bits_per_address (abfd) == 32)\n+    return &bfd_howto_32;\n   return NULL;\n }\n "
    }
  ]
}