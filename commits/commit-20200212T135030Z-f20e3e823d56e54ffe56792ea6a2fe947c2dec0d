{
  "sha": "f20e3e823d56e54ffe56792ea6a2fe947c2dec0d",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6ZjIwZTNlODIzZDU2ZTU0ZmZlNTY3OTJlYTZhMmZlOTQ3YzJkZWMwZA==",
  "commit": {
    "author": {
      "name": "Maciej W. Rozycki",
      "email": "macro@wdc.com",
      "date": "2020-02-12T13:50:30Z"
    },
    "committer": {
      "name": "Pedro Alves",
      "email": "palves@redhat.com",
      "date": "2020-02-12T13:50:30Z"
    },
    "message": "Disable gdbserver on host != target configurations\n\nCorrect fallout from commit 919adfe84092 (\"Move gdbserver to top level\")\nand revert to not building `gdbserver' in a cross-configuration, that is\nwhere host != target, matching the documented behaviour.  We have no way\nto support non-native `gdbserver', and native `gdbserver' is usually of\nno use with cross-GDB of the chosen host.\n\ngdbserver/ChangeLog:\n2020-02-12  Maciej W. Rozycki <macro@wdc.com>\n\t    Pedro Alves  <palves@redhat.com>\n\n\tSkip building gdbserver in a cross-configuration.\n\t* configure.srv: Set $gdbserver_host depending on whether $target\n\tis $host.  Use $gdbserver_host instead of $host.",
    "tree": {
      "sha": "41cec8f5e99972f8ed02ac0071155d5d52b7dc30",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/41cec8f5e99972f8ed02ac0071155d5d52b7dc30"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/f20e3e823d56e54ffe56792ea6a2fe947c2dec0d",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/f20e3e823d56e54ffe56792ea6a2fe947c2dec0d",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/f20e3e823d56e54ffe56792ea6a2fe947c2dec0d",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/f20e3e823d56e54ffe56792ea6a2fe947c2dec0d/comments",
  "author": null,
  "committer": {
    "login": "palves",
    "id": 1202913,
    "node_id": "MDQ6VXNlcjEyMDI5MTM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1202913?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/palves",
    "html_url": "https://github.com/palves",
    "followers_url": "https://api.github.com/users/palves/followers",
    "following_url": "https://api.github.com/users/palves/following{/other_user}",
    "gists_url": "https://api.github.com/users/palves/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/palves/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/palves/subscriptions",
    "organizations_url": "https://api.github.com/users/palves/orgs",
    "repos_url": "https://api.github.com/users/palves/repos",
    "events_url": "https://api.github.com/users/palves/events{/privacy}",
    "received_events_url": "https://api.github.com/users/palves/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "38de8abe21fe17c31888094bd860a84f88cb5749",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/38de8abe21fe17c31888094bd860a84f88cb5749",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/38de8abe21fe17c31888094bd860a84f88cb5749"
    }
  ],
  "stats": {
    "total": 18,
    "additions": 16,
    "deletions": 2
  },
  "files": [
    {
      "sha": "709ef23674c4f85587531cb4b2afa79598737650",
      "filename": "gdbserver/ChangeLog",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f20e3e823d56e54ffe56792ea6a2fe947c2dec0d/gdbserver/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f20e3e823d56e54ffe56792ea6a2fe947c2dec0d/gdbserver/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/ChangeLog?ref=f20e3e823d56e54ffe56792ea6a2fe947c2dec0d",
      "patch": "@@ -1,3 +1,10 @@\n+2020-02-12  Maciej W. Rozycki <macro@wdc.com>\n+\t    Pedro Alves  <palves@redhat.com>\n+\n+\tSkip building gdbserver in a cross-configuration.\n+\t* configure.srv: Set $gdbserver_host depending on whether $target\n+\tis $host.  Use $gdbserver_host instead of $host.\n+\n 2020-02-11  Simon Marchi  <simon.marchi@efficios.com>\n \n \t* configure: Re-generate."
    },
    {
      "sha": "375ac0aeb2a5811247f384a8f5cbcf227e1579eb",
      "filename": "gdbserver/configure.srv",
      "status": "modified",
      "additions": 9,
      "deletions": 2,
      "changes": 11,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f20e3e823d56e54ffe56792ea6a2fe947c2dec0d/gdbserver/configure.srv",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f20e3e823d56e54ffe56792ea6a2fe947c2dec0d/gdbserver/configure.srv",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdbserver/configure.srv?ref=f20e3e823d56e54ffe56792ea6a2fe947c2dec0d",
      "patch": "@@ -33,9 +33,16 @@ ipa_ppc_linux_regobj=\"powerpc-32l-ipa.o powerpc-altivec32l-ipa.o powerpc-vsx32l-\n # these files over and over again.\n srv_linux_obj=\"linux-low.o nat/linux-osdata.o nat/linux-procfs.o nat/linux-ptrace.o nat/linux-waitpid.o nat/linux-personality.o nat/linux-namespaces.o fork-child.o nat/fork-inferior.o\"\n \n-# Input is taken from the \"${host}\" variable.\n+# Input is taken from the \"${host}\" and \"${target}\" variables.\n \n-case \"${host}\" in\n+# GDBserver can only debug native programs.\n+if test \"${target}\" = \"${host}\"; then\n+    gdbserver_host=${host}\n+else\n+    gdbserver_host=\n+fi\n+\n+case \"${gdbserver_host}\" in\n   aarch64*-*-linux*)\tsrv_tgtobj=\"linux-aarch64-low.o\"\n \t\t\tsrv_tgtobj=\"$srv_tgtobj nat/aarch64-linux-hw-point.o\"\n \t\t\tsrv_tgtobj=\"$srv_tgtobj linux-aarch32-low.o\""
    }
  ]
}