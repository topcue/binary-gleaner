{
  "sha": "1fb164a112015fc79ee6aa71102e8409c8172f77",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MWZiMTY0YTExMjAxNWZjNzllZTZhYTcxMTAyZTg0MDljODE3MmY3Nw==",
  "commit": {
    "author": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-06-28T01:36:03Z"
    },
    "committer": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-06-29T05:25:11Z"
    },
    "message": "sim: cgen: require long long support\n\nWe require C11 now, so we can assume & require long long exists.\nDrop this old code that hasn't been used for a long long time.",
    "tree": {
      "sha": "89a3299720957faf3164c875acc458eace8bb718",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/89a3299720957faf3164c875acc458eace8bb718"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/1fb164a112015fc79ee6aa71102e8409c8172f77",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/1fb164a112015fc79ee6aa71102e8409c8172f77",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/1fb164a112015fc79ee6aa71102e8409c8172f77",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/1fb164a112015fc79ee6aa71102e8409c8172f77/comments",
  "author": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "327f11dee1b04c6feb5a4270193ef461fb49bbf1",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/327f11dee1b04c6feb5a4270193ef461fb49bbf1",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/327f11dee1b04c6feb5a4270193ef461fb49bbf1"
    }
  ],
  "stats": {
    "total": 35,
    "additions": 6,
    "deletions": 29
  },
  "files": [
    {
      "sha": "2faba1fc8fb1e73601b879f8a996f49877a13d64",
      "filename": "sim/common/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/1fb164a112015fc79ee6aa71102e8409c8172f77/sim/common/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/1fb164a112015fc79ee6aa71102e8409c8172f77/sim/common/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/common/ChangeLog?ref=1fb164a112015fc79ee6aa71102e8409c8172f77",
      "patch": "@@ -1,3 +1,9 @@\n+2021-06-29  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* cgen-types.h (HAVE_LONGLONG): Delete define.\n+\t[!HAVE_LONGLONG]: Delete all protected code.\n+\t* cgen-utils.c (make_struct_di): Delete.\n+\n 2021-06-27  Mike Frysinger  <vapier@gentoo.org>\n \n \t* cgen-trace.c: Include diagnostics.h."
    },
    {
      "sha": "cb71b6bdda1297195161c481673e5ef44fb22fc6",
      "filename": "sim/common/cgen-types.h",
      "status": "modified",
      "additions": 0,
      "deletions": 18,
      "changes": 18,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/1fb164a112015fc79ee6aa71102e8409c8172f77/sim/common/cgen-types.h",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/1fb164a112015fc79ee6aa71102e8409c8172f77/sim/common/cgen-types.h",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/common/cgen-types.h?ref=1fb164a112015fc79ee6aa71102e8409c8172f77",
      "patch": "@@ -31,10 +31,8 @@ along with this program.  If not, see <http://www.gnu.org/licenses/>.  */\n #define SIM_HAVE_ADDR_RANGE\n \n #ifdef __GNUC__\n-#define HAVE_LONGLONG\n #undef DI_FN_SUPPORT\n #else\n-#undef HAVE_LONGLONG\n #define DI_FN_SUPPORT\n #endif\n \f\n@@ -68,29 +66,13 @@ typedef unsigned8 UQI;\n typedef unsigned16 UHI;\n typedef unsigned32 USI;\n \n-#ifdef HAVE_LONGLONG\n typedef signed64 DI;\n typedef unsigned64 UDI;\n #define GETLODI(di) ((SI) (di))\n #define GETHIDI(di) ((SI) ((UDI) (di) >> 32))\n #define SETLODI(di, val) ((di) = (((di) & 0xffffffff00000000LL) | (val)))\n #define SETHIDI(di, val) ((di) = (((di) & 0xffffffffLL) | (((DI) (val)) << 32)))\n #define MAKEDI(hi, lo) ((((DI) (SI) (hi)) << 32) | ((UDI) (USI) (lo)))\n-#else\n-/* DI mode support if \"long long\" doesn't exist.\n-   At one point CGEN supported K&R C compilers, and ANSI C compilers without\n-   \"long long\".  One can argue the various merits of keeping this in or\n-   throwing it out.  I went to the trouble of adding it so for the time being\n-   I'm leaving it in.  */\n-typedef struct { SI hi,lo; } DI;\n-typedef DI UDI;\n-#define GETLODI(di) ((di).lo)\n-#define GETHIDI(di) ((di).hi)\n-#define SETLODI(di, val) ((di).lo = (val))\n-#define SETHIDI(di, val) ((di).hi = (val))\n-extern DI make_struct_di (SI, SI);\n-#define MAKEDI(hi, lo) (make_struct_di ((hi), (lo)))\n-#endif\n \n /* These are used to record extracted raw data from an instruction, among other\n    things.  It must be a host data type, and not a target one.  */"
    },
    {
      "sha": "8c0856c795b83fbf0c126a0693be7f0bf66f818a",
      "filename": "sim/common/cgen-utils.c",
      "status": "modified",
      "additions": 0,
      "deletions": 11,
      "changes": 11,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/1fb164a112015fc79ee6aa71102e8409c8172f77/sim/common/cgen-utils.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/1fb164a112015fc79ee6aa71102e8409c8172f77/sim/common/cgen-utils.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/common/cgen-utils.c?ref=1fb164a112015fc79ee6aa71102e8409c8172f77",
      "patch": "@@ -117,17 +117,6 @@ cgen_cpu_max_extra_bytes (void)\n \f\n #ifdef DI_FN_SUPPORT\n \n-DI\n-make_struct_di (hi, lo)\n-     SI hi, lo;\n-{\n-  DI result;\n-\n-  result.hi = hi;\n-  result.lo = lo;\n-  return result;\n-}\n-\n DI\n ANDDI (a, b)\n      DI a, b;"
    }
  ]
}