{
  "sha": "a1700a3199d31910b87cd7db3c394ddd091cfcde",
  "node_id": "C_kwDOANOeidoAKGExNzAwYTMxOTlkMzE5MTBiODdjZDdkYjNjMzk0ZGRkMDkxY2ZjZGU",
  "commit": {
    "author": {
      "name": "Simon Marchi",
      "email": "simon.marchi@polymtl.ca",
      "date": "2021-11-03T19:09:19Z"
    },
    "committer": {
      "name": "Simon Marchi",
      "email": "simon.marchi@polymtl.ca",
      "date": "2021-11-03T19:09:19Z"
    },
    "message": "gdb: fix gnu-nat build\n\nWhen building gnu-nat.c, we get:\n\n      CXX    gnu-nat.o\n    gnu-nat.c: In member function 'virtual void gnu_nat_target::create_inferior(const char*, const string&, char**, int)':\n    gnu-nat.c:2117:13: error: 'struct inf' has no member named 'target_is_pushed'\n     2117 |   if (!inf->target_is_pushed (this))\n          |             ^~~~~~~~~~~~~~~~\n    gnu-nat.c:2118:10: error: 'struct inf' has no member named 'push_target'\n     2118 |     inf->push_target (this);\n          |          ^~~~~~~~~~~\n\nThis is because of a confusion between the generic `struct inferior`\nvariable and the gnu-nat-specific `struct inf` variable.  Fix by\nreferring to `inferior`, not `inf`.\n\nAdjust the comment on top of `struct inf` to clarify the purpose of that\ntype.\n\nCo-Authored-By: Andrea Monaco <andrea.monaco@autistici.org>\nChange-Id: I2fe2f7f6ef61a38d79860fd262b08835c963fc77",
    "tree": {
      "sha": "c849dc6bb6965d76fdca8660a1ae62de2c56c30f",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/c849dc6bb6965d76fdca8660a1ae62de2c56c30f"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/a1700a3199d31910b87cd7db3c394ddd091cfcde",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/a1700a3199d31910b87cd7db3c394ddd091cfcde",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/a1700a3199d31910b87cd7db3c394ddd091cfcde",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/a1700a3199d31910b87cd7db3c394ddd091cfcde/comments",
  "author": {
    "login": "simark",
    "id": 1758287,
    "node_id": "MDQ6VXNlcjE3NTgyODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1758287?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/simark",
    "html_url": "https://github.com/simark",
    "followers_url": "https://api.github.com/users/simark/followers",
    "following_url": "https://api.github.com/users/simark/following{/other_user}",
    "gists_url": "https://api.github.com/users/simark/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/simark/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/simark/subscriptions",
    "organizations_url": "https://api.github.com/users/simark/orgs",
    "repos_url": "https://api.github.com/users/simark/repos",
    "events_url": "https://api.github.com/users/simark/events{/privacy}",
    "received_events_url": "https://api.github.com/users/simark/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "simark",
    "id": 1758287,
    "node_id": "MDQ6VXNlcjE3NTgyODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1758287?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/simark",
    "html_url": "https://github.com/simark",
    "followers_url": "https://api.github.com/users/simark/followers",
    "following_url": "https://api.github.com/users/simark/following{/other_user}",
    "gists_url": "https://api.github.com/users/simark/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/simark/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/simark/subscriptions",
    "organizations_url": "https://api.github.com/users/simark/orgs",
    "repos_url": "https://api.github.com/users/simark/repos",
    "events_url": "https://api.github.com/users/simark/events{/privacy}",
    "received_events_url": "https://api.github.com/users/simark/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "b44d87d4424324cb7a88b314f3a178694581a831",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/b44d87d4424324cb7a88b314f3a178694581a831",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/b44d87d4424324cb7a88b314f3a178694581a831"
    }
  ],
  "stats": {
    "total": 6,
    "additions": 3,
    "deletions": 3
  },
  "files": [
    {
      "sha": "c6cecff06867a312df04ef92227c0fded7f215ae",
      "filename": "gdb/gnu-nat.c",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a1700a3199d31910b87cd7db3c394ddd091cfcde/gdb/gnu-nat.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a1700a3199d31910b87cd7db3c394ddd091cfcde/gdb/gnu-nat.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/gnu-nat.c?ref=a1700a3199d31910b87cd7db3c394ddd091cfcde",
      "patch": "@@ -149,7 +149,7 @@ struct inf_wait\n     int suppress;\t\t/* Something trivial happened.  */\n   };\n \n-/* The state of an inferior.  */\n+/* Further Hurd-specific state of an inferior.  */\n struct inf\n   {\n     /* Fields describing the current inferior.  */\n@@ -2108,8 +2108,8 @@ gnu_nat_target::create_inferior (const char *exec_file,\n \n   inf_debug (inf, \"creating inferior\");\n \n-  if (!inf->target_is_pushed (this))\n-    inf->push_target (this);\n+  if (!inferior->target_is_pushed (this))\n+    inferior->push_target (this);\n \n   pid = fork_inferior (exec_file, allargs, env, gnu_ptrace_me,\n \t\t       NULL, NULL, NULL, NULL);"
    }
  ]
}