{
  "sha": "f05f3e723568756ac523ffddfe90fe6ed12dbb95",
  "node_id": "C_kwDOANOeidoAKGYwNWYzZTcyMzU2ODc1NmFjNTIzZmZkZGZlOTBmZTZlZDEyZGJiOTU",
  "commit": {
    "author": {
      "name": "Lancelot SIX",
      "email": "lsix@lancelotsix.com",
      "date": "2021-11-19T22:48:59Z"
    },
    "committer": {
      "name": "Lancelot SIX",
      "email": "lsix@lancelotsix.com",
      "date": "2022-01-07T22:43:32Z"
    },
    "message": "gdb/testsuite: Remove duplicates from gdb.base/realname-expand.exp\n\nWhen running the testsuite, I have:\n\n    Running .../gdb/testsuite/gdb.base/realname-expand.exp ...\n    DUPLICATE: gdb.base/realname-expand.exp: set basenames-may-differ on\n\nThis is due to the fact that the test restarts GDB twice and each time\nsets the basenames-may-differ setting.  This patch proposes to fix this\nby not restarting GDB so the setting is maintained.  It just clears the\nbreakpoints between the two tests and updates the breakpoints number as\nrequired.\n\nThis patch also perform some minor refactorings to improve visibility.\n\nTested on x86_64-linux.",
    "tree": {
      "sha": "9ddc1c3c7716a94943aae789b75e2e11b9b4e454",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/9ddc1c3c7716a94943aae789b75e2e11b9b4e454"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/f05f3e723568756ac523ffddfe90fe6ed12dbb95",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/f05f3e723568756ac523ffddfe90fe6ed12dbb95",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/f05f3e723568756ac523ffddfe90fe6ed12dbb95",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/f05f3e723568756ac523ffddfe90fe6ed12dbb95/comments",
  "author": {
    "login": "lsix",
    "id": 724339,
    "node_id": "MDQ6VXNlcjcyNDMzOQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/724339?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/lsix",
    "html_url": "https://github.com/lsix",
    "followers_url": "https://api.github.com/users/lsix/followers",
    "following_url": "https://api.github.com/users/lsix/following{/other_user}",
    "gists_url": "https://api.github.com/users/lsix/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/lsix/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/lsix/subscriptions",
    "organizations_url": "https://api.github.com/users/lsix/orgs",
    "repos_url": "https://api.github.com/users/lsix/repos",
    "events_url": "https://api.github.com/users/lsix/events{/privacy}",
    "received_events_url": "https://api.github.com/users/lsix/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "lsix",
    "id": 724339,
    "node_id": "MDQ6VXNlcjcyNDMzOQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/724339?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/lsix",
    "html_url": "https://github.com/lsix",
    "followers_url": "https://api.github.com/users/lsix/followers",
    "following_url": "https://api.github.com/users/lsix/following{/other_user}",
    "gists_url": "https://api.github.com/users/lsix/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/lsix/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/lsix/subscriptions",
    "organizations_url": "https://api.github.com/users/lsix/orgs",
    "repos_url": "https://api.github.com/users/lsix/repos",
    "events_url": "https://api.github.com/users/lsix/events{/privacy}",
    "received_events_url": "https://api.github.com/users/lsix/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "27e9a99fa02b635f5a89358c196fbf8f1670c6d7",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/27e9a99fa02b635f5a89358c196fbf8f1670c6d7",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/27e9a99fa02b635f5a89358c196fbf8f1670c6d7"
    }
  ],
  "stats": {
    "total": 12,
    "additions": 7,
    "deletions": 5
  },
  "files": [
    {
      "sha": "b476ef876ef3dd4d0815b2a359789bf0712e2eaf",
      "filename": "gdb/testsuite/gdb.base/realname-expand.exp",
      "status": "modified",
      "additions": 7,
      "deletions": 5,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/f05f3e723568756ac523ffddfe90fe6ed12dbb95/gdb/testsuite/gdb.base/realname-expand.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/f05f3e723568756ac523ffddfe90fe6ed12dbb95/gdb/testsuite/gdb.base/realname-expand.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.base/realname-expand.exp?ref=f05f3e723568756ac523ffddfe90fe6ed12dbb95",
      "patch": "@@ -40,10 +40,12 @@ clean_restart ${testfile}\n \n gdb_test_no_output \"set basenames-may-differ on\"\n \n-gdb_test \"rbreak realname-expand-real.c:func\" \"^rbreak realname-expand-real.c:func\\r\\nBreakpoint 1 at 0x\\[0-9a-f\\]+: file \\[^\\r\\n\\]*/realname-expand-link\\\\.c, line \\[0-9\\]+\\\\.\\r\\nvoid func\\\\(void\\\\);\"\n+gdb_test \"rbreak realname-expand-real.c:func\" \\\n+    [multi_line \"\" \\\n+\t\t\"Breakpoint 1 at $hex: file \\[^\\r\\n\\]*/realname-expand-link\\\\.c, line $decimal\\\\.\" \\\n+\t\t\"void func\\\\(void\\\\);\"]\n \n-clean_restart ${testfile}\n-\n-gdb_test_no_output \"set basenames-may-differ on\"\n+delete_breakpoints\n \n-gdb_test \"break realname-expand-real.c:func\" \"^break realname-expand-real.c:func\\r\\nBreakpoint 1 at 0x\\[0-9a-f\\]+: file \\[^\\r\\n\\]*/realname-expand-link\\\\.c, line \\[0-9\\]+\\\\.\"\n+gdb_test \"break realname-expand-real.c:func\" \\\n+    \"\\r\\nBreakpoint 2 at $hex: file \\[^\\r\\n\\]*/realname-expand-link\\\\.c, line $decimal\\\\.\""
    }
  ]
}