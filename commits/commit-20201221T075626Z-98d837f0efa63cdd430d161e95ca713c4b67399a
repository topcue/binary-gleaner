{
  "sha": "98d837f0efa63cdd430d161e95ca713c4b67399a",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6OThkODM3ZjBlZmE2M2NkZDQzMGQxNjFlOTVjYTcxM2M0YjY3Mzk5YQ==",
  "commit": {
    "author": {
      "name": "Markus Metzger",
      "email": "markus.t.metzger@intel.com",
      "date": "2020-12-03T16:04:29Z"
    },
    "committer": {
      "name": "Markus Metzger",
      "email": "markus.t.metzger@intel.com",
      "date": "2020-12-21T07:56:26Z"
    },
    "message": "gdb, record: rephrase the 'not recording' error message\n\nWhen trying to use one of the record commands without having enabled\nrecording first, GDB gives the error message:\n\n    (gdb) record function-call-history\n    No record target is currently active.\n    Use one of the \"target record-<TAB><TAB>\" commands first.\n\nIn the record help, however, we say:\n\n    (gdb) help record\n    record, rec\n    Start recording.\n\n    List of record subcommands:\n\n    record btrace, record b -- Start branch trace recording.\n    record delete, record del, record d -- Delete the rest of execution log and start recording it anew.\n    record full -- Start full execution recording.\n    record function-call-history -- Prints the execution history at function granularity.\n    record goto -- Restore the program to its state at instruction number N.\n    record instruction-history -- Print disassembled instructions stored in the execution log.\n    record save -- Save the execution log to a file.\n    record stop, record s -- Stop the record/replay target.\n\nChange the above error message to\n\n    (gdb) record function-call-history\n    No recording is currently active.\n    Use the \"record full\" or \"record btrace\" command first.\n\nto align with the help text.\n\ngdb/ChangeLog:\n2020-12-03  Markus Metzger  <markus.t.metzger@intel.com>\n\n\t* record.c (require_record_target): Rephrase error message.\n\t(info_record_command): Likewise.\n\ngdb/testsuite/ChangeLog:\n2020-12-03  Markus Metzger  <markus.t.metzger@intel.com>\n\n\t* gdb.btrace/enable.exp: Update error message.\n\t* gdb.btrace/multi-inferior.exp: Likewise.\n\t* gdb.btrace/reconnect.exp: Likewise.\n\t* gdb.python/py-record-btrace.exp: Likewise.\n\t* gdb.python/py-record-full.exp: Likewise.",
    "tree": {
      "sha": "6539a919b151f7e02940429480bfc0c73db9f2ab",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/6539a919b151f7e02940429480bfc0c73db9f2ab"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/98d837f0efa63cdd430d161e95ca713c4b67399a",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/98d837f0efa63cdd430d161e95ca713c4b67399a",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/98d837f0efa63cdd430d161e95ca713c4b67399a",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/98d837f0efa63cdd430d161e95ca713c4b67399a/comments",
  "author": {
    "login": "markus-metzger",
    "id": 5424725,
    "node_id": "MDQ6VXNlcjU0MjQ3MjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5424725?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/markus-metzger",
    "html_url": "https://github.com/markus-metzger",
    "followers_url": "https://api.github.com/users/markus-metzger/followers",
    "following_url": "https://api.github.com/users/markus-metzger/following{/other_user}",
    "gists_url": "https://api.github.com/users/markus-metzger/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/markus-metzger/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/markus-metzger/subscriptions",
    "organizations_url": "https://api.github.com/users/markus-metzger/orgs",
    "repos_url": "https://api.github.com/users/markus-metzger/repos",
    "events_url": "https://api.github.com/users/markus-metzger/events{/privacy}",
    "received_events_url": "https://api.github.com/users/markus-metzger/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "markus-metzger",
    "id": 5424725,
    "node_id": "MDQ6VXNlcjU0MjQ3MjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5424725?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/markus-metzger",
    "html_url": "https://github.com/markus-metzger",
    "followers_url": "https://api.github.com/users/markus-metzger/followers",
    "following_url": "https://api.github.com/users/markus-metzger/following{/other_user}",
    "gists_url": "https://api.github.com/users/markus-metzger/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/markus-metzger/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/markus-metzger/subscriptions",
    "organizations_url": "https://api.github.com/users/markus-metzger/orgs",
    "repos_url": "https://api.github.com/users/markus-metzger/repos",
    "events_url": "https://api.github.com/users/markus-metzger/events{/privacy}",
    "received_events_url": "https://api.github.com/users/markus-metzger/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "904cb749cf4ed4e26aec6a9f471497f7534f8cc3",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/904cb749cf4ed4e26aec6a9f471497f7534f8cc3",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/904cb749cf4ed4e26aec6a9f471497f7534f8cc3"
    }
  ],
  "stats": {
    "total": 39,
    "additions": 26,
    "deletions": 13
  },
  "files": [
    {
      "sha": "6e0c8be81bcc6380c34f7262729e6ae1704488db",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98d837f0efa63cdd430d161e95ca713c4b67399a/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98d837f0efa63cdd430d161e95ca713c4b67399a/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=98d837f0efa63cdd430d161e95ca713c4b67399a",
      "patch": "@@ -1,3 +1,8 @@\n+2020-12-21  Markus Metzger  <markus.t.metzger@intel.com>\n+\n+\t* record.c (require_record_target): Rephrase error message.\n+\t(info_record_command): Likewise.\n+\n 2020-12-19  Hannes Domani  <ssbssa@yahoo.de>\n \n \tPR exp/27070"
    },
    {
      "sha": "204bda0a4244e8536f292fca1c50714ee1a2b369",
      "filename": "gdb/record.c",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98d837f0efa63cdd430d161e95ca713c4b67399a/gdb/record.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98d837f0efa63cdd430d161e95ca713c4b67399a/gdb/record.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/record.c?ref=98d837f0efa63cdd430d161e95ca713c4b67399a",
      "patch": "@@ -74,8 +74,8 @@ require_record_target (void)\n \n   t = find_record_target ();\n   if (t == NULL)\n-    error (_(\"No record target is currently active.\\n\"\n-\t     \"Use one of the \\\"target record-<TAB><TAB>\\\" commands first.\"));\n+    error (_(\"No recording is currently active.\\n\"\n+\t     \"Use the \\\"record full\\\" or \\\"record btrace\\\" command first.\"));\n \n   return t;\n }\n@@ -325,7 +325,7 @@ info_record_command (const char *args, int from_tty)\n   t = find_record_target ();\n   if (t == NULL)\n     {\n-      printf_filtered (_(\"No record target is currently active.\\n\"));\n+      printf_filtered (_(\"No recording is currently active.\\n\"));\n       return;\n     }\n "
    },
    {
      "sha": "63f7279ac04ed54b227e87bd3ae1743c3cfd6183",
      "filename": "gdb/testsuite/ChangeLog",
      "status": "modified",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98d837f0efa63cdd430d161e95ca713c4b67399a/gdb/testsuite/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98d837f0efa63cdd430d161e95ca713c4b67399a/gdb/testsuite/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/ChangeLog?ref=98d837f0efa63cdd430d161e95ca713c4b67399a",
      "patch": "@@ -1,3 +1,11 @@\n+2020-12-21  Markus Metzger  <markus.t.metzger@intel.com>\n+\n+\t* gdb.btrace/enable.exp: Update error message.\n+\t* gdb.btrace/multi-inferior.exp: Likewise.\n+\t* gdb.btrace/reconnect.exp: Likewise.\n+\t* gdb.python/py-record-btrace.exp: Likewise.\n+\t* gdb.python/py-record-full.exp: Likewise.\n+\n 2020-12-20  Tom de Vries  <tdevries@suse.de>\n \n \t* lib/gdb.exp (save_target_board_info): New proc."
    },
    {
      "sha": "8ce1dab076f346b737a6e890bf08900930fa7d88",
      "filename": "gdb/testsuite/gdb.btrace/enable.exp",
      "status": "modified",
      "additions": 5,
      "deletions": 5,
      "changes": 10,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98d837f0efa63cdd430d161e95ca713c4b67399a/gdb/testsuite/gdb.btrace/enable.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98d837f0efa63cdd430d161e95ca713c4b67399a/gdb/testsuite/gdb.btrace/enable.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.btrace/enable.exp?ref=98d837f0efa63cdd430d161e95ca713c4b67399a",
      "patch": "@@ -27,15 +27,15 @@ gdb_exit\n gdb_start\n \n # record cannot be stopped, if it was never active\n-gdb_test \"record stop\" \"No record target is currently active\\\\..*\" \"record stop without target\"\n+gdb_test \"record stop\" \"No recording is currently active\\\\..*\" \"record stop without target\"\n \n # btrace cannot be enabled without a running inferior\n gdb_test \"record btrace\" \"The program is not being run\\\\.\" \"record btrace without running program\"\n \n # no function and no instruction history without btrace enabled\n-gdb_test \"record function-call-history\" \"No record target is currently active\\\\..*\" \"record function-call-history without target\"\n-gdb_test \"record instruction-history\" \"No record target is currently active\\\\..*\" \"record instruction-history without target\"\n-gdb_test \"info record\" \"No record target is currently active\\\\.\" \"info record without target\"\n+gdb_test \"record function-call-history\" \"No recording is currently active\\\\..*\" \"record function-call-history without target\"\n+gdb_test \"record instruction-history\" \"No recording is currently active\\\\..*\" \"record instruction-history without target\"\n+gdb_test \"info record\" \"No recording is currently active\\\\.\" \"info record without target\"\n \n standard_testfile\n if [prepare_for_testing \"failed to prepare\" $testfile {} {debug}] {\n@@ -65,7 +65,7 @@ Recorded 0 instructions in 0 functions \\\\\\(0 gaps\\\\\\) for thread 1.*\\\\.\" \"info r\n \n # stop btrace record\n gdb_test \"record stop\" \"Process record is stopped and all execution logs are deleted\\\\.\"\n-gdb_test \"record stop\" \"No record target is currently active\\\\..*\" \"record stop the second time\"\n+gdb_test \"record stop\" \"No recording is currently active\\\\..*\" \"record stop the second time\"\n \n # enable btrace again\n gdb_test_no_output \"record btrace\" \"record btrace re-enable\""
    },
    {
      "sha": "23bc852c56558b9e4c7e6d1e3da452f5988974a7",
      "filename": "gdb/testsuite/gdb.btrace/multi-inferior.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98d837f0efa63cdd430d161e95ca713c4b67399a/gdb/testsuite/gdb.btrace/multi-inferior.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98d837f0efa63cdd430d161e95ca713c4b67399a/gdb/testsuite/gdb.btrace/multi-inferior.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.btrace/multi-inferior.exp?ref=98d837f0efa63cdd430d161e95ca713c4b67399a",
      "patch": "@@ -55,7 +55,7 @@ with_test_prefix \"inferior 2\" {\n with_test_prefix \"inferior 1\" {\n     gdb_test \"inferior 1\" \"Switching to inferior 1.*\"\n \n-    gdb_test \"info record\" \"No record target is currently active\\\\.\"\n+    gdb_test \"info record\" \"No recording is currently active\\\\.\"\n     gdb_test_no_output \"record btrace\" \"record btrace\"\n }\n \n@@ -69,6 +69,6 @@ with_test_prefix \"inferior 3\" {\n \treturn -1\n     }\n \n-    gdb_test \"info record\" \"No record target is currently active\\\\.\"\n+    gdb_test \"info record\" \"No recording is currently active\\\\.\"\n     gdb_test_no_output \"record btrace\" \"record btrace\"\n }"
    },
    {
      "sha": "baec86f8aa384bad82d391c3675a5c850ec8dbef",
      "filename": "gdb/testsuite/gdb.btrace/reconnect.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98d837f0efa63cdd430d161e95ca713c4b67399a/gdb/testsuite/gdb.btrace/reconnect.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98d837f0efa63cdd430d161e95ca713c4b67399a/gdb/testsuite/gdb.btrace/reconnect.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.btrace/reconnect.exp?ref=98d837f0efa63cdd430d161e95ca713c4b67399a",
      "patch": "@@ -81,5 +81,5 @@ with_test_prefix \"second\" {\n \n # Test that recording is now off.\n with_test_prefix \"third\" {\n-  gdb_test \"info record\" \"No record target is currently active.\"\n+  gdb_test \"info record\" \"No recording is currently active.\"\n }"
    },
    {
      "sha": "3a84cbe7ac4d86ad734c51d86a57efa087017869",
      "filename": "gdb/testsuite/gdb.python/py-record-btrace.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98d837f0efa63cdd430d161e95ca713c4b67399a/gdb/testsuite/gdb.python/py-record-btrace.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98d837f0efa63cdd430d161e95ca713c4b67399a/gdb/testsuite/gdb.python/py-record-btrace.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.python/py-record-btrace.exp?ref=98d837f0efa63cdd430d161e95ca713c4b67399a",
      "patch": "@@ -47,7 +47,7 @@ with_test_prefix \"no or double record\" {\n     gdb_test \"python gdb.start_recording(\\\"btrace\\\")\" \".*gdb\\.error: The process is already being recorded\\..*\"\n \n     gdb_test_no_output \"python gdb.stop_recording()\" \"first\"\n-    gdb_test \"python gdb.stop_recording()\" \".*gdb\\.error: No record target is currently active\\..*\" \"second\"\n+    gdb_test \"python gdb.stop_recording()\" \".*gdb\\.error: No recording is currently active\\..*\" \"second\"\n }\n \n with_test_prefix \"preopened record btrace\" {"
    },
    {
      "sha": "a1f24a3634f40cb5e6aac8bfe411e3733ed6a62d",
      "filename": "gdb/testsuite/gdb.python/py-record-full.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/98d837f0efa63cdd430d161e95ca713c4b67399a/gdb/testsuite/gdb.python/py-record-full.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/98d837f0efa63cdd430d161e95ca713c4b67399a/gdb/testsuite/gdb.python/py-record-full.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/testsuite/gdb.python/py-record-full.exp?ref=98d837f0efa63cdd430d161e95ca713c4b67399a",
      "patch": "@@ -47,7 +47,7 @@ with_test_prefix \"no or double record\" {\n     gdb_test \"python gdb.start_recording(\\\"full\\\")\" \".*gdb\\.error: The process is already being recorded\\..*\"\n \n     gdb_test_no_output \"python gdb.stop_recording()\" \"first\"\n-    gdb_test \"python gdb.stop_recording()\" \".*gdb\\.error: No record target is currently active\\..*\" \"second\"\n+    gdb_test \"python gdb.stop_recording()\" \".*gdb\\.error: No recording is currently active\\..*\" \"second\"\n }\n \n with_test_prefix \"preopened record full\" {"
    }
  ]
}