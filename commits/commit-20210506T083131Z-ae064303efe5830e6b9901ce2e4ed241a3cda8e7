{
  "sha": "ae064303efe5830e6b9901ce2e4ed241a3cda8e7",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YWUwNjQzMDNlZmU1ODMwZTZiOTkwMWNlMmU0ZWQyNDFhM2NkYThlNw==",
  "commit": {
    "author": {
      "name": "Nick Alcock",
      "email": "nick.alcock@oracle.com",
      "date": "2021-05-06T08:30:58Z"
    },
    "committer": {
      "name": "Nick Alcock",
      "email": "nick.alcock@oracle.com",
      "date": "2021-05-06T08:31:31Z"
    },
    "message": "libctf, ld: fix test results for upstream GCC\n\nThe tests currently in binutils are aimed at the original GCC-based\nimplementation of CTF, which emitted CTF directly from GCC's internal\nrepresentation.  The approach now under review emits CTF from DWARF,\nwith an eye to eventually doing this for all non-DWARF debuginfo-like\nformats GCC supports.  It also uses a different flag to enable\nCTF emission (-gctf rather than -gt).\n\nAdjust the testsuite accordingly.\n\nGiven that the ld testsuite results are dependent on type ordering,\nwhich we do not guarantee at all, it's amazing how little changes. We\nsee a few type ordering differences, slices change because the old GCC\nwas buggy (slices were emitted \"backwards\", from the wrong end of the\nmachine word) and its expected results were wrong, and GCC now emits the\nunderlying integral type for enumerated types, though CTF has no way to\nrecord this yet (coming in v4).\n\nGCC also now emits even hidden symbols into the symtab (and thus\nsymtypetab), so one symtypetab test changes its expected results\nslightly to compensate.\n\nAlso add tests for the CTF_K_UNKNOWN nonrepresentable type: this\ncouldn't be done before now since the only GCC that emits CTF_K_UNKNOWN\nfor nonrepresentable types is the new one.\n\nld/ChangeLog\n2021-05-06  Nick Alcock  <nick.alcock@oracle.com>\n\n\t* testsuite/ld-ctf/ctf.exp: Use -gctf, not -gt.\n\t* testsuite/lib/ld-lib.exp: Likewise.\n\t* testsuite/ld-ctf/nonrepresentable-1.c: New test for nonrepresentable types.\n\t* testsuite/ld-ctf/nonrepresentable-2.c: Likewise.\n\t* testsuite/ld-ctf/nonrepresentable.d: Likewise.\n\t* testsuite/ld-ctf/array.d: Larger type section.\n\t* testsuite/ld-ctf/data-func-conflicted.d: Likewise.\n\t* testsuite/ld-ctf/enums.d: Likewise.\n\t* testsuite/ld-ctf/conflicting-enums.d: Don't compare types.\n\t* testsuite/ld-ctf/cross-tu-cyclic-conflicting.d: Changed type order.\n\t* testsuite/ld-ctf/cross-tu-noncyclic.d: Likewise.\n\t* testsuite/ld-ctf/slice.d: Adjust for improved slice emission.\n\nlibctf/ChangeLog\n2021-05-06  Nick Alcock  <nick.alcock@oracle.com>\n\n\t* testsuite/lib/ctf-lib.exp: Use -gctf, not -gt.\n\t* testsuite/libctf-regression/nonstatic-var-section-ld-r.lk:\n\tHidden symbols now get into the symtypetab anyway.",
    "tree": {
      "sha": "11dc2fe833c1460029e4c5d1bd727d99f838d359",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/11dc2fe833c1460029e4c5d1bd727d99f838d359"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/ae064303efe5830e6b9901ce2e4ed241a3cda8e7",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/ae064303efe5830e6b9901ce2e4ed241a3cda8e7",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/ae064303efe5830e6b9901ce2e4ed241a3cda8e7",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/ae064303efe5830e6b9901ce2e4ed241a3cda8e7/comments",
  "author": {
    "login": "nickalcock",
    "id": 6503005,
    "node_id": "MDQ6VXNlcjY1MDMwMDU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6503005?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nickalcock",
    "html_url": "https://github.com/nickalcock",
    "followers_url": "https://api.github.com/users/nickalcock/followers",
    "following_url": "https://api.github.com/users/nickalcock/following{/other_user}",
    "gists_url": "https://api.github.com/users/nickalcock/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nickalcock/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nickalcock/subscriptions",
    "organizations_url": "https://api.github.com/users/nickalcock/orgs",
    "repos_url": "https://api.github.com/users/nickalcock/repos",
    "events_url": "https://api.github.com/users/nickalcock/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nickalcock/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "nickalcock",
    "id": 6503005,
    "node_id": "MDQ6VXNlcjY1MDMwMDU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6503005?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nickalcock",
    "html_url": "https://github.com/nickalcock",
    "followers_url": "https://api.github.com/users/nickalcock/followers",
    "following_url": "https://api.github.com/users/nickalcock/following{/other_user}",
    "gists_url": "https://api.github.com/users/nickalcock/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nickalcock/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nickalcock/subscriptions",
    "organizations_url": "https://api.github.com/users/nickalcock/orgs",
    "repos_url": "https://api.github.com/users/nickalcock/repos",
    "events_url": "https://api.github.com/users/nickalcock/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nickalcock/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "49da556c658684db1b8bdba956e541bc99628f02",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/49da556c658684db1b8bdba956e541bc99628f02",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/49da556c658684db1b8bdba956e541bc99628f02"
    }
  ],
  "stats": {
    "total": 111,
    "additions": 89,
    "deletions": 22
  },
  "files": [
    {
      "sha": "1ddf61d1bd39efe7cebfd4ee5ac83c2359d08872",
      "filename": "ld/ChangeLog",
      "status": "modified",
      "additions": 15,
      "deletions": 0,
      "changes": 15,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ae064303efe5830e6b9901ce2e4ed241a3cda8e7/ld/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ae064303efe5830e6b9901ce2e4ed241a3cda8e7/ld/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/ChangeLog?ref=ae064303efe5830e6b9901ce2e4ed241a3cda8e7",
      "patch": "@@ -1,3 +1,18 @@\n+2021-05-06  Nick Alcock  <nick.alcock@oracle.com>\n+\n+\t* testsuite/ld-ctf/ctf.exp: Use -gctf, not -gt.\n+\t* testsuite/lib/ld-lib.exp: Likewise.\n+\t* testsuite/ld-ctf/nonrepresentable-1.c: New test for nonrepresentable types.\n+\t* testsuite/ld-ctf/nonrepresentable-2.c: Likewise.\n+\t* testsuite/ld-ctf/nonrepresentable.d: Likewise.\n+\t* testsuite/ld-ctf/array.d: Larger type section.\n+\t* testsuite/ld-ctf/data-func-conflicted.d: Likewise.\n+\t* testsuite/ld-ctf/enums.d: Likewise.\n+\t* testsuite/ld-ctf/conflicting-enums.d: Don't compare types.\n+\t* testsuite/ld-ctf/cross-tu-cyclic-conflicting.d: Changed type order.\n+\t* testsuite/ld-ctf/cross-tu-noncyclic.d: Likewise.\n+\t* testsuite/ld-ctf/slice.d: Adjust for improved slice emission.\n+\n 2021-05-05  H.J. Lu  <hongjiu.lu@intel.com>\n \n \tPR ld/27825"
    },
    {
      "sha": "142f9e9fa947d548a85d8409c6ea228fa65941a5",
      "filename": "ld/testsuite/ld-ctf/array.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ae064303efe5830e6b9901ce2e4ed241a3cda8e7/ld/testsuite/ld-ctf/array.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ae064303efe5830e6b9901ce2e4ed241a3cda8e7/ld/testsuite/ld-ctf/array.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-ctf/array.d?ref=ae064303efe5830e6b9901ce2e4ed241a3cda8e7",
      "patch": "@@ -14,7 +14,7 @@ Contents of CTF section .ctf:\n     Version: 4 \\(CTF_VERSION_3\\)\n #...\n     Data object section:\t.* \\(0x[1-9a-f][0-9a-f]* bytes\\)\n-    Type section:\t.* \\(0x5c bytes\\)\n+    Type section:\t.* \\(0x6c bytes\\)\n     String section:\t.*\n \n   Labels:"
    },
    {
      "sha": "5eeae7a13edc344ec9f552da2fea0c5f7e62cc0a",
      "filename": "ld/testsuite/ld-ctf/conflicting-enums.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ae064303efe5830e6b9901ce2e4ed241a3cda8e7/ld/testsuite/ld-ctf/conflicting-enums.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ae064303efe5830e6b9901ce2e4ed241a3cda8e7/ld/testsuite/ld-ctf/conflicting-enums.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-ctf/conflicting-enums.d?ref=ae064303efe5830e6b9901ce2e4ed241a3cda8e7",
      "patch": "@@ -14,7 +14,7 @@ Contents of CTF section .ctf:\n     Version: 4 \\(CTF_VERSION_3\\)\n #...\n   Types:\n-\n+#...\n   Strings:\n #...\n CTF archive member: .*enum.*\\.c:"
    },
    {
      "sha": "6d5e869bfbef65e1491cb4f25fa572793ca6b69e",
      "filename": "ld/testsuite/ld-ctf/cross-tu-cyclic-conflicting.d",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ae064303efe5830e6b9901ce2e4ed241a3cda8e7/ld/testsuite/ld-ctf/cross-tu-cyclic-conflicting.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ae064303efe5830e6b9901ce2e4ed241a3cda8e7/ld/testsuite/ld-ctf/cross-tu-cyclic-conflicting.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-ctf/cross-tu-cyclic-conflicting.d?ref=ae064303efe5830e6b9901ce2e4ed241a3cda8e7",
      "patch": "@@ -13,12 +13,12 @@ Contents of CTF section \\.ctf:\n \n #...\n   Types:\n-#...\n-    0x[0-9a-f]*: \\(kind 1\\) long int \\(format 0x1\\) \\(size 0x[0-9a-f]*\\) \\(aligned at 0x[0-9a-f]*\\)\n #...\n     0x[0-9a-f]*: \\(kind 6\\) struct B .*\n #...\n     0x[0-9a-f]*: \\(kind 1\\) int \\(format 0x1\\) \\(size 0x[0-9a-f]*\\) \\(aligned at 0x[0-9a-f]*\\)\n+#...\n+    0x[0-9a-f]*: \\(kind 1\\) long int \\(format 0x1\\) \\(size 0x[0-9a-f]*\\) \\(aligned at 0x[0-9a-f]*\\)\n #...\n     0x[0-9a-f]*: \\(kind 9\\) struct A\n #..."
    },
    {
      "sha": "3ebc52dcb3bb9c0b0d9318947e61afed8bf85685",
      "filename": "ld/testsuite/ld-ctf/cross-tu-noncyclic.d",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ae064303efe5830e6b9901ce2e4ed241a3cda8e7/ld/testsuite/ld-ctf/cross-tu-noncyclic.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ae064303efe5830e6b9901ce2e4ed241a3cda8e7/ld/testsuite/ld-ctf/cross-tu-noncyclic.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-ctf/cross-tu-noncyclic.d?ref=ae064303efe5830e6b9901ce2e4ed241a3cda8e7",
      "patch": "@@ -28,13 +28,13 @@ Contents of CTF section .ctf:\n #...\n \n   Types:\n+#...\n+    0x[0-9a-f]*: \\(kind 6\\) struct B .*\n+       *\\[0x0\\] foo: ID 0x[0-9a-f]*: \\(kind 1\\) int .*\n #...\n     0x[0-9a-f]*: \\(kind 6\\) struct A .*\n        *\\[0x0\\] a: ID 0x[0-9a-f]*: \\(kind 1\\) long int .*\n        *\\[0x[0-9a-f]*\\] foo: ID 0x[0-9a-f]*: \\(kind 3\\) struct B \\* .*\n-#...\n-    0x[0-9a-f]*: \\(kind 6\\) struct B .*\n-       *\\[0x0\\] foo: ID 0x[0-9a-f]*: \\(kind 1\\) int .*\n #...\n     0x[0-9a-f]*: \\(kind 3\\) struct B \\* \\(size 0x[0-9a-f]*\\) \\(aligned at 0x[0-9a-f]*\\) -> 0x[0-9a-f]*: \\(kind 6\\) struct B .*\n #..."
    },
    {
      "sha": "0e74d6c569c7f48693507ca584239b601737361d",
      "filename": "ld/testsuite/ld-ctf/ctf.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ae064303efe5830e6b9901ce2e4ed241a3cda8e7/ld/testsuite/ld-ctf/ctf.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ae064303efe5830e6b9901ce2e4ed241a3cda8e7/ld/testsuite/ld-ctf/ctf.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-ctf/ctf.exp?ref=ae064303efe5830e6b9901ce2e4ed241a3cda8e7",
      "patch": "@@ -42,7 +42,7 @@ foreach ctf_test $ctf_test_list {\n \t}\n     }\n     verbose [file rootname $ctf_test]\n-    run_dump_test [file rootname $ctf_test] { { cc \"-gt -fPIC\" } }\n+    run_dump_test [file rootname $ctf_test] { { cc \"-gctf -fPIC\" } }\n }\n \n if {[info exists old_lc_all]} {"
    },
    {
      "sha": "f4f4fdd0e48c45946cee1c028868f6f5eaa045a7",
      "filename": "ld/testsuite/ld-ctf/data-func-conflicted.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ae064303efe5830e6b9901ce2e4ed241a3cda8e7/ld/testsuite/ld-ctf/data-func-conflicted.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ae064303efe5830e6b9901ce2e4ed241a3cda8e7/ld/testsuite/ld-ctf/data-func-conflicted.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-ctf/data-func-conflicted.d?ref=ae064303efe5830e6b9901ce2e4ed241a3cda8e7",
      "patch": "@@ -16,7 +16,7 @@ Contents of CTF section \\.ctf:\n     Data object section:\t.* \\(0x[1-9a-f][0-9a-f]* bytes\\)\n     Function info section:\t.* \\(0x[1-9a-f][0-9a-f]* bytes\\)\n     Object index section:\t.* \\(0xc bytes\\)\n-    Type section:\t.* \\(0xf4 bytes\\)\n+    Type section:\t.* \\(0x118 bytes\\)\n     String section:\t.*\n #...\n   Data objects:"
    },
    {
      "sha": "d36c7e19f7fd457a30851c112ca460190cd02162",
      "filename": "ld/testsuite/ld-ctf/enums.d",
      "status": "modified",
      "additions": 5,
      "deletions": 3,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ae064303efe5830e6b9901ce2e4ed241a3cda8e7/ld/testsuite/ld-ctf/enums.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ae064303efe5830e6b9901ce2e4ed241a3cda8e7/ld/testsuite/ld-ctf/enums.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-ctf/enums.d?ref=ae064303efe5830e6b9901ce2e4ed241a3cda8e7",
      "patch": "@@ -14,7 +14,7 @@ Contents of CTF section .ctf:\n #...\n     Compilation unit name: .*enums.c\n #...\n-    Type section:\t.*\\(0x114 bytes\\)\n+    Type section:\t.*\\(0x134 bytes\\)\n #...\n   Types:\n     0x1: \\(kind 8\\) enum nine_els \\(size 0x[0-9a-f]*\\) \\(aligned at 0x[0-9a-f]*\\)\n@@ -27,7 +27,8 @@ Contents of CTF section .ctf:\n          NINE_SEVEN: 260\n          NINE_EIGHT: 261\n          NINE_NINE: 262\n-    0x2: \\(kind 8\\) enum ten_els \\(size 0x[0-9a-f]*\\) \\(aligned at 0x[0-9a-f]*\\)\n+    0x2: \\(kind 1\\) .*int \\(format 0x[01]\\) \\(size 0x[0-9a-f]*\\) \\(aligned at 0x[0-9a-f]\\)\n+    0x3: \\(kind 8\\) enum ten_els \\(size 0x[0-9a-f]*\\) \\(aligned at 0x[0-9a-f]*\\)\n          TEN_ONE: 10\n          TEN_TWO: 11\n          TEN_THREE: -256\n@@ -38,7 +39,8 @@ Contents of CTF section .ctf:\n          TEN_EIGHT: -251\n          TEN_NINE: -250\n          TEN_TEN: -249\n-    0x3: \\(kind 8\\) enum eleven_els \\(size 0x[0-9a-f]*\\) \\(aligned at 0x[0-9a-f]*\\)\n+    0x4: \\(kind 1\\) .*int \\(format 0x[01]\\) \\(size 0x[0-9a-f]*\\) \\(aligned at 0x[0-9a-f]*\\)\n+    0x5: \\(kind 8\\) enum eleven_els \\(size 0x[0-9a-f]*\\) \\(aligned at 0x[0-9a-f]*\\)\n          ELEVEN_ONE: 10\n          ELEVEN_TWO: 11\n          ELEVEN_THREE: -256"
    },
    {
      "sha": "3135347a5ab14bfc437bd2d4ff5f58d6083f5da2",
      "filename": "ld/testsuite/ld-ctf/nonrepresentable-1.c",
      "status": "added",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ae064303efe5830e6b9901ce2e4ed241a3cda8e7/ld/testsuite/ld-ctf/nonrepresentable-1.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ae064303efe5830e6b9901ce2e4ed241a3cda8e7/ld/testsuite/ld-ctf/nonrepresentable-1.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-ctf/nonrepresentable-1.c?ref=ae064303efe5830e6b9901ce2e4ed241a3cda8e7",
      "patch": "@@ -0,0 +1,7 @@\n+#include <complex.h>\n+\n+int foo (complex int a)\n+{\n+  return 3;\n+}\n+"
    },
    {
      "sha": "c008c1148f9a99df03d38511fd8dea3649777baf",
      "filename": "ld/testsuite/ld-ctf/nonrepresentable-2.c",
      "status": "added",
      "additions": 11,
      "deletions": 0,
      "changes": 11,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ae064303efe5830e6b9901ce2e4ed241a3cda8e7/ld/testsuite/ld-ctf/nonrepresentable-2.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ae064303efe5830e6b9901ce2e4ed241a3cda8e7/ld/testsuite/ld-ctf/nonrepresentable-2.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-ctf/nonrepresentable-2.c?ref=ae064303efe5830e6b9901ce2e4ed241a3cda8e7",
      "patch": "@@ -0,0 +1,11 @@\n+#include <complex.h>\n+\n+extern int foo (complex int);\n+\n+int main (void)\n+{\n+  complex int a = 33.4;\n+  foo (a);\n+\n+  return 1;\n+}"
    },
    {
      "sha": "8461b54deadc4f8dd53d52406583bf6ec7f8f9f4",
      "filename": "ld/testsuite/ld-ctf/nonrepresentable.d",
      "status": "added",
      "additions": 26,
      "deletions": 0,
      "changes": 26,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ae064303efe5830e6b9901ce2e4ed241a3cda8e7/ld/testsuite/ld-ctf/nonrepresentable.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ae064303efe5830e6b9901ce2e4ed241a3cda8e7/ld/testsuite/ld-ctf/nonrepresentable.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-ctf/nonrepresentable.d?ref=ae064303efe5830e6b9901ce2e4ed241a3cda8e7",
      "patch": "@@ -0,0 +1,26 @@\n+#as:\n+#source: nonrepresentable-1.c\n+#source: nonrepresentable-2.c\n+#objdump: --ctf=.ctf\n+#ld: -shared\n+#name: Nonrepresentable types\n+\n+.*: +file format .*\n+\n+Contents of CTF section .ctf:\n+\n+  Header:\n+    Magic number: 0xdff2\n+    Version: 4 \\(CTF_VERSION_3\\)\n+#...\n+  Function objects:\n+#...\n+    foo -> 0x[0-9]*: \\(kind 5\\) int \\(\\*\\) \\(\\(nonrepresentable type.*\\)\\) \\(aligned at 0x8\\)\n+#...\n+  Types:\n+#...\n+    0x[0-9a-f]*: \\(kind 0\\) \\(nonrepresentable type.*\\)\n+#...\n+\n+  Strings:\n+#..."
    },
    {
      "sha": "8973dcf05e134a5ef2168bfcc41dfa6e8226ae0f",
      "filename": "ld/testsuite/ld-ctf/slice.d",
      "status": "modified",
      "additions": 6,
      "deletions": 5,
      "changes": 11,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ae064303efe5830e6b9901ce2e4ed241a3cda8e7/ld/testsuite/ld-ctf/slice.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ae064303efe5830e6b9901ce2e4ed241a3cda8e7/ld/testsuite/ld-ctf/slice.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/ld-ctf/slice.d?ref=ae064303efe5830e6b9901ce2e4ed241a3cda8e7",
      "patch": "@@ -15,7 +15,7 @@ Contents of CTF section .ctf:\n     Compilation unit name: .*slice.c\n #...\n     Data object section:\t.* \\(0x[1-9a-f][0-9a-f]* bytes\\)\n-    Type section:\t.* \\(0xd0 bytes\\)\n+    Type section:\t.* \\(0xe0 bytes\\)\n     String section:\t.*\n #...\n   Data objects:\n@@ -25,8 +25,9 @@ Contents of CTF section .ctf:\n #...\n     0x[0-9a-f]*: \\(kind 6\\) struct slices \\(size 0x[0-9a-f]*\\) \\(aligned at 0x[0-9a-f]*\\)\n         *\\[0x0\\] one: ID 0x[0-9a-f]*: \\(kind 1\\) int:1 \\[slice 0x0:0x1\\] \\(format 0x1\\) \\(size 0x1\\) \\(aligned at 0x1\\)\n-        *\\[0x1\\] two: ID 0x[0-9a-f]*: \\(kind 1\\) int:2 \\[slice 0x1:0x2\\] \\(format 0x1\\) \\(size 0x1\\) \\(aligned at 0x1\\)\n-        *\\[0x3\\] six: ID 0x[0-9a-f]*: \\(kind 1\\) int:6 \\[slice 0x3:0x6\\] \\(format 0x1\\) \\(size 0x1\\) \\(aligned at 0x1\\)\n-        *\\[0x9\\] ten: ID 0x[0-9a-f]*: \\(kind 1\\) int:10 \\[slice 0x9:0xa\\] \\(format 0x1\\) \\(size 0x2\\) \\(aligned at 0x2\\)\n-        *\\[0x13\\] bar: ID 0x[0-9a-f]*: \\(kind 8\\) enum foo:1 \\[slice 0x13:0x1\\] \\(format 0x1\\) \\(size 0x1\\) \\(aligned at 0x1\\)\n+        *\\[0x1\\] two: ID 0x[0-9a-f]*: \\(kind 1\\) int:2 \\[slice 0x0:0x2\\] \\(format 0x1\\) \\(size 0x1\\) \\(aligned at 0x1\\)\n+        *\\[0x3\\] six: ID 0x[0-9a-f]*: \\(kind 1\\) int:6 \\[slice 0x0:0x6\\] \\(format 0x1\\) \\(size 0x1\\) \\(aligned at 0x1\\)\n+        *\\[0x9\\] ten: ID 0x[0-9a-f]*: \\(kind 1\\) int:10 \\[slice 0x0:0xa\\] \\(format 0x1\\) \\(size 0x2\\) \\(aligned at 0x2\\)\n+        *\\[0x13\\] bar: ID 0x[0-9a-f]*: \\(kind 8\\) enum foo:1 \\[slice 0x0:0x1\\] \\(format 0x1\\) \\(size 0x1\\) \\(aligned at 0x1\\)\n+\n #..."
    },
    {
      "sha": "b1080889a8edbb4b5ac8a519e4735d13fc29bf63",
      "filename": "ld/testsuite/lib/ld-lib.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ae064303efe5830e6b9901ce2e4ed241a3cda8e7/ld/testsuite/lib/ld-lib.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ae064303efe5830e6b9901ce2e4ed241a3cda8e7/ld/testsuite/lib/ld-lib.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/ld/testsuite/lib/ld-lib.exp?ref=ae064303efe5830e6b9901ce2e4ed241a3cda8e7",
      "patch": "@@ -1625,7 +1625,7 @@ proc compile_one_cc { src output additional_flags } {\n     return [run_host_cmd_yesno \"$CC\" \"$flags $CFLAGS $additional_flags $src -o $output\"]\n }\n \n-# Returns true if the target compiler supports -gt\n+# Returns true if the target compiler supports -gctf\n proc check_ctf_available { } {\n     global ctf_available_saved\n \n@@ -1639,7 +1639,7 @@ proc check_ctf_available { } {\n \t    set f [open $src \"w\"]\n \t    puts $f \"int main() { return 0; }\"\n \t    close $f\n-\t    set ctf_available_saved [compile_one_cc $src $output \"-gt -c\"]\n+\t    set ctf_available_saved [compile_one_cc $src $output \"-gctf -c\"]\n \t    remote_file host delete $src\n \t    remote_file host delete $output\n \t    file delete $src"
    },
    {
      "sha": "979c6c55cb2f5fba706d9c18806c7ca359ff70a2",
      "filename": "libctf/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ae064303efe5830e6b9901ce2e4ed241a3cda8e7/libctf/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ae064303efe5830e6b9901ce2e4ed241a3cda8e7/libctf/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/libctf/ChangeLog?ref=ae064303efe5830e6b9901ce2e4ed241a3cda8e7",
      "patch": "@@ -1,3 +1,9 @@\n+2021-05-06  Nick Alcock  <nick.alcock@oracle.com>\n+\n+\t* testsuite/lib/ctf-lib.exp: Use -gctf, not -gt.\n+\t* testsuite/libctf-regression/nonstatic-var-section-ld-r.lk:\n+\tHidden symbols now get into the symtypetab anyway.\n+\n 2021-05-06  Nick Alcock  <nick.alcock@oracle.com>\n \n \t* ctf-open.c (init_types): Unknown types may have names."
    },
    {
      "sha": "0fb095829c65d013c3f61f8d2749e4fb9f3fe353",
      "filename": "libctf/testsuite/lib/ctf-lib.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ae064303efe5830e6b9901ce2e4ed241a3cda8e7/libctf/testsuite/lib/ctf-lib.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ae064303efe5830e6b9901ce2e4ed241a3cda8e7/libctf/testsuite/lib/ctf-lib.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/libctf/testsuite/lib/ctf-lib.exp?ref=ae064303efe5830e6b9901ce2e4ed241a3cda8e7",
      "patch": "@@ -197,10 +197,10 @@ proc run_lookup_test { name } {\n \tset lookup_flags \"\"\n \tif { $run_ld } {\n \t    set lookup_output \"tmpdir/out.so\"\n-\t    set lookup_flags \"-gt -fPIC $shared $opts(link_flags)\"\n+\t    set lookup_flags \"-gctf -fPIC $shared $opts(link_flags)\"\n \t} else {\n \t    set lookup_output \"tmpdir/out.o\"\n-\t    set lookup_flags \"-gt -fPIC -c\"\n+\t    set lookup_flags \"-gctf -fPIC -c\"\n \t}\n \tif [board_info [target_info name] exists cflags] {\n \t    append lookup_flags \" [board_info [target_info name] cflags]\""
    },
    {
      "sha": "7e31a37557ccf5871ccd40770a25d2cbf176f206",
      "filename": "libctf/testsuite/libctf-regression/nonstatic-var-section-ld-r.lk",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/ae064303efe5830e6b9901ce2e4ed241a3cda8e7/libctf/testsuite/libctf-regression/nonstatic-var-section-ld-r.lk",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/ae064303efe5830e6b9901ce2e4ed241a3cda8e7/libctf/testsuite/libctf-regression/nonstatic-var-section-ld-r.lk",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/libctf/testsuite/libctf-regression/nonstatic-var-section-ld-r.lk?ref=ae064303efe5830e6b9901ce2e4ed241a3cda8e7",
      "patch": "@@ -4,4 +4,3 @@\n # link_flags: -Wl,--ctf-variables -r\n foo is of type [0-9a-f]*\n bar is of type [0-9a-f]*\n-foo missing from the data object section"
    }
  ]
}