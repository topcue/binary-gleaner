{
  "sha": "a38d139645fe557563c3c513b9175e07ceb5f5f8",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YTM4ZDEzOTY0NWZlNTU3NTYzYzNjNTEzYjkxNzVlMDdjZWI1ZjVmOA==",
  "commit": {
    "author": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2021-06-03T02:33:09Z"
    },
    "committer": {
      "name": "Alan Modra",
      "email": "amodra@gmail.com",
      "date": "2021-06-03T03:35:57Z"
    },
    "message": "PR1202, mcore disassembler: wrong address loopt\n\nFixes a 16 year old bug report, which even came with a patch.\n\nopcodes/\n\tPR 1202\n\t* mcore-dis.c (print_insn_mcore): Correct loopt disassembly.\n\tUse unsigned int for inst.\ngas/\n\tPR 1202\n\t* testsuite/gas/mcore/allinsn.d: Correct loopt expected output.",
    "tree": {
      "sha": "faaa1bca3ca9dae09e76d8ae0241c6f857c8d838",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/faaa1bca3ca9dae09e76d8ae0241c6f857c8d838"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/a38d139645fe557563c3c513b9175e07ceb5f5f8",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/a38d139645fe557563c3c513b9175e07ceb5f5f8",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/a38d139645fe557563c3c513b9175e07ceb5f5f8",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/a38d139645fe557563c3c513b9175e07ceb5f5f8/comments",
  "author": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "amodra",
    "id": 6006325,
    "node_id": "MDQ6VXNlcjYwMDYzMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amodra",
    "html_url": "https://github.com/amodra",
    "followers_url": "https://api.github.com/users/amodra/followers",
    "following_url": "https://api.github.com/users/amodra/following{/other_user}",
    "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amodra/subscriptions",
    "organizations_url": "https://api.github.com/users/amodra/orgs",
    "repos_url": "https://api.github.com/users/amodra/repos",
    "events_url": "https://api.github.com/users/amodra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amodra/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "9ef5bfdad99255158b5911b098ebcf5788f6ea64",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/9ef5bfdad99255158b5911b098ebcf5788f6ea64",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/9ef5bfdad99255158b5911b098ebcf5788f6ea64"
    }
  ],
  "stats": {
    "total": 21,
    "additions": 16,
    "deletions": 5
  },
  "files": [
    {
      "sha": "67b4583f212fd1afa04c6652a274172e01c9392f",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a38d139645fe557563c3c513b9175e07ceb5f5f8/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a38d139645fe557563c3c513b9175e07ceb5f5f8/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=a38d139645fe557563c3c513b9175e07ceb5f5f8",
      "patch": "@@ -1,3 +1,8 @@\n+2021-06-03  Alan Modra  <amodra@gmail.com>\n+\n+\tPR 1202\n+\t* testsuite/gas/mcore/allinsn.d: Correct loopt expected output.\n+\n 2021-05-29  Alan Modra  <amodra@gmail.com>\n \n \t* testsuite/gas/ppc/raw.s,"
    },
    {
      "sha": "cf3b0ff6339367901989b3ff9c853ea26cc9b929",
      "filename": "gas/testsuite/gas/mcore/allinsn.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a38d139645fe557563c3c513b9175e07ceb5f5f8/gas/testsuite/gas/mcore/allinsn.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a38d139645fe557563c3c513b9175e07ceb5f5f8/gas/testsuite/gas/mcore/allinsn.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/mcore/allinsn.d?ref=a38d139645fe557563c3c513b9175e07ceb5f5f8",
      "patch": "@@ -199,7 +199,7 @@ Disassembly of section \\.text:\n   7e:\t0041      \tldq\tr4-r7, \\(r1\\)\n \n 0+080 <loopt>:\n-  80:\t048e      \tloopt\tr8, 0x64\n+  80:\t048e      \tloopt\tr8, 0x7e\n \n 0+082 <LRW>:\n   82:\t7901      \tlrw\tr9, 0x3C0C1BBA"
    },
    {
      "sha": "6419ee83cc4f6ab24932e64c49988ac7d2df97f1",
      "filename": "opcodes/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a38d139645fe557563c3c513b9175e07ceb5f5f8/opcodes/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a38d139645fe557563c3c513b9175e07ceb5f5f8/opcodes/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/ChangeLog?ref=a38d139645fe557563c3c513b9175e07ceb5f5f8",
      "patch": "@@ -1,3 +1,9 @@\n+2021-06-03  Alan Modra  <amodra@gmail.com>\n+\n+\tPR 1202\n+\t* mcore-dis.c (print_insn_mcore): Correct loopt disassembly.\n+\tUse unsigned int for inst.\n+\n 2021-06-02  Shahab Vahedi  <shahab@synopsys.com>\n \n \t* arc-dis.c (arc_option_arg_t): New enumeration."
    },
    {
      "sha": "c359ee0ec6e4691f6fdd2059ea1528a2ed40ebc5",
      "filename": "opcodes/mcore-dis.c",
      "status": "modified",
      "additions": 4,
      "deletions": 4,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a38d139645fe557563c3c513b9175e07ceb5f5f8/opcodes/mcore-dis.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a38d139645fe557563c3c513b9175e07ceb5f5f8/opcodes/mcore-dis.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/mcore-dis.c?ref=a38d139645fe557563c3c513b9175e07ceb5f5f8",
      "patch": "@@ -95,7 +95,7 @@ print_insn_mcore (bfd_vma memaddr,\n   unsigned char ibytes[4];\n   fprintf_ftype print_func = info->fprintf_func;\n   void *stream = info->stream;\n-  unsigned short inst;\n+  unsigned int inst;\n   unsigned int i;\n   int status;\n \n@@ -215,10 +215,10 @@ print_insn_mcore (bfd_vma memaddr,\n \n \tcase BL:\n \t  {\n-\t    uint32_t val = inst & 0x000F;\n+\t    uint32_t val = memaddr + 2 + ((inst | ~0xF) << 1);\n+\n \t    (*print_func) (stream, \"\\t%s, 0x%x\",\n-\t\t\t   grname[(inst >> 4) & 0xF],\n-\t\t\t   (uint32_t) (memaddr - (val << 1)));\n+\t\t\t   grname[(inst >> 4) & 0xF], val);\n \t  }\n \t  break;\n "
    }
  ]
}