{
  "sha": "04c662e2b66bedd050f97adec19afe0fcfce9ea7",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MDRjNjYyZTJiNjZiZWRkMDUwZjk3YWRlYzE5YWZlMGZjZmNlOWVhNw==",
  "commit": {
    "author": {
      "name": "H.J. Lu",
      "email": "hjl.tools@gmail.com",
      "date": "2020-07-15T13:49:45Z"
    },
    "committer": {
      "name": "H.J. Lu",
      "email": "hjl.tools@gmail.com",
      "date": "2020-07-15T13:57:47Z"
    },
    "message": "x86: Don't display eiz with no scale\n\nChange\n\n67 48 8b 1c 25 ef cd ab 89 \tmov    0x89abcdef(,%eiz,1),%rbx\n\nto\n\n67 48 8b 1c 25 ef cd ab 89 \tmov    0x89abcdef,%rbx\n\nin AT&T syntax and\n\n67 48 8b 1c 25 ef cd ab 89 \tmov    rbx,QWORD PTR [eiz*1+0x89abcdef]\n\nto\n\n67 48 8b 1c 25 ef cd ab 89 \tmov    rbx,QWORD PTR ds:0x89abcdef\n\nin Intel syntax.\n\ngas/\n\n\tPR gas/26237\n\t* testsuite/gas/i386/evex-no-scale-64.d: Updated.\n\t* testsuite/gas/i386/addr32.d: Likewise.\n\t* testsuite/gas/i386/x86-64-addr32-intel.d: Likewise.\n\t* testsuite/gas/i386/x86-64-addr32.d: Likewise.\n\nopcodes/\n\n\tPR gas/26237\n\t* i386-dis.c (OP_E_memory): Don't display eiz with no scale\n\twithout base nor index registers.",
    "tree": {
      "sha": "bc8bd76482538d3ced9901b0d24c91813de80566",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/bc8bd76482538d3ced9901b0d24c91813de80566"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/04c662e2b66bedd050f97adec19afe0fcfce9ea7",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/04c662e2b66bedd050f97adec19afe0fcfce9ea7",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/04c662e2b66bedd050f97adec19afe0fcfce9ea7",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/04c662e2b66bedd050f97adec19afe0fcfce9ea7/comments",
  "author": {
    "login": "hjl-tools",
    "id": 1072356,
    "node_id": "MDQ6VXNlcjEwNzIzNTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hjl-tools",
    "html_url": "https://github.com/hjl-tools",
    "followers_url": "https://api.github.com/users/hjl-tools/followers",
    "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}",
    "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions",
    "organizations_url": "https://api.github.com/users/hjl-tools/orgs",
    "repos_url": "https://api.github.com/users/hjl-tools/repos",
    "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hjl-tools/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "hjl-tools",
    "id": 1072356,
    "node_id": "MDQ6VXNlcjEwNzIzNTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hjl-tools",
    "html_url": "https://github.com/hjl-tools",
    "followers_url": "https://api.github.com/users/hjl-tools/followers",
    "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}",
    "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions",
    "organizations_url": "https://api.github.com/users/hjl-tools/orgs",
    "repos_url": "https://api.github.com/users/hjl-tools/repos",
    "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hjl-tools/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "56c1b507aa8bd8029f63bc78275fab1d815966f5",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/56c1b507aa8bd8029f63bc78275fab1d815966f5",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/56c1b507aa8bd8029f63bc78275fab1d815966f5"
    }
  ],
  "stats": {
    "total": 42,
    "additions": 28,
    "deletions": 14
  },
  "files": [
    {
      "sha": "2336fb57e15e3d7dae1fc7cc41b11e2b18b94240",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/04c662e2b66bedd050f97adec19afe0fcfce9ea7/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/04c662e2b66bedd050f97adec19afe0fcfce9ea7/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=04c662e2b66bedd050f97adec19afe0fcfce9ea7",
      "patch": "@@ -1,3 +1,11 @@\n+2020-07-15  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\tPR gas/26237\n+\t* testsuite/gas/i386/evex-no-scale-64.d: Updated.\n+\t* testsuite/gas/i386/addr32.d: Likewise.\n+\t* testsuite/gas/i386/x86-64-addr32-intel.d: Likewise.\n+\t* testsuite/gas/i386/x86-64-addr32.d: Likewise.\n+\n 2020-07-15  Nick Clifton  <nickc@redhat.com>\n \n \t* write.c (create_note_reloc): Add desc2_size parameter.  Zero out"
    },
    {
      "sha": "6c9f68faf234af5bd43e8236feb348389f85e98e",
      "filename": "gas/testsuite/gas/i386/evex-no-scale-64.d",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/04c662e2b66bedd050f97adec19afe0fcfce9ea7/gas/testsuite/gas/i386/evex-no-scale-64.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/04c662e2b66bedd050f97adec19afe0fcfce9ea7/gas/testsuite/gas/i386/evex-no-scale-64.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/evex-no-scale-64.d?ref=04c662e2b66bedd050f97adec19afe0fcfce9ea7",
      "patch": "@@ -10,5 +10,5 @@ Disassembly of section .text:\n  +[a-f0-9]+:\t62 f1 7c 48 28 04 05 40 00 00 00 \tvmovaps 0x40\\(,%rax,1\\),%zmm0\n  +[a-f0-9]+:\t62 f1 7c 48 28 04 25 40 00 00 00 \tvmovaps 0x40,%zmm0\n  +[a-f0-9]+:\t67 62 f1 7c 48 28 04 05 40 00 00 00 \tvmovaps 0x40\\(,%eax,1\\),%zmm0\n- +[a-f0-9]+:\t67 62 f1 7c 48 28 04 25 40 00 00 00 \tvmovaps 0x40\\(,%eiz,1\\),%zmm0\n+ +[a-f0-9]+:\t67 62 f1 7c 48 28 04 25 40 00 00 00 \tvmovaps 0x40,%zmm0\n  +[a-f0-9]+:\t62 f1 7c 48 28 04 25 40 00 00 00 \tvmovaps 0x40,%zmm0"
    },
    {
      "sha": "7a25d40162c3a332458482822a10573713171cc3",
      "filename": "gas/testsuite/gas/i386/x86-64-addr32-intel.d",
      "status": "modified",
      "additions": 6,
      "deletions": 6,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/04c662e2b66bedd050f97adec19afe0fcfce9ea7/gas/testsuite/gas/i386/x86-64-addr32-intel.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/04c662e2b66bedd050f97adec19afe0fcfce9ea7/gas/testsuite/gas/i386/x86-64-addr32-intel.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/x86-64-addr32-intel.d?ref=04c662e2b66bedd050f97adec19afe0fcfce9ea7",
      "patch": "@@ -11,25 +11,25 @@ Disassembly of section .text:\n [ \t]*[a-f0-9]+:\t67 48 8d 80 00 00 00 00[ \t]+lea[ \t]+rax,\\[eax\\+0x0\\].*\n [ \t]*[a-f0-9]+:\t67 49 8d 80 00 00 00 00[ \t]+lea[ \t]+rax,\\[r8d\\+0x0\\].*\n [ \t]*[a-f0-9]+:\t67 48 8d 05 00 00 00 00[ \t]+lea[ \t]+rax,\\[eip\\+0x0\\].*\n-[ \t]*[a-f0-9]+:\t67 48 8d 04 25 00 00 00 00 \tlea[ ]+rax,\\[eiz\\*1\\+0x0\\].*\n+[ \t]*[a-f0-9]+:\t67 48 8d 04 25 00 00 00 00 \tlea[ ]+rax,ds:0x0\t.*\n [ \t]*[a-f0-9]+:\t67 a0 98 08 60 00    \taddr32 mov al,ds:0x600898\n [ \t]*[a-f0-9]+:\t67 66 a1 98 08 60 00 \taddr32 mov ax,ds:0x600898\n [ \t]*[a-f0-9]+:\t67 a1 98 08 60 00    \taddr32 mov eax,ds:0x600898\n [ \t]*[a-f0-9]+:\t67 48 a1 98 08 60 00 \taddr32 mov rax,ds:0x600898\n [ \t]*[a-f0-9]+:\t67 48 a1 98 08 80 00 \taddr32 mov rax,ds:0x800898\n-[ \t]*[a-f0-9]+:\t67 48 8b 1c 25 98 08 80 00 \tmov[ ]+rbx,QWORD PTR \\[eiz\\*1\\+0x800898\\]\n+[ \t]*[a-f0-9]+:\t67 48 8b 1c 25 98 08 80 00 \tmov[ ]+rbx,QWORD PTR ds:0x800898\n [ \t]*[a-f0-9]+:\t67 48 a1 ef cd ab 89 \taddr32 mov rax,ds:0x89abcdef\n-[ \t]*[a-f0-9]+:\t67 48 8b 1c 25 ef cd ab 89 \tmov[ ]+rbx,QWORD PTR \\[eiz\\*1\\+0x89abcdef\\]\n+[ \t]*[a-f0-9]+:\t67 48 8b 1c 25 ef cd ab 89 \tmov[ ]+rbx,QWORD PTR ds:0x89abcdef\n [ \t]*[a-f0-9]+:\t67 48 b8 ef cd ab 89 00 00 00 00 \taddr32 movabs rax,0x89abcdef\n [ \t]*[a-f0-9]+:\t67 48 bb ef cd ab 89 00 00 00 00 \taddr32 movabs rbx,0x89abcdef\n [ \t]*[a-f0-9]+:\t67 a2 98 08 60 00    \taddr32 mov ds:0x600898,al\n [ \t]*[a-f0-9]+:\t67 66 a3 98 08 60 00 \taddr32 mov ds:0x600898,ax\n [ \t]*[a-f0-9]+:\t67 a3 98 08 60 00    \taddr32 mov ds:0x600898,eax\n [ \t]*[a-f0-9]+:\t67 48 a3 98 08 60 00 \taddr32 mov ds:0x600898,rax\n [ \t]*[a-f0-9]+:\t67 48 a3 98 08 80 00 \taddr32 mov ds:0x800898,rax\n-[ \t]*[a-f0-9]+:\t67 48 89 1c 25 98 08 80 00 \tmov[ ]+QWORD PTR \\[eiz\\*1\\+0x800898\\],rbx\n+[ \t]*[a-f0-9]+:\t67 48 89 1c 25 98 08 80 00 \tmov[ ]+QWORD PTR ds:0x800898,rbx\n [ \t]*[a-f0-9]+:\t67 48 a3 ef cd ab 89 \taddr32 mov ds:0x89abcdef,rax\n-[ \t]*[a-f0-9]+:\t67 48 89 1c 25 ef cd ab 89 \tmov[ ]+QWORD PTR \\[eiz\\*1\\+0x89abcdef\\],rbx\n-[ \t]*[a-f0-9]+:\t67 89 04 25 11 22 33 ff \tmov[ ]+DWORD PTR \\[eiz\\*1\\+0xff332211\\],eax\n+[ \t]*[a-f0-9]+:\t67 48 89 1c 25 ef cd ab 89 \tmov[ ]+QWORD PTR ds:0x89abcdef,rbx\n+[ \t]*[a-f0-9]+:\t67 89 04 25 11 22 33 ff \tmov[ ]+DWORD PTR ds:0xff332211,eax\n [ \t]*[a-f0-9]+:\t67 89 04 65 11 22 33 ff \tmov[ ]+DWORD PTR \\[eiz\\*2\\+0xff332211\\],eax\n #pass"
    },
    {
      "sha": "c513f0dd8e13b2788bbaa360175d336a6476322b",
      "filename": "gas/testsuite/gas/i386/x86-64-addr32.d",
      "status": "modified",
      "additions": 6,
      "deletions": 6,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/04c662e2b66bedd050f97adec19afe0fcfce9ea7/gas/testsuite/gas/i386/x86-64-addr32.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/04c662e2b66bedd050f97adec19afe0fcfce9ea7/gas/testsuite/gas/i386/x86-64-addr32.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/i386/x86-64-addr32.d?ref=04c662e2b66bedd050f97adec19afe0fcfce9ea7",
      "patch": "@@ -10,25 +10,25 @@ Disassembly of section .text:\n [ \t]*[a-f0-9]+:\t67 48 8d 80 00 00 00 00[ \t]+lea[ \t]+0x0\\(%eax\\),%rax.*\n [ \t]*[a-f0-9]+:\t67 49 8d 80 00 00 00 00[ \t]+lea[ \t]+0x0\\(%r8d\\),%rax.*\n [ \t]*[a-f0-9]+:\t67 48 8d 05 00 00 00 00[ \t]+lea[ \t]+0x0\\(%eip\\),%rax.*\n-[ \t]*[a-f0-9]+:\t67 48 8d 04 25 00 00 00 00[ \t]+lea[ ]+0x0\\(,%eiz,1\\),%rax.*\n+[ \t]*[a-f0-9]+:\t67 48 8d 04 25 00 00 00 00[ \t]+lea[ ]+0x0,%rax.*\n [ \t]*[a-f0-9]+:\t67 a0 98 08 60 00    \taddr32 mov 0x600898,%al\n [ \t]*[a-f0-9]+:\t67 66 a1 98 08 60 00 \taddr32 mov 0x600898,%ax\n [ \t]*[a-f0-9]+:\t67 a1 98 08 60 00    \taddr32 mov 0x600898,%eax\n [ \t]*[a-f0-9]+:\t67 48 a1 98 08 60 00 \taddr32 mov 0x600898,%rax\n [ \t]*[a-f0-9]+:\t67 48 a1 98 08 80 00 \taddr32 mov 0x800898,%rax\n-[ \t]*[a-f0-9]+:\t67 48 8b 1c 25 98 08 80 00 \tmov[ ]+0x800898\\(,%eiz,1\\),%rbx\n+[ \t]*[a-f0-9]+:\t67 48 8b 1c 25 98 08 80 00 \tmov[ ]+0x800898,%rbx\n [ \t]*[a-f0-9]+:\t67 48 a1 ef cd ab 89 \taddr32 mov 0x89abcdef,%rax\n-[ \t]*[a-f0-9]+:\t67 48 8b 1c 25 ef cd ab 89 \tmov[ ]+0x89abcdef\\(,%eiz,1\\),%rbx\n+[ \t]*[a-f0-9]+:\t67 48 8b 1c 25 ef cd ab 89 \tmov[ ]+0x89abcdef,%rbx\n [ \t]*[a-f0-9]+:\t67 48 b8 ef cd ab 89 00 00 00 00 \taddr32 movabs \\$0x89abcdef,%rax\n [ \t]*[a-f0-9]+:\t67 48 bb ef cd ab 89 00 00 00 00 \taddr32 movabs \\$0x89abcdef,%rbx\n [ \t]*[a-f0-9]+:\t67 a2 98 08 60 00    \taddr32 mov %al,0x600898\n [ \t]*[a-f0-9]+:\t67 66 a3 98 08 60 00 \taddr32 mov %ax,0x600898\n [ \t]*[a-f0-9]+:\t67 a3 98 08 60 00    \taddr32 mov %eax,0x600898\n [ \t]*[a-f0-9]+:\t67 48 a3 98 08 60 00 \taddr32 mov %rax,0x600898\n [ \t]*[a-f0-9]+:\t67 48 a3 98 08 80 00 \taddr32 mov %rax,0x800898\n-[ \t]*[a-f0-9]+:\t67 48 89 1c 25 98 08 80 00 \tmov[ ]+%rbx,0x800898\\(,%eiz,1\\)\n+[ \t]*[a-f0-9]+:\t67 48 89 1c 25 98 08 80 00 \tmov[ ]+%rbx,0x800898\n [ \t]*[a-f0-9]+:\t67 48 a3 ef cd ab 89 \taddr32 mov %rax,0x89abcdef\n-[ \t]*[a-f0-9]+:\t67 48 89 1c 25 ef cd ab 89 \tmov[ ]+%rbx,0x89abcdef\\(,%eiz,1\\)\n-[ \t]*[a-f0-9]+:\t67 89 04 25 11 22 33 ff \tmov[ ]+%eax,0xff332211\\(,%eiz,1\\)\n+[ \t]*[a-f0-9]+:\t67 48 89 1c 25 ef cd ab 89 \tmov[ ]+%rbx,0x89abcdef\n+[ \t]*[a-f0-9]+:\t67 89 04 25 11 22 33 ff \tmov[ ]+%eax,0xff332211\n [ \t]*[a-f0-9]+:\t67 89 04 65 11 22 33 ff \tmov[ ]+%eax,0xff332211\\(,%eiz,2\\)\n #pass"
    },
    {
      "sha": "91d7f5b67455358e0b898cb7e43f6f9a33748c39",
      "filename": "opcodes/ChangeLog",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/04c662e2b66bedd050f97adec19afe0fcfce9ea7/opcodes/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/04c662e2b66bedd050f97adec19afe0fcfce9ea7/opcodes/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/ChangeLog?ref=04c662e2b66bedd050f97adec19afe0fcfce9ea7",
      "patch": "@@ -1,3 +1,9 @@\n+2020-07-15  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\tPR gas/26237\n+\t* i386-dis.c (OP_E_memory): Don't display eiz with no scale\n+\twithout base nor index registers.\n+\n 2020-07-15  Jan Beulich  <jbeulich@suse.com>\n \n \t* i386-dis.c (putop): Move 'V' and 'W' handling."
    },
    {
      "sha": "d1d7a7d94d489ae6f18b4a4be01a9855d7e69d6a",
      "filename": "opcodes/i386-dis.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/04c662e2b66bedd050f97adec19afe0fcfce9ea7/opcodes/i386-dis.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/04c662e2b66bedd050f97adec19afe0fcfce9ea7/opcodes/i386-dis.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/opcodes/i386-dis.c?ref=04c662e2b66bedd050f97adec19afe0fcfce9ea7",
      "patch": "@@ -11818,7 +11818,7 @@ OP_E_memory (int bytemode, int sizeflag)\n \t\t  /* Without base nor index registers, zero-extend the\n \t\t     lower 32-bit displacement to 64 bits.  */\n \t\t  disp = (unsigned int) disp;\n-\t\t  needindex = 1;\n+\t\t  needindex = scale;\n \t\t}\n \t      needaddr32 = 1;\n \t    }"
    }
  ]
}