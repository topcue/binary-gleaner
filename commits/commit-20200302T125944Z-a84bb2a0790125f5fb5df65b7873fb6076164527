{
  "sha": "a84bb2a0790125f5fb5df65b7873fb6076164527",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YTg0YmIyYTA3OTAxMjVmNWZiNWRmNjViNzg3M2ZiNjA3NjE2NDUyNw==",
  "commit": {
    "author": {
      "name": "Jon Turney",
      "email": "jon.turney@dronecode.org.uk",
      "date": "2020-02-29T13:33:35Z"
    },
    "committer": {
      "name": "Jon Turney",
      "email": "jon.turney@dronecode.org.uk",
      "date": "2020-03-02T12:59:44Z"
    },
    "message": "gdb: Move defs.h before any system header in debuginfod-support.c\n\n* defs.h includes config.h\n* config.h may define _GNU_SOURCE\n* if _GNU_SOURCE is defined, that must be before including any system\nheader (see feature_test_macro(7))\n\nThis is necessary to ensure that a prototype for mkostemp() is brought\ninto scope by <stdlib.h> when compiling filestuff.h, on platforms where\n_GNU_SOURCE isn't unconditionally defined for C++.\n\nIn file included from ../../gdb/../gdbsupport/scoped_fd.h:24,\n                 from ../../gdb/debuginfod-support.c:22:\n../../gdb/../gdbsupport/filestuff.h: In function \u2018int gdb_mkostemp_cloexec(char*, int)\u2019:\n../../gdb/../gdbsupport/filestuff.h:59:10: error: \u2018mkostemp\u2019 was not declared in this scope; did you mean \u2018mkstemp\u2019?\n\ngdb/ChangeLog:\n\n2020-02-29  Jon Turney  <jon.turney@dronecode.org.uk>\n\n\t* debuginfod-support.c: Include defs.h first.",
    "tree": {
      "sha": "03dbd55f0572137ee8ab7c22485bd240adf208a9",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/03dbd55f0572137ee8ab7c22485bd240adf208a9"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/a84bb2a0790125f5fb5df65b7873fb6076164527",
    "comment_count": 0,
    "verification": {
      "verified": true,
      "reason": "valid",
      "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIcBAABAgAGBQJeXQNIAAoJEMfIbwNwKFyBpX8P/08kgVGAPnAizB3R3Lexok/K\nCQgQW5T/1m8qe53kQFgQ5blOC6UFEII8DulH3ErMFAkS2j/K9cCoFEJKyVEpib4u\nkcRBARGnELdsSPFRsbBUFygYDtlr3bF4V6P4WfJuWWtRyMh9PA7fsLAUP5fKP3cF\nBWpa57WRwNkuAlz3ETiWu6gcoYDeL1lD27AtthbVllNQ0mnYLM/Tf97bmXKCp/up\nGt64yXzLl1TeiWikHJPq2umzjwf3rnwg0B4MXIffjjifhp3UFVZW6jP7h37ibcEm\nMXdHwzKUVzZUn87twCWigX1TWrnM972xgVdcCQzfrTK69KnzvrkneTBxPrKa1ARU\n9qSlUjWDqPVw6664w8Zc88uLsSJFK+WIv5Wo4MmEj69MJPi6/Q0D1NqPm/mslPwI\ntNFu0015uNONr3guDenVTOFl8qIldT5d3mrE3TdPtmO8iAStCvCsOSQrMlJPdOfB\nxoueMl3U6xmVzos166PAhXVPH+M8FPZiulo3uQ+vYHx8LaJXt1INp1NMIf/ehmpN\nsvGt/1PxN6b5+OFlRAm0zC4HWHHkWHvm3LxHPLb4O6YTcyvYNJ5wrUl1sbufj1ap\nDykQcCldt0haviwKzVsiEr1qsf1x+i/RArvzFBUOfSQW76+UB4O7JQJW2Lj8AyoY\n3npesdz5Bki/mhKovpJz\n=Z9zZ\n-----END PGP SIGNATURE-----",
      "payload": "tree 03dbd55f0572137ee8ab7c22485bd240adf208a9\nparent b312fea191f0118c2438198f5069d25b0b527178\nauthor Jon Turney <jon.turney@dronecode.org.uk> 1582983215 +0000\ncommitter Jon Turney <jon.turney@dronecode.org.uk> 1583153984 +0000\n\ngdb: Move defs.h before any system header in debuginfod-support.c\n\n* defs.h includes config.h\n* config.h may define _GNU_SOURCE\n* if _GNU_SOURCE is defined, that must be before including any system\nheader (see feature_test_macro(7))\n\nThis is necessary to ensure that a prototype for mkostemp() is brought\ninto scope by <stdlib.h> when compiling filestuff.h, on platforms where\n_GNU_SOURCE isn't unconditionally defined for C++.\n\nIn file included from ../../gdb/../gdbsupport/scoped_fd.h:24,\n                 from ../../gdb/debuginfod-support.c:22:\n../../gdb/../gdbsupport/filestuff.h: In function \u2018int gdb_mkostemp_cloexec(char*, int)\u2019:\n../../gdb/../gdbsupport/filestuff.h:59:10: error: \u2018mkostemp\u2019 was not declared in this scope; did you mean \u2018mkstemp\u2019?\n\ngdb/ChangeLog:\n\n2020-02-29  Jon Turney  <jon.turney@dronecode.org.uk>\n\n\t* debuginfod-support.c: Include defs.h first.\n"
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/a84bb2a0790125f5fb5df65b7873fb6076164527",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/a84bb2a0790125f5fb5df65b7873fb6076164527",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/a84bb2a0790125f5fb5df65b7873fb6076164527/comments",
  "author": {
    "login": "jon-turney",
    "id": 3497232,
    "node_id": "MDQ6VXNlcjM0OTcyMzI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3497232?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jon-turney",
    "html_url": "https://github.com/jon-turney",
    "followers_url": "https://api.github.com/users/jon-turney/followers",
    "following_url": "https://api.github.com/users/jon-turney/following{/other_user}",
    "gists_url": "https://api.github.com/users/jon-turney/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jon-turney/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jon-turney/subscriptions",
    "organizations_url": "https://api.github.com/users/jon-turney/orgs",
    "repos_url": "https://api.github.com/users/jon-turney/repos",
    "events_url": "https://api.github.com/users/jon-turney/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jon-turney/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "jon-turney",
    "id": 3497232,
    "node_id": "MDQ6VXNlcjM0OTcyMzI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3497232?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jon-turney",
    "html_url": "https://github.com/jon-turney",
    "followers_url": "https://api.github.com/users/jon-turney/followers",
    "following_url": "https://api.github.com/users/jon-turney/following{/other_user}",
    "gists_url": "https://api.github.com/users/jon-turney/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jon-turney/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jon-turney/subscriptions",
    "organizations_url": "https://api.github.com/users/jon-turney/orgs",
    "repos_url": "https://api.github.com/users/jon-turney/repos",
    "events_url": "https://api.github.com/users/jon-turney/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jon-turney/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "b312fea191f0118c2438198f5069d25b0b527178",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/b312fea191f0118c2438198f5069d25b0b527178",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/b312fea191f0118c2438198f5069d25b0b527178"
    }
  ],
  "stats": {
    "total": 6,
    "additions": 5,
    "deletions": 1
  },
  "files": [
    {
      "sha": "591ef40286361cd79f8c7ee9817fc37b15524aa2",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a84bb2a0790125f5fb5df65b7873fb6076164527/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a84bb2a0790125f5fb5df65b7873fb6076164527/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=a84bb2a0790125f5fb5df65b7873fb6076164527",
      "patch": "@@ -1,3 +1,7 @@\n+2020-02-29  Jon Turney  <jon.turney@dronecode.org.uk>\n+\n+\t* debuginfod-support.c: Include defs.h first.\n+\n 2020-02-28  Tom de Vries  <tdevries@suse.de>\n \n \t* symfile.c (set_initial_language): Use default language for lookup."
    },
    {
      "sha": "f4a227b0403b1cb95e14f4de783705fd3862c0e9",
      "filename": "gdb/debuginfod-support.c",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/a84bb2a0790125f5fb5df65b7873fb6076164527/gdb/debuginfod-support.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/a84bb2a0790125f5fb5df65b7873fb6076164527/gdb/debuginfod-support.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/debuginfod-support.c?ref=a84bb2a0790125f5fb5df65b7873fb6076164527",
      "patch": "@@ -16,8 +16,8 @@\n    You should have received a copy of the GNU General Public License\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.  */\n \n-#include <errno.h>\n #include \"defs.h\"\n+#include <errno.h>\n #include \"cli/cli-style.h\"\n #include \"gdbsupport/scoped_fd.h\"\n #include \"debuginfod-support.h\""
    }
  ]
}