{
  "sha": "1c912705af057b0d30ea51af46d8a00014a84034",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6MWM5MTI3MDVhZjA1N2IwZDMwZWE1MWFmNDZkOGEwMDAxNGE4NDAzNA==",
  "commit": {
    "author": {
      "name": "Stephen Casner",
      "email": "casner@acm.org",
      "date": "2020-05-28T01:40:38Z"
    },
    "committer": {
      "name": "Stephen Casner",
      "email": "casner@acm.org",
      "date": "2020-05-28T01:40:38Z"
    },
    "message": "Fix PR gas/26001 (pdp11-*-*)\n\nPR gas/26001\n* gas/config/tc-pdp11.c (parse_reg): Distinguish register names from\nsymbols that begin with a register name.\n* gas/testsuite/gas/pdp11/pdp11.exp: Add test of such symbols.\n* gas/testsuite/gas/pdp11/pr26001.s: Likewise.\n* gas/testsuite/gas/pdp11/pr26001.d: Likewise.",
    "tree": {
      "sha": "c1ee20550f9f18c06ad31ae480c4440d76c3510f",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/c1ee20550f9f18c06ad31ae480c4440d76c3510f"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/1c912705af057b0d30ea51af46d8a00014a84034",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/1c912705af057b0d30ea51af46d8a00014a84034",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/1c912705af057b0d30ea51af46d8a00014a84034",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/1c912705af057b0d30ea51af46d8a00014a84034/comments",
  "author": {
    "login": "slcasner",
    "id": 5100408,
    "node_id": "MDQ6VXNlcjUxMDA0MDg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5100408?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/slcasner",
    "html_url": "https://github.com/slcasner",
    "followers_url": "https://api.github.com/users/slcasner/followers",
    "following_url": "https://api.github.com/users/slcasner/following{/other_user}",
    "gists_url": "https://api.github.com/users/slcasner/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/slcasner/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/slcasner/subscriptions",
    "organizations_url": "https://api.github.com/users/slcasner/orgs",
    "repos_url": "https://api.github.com/users/slcasner/repos",
    "events_url": "https://api.github.com/users/slcasner/events{/privacy}",
    "received_events_url": "https://api.github.com/users/slcasner/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "slcasner",
    "id": 5100408,
    "node_id": "MDQ6VXNlcjUxMDA0MDg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5100408?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/slcasner",
    "html_url": "https://github.com/slcasner",
    "followers_url": "https://api.github.com/users/slcasner/followers",
    "following_url": "https://api.github.com/users/slcasner/following{/other_user}",
    "gists_url": "https://api.github.com/users/slcasner/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/slcasner/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/slcasner/subscriptions",
    "organizations_url": "https://api.github.com/users/slcasner/orgs",
    "repos_url": "https://api.github.com/users/slcasner/repos",
    "events_url": "https://api.github.com/users/slcasner/events{/privacy}",
    "received_events_url": "https://api.github.com/users/slcasner/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "92eb6ed1779e5bb675d99b2be472021ac0703656",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/92eb6ed1779e5bb675d99b2be472021ac0703656",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/92eb6ed1779e5bb675d99b2be472021ac0703656"
    }
  ],
  "stats": {
    "total": 42,
    "additions": 41,
    "deletions": 1
  },
  "files": [
    {
      "sha": "c0b3dc88036a31c6105b9529254dd7f121380d04",
      "filename": "gas/ChangeLog",
      "status": "modified",
      "additions": 9,
      "deletions": 0,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/1c912705af057b0d30ea51af46d8a00014a84034/gas/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/1c912705af057b0d30ea51af46d8a00014a84034/gas/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/ChangeLog?ref=1c912705af057b0d30ea51af46d8a00014a84034",
      "patch": "@@ -1,3 +1,12 @@\n+2020-05-27  Stephen Casner  <casner@acm.org>\n+\n+\tPR gas/26001\n+\t* config/tc-pdp11.c (parse_reg): Distinguish register names from\n+\tsymbols that begin with a register name.\n+\t* testsuite/gas/pdp11/pdp11.exp: Add test of such symbols.\n+\t* testsuite/gas/pdp11/pr26001.s: Likewise.\n+\t* testsuite/gas/pdp11/pr26001.d: Likewise.\n+\n 2020-05-27  Simon Cook  <simon.cook@embecosm.com>\n \n         * config/tc-riscv.c (riscv_init_csr_hash): NULL initilize next"
    },
    {
      "sha": "57daa0f5097e31ccc61bb0a1d9d74e6e6ca3888f",
      "filename": "gas/config/tc-pdp11.c",
      "status": "modified",
      "additions": 10,
      "deletions": 1,
      "changes": 11,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/1c912705af057b0d30ea51af46d8a00014a84034/gas/config/tc-pdp11.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/1c912705af057b0d30ea51af46d8a00014a84034/gas/config/tc-pdp11.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/config/tc-pdp11.c?ref=1c912705af057b0d30ea51af46d8a00014a84034",
      "patch": "@@ -358,8 +358,17 @@ parse_reg (char *str, struct pdp11_code *operand)\n       str += 2;\n     }\n   else\n-    operand->error = _(\"Bad register name\");\n+    {\n+      operand->error = _(\"Bad register name\");\n+      return str;\n+    }\n \n+  if (ISALNUM (*str) || *str == '_' || *str == '.')\n+    {\n+      operand->error = _(\"Bad register name\");\n+      str -= 2;\n+    }\n+  \n   return str;\n }\n "
    },
    {
      "sha": "65c6a052b1af7681e9cd05d1d296b69788dfab36",
      "filename": "gas/testsuite/gas/pdp11/pdp11.exp",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/1c912705af057b0d30ea51af46d8a00014a84034/gas/testsuite/gas/pdp11/pdp11.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/1c912705af057b0d30ea51af46d8a00014a84034/gas/testsuite/gas/pdp11/pdp11.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/pdp11/pdp11.exp?ref=1c912705af057b0d30ea51af46d8a00014a84034",
      "patch": "@@ -23,4 +23,5 @@ if [expr [istarget \"pdp11-*-*\"]]  then {\n     run_dump_test \"absreloc\"\n     run_dump_test \"pr14480\"\n     run_dump_test \"pr23481\"\n+    run_dump_test \"pr26001\"\n }"
    },
    {
      "sha": "a6ccdef47bd6615dbf70f73e0e5ae52a035c9ddc",
      "filename": "gas/testsuite/gas/pdp11/pr26001.d",
      "status": "added",
      "additions": 12,
      "deletions": 0,
      "changes": 12,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/1c912705af057b0d30ea51af46d8a00014a84034/gas/testsuite/gas/pdp11/pr26001.d",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/1c912705af057b0d30ea51af46d8a00014a84034/gas/testsuite/gas/pdp11/pr26001.d",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/pdp11/pr26001.d?ref=1c912705af057b0d30ea51af46d8a00014a84034",
      "patch": "@@ -0,0 +1,12 @@\n+#name: PR 26001 - distinguish register names from symbols\n+#objdump: -dw\n+\n+.*: +file format .*\n+\n+Disassembly of section .text:\n+\n+0+00 <start>:\n+[ \t]+0:[ \t]+09f7 fffc[ \t]+jsr[ \t]+pc, 0 <start>\n+[ \t]+4:[ \t]+1037 0004[ \t]+mov[ \t]+r0, \\$c <space>\n+[ \t]+8:[ \t]+1dc1 0002[ \t]+mov[ \t]+\\$e <r00f>, r1\n+#pass"
    },
    {
      "sha": "44faa14595a89297ecd112ca767c971038227632",
      "filename": "gas/testsuite/gas/pdp11/pr26001.s",
      "status": "added",
      "additions": 9,
      "deletions": 0,
      "changes": 9,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/1c912705af057b0d30ea51af46d8a00014a84034/gas/testsuite/gas/pdp11/pr26001.s",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/1c912705af057b0d30ea51af46d8a00014a84034/gas/testsuite/gas/pdp11/pr26001.s",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gas/testsuite/gas/pdp11/pr26001.s?ref=1c912705af057b0d30ea51af46d8a00014a84034",
      "patch": "@@ -0,0 +1,9 @@\n+\t.text\n+\t.globl\tsprintf\n+start:\tjsr\tpc,sprintf\n+\tmov\tr0,space\n+\tmov\tr00f,r1\n+\t.data\n+space:\t.word\t0\n+r00f:\t.word\t0\n+\t.end"
    }
  ]
}