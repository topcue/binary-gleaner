{
  "sha": "b31ff1f79b561e29249d738fa9f076e58495035f",
  "node_id": "C_kwDOANOeidoAKGIzMWZmMWY3OWI1NjFlMjkyNDlkNzM4ZmE5ZjA3NmU1ODQ5NTAzNWY",
  "commit": {
    "author": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-11-17T00:40:00Z"
    },
    "committer": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-11-17T01:06:44Z"
    },
    "message": "sim: cris: drop custom \"dynamic\" test field\n\nThis tag is used to force tests to be built dynamically (i.e. without\n-static linking).  This is because cris-sim.exp in dejagnu turns on\nstatic linking in ldflags.\n\nThe default configs and runtest flags shouldn't load these boards.\nIf these settings are still needed, we should figure out a different\nway of suppressing the stock settings wholesale.  We want these to\nall pass out of the box with little to no configuration so that they\ncan run in a multitarget build.\n\nWith dropping \"dynamic\", it'll be easier to merge the custom cris\ntest logic with the common sim test logic.",
    "tree": {
      "sha": "1d957407642be793a8b8d1fdda03f25718fe34ee",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/1d957407642be793a8b8d1fdda03f25718fe34ee"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/b31ff1f79b561e29249d738fa9f076e58495035f",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/b31ff1f79b561e29249d738fa9f076e58495035f",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/b31ff1f79b561e29249d738fa9f076e58495035f",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/b31ff1f79b561e29249d738fa9f076e58495035f/comments",
  "author": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "5ec501b5749c1df79b749a7fd885760dc734b31c",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/5ec501b5749c1df79b749a7fd885760dc734b31c",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/5ec501b5749c1df79b749a7fd885760dc734b31c"
    }
  ],
  "stats": {
    "total": 17,
    "additions": 0,
    "deletions": 17
  },
  "files": [
    {
      "sha": "70414b536d23242ba9f45415c54327422ad5b148",
      "filename": "sim/testsuite/cris/c/badldso1.c",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b31ff1f79b561e29249d738fa9f076e58495035f/sim/testsuite/cris/c/badldso1.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b31ff1f79b561e29249d738fa9f076e58495035f/sim/testsuite/cris/c/badldso1.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/cris/c/badldso1.c?ref=b31ff1f79b561e29249d738fa9f076e58495035f",
      "patch": "@@ -1,6 +1,5 @@\n /*\n #notarget: cris*-*-elf\n-#dynamic:\n #xerror:\n #output: *: could not load ELF interpreter `*' for program `*'\\n\n  */"
    },
    {
      "sha": "92efc138c565d9b561030ded21637adb406b76ae",
      "filename": "sim/testsuite/cris/c/badldso2.c",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b31ff1f79b561e29249d738fa9f076e58495035f/sim/testsuite/cris/c/badldso2.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b31ff1f79b561e29249d738fa9f076e58495035f/sim/testsuite/cris/c/badldso2.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/cris/c/badldso2.c?ref=b31ff1f79b561e29249d738fa9f076e58495035f",
      "patch": "@@ -1,6 +1,5 @@\n /*\n #notarget: cris*-*-elf\n-#dynamic:\n #xerror:\n #cc: additional_flags=-Wl,-dynamic-linker,/dev/null\n #output: *: could not load ELF interpreter `*' for program `*'\\n"
    },
    {
      "sha": "9ff6d9a76135a8695cb2e991e24e41779a1faca0",
      "filename": "sim/testsuite/cris/c/badldso3.c",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b31ff1f79b561e29249d738fa9f076e58495035f/sim/testsuite/cris/c/badldso3.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b31ff1f79b561e29249d738fa9f076e58495035f/sim/testsuite/cris/c/badldso3.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/cris/c/badldso3.c?ref=b31ff1f79b561e29249d738fa9f076e58495035f",
      "patch": "@@ -1,6 +1,5 @@\n /*\n #notarget: cris*-*-elf\n-#dynamic:\n #xerror:\n #cc: additional_flags=-Wl,-dynamic-linker,/compilercheck.x\n #sim: --sysroot=@exedir@"
    },
    {
      "sha": "8f39b097a0a928eb42e434eecdc379bd62e12ef1",
      "filename": "sim/testsuite/cris/c/c.exp",
      "status": "modified",
      "additions": 0,
      "deletions": 11,
      "changes": 11,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b31ff1f79b561e29249d738fa9f076e58495035f/sim/testsuite/cris/c/c.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b31ff1f79b561e29249d738fa9f076e58495035f/sim/testsuite/cris/c/c.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/cris/c/c.exp?ref=b31ff1f79b561e29249d738fa9f076e58495035f",
      "patch": "@@ -105,7 +105,6 @@ foreach src [lsort [glob -nocomplain $srcdir/$subdir/*.c]] {\n     set opts(xfail) \"\"\n     set opts(target) \"\"\n     set opts(notarget) \"\"\n-    set opts(dynamic) \"\"\n \n     # Clear any machine specific options specified in a previous test case\n     if [info exists opts(sim,$mach)] {\n@@ -142,16 +141,6 @@ foreach src [lsort [glob -nocomplain $srcdir/$subdir/*.c]] {\n \t    }\n \t}\n \n-\tif { $opt_name == \"dynamic\" \\\n-\t\t && [info exists board_info([target_info name],ldflags)] } {\n-\t    # Weed out -static from ldflags, but keep the original in\n-\t    # $orig_ldflags.\n-\t    set orig_ldflags $board_info([target_info name],ldflags)\n-\t    set ldflags \" $orig_ldflags \"\n-\t    regsub -all \" -static \" $ldflags \" \" ldflags\n-\t    set board_info([target_info name],ldflags) $ldflags\n-\t}\n-\n \tforeach m $opt_machs {\n \t    set opts($opt_name,$m) $opt_val\n \t}"
    },
    {
      "sha": "4a036cc48796ae874b2c36441da5b4568a5c0b93",
      "filename": "sim/testsuite/cris/c/hellodyn.c",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b31ff1f79b561e29249d738fa9f076e58495035f/sim/testsuite/cris/c/hellodyn.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b31ff1f79b561e29249d738fa9f076e58495035f/sim/testsuite/cris/c/hellodyn.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/cris/c/hellodyn.c?ref=b31ff1f79b561e29249d738fa9f076e58495035f",
      "patch": "@@ -1,5 +1,4 @@\n /*\n-#dynamic:\n #sim: --sysroot=@exedir@\n  */\n #include \"hello.c\""
    },
    {
      "sha": "2a94ea4824b4531e21043a0c39bf1350ed005d63",
      "filename": "sim/testsuite/cris/c/hellodyn2.c",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b31ff1f79b561e29249d738fa9f076e58495035f/sim/testsuite/cris/c/hellodyn2.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b31ff1f79b561e29249d738fa9f076e58495035f/sim/testsuite/cris/c/hellodyn2.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/cris/c/hellodyn2.c?ref=b31ff1f79b561e29249d738fa9f076e58495035f",
      "patch": "@@ -1,5 +1,4 @@\n /*\n-#dynamic:\n #sim: --sysroot=@exedir@ --load-vma\n  */\n #include \"hello.c\""
    },
    {
      "sha": "d21122f73ea91539974bc5de8521827ac9527da1",
      "filename": "sim/testsuite/cris/c/hellodyn3.c",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/b31ff1f79b561e29249d738fa9f076e58495035f/sim/testsuite/cris/c/hellodyn3.c",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/b31ff1f79b561e29249d738fa9f076e58495035f/sim/testsuite/cris/c/hellodyn3.c",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/cris/c/hellodyn3.c?ref=b31ff1f79b561e29249d738fa9f076e58495035f",
      "patch": "@@ -3,7 +3,6 @@\n    ld.so.cache (having no absolute path specified for the executable\n    falls back on loading through the same mechanisms as a DSO).\n #notarget: *-*-elf\n-#dynamic:\n #sim: --sysroot=@exedir@ @exedir@/lib/ld.so.1 --library-path /\n  */\n #include \"hello.c\""
    }
  ]
}