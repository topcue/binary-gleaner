{
  "sha": "bc4268a5d926c8f29e42d245322145dad131627f",
  "node_id": "MDY6Q29tbWl0MTM4Njg2ODE6YmM0MjY4YTVkOTI2YzhmMjllNDJkMjQ1MzIyMTQ1ZGFkMTMxNjI3Zg==",
  "commit": {
    "author": {
      "name": "Philippe Waroquiers",
      "email": "philippe.waroquiers@skynet.be",
      "date": "2019-05-04T21:48:36Z"
    },
    "committer": {
      "name": "Philippe Waroquiers",
      "email": "philippe.waroquiers@skynet.be",
      "date": "2019-07-29T19:43:08Z"
    },
    "message": "Document 'set print frame-info|frame-arguments presence'.\n\ngdb/ChangeLog\n2019-06-19  Philippe Waroquiers  <philippe.waroquiers@skynet.be>\n\n\t* NEWS: Mention 'set|show print frame-info'.  Mention new\n\t'presence' value for 'frame-arguments'.  Mention new '-frame-info'\n\tbacktrace argument.  Mention that python frame filtering code\n\tis now consistent with what 'backtrace' command prints.\n\ngdb/doc/ChangeLog\n2019-07-29  Philippe Waroquiers  <philippe.waroquiers@skynet.be>\n\n\t* gdb.texinfo (Backtrace): Document the new '-frame-info'\n\tbacktrace option.  Reference 'set print frame-info'.\n\t(Print Settings): Document 'set|show print frame-info'.\n\tDocument new 'presence' value for 'set print frame-arguments.",
    "tree": {
      "sha": "dd3627a17812bdd81ee25ac59c2e225e07af978b",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/dd3627a17812bdd81ee25ac59c2e225e07af978b"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/bc4268a5d926c8f29e42d245322145dad131627f",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/bc4268a5d926c8f29e42d245322145dad131627f",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/bc4268a5d926c8f29e42d245322145dad131627f",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/bc4268a5d926c8f29e42d245322145dad131627f/comments",
  "author": null,
  "committer": null,
  "parents": [
    {
      "sha": "c7e4c0a6482cebcf8b129d1008a2c553a0183aee",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/c7e4c0a6482cebcf8b129d1008a2c553a0183aee",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/c7e4c0a6482cebcf8b129d1008a2c553a0183aee"
    }
  ],
  "stats": {
    "total": 96,
    "additions": 93,
    "deletions": 3
  },
  "files": [
    {
      "sha": "dcc6a91b60b3bee8b0301c03fa86f42055cf8ac8",
      "filename": "gdb/ChangeLog",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/bc4268a5d926c8f29e42d245322145dad131627f/gdb/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/bc4268a5d926c8f29e42d245322145dad131627f/gdb/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/ChangeLog?ref=bc4268a5d926c8f29e42d245322145dad131627f",
      "patch": "@@ -1,3 +1,10 @@\n+2019-07-29  Philippe Waroquiers  <philippe.waroquiers@skynet.be>\n+\n+\t* NEWS: Mention 'set|show print frame-info'.  Mention new\n+\t'presence' value for 'frame-arguments'.  Mention new '-frame-info'\n+\tbacktrace argument.  Mention that python frame filtering code\n+\tis now consistent with what 'backtrace' command prints.\n+\n 2019-07-29  Philippe Waroquiers  <philippe.waroquiers@skynet.be>\n \n \t* frame.h (enum print_what): New value 'SHORT_LOCATION', update"
    },
    {
      "sha": "a08265cae7293f7026f54a0651971732e77969bd",
      "filename": "gdb/NEWS",
      "status": "modified",
      "additions": 19,
      "deletions": 0,
      "changes": 19,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/bc4268a5d926c8f29e42d245322145dad131627f/gdb/NEWS",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/bc4268a5d926c8f29e42d245322145dad131627f/gdb/NEWS",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/NEWS?ref=bc4268a5d926c8f29e42d245322145dad131627f",
      "patch": "@@ -36,6 +36,11 @@\n   ** gdb.Type has a new property 'objfile' which returns the objfile the\n      type was defined in.\n \n+  ** The frame information printed by the python frame filtering code\n+     is now consistent with what the 'backtrace' command prints when\n+     there are no filters, or when the 'backtrace' '-no-filters' option\n+     is given.\n+\n * New commands\n \n | [COMMAND] | SHELL_COMMAND\n@@ -104,6 +109,14 @@ maint show test-settings KIND\n   A set of commands used by the testsuite for exercising the settings\n   infrastructure.\n \n+set print frame-info [short-location|location|location-and-address\n+                        |source-and-location|source-line|auto]\n+show print frame-info\n+  This controls what frame information is printed by the commands printing\n+  a frame.  This setting will e.g. influence the behaviour of 'backtrace',\n+  'frame', 'stepi'.  The python frame filtering also respect this setting.\n+  The 'backtrace' '-frame-info' option can override this global setting.\n+\n * Changed commands\n \n help\n@@ -130,6 +143,10 @@ show style\n   a style name in their output using its own style, to help\n   the user visualize the different styles.\n \n+set print frame-arguments\n+  The new value 'presence' indicates to only indicate the presence of\n+  arguments using ..., instead of printing argument names and values.\n+\n set print raw-frame-arguments\n show print raw-frame-arguments\n \n@@ -184,6 +201,8 @@ maint show test-options-completion-result\n       -entry-values no|only|preferred|if-needed|both|compact|default\n       -frame-arguments all|scalars|none\n       -raw-frame-arguments [on|off]\n+      -frame-info auto|source-line|location|source-and-location\n+           |location-and-address|short-location\n       -past-main [on|off]\n       -past-entry [on|off]\n "
    },
    {
      "sha": "c409fe867b92d24658721199fdadd08aaeb88b2a",
      "filename": "gdb/doc/ChangeLog",
      "status": "modified",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/bc4268a5d926c8f29e42d245322145dad131627f/gdb/doc/ChangeLog",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/bc4268a5d926c8f29e42d245322145dad131627f/gdb/doc/ChangeLog",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/doc/ChangeLog?ref=bc4268a5d926c8f29e42d245322145dad131627f",
      "patch": "@@ -1,3 +1,10 @@\n+2019-07-29  Philippe Waroquiers  <philippe.waroquiers@skynet.be>\n+\n+\t* gdb.texinfo (Backtrace): Document the new '-frame-info'\n+\tbacktrace option.  Reference 'set print frame-info'.\n+\t(Print Settings): Document 'set|show print frame-info'.\n+\tDocument new 'presence' value for 'set print frame-arguments.\n+\n 2019-07-22  Andrew Burgess  <andrew.burgess@embecosm.com>\n \n \t* gdb.texinfo (Symbols): Add information about -q flag to \"info"
    },
    {
      "sha": "0fcd131f71e0961f4121248b078d0fea636538ae",
      "filename": "gdb/doc/gdb.texinfo",
      "status": "modified",
      "additions": 60,
      "deletions": 3,
      "changes": 63,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/bc4268a5d926c8f29e42d245322145dad131627f/gdb/doc/gdb.texinfo",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/bc4268a5d926c8f29e42d245322145dad131627f/gdb/doc/gdb.texinfo",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/gdb/doc/gdb.texinfo?ref=bc4268a5d926c8f29e42d245322145dad131627f",
      "patch": "@@ -7806,6 +7806,10 @@ Related setting: @ref{set print frame-arguments}.\n @item -raw-frame-arguments [@code{on}|@code{off}]\n Set whether to print frame arguments in raw form.\n Related setting: @ref{set print raw-frame-arguments}.\n+\n+@item -frame-info @code{auto}|@code{source-line}|@code{location}|@code{source-and-location}|@code{location-and-address}|@code{short-location}\n+Set printing of frame information.\n+Related setting: @ref{set print frame-info}.\n @end table\n \n The optional @var{qualifier} is maintained for backward compatibility.\n@@ -7870,6 +7874,8 @@ The value of parameter @code{data} in frame 1 has been replaced by\n only if it is a scalar (integer, pointer, enumeration, etc).  See command\n @kbd{set print frame-arguments} in @ref{Print Settings} for more details\n on how to configure the way function parameter values are printed.\n+The command @kbd{set print frame-info} (@pxref{Print Settings}) controls\n+what frame information is printed.\n \n @cindex optimized out, in backtrace\n @cindex function call arguments, optimized out\n@@ -10816,7 +10822,7 @@ If the number is 0, then the printing is unlimited.\n @cindex printing frame argument values\n @cindex print all frame argument values\n @cindex print frame argument values for scalars only\n-@cindex do not print frame argument values\n+@cindex do not print frame arguments\n This command allows to control how the values of arguments are printed\n when the debugger prints a frame (@pxref{Frames}).  The possible\n values are:\n@@ -10844,6 +10850,17 @@ is replaced by @code{@dots{}}.  In this case, the example above now becomes:\n #1  0x08048361 in call_me (i=@dots{}, s=@dots{}, ss=@dots{}, u=@dots{}, e=@dots{})\n   at frame-args.c:23\n @end smallexample\n+\n+@item presence\n+Only the presence of arguments is indicated by @code{@dots{}}.\n+The @code{@dots{}} are not printed for function without any arguments.\n+None of the argument names and values are printed.\n+In this case, the example above now becomes:\n+\n+@smallexample\n+#1  0x08048361 in call_me (@dots{}) at frame-args.c:23\n+@end smallexample\n+\n @end table\n \n By default, only scalar arguments are printed.  This command can be used\n@@ -10854,8 +10871,8 @@ information printed in each frame, making the backtrace more readable.\n Also, it improves performance when displaying Ada frames, because\n the computation of large arguments can sometimes be CPU-intensive,\n especially in large applications.  Setting @code{print frame-arguments}\n-to @code{scalars} (the default) or @code{none} avoids this computation,\n-thus speeding up the display of each Ada frame.\n+to @code{scalars} (the default), @code{none} or @code{presence} avoids\n+this computation, thus speeding up the display of each Ada frame.\n \n @item show print frame-arguments\n Show how the value of arguments should be displayed when printing a frame.\n@@ -10988,6 +11005,46 @@ entry resolution see @ref{set debug entry-values}.\n Show the method being used for printing of frame argument values at function\n entry.\n \n+@anchor{set print frame-info}\n+@item set print frame-info @var{value}\n+@kindex set print frame-info\n+@cindex printing frame information\n+@cindex frame information, printing\n+This command allows to control the information printed when\n+the debugger prints a frame.  See @ref{Frames}, @ref{Backtrace},\n+for a general explanation about frames and frame information.\n+Note that some other settings (such as @code{set print frame-arguments}\n+and @code{set print address}) are also influencing if and how some frame\n+information is displayed.  In particular, the frame program counter is never\n+printed if @code{set print address} is off.\n+\n+The possible values for @code{set print frame-info} are:\n+@table @code\n+@item short-location\n+Print the frame level, the program counter (if not at the\n+beginning of the location source line), the function, the function\n+arguments.\n+@item location\n+Same as @code{short-location} but also print the source file and source line\n+number.\n+@item location-and-address\n+Same as @code{location} but print the program counter even if located at the\n+beginning of the location source line.\n+@item source-line\n+Print the program counter (if not at the beginning of the location\n+source line), the line number and the source line.\n+@item source-and-location\n+Print what @code{location} and @code{source-line} are printing.\n+@item auto\n+The information printed for a frame is decided automatically\n+by the @value{GDBN} command that prints a frame.\n+For example, @code{frame} prints the information printed by\n+@code{source-and-location} while @code{stepi} will switch between\n+@code{source-line} and @code{source-and-location} depending on the program\n+counter.\n+The default value is @code{auto}.\n+@end table\n+\n @anchor{set print repeats}\n @item set print repeats @var{number-of-repeats}\n @itemx set print repeats unlimited"
    }
  ]
}