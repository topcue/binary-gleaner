{
  "sha": "c0d6a6e5828882040bbb55bafea6b188a18fc000",
  "node_id": "C_kwDOANOeidoAKGMwZDZhNmU1ODI4ODgyMDQwYmJiNTViYWZlYTZiMTg4YTE4ZmMwMDA",
  "commit": {
    "author": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-11-21T08:41:39Z"
    },
    "committer": {
      "name": "Mike Frysinger",
      "email": "vapier@gentoo.org",
      "date": "2021-11-27T00:48:05Z"
    },
    "message": "sim: testsuite: rework sim_init usage\n\nThe sim_init function was called by runtest for each test when --tool\nwas set to sim.  When we changed to --tool '' to collapse the testsuite\ndir, the init function was no longer called on every test.  However, it\nwas still being called explicitly by config/default.exp.  It's not clear\nwhy that explicit call ever existed since, in the past, it meant it was\nredundant.\n\nLets drop the single sim_init call in config/default.exp and move it out\nto all our tests.  This replicates the runtest behavior so we can setup\nvariables on a per-test basis which allows us to recollapse the sim_path\nlogic back.  We'll also leverage this in the future for toolchain setup.\n\nAlso add a few comments clarifying the overall runtime behavior.",
    "tree": {
      "sha": "d8cf4615c587d48caa174be280f30eb622d167b7",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/git/trees/d8cf4615c587d48caa174be280f30eb622d167b7"
    },
    "url": "https://api.github.com/repos/bminor/binutils-gdb/git/commits/c0d6a6e5828882040bbb55bafea6b188a18fc000",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/c0d6a6e5828882040bbb55bafea6b188a18fc000",
  "html_url": "https://github.com/bminor/binutils-gdb/commit/c0d6a6e5828882040bbb55bafea6b188a18fc000",
  "comments_url": "https://api.github.com/repos/bminor/binutils-gdb/commits/c0d6a6e5828882040bbb55bafea6b188a18fc000/comments",
  "author": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "vapier",
    "id": 176950,
    "node_id": "MDQ6VXNlcjE3Njk1MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176950?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vapier",
    "html_url": "https://github.com/vapier",
    "followers_url": "https://api.github.com/users/vapier/followers",
    "following_url": "https://api.github.com/users/vapier/following{/other_user}",
    "gists_url": "https://api.github.com/users/vapier/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vapier/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vapier/subscriptions",
    "organizations_url": "https://api.github.com/users/vapier/orgs",
    "repos_url": "https://api.github.com/users/vapier/repos",
    "events_url": "https://api.github.com/users/vapier/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vapier/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "4c721b266fdae6e2761cc122fac4cfb42932e295",
      "url": "https://api.github.com/repos/bminor/binutils-gdb/commits/4c721b266fdae6e2761cc122fac4cfb42932e295",
      "html_url": "https://github.com/bminor/binutils-gdb/commit/4c721b266fdae6e2761cc122fac4cfb42932e295"
    }
  ],
  "stats": {
    "total": 135,
    "additions": 109,
    "deletions": 26
  },
  "files": [
    {
      "sha": "402d7483f4f0a518c682988a12d8871bdfdc3f89",
      "filename": "sim/testsuite/aarch64/allinsn.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/aarch64/allinsn.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/aarch64/allinsn.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/aarch64/allinsn.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -1,5 +1,7 @@\n # AArch64 simulator testsuite\n \n+sim_init\n+\n if [istarget aarch64*-*] {\n     # all machines\n     set all_machs \"aarch64\""
    },
    {
      "sha": "ef41c955a64b5aae509578aa9686d65c85c243f8",
      "filename": "sim/testsuite/arm/allinsn.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/arm/allinsn.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/arm/allinsn.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/arm/allinsn.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -1,5 +1,7 @@\n # ARM simulator testsuite.\n \n+sim_init\n+\n if { [istarget arm*-*-*] } {\n     # all machines\n     set all_machs \"xscale\""
    },
    {
      "sha": "7283a4246b0047c1526ba33e60d7e6fae6bc4792",
      "filename": "sim/testsuite/arm/iwmmxt/iwmmxt.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/arm/iwmmxt/iwmmxt.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/arm/iwmmxt/iwmmxt.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/arm/iwmmxt/iwmmxt.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -1,5 +1,7 @@\n # Intel(r) Wireless MMX(tm) technology simulator testsuite.\n \n+sim_init\n+\n if { [istarget arm*-*-*] } {\n     # all machines\n     set all_machs \"xscale\""
    },
    {
      "sha": "0b939a6c56ff2bc25c6bd5202eaf57c9c4756b62",
      "filename": "sim/testsuite/arm/misc.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/arm/misc.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/arm/misc.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/arm/misc.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -1,5 +1,7 @@\n # Miscellaneous ARM simulator testcases\n \n+sim_init\n+\n if { [istarget arm*-*-*] } {\n     # all machines\n     set all_machs \"arm7tdmi\""
    },
    {
      "sha": "76aac93955579c4037db7456de434ad3dd8424aa",
      "filename": "sim/testsuite/arm/thumb/allthumb.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/arm/thumb/allthumb.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/arm/thumb/allthumb.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/arm/thumb/allthumb.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -1,5 +1,7 @@\n # ARM simulator testsuite.\n \n+sim_init\n+\n if { [istarget arm*-*-*] } {\n     # all machines\n     set all_machs \"arm7tdmi\""
    },
    {
      "sha": "17e99c3fd0272e749d1df14dfd1b5d73203bf843",
      "filename": "sim/testsuite/arm/xscale/xscale.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/arm/xscale/xscale.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/arm/xscale/xscale.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/arm/xscale/xscale.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -1,5 +1,7 @@\n # XSCALE simulator testsuite.\n \n+sim_init\n+\n if { [istarget arm*-*-*] } {\n     # all machines\n     set all_machs \"xscale\""
    },
    {
      "sha": "c82610c8e781bbf9195fe8f1d898403ef0b17845",
      "filename": "sim/testsuite/avr/allinsn.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/avr/allinsn.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/avr/allinsn.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/avr/allinsn.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -1,5 +1,7 @@\n # avr simulator testsuite\n \n+sim_init\n+\n if [istarget avr-*] {\n     # all machines\n     set all_machs \"avr\""
    },
    {
      "sha": "d5269dabd204845e7aeaff2e4e683cdfec9116d7",
      "filename": "sim/testsuite/bfin/allinsn.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/bfin/allinsn.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/bfin/allinsn.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/bfin/allinsn.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -1,5 +1,7 @@\n # Analog Devices Blackfin simulator testsuite\n \n+sim_init\n+\n if [istarget bfin-*-elf] {\n     # all machines\n     set all_machs \"bfin\""
    },
    {
      "sha": "4f81d4cee166001cbd9d8f5f51eedac912ae8dad",
      "filename": "sim/testsuite/bpf/allinsn.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/bpf/allinsn.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/bpf/allinsn.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/bpf/allinsn.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -1,5 +1,7 @@\n # eBPF simulator testsuite\n \n+sim_init\n+\n if [istarget bpf-unknown-none] {\n     # all machines\n     set all_machs \"bpf\""
    },
    {
      "sha": "d95b554c401f8256cbddb9646dc67feac9167926",
      "filename": "sim/testsuite/config/default.exp",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/config/default.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/config/default.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/config/default.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -1,5 +1,3 @@\n # Simulator default dejagnu configuration file.\n \n load_lib sim-defs.exp\n-\n-sim_init"
    },
    {
      "sha": "3f05fb974cf2adf264945945a2268a5024da42cc",
      "filename": "sim/testsuite/cr16/allinsn.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/cr16/allinsn.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/cr16/allinsn.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/cr16/allinsn.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -1,5 +1,7 @@\n # CR16 simulator testsuite.\n \n+sim_init\n+\n if [istarget cr16*-*-*] {\n     # all machines\n     set all_machs \"cr16\""
    },
    {
      "sha": "136b0e798da2f1a20e66389e3c83cb835fba2e77",
      "filename": "sim/testsuite/cr16/misc.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/cr16/misc.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/cr16/misc.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/cr16/misc.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -1,5 +1,7 @@\n # Miscellaneous CR16 simulator testcases\n \n+sim_init\n+\n if [istarget cr16*-*-*] {\n     # all machines\n     set all_machs \"cr16\""
    },
    {
      "sha": "d64d3526e4c8b0fb7d062e440ce80edaaf981880",
      "filename": "sim/testsuite/cris/asm/asm.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/cris/asm/asm.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/cris/asm/asm.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/cris/asm/asm.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -15,6 +15,8 @@\n \n # Miscellaneous CRIS simulator testcases in assembly code.\n \n+sim_init\n+\n if [istarget cris*-*-*] {\n     global ASFLAGS_FOR_TARGET\n     # All machines we test and the corresponding assembler option.  Needs"
    },
    {
      "sha": "08a085dd6fc3e5712d31297a51f18d655ff0987d",
      "filename": "sim/testsuite/cris/c/c.exp",
      "status": "modified",
      "additions": 4,
      "deletions": 1,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/cris/c/c.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/cris/c/c.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/cris/c/c.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -15,6 +15,8 @@\n \n # Miscellaneous CRIS simulator testcases testing syscall sequences.\n \n+sim_init\n+\n if ![istarget cris*-*-*] {\n     return\n }\n@@ -69,6 +71,7 @@ proc anytarget { targets } {\n     return 0\n }\n \n+global sim_path\n foreach src [lsort [glob -nocomplain $srcdir/$subdir/*.c]] {\n     set orig_ldflags \"\"\n \n@@ -94,7 +97,7 @@ foreach src [lsort [glob -nocomplain $srcdir/$subdir/*.c]] {\n \tcontinue\n     }\n \n-    if ![file exists [sim_tool_path]] {\n+    if ![file exists $sim_path] {\n \tuntested $testname\n \treturn 0\n     }"
    },
    {
      "sha": "7c136db95309adc9ff8ca17638e1605911c8d49e",
      "filename": "sim/testsuite/cris/hw/rv-n-cris/rvc.exp",
      "status": "modified",
      "additions": 4,
      "deletions": 1,
      "changes": 5,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/cris/hw/rv-n-cris/rvc.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/cris/hw/rv-n-cris/rvc.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/cris/hw/rv-n-cris/rvc.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -16,15 +16,18 @@\n # Miscellaneous CRIS simulator testcases in assembly code, testing\n # dv-rv.c and dv-cris.c functions.\n \n+sim_init\n+\n # Check whether dv-rv and dv-cris are present.\n \n proc sim_has_rv_and_cris {} {\n     global srcdir\n     global subdir\n     global objdir\n+    global sim_path\n     global SIMFLAGS_FOR_TARGET\n \n-    if ![file exists [sim_tool_path]] {\n+    if ![file exists $sim_path] {\n \treturn 0\n     }\n "
    },
    {
      "sha": "6e7619691dcafb87916cd0c518262e43e6bdcc08",
      "filename": "sim/testsuite/d10v/allinsn.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/d10v/allinsn.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/d10v/allinsn.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/d10v/allinsn.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -1,5 +1,7 @@\n # d10v simulator testsuite.\n \n+sim_init\n+\n if [istarget d10v*-*] {\n     # all machines\n     set all_machs \"d10v\""
    },
    {
      "sha": "2f1fc74d239eee7db47398b07e71cb8235843d7b",
      "filename": "sim/testsuite/example-synacor/allinsn.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/example-synacor/allinsn.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/example-synacor/allinsn.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/example-synacor/allinsn.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -1,5 +1,7 @@\n # Example synacor simulator testsuite.\n \n+sim_init\n+\n if [istarget *] {\n     # All machines.\n     set all_machs \"example\""
    },
    {
      "sha": "dea804109a405d74e84edafc5ecc82c649bd6248",
      "filename": "sim/testsuite/frv/allinsn.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/frv/allinsn.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/frv/allinsn.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/frv/allinsn.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -1,5 +1,7 @@\n # FRV simulator testsuite.\n \n+sim_init\n+\n if [istarget frv*-*] {\n     # all machines\n     set all_machs \"frv fr500 fr550 fr400 fr405 fr450\""
    },
    {
      "sha": "ed501e5400f21670ad6a5f964d4406bcebf2553f",
      "filename": "sim/testsuite/frv/fr400/allinsn.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/frv/fr400/allinsn.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/frv/fr400/allinsn.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/frv/fr400/allinsn.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -1,5 +1,7 @@\n # FRV simulator testsuite.\n \n+sim_init\n+\n if [istarget frv*-*] {\n     # all machines\n     set all_machs \"fr400 fr405 fr450 fr550\""
    },
    {
      "sha": "40d81d9e3f26ab18ca280f5d61f58fe24c673889",
      "filename": "sim/testsuite/frv/fr500/allinsn.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/frv/fr500/allinsn.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/frv/fr500/allinsn.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/frv/fr500/allinsn.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -1,5 +1,7 @@\n # FRV simulator testsuite.\n \n+sim_init\n+\n if [istarget frv*-*] {\n     # all machines\n     set all_machs \"frv fr500 fr550\""
    },
    {
      "sha": "91948beada40c1e1e360dc9bc9d9218c0199ce74",
      "filename": "sim/testsuite/frv/fr550/allinsn.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/frv/fr550/allinsn.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/frv/fr550/allinsn.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/frv/fr550/allinsn.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -1,5 +1,7 @@\n # FRV simulator testsuite.\n \n+sim_init\n+\n if [istarget frv*-*] {\n     # all machines\n     set all_machs \"fr550\""
    },
    {
      "sha": "38c2f410c106ebd47b417f97a95488bfad9cffcb",
      "filename": "sim/testsuite/frv/interrupts.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/frv/interrupts.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/frv/interrupts.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/frv/interrupts.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -1,5 +1,7 @@\n # FRV simulator testsuite.\n \n+sim_init\n+\n if [istarget frv*-*] {\n     # all machines\n     set all_machs \"frv fr500 fr550 fr400\""
    },
    {
      "sha": "2025935da8ca86a6fc722e2f8ef6af745ae28e73",
      "filename": "sim/testsuite/frv/misc.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/frv/misc.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/frv/misc.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/frv/misc.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -1,5 +1,7 @@\n # Miscellaneous FRV simulator testcases.\n \n+sim_init\n+\n if [istarget frv*-*] {\n     # all machines\n     set all_machs \"frv fr500 fr550 fr400 fr405 fr450\""
    },
    {
      "sha": "2fcc6529182bea00a63ef9b40d25fb9dcc4583a3",
      "filename": "sim/testsuite/frv/parallel.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/frv/parallel.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/frv/parallel.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/frv/parallel.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -1,5 +1,7 @@\n # FRV simulator testsuite.\n \n+sim_init\n+\n if [istarget frv*-*] {\n     # all machines\n     set all_machs \"frv fr500 fr550 fr400\""
    },
    {
      "sha": "6958f0612285252f9829dae223fcd65d9ec7de35",
      "filename": "sim/testsuite/ft32/allinsn.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/ft32/allinsn.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/ft32/allinsn.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/ft32/allinsn.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -1,5 +1,7 @@\n # ft32 simulator testsuite\n \n+sim_init\n+\n if [istarget ft32-*] {\n     # all machines\n     set all_machs \"ft32\""
    },
    {
      "sha": "df4d02aad364e51cc5b1bb0dbccf4ee15d8a79fb",
      "filename": "sim/testsuite/h8300/allinsn.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/h8300/allinsn.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/h8300/allinsn.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/h8300/allinsn.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -1,5 +1,7 @@\n # Hitachi H8/300 (h, s, sx) simulator testsuite\n \n+sim_init\n+\n if {[istarget h8300*-*-*] || [istarget h8sx*-*-*]} then {\n     set all_machs \"h8300 h8300h h8300s h8sx\"\n "
    },
    {
      "sha": "c6a83a0f75413a2117d1dd4b221ed1253d9e3ddc",
      "filename": "sim/testsuite/iq2000/allinsn.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/iq2000/allinsn.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/iq2000/allinsn.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/iq2000/allinsn.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -1,5 +1,7 @@\n # iq2000 simulator testsuite\n \n+sim_init\n+\n if [istarget iq2000-*] {\n     # all machines\n     set all_machs \"iq2000\""
    },
    {
      "sha": "46a8b3f21d8ae9bd8cf01e3887d6ea420208e731",
      "filename": "sim/testsuite/lib/sim-defs.exp",
      "status": "modified",
      "additions": 21,
      "deletions": 22,
      "changes": 43,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/lib/sim-defs.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/lib/sim-defs.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/lib/sim-defs.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -7,12 +7,22 @@\n set sim_path \"unknown-run\"\n \n # Initialize the testrun.\n-# Required by dejagnu.\n+#\n+# Normally dejagnu will execute ${tool}_init automatically, but since we set\n+# --tool '' (for a simpler testsuite/ layout), we have each test call this\n+# itself.\n \n proc sim_init { args } {\n+    global builddir\n+    global subdir\n     global sim_path\n-    set sim_path [board_info target sim]\n-    # Need to return an empty string (copied from GAS).\n+\n+    # Find the path to the simulator for executing.\n+    set arch \"$subdir\"\n+    while { [file dirname $arch] != \".\" } {\n+\tset arch [file dirname $arch]\n+    }\n+    set sim_path \"$builddir/$arch/run\"\n \n     # As gross as it is, we unset the linker script specified by the target\n     # board.  The simulator board file mips-sim.exp, sets ldscript to the\n@@ -23,6 +33,8 @@ proc sim_init { args } {\n     # all simulators.\n     unset_currtarget_info ldscript\n \n+    # Need to return an empty string.  This tells dejagnu to *not* re-run us\n+    # with the exact test that we're about to run.\n     return \"\"\n }\n \n@@ -35,22 +47,6 @@ proc sim_version {} {\n     clone_output \"$sim_path $version\\n\"\n }\n \n-# Find the path to the simulator for executing.\n-proc sim_tool_path {} {\n-    global sim_path\n-    set sim \"$sim_path\"\n-    if [string equal \"\" $sim] {\n-\tglobal builddir\n-\tglobal subdir\n-\tset arch \"$subdir\"\n-\twhile { [file dirname $arch] != \".\" } {\n-\t    set arch [file dirname $arch]\n-\t}\n-\treturn \"$builddir/$arch/run\"\n-    }\n-    return \"$sim\"\n-}\n-\n # Run a program on the simulator.\n # Required by dejagnu (at least ${tool}_run used to be).\n #\n@@ -73,6 +69,8 @@ proc sim_tool_path {} {\n # simulator (not the simulated program, the simulator) with sim_load.\n \n proc sim_run { prog sim_opts prog_opts redir options } {\n+    global sim_path\n+\n     # Set the default value of the timeout.\n     # FIXME: The timeout value we actually want is a function of\n     # host, target, and testcase.\n@@ -99,7 +97,7 @@ proc sim_run { prog sim_opts prog_opts redir options } {\n \t\n     verbose \"testcase timeout is set to $testcase_timeout\" 1\n \n-    set sim [sim_tool_path]\n+    set sim $sim_path\n \n     if [is_remote host] {\n \tset prog [remote_download host $prog]\n@@ -182,13 +180,14 @@ proc sim_run { prog sim_opts prog_opts redir options } {\n \n proc run_sim_test { name requested_machs } {\n     global subdir srcdir objdir\n+    global sim_path\n     global opts\n     global cpu_option\n     global cpu_option_sep\n     global SIMFLAGS_FOR_TARGET\n \n-    if ![file exists [sim_tool_path]] {\n-\tunsupported \"$name: missing simulator [sim_tool_path]\"\n+    if ![file exists $sim_path] {\n+\tunsupported \"$name: missing simulator $sim_path\"\n \treturn\n     }\n "
    },
    {
      "sha": "c3e70b223df8ec967213f08522b535f7238120cd",
      "filename": "sim/testsuite/lm32/allinsn.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/lm32/allinsn.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/lm32/allinsn.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/lm32/allinsn.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -1,5 +1,7 @@\n # lm32 simulator testsuite\n \n+sim_init\n+\n if [istarget lm32-*] {\n     # all machines\n     set all_machs \"lm32\""
    },
    {
      "sha": "045cc7e6bac3c8177cf1180c357b73587eb63020",
      "filename": "sim/testsuite/m32c/allinsn.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/m32c/allinsn.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/m32c/allinsn.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/m32c/allinsn.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -1,6 +1,8 @@\n # M32C simulator testsuite.\n # TODO: Add support for .c tests.\n \n+sim_init\n+\n if [istarget m32c*-*-*] {\n     # all machines\n     set all_machs \"m32c\""
    },
    {
      "sha": "146113458f35e4b7fa0a45a0a805ef4af32ca15b",
      "filename": "sim/testsuite/m32r/allinsn.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/m32r/allinsn.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/m32r/allinsn.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/m32r/allinsn.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -1,5 +1,7 @@\n # M32R simulator testsuite.\n \n+sim_init\n+\n if [istarget m32r*-*-*] {\n     # all machines\n     set all_machs \"m32r\""
    },
    {
      "sha": "d45e119c50966adc128f7842902fea1ce5b6eae4",
      "filename": "sim/testsuite/m32r/misc.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/m32r/misc.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/m32r/misc.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/m32r/misc.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -1,5 +1,7 @@\n # Miscellaneous M32R simulator testcases\n \n+sim_init\n+\n if [istarget m32r*-*-*] {\n     # all machines\n     set all_machs \"m32r\""
    },
    {
      "sha": "710af981064c4be764f06483276a014ff56aa855",
      "filename": "sim/testsuite/m68hc11/allinsn.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/m68hc11/allinsn.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/m68hc11/allinsn.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/m68hc11/allinsn.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -1,5 +1,7 @@\n # m68hc11 simulator testsuite\n \n+sim_init\n+\n if [istarget m68hc11-*] {\n     # all machines\n     set all_machs \"m68hc11\""
    },
    {
      "sha": "6463ac2ae85935c68c735d7fe1a307d20f9fb2c5",
      "filename": "sim/testsuite/mcore/allinsn.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/mcore/allinsn.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/mcore/allinsn.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/mcore/allinsn.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -1,5 +1,7 @@\n # mcore simulator testsuite\n \n+sim_init\n+\n if [istarget mcore-*] {\n     # all machines\n     set all_machs \"mcore\""
    },
    {
      "sha": "f3662c2939137368d37f90fe5732ae3cc16a7026",
      "filename": "sim/testsuite/microblaze/allinsn.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/microblaze/allinsn.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/microblaze/allinsn.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/microblaze/allinsn.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -1,5 +1,7 @@\n # microblaze simulator testsuite\n \n+sim_init\n+\n if [istarget microblaze-*] {\n     # all machines\n     set all_machs \"microblaze\""
    },
    {
      "sha": "150949283b40187012b15b1965364284d8b936b8",
      "filename": "sim/testsuite/mips/basic.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/mips/basic.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/mips/basic.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/mips/basic.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -1,5 +1,7 @@\n # MIPS simulator instruction tests\n \n+sim_init\n+\n # Do \"run_sim_test TESTFILE MODELS\" for each combination of the\n # mf{lo,hi} -> mult/div/mt{lo,hi} hazard described in mips.igen.\n # Insert NOPS nops after the mflo or mfhi."
    },
    {
      "sha": "2eaf249c98f022aa14d1f09452019f21b0cbe9d9",
      "filename": "sim/testsuite/mn10300/allinsn.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/mn10300/allinsn.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/mn10300/allinsn.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/mn10300/allinsn.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -1,5 +1,7 @@\n # mn10300 simulator testsuite\n \n+sim_init\n+\n if [istarget mn10300-*] {\n     # all machines\n     set all_machs \"mn10300\""
    },
    {
      "sha": "d534085921620c43f2b3bce7d41c8d7ed67c6fa9",
      "filename": "sim/testsuite/moxie/allinsn.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/moxie/allinsn.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/moxie/allinsn.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/moxie/allinsn.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -1,5 +1,7 @@\n # moxie simulator testsuite\n \n+sim_init\n+\n if [istarget moxie-*] {\n     # all machines\n     set all_machs \"moxie\""
    },
    {
      "sha": "c7da3c58713447cfa9c0f4ff7a1a12ebcd643950",
      "filename": "sim/testsuite/msp430/allinsn.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/msp430/allinsn.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/msp430/allinsn.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/msp430/allinsn.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -1,5 +1,7 @@\n # msp430 simulator testsuite\n \n+sim_init\n+\n if [istarget msp430-*] {\n     # all machines\n     set all_machs \"msp430\""
    },
    {
      "sha": "6f4238dbe7ec9d830c52e48f28d504c3573971c9",
      "filename": "sim/testsuite/or1k/alltests.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/or1k/alltests.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/or1k/alltests.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/or1k/alltests.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -15,6 +15,8 @@\n # You should have received a copy of the GNU General Public License\n # along with this program.  If not, see <http://www.gnu.org/licenses/>.\n \n+sim_init\n+\n if [istarget or1k*-*-*] {\n     set all_machs \"or1k\"\n "
    },
    {
      "sha": "b71a387d78266db5106081fba31fe24fd359a314",
      "filename": "sim/testsuite/pru/allinsn.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/pru/allinsn.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/pru/allinsn.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/pru/allinsn.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -18,6 +18,8 @@\n # You should have received a copy of the GNU General Public License\n # along with this program.  If not, see <http://www.gnu.org/licenses/>.\n \n+sim_init\n+\n if [istarget pru-*] {\n     # all machines\n     set all_machs \"pru\""
    },
    {
      "sha": "bdf92993f0585fd7a8698908dabc763c574a1239",
      "filename": "sim/testsuite/riscv/allinsn.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/riscv/allinsn.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/riscv/allinsn.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/riscv/allinsn.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -1,5 +1,7 @@\n # RISC-V simulator testsuite.\n \n+sim_init\n+\n if [istarget riscv*-*] {\n     # all machines\n     set all_machs \"riscv\""
    },
    {
      "sha": "ceed950490e2a54a8fe127d6c8c3dae16c886934",
      "filename": "sim/testsuite/sh/allinsn.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/sh/allinsn.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/sh/allinsn.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/sh/allinsn.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -1,5 +1,7 @@\n # sh tests\n \n+sim_init\n+\n set all_machs \"sh shdsp\"\n \n global ASFLAGS_FOR_TARGET"
    },
    {
      "sha": "c4c15b066f81e5fe040604da86e40685efe0ac0b",
      "filename": "sim/testsuite/v850/allinsns.exp",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/bminor/binutils-gdb/blob/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/v850/allinsns.exp",
      "raw_url": "https://github.com/bminor/binutils-gdb/raw/c0d6a6e5828882040bbb55bafea6b188a18fc000/sim/testsuite/v850/allinsns.exp",
      "contents_url": "https://api.github.com/repos/bminor/binutils-gdb/contents/sim/testsuite/v850/allinsns.exp?ref=c0d6a6e5828882040bbb55bafea6b188a18fc000",
      "patch": "@@ -1,5 +1,7 @@\n # v850 simulator testsuite.\n \n+sim_init\n+\n if [istarget v850*-*] {\n     # All machines.\n     # Should add more cpus if the testsuite adds coverage for their insns, but"
    }
  ]
}